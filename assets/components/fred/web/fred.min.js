(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("Fred", [], factory);
	else if(typeof exports === 'object')
		exports["Fred"] = factory();
	else
		root["Fred"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Sidebar = __webpack_require__(3);\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _Launcher = __webpack_require__(117);\n\nvar _Launcher2 = _interopRequireDefault(_Launcher);\n\nvar _Drake = __webpack_require__(22);\n\nvar _Drake2 = _interopRequireDefault(_Drake);\n\nvar _libs = __webpack_require__(118);\n\nvar _libs2 = _interopRequireDefault(_libs);\n\nvar _Editor = __webpack_require__(9);\n\nvar _Editor2 = _interopRequireDefault(_Editor);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Finder = __webpack_require__(19);\n\nvar _Finder2 = _interopRequireDefault(_Finder);\n\nvar _mousetrap = __webpack_require__(43);\n\nvar _mousetrap2 = _interopRequireDefault(_mousetrap);\n\nvar _mousetrapGlobalBind = __webpack_require__(119);\n\nvar _mousetrapGlobalBind2 = _interopRequireDefault(_mousetrapGlobalBind);\n\nvar _Utils = __webpack_require__(20);\n\nvar _UtilitySidebar = __webpack_require__(47);\n\nvar _UtilitySidebar2 = _interopRequireDefault(_UtilitySidebar);\n\nvar _fred = __webpack_require__(120);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Fred = function () {\n    function Fred() {\n        var _this = this;\n\n        var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Fred);\n\n        _Config2.default.config = config || {};\n        _Config2.default.fred = this;\n        this.loading = null;\n        this.wrapper = null;\n        this.fingerprint = '';\n\n        this.libs = _libs2.default;\n        this.Finder = _Finder2.default;\n        this.previewDocument = null;\n        this.replaceScript = this.replaceScript.bind(this);\n        this.scriptsToReplace = [];\n\n        var lexiconsLoaded = this.loadLexicons();\n\n        document.addEventListener(\"DOMContentLoaded\", function () {\n            var scripts = document.body.querySelectorAll('script-fred');\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = scripts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var script = _step.value;\n\n                    var newScript = document.createElement('script');\n\n                    for (var _i = 0; _i < script.attributes.length; _i++) {\n                        newScript.setAttribute(script.attributes[_i].name, script.attributes[_i].value);\n                    }\n\n                    if (script.dataset.fredScript) {\n                        newScript.innerHTML = script.dataset.fredScript;\n                    }\n\n                    _this.scriptsToReplace.push({ old: script, 'new': newScript });\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            lexiconsLoaded.then(function () {\n                _this.init();\n            });\n        });\n    }\n\n    _createClass(Fred, [{\n        key: 'render',\n        value: function render() {\n            this.wrapper = (0, _Elements.div)(['fred']);\n\n            document.body.appendChild(this.wrapper);\n        }\n    }, {\n        key: 'renderPreview',\n        value: function renderPreview() {\n            var _this2 = this;\n\n            var previewWrapper = (0, _Elements.div)(['fred--content-preview']);\n            previewWrapper.style.display = 'none';\n\n            this.iframe = (0, _Elements.iFrame)('#');\n            this.iframe.style.width = '100%';\n            this.iframe.style.height = '100%';\n\n            this.controls = (0, _Elements.div)(['fred--content-preview_controls']);\n\n            this.devices = (0, _Elements.div)(['fred--devices']);\n\n            this.tabletP = (0, _Elements.a)('<span>' + _Config2.default.lng('fred.fe.preview.tablet_portrait') + '</span>', _Config2.default.lng('fred.fe.preview.tablet_portrait'), '', ['fred--tablet-portrait'], function () {\n                _this2.iframe.style.width = '768px';\n                _this2.iframe.style.height = '1024px';\n            });\n\n            this.devices.appendChild(this.tabletP);\n\n            this.tabletL = (0, _Elements.a)('<span>' + _Config2.default.lng('fred.fe.preview.tablet_landscape') + '</span>', _Config2.default.lng('fred.fe.preview.tablet_landscape'), '', ['fred--tablet-landscape'], function () {\n                _this2.iframe.style.width = '1024px';\n                _this2.iframe.style.height = '768px';\n            });\n\n            this.devices.appendChild(this.tabletL);\n\n            this.phoneP = (0, _Elements.a)('<span>' + _Config2.default.lng('fred.fe.preview.phone_portrait') + '</span>', _Config2.default.lng('fred.fe.preview.phone_portrait'), '', ['fred--smartphone-portrait'], function () {\n                _this2.iframe.style.width = '320px';\n                _this2.iframe.style.height = '480px';\n            });\n\n            this.devices.appendChild(this.phoneP);\n\n            this.phoneL = (0, _Elements.a)('<span>' + _Config2.default.lng('fred.fe.preview.phone_landscape') + '</span>', _Config2.default.lng('fred.fe.preview.phone_landscape'), '', ['fred--smartphone-landscape'], function () {\n                _this2.iframe.style.width = '480px';\n                _this2.iframe.style.height = '320px';\n            });\n\n            this.devices.appendChild(this.phoneL);\n\n            this.auto = (0, _Elements.a)('<span>' + _Config2.default.lng('fred.fe.preview.auto') + '</span>', _Config2.default.lng('fred.fe.preview.auto'), '', ['fred--auto'], function () {\n                _this2.iframe.style.width = '100%';\n                _this2.iframe.style.height = '100%';\n            });\n\n            this.devices.appendChild(this.auto);\n\n            this.controls.appendChild(this.devices);\n\n            previewWrapper.append(this.controls);\n\n            previewWrapper.appendChild(this.iframe);\n\n            this.wrapper.insertBefore(previewWrapper, this.wrapper.firstChild);\n        }\n    }, {\n        key: 'previewContent',\n        value: function previewContent() {\n            var _this3 = this;\n\n            if (!this.previewDocument) {\n                this.renderPreview();\n                this.iframe.src = _Config2.default.config.resource.emptyUrl;\n\n                (0, _fred.getPreview)().then(function (text) {\n                    var parser = new DOMParser();\n                    _this3.previewDocument = parser.parseFromString(text, 'text/html');\n                    _this3.getPreviewContent();\n                });\n            } else {\n                this.getPreviewContent();\n            }\n        }\n    }, {\n        key: 'getPreviewContent',\n        value: function getPreviewContent() {\n            var _this4 = this;\n\n            var promises = [];\n\n            var _loop = function _loop(_i2) {\n                promises.push(_this4.getCleanDropZoneContent(_this4.dropzones[_i2], true, false).then(function (content) {\n                    var dz = _this4.previewDocument.querySelector('[data-fred-dropzone=\"' + _this4.dropzones[_i2].dataset.fredDropzone + '\"]');\n                    if (dz) {\n                        dz.innerHTML = content;\n                    }\n                }));\n            };\n\n            for (var _i2 = 0; _i2 < this.dropzones.length; _i2++) {\n                _loop(_i2);\n            }\n\n            Promise.all(promises).then(function () {\n                _this4.iframe.contentWindow.document.open();\n                _this4.iframe.contentWindow.document.write(_this4.previewDocument.documentElement.innerHTML);\n                _this4.iframe.contentWindow.document.close();\n                _this4.iframe.parentNode.style.display = 'block';\n            });\n        }\n    }, {\n        key: 'renderComponents',\n        value: function renderComponents() {\n            new _Launcher2.default(_Config2.default.config.launcherPosition || 'bottom_left');\n            new _Sidebar2.default(this.wrapper);\n            _UtilitySidebar2.default.render();\n        }\n    }, {\n        key: 'getDataFromDropZone',\n        value: function getDataFromDropZone(dropZone) {\n            var data = [];\n\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = dropZone.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var child = _step2.value;\n\n                    data.push(child.fredEl.getContent());\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            return data;\n        }\n    }, {\n        key: 'getCleanDropZoneContent',\n        value: function getCleanDropZoneContent(dropZone) {\n            var parseModx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var handleLinks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            var cleanedContent = '';\n\n            var promises = [];\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = dropZone.children[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var child = _step3.value;\n\n                    promises.push(child.fredEl.cleanRender(parseModx, handleLinks));\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            return Promise.all(promises).then(function (values) {\n                values.forEach(function (el) {\n                    cleanedContent += el.innerHTML;\n                });\n\n                return cleanedContent;\n            });\n        }\n    }, {\n        key: 'save',\n        value: function save() {\n            var _this5 = this;\n\n            if (!_Config2.default.config.permission.save) {\n                alert(_Config2.default.lng('fred.fe.permission.save'));\n                return;\n            }\n\n            _EE2.default.emit('fred-loading', _Config2.default.lng('fred.fe.saving_page'));\n            var body = {};\n            var data = {};\n\n            var promises = [];\n\n            var _loop2 = function _loop2(_i3) {\n                data[_this5.dropzones[_i3].dataset.fredDropzone] = _this5.getDataFromDropZone(_this5.dropzones[_i3]);\n\n                var targets = _this5.dropzones[_i3].querySelectorAll('[data-fred-target]:not([data-fred-target=\"\"])');\n                var _iteratorNormalCompletion4 = true;\n                var _didIteratorError4 = false;\n                var _iteratorError4 = undefined;\n\n                try {\n                    for (var _iterator4 = targets[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                        var target = _step4.value;\n\n                        if (!_Config2.default.pageSettings.hasOwnProperty(target.dataset.fredTarget)) {\n                            body[target.dataset.fredTarget] = target.innerHTML;\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                            _iterator4.return();\n                        }\n                    } finally {\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n\n                promises.push(_this5.getCleanDropZoneContent(_this5.dropzones[_i3]).then(function (content) {\n                    body[_this5.dropzones[_i3].dataset.fredDropzone] = content;\n                }));\n            };\n\n            for (var _i3 = 0; _i3 < this.dropzones.length; _i3++) {\n                _loop2(_i3);\n            }\n\n            body.id = _Config2.default.config.resource.id;\n            body.data = data;\n            body.pageSettings = _Config2.default.pageSettings;\n            body.fingerprint = this.fingerprint;\n\n            Promise.all(promises).then(function () {\n                (0, _fred.saveContent)(body).then(function (json) {\n                    if (json.url) {\n                        location.href = json.url;\n                    }\n\n                    if (json.fingerprint) {\n                        _this5.fingerprint = json.fingerprint;\n                    }\n\n                    _EE2.default.emit('fred-loading-hide');\n                }).catch(function (err) {\n                    if (err.response) {\n                        console.error(err.response.message);\n                        alert(err.response.message);\n                    }\n\n                    _EE2.default.emit('fred-loading-hide');\n                });\n            });\n        }\n    }, {\n        key: 'loadContent',\n        value: function loadContent() {\n            var _this6 = this;\n\n            _EE2.default.emit('fred-loading', _Config2.default.lng('fred.fe.preparing_content'));\n\n            return (0, _fred.fetchContent)().then(function (json) {\n                if (json.data.pageSettings.tagger && Array.isArray(json.data.pageSettings.tagger)) json.data.pageSettings.tagger = {};\n\n                _this6.fingerprint = json.data.fingerprint || '';\n                _Config2.default.pageSettings = json.data.pageSettings || {};\n                _Config2.default.tagger = json.data.tagger || {};\n\n                (0, _Utils.loadElements)(json.data).then(function () {\n                    _Drake2.default.reloadContainers();\n\n                    _EE2.default.emit('fred-loading-hide');\n                });\n            });\n        }\n    }, {\n        key: 'registerListeners',\n        value: function registerListeners() {\n            var _this7 = this;\n\n            _EE2.default.on('fred-save', function () {\n                _this7.save();\n            });\n\n            _EE2.default.on('fred-wrapper-insert', function (el) {\n                _this7.wrapper.appendChild(el);\n            });\n\n            _EE2.default.on('fred-loading', function (text) {\n                if (_this7.loading !== null) return;\n\n                text = text || '';\n\n                _this7.loading = (0, _Elements.section)(['fred--modal-bg', 'fred--modal_loading']);\n                _this7.loading.innerHTML = '<div class=\"fred--modal\" aria-hidden=\"false\"><div style=\"color:white;text-align:center;\"><span class=\"fred--loading\"></span> ' + text + '</div></div>';\n\n                _this7.wrapper.appendChild(_this7.loading);\n            });\n\n            _EE2.default.on('fred-loading-hide', function () {\n                if (_this7.loading !== null) {\n                    _this7.loading.remove();\n                    _this7.loading = null;\n                }\n            });\n\n            _EE2.default.on('fred-page-setting-change', function (settingName, settingValue, sourceEl) {\n                _this7.dropzones.forEach(function (dz) {\n                    var targets = dz.querySelectorAll('[data-fred-target=\"' + settingName + '\"');\n                    var _iteratorNormalCompletion5 = true;\n                    var _didIteratorError5 = false;\n                    var _iteratorError5 = undefined;\n\n                    try {\n                        for (var _iterator5 = targets[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                            var target = _step5.value;\n\n                            if (target !== sourceEl) {\n                                target.fredEl.setElValue(target, settingValue);\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError5 = true;\n                        _iteratorError5 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                                _iterator5.return();\n                            }\n                        } finally {\n                            if (_didIteratorError5) {\n                                throw _iteratorError5;\n                            }\n                        }\n                    }\n                });\n            });\n\n            _EE2.default.on('fred-preview-on', function () {\n                _this7.previewContent();\n            });\n\n            _EE2.default.on('fred-preview-off', function () {\n                _this7.iframe.parentNode.style.display = 'none';\n            });\n\n            _EE2.default.on('fred-open-manager', function () {\n                _this7.openManager();\n            });\n\n            _EE2.default.on('fred-logout-user', function () {\n                _this7.logoutUser();\n            });\n        }\n    }, {\n        key: 'registerKeyboardShortcuts',\n        value: function registerKeyboardShortcuts() {\n            _mousetrap2.default.bindGlobal('mod+s', function (e) {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                }\n\n                _EE2.default.emit('fred-save');\n            });\n\n            _mousetrap2.default.bind('up up down down left right left right b a enter', function () {\n                (function () {\n                    function c() {\n                        var e = document.createElement(\"link\");e.setAttribute(\"type\", \"text/css\");e.setAttribute(\"rel\", \"stylesheet\");e.setAttribute(\"href\", f);e.setAttribute(\"class\", l);document.body.appendChild(e);\n                    }function h() {\n                        var e = document.getElementsByClassName(l);for (var t = 0; t < e.length; t++) {\n                            document.body.removeChild(e[t]);\n                        }\n                    }function p() {\n                        var e = document.createElement(\"div\");e.setAttribute(\"class\", a);document.body.appendChild(e);setTimeout(function () {\n                            document.body.removeChild(e);\n                        }, 100);\n                    }function d(e) {\n                        return { height: e.offsetHeight, width: e.offsetWidth };\n                    }function v(i) {\n                        var s = d(i);return s.height > e && s.height < n && s.width > t && s.width < r;\n                    }function m(e) {\n                        var t = e;var n = 0;while (!!t) {\n                            n += t.offsetTop;t = t.offsetParent;\n                        }return n;\n                    }function g() {\n                        var e = document.documentElement;if (!!window.innerWidth) {\n                            return window.innerHeight;\n                        } else if (e && !isNaN(e.clientHeight)) {\n                            return e.clientHeight;\n                        }return 0;\n                    }function y() {\n                        if (window.pageYOffset) {\n                            return window.pageYOffset;\n                        }return Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n                    }function E(e) {\n                        var t = m(e);return t >= w && t <= b + w;\n                    }function S() {\n                        var e = document.createElement(\"audio\");e.setAttribute(\"class\", l);e.src = i;e.loop = false;e.addEventListener(\"canplay\", function () {\n                            setTimeout(function () {\n                                x(k);\n                            }, 500);setTimeout(function () {\n                                N();p();for (var e = 0; e < O.length; e++) {\n                                    T(O[e]);\n                                }\n                            }, 15500);\n                        }, true);e.addEventListener(\"ended\", function () {\n                            N();h();\n                        }, true);e.innerHTML = \" <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>\";document.body.appendChild(e);e.play();\n                    }function x(e) {\n                        e.className += \" \" + s + \" \" + o;\n                    }function T(e) {\n                        e.className += \" \" + s + \" \" + u[Math.floor(Math.random() * u.length)];\n                    }function N() {\n                        var e = document.getElementsByClassName(s);var t = new RegExp(\"\\\\b\" + s + \"\\\\b\");for (var n = 0; n < e.length;) {\n                            e[n].className = e[n].className.replace(t, \"\");\n                        }\n                    }var e = 30;var t = 30;var n = 350;var r = 350;var i = \"//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3\";var s = \"mw-harlem_shake_me\";var o = \"im_first\";var u = [\"im_drunk\", \"im_baked\", \"im_trippin\", \"im_blown\"];var a = \"mw-strobe_light\";var f = \"//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css\";var l = \"mw_added_css\";var b = g();var w = y();var C = document.getElementsByTagName(\"*\");var k = null;for (var L = 0; L < C.length; L++) {\n                        var A = C[L];if (v(A)) {\n                            if (E(A)) {\n                                k = A;break;\n                            }\n                        }\n                    }if (A === null) {\n                        console.warn(\"Could not find a node of the right size. Please try a different page.\");return;\n                    }c();S();var O = [];for (var L = 0; L < C.length; L++) {\n                        var A = C[L];if (v(A)) {\n                            O.push(A);\n                        }\n                    }\n                })();\n            });\n        }\n    }, {\n        key: 'registerEditor',\n        value: function registerEditor(name, initFn) {\n            if (typeof initFn !== 'function') {\n                console.log('initFn has to be a functions');\n                return false;\n            }\n\n            var editor = initFn(_Editor2.default, this);\n\n            return _Config2.default.registerEditor(name, editor);\n        }\n    }, {\n        key: 'registerRTE',\n        value: function registerRTE(name, initFn) {\n            if (typeof initFn !== 'function') {\n                console.log('initFn has to be a functions');\n                return false;\n            }\n\n            var rteInit = initFn(this, _Config2.default);\n\n            return _Config2.default.registerRTE(name, rteInit);\n        }\n    }, {\n        key: 'loadLexicons',\n        value: function loadLexicons() {\n            var topics = '';\n            if (_Config2.default.config.lexicons && Array.isArray(_Config2.default.config.lexicons)) {\n                topics = '&topics=' + _Config2.default.config.lexicons.join(',');\n            }\n            return (0, _fred.fetchLexicons)(topics).then(function (json) {\n                _Config2.default.lang = json.data;\n                return true;\n            });\n        }\n    }, {\n        key: 'init',\n        value: function init() {\n            var _this8 = this;\n\n            this.registerListeners();\n            this.registerKeyboardShortcuts();\n\n            this.dropzones = document.querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=\"\"])');\n            var registeredDropzones = [];\n\n            for (var zoneIndex = 0; zoneIndex < this.dropzones.length; zoneIndex++) {\n                if (registeredDropzones.indexOf(this.dropzones[zoneIndex].dataset.fredDropzone) != -1) {\n                    console.error('There are several dropzones with same name: ' + this.dropzones[zoneIndex].dataset.fredDropzone + '. The name of each dropzone has to be unique.');\n                    return false;\n                }\n\n                registeredDropzones.push(this.dropzones[zoneIndex].dataset.fredDropzone);\n            }\n\n            if (typeof _Config2.default.config.beforeRender === 'function') {\n                _Config2.default.config.beforeRender = _Config2.default.config.beforeRender.bind(this);\n                _Config2.default.config.beforeRender();\n            }\n\n            this.render();\n            _Drake2.default.initDrake();\n\n            this.loadContent().then(function () {\n                if (_this8.scriptsToReplace[0]) {\n                    _this8.replaceScript(0);\n                }\n\n                _this8.renderComponents();\n            });\n        }\n    }, {\n        key: 'replaceScript',\n        value: function replaceScript(index) {\n            var _this9 = this;\n\n            var next = index + 1;\n\n            if (this.scriptsToReplace[index].new.src) {\n                this.scriptsToReplace[index].new.addEventListener('load', function () {\n                    if (_this9.scriptsToReplace[next]) {\n                        _this9.replaceScript(next);\n                    }\n                });\n\n                this.scriptsToReplace[index].old.parentElement.replaceChild(this.scriptsToReplace[index].new, this.scriptsToReplace[index].old);\n                return;\n            }\n\n            this.scriptsToReplace[index].old.parentElement.replaceChild(this.scriptsToReplace[index].new, this.scriptsToReplace[index].old);\n\n            if (this.scriptsToReplace[next]) {\n                this.replaceScript(next);\n            }\n        }\n    }, {\n        key: 'getContent',\n        value: function getContent() {\n            var data = {};\n\n            for (var _i4 = 0; _i4 < this.dropzones.length; _i4++) {\n                data[this.dropzones[_i4].dataset.fredDropzone] = this.getDataFromDropZone(this.dropzones[_i4]);\n            }\n\n            return data;\n        }\n    }, {\n        key: 'openManager',\n        value: function openManager() {\n            var url = _Config2.default.config.managerUrl + '?a=resource/update&id=' + _Config2.default.config.resource.id;\n            window.open(url, '_blank');\n        }\n    }, {\n        key: 'logoutUser',\n        value: function logoutUser() {\n            console.log('Goodbye!');\n            var url = _Config2.default.config.managerUrl + '?a=security/logout';\n            document.location.href = url;\n        }\n    }]);\n\n    return Fred;\n}();\n\nexports.default = Fred;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL2luZGV4LmpzP2FlNzkiXSwibmFtZXMiOlsiRnJlZCIsImNvbmZpZyIsImZyZWQiLCJsb2FkaW5nIiwid3JhcHBlciIsImZpbmdlcnByaW50IiwibGlicyIsIkZpbmRlciIsInByZXZpZXdEb2N1bWVudCIsInJlcGxhY2VTY3JpcHQiLCJiaW5kIiwic2NyaXB0c1RvUmVwbGFjZSIsImxleGljb25zTG9hZGVkIiwibG9hZExleGljb25zIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2NyaXB0cyIsImJvZHkiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2NyaXB0IiwibmV3U2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsImkiLCJhdHRyaWJ1dGVzIiwibGVuZ3RoIiwic2V0QXR0cmlidXRlIiwibmFtZSIsInZhbHVlIiwiZGF0YXNldCIsImZyZWRTY3JpcHQiLCJpbm5lckhUTUwiLCJwdXNoIiwib2xkIiwidGhlbiIsImluaXQiLCJhcHBlbmRDaGlsZCIsInByZXZpZXdXcmFwcGVyIiwic3R5bGUiLCJkaXNwbGF5IiwiaWZyYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJjb250cm9scyIsImRldmljZXMiLCJ0YWJsZXRQIiwibG5nIiwidGFibGV0TCIsInBob25lUCIsInBob25lTCIsImF1dG8iLCJhcHBlbmQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwicmVuZGVyUHJldmlldyIsInNyYyIsInJlc291cmNlIiwiZW1wdHlVcmwiLCJwYXJzZXIiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJ0ZXh0IiwiZ2V0UHJldmlld0NvbnRlbnQiLCJwcm9taXNlcyIsImdldENsZWFuRHJvcFpvbmVDb250ZW50IiwiZHJvcHpvbmVzIiwiZHoiLCJxdWVyeVNlbGVjdG9yIiwiZnJlZERyb3B6b25lIiwiY29udGVudCIsIlByb21pc2UiLCJhbGwiLCJjb250ZW50V2luZG93Iiwib3BlbiIsIndyaXRlIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xvc2UiLCJwYXJlbnROb2RlIiwibGF1bmNoZXJQb3NpdGlvbiIsInJlbmRlciIsImRyb3Bab25lIiwiZGF0YSIsImNoaWxkcmVuIiwiY2hpbGQiLCJmcmVkRWwiLCJnZXRDb250ZW50IiwicGFyc2VNb2R4IiwiaGFuZGxlTGlua3MiLCJjbGVhbmVkQ29udGVudCIsImNsZWFuUmVuZGVyIiwidmFsdWVzIiwiZm9yRWFjaCIsImVsIiwicGVybWlzc2lvbiIsInNhdmUiLCJhbGVydCIsImVtaXQiLCJnZXREYXRhRnJvbURyb3Bab25lIiwidGFyZ2V0cyIsInRhcmdldCIsInBhZ2VTZXR0aW5ncyIsImhhc093blByb3BlcnR5IiwiZnJlZFRhcmdldCIsImlkIiwianNvbiIsInVybCIsImxvY2F0aW9uIiwiaHJlZiIsImNhdGNoIiwiZXJyIiwicmVzcG9uc2UiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwidGFnZ2VyIiwiQXJyYXkiLCJpc0FycmF5IiwicmVsb2FkQ29udGFpbmVycyIsIm9uIiwicmVtb3ZlIiwic2V0dGluZ05hbWUiLCJzZXR0aW5nVmFsdWUiLCJzb3VyY2VFbCIsInNldEVsVmFsdWUiLCJwcmV2aWV3Q29udGVudCIsIm9wZW5NYW5hZ2VyIiwibG9nb3V0VXNlciIsImJpbmRHbG9iYWwiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImMiLCJmIiwibCIsImgiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidCIsInJlbW92ZUNoaWxkIiwicCIsImEiLCJzZXRUaW1lb3V0IiwiZCIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwidiIsInMiLCJuIiwiciIsIm0iLCJvZmZzZXRUb3AiLCJvZmZzZXRQYXJlbnQiLCJnIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaXNOYU4iLCJjbGllbnRIZWlnaHQiLCJ5IiwicGFnZVlPZmZzZXQiLCJNYXRoIiwibWF4Iiwic2Nyb2xsVG9wIiwiRSIsInciLCJiIiwiUyIsImxvb3AiLCJ4IiwiayIsIk4iLCJPIiwiVCIsInBsYXkiLCJjbGFzc05hbWUiLCJvIiwidSIsImZsb29yIiwicmFuZG9tIiwiUmVnRXhwIiwicmVwbGFjZSIsIkMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkwiLCJBIiwid2FybiIsImluaXRGbiIsImxvZyIsImVkaXRvciIsInJlZ2lzdGVyRWRpdG9yIiwicnRlSW5pdCIsInJlZ2lzdGVyUlRFIiwidG9waWNzIiwibGV4aWNvbnMiLCJqb2luIiwibGFuZyIsInJlZ2lzdGVyTGlzdGVuZXJzIiwicmVnaXN0ZXJLZXlib2FyZFNob3J0Y3V0cyIsInJlZ2lzdGVyZWREcm9wem9uZXMiLCJ6b25lSW5kZXgiLCJpbmRleE9mIiwiYmVmb3JlUmVuZGVyIiwiaW5pdERyYWtlIiwibG9hZENvbnRlbnQiLCJyZW5kZXJDb21wb25lbnRzIiwiaW5kZXgiLCJuZXh0IiwibmV3IiwicGFyZW50RWxlbWVudCIsInJlcGxhY2VDaGlsZCIsIm1hbmFnZXJVcmwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7Ozs7SUFFcUJBLEk7QUFDakIsb0JBQXlCO0FBQUE7O0FBQUEsWUFBYkMsTUFBYSx1RUFBSixFQUFJOztBQUFBOztBQUNyQix5QkFBV0EsTUFBWCxHQUFvQkEsVUFBVSxFQUE5QjtBQUNBLHlCQUFXQyxJQUFYLEdBQWtCLElBQWxCO0FBQ0EsYUFBS0MsT0FBTCxHQUFlLElBQWY7QUFDQSxhQUFLQyxPQUFMLEdBQWUsSUFBZjtBQUNBLGFBQUtDLFdBQUwsR0FBbUIsRUFBbkI7O0FBRUEsYUFBS0MsSUFBTDtBQUNBLGFBQUtDLE1BQUw7QUFDQSxhQUFLQyxlQUFMLEdBQXVCLElBQXZCO0FBQ0EsYUFBS0MsYUFBTCxHQUFxQixLQUFLQSxhQUFMLENBQW1CQyxJQUFuQixD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QXNCZ00sS0FBdEIsRUFBNkIzSyxHQUEzSDs7QUFFQSxnQkFBSSxLQUFLckIsZ0JBQUwsQ0FBc0JpTSxJQUF0QixDQUFKLEVBQWlDO0FBQzdCLHFCQUFLbk0sYUFBTCxDQUFtQm1NLElBQW5CO0FBQ0g7QUFDSjs7O3FDQUVZO0FBQ1QsZ0JBQU01SCxPQUFPLEVBQWI7O0FBRUEsaUJBQUssSUFBSTFELE1BQUksQ0FBYixFQUFnQkEsTUFBSSxLQUFLMEMsU0FBTCxDQUFleEMsTUFBbkMsRUFBMkNGLEtBQTNDLEVBQWdEO0FBQzVDMEQscUJBQUssS0FBS2hCLFNBQUwsQ0FBZTFDLEdBQWYsRUFBa0JNLE9BQWxCLENBQTBCdUMsWUFBL0IsSUFBK0MsS0FBSzZCLG1CQUFMLENBQXlCLEtBQUtoQyxTQUFMLENBQWUxQyxHQUFmLENBQXpCLENBQS9DO0FBQ0g7O0FBRUQsbUJBQU8wRCxJQUFQO0FBQ0g7OztzQ0FFYTtBQUNWLGdCQUFNd0IsTUFBTSxpQkFBV3ZHLE1BQVgsQ0FBa0IrTSxVQUFsQixHQUErQix3QkFBL0IsR0FBMEQsaUJBQVcvTSxNQUFYLENBQWtCc0QsUUFBbEIsQ0FBMkIrQyxFQUFqRztBQUNBaUQsbUJBQU8vRSxJQUFQLENBQVlnQyxHQUFaLEVBQWlCLFFBQWpCO0FBQ0g7OztxQ0FFWTtBQUNUTSxvQkFBUTJFLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsZ0JBQU1qRixNQUFNLGlCQUFXdkcsTUFBWCxDQUFrQitNLFVBQWxCLEdBQStCLG9CQUEzQztBQUNBbE0scUJBQVMyRixRQUFULENBQWtCQyxJQUFsQixHQUF5QkYsR0FBekI7QUFDSDs7Ozs7O2tCQXBhZ0J4RyxJIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW1pdHRlciBmcm9tICcuL0VFJztcbmltcG9ydCBTaWRlYmFyIGZyb20gJy4vU2lkZWJhci9TaWRlYmFyJztcbmltcG9ydCBMYXVuY2hlciBmcm9tICcuL0xhdW5jaGVyJztcbmltcG9ydCBkcmFrZSBmcm9tICcuL0RyYWtlJztcbmltcG9ydCBsaWJzIGZyb20gJy4vbGlicyc7XG5pbXBvcnQgRWRpdG9yIGZyb20gJy4vRWRpdG9ycy9FZGl0b3InO1xuaW1wb3J0IGZyZWRDb25maWcgZnJvbSAnLi9Db25maWcnO1xuaW1wb3J0IHsgZGl2LCBzZWN0aW9uLCBhLCBpRnJhbWUgfSBmcm9tICcuL1VJL0VsZW1lbnRzJ1xuaW1wb3J0IEZpbmRlciBmcm9tICcuL0ZpbmRlcic7XG5pbXBvcnQgTW91c2V0cmFwIGZyb20gJ21vdXNldHJhcCc7XG5pbXBvcnQgTW91c2V0cmFwR2xvYmFsQmluZCBmcm9tICdtb3VzZXRyYXAvcGx1Z2lucy9nbG9iYWwtYmluZC9tb3VzZXRyYXAtZ2xvYmFsLWJpbmQubWluJ1xuaW1wb3J0IHsgbG9hZEVsZW1lbnRzIH0gZnJvbSBcIi4vVXRpbHNcIjtcbmltcG9ydCB1dGlsaXR5U2lkZWJhciBmcm9tICcuL0NvbXBvbmVudHMvVXRpbGl0eVNpZGViYXInO1xuaW1wb3J0IHsgZ2V0UHJldmlldywgc2F2ZUNvbnRlbnQsIGZldGNoQ29udGVudCwgZmV0Y2hMZXhpY29ucyB9IGZyb20gJy4vQWN0aW9ucy9mcmVkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJlZCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgZnJlZENvbmZpZy5jb25maWcgPSBjb25maWcgfHwge307XG4gICAgICAgIGZyZWRDb25maWcuZnJlZCA9IHRoaXM7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmluZ2VycHJpbnQgPSAnJztcbiAgICAgICAgXG4gICAgICAgIHRoaXMubGlicyA9IGxpYnM7XG4gICAgICAgIHRoaXMuRmluZGVyID0gRmluZGVyO1xuICAgICAgICB0aGlzLnByZXZpZXdEb2N1bWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVwbGFjZVNjcmlwdCA9IHRoaXMucmVwbGFjZVNjcmlwdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNjcmlwdHNUb1JlcGxhY2UgPSBbXTtcblxuICAgICAgICBjb25zdCBsZXhpY29uc0xvYWRlZCA9IHRoaXMubG9hZExleGljb25zKCk7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY3JpcHRzID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQtZnJlZCcpO1xuICAgICAgICAgICAgZm9yIChsZXQgc2NyaXB0IG9mIHNjcmlwdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NyaXB0LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0LnNldEF0dHJpYnV0ZShzY3JpcHQuYXR0cmlidXRlc1tpXS5uYW1lLCBzY3JpcHQuYXR0cmlidXRlc1tpXS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNjcmlwdC5kYXRhc2V0LmZyZWRTY3JpcHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0LmlubmVySFRNTCA9IHNjcmlwdC5kYXRhc2V0LmZyZWRTY3JpcHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JpcHRzVG9SZXBsYWNlLnB1c2goe29sZDogc2NyaXB0LCAnbmV3JzogbmV3U2NyaXB0fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxleGljb25zTG9hZGVkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy53cmFwcGVyID0gZGl2KFsnZnJlZCddKTtcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyKTtcbiAgICB9XG5cbiAgICByZW5kZXJQcmV2aWV3KCkge1xuICAgICAgICBjb25zdCBwcmV2aWV3V3JhcHBlciA9IGRpdihbJ2ZyZWQtLWNvbnRlbnQtcHJldmlldyddKTtcbiAgICAgICAgcHJldmlld1dyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICB0aGlzLmlmcmFtZSA9IGlGcmFtZSgnIycpO1xuICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBkaXYoWydmcmVkLS1jb250ZW50LXByZXZpZXdfY29udHJvbHMnXSk7XG5cbiAgICAgICAgdGhpcy5kZXZpY2VzID0gZGl2KFsnZnJlZC0tZGV2aWNlcyddKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMudGFibGV0UCA9IGEoYDxzcGFuPiR7ZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucHJldmlldy50YWJsZXRfcG9ydHJhaXQnKX08L3NwYW4+YCwgZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucHJldmlldy50YWJsZXRfcG9ydHJhaXQnKSwgJycsIFsnZnJlZC0tdGFibGV0LXBvcnRyYWl0J10sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLndpZHRoID0gJzc2OHB4JztcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmhlaWdodCA9ICcxMDI0cHgnO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRldmljZXMuYXBwZW5kQ2hpbGQodGhpcy50YWJsZXRQKTtcblxuICAgICAgICB0aGlzLnRhYmxldEwgPSBhKGA8c3Bhbj4ke2ZyZWRDb25maWcubG5nKCdmcmVkLmZlLnByZXZpZXcudGFibGV0X2xhbmRzY2FwZScpfTwvc3Bhbj5gLCBmcmVkQ29uZmlnLmxuZygnZnJlZC5mZS5wcmV2aWV3LnRhYmxldF9sYW5kc2NhcGUnKSwgJycsIFsnZnJlZC0tdGFibGV0LWxhbmRzY2FwZSddLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS53aWR0aCA9ICcxMDI0cHgnO1xuICAgICAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuaGVpZ2h0ID0gJzc2OHB4JztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5kZXZpY2VzLmFwcGVuZENoaWxkKHRoaXMudGFibGV0TCk7XG5cbiAgICAgICAgdGhpcy5waG9uZVAgPSBhKGA8c3Bhbj4ke2ZyZWRDb25maWcubG5nKCdmcmVkLmZlLnByZXZpZXcucGhvbmVfcG9ydHJhaXQnKX08L3NwYW4+YCwgZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucHJldmlldy5waG9uZV9wb3J0cmFpdCcpLCAnJywgWydmcmVkLS1zbWFydHBob25lLXBvcnRyYWl0J10sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLndpZHRoID0gJzMyMHB4JztcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmhlaWdodCA9ICc0ODBweCc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGV2aWNlcy5hcHBlbmRDaGlsZCh0aGlzLnBob25lUCk7XG5cbiAgICAgICAgdGhpcy5waG9uZUwgPSBhKGA8c3Bhbj4ke2ZyZWRDb25maWcubG5nKCdmcmVkLmZlLnByZXZpZXcucGhvbmVfbGFuZHNjYXBlJyl9PC9zcGFuPmAsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLnByZXZpZXcucGhvbmVfbGFuZHNjYXBlJyksICcnLCBbJ2ZyZWQtLXNtYXJ0cGhvbmUtbGFuZHNjYXBlJ10sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLndpZHRoID0gJzQ4MHB4JztcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmhlaWdodCA9ICczMjBweCc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGV2aWNlcy5hcHBlbmRDaGlsZCh0aGlzLnBob25lTCk7XG5cbiAgICAgICAgdGhpcy5hdXRvID0gYShgPHNwYW4+JHtmcmVkQ29uZmlnLmxuZygnZnJlZC5mZS5wcmV2aWV3LmF1dG8nKX08L3NwYW4+YCwgZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucHJldmlldy5hdXRvJyksICcnLCBbJ2ZyZWQtLWF1dG8nXSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGV2aWNlcy5hcHBlbmRDaGlsZCh0aGlzLmF1dG8pO1xuXG4gICAgICAgIHRoaXMuY29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy5kZXZpY2VzKTtcbiAgICAgICAgXG5cbiAgICAgICAgcHJldmlld1dyYXBwZXIuYXBwZW5kKHRoaXMuY29udHJvbHMpO1xuXG4gICAgICAgIHByZXZpZXdXcmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuaWZyYW1lKTtcblxuICAgICAgICB0aGlzLndyYXBwZXIuaW5zZXJ0QmVmb3JlKHByZXZpZXdXcmFwcGVyLCB0aGlzLndyYXBwZXIuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIFxuICAgIHByZXZpZXdDb250ZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMucHJldmlld0RvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclByZXZpZXcoKTtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnNyYyA9IGZyZWRDb25maWcuY29uZmlnLnJlc291cmNlLmVtcHR5VXJsO1xuXG4gICAgICAgICAgICBnZXRQcmV2aWV3KCkudGhlbih0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aWV3RG9jdW1lbnQgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L2h0bWwnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFByZXZpZXdDb250ZW50KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0UHJldmlld0NvbnRlbnQoKTsgICBcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBnZXRQcmV2aWV3Q29udGVudCgpIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJvcHpvbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuZ2V0Q2xlYW5Ecm9wWm9uZUNvbnRlbnQodGhpcy5kcm9wem9uZXNbaV0sIHRydWUsIGZhbHNlKS50aGVuKGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR6ID0gdGhpcy5wcmV2aWV3RG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZnJlZC1kcm9wem9uZT1cIicgKyB0aGlzLmRyb3B6b25lc1tpXS5kYXRhc2V0LmZyZWREcm9wem9uZSArICdcIl0nKTtcbiAgICAgICAgICAgICAgICBpZiAoZHopIHtcbiAgICAgICAgICAgICAgICAgICAgZHouaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpO1xuICAgICAgICAgICAgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZSh0aGlzLnByZXZpZXdEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICByZW5kZXJDb21wb25lbnRzKCkge1xuICAgICAgICBuZXcgTGF1bmNoZXIoKGZyZWRDb25maWcuY29uZmlnLmxhdW5jaGVyUG9zaXRpb24gfHwgJ2JvdHRvbV9sZWZ0JykpO1xuICAgICAgICBuZXcgU2lkZWJhcih0aGlzLndyYXBwZXIpO1xuICAgICAgICB1dGlsaXR5U2lkZWJhci5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBnZXREYXRhRnJvbURyb3Bab25lKGRyb3Bab25lKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBkcm9wWm9uZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgZGF0YS5wdXNoKGNoaWxkLmZyZWRFbC5nZXRDb250ZW50KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZ2V0Q2xlYW5Ecm9wWm9uZUNvbnRlbnQoZHJvcFpvbmUsIHBhcnNlTW9keCA9IGZhbHNlLCBoYW5kbGVMaW5rcyA9IHRydWUpIHtcbiAgICAgICAgbGV0IGNsZWFuZWRDb250ZW50ID0gJyc7XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgZHJvcFpvbmUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goY2hpbGQuZnJlZEVsLmNsZWFuUmVuZGVyKHBhcnNlTW9keCwgaGFuZGxlTGlua3MpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKHZhbHVlcyA9PiB7XG4gICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgY2xlYW5lZENvbnRlbnQgKz0gZWwuaW5uZXJIVE1MO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBjbGVhbmVkQ29udGVudDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2F2ZSgpIHtcbiAgICAgICAgaWYoIWZyZWRDb25maWcuY29uZmlnLnBlcm1pc3Npb24uc2F2ZSl7XG4gICAgICAgICAgICBhbGVydChmcmVkQ29uZmlnLmxuZygnZnJlZC5mZS5wZXJtaXNzaW9uLnNhdmUnKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtbG9hZGluZycsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLnNhdmluZ19wYWdlJykpO1xuICAgICAgICBjb25zdCBib2R5ID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcblxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRyb3B6b25lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YVt0aGlzLmRyb3B6b25lc1tpXS5kYXRhc2V0LmZyZWREcm9wem9uZV0gPSB0aGlzLmdldERhdGFGcm9tRHJvcFpvbmUodGhpcy5kcm9wem9uZXNbaV0pO1xuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRzID0gdGhpcy5kcm9wem9uZXNbaV0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnJlZC10YXJnZXRdOm5vdChbZGF0YS1mcmVkLXRhcmdldD1cIlwiXSknKTtcbiAgICAgICAgICAgIGZvciAobGV0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmcmVkQ29uZmlnLnBhZ2VTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eSh0YXJnZXQuZGF0YXNldC5mcmVkVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBib2R5W3RhcmdldC5kYXRhc2V0LmZyZWRUYXJnZXRdID0gdGFyZ2V0LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuZ2V0Q2xlYW5Ecm9wWm9uZUNvbnRlbnQodGhpcy5kcm9wem9uZXNbaV0pLnRoZW4oY29udGVudCA9PiB7XG4gICAgICAgICAgICAgICAgYm9keVt0aGlzLmRyb3B6b25lc1tpXS5kYXRhc2V0LmZyZWREcm9wem9uZV0gPSBjb250ZW50OyAgICBcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG5cbiAgICAgICAgYm9keS5pZCA9IGZyZWRDb25maWcuY29uZmlnLnJlc291cmNlLmlkO1xuICAgICAgICBib2R5LmRhdGEgPSBkYXRhO1xuICAgICAgICBib2R5LnBhZ2VTZXR0aW5ncyA9IGZyZWRDb25maWcucGFnZVNldHRpbmdzO1xuICAgICAgICBib2R5LmZpbmdlcnByaW50ID0gdGhpcy5maW5nZXJwcmludDtcblxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzYXZlQ29udGVudChib2R5KVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb24udXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBqc29uLnVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGpzb24uZmluZ2VycHJpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5nZXJwcmludCA9IGpzb24uZmluZ2VycHJpbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmctaGlkZScpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIucmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVyci5yZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtbG9hZGluZy1oaWRlJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZENvbnRlbnQoKSB7XG4gICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nJywgZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucHJlcGFyaW5nX2NvbnRlbnQnKSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmV0Y2hDb250ZW50KCkudGhlbihqc29uID0+IHtcbiAgICAgICAgICAgIGlmIChqc29uLmRhdGEucGFnZVNldHRpbmdzLnRhZ2dlciAmJiBBcnJheS5pc0FycmF5KGpzb24uZGF0YS5wYWdlU2V0dGluZ3MudGFnZ2VyKSkganNvbi5kYXRhLnBhZ2VTZXR0aW5ncy50YWdnZXIgPSB7fTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5maW5nZXJwcmludCA9IGpzb24uZGF0YS5maW5nZXJwcmludCB8fCAnJztcbiAgICAgICAgICAgIGZyZWRDb25maWcucGFnZVNldHRpbmdzID0ganNvbi5kYXRhLnBhZ2VTZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgICAgIGZyZWRDb25maWcudGFnZ2VyID0ganNvbi5kYXRhLnRhZ2dlciB8fCB7fTtcblxuICAgICAgICAgICAgbG9hZEVsZW1lbnRzKGpzb24uZGF0YSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZHJha2UucmVsb2FkQ29udGFpbmVycygpO1xuICAgIFxuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nLWhpZGUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICAgICAgZW1pdHRlci5vbignZnJlZC1zYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVtaXR0ZXIub24oJ2ZyZWQtd3JhcHBlci1pbnNlcnQnLCBlbCA9PiB7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlbWl0dGVyLm9uKCdmcmVkLWxvYWRpbmcnLCB0ZXh0ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvYWRpbmcgIT09IG51bGwpIHJldHVybjtcblxuICAgICAgICAgICAgdGV4dCA9IHRleHQgfHwgJyc7XG5cbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHNlY3Rpb24oWydmcmVkLS1tb2RhbC1iZycsICdmcmVkLS1tb2RhbF9sb2FkaW5nJ10pO1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiZnJlZC0tbW9kYWxcIiBhcmlhLWhpZGRlbj1cImZhbHNlXCI+PGRpdiBzdHlsZT1cImNvbG9yOndoaXRlO3RleHQtYWxpZ246Y2VudGVyO1wiPjxzcGFuIGNsYXNzPVwiZnJlZC0tbG9hZGluZ1wiPjwvc3Bhbj4gJHt0ZXh0fTwvZGl2PjwvZGl2PmA7XG5cbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmxvYWRpbmcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlbWl0dGVyLm9uKCdmcmVkLWxvYWRpbmctaGlkZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvYWRpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZW1pdHRlci5vbignZnJlZC1wYWdlLXNldHRpbmctY2hhbmdlJywgKHNldHRpbmdOYW1lLCBzZXR0aW5nVmFsdWUsIHNvdXJjZUVsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRyb3B6b25lcy5mb3JFYWNoKGR6ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRzID0gZHoucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtZnJlZC10YXJnZXQ9XCIke3NldHRpbmdOYW1lfVwiYCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdGFyZ2V0IG9mIHRhcmdldHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gc291cmNlRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5mcmVkRWwuc2V0RWxWYWx1ZSh0YXJnZXQsIHNldHRpbmdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZW1pdHRlci5vbignZnJlZC1wcmV2aWV3LW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3Q29udGVudCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGVtaXR0ZXIub24oJ2ZyZWQtcHJldmlldy1vZmYnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlmcmFtZS5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVtaXR0ZXIub24oJ2ZyZWQtb3Blbi1tYW5hZ2VyJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vcGVuTWFuYWdlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlbWl0dGVyLm9uKCdmcmVkLWxvZ291dC11c2VyJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dvdXRVc2VyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgICAgIE1vdXNldHJhcC5iaW5kR2xvYmFsKCdtb2QrcycsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXNhdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBNb3VzZXRyYXAuYmluZCgndXAgdXAgZG93biBkb3duIGxlZnQgcmlnaHQgbGVmdCByaWdodCBiIGEgZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICAoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7ZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0L2Nzc1wiKTtlLnNldEF0dHJpYnV0ZShcInJlbFwiLFwic3R5bGVzaGVldFwiKTtlLnNldEF0dHJpYnV0ZShcImhyZWZcIixmKTtlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsbCk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBoKCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShsKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlW3RdKX19ZnVuY3Rpb24gcCgpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGEpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSk7c2V0VGltZW91dChmdW5jdGlvbigpe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZSl9LDEwMCl9ZnVuY3Rpb24gZChlKXtyZXR1cm57aGVpZ2h0OmUub2Zmc2V0SGVpZ2h0LHdpZHRoOmUub2Zmc2V0V2lkdGh9fWZ1bmN0aW9uIHYoaSl7dmFyIHM9ZChpKTtyZXR1cm4gcy5oZWlnaHQ+ZSYmcy5oZWlnaHQ8biYmcy53aWR0aD50JiZzLndpZHRoPHJ9ZnVuY3Rpb24gbShlKXt2YXIgdD1lO3ZhciBuPTA7d2hpbGUoISF0KXtuKz10Lm9mZnNldFRvcDt0PXQub2Zmc2V0UGFyZW50fXJldHVybiBufWZ1bmN0aW9uIGcoKXt2YXIgZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7aWYoISF3aW5kb3cuaW5uZXJXaWR0aCl7cmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodH1lbHNlIGlmKGUmJiFpc05hTihlLmNsaWVudEhlaWdodCkpe3JldHVybiBlLmNsaWVudEhlaWdodH1yZXR1cm4gMH1mdW5jdGlvbiB5KCl7aWYod2luZG93LnBhZ2VZT2Zmc2V0KXtyZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0fXJldHVybiBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKX1mdW5jdGlvbiBFKGUpe3ZhciB0PW0oZSk7cmV0dXJuIHQ+PXcmJnQ8PWIrd31mdW5jdGlvbiBTKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixsKTtlLnNyYz1pO2UubG9vcD1mYWxzZTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eChrKX0sNTAwKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TigpO3AoKTtmb3IodmFyIGU9MDtlPE8ubGVuZ3RoO2UrKyl7VChPW2VdKX19LDE1NTAwKX0sdHJ1ZSk7ZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixmdW5jdGlvbigpe04oKTtoKCl9LHRydWUpO2UuaW5uZXJIVE1MPVwiIDxwPklmIHlvdSBhcmUgcmVhZGluZyB0aGlzLCBpdCBpcyBiZWNhdXNlIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBhdWRpbyBlbGVtZW50LiBXZSByZWNvbW1lbmQgdGhhdCB5b3UgZ2V0IGEgbmV3IGJyb3dzZXIuPC9wPiA8cD5cIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO2UucGxheSgpfWZ1bmN0aW9uIHgoZSl7ZS5jbGFzc05hbWUrPVwiIFwiK3MrXCIgXCIrb31mdW5jdGlvbiBUKGUpe2UuY2xhc3NOYW1lKz1cIiBcIitzK1wiIFwiK3VbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnUubGVuZ3RoKV19ZnVuY3Rpb24gTigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocyk7dmFyIHQ9bmV3IFJlZ0V4cChcIlxcXFxiXCIrcytcIlxcXFxiXCIpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KXtlW25dLmNsYXNzTmFtZT1lW25dLmNsYXNzTmFtZS5yZXBsYWNlKHQsXCJcIil9fXZhciBlPTMwO3ZhciB0PTMwO3ZhciBuPTM1MDt2YXIgcj0zNTA7dmFyIGk9XCIvL3MzLmFtYXpvbmF3cy5jb20vbW9vdndlYi1tYXJrZXRpbmcvcGxheWdyb3VuZC9oYXJsZW0tc2hha2UubXAzXCI7dmFyIHM9XCJtdy1oYXJsZW1fc2hha2VfbWVcIjt2YXIgbz1cImltX2ZpcnN0XCI7dmFyIHU9W1wiaW1fZHJ1bmtcIixcImltX2Jha2VkXCIsXCJpbV90cmlwcGluXCIsXCJpbV9ibG93blwiXTt2YXIgYT1cIm13LXN0cm9iZV9saWdodFwiO3ZhciBmPVwiLy9zMy5hbWF6b25hd3MuY29tL21vb3Z3ZWItbWFya2V0aW5nL3BsYXlncm91bmQvaGFybGVtLXNoYWtlLXN0eWxlLmNzc1wiO3ZhciBsPVwibXdfYWRkZWRfY3NzXCI7dmFyIGI9ZygpO3ZhciB3PXkoKTt2YXIgQz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIik7dmFyIGs9bnVsbDtmb3IodmFyIEw9MDtMPEMubGVuZ3RoO0wrKyl7dmFyIEE9Q1tMXTtpZih2KEEpKXtpZihFKEEpKXtrPUE7YnJlYWt9fX1pZihBPT09bnVsbCl7Y29uc29sZS53YXJuKFwiQ291bGQgbm90IGZpbmQgYSBub2RlIG9mIHRoZSByaWdodCBzaXplLiBQbGVhc2UgdHJ5IGEgZGlmZmVyZW50IHBhZ2UuXCIpO3JldHVybn1jKCk7UygpO3ZhciBPPVtdO2Zvcih2YXIgTD0wO0w8Qy5sZW5ndGg7TCsrKXt2YXIgQT1DW0xdO2lmKHYoQSkpe08ucHVzaChBKX19fSkoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJlZ2lzdGVyRWRpdG9yKG5hbWUsIGluaXRGbikge1xuICAgICAgICBpZiAodHlwZW9mIGluaXRGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2luaXRGbiBoYXMgdG8gYmUgYSBmdW5jdGlvbnMnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZWRpdG9yID0gaW5pdEZuKEVkaXRvciwgdGhpcyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZnJlZENvbmZpZy5yZWdpc3RlckVkaXRvcihuYW1lLCBlZGl0b3IpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyUlRFKG5hbWUsIGluaXRGbikge1xuICAgICAgICBpZiAodHlwZW9mIGluaXRGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2luaXRGbiBoYXMgdG8gYmUgYSBmdW5jdGlvbnMnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJ0ZUluaXQgPSBpbml0Rm4odGhpcywgZnJlZENvbmZpZyk7XG5cbiAgICAgICAgcmV0dXJuIGZyZWRDb25maWcucmVnaXN0ZXJSVEUobmFtZSwgcnRlSW5pdCk7XG4gICAgfVxuICAgIFxuICAgIGxvYWRMZXhpY29ucygpIHtcbiAgICAgICAgbGV0IHRvcGljcyA9ICcnO1xuICAgICAgICBpZiAoZnJlZENvbmZpZy5jb25maWcubGV4aWNvbnMgJiYgQXJyYXkuaXNBcnJheShmcmVkQ29uZmlnLmNvbmZpZy5sZXhpY29ucykpIHtcbiAgICAgICAgICAgIHRvcGljcyA9ICcmdG9waWNzPScgKyBmcmVkQ29uZmlnLmNvbmZpZy5sZXhpY29ucy5qb2luKCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoTGV4aWNvbnModG9waWNzKS50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgZnJlZENvbmZpZy5sYW5nID0ganNvbi5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcktleWJvYXJkU2hvcnRjdXRzKCk7XG5cbiAgICAgICAgdGhpcy5kcm9wem9uZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVkLWRyb3B6b25lXTpub3QoW2RhdGEtZnJlZC1kcm9wem9uZT1cIlwiXSknKTtcbiAgICAgICAgbGV0IHJlZ2lzdGVyZWREcm9wem9uZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCB6b25lSW5kZXggPSAwOyB6b25lSW5kZXggPCB0aGlzLmRyb3B6b25lcy5sZW5ndGg7IHpvbmVJbmRleCsrKSB7XG4gICAgICAgICAgICBpZiAocmVnaXN0ZXJlZERyb3B6b25lcy5pbmRleE9mKHRoaXMuZHJvcHpvbmVzW3pvbmVJbmRleF0uZGF0YXNldC5mcmVkRHJvcHpvbmUpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhlcmUgYXJlIHNldmVyYWwgZHJvcHpvbmVzIHdpdGggc2FtZSBuYW1lOiAnICsgdGhpcy5kcm9wem9uZXNbem9uZUluZGV4XS5kYXRhc2V0LmZyZWREcm9wem9uZSArICcuIFRoZSBuYW1lIG9mIGVhY2ggZHJvcHpvbmUgaGFzIHRvIGJlIHVuaXF1ZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyZWREcm9wem9uZXMucHVzaCh0aGlzLmRyb3B6b25lc1t6b25lSW5kZXhdLmRhdGFzZXQuZnJlZERyb3B6b25lKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHR5cGVvZiBmcmVkQ29uZmlnLmNvbmZpZy5iZWZvcmVSZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZyZWRDb25maWcuY29uZmlnLmJlZm9yZVJlbmRlciA9IGZyZWRDb25maWcuY29uZmlnLmJlZm9yZVJlbmRlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZnJlZENvbmZpZy5jb25maWcuYmVmb3JlUmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICBkcmFrZS5pbml0RHJha2UoKTtcblxuICAgICAgICB0aGlzLmxvYWRDb250ZW50KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JpcHRzVG9SZXBsYWNlWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlU2NyaXB0KDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBvbmVudHMoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG4gICAgXG4gICAgcmVwbGFjZVNjcmlwdChpbmRleCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gaW5kZXggKyAxO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuc2NyaXB0c1RvUmVwbGFjZVtpbmRleF0ubmV3LnNyYykge1xuICAgICAgICAgICAgdGhpcy5zY3JpcHRzVG9SZXBsYWNlW2luZGV4XS5uZXcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY3JpcHRzVG9SZXBsYWNlW25leHRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGFjZVNjcmlwdChuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5zY3JpcHRzVG9SZXBsYWNlW2luZGV4XS5vbGQucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQodGhpcy5zY3JpcHRzVG9SZXBsYWNlW2luZGV4XS5uZXcsIHRoaXMuc2NyaXB0c1RvUmVwbGFjZVtpbmRleF0ub2xkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2NyaXB0c1RvUmVwbGFjZVtpbmRleF0ub2xkLnBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKHRoaXMuc2NyaXB0c1RvUmVwbGFjZVtpbmRleF0ubmV3LCB0aGlzLnNjcmlwdHNUb1JlcGxhY2VbaW5kZXhdLm9sZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zY3JpcHRzVG9SZXBsYWNlW25leHRdKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGxhY2VTY3JpcHQobmV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZ2V0Q29udGVudCgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kcm9wem9uZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbdGhpcy5kcm9wem9uZXNbaV0uZGF0YXNldC5mcmVkRHJvcHpvbmVdID0gdGhpcy5nZXREYXRhRnJvbURyb3Bab25lKHRoaXMuZHJvcHpvbmVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIG9wZW5NYW5hZ2VyKCkge1xuICAgICAgICBjb25zdCB1cmwgPSBmcmVkQ29uZmlnLmNvbmZpZy5tYW5hZ2VyVXJsICsgJz9hPXJlc291cmNlL3VwZGF0ZSZpZD0nICsgZnJlZENvbmZpZy5jb25maWcucmVzb3VyY2UuaWQ7XG4gICAgICAgIHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpO1xuICAgIH1cblxuICAgIGxvZ291dFVzZXIoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb29kYnllIScpO1xuICAgICAgICBjb25zdCB1cmwgPSBmcmVkQ29uZmlnLmNvbmZpZy5tYW5hZ2VyVXJsICsgJz9hPXNlY3VyaXR5L2xvZ291dCc7XG4gICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.emitter = undefined;\n\nvar _events = __webpack_require__(2);\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar emitter = exports.emitter = new _events2.default();\nexports.default = emitter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0VFLmpzPzE5ZjQiXSwibmFtZXMiOlsiZW1pdHRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7QUFDTyxJQUFNQSw0QkFBVSxzQkFBaEI7a0JBQ1FBLE8iLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmV4cG9ydCBjb25zdCBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuZXhwb3J0IGRlZmF1bHQgZW1pdHRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0VFLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

	eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2V2ZW50cy9ldmVudHMuanM/N2M3MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSCxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4gKCcgKyBlciArICcpJyk7XG4gICAgICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKVxuICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoZXZsaXN0ZW5lcilcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2V2ZW50cy9ldmVudHMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Pages = __webpack_require__(4);\n\nvar _Pages2 = _interopRequireDefault(_Pages);\n\nvar _Elements = __webpack_require__(112);\n\nvar _Elements2 = _interopRequireDefault(_Elements);\n\nvar _PageSettings = __webpack_require__(113);\n\nvar _PageSettings2 = _interopRequireDefault(_PageSettings);\n\nvar _More = __webpack_require__(114);\n\nvar _More2 = _interopRequireDefault(_More);\n\nvar _Blueprints = __webpack_require__(115);\n\nvar _Blueprints2 = _interopRequireDefault(_Blueprints);\n\nvar _promiseCancel = __webpack_require__(108);\n\nvar _promiseCancel2 = _interopRequireDefault(_promiseCancel);\n\nvar _SidebarView = __webpack_require__(116);\n\nvar _SidebarView2 = _interopRequireDefault(_SidebarView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Sidebar = function () {\n    function Sidebar(fredWrapper) {\n        _classCallCheck(this, Sidebar);\n\n        this.lastRequest = null;\n        this.components = [];\n        this.visible = false;\n        this.fredWrapper = fredWrapper;\n\n        this.hideSidebar = this.hideSidebar.bind(this);\n        this.globalHideSidebar = this.globalHideSidebar.bind(this);\n\n        this.registerListeners();\n        this.render();\n    }\n\n    _createClass(Sidebar, [{\n        key: 'render',\n        value: function render() {\n            var _this = this;\n\n            this.wrapper = _SidebarView2.default.render([_Pages2.default, _Blueprints2.default, _Elements2.default, _PageSettings2.default, _More2.default], function (component) {\n                _this.components.push(component);\n            }, function () {\n                _EE2.default.emit('fred-sidebar-hide');\n            }, function () {\n                _EE2.default.emit('fred-save');\n            }, function () {\n                _EE2.default.emit('fred-preview-on');\n            });\n\n            _EE2.default.emit('fred-wrapper-insert', this.wrapper);\n        }\n    }, {\n        key: 'registerListeners',\n        value: function registerListeners() {\n            var _this2 = this;\n\n            _EE2.default.on('fred-sidebar-expand', function (cmp, title, data) {\n                cmp.loading();\n\n                _this2.components.forEach(function (component) {\n                    component.collapse();\n                });\n\n                cmp.expand();\n\n                _this2.lastRequest = (0, _promiseCancel2.default)(Promise.resolve(data));\n                _this2.lastRequest.promise.then(function (content) {\n                    _this2.lastRequest = null;\n\n                    cmp.setContent(content);\n\n                    cmp.afterExpand();\n                }).catch(function (err) {\n                    _this2.lastRequest = null;\n\n                    if (err.type === 'cancel') {\n                        return;\n                    }\n                    console.log(err);\n                    cmp.setContent('SOMETHING WRONG HAPPENED');\n                });\n            });\n\n            _EE2.default.on('fred-sidebar-collapse', function (cmp) {\n                if (_this2.lastRequest !== null) {\n                    _this2.lastRequest.cancel();\n                    _this2.lastRequest = null;\n                }\n\n                _this2.components.forEach(function (component) {\n                    component.collapse();\n                });\n            });\n\n            _EE2.default.on('fred-sidebar-hide', function (silent) {\n                _this2.hideSidebar(silent);\n            });\n\n            _EE2.default.on('fred-sidebar-show', function (silent) {\n                _this2.showSidebar(silent);\n            });\n\n            _EE2.default.on('fred-sidebar-toggle', function () {\n                if (_SidebarView2.default.isVisible()) {\n                    _EE2.default.emit('fred-sidebar-hide');\n                } else {\n                    _EE2.default.emit('fred-sidebar-show');\n                }\n            });\n\n            _EE2.default.on('fred-sidebar-dt-active', function (tab, content) {\n                var listener = function listener(e) {\n                    if (e.target.parentElement !== null && !content.contains(e.target)) {\n                        tab.classList.remove('active');\n                        _this2.wrapper.removeEventListener('click', listener);\n                    }\n                };\n\n                _this2.wrapper.addEventListener('click', listener);\n            });\n        }\n    }, {\n        key: 'hideSidebar',\n        value: function hideSidebar() {\n            var silent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (silent === false) {\n                this.visible = false;\n            }\n\n            _SidebarView2.default.hide();\n\n            window.removeEventListener('click', this.globalHideSidebar);\n        }\n    }, {\n        key: 'showSidebar',\n        value: function showSidebar() {\n            var _this3 = this;\n\n            var silent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (silent === true) {\n                if (this.visible === false) return;\n            }\n\n            this.visible = true;\n\n            _SidebarView2.default.show();\n\n            setTimeout(function () {\n                window.addEventListener('click', _this3.globalHideSidebar);\n            }, 50);\n        }\n    }, {\n        key: 'globalHideSidebar',\n        value: function globalHideSidebar(e) {\n            if (e.target.parentElement !== null && !this.fredWrapper.contains(e.target)) {\n                this.components.forEach(function (component) {\n                    component.collapse();\n                });\n            }\n        }\n    }]);\n\n    return Sidebar;\n}();\n\nexports.default = Sidebar;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL1NpZGViYXIvU2lkZWJhci5qcz8wYjBiIl0sIm5hbWVzIjpbIlNpZGViYXIiLCJmcmVkV3JhcHBlciIsImxhc3RSZXF1ZXN0IiwiY29tcG9uZW50cyIsInZpc2libGUiLCJoaWRlU2lkZWJhciIsImJpbmQiLCJnbG9iYWxIaWRlU2lkZWJhciIsInJlZ2lzdGVyTGlzdGVuZXJzIiwicmVuZGVyIiwid3JhcHBlciIsInB1c2giLCJjb21wb25lbnQiLCJlbWl0Iiwib24iLCJjbXAiLCJ0aXRsZSIsImRhdGEiLCJsb2FkaW5nIiwiZm9yRWFjaCIsImNvbGxhcHNlIiwiZXhwYW5kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwcm9taXNlIiwidGhlbiIsInNldENvbnRlbnQiLCJjb250ZW50IiwiYWZ0ZXJFeHBhbmQiLCJjYXRjaCIsImVyciIsInR5cGUiLCJjb25zb2xlIiwibG9nIiwiY2FuY2VsIiwic2lsZW50Iiwic2hvd1NpZGViYXIiLCJpc1Zpc2libGUiLCJ0YWIiLCJsaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbnMiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhpZGUiLCJ3aW5kb3ciLCJzaG93Iiwic2V0VGltZW91dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztJQUVxQkEsTztBQUNqQixxQkFBWUMsV0FBWixFQUF5QjtBQUFBOztBQUNyQixhQUFLQyxXQUFMLEdBQW1CLElBQW5CO0FBQ0EsYUFBS0MsVUFBTCxHQUFrQixFQUFsQjtBQUNBLGFBQUtDLE9BQUwsR0FBZSxLQUFmO0FBQ0EsYUFBS0gsV0FBTCxHQUFtQkEsV0FBbkI7O0FBRUEsYUFBS0ksV0FBTCxHQUFtQixLQUFL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ImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVtaXR0ZXIgZnJvbSAnLi8uLi9FRSc7XG5pbXBvcnQgUGFnZXNDb21wb25lbnQgZnJvbSAnLi8uLi9Db21wb25lbnRzL1NpZGViYXIvUGFnZXMvUGFnZXMnO1xuaW1wb3J0IEVsZW1lbnRzQ29tcG9uZW50IGZyb20gJy4vLi4vQ29tcG9uZW50cy9TaWRlYmFyL0VsZW1lbnRzL0VsZW1lbnRzJztcbmltcG9ydCBQYWdlU2V0dGluZ3NDb21wb25lbnQgZnJvbSAnLi8uLi9Db21wb25lbnRzL1NpZGViYXIvUGFnZVNldHRpbmdzJztcbmltcG9ydCBNb3JlQ29tcG9uZW50IGZyb20gJy4vLi4vQ29tcG9uZW50cy9TaWRlYmFyL01vcmUnO1xuaW1wb3J0IEJsdWVwcmludHNDb21wb25lbnQgZnJvbSAnLi8uLi9Db21wb25lbnRzL1NpZGViYXIvQmx1ZXByaW50cy9CbHVlcHJpbnRzJztcbmltcG9ydCBwcm9taXNlQ2FuY2VsIGZyb20gJ3Byb21pc2UtY2FuY2VsJztcbmltcG9ydCBWaWV3IGZyb20gJy4vU2lkZWJhclZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaWRlYmFyIHtcbiAgICBjb25zdHJ1Y3RvcihmcmVkV3JhcHBlcikge1xuICAgICAgICB0aGlzLmxhc3RSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW107XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyZWRXcmFwcGVyID0gZnJlZFdyYXBwZXI7XG5cbiAgICAgICAgdGhpcy5oaWRlU2lkZWJhciA9IHRoaXMuaGlkZVNpZGViYXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nbG9iYWxIaWRlU2lkZWJhciA9IHRoaXMuZ2xvYmFsSGlkZVNpZGViYXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLndyYXBwZXIgPSBWaWV3LnJlbmRlcihcbiAgICAgICAgICAgIFtQYWdlc0NvbXBvbmVudCwgQmx1ZXByaW50c0NvbXBvbmVudCwgRWxlbWVudHNDb21wb25lbnQsIFBhZ2VTZXR0aW5nc0NvbXBvbmVudCwgTW9yZUNvbXBvbmVudF0sXG4gICAgICAgICAgICBjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLWhpZGUnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXNhdmUnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXByZXZpZXctb24nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXdyYXBwZXItaW5zZXJ0JywgdGhpcy53cmFwcGVyKTtcbiAgICB9XG4gICAgXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGVtaXR0ZXIub24oJ2ZyZWQtc2lkZWJhci1leHBhbmQnLCAoY21wLCB0aXRsZSwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgY21wLmxvYWRpbmcoKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuY29sbGFwc2UoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjbXAuZXhwYW5kKCk7XG5cbiAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3QgPSBwcm9taXNlQ2FuY2VsKFByb21pc2UucmVzb2x2ZShkYXRhKSk7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZXF1ZXN0LnByb21pc2UudGhlbihjb250ZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGNtcC5zZXRDb250ZW50KGNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgY21wLmFmdGVyRXhwYW5kKCk7XG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3QgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVyci50eXBlID09PSAnY2FuY2VsJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgY21wLnNldENvbnRlbnQoJ1NPTUVUSElORyBXUk9ORyBIQVBQRU5FRCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVtaXR0ZXIub24oJ2ZyZWQtc2lkZWJhci1jb2xsYXBzZScsIGNtcCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0UmVxdWVzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbGxhcHNlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBlbWl0dGVyLm9uKCdmcmVkLXNpZGViYXItaGlkZScsIHNpbGVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGVTaWRlYmFyKHNpbGVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVtaXR0ZXIub24oJ2ZyZWQtc2lkZWJhci1zaG93Jywgc2lsZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1NpZGViYXIoc2lsZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZW1pdHRlci5vbignZnJlZC1zaWRlYmFyLXRvZ2dsZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChWaWV3LmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXNpZGViYXItaGlkZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtc2lkZWJhci1zaG93Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVtaXR0ZXIub24oJ2ZyZWQtc2lkZWJhci1kdC1hY3RpdmUnLCAodGFiLCBjb250ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoZS50YXJnZXQucGFyZW50RWxlbWVudCAhPT0gbnVsbCkgJiYgIWNvbnRlbnQuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGlkZVNpZGViYXIoc2lsZW50ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHNpbGVudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgVmlldy5oaWRlKCk7XG5cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nbG9iYWxIaWRlU2lkZWJhcik7XG4gICAgfVxuXG4gICAgc2hvd1NpZGViYXIoc2lsZW50ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHNpbGVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlID09PSBmYWxzZSkgcmV0dXJuOyBcbiAgICAgICAgfSAgIFxuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBWaWV3LnNob3coKTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nbG9iYWxIaWRlU2lkZWJhcik7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgXG4gICAgZ2xvYmFsSGlkZVNpZGViYXIoZSkge1xuICAgICAgICBpZiAoKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQgIT09IG51bGwpICYmICF0aGlzLmZyZWRXcmFwcGVyLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuY29sbGFwc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9TaWRlYmFyL1NpZGViYXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Sidebar2 = __webpack_require__(5);\n\nvar _Sidebar3 = _interopRequireDefault(_Sidebar2);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Inputs = __webpack_require__(13);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _pages = __webpack_require__(110);\n\nvar _blueprints = __webpack_require__(35);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Pages = function (_Sidebar) {\n    _inherits(Pages, _Sidebar);\n\n    function Pages() {\n        _classCallCheck(this, Pages);\n\n        return _possibleConstructorReturn(this, (Pages.__proto__ || Object.getPrototypeOf(Pages)).apply(this, arguments));\n    }\n\n    _createClass(Pages, [{\n        key: 'init',\n        value: function init() {\n            this.content = null;\n\n            this.state = {\n                pagetitle: '',\n                parent: 0,\n                blueprint: 0,\n                template: 0\n            };\n        }\n    }, {\n        key: 'click',\n        value: function click() {\n            var _this2 = this;\n\n            return (0, _pages.getResourceTree)(this.config.contextKey).then(function (resources) {\n                _this2.content = resources;\n                return _this2.buildPanel();\n            });\n        }\n    }, {\n        key: 'buildPanel',\n        value: function buildPanel() {\n            var content = (0, _Elements.div)(['fred--pages']);\n            this.pageList = (0, _Elements.dl)(['fred--pages_list']);\n\n            this.parents = [{\n                id: 0,\n                value: '0',\n                label: _Config2.default.lng('fred.fe.pages.no_parent')\n            }];\n\n            this.buildTree(this.content, this.pageList);\n            this.buildCreatePage(this.pageList);\n\n            content.appendChild(this.pageList);\n\n            return content;\n        }\n    }, {\n        key: 'buildCreatePage',\n        value: function buildCreatePage(content) {\n            var _this3 = this;\n\n            var formWrapper = (0, _Elements.dd)();\n\n            var pageForm = (0, _Elements.form)(['fred--pages_create']);\n\n            var fields = (0, _Elements.fieldSet)();\n            var title = (0, _Elements.legend)('fred.fe.pages.create_page');\n\n            var onChange = function onChange(name, value) {\n                _this3.state[name] = value;\n            };\n\n            var onChangeChoices = function onChangeChoices(name, value) {\n                _this3.state[name] = value.value;\n            };\n\n            fields.appendChild(title);\n\n            var pagetitle = (0, _Inputs.text)({\n                name: 'pagetitle',\n                label: 'fred.fe.pages.page_title'\n            }, this.state.pagetitle, onChange);\n\n            fields.appendChild(pagetitle);\n\n            fields.appendChild((0, _Inputs.choices)({\n                name: 'parent',\n                label: _Config2.default.lng('fred.fe.pages.parent'),\n                choices: {\n                    choices: this.parents,\n                    shouldSort: false\n                }\n            }, this.state.parent, onChangeChoices));\n\n            fields.appendChild((0, _Inputs.choices)({\n                name: 'blueprint',\n                label: _Config2.default.lng('fred.fe.pages.blueprint')\n            }, this.state.parent, onChangeChoices, function (setting, label, select, choicesInstance, defaultValue) {\n                choicesInstance.ajax(function (callback) {\n                    (0, _blueprints.getBlueprints)(true).then(function (categories) {\n                        var groups = [];\n\n                        categories.forEach(function (category) {\n                            var options = [];\n\n                            category.blueprints.forEach(function (blueprint) {\n                                options.push({\n                                    label: blueprint.name,\n                                    value: '' + blueprint.id\n                                });\n                            });\n\n                            groups.push({\n                                label: category.category,\n                                disabled: false,\n                                choices: options\n                            });\n                        });\n\n                        callback(groups, 'value', 'label');\n                    }).catch(function (error) {\n                        _EE2.default.emit('fred-loading', error.message);\n                    });\n                });\n            }));\n\n            fields.appendChild((0, _Inputs.choices)({\n                name: 'template',\n                label: _Config2.default.lng('fred.fe.pages.template')\n            }, this.state.parent, onChangeChoices, function (setting, label, select, choicesInstance, defaultValue) {\n                choicesInstance.ajax(function (callback) {\n                    (0, _pages.getTemplates)().then(function (data) {\n                        if (data.data.templates[0]) {\n                            onChangeChoices('template', data.data.templates[0]);\n                            data.data.templates[0].selected = true;\n                        }\n                        callback(data.data.templates, 'value', 'name');\n                    }).catch(function (error) {\n                        _EE2.default.emit('fred-loading', error.message);\n                    });\n                });\n            }));\n\n            var createButton = (0, _Elements.button)('fred.fe.pages.create_page', 'fred.fe.pages.create_page', ['fred--btn-panel', 'fred--btn-apply'], function () {\n                if (!_Config2.default.config.permission.new_document) {\n                    alert(_Config2.default.lng('fred.fe.permission.new_document'));\n                    return;\n                }\n\n                if (!_this3.state.parent === 0 && !_Config2.default.config.permission.new_document_in_root) {\n                    alert(_Config2.default.lng('fred.fe.permission.new_document_in_root'));\n                    return;\n                }\n\n                _EE2.default.emit('fred-loading', _Config2.default.lng('fred.fe.pages.creating_page'));\n\n                (0, _pages.createResource)(_this3.state.parent, _this3.state.template, _this3.state.pagetitle, _this3.state.blueprint).then(function (json) {\n                    location.href = json.url;\n                    _EE2.default.emit('fred-loading-hide');\n                }).catch(function (err) {\n                    if (err.response._fields.pagetitle) {\n                        pagetitle.onError(err.response._fields.pagetitle);\n                    }\n\n                    _EE2.default.emit('fred-loading-hide');\n                });\n            });\n\n            fields.appendChild(createButton);\n\n            pageForm.appendChild(fields);\n\n            var createPageButton = (0, _Elements.dt)('fred.fe.pages.create_page', ['fred--accordion-plus'], function (e, el) {\n                var activeTabs = _this3.pageList.querySelectorAll('dt.active');\n\n                var isActive = el.classList.contains('active');\n\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = activeTabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var tab = _step.value;\n\n                        tab.classList.remove('active');\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                if (!isActive) {\n                    el.classList.add('active');\n                    e.stopPropagation();\n                    _EE2.default.emit('fred-sidebar-dt-active', createPageButton, formWrapper);\n                }\n            });\n\n            formWrapper.appendChild(pageForm);\n\n            content.appendChild(createPageButton);\n            content.appendChild(formWrapper);\n        }\n    }, {\n        key: 'buildTree',\n        value: function buildTree(pages, wrapper) {\n            var _this4 = this;\n\n            pages.forEach(function (page) {\n                _this4.parents.push({\n                    id: page.id,\n                    value: '' + page.id,\n                    label: page.pagetitle\n                });\n\n                var pageTitle = (0, _Elements.dt)(page.pagetitle, [], function (e, el) {\n                    if (e.target !== pageTitle) return;\n                    var activeTabs = _this4.pageList.querySelectorAll('dt.active');\n\n                    var isActive = el.classList.contains('active');\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = activeTabs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var tab = _step2.value;\n\n                            tab.classList.remove('active');\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n\n                    if (!isActive) {\n                        el.classList.add('active');\n                        e.stopPropagation();\n                        _EE2.default.emit('fred-sidebar-dt-active', pageTitle, pageMenu);\n                    }\n                });\n\n                if (page.published !== true) {\n                    pageTitle.classList.add('fred--pages_unpublished');\n                }\n\n                if (page.deleted === true) {\n                    pageTitle.classList.add('fred--pages_deleted');\n                }\n\n                if (page.hidemenu === true) {\n                    pageTitle.classList.add('fred--pages_hidden');\n                }\n\n                wrapper.append(pageTitle);\n\n                var pageMenu = (0, _Elements.dd)();\n                if (page.isFred === true) {\n                    pageMenu.appendChild(_this4.createMenu(page));\n\n                    wrapper.append(pageMenu);\n                } else {\n                    pageTitle.classList.add('fred--pages_noedit');\n                }\n\n                if (page.children.length > 0) {\n                    var children = (0, _Elements.dl)(['fred--hidden']);\n                    children.setAttribute('aria-disabled', 'true');\n\n                    _this4.buildTree(page.children, children);\n\n                    var expander = (0, _Elements.button)('', 'fred.fe.pages.expand_page', ['fred--btn-list', 'fred--btn-list_expand'], function () {\n                        if (expander.classList.contains('fred--btn-list_close')) {\n                            expander.classList.remove('fred--btn-list_close');\n                            children.classList.add('fred--hidden');\n                            children.setAttribute('aria-disabled', 'true');\n\n                            expander.setAttribute('title', _Config2.default.lng('fred.fe.pages.collapse_page'));\n\n                            return;\n                        }\n\n                        expander.classList.add('fred--btn-list_close');\n                        children.classList.remove('fred--hidden');\n                        children.setAttribute('aria-disabled', 'false');\n                        expander.setAttribute('title', _Config2.default.lng('fred.fe.pages.collapse_page'));\n                    });\n\n                    pageTitle.insertBefore(expander, pageTitle.firstChild);\n\n                    wrapper.append(children);\n                }\n            });\n        }\n    }, {\n        key: 'createMenu',\n        value: function createMenu(page) {\n            var menu = (0, _Elements.div)(['fred--pages_menu']);\n\n            var header = (0, _Elements.h3)(page.pagetitle);\n\n            var edit = (0, _Elements.button)('fred.fe.pages.edit', 'fred.fe.pages.edit', [], function () {\n                window.location.href = page.url;\n            });\n\n            var duplicate = (0, _Elements.button)('fred.fe.pages.duplicate', 'fred.fe.pages.duplicate');\n            var publish = (0, _Elements.button)('fred.fe.pages.publish', 'fred.fe.pages.publish');\n            var unpublish = (0, _Elements.button)('fred.fe.pages.unpublish', 'fred.fe.pages.unpublish');\n            var createChildPage = (0, _Elements.button)('fred.fe.pages.create_child_page', 'fred.fe.pages.create_child_page');\n            var deletePage = (0, _Elements.button)('fred.fe.pages.delete', 'fred.fe.pages.delete');\n            var unDeletePage = (0, _Elements.button)('fred.fe.pages.undelete', 'fred.fe.pages.undelete');\n\n            menu.appendChild(header);\n            menu.appendChild(edit);\n            menu.appendChild(duplicate);\n\n            if (page.published === true) {\n                menu.appendChild(unpublish);\n            } else {\n                menu.appendChild(publish);\n            }\n\n            menu.appendChild(createChildPage);\n\n            if (page.deleted === true) {\n                menu.appendChild(unDeletePage);\n            } else {\n                menu.appendChild(deletePage);\n            }\n\n            return menu;\n        }\n    }]);\n\n    return Pages;\n}(_Sidebar3.default);\n\nPages.title = 'fred.fe.pages';\nPages.icon = 'fred--sidebar_pages';\nPages.expandable = true;\nexports.default = Pages;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9QYWdlcy9QYWdlcy5qcz9iODY4Il0sIm5hbWVzIjpbIlBhZ2VzIiwiY29udGVudCIsInN0YXRlIiwicGFnZXRpdGxlIiwicGFyZW50IiwiYmx1ZXByaW50IiwidGVtcGxhdGUiLCJjb25maWciLCJjb250ZXh0S2V5IiwidGhlbiIsInJlc291cmNlcyIsImJ1aWxkUGFuZWwiLCJwYWdlTGlzdCIsInBhcmVudHMiLCJpZCIsInZhbHVlIiwibGFiZWwiLCJsbmciLCJidWlsZFRyZWUiLCJidWlsZENyZWF0ZVBhZ2UiLCJhcHBlbmRDaGlsZCIsImZvcm1XcmFwcGVyIiwicGFnZUZvcm0iLCJmaWVsZHMiLCJ0aXRsZSIsIm9uQ2hhbmdlIiwibmFtZSIsIm9uQ2hhbmdlQ2hvaWNlcyIsImNob2ljZXMiLCJzaG91bGRTb3J0Iiwic2V0dGluZyIsInNlbGVjdCIsImNob2ljZXNJbnN0YW5jZSIsImRlZmF1bHRWYWx1ZSIsImFqYXgiLCJncm91cHMiLCJjYXRlZ29yaWVzIiwiZm9yRWFjaCIsIm9wdGlvbnMiLCJjYXRlZ29yeSIsImJsdWVwcmludHMiLCJwdXNoIiwiZGlzYWJsZWQiLCJjYWxsYmFjayIsImNhdGNoIiwiZW1pdCIsImVycm9yIiwibWVzc2FnZSIsImRhdGEiLCJ0ZW1wbGF0ZXMiLCJzZWxlY3RlZCIsImNyZWF0ZUJ1dHRvbiIsInBlcm1pc3Npb24iLCJuZXdfZG9jdW1lbnQiLCJhbGVydCIsIm5ld19kb2N1bWVudF9pbl9yb290IiwibG9jYXRpb24iLCJocmVmIiwianNvbiIsInVybCIsImVyciIsInJlc3BvbnNlIiwiX2ZpZWxkcyIsIm9uRXJyb3IiLCJjcmVhdGVQYWdlQnV0dG9uIiwiZSIsImVsIiwiYWN0aXZlVGFicyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpc0FjdGl2ZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidGFiIiwicmVtb3ZlIiwiYWRkIiwic3RvcFByb3BhZ2F0aW9uIiwicGFnZXMiLCJ3cmFwcGVyIiwicGFnZSIsInBhZ2VUaXRsZSIsInRhcmdldCIsInBhZ2VNZW51IiwicHVibGlzaGVkIiwiZGVsZXRlZCIsImhpZGVtZW51IiwiYXBwZW5kIiwiaXNGcmVkIiwiY3JlYXRlTWVudSIsImNoaWxkcmVuIiwibGVuZ3RoIiwic2V0QXR0cmlidXRlIiwiZXhwYW5kZXIiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwibWVudSIsImhlYWRlciIsImVkaXQiLCJ3aW5kb3ciLCJkdXBsaWNhdGUiLCJwdWJsaXNoIiwidW5wdWJsaXNoIiwiY3JlYXRlQ2hpbGRQYWdlIiwiZGVsZXRlUGFnZSIsInVuRGVsZXRlUGFnZSIsImljb24iLCJleHBhbmRhYmxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBOztBQUNBOzs7Ozs7Ozs7O0lBRXFCQSxLOzs7Ozs7Ozs7OzsrQkFLVjtBQUNILGlCQUFLQyxPQUFMLEdBQWUsSUFBZjs7QUFFQSxpQkFBS0MsS0FBTCxHQUFhO0FBQ1RDLDJCQUFXLEVBREY7QUFFVEMsd0JBQVEsQ0FGQztBQUdUQywyQkFBVyxDQUhGO0FBSVRDLDBCQUFVO0FBSkQsYUFBYjtBQU1IOzs7Z0NBRU87QUFBQTs7QUFDSixtQkFBTyw0QkFBZ0IsS0FBS0MsTUFBTCxDQUFZQyxVQUE1QixFQUNGQyxJQURFLENBQ0cscUJBQWE7QUFDZix1QkFBS1IsT0FBTCxHQUFlUyxTQUFmO0FBQ0EsdUJBQU8sT0FBS0MsVUFBTCxFQUFQO0FBQ0gsYUFKRSxDQUFQO0FBS0g7OztxQ0FFWTtBQUNULGdCQUFNVixVQUFVLG1CQUFJLENBQUMsYUFBRCxDQUFKLENBQWhCO0FBQ0EsaUJBQUtXLFFBQUwsR0FBZ0Isa0JBQUcsQ0FBQyxrQkFBRCxDQUFILENBQWhCOztBQUVBLGlCQUFLQyxPQUFMLEdBQWUsQ0FBQztBQUNaQyxvQkFBSSxDQURRO0FBRVpDLHVCQUFPLEdBRks7QUFHWkMsdUJBQU8s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SHpHLEsiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaWRlYmFyIGZyb20gJy4uLy4uL1NpZGViYXInO1xuaW1wb3J0IGVtaXR0ZXIgZnJvbSBcIi4uLy4uLy4uL0VFXCI7XG5pbXBvcnQgeyBkaXYsIGRsLCBkZCwgZHQsIGJ1dHRvbiwgaDMsIGZvcm0sIGZpZWxkU2V0LCBsZWdlbmQgfSBmcm9tICcuLi8uLi8uLi9VSS9FbGVtZW50cyc7XG5pbXBvcnQgeyB0ZXh0LCBjaG9pY2VzIH0gZnJvbSAnLi4vLi4vLi4vVUkvSW5wdXRzJztcbmltcG9ydCBmcmVkQ29uZmlnIGZyb20gJy4uLy4uLy4uL0NvbmZpZyc7XG5pbXBvcnQgeyBnZXRSZXNvdXJjZVRyZWUsIGdldFRlbXBsYXRlcywgY3JlYXRlUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9BY3Rpb25zL3BhZ2VzJztcbmltcG9ydCB7IGdldEJsdWVwcmludHMgfSBmcm9tICcuLi8uLi8uLi9BY3Rpb25zL2JsdWVwcmludHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlcyBleHRlbmRzIFNpZGViYXIge1xuICAgIHN0YXRpYyB0aXRsZSA9ICdmcmVkLmZlLnBhZ2VzJztcbiAgICBzdGF0aWMgaWNvbiA9ICdmcmVkLS1zaWRlYmFyX3BhZ2VzJztcbiAgICBzdGF0aWMgZXhwYW5kYWJsZSA9IHRydWU7XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBwYWdldGl0bGU6ICcnLFxuICAgICAgICAgICAgcGFyZW50OiAwLFxuICAgICAgICAgICAgYmx1ZXByaW50OiAwLFxuICAgICAgICAgICAgdGVtcGxhdGU6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjbGljaygpIHtcbiAgICAgICAgcmV0dXJuIGdldFJlc291cmNlVHJlZSh0aGlzLmNvbmZpZy5jb250ZXh0S2V5KVxuICAgICAgICAgICAgLnRoZW4ocmVzb3VyY2VzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSByZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRQYW5lbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYnVpbGRQYW5lbCgpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGRpdihbJ2ZyZWQtLXBhZ2VzJ10pO1xuICAgICAgICB0aGlzLnBhZ2VMaXN0ID0gZGwoWydmcmVkLS1wYWdlc19saXN0J10pO1xuXG4gICAgICAgIHRoaXMucGFyZW50cyA9IFt7XG4gICAgICAgICAgICBpZDogMCxcbiAgICAgICAgICAgIHZhbHVlOiAnMCcsXG4gICAgICAgICAgICBsYWJlbDogZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucGFnZXMubm9fcGFyZW50JylcbiAgICAgICAgfV07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmJ1aWxkVHJlZSh0aGlzLmNvbnRlbnQsIHRoaXMucGFnZUxpc3QpO1xuICAgICAgICB0aGlzLmJ1aWxkQ3JlYXRlUGFnZSh0aGlzLnBhZ2VMaXN0KTtcblxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRoaXMucGFnZUxpc3QpO1xuXG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cblxuICAgIGJ1aWxkQ3JlYXRlUGFnZShjb250ZW50KSB7XG4gICAgICAgIGNvbnN0IGZvcm1XcmFwcGVyID0gZGQoKTtcblxuICAgICAgICBjb25zdCBwYWdlRm9ybSA9IGZvcm0oWydmcmVkLS1wYWdlc19jcmVhdGUnXSk7XG5cbiAgICAgICAgY29uc3QgZmllbGRzID0gZmllbGRTZXQoKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBsZWdlbmQoJ2ZyZWQuZmUucGFnZXMuY3JlYXRlX3BhZ2UnKTtcblxuICAgICAgICBjb25zdCBvbkNoYW5nZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uQ2hhbmdlQ2hvaWNlcyA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVtuYW1lXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgICAgICAgY29uc3QgcGFnZXRpdGxlID0gdGV4dCh7XG4gICAgICAgICAgICBuYW1lOiAncGFnZXRpdGxlJyxcbiAgICAgICAgICAgIGxhYmVsOiAnZnJlZC5mZS5wYWdlcy5wYWdlX3RpdGxlJ1xuICAgICAgICB9LCB0aGlzLnN0YXRlLnBhZ2V0aXRsZSwgb25DaGFuZ2UpO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChwYWdldGl0bGUpO1xuICAgICAgICBcbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKGNob2ljZXMoe1xuICAgICAgICAgICAgbmFtZTogJ3BhcmVudCcsXG4gICAgICAgICAgICBsYWJlbDogZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucGFnZXMucGFyZW50JyksXG4gICAgICAgICAgICBjaG9pY2VzOiB7XG4gICAgICAgICAgICAgICAgY2hvaWNlcyA6IHRoaXMucGFyZW50cyxcbiAgICAgICAgICAgICAgICBzaG91bGRTb3J0OiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLnN0YXRlLnBhcmVudCwgb25DaGFuZ2VDaG9pY2VzKSk7XG5cbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKGNob2ljZXMoe1xuICAgICAgICAgICAgbmFtZTogJ2JsdWVwcmludCcsXG4gICAgICAgICAgICBsYWJlbDogZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUucGFnZXMuYmx1ZXByaW50JyksXG4gICAgICAgIH0sIHRoaXMuc3RhdGUucGFyZW50LCBvbkNoYW5nZUNob2ljZXMsIChzZXR0aW5nLCBsYWJlbCwgc2VsZWN0LCBjaG9pY2VzSW5zdGFuY2UsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgY2hvaWNlc0luc3RhbmNlLmFqYXgoY2FsbGJhY2sgPT4ge1xuICAgICAgICAgICAgICAgIGdldEJsdWVwcmludHModHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oY2F0ZWdvcmllcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5ibHVlcHJpbnRzLmZvckVhY2goYmx1ZXByaW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBibHVlcHJpbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyArIGJsdWVwcmludC5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGNhdGVnb3J5LmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM6IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhncm91cHMsICd2YWx1ZScsICdsYWJlbCcpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmcnLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKGNob2ljZXMoe1xuICAgICAgICAgICAgbmFtZTogJ3RlbXBsYXRlJyxcbiAgICAgICAgICAgIGxhYmVsOiBmcmVkQ29uZmlnLmxuZygnZnJlZC5mZS5wYWdlcy50ZW1wbGF0ZScpLFxuICAgICAgICB9LCB0aGlzLnN0YXRlLnBhcmVudCwgb25DaGFuZ2VDaG9pY2VzLCAoc2V0dGluZywgbGFiZWwsIHNlbGVjdCwgY2hvaWNlc0luc3RhbmNlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNob2ljZXNJbnN0YW5jZS5hamF4KGNhbGxiYWNrID0+IHtcbiAgICAgICAgICAgICAgICBnZXRUZW1wbGF0ZXMoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEudGVtcGxhdGVzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2VDaG9pY2VzKCd0ZW1wbGF0ZScsIGRhdGEuZGF0YS50ZW1wbGF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YS50ZW1wbGF0ZXNbMF0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YS5kYXRhLnRlbXBsYXRlcywgJ3ZhbHVlJywgJ25hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBjcmVhdGVCdXR0b24gPSBidXR0b24oJ2ZyZWQuZmUucGFnZXMuY3JlYXRlX3BhZ2UnLCAnZnJlZC5mZS5wYWdlcy5jcmVhdGVfcGFnZScsIFsnZnJlZC0tYnRuLXBhbmVsJywgJ2ZyZWQtLWJ0bi1hcHBseSddLCAoKSA9PiB7XG4gICAgICAgICAgICBpZighZnJlZENvbmZpZy5jb25maWcucGVybWlzc2lvbi5uZXdfZG9jdW1lbnQpe1xuICAgICAgICAgICAgICAgIGFsZXJ0KGZyZWRDb25maWcubG5nKCdmcmVkLmZlLnBlcm1pc3Npb24ubmV3X2RvY3VtZW50JykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIXRoaXMuc3RhdGUucGFyZW50ID09PSAwICYmICFmcmVkQ29uZmlnLmNvbmZpZy5wZXJtaXNzaW9uLm5ld19kb2N1bWVudF9pbl9yb290KXtcbiAgICAgICAgICAgICAgICBhbGVydChmcmVkQ29uZmlnLmxuZygnZnJlZC5mZS5wZXJtaXNzaW9uLm5ld19kb2N1bWVudF9pbl9yb290JykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmcnLCBmcmVkQ29uZmlnLmxuZygnZnJlZC5mZS5wYWdlcy5jcmVhdGluZ19wYWdlJykpO1xuXG4gICAgICAgICAgICBjcmVhdGVSZXNvdXJjZSh0aGlzLnN0YXRlLnBhcmVudCwgdGhpcy5zdGF0ZS50ZW1wbGF0ZSwgdGhpcy5zdGF0ZS5wYWdldGl0bGUsIHRoaXMuc3RhdGUuYmx1ZXByaW50KVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGpzb24udXJsO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nLWhpZGUnKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZS5fZmllbGRzLnBhZ2V0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBwYWdldGl0bGUub25FcnJvcihlcnIucmVzcG9uc2UuX2ZpZWxkcy5wYWdldGl0bGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nLWhpZGUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQoY3JlYXRlQnV0dG9uKTtcblxuICAgICAgICBwYWdlRm9ybS5hcHBlbmRDaGlsZChmaWVsZHMpO1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZVBhZ2VCdXR0b24gPSBkdCgnZnJlZC5mZS5wYWdlcy5jcmVhdGVfcGFnZScsIFsnZnJlZC0tYWNjb3JkaW9uLXBsdXMnXSwgKGUsIGVsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVUYWJzID0gdGhpcy5wYWdlTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdkdC5hY3RpdmUnKTtcblxuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB0YWIgb2YgYWN0aXZlVGFicykge1xuICAgICAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXNpZGViYXItZHQtYWN0aXZlJywgY3JlYXRlUGFnZUJ1dHRvbiwgZm9ybVdyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmb3JtV3JhcHBlci5hcHBlbmRDaGlsZChwYWdlRm9ybSk7XG5cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVQYWdlQnV0dG9uKTtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChmb3JtV3JhcHBlcik7XG4gICAgfVxuXG4gICAgYnVpbGRUcmVlKHBhZ2VzLCB3cmFwcGVyKSB7XG4gICAgICAgIHBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnICsgcGFnZS5pZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogcGFnZS5wYWdldGl0bGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlVGl0bGUgPSBkdChwYWdlLnBhZ2V0aXRsZSwgW10sIChlLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gcGFnZVRpdGxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVGFicyA9IHRoaXMucGFnZUxpc3QucXVlcnlTZWxlY3RvckFsbCgnZHQuYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0YWIgb2YgYWN0aXZlVGFicykge1xuICAgICAgICAgICAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXNpZGViYXItZHQtYWN0aXZlJywgcGFnZVRpdGxlLCBwYWdlTWVudSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwYWdlLnB1Ymxpc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHBhZ2VUaXRsZS5jbGFzc0xpc3QuYWRkKCdmcmVkLS1wYWdlc191bnB1Ymxpc2hlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFnZS5kZWxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcGFnZVRpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLXBhZ2VzX2RlbGV0ZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhZ2UuaGlkZW1lbnUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBwYWdlVGl0bGUuY2xhc3NMaXN0LmFkZCgnZnJlZC0tcGFnZXNfaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kKHBhZ2VUaXRsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VNZW51ID0gZGQoKTtcbiAgICAgICAgICAgIGlmIChwYWdlLmlzRnJlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHBhZ2VNZW51LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTWVudShwYWdlKSk7XG5cbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZChwYWdlTWVudSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZ2VUaXRsZS5jbGFzc0xpc3QuYWRkKCdmcmVkLS1wYWdlc19ub2VkaXQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhZ2UuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZGwoWydmcmVkLS1oaWRkZW4nXSk7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRUcmVlKHBhZ2UuY2hpbGRyZW4sIGNoaWxkcmVuKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGV4cGFuZGVyID0gYnV0dG9uKCcnLCAnZnJlZC5mZS5wYWdlcy5leHBhbmRfcGFnZScsIFsnZnJlZC0tYnRuLWxpc3QnLCAnZnJlZC0tYnRuLWxpc3RfZXhwYW5kJ10sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGFuZGVyLmNsYXNzTGlzdC5jb250YWlucygnZnJlZC0tYnRuLWxpc3RfY2xvc2UnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kZXIuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0tYnRuLWxpc3RfY2xvc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kZXIuc2V0QXR0cmlidXRlKCd0aXRsZScsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLnBhZ2VzLmNvbGxhcHNlX3BhZ2UnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZGVyLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWJ0bi1saXN0X2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZXIuc2V0QXR0cmlidXRlKCd0aXRsZScsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLnBhZ2VzLmNvbGxhcHNlX3BhZ2UnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBwYWdlVGl0bGUuaW5zZXJ0QmVmb3JlKGV4cGFuZGVyLCBwYWdlVGl0bGUuZmlyc3RDaGlsZCk7XG5cbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZChjaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZU1lbnUocGFnZSkge1xuICAgICAgICBjb25zdCBtZW51ID0gZGl2KFsnZnJlZC0tcGFnZXNfbWVudSddKTtcblxuICAgICAgICBjb25zdCBoZWFkZXIgPSBoMyhwYWdlLnBhZ2V0aXRsZSk7XG5cbiAgICAgICAgY29uc3QgZWRpdCA9IGJ1dHRvbignZnJlZC5mZS5wYWdlcy5lZGl0JywgJ2ZyZWQuZmUucGFnZXMuZWRpdCcsIFtdLCAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhZ2UudXJsO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkdXBsaWNhdGUgPSBidXR0b24oJ2ZyZWQuZmUucGFnZXMuZHVwbGljYXRlJywgJ2ZyZWQuZmUucGFnZXMuZHVwbGljYXRlJyk7XG4gICAgICAgIGNvbnN0IHB1Ymxpc2ggPSBidXR0b24oJ2ZyZWQuZmUucGFnZXMucHVibGlzaCcsICdmcmVkLmZlLnBhZ2VzLnB1Ymxpc2gnKTtcbiAgICAgICAgY29uc3QgdW5wdWJsaXNoID0gYnV0dG9uKCdmcmVkLmZlLnBhZ2VzLnVucHVibGlzaCcsICdmcmVkLmZlLnBhZ2VzLnVucHVibGlzaCcpO1xuICAgICAgICBjb25zdCBjcmVhdGVDaGlsZFBhZ2UgPSBidXR0b24oJ2ZyZWQuZmUucGFnZXMuY3JlYXRlX2NoaWxkX3BhZ2UnLCAnZnJlZC5mZS5wYWdlcy5jcmVhdGVfY2hpbGRfcGFnZScpO1xuICAgICAgICBjb25zdCBkZWxldGVQYWdlID0gYnV0dG9uKCdmcmVkLmZlLnBhZ2VzLmRlbGV0ZScsICdmcmVkLmZlLnBhZ2VzLmRlbGV0ZScpO1xuICAgICAgICBjb25zdCB1bkRlbGV0ZVBhZ2UgPSBidXR0b24oJ2ZyZWQuZmUucGFnZXMudW5kZWxldGUnLCAnZnJlZC5mZS5wYWdlcy51bmRlbGV0ZScpO1xuXG4gICAgICAgIG1lbnUuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICAgICAgbWVudS5hcHBlbmRDaGlsZChlZGl0KTtcbiAgICAgICAgbWVudS5hcHBlbmRDaGlsZChkdXBsaWNhdGUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHBhZ2UucHVibGlzaGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICBtZW51LmFwcGVuZENoaWxkKHVucHVibGlzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZW51LmFwcGVuZENoaWxkKHB1Ymxpc2gpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBtZW51LmFwcGVuZENoaWxkKGNyZWF0ZUNoaWxkUGFnZSk7XG4gICAgICAgIFxuICAgICAgICBpZiAocGFnZS5kZWxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICBtZW51LmFwcGVuZENoaWxkKHVuRGVsZXRlUGFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZW51LmFwcGVuZENoaWxkKGRlbGV0ZVBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbnU7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvQ29tcG9uZW50cy9TaWRlYmFyL1BhZ2VzL1BhZ2VzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Elements = __webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Sidebar = function () {\n    function Sidebar(sidebarWrapper) {\n        var _this = this;\n\n        _classCallCheck(this, Sidebar);\n\n        this.sidebarWrapper = sidebarWrapper;\n        this.fredConfig = _Config2.default;\n        this.config = _Config2.default.config;\n        this.titleEl = null;\n        this.contentEl = null;\n\n        var render = function render(text) {\n            var expandable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            _this.titleEl = (0, _Elements.dt)(text);\n\n            if (_this.constructor.icon) {\n                _this.titleEl.classList.add(_this.constructor.icon);\n            }\n\n            if (expandable === false) {\n                _this.titleEl.addEventListener('click', _this.click);\n            } else {\n                _this.titleEl.addEventListener('click', function () {\n                    if (_this.titleEl.classList.contains('active')) {\n                        _EE2.default.emit('fred-sidebar-collapse', _this);\n                    } else {\n                        _EE2.default.emit('fred-sidebar-expand', _this, text, _this.click());\n                    }\n                });\n            }\n\n            _this.contentEl = document.createElement('dd');\n\n            _this.sidebarWrapper.appendChild(_this.titleEl);\n            _this.sidebarWrapper.appendChild(_this.contentEl);\n        };\n\n        this.init();\n\n        render(this.constructor.title, this.constructor.expandable);\n    }\n\n    _createClass(Sidebar, [{\n        key: 'init',\n        value: function init() {}\n    }, {\n        key: 'click',\n        value: function click() {}\n    }, {\n        key: 'expand',\n        value: function expand() {\n            this.titleEl.classList.add('active');\n        }\n    }, {\n        key: 'collapse',\n        value: function collapse() {\n            this.titleEl.classList.remove('active');\n        }\n    }, {\n        key: 'setContent',\n        value: function setContent(content) {\n            if ((typeof content === 'undefined' ? 'undefined' : _typeof(content)) === 'object' && content.outerHTML !== undefined) {\n                this.contentEl.innerHTML = '';\n                this.contentEl.appendChild((0, _Elements.h3)(this.constructor.title));\n                this.contentEl.appendChild(content);\n                return;\n            }\n            this.contentEl.appendChild((0, _Elements.h3)(this.constructor.title));\n            this.contentEl.innerHTML = content;\n        }\n    }, {\n        key: 'loading',\n        value: function loading() {\n            var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n            text = text || 'Retrieving ' + _Config2.default.lng(this.constructor.title);\n\n            var wrapper = (0, _Elements.div)('fred--loading_wrapper', [(0, _Elements.span)('fred--loading'), text]);\n\n            this.setContent(wrapper);\n        }\n    }, {\n        key: 'afterExpand',\n        value: function afterExpand() {}\n    }]);\n\n    return Sidebar;\n}();\n\nSidebar.title = 'TITLE NOT SET';\nSidebar.icon = '';\nSidebar.expandable = false;\nexports.default = Sidebar;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci5qcz80NGZmIl0sIm5hbWVzIjpbIlNpZGViYXIiLCJzaWRlYmFyV3JhcHBlciIsImZyZWRDb25maWciLCJjb25maWciLCJ0aXRsZUVsIiwiY29udGVudEVsIiwicmVuZGVyIiwidGV4dCIsImV4cGFuZGFibGUiLCJjb25zdHJ1Y3RvciIsImljb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xpY2siLCJjb250YWlucyIsImVtaXQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImluaXQiLCJ0aXRsZSIsInJlbW92ZSIsImNvbnRlbnQiLCJvdXRlckhUTUwiLCJ1bmRlZmluZWQiLCJpbm5lckhUTUwiLCJsbmciLCJ3cmFwcGVyIiwic2V0Q29udGVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0lBRXFCQSxPO0FBS2pCLHFCQUFZQyxjQUFaLEVBQTRCO0FBQUE7O0FBQUE7O0FBQ3hCLGFBQUtBLGNBQUwsR0FBc0JBLGNBQXRCO0FBQ0EsYUFBS0MsVUFBTDtBQUNBLGFBQUtDLE1BQUwsR0FBYyxpQkFBV0EsTUFBekI7QUFDQSxhQUFLQyxPQUFMLEdBQWUsSUFBZjtBQUNBLGFBQUtDLFNBQUwsR0FBaUIsSUFBakI7O0FBRUEsWUFBTUMsU0FBUyxTQUFUQSxNQUFTLENBQUNDLElBQUQsRUFBOEI7QUFBQSxnQkFBdkJDLFVBQXVCLHVFQUFWLEtBQVU7O0FBQ3pDLGtCQUFLSixPQUFMLEdBQWUsa0JBQUdHLElBQUgsQ0FBZjs7QUFFQSxnQkFBSSxNQUFLRSxXQUFMLENBQWlCQyxJQUFyQixFQUEyQjtBQUN2QixzQkFBS04sT0FBTCxDQUFhTyxTQUFiLENBQXVCQyxHQUF2QixDQUEyQixNQUFLSCxXQUFMLENBQWlCQyxJQUE1QztBQUNIOztBQUVELGdCQUFJRixlQUFlLEtBQW5CLEVBQTBCO0FBQ3RCLHNCQUFLSixPQUFMLENBQWFTLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLE1BQUtDLEtBQTVDO0FBQ0gsYUFGRCxNQUVPO0FBQ0gsc0JBQUtWLE9BQUwsQ0FBYVMsZ0JBQWIsQ0FBOEIsT0FBOUIsRUFBdUMsWUFBTTtBQUN6Qyx3QkFBSSxNQUFLVCxPQUFMLENBQWFPLFNBQWIsQ0FBdUJJLFFBQXZCLENBQWdDLFFBQWhDLENBQUosRUFBK0M7QUFDM0MscUNBQVFDLElBQVIsQ0FBYSx1QkFBYjtBQUNILHFCQUZELE1BRU87QUFDSCxxQ0FBUUEsSUFBUixDQUFhLHFCQUFiLFNBQTBDVCxJQUExQyxFQUFnRCxNQUFLTyxLQUFMLEVBQWhEO0FBQ0g7QUFDSixpQkFORDtBQU9IOztBQUVELGtCQUFLVCxTQUFMLEdBQWlCWSxTQUFTQyxhQUFULENBQXVCLElBQXZCLENBQWpCOztBQUVBLGtCQUFLakIsY0FBTCxDQUFvQmtCLFdBQXBCLENBQWdDLE1BQUtmLE9BQXJDO0FBQ0Esa0JBQUtILGNBQUwsQ0FBb0JrQixXQUFwQixDQUFnQyxNQUFLZCxTQUFyQztBQUNILFNBdkJEOztBQXlCQSxhQUFLZSxJQUFMOztBQUVBZCxlQUFPLEtBQUtHLFdBQUwsQ0FBaUJZLEtBQXhCLEVBQStCLEtBQUtaLFdBQUwsQ0FBaUJELFVBQWhEO0FBQ0g7Ozs7K0JBRU0sQ0FBRTs7O2dDQUVELENBQUU7OztpQ0FFRDtBQUNMLGlCQUFLSixPQUFMLENBQWFPLFNBQWIsQ0FBdUJDLEdBQXZCLENBQTJCLFFBQTNCO0FBQ0g7OzttQ0FFVTtBQUNQLGlCQUFLUixPQUFMLENBQWFPLFNBQWIsQ0FBdUJXLE1BQXZCLENBQThCLFFBQTlCO0FBQ0g7OzttQ0FFVUMsTyxFQUFTO0FBQ2hCLGdCQUFLLFFBQU9BLE9BQVAseUNBQU9BLE9BQVAsT0FBbUIsUUFBcEIsSUFBa0NBLFFBQVFDLFNBQVIsS0FBc0JDLFNBQTVELEVBQXdFO0FBQ3BFLHFCQUFLcEIsU0FBTCxDQUFlcUIsU0FBZixHQUEyQixFQUEzQjtBQUNBLHFCQUFLckIsU0FBTCxDQUFlYyxXQUFmLENBQTJCLGtCQUFHLEtBQUtWLFdBQUwsQ0FBaUJZLEtBQXBCLENBQTNCO0FBQ0EscUJBQUtoQixTQUFMLENBQWVjLFdBQWYsQ0FBMkJJLE9BQTNCO0FBQ0E7QUFDSDtBQUNELGlCQUFLbEIsU0FBTCxDQUFlYyxXQUFmLENBQTJCLGtCQUFHLEtBQUtWLFdBQUwsQ0FBaUJZLEtBQXBCLENBQTNCO0FBQ0EsaUJBQUtoQixTQUFMLENBQWVxQixTQUFmLEdBQTJCSCxPQUEzQjtBQUNIOzs7a0NBRWtCO0FBQUEsZ0JBQVhoQixJQUFXLHVFQUFKLEVBQUk7O0FBQ2ZBLG1CQUFPQSx3QkFBc0IsaUJBQVdvQixHQUFYLENBQWUsS0FBS2xCLFdBQUwsQ0FBaUJZLEtBQWhDLENBQTdCOztBQUVBLGdCQUFNTyxVQUFVLG1CQUFJLHVCQUFKLEVBQTZCLENBQ3pDLG9CQUFLLGVBQUwsQ0FEeUMsRUFFekNyQixJQUZ5QyxDQUE3QixDQUFoQjs7QUFLQSxpQkFBS3NCLFVBQUwsQ0FBZ0JELE9BQWhCO0FBQ0g7OztzQ0FFYSxDQUFFOzs7Ozs7QUE1RUM1QixPLENBQ1ZxQixLLEdBQVEsZTtBQURFckIsTyxDQUVWVSxJLEdBQU8sRTtBQUZHVixPLENBR1ZRLFUsR0FBYSxLO2tCQUhIUixPIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW1pdHRlciBmcm9tICcuLi9FRSc7XG5pbXBvcnQgZnJlZENvbmZpZyBmcm9tICcuLy4uL0NvbmZpZyc7XG5pbXBvcnQgeyBkaXYsIHNwYW4sIGR0LCBoMyB9IGZyb20gJy4uL1VJL0VsZW1lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2lkZWJhciB7XG4gICAgc3RhdGljIHRpdGxlID0gJ1RJVExFIE5PVCBTRVQnO1xuICAgIHN0YXRpYyBpY29uID0gJyc7XG4gICAgc3RhdGljIGV4cGFuZGFibGUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHNpZGViYXJXcmFwcGVyKSB7XG4gICAgICAgIHRoaXMuc2lkZWJhcldyYXBwZXIgPSBzaWRlYmFyV3JhcHBlcjtcbiAgICAgICAgdGhpcy5mcmVkQ29uZmlnID0gZnJlZENvbmZpZztcbiAgICAgICAgdGhpcy5jb25maWcgPSBmcmVkQ29uZmlnLmNvbmZpZztcbiAgICAgICAgdGhpcy50aXRsZUVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZW50RWwgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVuZGVyID0gKHRleHQsIGV4cGFuZGFibGUgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy50aXRsZUVsID0gZHQodGV4dCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLmljb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbnN0cnVjdG9yLmljb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXhwYW5kYWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aXRsZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aXRsZUVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLWNvbGxhcHNlJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtc2lkZWJhci1leHBhbmQnLCB0aGlzLCB0ZXh0LCB0aGlzLmNsaWNrKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udGVudEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGQnKTtcblxuICAgICAgICAgICAgdGhpcy5zaWRlYmFyV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlRWwpO1xuICAgICAgICAgICAgdGhpcy5zaWRlYmFyV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgcmVuZGVyKHRoaXMuY29uc3RydWN0b3IudGl0bGUsIHRoaXMuY29uc3RydWN0b3IuZXhwYW5kYWJsZSk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHt9XG5cbiAgICBjbGljaygpIHt9XG4gICAgXG4gICAgZXhwYW5kKCkge1xuICAgICAgICB0aGlzLnRpdGxlRWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbGxhcHNlKCkge1xuICAgICAgICB0aGlzLnRpdGxlRWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICAgIFxuICAgIHNldENvbnRlbnQoY29udGVudCkge1xuICAgICAgICBpZiAoKHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0JykgJiYgKGNvbnRlbnQub3V0ZXJIVE1MICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRFbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKGgzKHRoaXMuY29uc3RydWN0b3IudGl0bGUpKTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKGgzKHRoaXMuY29uc3RydWN0b3IudGl0bGUpKTtcbiAgICAgICAgdGhpcy5jb250ZW50RWwuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB9XG4gICAgXG4gICAgbG9hZGluZyh0ZXh0ID0gJycpIHtcbiAgICAgICAgdGV4dCA9IHRleHQgfHwgYFJldHJpZXZpbmcgJHtmcmVkQ29uZmlnLmxuZyh0aGlzLmNvbnN0cnVjdG9yLnRpdGxlKX1gO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRpdignZnJlZC0tbG9hZGluZ193cmFwcGVyJywgW1xuICAgICAgICAgICAgc3BhbignZnJlZC0tbG9hZGluZycpLFxuICAgICAgICAgICAgdGV4dFxuICAgICAgICBdKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2V0Q29udGVudCh3cmFwcGVyKTtcbiAgICB9XG5cbiAgICBhZnRlckV4cGFuZCgpIHt9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Editors = __webpack_require__(7);\n\nvar _Editors2 = _interopRequireDefault(_Editors);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Config = function () {\n    function Config() {\n        _classCallCheck(this, Config);\n\n        this._config = {};\n        this._editors = _Editors2.default;\n        this._rtes = {};\n        this._pageSettings = {};\n        this._tagger = {};\n        this._lang = {};\n        this._fred = null;\n    }\n\n    _createClass(Config, [{\n        key: 'registerEditor',\n        value: function registerEditor(name, editor) {\n            if (!this._editors[name]) {\n                this._editors[name] = editor;\n                return true;\n            } else {\n                console.log('Editor \"' + name + '\" is already registered');\n                return false;\n            }\n        }\n    }, {\n        key: 'registerRTE',\n        value: function registerRTE(name, rteInit) {\n            if (!this._rtes[name]) {\n                this._rtes[name] = rteInit;\n                return true;\n            } else {\n                console.log('RTE \"' + name + '\" is already registered');\n                return false;\n            }\n        }\n    }, {\n        key: 'lng',\n        value: function lng(key, params) {\n            if (this._lang[key] === undefined) {\n                console.log('[FRED] Language string: ' + key + ' not found');\n                return '';\n            }\n\n            if (params && (typeof params === 'undefined' ? 'undefined' : _typeof(params)) === 'object') {\n                var translation = \"\" + this._lang[key];\n                for (var _key in params) {\n                    if (params.hasOwnProperty(_key)) {\n                        translation = translation.replace('[[+' + _key + ']]', params[_key]);\n                    }\n                }\n\n                return translation;\n            }\n\n            return this._lang[key];\n        }\n    }, {\n        key: 'lngExists',\n        value: function lngExists(key) {\n            return this._lang[key] !== undefined;\n        }\n    }, {\n        key: 'fred',\n        set: function set(fred) {\n            this._fred = fred;\n        },\n        get: function get() {\n            return this._fred;\n        }\n    }, {\n        key: 'config',\n        set: function set(config) {\n            this._config = config;\n        },\n        get: function get() {\n            return this._config;\n        }\n    }, {\n        key: 'pageSettings',\n        set: function set(pageSettings) {\n            this._pageSettings = pageSettings;\n        },\n        get: function get() {\n            return this._pageSettings;\n        }\n    }, {\n        key: 'tagger',\n        set: function set(tagger) {\n            this._tagger = tagger;\n        },\n        get: function get() {\n            return this._tagger;\n        }\n    }, {\n        key: 'lang',\n        set: function set(lang) {\n            this._lang = lang;\n        }\n    }, {\n        key: 'editors',\n        get: function get() {\n            return this._editors;\n        }\n    }, {\n        key: 'rtes',\n        get: function get() {\n            return this._rtes;\n        }\n    }]);\n\n    return Config;\n}();\n\nvar config = new Config();\n\nexports.default = config;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbmZpZy5qcz8xOTc3Il0sIm5hbWVzIjpbIkNvbmZpZyIsIl9jb25maWciLCJfZWRpdG9ycyIsIl9ydGVzIiwiX3BhZ2VTZXR0aW5ncyIsIl90YWdnZXIiLCJfbGFuZyIsIl9mcmVkIiwibmFtZSIsImVkaXRvciIsImNvbnNvbGUiLCJsb2ciLCJydGVJbml0Iiwia2V5IiwicGFyYW1zIiwidW5kZWZpbmVkIiwidHJhbnNsYXRpb24iLCJoYXNPd25Qcm9wZXJ0eSIsInJlcGxhY2UiLCJmcmVkIiwiY29uZmlnIiwicGFnZVNldHRpbmdzIiwidGFnZ2VyIiwibGFuZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7OztJQUVNQSxNO0FBQ0Ysc0JBQWM7QUFBQTs7QUFDVixhQUFLQyxPQUFMLEdBQWUsRUFBZjtBQUNBLGFBQUtDLFFBQUw7QUFDQSxhQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNBLGFBQUtDLGFBQUwsR0FBcUIsRUFBckI7QUFDQSxhQUFLQyxPQUFMLEdBQWUsRUFBZjtBQUNBLGFBQUtDLEtBQUwsR0FBYSxFQUFiO0FBQ0EsYUFBS0MsS0FBTCxHQUFhLElBQWI7QUFDSDs7Ozt1Q0E4Q2NDLEksRUFBTUMsTSxFQUFRO0FBQ3pCLGdCQUFJLENBQUMsS0FBS1AsUUFBTCxDQUFjTSxJQUFkLENBQUwsRUFBMEI7QUFDdEIscUJBQUtOLFFBQUwsQ0FBY00sSUFBZCxJQUFzQkMsTUFBdEI7QUFDQSx1QkFBTyxJQUFQO0FBQ0gsYUFIRCxNQUdPO0FBQ0hDLHdCQUFRQyxHQUFSLGNBQXVCSCxJQUF2QjtBQUNBLHVCQUFPLEtBQVA7QUFDSDtBQUNKOzs7b0NBRVdBLEksRUFBTUksTyxFQUFTO0FBQ3ZCLGdCQUFJLENBQUMsS0FBS1QsS0FBTCxDQUFXSyxJQUFYLENBQUwsRUFBdUI7QUFDbkIscUJBQUtMLEtBQUwsQ0FBV0ssSUFBWCxJQUFtQkksT0FBbkI7QUFDQSx1QkFBTyxJQUFQO0FBQ0gsYUFIRCxNQUdPO0FBQ0hGLHdCQUFRQyxHQUFSLFdBQW9CSCxJQUFwQjtBQUNBLHVCQUFPLEtBQVA7QUFDSDtBQUNKOzs7NEJBRUdLLEcsRUFBS0MsTSxFQUFRO0FBQ2IsZ0JBQUksS0FBS1IsS0FBTCxDQUFXTyxHQUFYLE1BQW9CRSxTQUF4QixFQUFtQztBQUMvQkwsd0JBQVFDLEdBQVIsOEJBQXVDRSxHQUF2QztBQUNBLHVCQUFPLEVBQVA7QUFDSDs7QUFFRCxnQkFBSUMsVUFBVyxRQUFPQSxNQUFQLHlDQUFPQSxNQUFQLE9BQWtCLFFBQWpDLEVBQTRDO0FBQ3hDLG9CQUFJRSxjQUFjLEtBQUssS0FBS1YsS0FBTCxDQUFXTyxHQUFYLENBQXZCO0FBQ0EscUJBQUssSUFBSUEsSUFBVCxJQUFnQkMsTUFBaEIsRUFBd0I7QUFDcEIsd0JBQUlBLE9BQU9HLGNBQVAsQ0FBc0JKLElBQXRCLENBQUosRUFBZ0M7QUFDNUJHLHNDQUFjQSxZQUFZRSxPQUFaLFNBQTBCTCxJQUExQixTQUFtQ0MsT0FBT0QsSUFBUCxDQUFuQyxDQUFkO0FBQ0g7QUFDSjs7QUFFRCx1QkFBT0csV0FBUDtBQUNIOztBQUVELG1CQUFPLEtBQUtWLEtBQUwsQ0FBV08sR0FBWCxDQUFQO0FBQ0g7OztrQ0FFU0EsRyxFQUFLO0FBQ1gsbUJBQU8sS0FBS1AsS0FBTCxDQUFXTyxHQUFYLE1BQW9CRSxTQUEzQjtBQUNIOzs7MEJBdEZRSSxJLEVBQU07QUFDWCxpQkFBS1osS0FBTCxHQUFhWSxJQUFiO0FBQ0gsUzs0QkFrQ1U7QUFDUCxtQkFBTyxLQUFLWixLQUFaO0FBQ0g7OzswQkFsQ1VhLE0sRUFBUTtBQUNmLGlCQUFLbkIsT0FBTCxHQUFlbUIsTUFBZjtBQUNILFM7NEJBY1k7QUFDVCxtQkFBTyxLQUFLbkIsT0FBWjtBQUNIOzs7MEJBZGdCb0IsWSxFQUFjO0FBQzNCLGlCQUFLakIsYUFBTCxHQUFxQmlCLFlBQXJCO0FBQ0gsUzs0QkFzQmtCO0FBQ2YsbUJBQU8sS0FBS2pCLGFBQVo7QUFDSDs7OzBCQXRCVWtCLE0sRUFBUTtBQUNmLGlCQUFLakIsT0FBTCxHQUFlaUIsTUFBZjtBQUNILFM7NEJBMEJZO0FBQ1QsbUJBQU8sS0FBS2pCLE9BQVo7QUFDSDs7OzBCQTFCUWtCLEksRUFBTTtBQUNYLGlCQUFLakIsS0FBTCxHQUFhaUIsSUFBYjtBQUNIOzs7NEJBTWE7QUFDVixtQkFBTyxLQUFLckIsUUFBWjtBQUNIOzs7NEJBRVU7QUFDUCxtQkFBTyxLQUFLQyxLQUFaO0FBQ0g7Ozs7OztBQTJETCxJQUFNaUIsU0FBUyxJQUFJcEIsTUFBSixFQUFmOztrQkFFZW9CLE0iLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcmVkRWRpdG9ycyBmcm9tICcuL0VkaXRvcnMnO1xuXG5jbGFzcyBDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9jb25maWcgPSB7fTtcbiAgICAgICAgdGhpcy5fZWRpdG9ycyA9IGZyZWRFZGl0b3JzO1xuICAgICAgICB0aGlzLl9ydGVzID0ge307XG4gICAgICAgIHRoaXMuX3BhZ2VTZXR0aW5ncyA9IHt9O1xuICAgICAgICB0aGlzLl90YWdnZXIgPSB7fTtcbiAgICAgICAgdGhpcy5fbGFuZyA9IHt9O1xuICAgICAgICB0aGlzLl9mcmVkID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgc2V0IGZyZWQoZnJlZCkge1xuICAgICAgICB0aGlzLl9mcmVkID0gZnJlZDtcbiAgICB9XG4gICAgXG4gICAgc2V0IGNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIH1cbiAgICBcbiAgICBzZXQgcGFnZVNldHRpbmdzKHBhZ2VTZXR0aW5ncykge1xuICAgICAgICB0aGlzLl9wYWdlU2V0dGluZ3MgPSBwYWdlU2V0dGluZ3M7XG4gICAgfVxuICAgIFxuICAgIHNldCB0YWdnZXIodGFnZ2VyKSB7XG4gICAgICAgIHRoaXMuX3RhZ2dlciA9IHRhZ2dlcjtcbiAgICB9XG4gICAgXG4gICAgc2V0IGxhbmcobGFuZykge1xuICAgICAgICB0aGlzLl9sYW5nID0gbGFuZztcbiAgICB9XG5cbiAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgIH1cblxuICAgIGdldCBlZGl0b3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWRpdG9ycztcbiAgICB9XG4gICAgXG4gICAgZ2V0IHJ0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydGVzO1xuICAgIH1cbiAgICBcbiAgICBnZXQgcGFnZVNldHRpbmdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFnZVNldHRpbmdzO1xuICAgIH1cbiAgICBcbiAgICBnZXQgZnJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyZWQ7XG4gICAgfVxuICAgIFxuICAgIGdldCB0YWdnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YWdnZXI7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFZGl0b3IobmFtZSwgZWRpdG9yKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWRpdG9yc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5fZWRpdG9yc1tuYW1lXSA9IGVkaXRvcjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEVkaXRvciBcIiR7bmFtZX1cIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRgKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZ2lzdGVyUlRFKG5hbWUsIHJ0ZUluaXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ydGVzW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLl9ydGVzW25hbWVdID0gcnRlSW5pdDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFJURSBcIiR7bmFtZX1cIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRgKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBsbmcoa2V5LCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhbmdba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW0ZSRURdIExhbmd1YWdlIHN0cmluZzogJHtrZXl9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAocGFyYW1zICYmICh0eXBlb2YgcGFyYW1zID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgICAgIGxldCB0cmFuc2xhdGlvbiA9IFwiXCIgKyB0aGlzLl9sYW5nW2tleV07XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb24ucmVwbGFjZShgW1srJHtrZXl9XV1gLCBwYXJhbXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLl9sYW5nW2tleV07XG4gICAgfVxuICAgIFxuICAgIGxuZ0V4aXN0cyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmdba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuY29uc3QgY29uZmlnID0gbmV3IENvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9Db25maWcuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _ImageEditor = __webpack_require__(8);\n\nvar _ImageEditor2 = _interopRequireDefault(_ImageEditor);\n\nvar _IconEditor = __webpack_require__(111);\n\nvar _IconEditor2 = _interopRequireDefault(_IconEditor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    ImageEditor: _ImageEditor2.default,\n    IconEditor: _IconEditor2.default\n};\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0VkaXRvcnMvaW5kZXguanM/MjA1ZiJdLCJuYW1lcyI6WyJJbWFnZUVkaXRvciIsIkljb25FZGl0b3IiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztrQkFFZTtBQUNYQSxzQ0FEVztBQUVYQztBQUZXLEMiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbWFnZUVkaXRvciBmcm9tICcuL0ltYWdlRWRpdG9yJztcbmltcG9ydCBJY29uRWRpdG9yIGZyb20gJy4vSWNvbkVkaXRvcic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBJbWFnZUVkaXRvcixcbiAgICBJY29uRWRpdG9yXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvRWRpdG9ycy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Editor2 = __webpack_require__(9);\n\nvar _Editor3 = _interopRequireDefault(_Editor2);\n\nvar _Finder = __webpack_require__(19);\n\nvar _Finder2 = _interopRequireDefault(_Finder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ImageEditor = function (_Editor) {\n    _inherits(ImageEditor, _Editor);\n\n    function ImageEditor() {\n        _classCallCheck(this, ImageEditor);\n\n        return _possibleConstructorReturn(this, (ImageEditor.__proto__ || Object.getPrototypeOf(ImageEditor)).apply(this, arguments));\n    }\n\n    _createClass(ImageEditor, [{\n        key: 'init',\n        value: function init() {\n            this.state = _extends({}, this.state, {\n                src: this.el.src || ''\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var wrapper = this.ui.els.div();\n\n            wrapper.appendChild(this.ui.ins.image(_extends({\n                name: 'src',\n                label: 'fred.fe.editor.image_uri'\n            }, _Finder2.default.getFinderOptionsFromElement(this.el, true)), this.state.src, this.setStateValue));\n\n            wrapper.appendChild(this.buildAttributesFields());\n\n            return wrapper;\n        }\n    }, {\n        key: 'onSave',\n        value: function onSave() {\n            _Editor3.default.prototype.onSave.call(this);\n            this.el.src = this.state.src;\n        }\n    }]);\n\n    return ImageEditor;\n}(_Editor3.default);\n\nImageEditor.title = 'fred.fe.editor.edit_image';\nexports.default = ImageEditor;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0VkaXRvcnMvSW1hZ2VFZGl0b3IuanM/NTFlNCJdLCJuYW1lcyI6WyJJbWFnZUVkaXRvciIsInN0YXRlIiwic3JjIiwiZWwiLCJ3cmFwcGVyIiwidWkiLCJlbHMiLCJkaXYiLCJhcHBlbmRDaGlsZCIsImlucyIsImltYWdlIiwibmFtZSIsImxhYmVsIiwiZ2V0RmluZGVyT3B0aW9uc0Zyb21FbGVtZW50Iiwic2V0U3RhdGVWYWx1ZSIsImJ1aWxkQXR0cmlidXRlc0ZpZWxkcyIsInByb3RvdHlwZSIsIm9uU2F2ZSIsImNhbGwiLCJ0aXRsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUVxQkEsVzs7Ozs7Ozs7Ozs7K0JBR1Y7QUFDSCxpQkFBS0MsS0FBTCxnQkFDUSxLQUFLQSxLQURiO0FBRUlDLHFCQUFNLEtBQUtDLEVBQUwsQ0FBUUQsR0FBUixJQUFlO0FBRnpCO0FBSUg7OztpQ0FFUTtBQUNMLGdCQUFNRSxVQUFVLEtBQUtDLEVBQUwsQ0FBUUMsR0FBUixDQUFZQyxHQUFaLEVBQWhCOztBQUVBSCxvQkFBUUksV0FBUixDQUFvQixLQUFLSCxFQUFMLENBQVFJLEdBQVIsQ0FBWUMsS0FBWjtBQUNoQkMsc0JBQU0sS0FEVTtBQUVoQkMsdUJBQU87QUFGUyxlQUdaLGlCQUFPQywyQkFBUCxDQUFtQyxLQUFLVixFQUF4QyxFQUE0QyxJQUE1QyxDQUhZLEdBSWpCLEtBQUtGLEtBQUwsQ0FBV0MsR0FKTSxFQUlELEtBQUtZLGFBSkosQ0FBcEI7O0FBTUFWLG9CQUFRSSxXQUFSLENBQW9CLEtBQUtPLHFCQUFMLEVBQXBCOztBQUVBLG1CQUFPWCxPQUFQO0FBQ0g7OztpQ0FFUTtBQUNMLDZCQUFPWSxTQUFQLENBQWlCQyxNQUFqQixDQUF3QkMsSUFBeEIsQ0FBNkIsSUFBN0I7QUFDQSxpQkFBS2YsRUFBTCxDQUFRRCxHQUFSLEdBQWMsS0FBS0QsS0FBTCxDQUFXQyxHQUF6QjtBQUNIOzs7Ozs7QUEzQmdCRixXLENBQ1ZtQixLLEdBQVEsMkI7a0JBREVuQixXIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRWRpdG9yIGZyb20gJy4vRWRpdG9yJztcbmltcG9ydCBGaW5kZXIgZnJvbSAnLi4vRmluZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VFZGl0b3IgZXh0ZW5kcyBFZGl0b3Ige1xuICAgIHN0YXRpYyB0aXRsZSA9ICdmcmVkLmZlLmVkaXRvci5lZGl0X2ltYWdlJztcblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICAuLi4odGhpcy5zdGF0ZSksXG4gICAgICAgICAgICBzcmM6ICh0aGlzLmVsLnNyYyB8fCAnJylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMudWkuZWxzLmRpdigpO1xuXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy51aS5pbnMuaW1hZ2Uoe1xuICAgICAgICAgICAgbmFtZTogJ3NyYycsXG4gICAgICAgICAgICBsYWJlbDogJ2ZyZWQuZmUuZWRpdG9yLmltYWdlX3VyaScsXG4gICAgICAgICAgICAuLi4oRmluZGVyLmdldEZpbmRlck9wdGlvbnNGcm9tRWxlbWVudCh0aGlzLmVsLCB0cnVlKSlcbiAgICAgICAgfSwgdGhpcy5zdGF0ZS5zcmMsIHRoaXMuc2V0U3RhdGVWYWx1ZSkpO1xuXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5idWlsZEF0dHJpYnV0ZXNGaWVsZHMoKSk7XG5cbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgb25TYXZlKCkge1xuICAgICAgICBFZGl0b3IucHJvdG90eXBlLm9uU2F2ZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmVsLnNyYyA9IHRoaXMuc3RhdGUuc3JjO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0VkaXRvcnMvSW1hZ2VFZGl0b3IuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Modal = __webpack_require__(10);\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nvar _UI = __webpack_require__(12);\n\nvar _UI2 = _interopRequireDefault(_UI);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Editor = function () {\n    function Editor(el) {\n        _classCallCheck(this, Editor);\n\n        this.el = el;\n        this.ui = _UI2.default;\n        this.fredConfig = _Config2.default;\n        this.config = _Config2.default.config;\n\n        this.state = {\n            _attributes: {}\n        };\n\n        this.setStateValue = this.setStateValue.bind(this);\n        this.setStateAttribute = this.setStateAttribute.bind(this);\n\n        this.init();\n\n        var wrapper = this.render();\n\n        var title = _Config2.default.lngExists(this.constructor.title) ? _Config2.default.lng(this.constructor.title) : this.constructor.title;\n        var modal = new _Modal2.default(title, wrapper, this.onSave.bind(this));\n\n        modal.render();\n    }\n\n    _createClass(Editor, [{\n        key: 'init',\n        value: function init() {}\n    }, {\n        key: 'render',\n        value: function render() {}\n    }, {\n        key: 'onStateUpdate',\n        value: function onStateUpdate() {}\n    }, {\n        key: 'onSave',\n        value: function onSave() {\n            for (var attr in this.state._attributes) {\n                if (this.state._attributes.hasOwnProperty(attr)) {\n                    this.el.setAttribute(attr, this.state._attributes[attr]);\n                }\n            }\n        }\n    }, {\n        key: 'setStateAttribute',\n        value: function setStateAttribute(attr, value) {\n            this.state._attributes[attr] = value;\n            this.onStateUpdate();\n        }\n    }, {\n        key: 'setStateValue',\n        value: function setStateValue(name, value) {\n            this.state[name] = value;\n            this.onStateUpdate();\n        }\n    }, {\n        key: 'buildAttributesFields',\n        value: function buildAttributesFields() {\n            var _this = this;\n\n            var wrapper = this.ui.els.div();\n\n            if (this.el.dataset.fredAttrs) {\n                var attrs = this.el.dataset.fredAttrs.split(',');\n                attrs.forEach(function (attr) {\n                    _this.state._attributes[attr] = _this.el.getAttribute(attr || '');\n                    wrapper.appendChild(_this.ui.ins.text({ name: attr, label: attr }, _this.state._attributes[attr], _this.setStateAttribute));\n                });\n            }\n\n            return wrapper;\n        }\n    }]);\n\n    return Editor;\n}();\n\nEditor.title = 'fred.fe.editor.edit';\nexports.default = Editor;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0VkaXRvcnMvRWRpdG9yLmpzPzdmNDYiXSwibmFtZXMiOlsiRWRpdG9yIiwiZWwiLCJ1aSIsImZyZWRDb25maWciLCJjb25maWciLCJzdGF0ZSIsIl9hdHRyaWJ1dGVzIiwic2V0U3RhdGVWYWx1ZSIsImJpbmQiLCJzZXRTdGF0ZUF0dHJpYnV0ZSIsImluaXQiLCJ3cmFwcGVyIiwicmVuZGVyIiwidGl0bGUiLCJsbmdFeGlzdHMiLCJjb25zdHJ1Y3RvciIsImxuZyIsIm1vZGFsIiwib25TYXZlIiwiYXR0ciIsImhhc093blByb3BlcnR5Iiwic2V0QXR0cmlidXRlIiwidmFsdWUiLCJvblN0YXRlVXBkYXRlIiwibmFtZSIsImVscyIsImRpdiIsImRhdGFzZXQiLCJmcmVkQXR0cnMiLCJhdHRycyIsInNwbGl0IiwiZm9yRWFjaCIsImdldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiaW5zIiwidGV4dCIsImxhYmVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFcUJBLE07QUFHakIsb0JBQVlDLEVBQVosRUFBZ0I7QUFBQTs7QUFDWixhQUFLQSxFQUFMLEdBQVVBLEVBQVY7QUFDQSxhQUFLQyxFQUFMO0FBQ0EsYUFBS0MsVUFBTDtBQUNBLGFBQUtDLE1BQUwsR0FBYyxpQkFBV0EsTUFBekI7O0FBRUEsYUFBS0MsS0FBTCxHQUFhO0FBQ1RDLHlCQUFhO0FBREosU0FBYjs7QUFJQSxhQUFLQyxhQUFMLEdBQXFCLEtBQUtBLGFBQUwsQ0FBbUJDLElBQW5CLENBQXdCLElBQXhCLENBQXJCO0FBQ0EsYUFBS0MsaUJBQUwsR0FBeUIsS0FBS0EsaUJBQUwsQ0FBdUJELElBQXZCLENBQTRCLElBQTVCLENBQXpCOztBQUVBLGFBQUtFLElBQUw7O0FBRUEsWUFBTUMsVUFBVSxLQUFLQyxNQUFMLEVBQWhCOztBQUVBLFlBQU1DLFFBQVEsaUJBQVdDLFNBQVgsQ0FBcUIsS0FBS0MsV0FBTCxDQUFpQkYsS0FBdEMsSUFBK0MsaUJBQVdHLEdBQVgsQ0FBZSxLQUFLRCxXQUFMLENBQWlCRixLQUFoQyxDQUEvQyxHQUF3RixLQUFLRSxXQUFMLENBQWlCRixLQUF2SDtBQUNBLFlBQU1JLFFBQVEsb0JBQVVKLEtBQVYsRUFBaUJGLE9BQWpCLEVBQTBCLEtBQUtPLE1BQUwsQ0FBWVYsSUFBWixDQUFpQixJQUFqQixDQUExQixDQUFkOztBQUVBUyxjQUFNTCxNQUFOO0FBQ0g7Ozs7K0JBRU0sQ0FFTjs7O2lDQUVRLENBRVI7Ozt3Q0FFZSxDQUVmOzs7aUNBRVE7QUFDTCxpQkFBSyxJQUFJTyxJQUFULElBQWlCLEtBQUtkLEtBQUwsQ0FBV0MsV0FBNUIsRUFBeUM7QUFDckMsb0JBQUksS0FBS0QsS0FBTCxDQUFXQyxXQUFYLENBQXVCYyxjQUF2QixDQUFzQ0QsSUFBdEMsQ0FBSixFQUFpRDtBQUM3Qyx5QkFBS2xCLEVBQUwsQ0FBUW9CLFlBQVIsQ0FBcUJGLElBQXJCLEVBQTJCLEtBQUtkLEtBQUwsQ0FBV0MsV0FBWCxDQUF1QmEsSUFBdkIsQ0FBM0I7QUFDSDtBQUNKO0FBQ0o7OzswQ0FFaUJBLEksRUFBTUcsSyxFQUFPO0FBQzNCLGlCQUFLakIsS0FBTCxDQUFXQyxXQUFYLENBQXVCYSxJQUF2QixJQUErQkcsS0FBL0I7QUFDQSxpQkFBS0MsYUFBTDtBQUNIOzs7c0NBRWFDLEksRUFBTUYsSyxFQUFPO0FBQ3ZCLGlCQUFLakIsS0FBTCxDQUFXbUIsSUFBWCxJQUFtQkYsS0FBbkI7QUFDQSxpQkFBS0MsYUFBTDtBQUNIOzs7Z0RBRXVCO0FBQUE7O0FBQ3BCLGdCQUFNWixVQUFVLEtBQUtULEVBQUwsQ0FBUXVCLEdBQVIsQ0FBWUMsR0FBWixFQUFoQjs7QUFFQSxnQkFBSSxLQUFLekIsRUFBTCxDQUFRMEIsT0FBUixDQUFnQkMsU0FBcEIsRUFBK0I7QUFDM0Isb0JBQU1DLFFBQVEsS0FBSzVCLEVBQUwsQ0FBUTBCLE9BQVIsQ0FBZ0JDLFNBQWhCLENBQTBCRSxLQUExQixDQUFnQyxHQUFoQyxDQUFkO0FBQ0FELHNCQUFNRSxPQUFOLENBQWMsZ0JBQVE7QUFDbEIsMEJBQUsxQixLQUFMLENBQVdDLFdBQVgsQ0FBdUJhLElBQXZCLElBQStCLE1BQUtsQixFQUFMLENBQVErQixZQUFSLENBQXFCYixRQUFRLEVBQTdCLENBQS9CO0FBQ0FSLDRCQUFRc0IsV0FBUixDQUFvQixNQUFLL0IsRUFBTCxDQUFRZ0MsR0FBUixDQUFZQyxJQUFaLENBQWlCLEVBQUNYLE1BQU1MLElBQVAsRUFBYWlCLE9BQU9qQixJQUFwQixFQUFqQixFQUE0QyxNQUFLZCxLQUFMLENBQVdDLFdBQVgsQ0FBdUJhLElBQXZCLENBQTVDLEVBQTBFLE1BQUtWLGlCQUEvRSxDQUFwQjtBQUNILGlCQUhEO0FBSUg7O0FBRUQsbUJBQU9FLE9BQVA7QUFDSDs7Ozs7O0FBcEVnQlgsTSxDQUNWYSxLLEdBQVEscUI7a0JBREViLE0iLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb2RhbCBmcm9tICcuLi9Nb2RhbCc7XG5pbXBvcnQgVUkgZnJvbSAnLi4vVUknO1xuaW1wb3J0IGZyZWRDb25maWcgZnJvbSAnLi4vQ29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdG9yIHtcbiAgICBzdGF0aWMgdGl0bGUgPSAnZnJlZC5mZS5lZGl0b3IuZWRpdCc7XG4gICAgXG4gICAgY29uc3RydWN0b3IoZWwpIHtcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICB0aGlzLnVpID0gVUk7XG4gICAgICAgIHRoaXMuZnJlZENvbmZpZyA9IGZyZWRDb25maWc7XG4gICAgICAgIHRoaXMuY29uZmlnID0gZnJlZENvbmZpZy5jb25maWc7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgX2F0dHJpYnV0ZXM6IHt9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZVZhbHVlID0gdGhpcy5zZXRTdGF0ZVZhbHVlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGVBdHRyaWJ1dGUgPSB0aGlzLnNldFN0YXRlQXR0cmlidXRlLmJpbmQodGhpcyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZnJlZENvbmZpZy5sbmdFeGlzdHModGhpcy5jb25zdHJ1Y3Rvci50aXRsZSkgPyBmcmVkQ29uZmlnLmxuZyh0aGlzLmNvbnN0cnVjdG9yLnRpdGxlKSA6IHRoaXMuY29uc3RydWN0b3IudGl0bGU7XG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IE1vZGFsKHRpdGxlLCB3cmFwcGVyLCB0aGlzLm9uU2F2ZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBtb2RhbC5yZW5kZXIoKTsgICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBpbml0KCkge1xuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBcbiAgICB9XG5cbiAgICBvblN0YXRlVXBkYXRlKCkge1xuXG4gICAgfVxuICAgIFxuICAgIG9uU2F2ZSgpIHtcbiAgICAgICAgZm9yIChsZXQgYXR0ciBpbiB0aGlzLnN0YXRlLl9hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5fYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKGF0dHIsIHRoaXMuc3RhdGUuX2F0dHJpYnV0ZXNbYXR0cl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3RhdGVBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5fYXR0cmlidXRlc1thdHRyXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm9uU3RhdGVVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBzZXRTdGF0ZVZhbHVlKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RhdGVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vblN0YXRlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgYnVpbGRBdHRyaWJ1dGVzRmllbGRzKCkge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy51aS5lbHMuZGl2KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5lbC5kYXRhc2V0LmZyZWRBdHRycykge1xuICAgICAgICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmVsLmRhdGFzZXQuZnJlZEF0dHJzLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICBhdHRycy5mb3JFYWNoKGF0dHIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuX2F0dHJpYnV0ZXNbYXR0cl0gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZShhdHRyIHx8ICcnKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMudWkuaW5zLnRleHQoe25hbWU6IGF0dHIsIGxhYmVsOiBhdHRyfSwgdGhpcy5zdGF0ZS5fYXR0cmlidXRlc1thdHRyXSwgdGhpcy5zZXRTdGF0ZUF0dHJpYnV0ZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0VkaXRvcnMvRWRpdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Modal = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Modal = exports.Modal = function () {\n    function Modal(title) {\n        var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        var onSave = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n        _classCallCheck(this, Modal);\n\n        this.wrapper = null;\n\n        if (_Config2.default.lngExists(title)) {\n            title = _Config2.default.lng(title);\n        }\n\n        this.title = title;\n        this.content = content;\n        this.onSave = onSave;\n    }\n\n    _createClass(Modal, [{\n        key: 'setTitle',\n        value: function setTitle(title) {\n            this.title = title;\n\n            if (this.wrapper !== null) {\n                this.titleEl.innerHTML = title;\n            }\n        }\n    }, {\n        key: 'setContent',\n        value: function setContent(content) {\n            this.content = content;\n\n            if (this.wrapper !== null) {\n                if (typeof this.content === 'string') {\n                    this.body.innerHTML = this.content;\n                } else {\n                    this.body.innerHTML = '';\n                    this.body.appendChild(this.content);\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this = this;\n\n            this.wrapper = (0, _Elements.section)(['fred--modal-bg']);\n\n            var modal = (0, _Elements.div)(['fred--modal']);\n            modal.setAttribute('aria-hidden', 'true');\n\n            var header = (0, _Elements.div)(['fred--modal-header']);\n\n            var close = (0, _Elements.button)('<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"20px\" height=\"20px\" viewBox=\"-4 -4 20 20\" enable-background=\"new -4 -4 20 20\" xml:space=\"preserve\"><polygon points=\"16.079,-0.666 12.717,-4.027 6.052,2.637 -0.613,-4.027 -3.975,-0.666 2.69,6 -3.975,12.664 -0.612,16.026 6.052,9.362 12.717,16.027 16.079,12.664 9.414,6 \"></polygon></svg>', 'fred.fe.close', ['button'], this.close.bind(this));\n\n            this.titleEl = (0, _Elements.h4)(this.title);\n\n            this.body = (0, _Elements.div)(['fred--modal-body']);\n\n            if (typeof this.content === 'string') {\n                this.body.innerHTML = this.content;\n            } else {\n                this.body.appendChild(this.content);\n            }\n\n            var footer = (0, _Elements.div)(['fred--modal-footer']);\n\n            var save = (0, _Elements.button)('fred.fe.save', 'fred.fe.save', ['fred--btn-small'], function () {\n                _this.onSave();\n                _this.close();\n            });\n\n            header.appendChild(close);\n            header.appendChild(this.titleEl);\n\n            footer.appendChild(save);\n\n            modal.appendChild(header);\n            modal.appendChild(this.body);\n\n            modal.appendChild(footer);\n\n            this.wrapper.appendChild(modal);\n\n            _EE2.default.emit('fred-wrapper-insert', this.wrapper);\n\n            return this.wrapper;\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            this.wrapper.remove();\n        }\n    }]);\n\n    return Modal;\n}();\n\nexports.default = Modal;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL01vZGFsLmpzP2FkOTIiXSwibmFtZXMiOlsiTW9kYWwiLCJ0aXRsZSIsImNvbnRlbnQiLCJvblNhdmUiLCJ3cmFwcGVyIiwibG5nRXhpc3RzIiwibG5nIiwidGl0bGVFbCIsImlubmVySFRNTCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm1vZGFsIiwic2V0QXR0cmlidXRlIiwiaGVhZGVyIiwiY2xvc2UiLCJiaW5kIiwiZm9vdGVyIiwic2F2ZSIsImVtaXQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0lBRWFBLEssV0FBQUEsSztBQUVULG1CQUFZQyxLQUFaLEVBQW9EO0FBQUEsWUFBakNDLE9BQWlDLHVFQUF2QixFQUF1QjtBQUFBLFlBQW5CQyxNQUFtQix1RUFBVixZQUFNLENBQUUsQ0FBRTs7QUFBQTs7QUFDaEQsYUFBS0MsT0FBTCxHQUFlLElBQWY7O0FBRUEsWUFBSSxpQkFBV0MsU0FBWCxDQUFxQkosS0FBckIsQ0FBSixFQUFpQztBQUM3QkEsb0JBQVEsaUJBQVdLLEdBQVgsQ0FBZUwsS0FBZixDQUFSO0FBQ0g7O0FBRUQsYUFBS0EsS0FBTCxHQUFhQSxLQUFiO0FBQ0EsYUFBS0MsT0FBTCxHQUFlQSxPQUFmO0FBQ0EsYUFBS0MsTUFBTCxHQUFjQSxNQUFkO0FBQ0g7Ozs7aUNBRVFGLEssRUFBTztBQUNaLGlCQUFLQSxLQUFMLEdBQWFBLEtBQWI7O0FBRUEsZ0JBQUksS0FBS0csT0FBTCxLQUFpQixJQUFyQixFQUEyQjtBQUN2QixxQkFBS0csT0FBTCxDQUFhQyxTQUFiLEdBQXlCUCxLQUF6QjtBQUNIO0FBQ0o7OzttQ0FFVUMsTyxFQUFTO0FBQ2hCLGlCQUFLQSxPQUFMLEdBQWVBLE9BQWY7O0FBRUEsZ0JBQUksS0FBS0UsT0FBTCxLQUFpQixJQUFyQixFQUEyQjtBQUN2QixvQkFBSSxPQUFPLEtBQUtGLE9BQVosS0FBd0IsUUFBNUIsRUFBc0M7QUFDbEMseUJBQUtPLElBQUwsQ0FBVUQsU0FBVixHQUFzQixLQUFLTixPQUEzQjtBQUNILGlCQUZELE1BRU87QUFDSCx5QkFBS08sSUFBTCxDQUFVRCxTQUFWLEdBQXNCLEVBQXRCO0FBQ0EseUJBQUtDLElBQUwsQ0FBVUMsV0FBVixDQUFzQixLQUFLUixPQUEzQjtBQUNIO0FBQ0o7QUFDSjs7O2lDQUVRO0FBQUE7O0FBQ0wsaUJBQUtFLE9BQUwsR0FBZSx1QkFBUSxDQUFDLGdCQUFELENBQVIsQ0FBZjs7QUFFQSxnQkFBTU8sUUFBUSxtQkFBSSxDQUFDLGFBQUQsQ0FBSixDQUFkO0FBQ0FBLGtCQUFNQyxZQUFOLENBQW1CLGFBQW5CLEVBQWtDLE1BQWxDOztBQUVBLGdCQUFNQyxTQUFTLG1CQUFJLENBQUMsb0JBQUQsQ0FBSixDQUFmOztBQUVBLGdCQUFNQyxRQUFRLHNCQUFPLHVaQUFQLEVBQWdhLGVBQWhhLEVBQWliLENBQUMsUUFBRCxDQUFqYixFQUE2YixLQUFLQSxLQUFMLENBQVdDLElBQVgsQ0FBZ0IsSUFBaEIsQ0FBN2IsQ0FBZDs7QUFFQSxpQkFBS1IsT0FBTCxHQUFlLGtCQUFHLEtBQUtOLEtBQVIsQ0FBZjs7QUFFQSxpQkFBS1EsSUFBTCxHQUFZLG1CQUFJLENBQUMsa0JBQUQsQ0FBSixDQUFaOztBQUVBLGdCQUFJLE9BQU8sS0FBS1AsT0FBWixLQUF3QixRQUE1QixFQUFzQztBQUNsQyxxQkFBS08sSUFBTCxDQUFVRCxTQUFWLEdBQXNCLEtBQUtOLE9BQTNCO0FBQ0gsYUFGRCxNQUVPO0FBQ0gscUJBQUtPLElBQUwsQ0FBVUMsV0FBVixDQUFzQixLQUFLUixPQUEzQjtBQUNIOztBQUVELGdCQUFNYyxTQUFTLG1CQUFJLENBQUMsb0JBQUQsQ0FBSixDQUFmOztBQUVBLGdCQUFNQyxPQUFPLHNCQUFPLGNBQVAsRUFBdUIsY0FBdkIsRUFBdUMsQ0FBQyxpQkFBRCxDQUF2QyxFQUE0RCxZQUFNO0FBQzNFLHNCQUFLZCxNQUFMO0FBQ0Esc0JBQUtXLEtBQUw7QUFDSCxhQUhZLENBQWI7O0FBS0FELG1CQUFPSCxXQUFQLENBQW1CSSxLQUFuQjtBQUNBRCxtQkFBT0gsV0FBUCxDQUFtQixLQUFLSCxPQUF4Qjs7QUFFQVMsbUJBQU9OLFdBQVAsQ0FBbUJPLElBQW5COztBQUVBTixrQkFBTUQsV0FBTixDQUFrQkcsTUFBbEI7QUFDQUYsa0JBQU1ELFdBQU4sQ0FBa0IsS0FBS0QsSUFBdkI7O0FBRUFFLGtCQUFNRCxXQUFOLENBQWtCTSxNQUFsQjs7QUFFQSxpQkFBS1osT0FBTCxDQUFhTSxXQUFiLENBQXlCQyxLQUF6Qjs7QUFFQSx5QkFBUU8sSUFBUixDQUFhLHFCQUFiLEVBQW9DLEtBQUtkLE9BQXpDOztBQUVBLG1CQUFPLEtBQUtBLE9BQVo7QUFDSDs7O2dDQUVPO0FBQ0osaUJBQUtBLE9BQUwsQ0FBYWUsTUFBYjtBQUNIOzs7Ozs7a0JBR1VuQixLIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVtaXR0ZXIgZnJvbSAnLi9FRSc7XG5pbXBvcnQgeyBzZWN0aW9uLCBkaXYsIGJ1dHRvbiwgaDQgfSBmcm9tICcuL1VJL0VsZW1lbnRzJztcbmltcG9ydCBmcmVkQ29uZmlnIGZyb20gXCIuL0NvbmZpZ1wiO1xuXG5leHBvcnQgY2xhc3MgTW9kYWwge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBjb250ZW50ID0gJycsIG9uU2F2ZSA9ICgpID0+IHt9KSB7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IG51bGw7XG5cbiAgICAgICAgaWYgKGZyZWRDb25maWcubG5nRXhpc3RzKHRpdGxlKSkge1xuICAgICAgICAgICAgdGl0bGUgPSBmcmVkQ29uZmlnLmxuZyh0aXRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgdGhpcy5vblNhdmUgPSBvblNhdmU7XG4gICAgfVxuICAgIFxuICAgIHNldFRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLndyYXBwZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGl0bGVFbC5pbm5lckhUTUwgPSB0aXRsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRDb250ZW50KGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcblxuICAgICAgICBpZiAodGhpcy53cmFwcGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHkuaW5uZXJIVE1MID0gdGhpcy5jb250ZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLndyYXBwZXIgPSBzZWN0aW9uKFsnZnJlZC0tbW9kYWwtYmcnXSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBtb2RhbCA9IGRpdihbJ2ZyZWQtLW1vZGFsJ10pO1xuICAgICAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICBjb25zdCBoZWFkZXIgPSBkaXYoWydmcmVkLS1tb2RhbC1oZWFkZXInXSk7XG5cbiAgICAgICAgY29uc3QgY2xvc2UgPSBidXR0b24oJzxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIiB2aWV3Qm94PVwiLTQgLTQgMjAgMjBcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAtNCAtNCAyMCAyMFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PHBvbHlnb24gcG9pbnRzPVwiMTYuMDc5LC0wLjY2NiAxMi43MTcsLTQuMDI3IDYuMDUyLDIuNjM3IC0wLjYxMywtNC4wMjcgLTMuOTc1LC0wLjY2NiAyLjY5LDYgLTMuOTc1LDEyLjY2NCAtMC42MTIsMTYuMDI2IDYuMDUyLDkuMzYyIDEyLjcxNywxNi4wMjcgMTYuMDc5LDEyLjY2NCA5LjQxNCw2IFwiPjwvcG9seWdvbj48L3N2Zz4nLCAnZnJlZC5mZS5jbG9zZScsIFsnYnV0dG9uJ10sIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy50aXRsZUVsID0gaDQodGhpcy50aXRsZSk7XG5cbiAgICAgICAgdGhpcy5ib2R5ID0gZGl2KFsnZnJlZC0tbW9kYWwtYm9keSddKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5ib2R5LmlubmVySFRNTCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9vdGVyID0gZGl2KFsnZnJlZC0tbW9kYWwtZm9vdGVyJ10pO1xuXG4gICAgICAgIGNvbnN0IHNhdmUgPSBidXR0b24oJ2ZyZWQuZmUuc2F2ZScsICdmcmVkLmZlLnNhdmUnLCBbJ2ZyZWQtLWJ0bi1zbWFsbCddLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uU2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChjbG9zZSk7XG4gICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlRWwpO1xuICAgICAgICBcbiAgICAgICAgZm9vdGVyLmFwcGVuZENoaWxkKHNhdmUpO1xuXG4gICAgICAgIG1vZGFsLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgIG1vZGFsLmFwcGVuZENoaWxkKHRoaXMuYm9keSk7XG4gICAgICAgIFxuICAgICAgICBtb2RhbC5hcHBlbmRDaGlsZChmb290ZXIpO1xuXG4gICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChtb2RhbCk7XG5cbiAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXdyYXBwZXItaW5zZXJ0JywgdGhpcy53cmFwcGVyKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXI7XG4gICAgfVxuICAgIFxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLndyYXBwZXIucmVtb3ZlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL01vZGFsLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.iFrame = exports.figCaption = exports.figure = exports.legend = exports.fieldSet = exports.textArea = exports.select = exports.input = exports.label = exports.form = exports.i = exports.a = exports.img = exports.h4 = exports.h3 = exports.h2 = exports.h1 = exports.button = exports.section = exports.dt = exports.dd = exports.dl = exports.span = exports.div = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar setContent = function setContent(el, content) {\n    if (!content) return;\n\n    if (Array.isArray(content)) {\n        content.forEach(function (contentEl) {\n            if ((typeof contentEl === 'undefined' ? 'undefined' : _typeof(contentEl)) === 'object' && contentEl.innerHTML !== undefined) {\n                el.appendChild(contentEl);\n            } else if (typeof contentEl === 'string') {\n                if (_Config2.default.lngExists(contentEl)) {\n                    el.innerHTML = _Config2.default.lng(contentEl);\n                } else {\n                    el.innerHTML = contentEl;\n                }\n            }\n        });\n    } else if ((typeof content === 'undefined' ? 'undefined' : _typeof(content)) === 'object' && content.innerHTML !== undefined) {\n        el.appendChild(content);\n    } else {\n        if (_Config2.default.lngExists(content)) {\n            el.innerHTML = _Config2.default.lng(content);\n        } else {\n            el.innerHTML = content;\n        }\n    }\n};\n\nvar setClasses = function setClasses(el, classes) {\n    if (!classes) return;\n\n    if (Array.isArray(classes)) {\n        var _el$classList;\n\n        (_el$classList = el.classList).add.apply(_el$classList, _toConsumableArray(classes));\n    } else {\n        el.classList = classes;\n    }\n};\n\nvar createElement = function createElement(tag) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = document.createElement(tag);\n    setClasses(el, classes);\n\n    return el;\n};\n\nvar div = exports.div = function div() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    var el = createElement('div', classes);\n    setContent(el, content);\n\n    return el;\n};\n\nvar span = exports.span = function span() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    var el = createElement('span', classes);\n    setContent(el, content);\n\n    return el;\n};\n\nvar dl = exports.dl = function dl() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var el = createElement('dl', classes);\n\n    el.setAttribute('tabindex', '0');\n    el.setAttribute('role', 'tablist');\n\n    return el;\n};\n\nvar dd = exports.dd = function dd() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var el = createElement('dd', classes);\n\n    el.setAttribute('tabindex', '0');\n    el.setAttribute('role', 'tablist');\n\n    return el;\n};\n\nvar dt = exports.dt = function dt() {\n    var content = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var onClick = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    var el = createElement('dt', classes);\n\n    el.setAttribute('tabindex', '0');\n    el.setAttribute('role', 'tab');\n\n    setContent(el, content);\n\n    if (typeof onClick === 'function') {\n        el.addEventListener('click', function (e) {\n            e.preventDefault();\n            onClick(e, el);\n        });\n    }\n\n    return el;\n};\n\nvar section = exports.section = function section() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return createElement('section', classes);\n};\n\nvar button = exports.button = function button() {\n    var content = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var title = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var classes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var onClick = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    var el = createElement('button', classes);\n\n    el.setAttribute('role', 'button');\n\n    setContent(el, content);\n\n    if (title) {\n        if (_Config2.default.lngExists(title)) {\n            el.setAttribute('title', _Config2.default.lng(title));\n        } else {\n            el.setAttribute('title', title);\n        }\n    }\n\n    if (typeof onClick === 'function') {\n        el.addEventListener('click', function (e) {\n            e.preventDefault();\n            onClick(e, el);\n        });\n    }\n\n    return el;\n};\n\nvar h1 = exports.h1 = function h1(content) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('h1', classes);\n\n    setContent(el, content);\n\n    return el;\n};\n\nvar h2 = exports.h2 = function h2(content) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('h2', classes);\n\n    setContent(el, content);\n\n    return el;\n};\n\nvar h3 = exports.h3 = function h3(content) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('h3', classes);\n\n    setContent(el, content);\n\n    return el;\n};\n\nvar h4 = exports.h4 = function h4(content) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('h4', classes);\n\n    setContent(el, content);\n\n    return el;\n};\n\nvar img = exports.img = function img(src) {\n    var alt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var classes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var el = createElement('img', classes);\n    el.src = src;\n\n    if (alt) {\n        el.setAttribute('alt', alt);\n    }\n\n    return el;\n};\n\nvar a = exports.a = function a(content) {\n    var title = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var href = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    var classes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n    var onClick = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n    var el = createElement('a', classes);\n\n    setContent(el, content);\n\n    if (title) {\n        if (title) {\n            if (_Config2.default.lngExists(title)) {\n                el.setAttribute('title', _Config2.default.lng(title));\n            } else {\n                el.setAttribute('title', title);\n            }\n        }\n    }\n\n    if (href) {\n        el.setAttribute('href', href);\n    }\n\n    if (typeof onClick === 'function') {\n        el.addEventListener('click', function (e) {\n            e.preventDefault();\n            onClick(e, el);\n        });\n    }\n\n    return el;\n};\n\nvar i = exports.i = function i() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return createElement('i', classes);\n};\n\nvar form = exports.form = function form() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return createElement('form', classes);\n};\n\nvar label = exports.label = function label(content) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('label', classes);\n\n    setContent(el, content);\n\n    return el;\n};\n\nvar input = exports.input = function input() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'text';\n    var classes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var el = createElement('input', classes);\n    el.setAttribute('type', type);\n\n    if (value) {\n        if (type === 'checkbox') {\n            if (value === true) {\n                el.setAttribute('checked', 'checked');\n            }\n        } else {\n            el.value = value;\n        }\n    }\n\n    return el;\n};\n\nvar select = exports.select = function select() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return createElement('select', classes);\n};\n\nvar textArea = exports.textArea = function textArea() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('textarea', classes);\n    el.innerHTML = value;\n\n    return el;\n};\n\nvar fieldSet = exports.fieldSet = function fieldSet() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return createElement('fieldset', classes);\n};\n\nvar legend = exports.legend = function legend() {\n    var content = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('legend', classes);\n\n    setContent(el, content);\n\n    return el;\n};\n\nvar figure = exports.figure = function figure() {\n    var classes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return createElement('figure', classes);\n};\n\nvar figCaption = exports.figCaption = function figCaption() {\n    var content = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('figcaption', classes);\n\n    setContent(el, content);\n\n    return el;\n};\n\nvar iFrame = exports.iFrame = function iFrame(src) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var el = createElement('iframe', classes);\n\n    el.src = src;\n\n    return el;\n};\n\nexports.default = {\n    div: div,\n    span: span,\n    dl: dl,\n    dd: dd,\n    dt: dt,\n    section: section,\n    button: button,\n    h1: h1,\n    h2: h2,\n    h3: h3,\n    h4: h4,\n    a: a,\n    i: i,\n    img: img,\n    form: form,\n    label: label,\n    input: input,\n    select: select,\n    textArea: textArea,\n    fieldSet: fieldSet,\n    legend: legend,\n    figure: figure,\n    figCaption: figCaption,\n    iFrame: iFrame\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL1VJL0VsZW1lbnRzLmpzPzE2NDYiXSwibmFtZXMiOlsic2V0Q29udGVudCIsImVsIiwiY29udGVudCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJjb250ZW50RWwiLCJpbm5lckhUTUwiLCJ1bmRlZmluZWQiLCJhcHBlbmRDaGlsZCIsImxuZ0V4aXN0cyIsImxuZyIsInNldENsYXNzZXMiLCJjbGFzc2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwiY3JlYXRlRWxlbWVudCIsInRhZyIsImRvY3VtZW50IiwiZGl2Iiwic3BhbiIsImRsIiwic2V0QXR0cmlidXRlIiwiZGQiLCJkdCIsIm9uQ2xpY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2VjdGlvbiIsImJ1dHRvbiIsInRpdGxlIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJpbWciLCJzcmMiLCJhbHQiLCJhIiwiaHJlZiIsImkiLCJmb3JtIiwibGFiZWwiLCJpbnB1dCIsInZhbHVlIiwidHlwZSIsInNlbGVjdCIsInRleHRBcmVhIiwiZmllbGRTZXQiLCJsZWdlbmQiLCJmaWd1cmUiLCJmaWdDYXB0aW9uIiwiaUZyYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7QUFFQSxJQUFNQSxhQUFhLFNBQWJBLFVBQWEsQ0FBQ0MsRUFBRCxFQUFLQyxPQUFMLEVBQWlCO0FBQ2hDLFFBQUksQ0FBQ0EsT0FBTCxFQUFjOztBQUVkLFFBQUlDLE1BQU1DLE9BQU4sQ0FBY0YsT0FBZCxDQUFKLEVBQTRCO0FBQ3hCQSxnQkFBUUcsT0FBUixDQUFnQixxQkFBYTtBQUN6QixnQkFBSyxRQUFPQyxTQUFQLHlDQUFPQSxTQUFQLE9BQXFCLFFBQXRCLElBQW9DQSxVQUFVQyxTQUFWLEtBQXdCQyxTQUFoRSxFQUE0RTtBQUN4RVAsbUJBQUdRLFdBQUgsQ0FBZUgsU0FBZjtBQUNILGFBRkQsTUFFTyxJQUFJLE9BQU9BLFNB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QWMsUUFBZCxFQUF3QkgsT0FBeEIsQ0FBUDtBQUNILENBRk07O0FBSUEsSUFBTXVDLGtDQUFhLFNBQWJBLFVBQWEsR0FBZ0M7QUFBQSxRQUEvQmxELE9BQStCLHVFQUFyQixFQUFxQjtBQUFBLFFBQWpCVyxPQUFpQix1RUFBUCxFQUFPOztBQUN0RCxRQUFNWixLQUFLZSxjQUFjLFlBQWQsRUFBNEJILE9BQTVCLENBQVg7O0FBRUFiLGVBQVdDLEVBQVgsRUFBZUMsT0FBZjs7QUFFQSxXQUFPRCxFQUFQO0FBQ0gsQ0FOTTs7QUFRQSxJQUFNb0QsMEJBQVMsU0FBVEEsTUFBUyxDQUFDaEIsR0FBRCxFQUF1QjtBQUFBLFFBQWpCeEIsT0FBaUIsdUVBQVAsRUFBTzs7QUFDekMsUUFBTVosS0FBS2UsY0FBYyxRQUFkLEVBQXdCSCxPQUF4QixDQUFYOztBQUVBWixPQUFHb0MsR0FBSCxHQUFTQSxHQUFUOztBQUVBLFdBQU9wQyxFQUFQO0FBQ0gsQ0FOTTs7a0JBUVE7QUFDWGtCLFlBRFc7QUFFWEMsY0FGVztBQUdYQyxVQUhXO0FBSVhFLFVBSlc7QUFLWEMsVUFMVztBQU1YSyxvQkFOVztBQU9YQyxrQkFQVztBQVFYRSxVQVJXO0FBU1hDLFVBVFc7QUFVWEMsVUFWVztBQVdYQyxVQVhXO0FBWVhJLFFBWlc7QUFhWEUsUUFiVztBQWNYTCxZQWRXO0FBZVhNLGNBZlc7QUFnQlhDLGdCQWhCVztBQWlCWEMsZ0JBakJXO0FBa0JYRyxrQkFsQlc7QUFtQlhDLHNCQW5CVztBQW9CWEMsc0JBcEJXO0FBcUJYQyxrQkFyQlc7QUFzQlhDLGtCQXRCVztBQXVCWEMsMEJBdkJXO0FBd0JYQztBQXhCVyxDIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZyZWRDb25maWcgZnJvbSAnLi4vQ29uZmlnJztcblxuY29uc3Qgc2V0Q29udGVudCA9IChlbCwgY29udGVudCkgPT4ge1xuICAgIGlmICghY29udGVudCkgcmV0dXJuO1xuICAgIFxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XG4gICAgICAgIGNvbnRlbnQuZm9yRWFjaChjb250ZW50RWwgPT4ge1xuICAgICAgICAgICAgaWYgKCh0eXBlb2YgY29udGVudEVsID09PSAnb2JqZWN0JykgJiYgKGNvbnRlbnRFbC5pbm5lckhUTUwgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChjb250ZW50RWwpOyAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZW50RWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyZWRDb25maWcubG5nRXhpc3RzKGNvbnRlbnRFbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gZnJlZENvbmZpZy5sbmcoY29udGVudEVsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBjb250ZW50RWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTsgICAgXG4gICAgfSBlbHNlIGlmICgodHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnKSAmJiAoY29udGVudC5pbm5lckhUTUwgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZyZWRDb25maWcubG5nRXhpc3RzKGNvbnRlbnQpKSB7XG4gICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBmcmVkQ29uZmlnLmxuZyhjb250ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBzZXRDbGFzc2VzID0gKGVsLCBjbGFzc2VzKSA9PiB7XG4gICAgaWYgKCFjbGFzc2VzKSByZXR1cm47XG4gICAgXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2xhc3NlcykpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTsgICBcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbC5jbGFzc0xpc3QgPSBjbGFzc2VzO1xuICAgIH1cbn07XG5cbmNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAodGFnLCBjbGFzc2VzID0gW10pID0+IHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBzZXRDbGFzc2VzKGVsLCBjbGFzc2VzKTtcbiAgICBcbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgZGl2ID0gKGNsYXNzZXMgPSBbXSwgY29udGVudCA9ICcnKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBjbGFzc2VzKTtcbiAgICBzZXRDb250ZW50KGVsLCBjb250ZW50KTtcbiAgICBcbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3Qgc3BhbiA9IChjbGFzc2VzID0gW10sIGNvbnRlbnQgPSAnJykgPT4ge1xuICAgIGNvbnN0IGVsID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIGNsYXNzZXMpO1xuICAgIHNldENvbnRlbnQoZWwsIGNvbnRlbnQpO1xuICAgIFxuICAgIHJldHVybiBlbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkbCA9IChjbGFzc2VzID0gW10pID0+IHtcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ2RsJywgY2xhc3Nlcyk7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFibGlzdCcpO1xuICAgIFxuICAgIHJldHVybiBlbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkZCA9IChjbGFzc2VzID0gW10pID0+IHtcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ2RkJywgY2xhc3Nlcyk7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFibGlzdCcpO1xuICAgIFxuICAgIHJldHVybiBlbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkdCA9IChjb250ZW50ID0gJycsIGNsYXNzZXMgPSBbXSwgb25DbGljayA9IG51bGwpID0+IHtcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ2R0JywgY2xhc3Nlcyk7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFiJyk7XG5cbiAgICBzZXRDb250ZW50KGVsLCBjb250ZW50KTtcblxuICAgIGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgb25DbGljayhlLCBlbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VjdGlvbiA9IChjbGFzc2VzID0gW10pID0+IHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnc2VjdGlvbicsIGNsYXNzZXMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGJ1dHRvbiA9IChjb250ZW50ID0gJycsIHRpdGxlID0gJycsIGNsYXNzZXMgPSBbXSwgb25DbGljayA9IG51bGwpID0+IHtcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIGNsYXNzZXMpO1xuICAgIFxuICAgIGVsLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICBcbiAgICBzZXRDb250ZW50KGVsLCBjb250ZW50KTtcbiAgICBcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgaWYgKGZyZWRDb25maWcubG5nRXhpc3RzKHRpdGxlKSkge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0aXRsZScsIGZyZWRDb25maWcubG5nKHRpdGxlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgb25DbGljayhlLCBlbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaDEgPSAoY29udGVudCwgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdoMScsIGNsYXNzZXMpO1xuXG4gICAgc2V0Q29udGVudChlbCwgY29udGVudCk7XG5cbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaDIgPSAoY29udGVudCwgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdoMicsIGNsYXNzZXMpO1xuXG4gICAgc2V0Q29udGVudChlbCwgY29udGVudCk7XG5cbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaDMgPSAoY29udGVudCwgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdoMycsIGNsYXNzZXMpO1xuXG4gICAgc2V0Q29udGVudChlbCwgY29udGVudCk7XG5cbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaDQgPSAoY29udGVudCwgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdoNCcsIGNsYXNzZXMpO1xuXG4gICAgc2V0Q29udGVudChlbCwgY29udGVudCk7XG4gICAgXG4gICAgcmV0dXJuIGVsO1xufTtcblxuZXhwb3J0IGNvbnN0IGltZyA9IChzcmMsIGFsdCA9ICcnLCBjbGFzc2VzID0gW10pID0+IHtcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ2ltZycsIGNsYXNzZXMpO1xuICAgIGVsLnNyYyA9IHNyYztcbiAgICBcbiAgICBpZiAoYWx0KSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnYWx0JywgYWx0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgYSA9IChjb250ZW50LCB0aXRsZSA9ICcnLCBocmVmID0gJycsIGNsYXNzZXMgPSBbXSwgb25DbGljayA9IG51bGwpID0+IHtcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ2EnLCBjbGFzc2VzKTtcblxuICAgIHNldENvbnRlbnQoZWwsIGNvbnRlbnQpO1xuICAgIFxuICAgIGlmICh0aXRsZSkge1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIGlmIChmcmVkQ29uZmlnLmxuZ0V4aXN0cyh0aXRsZSkpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgZnJlZENvbmZpZy5sbmcodGl0bGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0aXRsZScsIHRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoaHJlZikge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG9uQ2xpY2soZSwgZWwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGVsO1xufTtcblxuZXhwb3J0IGNvbnN0IGkgPSAoY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2knLCBjbGFzc2VzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtID0gKGNsYXNzZXMgPSBbXSkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdmb3JtJywgY2xhc3Nlcyk7XG59O1xuXG5leHBvcnQgY29uc3QgbGFiZWwgPSAoY29udGVudCwgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdsYWJlbCcsIGNsYXNzZXMpO1xuXG4gICAgc2V0Q29udGVudChlbCwgY29udGVudCk7XG5cbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaW5wdXQgPSAodmFsdWUgPSAnJywgdHlwZSA9ICd0ZXh0JywgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdpbnB1dCcsIGNsYXNzZXMpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xuICAgIFxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0ID0gKGNsYXNzZXMgPSBbXSkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdzZWxlY3QnLCBjbGFzc2VzKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0ZXh0QXJlYSA9ICh2YWx1ZSA9ICcnLCBjbGFzc2VzID0gW10pID0+IHtcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJywgY2xhc3Nlcyk7XG4gICAgZWwuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgXG4gICAgcmV0dXJuIGVsO1xufTtcblxuZXhwb3J0IGNvbnN0IGZpZWxkU2V0ID0gKGNsYXNzZXMgPSBbXSkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdmaWVsZHNldCcsIGNsYXNzZXMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGxlZ2VuZCA9IChjb250ZW50ID0gJycsIGNsYXNzZXMgPSBbXSkgPT4ge1xuICAgIGNvbnN0IGVsID0gY3JlYXRlRWxlbWVudCgnbGVnZW5kJywgY2xhc3Nlcyk7XG5cbiAgICBzZXRDb250ZW50KGVsLCBjb250ZW50KTtcbiAgICBcbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgZmlndXJlID0gKGNsYXNzZXMgPSBbXSkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdmaWd1cmUnLCBjbGFzc2VzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaWdDYXB0aW9uID0gKGNvbnRlbnQgPSAnJywgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdmaWdjYXB0aW9uJywgY2xhc3Nlcyk7XG5cbiAgICBzZXRDb250ZW50KGVsLCBjb250ZW50KTtcbiAgICBcbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaUZyYW1lID0gKHNyYywgY2xhc3NlcyA9IFtdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBjcmVhdGVFbGVtZW50KCdpZnJhbWUnLCBjbGFzc2VzKTtcblxuICAgIGVsLnNyYyA9IHNyYztcbiAgICBcbiAgICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZGl2LFxuICAgIHNwYW4sXG4gICAgZGwsXG4gICAgZGQsXG4gICAgZHQsXG4gICAgc2VjdGlvbixcbiAgICBidXR0b24sXG4gICAgaDEsXG4gICAgaDIsXG4gICAgaDMsXG4gICAgaDQsXG4gICAgYSxcbiAgICBpLFxuICAgIGltZyxcbiAgICBmb3JtLFxuICAgIGxhYmVsLFxuICAgIGlucHV0LFxuICAgIHNlbGVjdCxcbiAgICB0ZXh0QXJlYSxcbiAgICBmaWVsZFNldCxcbiAgICBsZWdlbmQsXG4gICAgZmlndXJlLFxuICAgIGZpZ0NhcHRpb24sXG4gICAgaUZyYW1lXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvVUkvRWxlbWVudHMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Elements = __webpack_require__(11);\n\nvar _Elements2 = _interopRequireDefault(_Elements);\n\nvar _Inputs = __webpack_require__(13);\n\nvar _Inputs2 = _interopRequireDefault(_Inputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    els: _Elements2.default,\n    ins: _Inputs2.default\n};\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL1VJL2luZGV4LmpzPzkzNmEiXSwibmFtZXMiOlsiZWxzIiwiaW5zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7a0JBRWU7QUFDWEEsMkJBRFc7QUFFWEM7QUFGVyxDIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVscyBmcm9tICcuL0VsZW1lbnRzJztcbmltcG9ydCBpbnMgZnJvbSAnLi9JbnB1dHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZWxzLCBcbiAgICBpbnNcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9VSS9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.tagger = exports.choices = exports.image = exports.page = exports.slider = exports.colorPicker = exports.colorSwatch = exports.dateTime = exports.area = exports.toggle = exports.select = exports.text = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _flatpickr = __webpack_require__(14);\n\nvar _flatpickr2 = _interopRequireDefault(_flatpickr);\n\nvar _choices = __webpack_require__(15);\n\nvar _choices2 = _interopRequireDefault(_choices);\n\nvar _ColorPicker = __webpack_require__(16);\n\nvar _ColorPicker2 = _interopRequireDefault(_ColorPicker);\n\nvar _nouislider = __webpack_require__(18);\n\nvar _nouislider2 = _interopRequireDefault(_nouislider);\n\nvar _Finder = __webpack_require__(19);\n\nvar _Finder2 = _interopRequireDefault(_Finder);\n\nvar _Elements = __webpack_require__(11);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Utils = __webpack_require__(20);\n\nvar _Tagger = __webpack_require__(107);\n\nvar _Tagger2 = _interopRequireDefault(_Tagger);\n\nvar _pages = __webpack_require__(110);\n\nvar _tagger = __webpack_require__(109);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar text = exports.text = function text(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n\n    var inputEl = (0, _Elements.input)(defaultValue);\n\n    var errorEl = null;\n\n    inputEl.addEventListener('keyup', function (e) {\n        if (errorEl !== null) {\n            errorEl.remove();\n            inputEl.removeAttribute('aria-invalid');\n            errorEl = null;\n        }\n\n        if (typeof onChange === 'function') {\n            onChange(setting.name, inputEl.value, inputEl, setting);\n        }\n    });\n\n    labelEl.onError = function (msg) {\n        inputEl.setAttribute('aria-invalid', 'true');\n        if (errorEl === null) {\n            errorEl = (0, _Elements.div)('error', msg);\n            labelEl.appendChild(errorEl);\n        } else {\n            errorEl.innerHTML = msg;\n        }\n    };\n\n    labelEl.appendChild(inputEl);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, inputEl);\n    }\n\n    return labelEl;\n};\n\nvar select = exports.select = function select(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n\n    var selectEl = (0, _Elements.select)();\n\n    if (setting.options) {\n        for (var value in setting.options) {\n            if (setting.options.hasOwnProperty(value)) {\n                var option = document.createElement('option');\n                option.innerHTML = setting.options[value];\n                option.value = value;\n\n                if (value === defaultValue) {\n                    option.setAttribute('selected', 'selected');\n                }\n\n                selectEl.appendChild(option);\n            }\n        }\n    }\n\n    if (typeof onChange === 'function') {\n        selectEl.addEventListener('change', function (e) {\n            if (setting.options[selectEl.value]) {\n                onChange(setting.name, selectEl.value, selectEl, setting);\n            }\n        });\n    }\n\n    labelEl.appendChild(selectEl);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, selectEl);\n    }\n\n    return labelEl;\n};\n\nvar toggle = exports.toggle = function toggle(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name, 'fred--toggle');\n\n    var inputEl = (0, _Elements.input)(defaultValue, 'checkbox');\n\n    if (typeof onChange === 'function') {\n        inputEl.addEventListener('change', function (e) {\n            onChange(setting.name, e.target.checked, inputEl, setting);\n        });\n    }\n\n    var spanEl = (0, _Elements.span)();\n\n    labelEl.appendChild(inputEl);\n    labelEl.appendChild(spanEl);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, inputEl, spanEl);\n    }\n\n    return labelEl;\n};\n\nvar area = exports.area = function area(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n\n    var textAreaEl = (0, _Elements.textArea)(defaultValue);\n\n    if (typeof onChange === 'function') {\n        textAreaEl.addEventListener('keyup', function (e) {\n            onChange(setting.name, textAreaEl.value, textAreaEl, setting);\n        });\n    }\n\n    labelEl.appendChild(textAreaEl);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, textAreaEl);\n    }\n\n    return labelEl;\n};\n\nvar dateTime = exports.dateTime = function dateTime(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var _onChange = arguments[2];\n    var onInit = arguments[3];\n\n    defaultValue = parseInt(defaultValue) || 0;\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n    var group = (0, _Elements.div)(['fred--input-group', 'fred--datetime']);\n    var inputEl = (0, _Elements.input)();\n\n    var picker = (0, _flatpickr2.default)(inputEl, {\n        enableTime: true,\n        dateFormat: \"Y-m-d H:i\",\n        appendTo: group,\n        defaultDate: defaultValue === 0 ? '' : defaultValue * 1000,\n        onChange: function onChange(selectedDates) {\n            if (typeof _onChange === 'function') {\n                if (selectedDates.length === 0) {\n                    _onChange(setting.name, 0, picker, setting);\n                } else {\n                    _onChange(setting.name, selectedDates[0].getTime() / 1000, picker, setting);\n                }\n            }\n        }\n    });\n\n    var clear = (0, _Elements.a)('', 'fred.fe.clear', '', 'fred--close-small', function () {\n        picker.clear();\n    });\n\n    group.appendChild(inputEl);\n    group.appendChild(clear);\n\n    labelEl.appendChild(group);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, inputEl);\n    }\n\n    return labelEl;\n};\n\nvar colorSwatch = exports.colorSwatch = function colorSwatch(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n    var wrapper = (0, _Elements.div)('fred--color_swatch');\n    var preview = (0, _Elements.div)('fred--color_swatch-preview');\n    var colors = (0, _Elements.div)(['fred--color_swatch-colors', 'fred--hidden']);\n\n    if (defaultValue) {\n        preview.style.backgroundColor = defaultValue;\n    }\n\n    var isOpen = false;\n\n    preview.addEventListener('click', function (e) {\n        e.preventDefault();\n        if (isOpen === false) {\n            isOpen = true;\n            colors.classList.remove('fred--hidden');\n        } else {\n            isOpen = false;\n            colors.classList.add('fred--hidden');\n        }\n    });\n\n    var defaultValueTranslated = false;\n\n    if (setting.options) {\n        setting.options.forEach(function (value) {\n            if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n                var option = (0, _Elements.div)('fred--color_swatch-color');\n                option.style.background = value.color;\n\n                if (value.width && parseFloat(value.width) > 1) {\n                    option.style.width = parseFloat(value.width) * 30 + 'px';\n                }\n\n                if (value.label && value.label.trim() !== '') {\n                    option.setAttribute('data-tooltip', value.label);\n                }\n\n                if (!defaultValueTranslated && defaultValue && value.value === defaultValue) {\n                    defaultValueTranslated = true;\n\n                    if (defaultValue) {\n                        preview.style.background = value.color;\n                    }\n                }\n\n                option.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    if (typeof onChange === 'function') {\n                        onChange(setting.name, value.value, option, setting);\n                    }\n\n                    preview.style.background = value.color;\n                });\n\n                colors.appendChild(option);\n            } else {\n                var _option = (0, _Elements.div)('fred--color_swatch-color');\n                _option.style.backgroundColor = value;\n\n                _option.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    if (typeof onChange === 'function') {\n                        onChange(setting.name, value, _option, setting);\n                    }\n\n                    preview.style.background = value;\n                });\n\n                colors.appendChild(_option);\n            }\n        });\n    }\n\n    wrapper.appendChild(preview);\n    wrapper.appendChild(colors);\n\n    labelEl.appendChild(wrapper);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, wrapper, preview, colors);\n    }\n\n    return labelEl;\n};\n\nvar colorPicker = exports.colorPicker = function colorPicker(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n    var wrapper = (0, _Elements.div)('fred--color_picker');\n    var preview = (0, _Elements.div)('fred--color_picker-preview');\n\n    var isOpen = false;\n    var pickerInstance = null;\n\n    preview.addEventListener('click', function (e) {\n        e.preventDefault();\n        if (isOpen === false) {\n            isOpen = true;\n\n            pickerInstance = _ColorPicker2.default.createPicker({\n                attachTo: picker,\n                color: defaultValue,\n                showAlpha: setting.showAlpha === undefined ? true : setting.showAlpha,\n                paletteEditable: false,\n                palette: setting.options || null\n            });\n\n            pickerInstance.onchange = function (picker) {\n                if (typeof onChange === 'function') {\n                    onChange(setting.name, picker.color, picker, setting);\n                }\n\n                preview.style.backgroundColor = picker.color;\n                defaultValue = picker.color;\n            };\n        } else {\n            if (pickerInstance !== null) {\n                pickerInstance.element.remove();\n                pickerInstance = null;\n            }\n\n            isOpen = false;\n        }\n    });\n\n    if (defaultValue) {\n        preview.style.backgroundColor = defaultValue;\n    }\n\n    var picker = (0, _Elements.div)();\n\n    wrapper.appendChild(preview);\n    wrapper.appendChild(picker);\n\n    labelEl.appendChild(wrapper);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, wrapper, preview, picker);\n    }\n\n    return labelEl;\n};\n\nvar slider = exports.slider = function slider(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n\n    if (!setting.min && !setting.max) {\n        console.error('Slider Input error. Parameters min and max are required');\n        return labelEl;\n    }\n\n    var sliderEl = (0, _Elements.div)();\n\n    var init = false;\n    var step = 1;\n    if (setting.step) {\n        step = setting.step;\n    } else {\n        if (setting.tooltipDecimals) {\n            step = Math.pow(10, -1 * setting.tooltipDecimals);\n        }\n    }\n\n    var slider = _nouislider2.default.create(sliderEl, {\n        start: defaultValue,\n        connect: [true, false],\n        tooltips: {\n            to: function to(value) {\n                var decimals = setting.tooltipDecimals === undefined ? 0 : setting.tooltipDecimals;\n\n                if (decimals === 0) {\n                    return parseInt(value.toFixed());\n                }\n\n                return parseFloat(value.toFixed(decimals));\n            }\n        },\n        format: {\n            to: function to(value) {\n                var decimals = setting.tooltipDecimals === undefined ? 0 : setting.tooltipDecimals;\n\n                if (decimals === 0) {\n                    return parseInt(value.toFixed());\n                }\n\n                return parseFloat(value.toFixed(decimals));\n            },\n            from: function from(value) {\n                var decimals = setting.tooltipDecimals === undefined ? 0 : setting.tooltipDecimals;\n\n                if (decimals === 0) {\n                    return parseInt(value);\n                }\n\n                return parseFloat(value).toFixed(decimals);\n            }\n        },\n        step: step,\n        range: {\n            'min': setting.min,\n            'max': setting.max\n        }\n    });\n\n    sliderEl.querySelector('.noUi-handle').addEventListener('keydown', function (e) {\n\n        var value = Number(sliderEl.noUiSlider.get());\n\n        if (e.which === 37) {\n            sliderEl.noUiSlider.set(value - step);\n        }\n\n        if (e.which === 39) {\n            sliderEl.noUiSlider.set(value + step);\n        }\n    });\n\n    if (typeof onChange === 'function') {\n        slider.on('update', function (values, handle, unencoded, tap, positions) {\n            if (init === false) {\n                init = true;\n            } else {\n                onChange(setting.name, values[0], slider, setting);\n            }\n        });\n    }\n\n    labelEl.appendChild(sliderEl);\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, sliderEl);\n    }\n\n    return labelEl;\n};\n\nvar page = exports.page = function page(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { id: 0, url: '' };\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var wrapper = (0, _Elements.div)();\n    var labelEl = (0, _Elements.label)(setting.label || setting.name, 'fred--label-choices');\n    var selectEl = (0, _Elements.select)();\n\n    wrapper.appendChild(labelEl);\n    wrapper.appendChild(selectEl);\n\n    var lookupTimeout = null;\n    var lookupCache = {};\n    var initData = [];\n\n    var pageChoices = new _choices2.default(selectEl, {\n        shouldSort: false,\n        removeItemButton: setting.clearButton || false,\n        searchResultLimit: 0\n    });\n\n    (0, _Utils.fixChoices)(pageChoices);\n\n    var queryOptions = {};\n\n    if (setting.parents) {\n        queryOptions.parents = setting.parents;\n    }\n\n    if (setting.resources) {\n        queryOptions.resources = setting.resources;\n    }\n\n    if (setting.depth) {\n        queryOptions.depth = setting.depth;\n    }\n\n    pageChoices.ajax(function (callback) {\n        (0, _pages.getResources)(defaultValue.id, queryOptions).then(function (json) {\n            initData = json.data.resources;\n            callback(json.data.resources, 'value', 'pagetitle');\n\n            if (json.data.current) {\n                pageChoices.setChoices([json.data.current], 'value', 'pagetitle', false);\n                pageChoices.setValueByChoice(\"\" + defaultValue.id);\n            }\n        }).catch(function (error) {\n            _EE2.default.emit('fred-loading', error.message);\n        });\n    });\n\n    var populateOptions = function populateOptions(options) {\n        var toRemove = [];\n\n        pageChoices.currentState.items.forEach(function (item) {\n            if (item.active) {\n                toRemove.push(item.value);\n            }\n        });\n\n        var toKeep = [];\n        options.forEach(function (option) {\n            if (toRemove.indexOf(option.id) === -1) {\n                toKeep.push(option);\n            }\n        });\n\n        pageChoices.setChoices(toKeep, 'value', 'pagetitle', true);\n    };\n\n    var serverLookup = function serverLookup() {\n        var query = pageChoices.input.value;\n        if (query in lookupCache) {\n            populateOptions(lookupCache[query]);\n        } else {\n            (0, _pages.getResources)(null, _extends({ query: query }, queryOptions)).then(function (data) {\n                lookupCache[query] = data.data.resources;\n                populateOptions(data.data.resources);\n            }).catch(function (error) {\n                _EE2.default.emit('fred-loading', error.message);\n            });\n        }\n    };\n\n    pageChoices.passedElement.addEventListener('search', function (event) {\n        clearTimeout(lookupTimeout);\n        lookupTimeout = setTimeout(serverLookup, 200);\n    });\n\n    pageChoices.passedElement.addEventListener('choice', function (event) {\n        pageChoices.setChoices(initData, 'value', 'pagetitle', true);\n\n        if (typeof onChange === 'function') {\n            onChange(setting.name, {\n                url: event.detail.choice.customProperties.url,\n                id: event.detail.choice.value\n            }, pageChoices, setting);\n        }\n    });\n\n    pageChoices.passedElement.addEventListener('removeItem', function (event) {\n        if (pageChoices.getValue()) return;\n\n        if (typeof onChange === 'function') {\n            onChange(setting.name, { url: '', id: '' }, pageChoices, setting);\n        }\n    });\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, selectEl);\n    }\n\n    return wrapper;\n};\n\nvar image = exports.image = function image(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n\n    setting.showPreview = setting.showPreview === undefined ? true : setting.showPreview;\n\n    var inputWrapper = (0, _Elements.div)(['fred--input-group', 'fred--browse']);\n\n    var inputEl = (0, _Elements.input)(defaultValue);\n\n    var openFinderButton = (0, _Elements.a)('', 'fred.fe.browse', '', 'fred--browse-small');\n\n    var preview = (0, _Elements.img)('');\n    var previewAdded = false;\n\n    var finderOptions = {};\n\n    if (setting.mediaSource && setting.mediaSource !== '') {\n        finderOptions.mediaSource = setting.mediaSource;\n    }\n\n    inputEl.addEventListener('keyup', function (e) {\n        if (setting.showPreview === true && inputEl.value) {\n            preview.src = inputEl.value;\n            if (!previewAdded) {\n                labelEl.appendChild(preview);\n                previewAdded = true;\n            }\n        } else {\n            if (previewAdded) {\n                preview.src = '';\n                preview.remove();\n                previewAdded = false;\n            }\n        }\n\n        if (typeof onChange === 'function') {\n            onChange(setting.name, inputEl.value, inputEl, setting);\n        }\n    });\n\n    openFinderButton.addEventListener('click', function (e) {\n        e.preventDefault();\n\n        var finder = new _Finder2.default(function (file, fm) {\n            if (typeof onChange === 'function') {\n                onChange(setting.name, file.url, inputEl, setting);\n            }\n\n            inputEl.value = file.url;\n            preview.src = file.url;\n\n            if (setting.showPreview === true && !previewAdded) {\n                labelEl.appendChild(preview);\n                previewAdded = true;\n            }\n        }, 'fred.fe.browse_images', finderOptions);\n\n        finder.render();\n    });\n\n    inputWrapper.appendChild(inputEl);\n    inputWrapper.appendChild(openFinderButton);\n\n    labelEl.appendChild(inputWrapper);\n\n    if (inputEl.value) {\n        preview.src = inputEl.value;\n    }\n\n    if (setting.showPreview === true && preview.src) {\n        labelEl.appendChild(preview);\n        previewAdded = true;\n    }\n\n    labelEl.setPreview = function (src) {\n        if (setting.showPreview !== true) return;\n        preview.src = src;\n\n        if (previewAdded === false) {\n            labelEl.appendChild(preview);\n            previewAdded = true;\n        }\n    };\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, inputEl);\n    }\n\n    return labelEl;\n};\n\nvar choices = exports.choices = function choices(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    var wrapper = (0, _Elements.div)();\n    var labelEl = (0, _Elements.label)(setting.label || setting.name);\n    var selectEl = (0, _Elements.select)();\n\n    var errorEl = null;\n\n    wrapper.appendChild(labelEl);\n    wrapper.appendChild(selectEl);\n    var config = setting.choices || {};\n    config.searchResultLimit = 0;\n\n    var choicesInstance = new _choices2.default(selectEl, config);\n    (0, _Utils.fixChoices)(choicesInstance);\n\n    if (typeof onChange === 'function') {\n        choicesInstance.passedElement.addEventListener('choice', function (event) {\n            if (errorEl !== null) {\n                errorEl.remove();\n                errorEl = null;\n            }\n\n            onChange(setting.name, event.detail.choice, selectEl, setting, choicesInstance);\n        });\n    }\n\n    labelEl.onError = function (msg) {\n        if (errorEl === null) {\n            errorEl = (0, _Elements.div)('error', msg);\n            labelEl.appendChild(errorEl);\n        } else {\n            errorEl.innerHTML = msg;\n        }\n    };\n\n    if (typeof onInit === 'function') {\n        onInit(setting, labelEl, selectEl, choicesInstance, defaultValue);\n    }\n\n    return wrapper;\n};\n\nvar tagger = exports.tagger = function tagger(setting) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var onChange = arguments[2];\n    var onInit = arguments[3];\n\n    setting.limit = setting.limit || 0;\n\n    var tempField = (0, _Elements.div)();\n\n    (0, _tagger.getGroups)(setting.group, setting.autoTag).then(function (value) {\n        var currentTags = defaultValue.split(',').filter(function (e) {\n            return e;\n        });\n        var taggerField = new _Tagger2.default({\n            id: setting.group,\n            name: setting.label || setting.name,\n            tag_limit: setting.limit || 0,\n            field_type: 'tagger-field-tags',\n            hide_input: setting.hideInput || false,\n            show_autotag: setting.autoTag || false,\n            allow_new: false,\n            as_radio: false,\n            tags: value\n        }, currentTags, function (newTags) {\n            onChange(setting.name, newTags.join(','), field, setting, taggerField);\n        });\n\n        var field = taggerField.render();\n\n        tempField.replaceWith(field);\n    }).catch(function (error) {\n        _EE2.default.emit('fred-loading', error.message);\n    });\n\n    return tempField;\n};\n\nexports.default = {\n    text: text,\n    select: select,\n    toggle: toggle,\n    area: area,\n    dateTime: dateTime,\n    colorSwatch: colorSwatch,\n    colorPicker: colorPicker,\n    slider: slider,\n    page: page,\n    image: image,\n    choices: choices,\n    tagger: tagger\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL1VJL0lucHV0cy5qcz9lZGFiIl0sIm5hbWVzIjpbInRleHQiLCJzZXR0aW5nIiwiZGVmYXVsdFZhbHVlIiwib25DaGFuZ2UiLCJvbkluaXQiLCJsYWJlbEVsIiwibGFiZWwiLCJuYW1lIiwiaW5wdXRFbCIsImVycm9yRWwiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwidmFsdWUiLCJvbkVycm9yIiwic2V0QXR0cmlidXRlIiwibXNnIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJzZWxlY3QiLCJzZWxlY3RFbCIsIm9wdGlvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsIm9wdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRvZ2dsZSIsImUiLCJ0YXJnZXQiLCJjaGVja2VkIiwic3BhbkVsIiwiYXJlYSIsInRleHRBcmVhRWwiLCJkYXRlVGltZSIsInBhcnNlSW50IiwiZ3JvdXAiLCJwaWNrZXIiLCJlbmFibGVUaW1lIiwiZGF0ZUZvcm1hdCIsImFwcGVuZFRvIiwiZGVmYXVsdERhdGUiLCJzZWxlY3RlZERhdGVzIiwibGVuZ3RoIiwiZ2V0VGltZSIsImNsZWFyIiwiY29sb3JTd2F0Y2giLCJ3cmFwcGVyIiwicHJldmlldyIsImNvbG9ycyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiaXNPcGVuIiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWZhdWx0VmFsdWVUcmFuc2xhdGVkIiwiZm9yRWFjaCIsImJhY2tncm91bmQiLCJjb2xvciIsIndpZHRoIiwicGFyc2VGbG9hdCIsInRyaW0iLCJjb2xvclBpY2tlciIsInBpY2tlckluc3RhbmNlIiwiY3JlYXRlUGlja2VyIiwiYXR0YWNoVG8iLCJzaG93QWxwaGEiLCJ1bmRlZmluZWQiLCJwYWxldHRlRWRpdGFibGUiLCJwYWxldHRlIiwib25jaGFuZ2UiLCJlbGVtZW50Iiwic2xpZGVyIiwibWluIiwibWF4IiwiY29uc29sZSIsImVycm9yIiwic2xpZGVyRWwiLCJpbml0Iiwic3RlcCIsInRvb2x0aXBEZWNpbWFscyIsIk1hdGgiLCJwb3ciLCJjcmVhdGUiLCJzdGFydCIsImNvbm5lY3QiLCJ0b29sdGlwcyIsInRvIiwiZGVjaW1hbHMiLCJ0b0ZpeGVkIiwiZm9ybWF0IiwiZnJvbSIsInJhbmdlIiwicXVlcnlTZWxlY3RvciIsIk51bWJlciIsIm5vVWlTbGlkZXIiLCJnZXQiLCJ3aGljaCIsInNldCIsIm9uIiwidmFsdWVzIiwiaGFuZGxlIiwidW5lbmNvZGVkIiwidGFwIiwicG9zaXRpb25zIiwicGFnZSIsImlkIiwidXJsIiwibG9va3VwVGltZW91dCIsImxvb2t1cENhY2hlIiwiaW5pdERhdGEiLCJwYWdlQ2hvaWNlcyIsInNob3VsZFNvcnQiLCJyZW1vdmVJdGVtQnV0dG9uIiwiY2xlYXJCdXR0b24iLCJzZWFyY2hSZXN1bHRMaW1pdCIsInF1ZXJ5T3B0aW9ucyIsInBhcmVudHMiLCJyZXNvdXJjZXMiLCJkZXB0aCIsImFqYXgiLCJ0aGVuIiwianNvbiIsImRhdGEiLCJjYWxsYmFjayIsImN1cnJlbnQiLCJzZXRDaG9pY2VzIiwic2V0VmFsdWVCeUNob2ljZSIsImNhdGNoIiwiZW1pdCIsIm1lc3NhZ2UiLCJwb3B1bGF0ZU9wdGlvbnMiLCJ0b1JlbW92ZSIsImN1cnJlbnRTdGF0ZSIsIml0ZW1zIiwiaXRlbSIsImFjdGl2ZSIsInB1c2giLCJ0b0tlZXAiLCJpbmRleE9mIiwic2VydmVyTG9va3VwIiwicXVlcnkiLCJpbnB1dCIsInBhc3NlZEVsZW1lbnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZXZlbnQiLCJkZXRhaWwiLCJjaG9pY2UiLCJjdXN0b21Qcm9wZXJ0aWVzIiwiZ2V0VmFsdWUiLCJpbWFnZSIsInNob3dQcmV2aWV3IiwiaW5wdXRXcmFwcGVyIiwib3BlbkZpbmRlckJ1dHRvbiIsInByZXZpZXdBZGRlZCIsImZpbmRlck9wdGlvbnMiLCJtZWRpYVNvdXJjZSIsInNyYyIsImZpbmRlciIsImZpbGUiLCJmbSIsInJlbmRlciIsInNldFByZXZpZXciLCJjaG9pY2VzIiwiY29uZmlnIiwiY2hvaWNlc0luc3RhbmNlIiwidGFnZ2VyIiwibGltaXQiLCJ0ZW1wRmllbGQiLCJhdXRvVGFnIiwiY3VycmVudFRhZ3MiLCJzcGxpdCIsImZpbHRlciIsInRhZ2dlckZpZWxkIiwidGFnX2xpbWl0IiwiZmllbGRfdHlwZSIsImhpZGVfaW5wdXQiLCJoaWRlSW5wdXQiLCJzaG93X2F1dG90YWciLCJhbGxvd19uZXciLCJhc19yYWRpbyIsInRhZ3MiLCJuZXdUYWdzIiwiam9pbiIsImZpZWxkIiwicmVwbGFjZVdpdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUVPLElBQU1BLHNCQUFPLFNBQVBBLElBQU8sQ0FBQ0MsT0FBRCxFQUFrRDtBQUFBLFFBQXhDQyxZQUF3Qyx1RUFBekIsRUFBeUI7QUFBQSxRQUFyQkMsUUFBcUI7QUFBQSxRQUFYQyxNQUFXOztBQUNsRSxRQUFNQyxVQUFVLHFCQUFNSixRQUFRSyxLQUFSLElBQWlCTCxRQUFRTSxJQUEvQixDQUFoQjs7QUFFQSxRQUFNQyxVQUFVLHFCQUFNTixZQUFOLENBQWhCOztBQUVBLFFBQUlPLFVBQVUsSUFBZDs7QUFFQUQsWUFBUUUsZ0JBQVIsQ0FBeUIsT0FBekIsRUFBa0MsYUFBSztBQUNuQyxZQUFJRCxZQUFZLElBQWhCLEVBQXNCO0FBQ2xCQSxvQkFBUUUsTUFBUjtBQUNBSCxvQkFBUUksZUFBUixDQUF3QixjQUF4QjtBQUNBSCxzQkFBVSxJQUFWO0FBQ0g7O0FBRUQsWUFBSSxPQUFPTixRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2hDQSxxQkFBU0YsUUFBUU0sSUFBakIsRUFBdUJDLFFBQVFLLEtBQS9CLEVBQXNDTCxPQUF0QyxFQUErQ1AsT0FBL0M7QUFD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O1xuaW1wb3J0IENob2ljZXMgZnJvbSAnY2hvaWNlcy5qcyc7XG5pbXBvcnQgQ29sb3JQaWNrZXIgZnJvbSAnLi8uLi9Db2xvclBpY2tlci9Db2xvclBpY2tlcic7XG5pbXBvcnQgbm9VaVNsaWRlciBmcm9tICdub3Vpc2xpZGVyJztcbmltcG9ydCBGaW5kZXIgZnJvbSBcIi4vLi4vRmluZGVyXCI7XG5pbXBvcnQge2RpdiwgbGFiZWwsIGlucHV0LCBzZWxlY3QgYXMgc2VsZWN0RWxlbWVudCwgc3BhbiwgdGV4dEFyZWEsIGEsIGltZ30gZnJvbSAnLi9FbGVtZW50cyc7XG5pbXBvcnQgZW1pdHRlciBmcm9tIFwiLi4vRUVcIjtcbmltcG9ydCB7IGZpeENob2ljZXMgfSBmcm9tIFwiLi4vVXRpbHNcIjtcbmltcG9ydCBUYWdnZXIgZnJvbSBcIi4vVGFnZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZXNvdXJjZXMgfSBmcm9tICcuLi9BY3Rpb25zL3BhZ2VzJztcbmltcG9ydCB7IGdldEdyb3VwcyB9IGZyb20gJy4uL0FjdGlvbnMvdGFnZ2VyJztcblxuZXhwb3J0IGNvbnN0IHRleHQgPSAoc2V0dGluZywgZGVmYXVsdFZhbHVlID0gJycsIG9uQ2hhbmdlLCBvbkluaXQpID0+IHtcbiAgICBjb25zdCBsYWJlbEVsID0gbGFiZWwoc2V0dGluZy5sYWJlbCB8fCBzZXR0aW5nLm5hbWUpO1xuXG4gICAgY29uc3QgaW5wdXRFbCA9IGlucHV0KGRlZmF1bHRWYWx1ZSk7XG5cbiAgICBsZXQgZXJyb3JFbCA9IG51bGw7XG4gICAgXG4gICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGUgPT4ge1xuICAgICAgICBpZiAoZXJyb3JFbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZXJyb3JFbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlucHV0RWwucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcbiAgICAgICAgICAgIGVycm9yRWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvbkNoYW5nZShzZXR0aW5nLm5hbWUsIGlucHV0RWwudmFsdWUsIGlucHV0RWwsIHNldHRpbmcpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgbGFiZWxFbC5vbkVycm9yID0gbXNnID0+IHtcbiAgICAgICAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XG4gICAgICAgIGlmIChlcnJvckVsID09PSBudWxsKSB7XG4gICAgICAgICAgICBlcnJvckVsID0gZGl2KCdlcnJvcicsIG1zZyk7XG4gICAgICAgICAgICBsYWJlbEVsLmFwcGVuZENoaWxkKGVycm9yRWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JFbC5pbm5lckhUTUwgPSBtc2c7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgbGFiZWxFbC5hcHBlbmRDaGlsZChpbnB1dEVsKTtcblxuICAgIGlmICh0eXBlb2Ygb25Jbml0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uSW5pdChzZXR0aW5nLCBsYWJlbEVsLCBpbnB1dEVsKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGxhYmVsRWw7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0ID0gKHNldHRpbmcsIGRlZmF1bHRWYWx1ZSA9ICcnLCBvbkNoYW5nZSwgb25Jbml0KSA9PiB7XG4gICAgY29uc3QgbGFiZWxFbCA9IGxhYmVsKHNldHRpbmcubGFiZWwgfHwgc2V0dGluZy5uYW1lKTtcblxuICAgIGNvbnN0IHNlbGVjdEVsID0gc2VsZWN0RWxlbWVudCgpO1xuXG4gICAgaWYgKHNldHRpbmcub3B0aW9ucykge1xuICAgICAgICBmb3IgKGxldCB2YWx1ZSBpbiBzZXR0aW5nLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nLm9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IHNldHRpbmcub3B0aW9uc1t2YWx1ZV07XG4gICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGVjdEVsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKHR5cGVvZiBvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzZWxlY3RFbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nLm9wdGlvbnNbc2VsZWN0RWwudmFsdWVdKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCBzZWxlY3RFbC52YWx1ZSwgc2VsZWN0RWwsIHNldHRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsYWJlbEVsLmFwcGVuZENoaWxkKHNlbGVjdEVsKTtcblxuICAgIGlmICh0eXBlb2Ygb25Jbml0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uSW5pdChzZXR0aW5nLCBsYWJlbEVsLCBzZWxlY3RFbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhYmVsRWw7XG59O1xuXG5leHBvcnQgY29uc3QgdG9nZ2xlID0gKHNldHRpbmcsIGRlZmF1bHRWYWx1ZSA9IGZhbHNlLCBvbkNoYW5nZSwgb25Jbml0KSA9PiB7XG4gICAgY29uc3QgbGFiZWxFbCA9IGxhYmVsKChzZXR0aW5nLmxhYmVsIHx8IHNldHRpbmcubmFtZSksICdmcmVkLS10b2dnbGUnKTtcblxuICAgIGNvbnN0IGlucHV0RWwgPSBpbnB1dChkZWZhdWx0VmFsdWUsICdjaGVja2JveCcpO1xuXG4gICAgaWYgKHR5cGVvZiBvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGUgPT4ge1xuICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCBlLnRhcmdldC5jaGVja2VkLCBpbnB1dEVsLCBzZXR0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3BhbkVsID0gc3BhbigpO1xuXG4gICAgbGFiZWxFbC5hcHBlbmRDaGlsZChpbnB1dEVsKTtcbiAgICBsYWJlbEVsLmFwcGVuZENoaWxkKHNwYW5FbCk7XG4gICAgXG4gICAgaWYgKHR5cGVvZiBvbkluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb25Jbml0KHNldHRpbmcsIGxhYmVsRWwsIGlucHV0RWwsIHNwYW5FbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhYmVsRWw7XG59O1xuXG5leHBvcnQgY29uc3QgYXJlYSA9IChzZXR0aW5nLCBkZWZhdWx0VmFsdWUgPSAnJywgb25DaGFuZ2UsIG9uSW5pdCkgPT4ge1xuICAgIGNvbnN0IGxhYmVsRWwgPSBsYWJlbChzZXR0aW5nLmxhYmVsIHx8IHNldHRpbmcubmFtZSk7XG5cbiAgICBjb25zdCB0ZXh0QXJlYUVsID0gdGV4dEFyZWEoZGVmYXVsdFZhbHVlKTtcblxuICAgIGlmICh0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGV4dEFyZWFFbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGUgPT4ge1xuICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCB0ZXh0QXJlYUVsLnZhbHVlLCB0ZXh0QXJlYUVsLCBzZXR0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGFiZWxFbC5hcHBlbmRDaGlsZCh0ZXh0QXJlYUVsKTtcblxuICAgIGlmICh0eXBlb2Ygb25Jbml0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uSW5pdChzZXR0aW5nLCBsYWJlbEVsLCB0ZXh0QXJlYUVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFiZWxFbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRlVGltZSA9IChzZXR0aW5nLCBkZWZhdWx0VmFsdWUgPSAwLCBvbkNoYW5nZSwgb25Jbml0KSA9PiB7XG4gICAgZGVmYXVsdFZhbHVlID0gcGFyc2VJbnQoZGVmYXVsdFZhbHVlKSB8fCAwO1xuICAgIFxuICAgIGNvbnN0IGxhYmVsRWwgPSBsYWJlbChzZXR0aW5nLmxhYmVsIHx8IHNldHRpbmcubmFtZSk7XG4gICAgY29uc3QgZ3JvdXAgPSBkaXYoWydmcmVkLS1pbnB1dC1ncm91cCcsICdmcmVkLS1kYXRldGltZSddKTtcbiAgICBjb25zdCBpbnB1dEVsID0gaW5wdXQoKTtcblxuICAgIGNvbnN0IHBpY2tlciA9IGZsYXRwaWNrcihpbnB1dEVsLCB7XG4gICAgICAgIGVuYWJsZVRpbWU6IHRydWUsXG4gICAgICAgIGRhdGVGb3JtYXQ6IFwiWS1tLWQgSDppXCIsXG4gICAgICAgIGFwcGVuZFRvOiBncm91cCxcbiAgICAgICAgZGVmYXVsdERhdGU6IChkZWZhdWx0VmFsdWUgPT09IDApID8gJycgOiAoZGVmYXVsdFZhbHVlICogMTAwMCksXG4gICAgICAgIG9uQ2hhbmdlOiBzZWxlY3RlZERhdGVzID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWREYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCAwLCBwaWNrZXIsIHNldHRpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHNldHRpbmcubmFtZSwgc2VsZWN0ZWREYXRlc1swXS5nZXRUaW1lKCkgLyAxMDAwLCBwaWNrZXIsIHNldHRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xlYXIgPSBhKCcnLCAnZnJlZC5mZS5jbGVhcicsICcnLCAnZnJlZC0tY2xvc2Utc21hbGwnLCAoKSA9PiB7XG4gICAgICAgIHBpY2tlci5jbGVhcigpO1xuICAgIH0pO1xuXG4gICAgZ3JvdXAuYXBwZW5kQ2hpbGQoaW5wdXRFbCk7XG4gICAgZ3JvdXAuYXBwZW5kQ2hpbGQoY2xlYXIpO1xuXG4gICAgbGFiZWxFbC5hcHBlbmRDaGlsZChncm91cCk7XG5cbiAgICBpZiAodHlwZW9mIG9uSW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkluaXQoc2V0dGluZywgbGFiZWxFbCwgaW5wdXRFbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhYmVsRWw7XG59O1xuXG5leHBvcnQgY29uc3QgY29sb3JTd2F0Y2ggPSAoc2V0dGluZywgZGVmYXVsdFZhbHVlID0gJycsIG9uQ2hhbmdlLCBvbkluaXQpID0+IHtcbiAgICBjb25zdCBsYWJlbEVsID0gbGFiZWwoc2V0dGluZy5sYWJlbCB8fCBzZXR0aW5nLm5hbWUpO1xuICAgIGNvbnN0IHdyYXBwZXIgPSBkaXYoJ2ZyZWQtLWNvbG9yX3N3YXRjaCcpO1xuICAgIGNvbnN0IHByZXZpZXcgPSBkaXYoJ2ZyZWQtLWNvbG9yX3N3YXRjaC1wcmV2aWV3Jyk7XG4gICAgY29uc3QgY29sb3JzID0gZGl2KFsnZnJlZC0tY29sb3Jfc3dhdGNoLWNvbG9ycycsICdmcmVkLS1oaWRkZW4nXSk7XG4gICAgXG4gICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBsZXQgaXNPcGVuID0gZmFsc2U7XG5cbiAgICBwcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGlzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICBjb2xvcnMuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0taGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbG9ycy5jbGFzc0xpc3QuYWRkKCdmcmVkLS1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGxldCBkZWZhdWx0VmFsdWVUcmFuc2xhdGVkID0gZmFsc2U7XG5cbiAgICBpZiAoc2V0dGluZy5vcHRpb25zKSB7XG4gICAgICAgIHNldHRpbmcub3B0aW9ucy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZGl2KCdmcmVkLS1jb2xvcl9zd2F0Y2gtY29sb3InKTtcbiAgICAgICAgICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IHZhbHVlLmNvbG9yO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS53aWR0aCAmJiBwYXJzZUZsb2F0KHZhbHVlLndpZHRoKSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnN0eWxlLndpZHRoID0gKHBhcnNlRmxvYXQodmFsdWUud2lkdGgpICogMzApICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxhYmVsICYmIHZhbHVlLmxhYmVsLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJywgdmFsdWUubGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghZGVmYXVsdFZhbHVlVHJhbnNsYXRlZCAmJiBkZWZhdWx0VmFsdWUgJiYgKHZhbHVlLnZhbHVlID09PSBkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZVRyYW5zbGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gdmFsdWUuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCB2YWx1ZS52YWx1ZSwgb3B0aW9uLCBzZXR0aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IHZhbHVlLmNvbG9yO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29sb3JzLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRpdignZnJlZC0tY29sb3Jfc3dhdGNoLWNvbG9yJyk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgIFxuICAgICAgICAgICAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHNldHRpbmcubmFtZSwgdmFsdWUsIG9wdGlvbiwgc2V0dGluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgcHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29sb3JzLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQocHJldmlldyk7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChjb2xvcnMpO1xuICAgIFxuICAgIGxhYmVsRWwuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG5cbiAgICBpZiAodHlwZW9mIG9uSW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkluaXQoc2V0dGluZywgbGFiZWxFbCwgd3JhcHBlciwgcHJldmlldywgY29sb3JzKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGxhYmVsRWw7XG59O1xuXG5leHBvcnQgY29uc3QgY29sb3JQaWNrZXIgPSAoc2V0dGluZywgZGVmYXVsdFZhbHVlID0gJycsIG9uQ2hhbmdlLCBvbkluaXQpID0+IHtcbiAgICBjb25zdCBsYWJlbEVsID0gbGFiZWwoc2V0dGluZy5sYWJlbCB8fCBzZXR0aW5nLm5hbWUpO1xuICAgIGNvbnN0IHdyYXBwZXIgPSBkaXYoJ2ZyZWQtLWNvbG9yX3BpY2tlcicpO1xuICAgIGNvbnN0IHByZXZpZXcgPSBkaXYoJ2ZyZWQtLWNvbG9yX3BpY2tlci1wcmV2aWV3Jyk7XG4gICAgXG4gICAgbGV0IGlzT3BlbiA9IGZhbHNlO1xuICAgIGxldCBwaWNrZXJJbnN0YW5jZSA9IG51bGw7XG5cbiAgICBwcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGlzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBpY2tlckluc3RhbmNlID0gQ29sb3JQaWNrZXIuY3JlYXRlUGlja2VyKHtcbiAgICAgICAgICAgICAgICBhdHRhY2hUbzogcGlja2VyLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgc2hvd0FscGhhOiAoc2V0dGluZy5zaG93QWxwaGEgPT09IHVuZGVmaW5lZCkgPyB0cnVlIDogc2V0dGluZy5zaG93QWxwaGEsXG4gICAgICAgICAgICAgICAgcGFsZXR0ZUVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYWxldHRlOiBzZXR0aW5nLm9wdGlvbnMgfHwgbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBpY2tlckluc3RhbmNlLm9uY2hhbmdlID0gKHBpY2tlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCBwaWNrZXIuY29sb3IsIHBpY2tlciwgc2V0dGluZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwaWNrZXIuY29sb3I7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gcGlja2VyLmNvbG9yO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwaWNrZXJJbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBpY2tlckluc3RhbmNlLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgcGlja2VySW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgcHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgcGlja2VyID0gZGl2KCk7XG4gICAgXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChwcmV2aWV3KTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHBpY2tlcik7XG4gICAgXG4gICAgbGFiZWxFbC5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcblxuICAgIGlmICh0eXBlb2Ygb25Jbml0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uSW5pdChzZXR0aW5nLCBsYWJlbEVsLCB3cmFwcGVyLCBwcmV2aWV3LCBwaWNrZXIpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbGFiZWxFbDtcbn07XG5cbmV4cG9ydCBjb25zdCBzbGlkZXIgPSAoc2V0dGluZywgZGVmYXVsdFZhbHVlID0gMCwgb25DaGFuZ2UsIG9uSW5pdCkgPT4ge1xuICAgIGNvbnN0IGxhYmVsRWwgPSBsYWJlbChzZXR0aW5nLmxhYmVsIHx8IHNldHRpbmcubmFtZSk7XG5cbiAgICBpZiAoIXNldHRpbmcubWluICYmICFzZXR0aW5nLm1heCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTbGlkZXIgSW5wdXQgZXJyb3IuIFBhcmFtZXRlcnMgbWluIGFuZCBtYXggYXJlIHJlcXVpcmVkJyk7XG4gICAgICAgIHJldHVybiBsYWJlbEVsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzbGlkZXJFbCA9IGRpdigpO1xuXG4gICAgbGV0IGluaXQgPSBmYWxzZTtcbiAgICBsZXQgc3RlcCA9IDE7XG4gICAgaWYgKHNldHRpbmcuc3RlcCkge1xuICAgICAgICBzdGVwID0gc2V0dGluZy5zdGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZXR0aW5nLnRvb2x0aXBEZWNpbWFscykge1xuICAgICAgICAgICAgc3RlcCA9IE1hdGgucG93KDEwLCAtMSAqIHNldHRpbmcudG9vbHRpcERlY2ltYWxzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBzbGlkZXIgPSBub1VpU2xpZGVyLmNyZWF0ZShzbGlkZXJFbCwge1xuICAgICAgICBzdGFydDogZGVmYXVsdFZhbHVlLFxuICAgICAgICBjb25uZWN0OiBbdHJ1ZSwgZmFsc2VdLFxuICAgICAgICB0b29sdGlwczoge1xuICAgICAgICAgICAgdG86IHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNpbWFscyA9IChzZXR0aW5nLnRvb2x0aXBEZWNpbWFscyA9PT0gdW5kZWZpbmVkKSA/IDAgOiBzZXR0aW5nLnRvb2x0aXBEZWNpbWFscztcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoZGVjaW1hbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLnRvRml4ZWQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoZGVjaW1hbHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICB0bzogZnVuY3Rpb24gKCB2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNpbWFscyA9IChzZXR0aW5nLnRvb2x0aXBEZWNpbWFscyA9PT0gdW5kZWZpbmVkKSA/IDAgOiBzZXR0aW5nLnRvb2x0aXBEZWNpbWFscztcblxuICAgICAgICAgICAgICAgIGlmIChkZWNpbWFscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUudG9GaXhlZCgpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZS50b0ZpeGVkKGRlY2ltYWxzKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJvbTogZnVuY3Rpb24gKCB2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNpbWFscyA9IChzZXR0aW5nLnRvb2x0aXBEZWNpbWFscyA9PT0gdW5kZWZpbmVkKSA/IDAgOiBzZXR0aW5nLnRvb2x0aXBEZWNpbWFscztcblxuICAgICAgICAgICAgICAgIGlmIChkZWNpbWFscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKS50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3RlcDogc3RlcCxcbiAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICdtaW4nOiBzZXR0aW5nLm1pbixcbiAgICAgICAgICAgICdtYXgnOiBzZXR0aW5nLm1heFxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBzbGlkZXJFbC5xdWVyeVNlbGVjdG9yKCcubm9VaS1oYW5kbGUnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oIGUgKSB7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBOdW1iZXIoc2xpZGVyRWwubm9VaVNsaWRlci5nZXQoKSk7XG5cbiAgICAgICAgaWYgKGUud2hpY2ggPT09IDM3KSB7XG4gICAgICAgICAgICBzbGlkZXJFbC5ub1VpU2xpZGVyLnNldCh2YWx1ZSAtIHN0ZXApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUud2hpY2ggPT09IDM5KSB7XG4gICAgICAgICAgICBzbGlkZXJFbC5ub1VpU2xpZGVyLnNldCh2YWx1ZSArIHN0ZXApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNsaWRlci5vbigndXBkYXRlJywgKHZhbHVlcywgaGFuZGxlLCB1bmVuY29kZWQsIHRhcCwgcG9zaXRpb25zKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5pdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCB2YWx1ZXNbMF0sIHNsaWRlciwgc2V0dGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxhYmVsRWwuYXBwZW5kQ2hpbGQoc2xpZGVyRWwpO1xuXG4gICAgaWYgKHR5cGVvZiBvbkluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb25Jbml0KHNldHRpbmcsIGxhYmVsRWwsIHNsaWRlckVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFiZWxFbDtcbn07XG5cbmV4cG9ydCBjb25zdCBwYWdlID0gKHNldHRpbmcsIGRlZmF1bHRWYWx1ZSA9IHtpZDogMCwgdXJsOiAnJ30sIG9uQ2hhbmdlLCBvbkluaXQpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gZGl2KCk7XG4gICAgY29uc3QgbGFiZWxFbCA9IGxhYmVsKChzZXR0aW5nLmxhYmVsIHx8IHNldHRpbmcubmFtZSksICdmcmVkLS1sYWJlbC1jaG9pY2VzJyk7XG4gICAgY29uc3Qgc2VsZWN0RWwgPSBzZWxlY3RFbGVtZW50KCk7XG5cbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsRWwpO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZWN0RWwpO1xuICAgIFxuICAgIGxldCBsb29rdXBUaW1lb3V0ID0gbnVsbDtcbiAgICBjb25zdCBsb29rdXBDYWNoZSA9IHt9O1xuICAgIGxldCBpbml0RGF0YSA9IFtdO1xuXG4gICAgY29uc3QgcGFnZUNob2ljZXMgPSBuZXcgQ2hvaWNlcyhzZWxlY3RFbCwge1xuICAgICAgICBzaG91bGRTb3J0OmZhbHNlLFxuICAgICAgICByZW1vdmVJdGVtQnV0dG9uOiBzZXR0aW5nLmNsZWFyQnV0dG9uIHx8IGZhbHNlLFxuICAgICAgICBzZWFyY2hSZXN1bHRMaW1pdDogMFxuICAgIH0pO1xuXG4gICAgZml4Q2hvaWNlcyhwYWdlQ2hvaWNlcyk7XG5cbiAgICBjb25zdCBxdWVyeU9wdGlvbnMgPSB7fTtcbiAgICBcbiAgICBpZiAoc2V0dGluZy5wYXJlbnRzKSB7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucy5wYXJlbnRzID0gc2V0dGluZy5wYXJlbnRzO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2V0dGluZy5yZXNvdXJjZXMpIHtcbiAgICAgICAgcXVlcnlPcHRpb25zLnJlc291cmNlcyA9IHNldHRpbmcucmVzb3VyY2VzO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2V0dGluZy5kZXB0aCkge1xuICAgICAgICBxdWVyeU9wdGlvbnMuZGVwdGggPSBzZXR0aW5nLmRlcHRoO1xuICAgIH1cbiAgICBcbiAgICBwYWdlQ2hvaWNlcy5hamF4KGNhbGxiYWNrID0+IHtcbiAgICAgICAgZ2V0UmVzb3VyY2VzKGRlZmF1bHRWYWx1ZS5pZCwgcXVlcnlPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgaW5pdERhdGEgPSBqc29uLmRhdGEucmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGpzb24uZGF0YS5yZXNvdXJjZXMsICd2YWx1ZScsICdwYWdldGl0bGUnKTtcblxuICAgICAgICAgICAgICAgIGlmIChqc29uLmRhdGEuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYWdlQ2hvaWNlcy5zZXRDaG9pY2VzKFtqc29uLmRhdGEuY3VycmVudF0sICd2YWx1ZScsICdwYWdldGl0bGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VDaG9pY2VzLnNldFZhbHVlQnlDaG9pY2UoXCJcIiArIGRlZmF1bHRWYWx1ZS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmcnLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcG9wdWxhdGVPcHRpb25zID0gb3B0aW9ucyA9PiB7XG4gICAgICAgIGNvbnN0IHRvUmVtb3ZlID0gW107XG5cbiAgICAgICAgcGFnZUNob2ljZXMuY3VycmVudFN0YXRlLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0b1JlbW92ZS5wdXNoKGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0b0tlZXAgPSBbXTtcbiAgICAgICAgb3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAodG9SZW1vdmUuaW5kZXhPZihvcHRpb24uaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRvS2VlcC5wdXNoKG9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBhZ2VDaG9pY2VzLnNldENob2ljZXModG9LZWVwLCAndmFsdWUnLCAncGFnZXRpdGxlJywgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlcnZlckxvb2t1cCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBwYWdlQ2hvaWNlcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgaWYgKHF1ZXJ5IGluIGxvb2t1cENhY2hlKSB7XG4gICAgICAgICAgICBwb3B1bGF0ZU9wdGlvbnMobG9va3VwQ2FjaGVbcXVlcnldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFJlc291cmNlcyhudWxsLCB7cXVlcnksIC4uLnF1ZXJ5T3B0aW9uc30pXG4gICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cENhY2hlW3F1ZXJ5XSA9IGRhdGEuZGF0YS5yZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlT3B0aW9ucyhkYXRhLmRhdGEucmVzb3VyY2VzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcGFnZUNob2ljZXMucGFzc2VkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWFyY2gnLCBldmVudCA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChsb29rdXBUaW1lb3V0KTtcbiAgICAgICAgbG9va3VwVGltZW91dCA9IHNldFRpbWVvdXQoc2VydmVyTG9va3VwLCAyMDApO1xuICAgIH0pO1xuXG4gICAgcGFnZUNob2ljZXMucGFzc2VkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaG9pY2UnLCBldmVudCA9PiB7XG4gICAgICAgIHBhZ2VDaG9pY2VzLnNldENob2ljZXMoaW5pdERhdGEsICd2YWx1ZScsICdwYWdldGl0bGUnLCB0cnVlKTtcblxuICAgICAgICBpZiAodHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvbkNoYW5nZShzZXR0aW5nLm5hbWUsIHtcbiAgICAgICAgICAgICAgICB1cmw6IGV2ZW50LmRldGFpbC5jaG9pY2UuY3VzdG9tUHJvcGVydGllcy51cmwsXG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmRldGFpbC5jaG9pY2UudmFsdWVcbiAgICAgICAgICAgIH0sIHBhZ2VDaG9pY2VzLCBzZXR0aW5nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcGFnZUNob2ljZXMucGFzc2VkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmVJdGVtJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAocGFnZUNob2ljZXMuZ2V0VmFsdWUoKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9uQ2hhbmdlKHNldHRpbmcubmFtZSwge3VybDogJycsIGlkOiAnJ30sIHBhZ2VDaG9pY2VzLCBzZXR0aW5nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBvbkluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb25Jbml0KHNldHRpbmcsIGxhYmVsRWwsIHNlbGVjdEVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBpbWFnZSA9IChzZXR0aW5nLCBkZWZhdWx0VmFsdWUgPSAnJywgb25DaGFuZ2UsIG9uSW5pdCkgPT4ge1xuICAgIGNvbnN0IGxhYmVsRWwgPSBsYWJlbChzZXR0aW5nLmxhYmVsIHx8IHNldHRpbmcubmFtZSk7XG5cbiAgICBzZXR0aW5nLnNob3dQcmV2aWV3ID0gKHNldHRpbmcuc2hvd1ByZXZpZXcgPT09IHVuZGVmaW5lZCkgPyB0cnVlIDogc2V0dGluZy5zaG93UHJldmlldztcblxuICAgIGNvbnN0IGlucHV0V3JhcHBlciA9IGRpdihbJ2ZyZWQtLWlucHV0LWdyb3VwJywgJ2ZyZWQtLWJyb3dzZSddKTtcbiAgICBcbiAgICBjb25zdCBpbnB1dEVsID0gaW5wdXQoZGVmYXVsdFZhbHVlKTtcblxuICAgIGNvbnN0IG9wZW5GaW5kZXJCdXR0b24gPSBhKCcnLCAnZnJlZC5mZS5icm93c2UnLCAnJywgJ2ZyZWQtLWJyb3dzZS1zbWFsbCcpO1xuXG4gICAgY29uc3QgcHJldmlldyA9IGltZygnJyk7XG4gICAgbGV0IHByZXZpZXdBZGRlZCA9IGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IGZpbmRlck9wdGlvbnMgPSB7fTtcbiAgICBcbiAgICBpZiAoc2V0dGluZy5tZWRpYVNvdXJjZSAmJiAoc2V0dGluZy5tZWRpYVNvdXJjZSAhPT0gJycpKSB7XG4gICAgICAgIGZpbmRlck9wdGlvbnMubWVkaWFTb3VyY2UgPSBzZXR0aW5nLm1lZGlhU291cmNlO1xuICAgIH1cblxuICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcbiAgICAgICAgaWYoKHNldHRpbmcuc2hvd1ByZXZpZXcgPT09IHRydWUpICYmIGlucHV0RWwudmFsdWUpIHtcbiAgICAgICAgICAgIHByZXZpZXcuc3JjID0gaW5wdXRFbC52YWx1ZTtcbiAgICAgICAgICAgIGlmICghcHJldmlld0FkZGVkKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxFbC5hcHBlbmRDaGlsZChwcmV2aWV3KTtcbiAgICAgICAgICAgICAgICBwcmV2aWV3QWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByZXZpZXdBZGRlZCkge1xuICAgICAgICAgICAgICAgIHByZXZpZXcuc3JjID0gJyc7XG4gICAgICAgICAgICAgICAgcHJldmlldy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBwcmV2aWV3QWRkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvbkNoYW5nZShzZXR0aW5nLm5hbWUsIGlucHV0RWwudmFsdWUsIGlucHV0RWwsIHNldHRpbmcpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgb3BlbkZpbmRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgZmluZGVyID0gbmV3IEZpbmRlcigoZmlsZSwgZm0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZShzZXR0aW5nLm5hbWUsIGZpbGUudXJsLCBpbnB1dEVsLCBzZXR0aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGZpbGUudXJsO1xuICAgICAgICAgICAgcHJldmlldy5zcmMgPSBmaWxlLnVybDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKChzZXR0aW5nLnNob3dQcmV2aWV3ID09PSB0cnVlKSAmJiAhcHJldmlld0FkZGVkKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxFbC5hcHBlbmRDaGlsZChwcmV2aWV3KTtcbiAgICAgICAgICAgICAgICBwcmV2aWV3QWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAnZnJlZC5mZS5icm93c2VfaW1hZ2VzJywgZmluZGVyT3B0aW9ucyk7XG5cbiAgICAgICAgZmluZGVyLnJlbmRlcigpO1xuICAgIH0pO1xuXG4gICAgaW5wdXRXcmFwcGVyLmFwcGVuZENoaWxkKGlucHV0RWwpO1xuICAgIGlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChvcGVuRmluZGVyQnV0dG9uKTtcblxuICAgIGxhYmVsRWwuYXBwZW5kQ2hpbGQoaW5wdXRXcmFwcGVyKTtcblxuICAgIGlmKGlucHV0RWwudmFsdWUpIHtcbiAgICAgICAgcHJldmlldy5zcmMgPSBpbnB1dEVsLnZhbHVlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoKHNldHRpbmcuc2hvd1ByZXZpZXcgPT09IHRydWUpICYmIHByZXZpZXcuc3JjKSB7XG4gICAgICAgIGxhYmVsRWwuYXBwZW5kQ2hpbGQocHJldmlldyk7XG4gICAgICAgIHByZXZpZXdBZGRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbGFiZWxFbC5zZXRQcmV2aWV3ID0gc3JjID0+IHtcbiAgICAgICAgaWYgKHNldHRpbmcuc2hvd1ByZXZpZXcgIT09IHRydWUpIHJldHVybjtcbiAgICAgICAgcHJldmlldy5zcmMgPSBzcmM7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJldmlld0FkZGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbGFiZWxFbC5hcHBlbmRDaGlsZChwcmV2aWV3KTtcbiAgICAgICAgICAgIHByZXZpZXdBZGRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBvbkluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb25Jbml0KHNldHRpbmcsIGxhYmVsRWwsIGlucHV0RWwpO1xuICAgIH1cblxuICAgIHJldHVybiBsYWJlbEVsO1xufTtcblxuZXhwb3J0IGNvbnN0IGNob2ljZXMgPSAoc2V0dGluZywgZGVmYXVsdFZhbHVlID0gJycsIG9uQ2hhbmdlLCBvbkluaXQpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gZGl2KCk7XG4gICAgY29uc3QgbGFiZWxFbCA9IGxhYmVsKHNldHRpbmcubGFiZWwgfHwgc2V0dGluZy5uYW1lKTtcbiAgICBjb25zdCBzZWxlY3RFbCA9IHNlbGVjdEVsZW1lbnQoKTtcblxuICAgIGxldCBlcnJvckVsID0gbnVsbDtcbiAgICBcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsRWwpO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZWN0RWwpO1xuICAgIGNvbnN0IGNvbmZpZyA9IHNldHRpbmcuY2hvaWNlcyB8fCB7fTtcbiAgICBjb25maWcuc2VhcmNoUmVzdWx0TGltaXQgPSAwO1xuICAgIFxuICAgIGNvbnN0IGNob2ljZXNJbnN0YW5jZSA9IG5ldyBDaG9pY2VzKHNlbGVjdEVsLCBjb25maWcpO1xuICAgIGZpeENob2ljZXMoY2hvaWNlc0luc3RhbmNlKTtcbiAgICBcbiAgICBpZiAodHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNob2ljZXNJbnN0YW5jZS5wYXNzZWRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Nob2ljZScsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvckVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JFbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBlcnJvckVsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgb25DaGFuZ2Uoc2V0dGluZy5uYW1lLCBldmVudC5kZXRhaWwuY2hvaWNlLCBzZWxlY3RFbCwgc2V0dGluZywgY2hvaWNlc0luc3RhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGFiZWxFbC5vbkVycm9yID0gbXNnID0+IHtcbiAgICAgICAgaWYgKGVycm9yRWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGVycm9yRWwgPSBkaXYoJ2Vycm9yJywgbXNnKTtcbiAgICAgICAgICAgIGxhYmVsRWwuYXBwZW5kQ2hpbGQoZXJyb3JFbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvckVsLmlubmVySFRNTCA9IG1zZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIG9uSW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkluaXQoc2V0dGluZywgbGFiZWxFbCwgc2VsZWN0RWwsIGNob2ljZXNJbnN0YW5jZSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbn07XG5cbmV4cG9ydCBjb25zdCB0YWdnZXIgPSAoc2V0dGluZywgZGVmYXVsdFZhbHVlID0gJycsIG9uQ2hhbmdlLCBvbkluaXQpID0+IHtcbiAgICBzZXR0aW5nLmxpbWl0ID0gc2V0dGluZy5saW1pdCB8fCAwO1xuXG4gICAgY29uc3QgdGVtcEZpZWxkID0gZGl2KCk7XG4gICAgXG4gICAgZ2V0R3JvdXBzKHNldHRpbmcuZ3JvdXAsIHNldHRpbmcuYXV0b1RhZylcbiAgICAgICAgLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFRhZ3MgPSBkZWZhdWx0VmFsdWUuc3BsaXQoJywnKS5maWx0ZXIoZSA9PiB7cmV0dXJuIGU7fSk7XG4gICAgICAgICAgICBjb25zdCB0YWdnZXJGaWVsZCA9IG5ldyBUYWdnZXIoe1xuICAgICAgICAgICAgICAgIGlkOiBzZXR0aW5nLmdyb3VwLFxuICAgICAgICAgICAgICAgIG5hbWU6IHNldHRpbmcubGFiZWwgfHwgc2V0dGluZy5uYW1lLFxuICAgICAgICAgICAgICAgIHRhZ19saW1pdDogc2V0dGluZy5saW1pdCB8fCAwLFxuICAgICAgICAgICAgICAgIGZpZWxkX3R5cGU6ICd0YWdnZXItZmllbGQtdGFncycsXG4gICAgICAgICAgICAgICAgaGlkZV9pbnB1dDogc2V0dGluZy5oaWRlSW5wdXQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd19hdXRvdGFnOiBzZXR0aW5nLmF1dG9UYWcgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgYWxsb3dfbmV3OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhc19yYWRpbzogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGFnczogdmFsdWVcbiAgICAgICAgICAgIH0sIGN1cnJlbnRUYWdzLCBuZXdUYWdzID0+IHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZShzZXR0aW5nLm5hbWUsIG5ld1RhZ3Muam9pbignLCcpLCBmaWVsZCwgc2V0dGluZywgdGFnZ2VyRmllbGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRhZ2dlckZpZWxkLnJlbmRlcigpO1xuICAgIFxuICAgICAgICAgICAgdGVtcEZpZWxkLnJlcGxhY2VXaXRoKGZpZWxkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuXG4gICAgcmV0dXJuIHRlbXBGaWVsZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB0ZXh0LFxuICAgIHNlbGVjdCxcbiAgICB0b2dnbGUsXG4gICAgYXJlYSxcbiAgICBkYXRlVGltZSxcbiAgICBjb2xvclN3YXRjaCxcbiAgICBjb2xvclBpY2tlcixcbiAgICBzbGlkZXIsXG4gICAgcGFnZSxcbiAgICBpbWFnZSxcbiAgICBjaG9pY2VzLFxuICAgIHRhZ2dlclxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL1VJL0lucHV0cy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* flatpickr v4.4.3, @license MIT */\n(function (global, factory) {\n     true ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.flatpickr = factory());\n}(this, (function () { 'use strict';\n\n    var pad = function pad(number) {\n      return (\"0\" + number).slice(-2);\n    };\n    var int = function int(bool) {\n      return bool === true ? 1 : 0;\n    };\n    function debounce(func, wait, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var timeout;\n      return function () {\n        var context = this,\n            args = arguments;\n        timeout !== null && clearTimeout(timeout);\n        timeout = window.setTimeout(function () {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        }, wait);\n        if (immediate && !timeout) func.apply(context, args);\n      };\n    }\n    var arrayify = function arrayify(obj) {\n      return obj instanceof Array ? obj : [obj];\n    };\n\n    var do_nothing = function do_nothing() {\n      return undefined;\n    };\n\n    var monthToStr = function monthToStr(monthNumber, shorthand, locale) {\n      return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\n    };\n    var revFormat = {\n      D: do_nothing,\n      F: function F(dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n      },\n      G: function G(dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n      },\n      H: function H(dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n      },\n      J: function J(dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n      },\n      K: function K(dateObj, amPM, locale) {\n        dateObj.setHours(dateObj.getHours() % 12 + 12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n      },\n      M: function M(dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n      },\n      S: function S(dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n      },\n      U: function U(_, unixSeconds) {\n        return new Date(parseFloat(unixSeconds) * 1000);\n      },\n      W: function W(dateObj, weekNum) {\n        var weekNumber = parseInt(weekNum);\n        return new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n      },\n      Y: function Y(dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n      },\n      Z: function Z(_, ISODate) {\n        return new Date(ISODate);\n      },\n      d: function d(dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n      },\n      h: function h(dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n      },\n      i: function i(dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n      },\n      j: function j(dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n      },\n      l: do_nothing,\n      m: function m(dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n      },\n      n: function n(dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n      },\n      s: function s(dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n      },\n      w: do_nothing,\n      y: function y(dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n      }\n    };\n    var tokenRegex = {\n      D: \"(\\\\w+)\",\n      F: \"(\\\\w+)\",\n      G: \"(\\\\d\\\\d|\\\\d)\",\n      H: \"(\\\\d\\\\d|\\\\d)\",\n      J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n      K: \"\",\n      M: \"(\\\\w+)\",\n      S: \"(\\\\d\\\\d|\\\\d)\",\n      U: \"(.+)\",\n      W: \"(\\\\d\\\\d|\\\\d)\",\n      Y: \"(\\\\d{4})\",\n      Z: \"(.+)\",\n      d: \"(\\\\d\\\\d|\\\\d)\",\n      h: \"(\\\\d\\\\d|\\\\d)\",\n      i: \"(\\\\d\\\\d|\\\\d)\",\n      j: \"(\\\\d\\\\d|\\\\d)\",\n      l: \"(\\\\w+)\",\n      m: \"(\\\\d\\\\d|\\\\d)\",\n      n: \"(\\\\d\\\\d|\\\\d)\",\n      s: \"(\\\\d\\\\d|\\\\d)\",\n      w: \"(\\\\d\\\\d|\\\\d)\",\n      y: \"(\\\\d{2})\"\n    };\n    var formats = {\n      Z: function Z(date) {\n        return date.toISOString();\n      },\n      D: function D(date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n      },\n      F: function F(date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n      },\n      G: function G(date, locale, options) {\n        return pad(formats.h(date, locale, options));\n      },\n      H: function H(date) {\n        return pad(date.getHours());\n      },\n      J: function J(date, locale) {\n        return locale.ordinal !== undefined ? date.getDate() + locale.ordinal(date.getDate()) : date.getDate();\n      },\n      K: function K(date, locale) {\n        return locale.amPM[int(date.getHours() > 11)];\n      },\n      M: function M(date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n      },\n      S: function S(date) {\n        return pad(date.getSeconds());\n      },\n      U: function U(date) {\n        return date.getTime() / 1000;\n      },\n      W: function W(date, _, options) {\n        return options.getWeek(date);\n      },\n      Y: function Y(date) {\n        return date.getFullYear();\n      },\n      d: function d(date) {\n        return pad(date.getDate());\n      },\n      h: function h(date) {\n        return date.getHours() % 12 ? date.getHours() % 12 : 12;\n      },\n      i: function i(date) {\n        return pad(date.getMinutes());\n      },\n      j: function j(date) {\n        return date.getDate();\n      },\n      l: function l(date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n      },\n      m: function m(date) {\n        return pad(date.getMonth() + 1);\n      },\n      n: function n(date) {\n        return date.getMonth() + 1;\n      },\n      s: function s(date) {\n        return date.getSeconds();\n      },\n      w: function w(date) {\n        return date.getDay();\n      },\n      y: function y(date) {\n        return String(date.getFullYear()).substring(2);\n      }\n    };\n\n    var english = {\n      weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n      },\n      months: {\n        shorthand: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n        longhand: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n      },\n      daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n      firstDayOfWeek: 0,\n      ordinal: function ordinal(nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21) return \"th\";\n\n        switch (s % 10) {\n          case 1:\n            return \"st\";\n\n          case 2:\n            return \"nd\";\n\n          case 3:\n            return \"rd\";\n\n          default:\n            return \"th\";\n        }\n      },\n      rangeSeparator: \" to \",\n      weekAbbreviation: \"Wk\",\n      scrollTitle: \"Scroll to increment\",\n      toggleTitle: \"Click to toggle\",\n      amPM: [\"AM\", \"PM\"],\n      yearAriaLabel: \"Year\"\n    };\n\n    var createDateFormatter = function createDateFormatter(_ref) {\n      var _ref$config = _ref.config,\n          config = _ref$config === void 0 ? defaults : _ref$config,\n          _ref$l10n = _ref.l10n,\n          l10n = _ref$l10n === void 0 ? english : _ref$l10n;\n      return function (dateObj, frmt, overrideLocale) {\n        if (config.formatDate !== undefined) return config.formatDate(dateObj, frmt);\n        var locale = overrideLocale || l10n;\n        return frmt.split(\"\").map(function (c, i, arr) {\n          return formats[c] && arr[i - 1] !== \"\\\\\" ? formats[c](dateObj, locale, config) : c !== \"\\\\\" ? c : \"\";\n        }).join(\"\");\n      };\n    };\n    var createDateParser = function createDateParser(_ref2) {\n      var _ref2$config = _ref2.config,\n          config = _ref2$config === void 0 ? defaults : _ref2$config,\n          _ref2$l10n = _ref2.l10n,\n          l10n = _ref2$l10n === void 0 ? english : _ref2$l10n;\n      return function (date, givenFormat, timeless) {\n        if (date !== 0 && !date) return undefined;\n        var parsedDate;\n        var date_orig = date;\n        if (date instanceof Date) parsedDate = new Date(date.getTime());else if (typeof date !== \"string\" && date.toFixed !== undefined) parsedDate = new Date(date);else if (typeof date === \"string\") {\n          var format = givenFormat || (config || defaults).dateFormat;\n          var datestr = String(date).trim();\n\n          if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n          } else if (/Z$/.test(datestr) || /GMT$/.test(datestr)) parsedDate = new Date(date);else if (config && config.parseDate) parsedDate = config.parseDate(date, format);else {\n            parsedDate = !config || !config.noCalendar ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0) : new Date(new Date().setHours(0, 0, 0, 0));\n            var matched,\n                ops = [];\n\n            for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n              var token = format[i];\n              var isBackSlash = token === \"\\\\\";\n              var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n\n              if (tokenRegex[token] && !escaped) {\n                regexStr += tokenRegex[token];\n                var match = new RegExp(regexStr).exec(date);\n\n                if (match && (matched = true)) {\n                  ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                    fn: revFormat[token],\n                    val: match[++matchIndex]\n                  });\n                }\n              } else if (!isBackSlash) regexStr += \".\";\n\n              ops.forEach(function (_ref3) {\n                var fn = _ref3.fn,\n                    val = _ref3.val;\n                return parsedDate = fn(parsedDate, val, l10n) || parsedDate;\n              });\n            }\n\n            parsedDate = matched ? parsedDate : undefined;\n          }\n        }\n\n        if (!(parsedDate instanceof Date)) {\n          config.errorHandler(new Error(\"Invalid date provided: \" + date_orig));\n          return undefined;\n        }\n\n        if (timeless === true) parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n      };\n    };\n    function compareDates(date1, date2, timeless) {\n      if (timeless === void 0) {\n        timeless = true;\n      }\n\n      if (timeless !== false) {\n        return new Date(date1.getTime()).setHours(0, 0, 0, 0) - new Date(date2.getTime()).setHours(0, 0, 0, 0);\n      }\n\n      return date1.getTime() - date2.getTime();\n    }\n    var getWeek = function getWeek(givenDate) {\n      var date = new Date(givenDate.getTime());\n      date.setHours(0, 0, 0, 0);\n      date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);\n      var week1 = new Date(date.getFullYear(), 0, 4);\n      return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);\n    };\n    var isBetween = function isBetween(ts, ts1, ts2) {\n      return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n    };\n    var duration = {\n      DAY: 86400000\n    };\n\n    var defaults = {\n      _disable: [],\n      _enable: [],\n      allowInput: false,\n      altFormat: \"F j, Y\",\n      altInput: false,\n      altInputClass: \"form-control input\",\n      animate: typeof window === \"object\" && window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n      ariaDateFormat: \"F j, Y\",\n      clickOpens: true,\n      closeOnSelect: true,\n      conjunction: \", \",\n      dateFormat: \"Y-m-d\",\n      defaultHour: 12,\n      defaultMinute: 0,\n      defaultSeconds: 0,\n      disable: [],\n      disableMobile: false,\n      enable: [],\n      enableSeconds: false,\n      enableTime: false,\n      errorHandler: console.warn,\n      getWeek: getWeek,\n      hourIncrement: 1,\n      ignoredFocusElements: [],\n      inline: false,\n      locale: \"default\",\n      minuteIncrement: 5,\n      mode: \"single\",\n      nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n      noCalendar: false,\n      now: new Date(),\n      onChange: [],\n      onClose: [],\n      onDayCreate: [],\n      onDestroy: [],\n      onKeyDown: [],\n      onMonthChange: [],\n      onOpen: [],\n      onParseConfig: [],\n      onReady: [],\n      onValueUpdate: [],\n      onYearChange: [],\n      onPreCalendarPosition: [],\n      plugins: [],\n      position: \"auto\",\n      positionElement: undefined,\n      prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n      shorthandCurrentMonth: false,\n      showMonths: 1,\n      static: false,\n      time_24hr: false,\n      weekNumbers: false,\n      wrap: false\n    };\n\n    function toggleClass(elem, className, bool) {\n      if (bool === true) return elem.classList.add(className);\n      elem.classList.remove(className);\n    }\n    function createElement(tag, className, content) {\n      var e = window.document.createElement(tag);\n      className = className || \"\";\n      content = content || \"\";\n      e.className = className;\n      if (content !== undefined) e.textContent = content;\n      return e;\n    }\n    function clearNode(node) {\n      while (node.firstChild) {\n        node.removeChild(node.firstChild);\n      }\n    }\n    function findParent(node, condition) {\n      if (condition(node)) return node;else if (node.parentNode) return findParent(node.parentNode, condition);\n      return undefined;\n    }\n    function createNumberInput(inputClassName, opts) {\n      var wrapper = createElement(\"div\", \"numInputWrapper\"),\n          numInput = createElement(\"input\", \"numInput \" + inputClassName),\n          arrowUp = createElement(\"span\", \"arrowUp\"),\n          arrowDown = createElement(\"span\", \"arrowDown\");\n      numInput.type = \"text\";\n      numInput.pattern = \"\\\\d*\";\n      if (opts !== undefined) for (var key in opts) {\n        numInput.setAttribute(key, opts[key]);\n      }\n      wrapper.appendChild(numInput);\n      wrapper.appendChild(arrowUp);\n      wrapper.appendChild(arrowDown);\n      return wrapper;\n    }\n\n    if (typeof Object.assign !== \"function\") {\n      Object.assign = function (target) {\n        if (!target) {\n          throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var _loop = function _loop(source) {\n          if (source) {\n            Object.keys(source).forEach(function (key) {\n              return target[key] = source[key];\n            });\n          }\n        };\n\n        for (var _i = 0; _i < args.length; _i++) {\n          var source = args[_i];\n\n          _loop(source);\n        }\n\n        return target;\n      };\n    }\n\n    var DEBOUNCED_CHANGE_MS = 300;\n\n    function FlatpickrInstance(element, instanceConfig) {\n      var self = {\n        config: Object.assign({}, flatpickr.defaultConfig),\n        l10n: english\n      };\n      self.parseDate = createDateParser({\n        config: self.config,\n        l10n: self.l10n\n      });\n      self._handlers = [];\n      self._bind = bind;\n      self._setHoursFromDate = setHoursFromDate;\n      self.changeMonth = changeMonth;\n      self.changeYear = changeYear;\n      self.clear = clear;\n      self.close = close;\n      self._createElement = createElement;\n      self.destroy = destroy;\n      self.isEnabled = isEnabled;\n      self.jumpToDate = jumpToDate;\n      self.open = open;\n      self.redraw = redraw;\n      self.set = set;\n      self.setDate = setDate;\n      self.toggle = toggle;\n\n      function setupHelperFunctions() {\n        self.utils = {\n          getDaysInMonth: function getDaysInMonth(month, yr) {\n            if (month === void 0) {\n              month = self.currentMonth;\n            }\n\n            if (yr === void 0) {\n              yr = self.currentYear;\n            }\n\n            if (month === 1 && (yr % 4 === 0 && yr % 100 !== 0 || yr % 400 === 0)) return 29;\n            return self.l10n.daysInMonth[month];\n          }\n        };\n      }\n\n      function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile) build();\n        bindEvents();\n\n        if (self.selectedDates.length || self.config.noCalendar) {\n          if (self.config.enableTime) {\n            setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj || self.config.minDate : undefined);\n          }\n\n          updateValue(false);\n        }\n\n        self.showTimeInput = self.selectedDates.length > 0 || self.config.noCalendar;\n\n        if (self.daysContainer !== undefined) {\n          self.calendarContainer.style.visibility = \"hidden\";\n          self.calendarContainer.style.display = \"block\";\n          var daysWidth = (self.daysContainer.offsetWidth + 1) * self.config.showMonths;\n          self.daysContainer.style.width = daysWidth + \"px\";\n          self.calendarContainer.style.width = daysWidth + \"px\";\n\n          if (self.weekWrapper !== undefined) {\n            self.calendarContainer.style.width = daysWidth + self.weekWrapper.offsetWidth + \"px\";\n          }\n\n          self.calendarContainer.style.visibility = \"visible\";\n          self.calendarContainer.style.display = null;\n        }\n\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n        if (!self.isMobile && isSafari) {\n          positionCalendar();\n        }\n\n        triggerEvent(\"onReady\");\n      }\n\n      function bindToInstance(fn) {\n        return fn.bind(self);\n      }\n\n      function updateTime(e) {\n        if (self.selectedDates.length === 0) return;\n        timeWrapper(e);\n\n        if (e.type !== \"input\") {\n          setHoursFromInputs();\n          updateValue();\n        } else {\n          setTimeout(function () {\n            setHoursFromInputs();\n            updateValue();\n          }, DEBOUNCED_CHANGE_MS);\n        }\n      }\n\n      function ampm2military(hour, amPM) {\n        return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);\n      }\n\n      function military2ampm(hour) {\n        switch (hour % 24) {\n          case 0:\n          case 12:\n            return 12;\n\n          default:\n            return hour % 12;\n        }\n      }\n\n      function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined) return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24,\n            minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60,\n            seconds = self.secondElement !== undefined ? (parseInt(self.secondElement.value, 10) || 0) % 60 : 0;\n        if (self.amPM !== undefined) hours = ampm2military(hours, self.amPM.textContent);\n        var limitMinHours = self.config.minTime !== undefined || self.config.minDate && self.minDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.minDate, true) === 0;\n        var limitMaxHours = self.config.maxTime !== undefined || self.config.maxDate && self.maxDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.maxDate, true) === 0;\n\n        if (limitMaxHours) {\n          var maxTime = self.config.maxTime !== undefined ? self.config.maxTime : self.config.maxDate;\n          hours = Math.min(hours, maxTime.getHours());\n          if (hours === maxTime.getHours()) minutes = Math.min(minutes, maxTime.getMinutes());\n          if (minutes === maxTime.getMinutes()) seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n\n        if (limitMinHours) {\n          var minTime = self.config.minTime !== undefined ? self.config.minTime : self.config.minDate;\n          hours = Math.max(hours, minTime.getHours());\n          if (hours === minTime.getHours()) minutes = Math.max(minutes, minTime.getMinutes());\n          if (minutes === minTime.getMinutes()) seconds = Math.max(seconds, minTime.getSeconds());\n        }\n\n        setHours(hours, minutes, seconds);\n      }\n\n      function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date) setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n      }\n\n      function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n          self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n\n        if (!self.hourElement || !self.minuteElement || self.isMobile) return;\n        self.hourElement.value = pad(!self.config.time_24hr ? (12 + hours) % 12 + 12 * int(hours % 12 === 0) : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined) self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined) self.secondElement.value = pad(seconds);\n      }\n\n      function onYearInput(event) {\n        var year = parseInt(event.target.value) + (event.delta || 0);\n\n        if (year.toString().length === 4 || event.key === \"Enter\") {\n          event.target.blur();\n          if (!/[^\\d]/.test(year.toString())) changeYear(year);\n        }\n      }\n\n      function bind(element, event, handler, options) {\n        if (event instanceof Array) return event.forEach(function (ev) {\n          return bind(element, ev, handler, options);\n        });\n        if (element instanceof Array) return element.forEach(function (el) {\n          return bind(el, event, handler, options);\n        });\n        element.addEventListener(event, handler, options);\n\n        self._handlers.push({\n          element: element,\n          event: event,\n          handler: handler\n        });\n      }\n\n      function onClick(handler) {\n        return function (evt) {\n          evt.which === 1 && handler(evt);\n        };\n      }\n\n      function triggerChange() {\n        triggerEvent(\"onChange\");\n      }\n\n      function bindEvents() {\n        if (self.config.wrap) {\n          [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n            Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n              return bind(el, \"click\", self[evt]);\n            });\n          });\n        }\n\n        if (self.isMobile) {\n          setupMobile();\n          return;\n        }\n\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent)) bind(self.daysContainer, \"mouseover\", function (e) {\n          if (self.config.mode === \"range\") onMouseOver(e.target);\n        });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.static) bind(self._input, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static) bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined) bind(window.document, \"touchstart\", documentClick);\n        bind(window.document, \"mousedown\", onClick(documentClick));\n        bind(window.document, \"focus\", documentClick, {\n          capture: true\n        });\n\n        if (self.config.clickOpens === true) {\n          bind(self._input, \"focus\", self.open);\n          bind(self._input, \"mousedown\", onClick(self.open));\n        }\n\n        if (self.daysContainer !== undefined) {\n          bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n          bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n          bind(self.daysContainer, \"mousedown\", onClick(selectDate));\n        }\n\n        if (self.timeContainer !== undefined && self.minuteElement !== undefined && self.hourElement !== undefined) {\n          var selText = function selText(e) {\n            return e.target.select();\n          };\n\n          bind(self.timeContainer, [\"input\", \"increment\"], updateTime);\n          bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n          bind(self.timeContainer, [\"input\", \"increment\"], self._debouncedChange, {\n            passive: true\n          });\n          bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n          if (self.secondElement !== undefined) bind(self.secondElement, \"focus\", function () {\n            return self.secondElement && self.secondElement.select();\n          });\n\n          if (self.amPM !== undefined) {\n            bind(self.amPM, \"mousedown\", onClick(function (e) {\n              updateTime(e);\n              triggerChange();\n            }));\n          }\n        }\n      }\n\n      function jumpToDate(jumpDate) {\n        var jumpTo = jumpDate !== undefined ? self.parseDate(jumpDate) : self.latestSelectedDateObj || (self.config.minDate && self.config.minDate > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate < self.now ? self.config.maxDate : self.now);\n\n        try {\n          if (jumpTo !== undefined) {\n            self.currentYear = jumpTo.getFullYear();\n            self.currentMonth = jumpTo.getMonth();\n          }\n        } catch (e) {\n          e.message = \"Invalid date supplied: \" + jumpTo;\n          self.config.errorHandler(e);\n        }\n\n        self.redraw();\n      }\n\n      function timeIncrement(e) {\n        if (~e.target.className.indexOf(\"arrow\")) incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n      }\n\n      function incrementNumInput(e, delta, inputElem) {\n        var target = e && e.target;\n        var input = inputElem || target && target.parentNode && target.parentNode.firstChild;\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n      }\n\n      function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n\n        if (!self.config.noCalendar) {\n          fragment.appendChild(buildMonthNav());\n          self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n\n          if (self.config.weekNumbers) {\n            var _buildWeeks = buildWeeks(),\n                weekWrapper = _buildWeeks.weekWrapper,\n                weekNumbers = _buildWeeks.weekNumbers;\n\n            self.innerContainer.appendChild(weekWrapper);\n            self.weekNumbers = weekNumbers;\n            self.weekWrapper = weekWrapper;\n          }\n\n          self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n          self.rContainer.appendChild(buildWeekdays());\n\n          if (!self.daysContainer) {\n            self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n            self.daysContainer.tabIndex = -1;\n          }\n\n          buildDays();\n          self.rContainer.appendChild(self.daysContainer);\n          self.innerContainer.appendChild(self.rContainer);\n          fragment.appendChild(self.innerContainer);\n        }\n\n        if (self.config.enableTime) {\n          fragment.appendChild(buildTime());\n        }\n\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined && self.config.appendTo.nodeType !== undefined;\n\n        if (self.config.inline || self.config.static) {\n          self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n\n          if (self.config.inline) {\n            if (!customAppend && self.element.parentNode) self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);else if (self.config.appendTo !== undefined) self.config.appendTo.appendChild(self.calendarContainer);\n          }\n\n          if (self.config.static) {\n            var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n            if (self.element.parentNode) self.element.parentNode.insertBefore(wrapper, self.element);\n            wrapper.appendChild(self.element);\n            if (self.altInput) wrapper.appendChild(self.altInput);\n            wrapper.appendChild(self.calendarContainer);\n          }\n        }\n\n        if (!self.config.static && !self.config.inline) (self.config.appendTo !== undefined ? self.config.appendTo : window.document.body).appendChild(self.calendarContainer);\n      }\n\n      function createDay(className, date, dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true),\n            dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n\n        if (compareDates(date, self.now) === 0) {\n          self.todayDateElem = dayElement;\n          dayElement.classList.add(\"today\");\n        }\n\n        if (dateIsEnabled) {\n          dayElement.tabIndex = -1;\n\n          if (isDateSelected(date)) {\n            dayElement.classList.add(\"selected\");\n            self.selectedDateElem = dayElement;\n\n            if (self.config.mode === \"range\") {\n              toggleClass(dayElement, \"startRange\", self.selectedDates[0] && compareDates(date, self.selectedDates[0], true) === 0);\n              toggleClass(dayElement, \"endRange\", self.selectedDates[1] && compareDates(date, self.selectedDates[1], true) === 0);\n              if (className === \"nextMonthDay\") dayElement.classList.add(\"inRange\");\n            }\n          }\n        } else {\n          dayElement.classList.add(\"disabled\");\n        }\n\n        if (self.config.mode === \"range\") {\n          if (isDateInRange(date) && !isDateSelected(date)) dayElement.classList.add(\"inRange\");\n        }\n\n        if (self.weekNumbers && self.config.showMonths === 1 && className !== \"prevMonthDay\" && dayNumber % 7 === 1) {\n          self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n      }\n\n      function focusOnDay(currentInd, offset) {\n        var currentIndex = currentInd !== undefined ? currentInd : document.activeElement.$i;\n        var newIndex = (currentIndex || 0) + offset || 0,\n            targetNode = Array.prototype.find.call(self.days.children, function (c, i) {\n          return i >= newIndex && c.className.indexOf(\"MonthDay\") === -1 && isEnabled(c.dateObj);\n        });\n\n        if (targetNode !== undefined) {\n          targetNode.focus();\n          if (self.config.mode === \"range\") onMouseOver(targetNode);\n        }\n      }\n\n      function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\n        var daysInMonth = self.utils.getDaysInMonth(month),\n            days = window.document.createDocumentFragment();\n        var dayNumber = prevMonthDays + 1 - firstOfMonth,\n            dayIndex = 0;\n\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n          days.appendChild(createDay(\"prevMonthDay\", new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n          days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth && (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n          days.appendChild(createDay(\"nextMonthDay\", new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n      }\n\n      function buildDays() {\n        if (self.daysContainer === undefined) {\n          return;\n        }\n\n        clearNode(self.daysContainer);\n        if (self.weekNumbers) clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n\n        for (var i = 0; i < self.config.showMonths; i++) {\n          var d = new Date(self.currentYear, self.currentMonth, 1);\n          d.setMonth(self.currentMonth + i);\n          frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n      }\n\n      function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement = createElement(\"span\", \"cur-month\");\n        monthElement.title = self.l10n.scrollTitle;\n        var yearInput = createNumberInput(\"cur-year\", {\n          tabindex: \"-1\"\n        });\n        var yearElement = yearInput.childNodes[0];\n        yearElement.title = self.l10n.scrollTitle;\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) yearElement.setAttribute(\"data-min\", self.config.minDate.getFullYear().toString());\n\n        if (self.config.maxDate) {\n          yearElement.setAttribute(\"data-max\", self.config.maxDate.getFullYear().toString());\n          yearElement.disabled = !!self.config.minDate && self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n          container: container,\n          yearElement: yearElement,\n          monthElement: monthElement\n        };\n      }\n\n      function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        self.monthNav.appendChild(self.prevMonthNav);\n\n        for (var m = self.config.showMonths; m--;) {\n          var month = buildMonth();\n          self.yearElements.push(month.yearElement);\n          self.monthElements.push(month.monthElement);\n          self.monthNav.appendChild(month.container);\n        }\n\n        self.monthNav.appendChild(self.nextMonthNav);\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n          get: function get() {\n            return self.__hidePrevMonthArrow;\n          },\n          set: function set(bool) {\n            if (self.__hidePrevMonthArrow !== bool) {\n              toggleClass(self.prevMonthNav, \"disabled\", bool);\n              self.__hidePrevMonthArrow = bool;\n            }\n          }\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n          get: function get() {\n            return self.__hideNextMonthArrow;\n          },\n          set: function set(bool) {\n            if (self.__hideNextMonthArrow !== bool) {\n              toggleClass(self.nextMonthNav, \"disabled\", bool);\n              self.__hideNextMonthArrow = bool;\n            }\n          }\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n      }\n\n      function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar) self.calendarContainer.classList.add(\"noCalendar\");\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\");\n        self.hourElement = hourInput.childNodes[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\");\n        self.minuteElement = minuteInput.childNodes[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getHours() : self.config.time_24hr ? self.config.defaultHour : military2ampm(self.config.defaultHour));\n        self.minuteElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getMinutes() : self.config.defaultMinute);\n        self.hourElement.setAttribute(\"data-step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"data-step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"data-min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"data-max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.minuteElement.setAttribute(\"data-min\", \"0\");\n        self.minuteElement.setAttribute(\"data-max\", \"59\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr) self.timeContainer.classList.add(\"time24hr\");\n\n        if (self.config.enableSeconds) {\n          self.timeContainer.classList.add(\"hasSeconds\");\n          var secondInput = createNumberInput(\"flatpickr-second\");\n          self.secondElement = secondInput.childNodes[0];\n          self.secondElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getSeconds() : self.config.defaultSeconds);\n          self.secondElement.setAttribute(\"data-step\", self.minuteElement.getAttribute(\"data-step\"));\n          self.secondElement.setAttribute(\"data-min\", self.minuteElement.getAttribute(\"data-min\"));\n          self.secondElement.setAttribute(\"data-max\", self.minuteElement.getAttribute(\"data-max\"));\n          self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n          self.timeContainer.appendChild(secondInput);\n        }\n\n        if (!self.config.time_24hr) {\n          self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj ? self.hourElement.value : self.config.defaultHour) > 11)]);\n          self.amPM.title = self.l10n.toggleTitle;\n          self.amPM.tabIndex = -1;\n          self.timeContainer.appendChild(self.amPM);\n        }\n\n        return self.timeContainer;\n      }\n\n      function buildWeekdays() {\n        if (!self.weekdayContainer) self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n\n        for (var i = self.config.showMonths; i--;) {\n          var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n          self.weekdayContainer.appendChild(container);\n        }\n\n        updateWeekdays();\n        return self.weekdayContainer;\n      }\n\n      function updateWeekdays() {\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = self.l10n.weekdays.shorthand.concat();\n\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n          weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\n        }\n\n        for (var i = self.config.showMonths; i--;) {\n          self.weekdayContainer.children[i].innerHTML = \"\\n      <span class=flatpickr-weekday>\\n        \" + weekdays.join(\"</span><span class=flatpickr-weekday>\") + \"\\n      </span>\\n      \";\n        }\n      }\n\n      function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n          weekWrapper: weekWrapper,\n          weekNumbers: weekNumbers\n        };\n      }\n\n      function changeMonth(value, is_offset, from_keyboard) {\n        if (is_offset === void 0) {\n          is_offset = true;\n        }\n\n        if (from_keyboard === void 0) {\n          from_keyboard = false;\n        }\n\n        var delta = is_offset ? value : value - self.currentMonth;\n        if (delta < 0 && self._hidePrevMonthArrow === true || delta > 0 && self._hideNextMonthArrow === true) return;\n        self.currentMonth += delta;\n\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n          self.currentYear += self.currentMonth > 11 ? 1 : -1;\n          self.currentMonth = (self.currentMonth + 12) % 12;\n          triggerEvent(\"onYearChange\");\n        }\n\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n\n        if (from_keyboard === true) {\n          focusOnDay(undefined, 0);\n        }\n      }\n\n      function clear(triggerChangeEvent) {\n        if (triggerChangeEvent === void 0) {\n          triggerChangeEvent = true;\n        }\n\n        self.input.value = \"\";\n        if (self.altInput !== undefined) self.altInput.value = \"\";\n        if (self.mobileInput !== undefined) self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        self.showTimeInput = false;\n\n        if (self.config.enableTime === true) {\n          if (self.config.minDate !== undefined) setHoursFromDate(self.config.minDate);else setHours(self.config.defaultHour, self.config.defaultMinute, self.config.defaultSeconds);\n        }\n\n        self.redraw();\n        if (triggerChangeEvent) triggerEvent(\"onChange\");\n      }\n\n      function close() {\n        self.isOpen = false;\n\n        if (!self.isMobile) {\n          self.calendarContainer.classList.remove(\"open\");\n\n          self._input.classList.remove(\"active\");\n        }\n\n        triggerEvent(\"onClose\");\n      }\n\n      function destroy() {\n        if (self.config !== undefined) triggerEvent(\"onDestroy\");\n\n        for (var i = self._handlers.length; i--;) {\n          var h = self._handlers[i];\n          h.element.removeEventListener(h.event, h.handler);\n        }\n\n        self._handlers = [];\n\n        if (self.mobileInput) {\n          if (self.mobileInput.parentNode) self.mobileInput.parentNode.removeChild(self.mobileInput);\n          self.mobileInput = undefined;\n        } else if (self.calendarContainer && self.calendarContainer.parentNode) self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n\n        if (self.altInput) {\n          self.input.type = \"text\";\n          if (self.altInput.parentNode) self.altInput.parentNode.removeChild(self.altInput);\n          delete self.altInput;\n        }\n\n        if (self.input) {\n          self.input.type = self.input._type;\n          self.input.classList.remove(\"flatpickr-input\");\n          self.input.removeAttribute(\"readonly\");\n          self.input.value = \"\";\n        }\n\n        [\"_showTimeInput\", \"latestSelectedDateObj\", \"_hideNextMonthArrow\", \"_hidePrevMonthArrow\", \"__hideNextMonthArrow\", \"__hidePrevMonthArrow\", \"isMobile\", \"isOpen\", \"selectedDateElem\", \"minDateHasTime\", \"maxDateHasTime\", \"days\", \"daysContainer\", \"_input\", \"_positionElement\", \"innerContainer\", \"rContainer\", \"monthNav\", \"todayDateElem\", \"calendarContainer\", \"weekdayContainer\", \"prevMonthNav\", \"nextMonthNav\", \"currentMonthElement\", \"currentYearElement\", \"navigationCurrentMonth\", \"selectedDateElem\", \"config\"].forEach(function (k) {\n          try {\n            delete self[k];\n          } catch (_) {}\n        });\n      }\n\n      function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem)) return true;\n        return self.calendarContainer.contains(elem);\n      }\n\n      function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n          var isCalendarElement = isCalendarElem(e.target);\n          var isInput = e.target === self.input || e.target === self.altInput || self.element.contains(e.target) || e.path && e.path.indexOf && (~e.path.indexOf(self.input) || ~e.path.indexOf(self.altInput));\n          var lostFocus = e.type === \"blur\" ? isInput && e.relatedTarget && !isCalendarElem(e.relatedTarget) : !isInput && !isCalendarElement;\n          var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n            return elem.contains(e.target);\n          });\n\n          if (lostFocus && isIgnored) {\n            self.close();\n\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n              self.clear(false);\n              self.redraw();\n            }\n          }\n        }\n      }\n\n      function changeYear(newYear) {\n        if (!newYear || self.config.minDate && newYear < self.config.minDate.getFullYear() || self.config.maxDate && newYear > self.config.maxDate.getFullYear()) return;\n        var newYearNum = newYear,\n            isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n\n        if (self.config.maxDate && self.currentYear === self.config.maxDate.getFullYear()) {\n          self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        } else if (self.config.minDate && self.currentYear === self.config.minDate.getFullYear()) {\n          self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n\n        if (isNewYear) {\n          self.redraw();\n          triggerEvent(\"onYearChange\");\n        }\n      }\n\n      function isEnabled(date, timeless) {\n        if (timeless === void 0) {\n          timeless = true;\n        }\n\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if (self.config.minDate && dateToCheck && compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0 || self.config.maxDate && dateToCheck && compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0) return false;\n        if (self.config.enable.length === 0 && self.config.disable.length === 0) return true;\n        if (dateToCheck === undefined) return false;\n        var bool = self.config.enable.length > 0,\n            array = bool ? self.config.enable : self.config.disable;\n\n        for (var i = 0, d; i < array.length; i++) {\n          d = array[i];\n          if (typeof d === \"function\" && d(dateToCheck)) return bool;else if (d instanceof Date && dateToCheck !== undefined && d.getTime() === dateToCheck.getTime()) return bool;else if (typeof d === \"string\" && dateToCheck !== undefined) {\n            var parsed = self.parseDate(d, undefined, true);\n            return parsed && parsed.getTime() === dateToCheck.getTime() ? bool : !bool;\n          } else if (typeof d === \"object\" && dateToCheck !== undefined && d.from && d.to && dateToCheck.getTime() >= d.from.getTime() && dateToCheck.getTime() <= d.to.getTime()) return bool;\n        }\n\n        return !bool;\n      }\n\n      function onKeyDown(e) {\n        var isInput = e.target === self._input;\n        var calendarElem = isCalendarElem(e.target);\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n\n        if (e.keyCode === 13 && isInput) {\n          if (allowInput) {\n            self.setDate(self._input.value, true, e.target === self.altInput ? self.config.altFormat : self.config.dateFormat);\n            return e.target.blur();\n          } else self.open();\n        } else if (calendarElem || allowKeydown || allowInlineKeydown) {\n          var isTimeObj = !!self.timeContainer && self.timeContainer.contains(e.target);\n\n          switch (e.keyCode) {\n            case 13:\n              if (isTimeObj) updateValue();else selectDate(e);\n              break;\n\n            case 27:\n              e.preventDefault();\n              focusAndClose();\n              break;\n\n            case 8:\n            case 46:\n              if (isInput && !self.config.allowInput) {\n                e.preventDefault();\n                self.clear();\n              }\n\n              break;\n\n            case 37:\n            case 39:\n              if (!isTimeObj) {\n                e.preventDefault();\n\n                if (self.daysContainer) {\n                  var _delta = isInput ? 0 : e.keyCode === 39 ? 1 : -1;\n\n                  if (!e.ctrlKey) focusOnDay(undefined, _delta);else changeMonth(_delta, true, true);\n                }\n              } else if (self.hourElement) self.hourElement.focus();\n\n              break;\n\n            case 38:\n            case 40:\n              e.preventDefault();\n              var delta = e.keyCode === 40 ? 1 : -1;\n\n              if (self.daysContainer && e.target.$i !== undefined) {\n                if (e.ctrlKey) {\n                  changeYear(self.currentYear - delta);\n                  focusOnDay(e.target.$i, 0);\n                } else if (!isTimeObj) focusOnDay(e.target.$i, delta * 7);\n              } else if (self.config.enableTime) {\n                if (!isTimeObj && self.hourElement) self.hourElement.focus();\n                updateTime(e);\n\n                self._debouncedChange();\n              }\n\n              break;\n\n            case 9:\n              if (e.target === self.hourElement) {\n                e.preventDefault();\n                self.minuteElement.select();\n              } else if (e.target === self.minuteElement && (self.secondElement || self.amPM)) {\n                e.preventDefault();\n                if (self.secondElement !== undefined) self.secondElement.focus();else if (self.amPM !== undefined) self.amPM.focus();\n              } else if (e.target === self.secondElement && self.amPM) {\n                e.preventDefault();\n                self.amPM.focus();\n              }\n\n              break;\n\n            default:\n              break;\n          }\n\n          switch (e.key) {\n            case self.l10n.amPM[0].charAt(0):\n            case self.l10n.amPM[0].charAt(0).toLowerCase():\n              if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent = self.l10n.amPM[0];\n                setHoursFromInputs();\n                updateValue();\n              }\n\n              break;\n\n            case self.l10n.amPM[1].charAt(0):\n            case self.l10n.amPM[1].charAt(0).toLowerCase():\n              if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent = self.l10n.amPM[1];\n                setHoursFromInputs();\n                updateValue();\n              }\n\n              break;\n\n            default:\n              break;\n          }\n\n          triggerEvent(\"onKeyDown\", e);\n        }\n      }\n\n      function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 || !elem.classList.contains(\"flatpickr-day\") || elem.classList.contains(\"disabled\")) return;\n        var hoverDate = elem.dateObj.getTime(),\n            initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(),\n            rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()),\n            rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var months = self.daysContainer.children,\n            firstDay = months[0].children[0].dateObj.getTime(),\n            lastDay = months[months.length - 1].lastChild.dateObj.getTime();\n        var containsDisabled = false;\n        var minRange = 0,\n            maxRange = 0;\n\n        for (var t = firstDay; t < lastDay; t += duration.DAY) {\n          if (!isEnabled(new Date(t), true)) {\n            containsDisabled = containsDisabled || t > rangeStartDate && t < rangeEndDate;\n            if (t < initialDate && (!minRange || t > minRange)) minRange = t;else if (t > initialDate && (!maxRange || t < maxRange)) maxRange = t;\n          }\n        }\n\n        for (var m = 0; m < self.config.showMonths; m++) {\n          var month = self.daysContainer.children[m];\n          var prevMonth = self.daysContainer.children[m - 1];\n\n          var _loop = function _loop(i, l) {\n            var dayElem = month.children[i],\n                date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = minRange > 0 && timestamp < minRange || maxRange > 0 && timestamp > maxRange;\n\n            if (outOfRange) {\n              dayElem.classList.add(\"notAllowed\");\n              [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n              });\n              return \"continue\";\n            } else if (containsDisabled && !outOfRange) return \"continue\";\n\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n              dayElem.classList.remove(c);\n            });\n            elem.classList.add(hoverDate < self.selectedDates[0].getTime() ? \"startRange\" : \"endRange\");\n\n            if (month.contains(elem) || !(m > 0 && prevMonth && prevMonth.lastChild.dateObj.getTime() >= timestamp)) {\n              if (initialDate < hoverDate && timestamp === initialDate) dayElem.classList.add(\"startRange\");else if (initialDate > hoverDate && timestamp === initialDate) dayElem.classList.add(\"endRange\");\n              if (timestamp >= minRange && (maxRange === 0 || timestamp <= maxRange) && isBetween(timestamp, initialDate, hoverDate)) dayElem.classList.add(\"inRange\");\n            }\n          };\n\n          for (var i = 0, l = month.children.length; i < l; i++) {\n            var _ret = _loop(i, l);\n\n            if (_ret === \"continue\") continue;\n          }\n        }\n      }\n\n      function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline) positionCalendar();\n      }\n\n      function open(e, positionElement) {\n        if (positionElement === void 0) {\n          positionElement = self._input;\n        }\n\n        if (self.isMobile === true) {\n          if (e) {\n            e.preventDefault();\n            e.target && e.target.blur();\n          }\n\n          setTimeout(function () {\n            self.mobileInput !== undefined && self.mobileInput.click();\n          }, 0);\n          triggerEvent(\"onOpen\");\n          return;\n        }\n\n        if (self._input.disabled || self.config.inline) return;\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n\n        if (!wasOpen) {\n          self.calendarContainer.classList.add(\"open\");\n\n          self._input.classList.add(\"active\");\n\n          triggerEvent(\"onOpen\");\n          positionCalendar(positionElement);\n        }\n\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n          if (self.selectedDates.length === 0) {\n            self.setDate(self.config.minDate !== undefined ? new Date(self.config.minDate.getTime()) : new Date().setHours(self.config.defaultHour, self.config.defaultMinute, self.config.defaultSeconds, 0), false);\n            setHoursFromInputs();\n            updateValue();\n          }\n\n          setTimeout(function () {\n            return self.hourElement.select();\n          }, 50);\n        }\n      }\n\n      function minMaxDateSetter(type) {\n        return function (date) {\n          var dateObj = self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat);\n          var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n\n          if (dateObj !== undefined) {\n            self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] = dateObj.getHours() > 0 || dateObj.getMinutes() > 0 || dateObj.getSeconds() > 0;\n          }\n\n          if (self.selectedDates) {\n            self.selectedDates = self.selectedDates.filter(function (d) {\n              return isEnabled(d);\n            });\n            if (!self.selectedDates.length && type === \"min\") setHoursFromDate(dateObj);\n            updateValue();\n          }\n\n          if (self.daysContainer) {\n            redraw();\n            if (dateObj !== undefined) self.currentYearElement[type] = dateObj.getFullYear().toString();else self.currentYearElement.removeAttribute(type);\n            self.currentYearElement.disabled = !!inverseDateObj && dateObj !== undefined && inverseDateObj.getFullYear() === dateObj.getFullYear();\n          }\n        };\n      }\n\n      function parseConfig() {\n        var boolOpts = [\"wrap\", \"weekNumbers\", \"allowInput\", \"clickOpens\", \"time_24hr\", \"enableTime\", \"noCalendar\", \"altInput\", \"shorthandCurrentMonth\", \"inline\", \"static\", \"enableSeconds\", \"disableMobile\"];\n        var hooks = [\"onChange\", \"onClose\", \"onDayCreate\", \"onDestroy\", \"onKeyDown\", \"onMonthChange\", \"onOpen\", \"onParseConfig\", \"onReady\", \"onValueUpdate\", \"onYearChange\", \"onPreCalendarPosition\"];\n        var userConfig = Object.assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n        var formats$$1 = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n          get: function get() {\n            return self.config._enable;\n          },\n          set: function set(dates) {\n            self.config._enable = parseDateRules(dates);\n          }\n        });\n        Object.defineProperty(self.config, \"disable\", {\n          get: function get() {\n            return self.config._disable;\n          },\n          set: function set(dates) {\n            self.config._disable = parseDateRules(dates);\n          }\n        });\n\n        if (!userConfig.dateFormat && userConfig.enableTime) {\n          formats$$1.dateFormat = userConfig.noCalendar ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\") : flatpickr.defaultConfig.dateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n\n        if (userConfig.altInput && userConfig.enableTime && !userConfig.altFormat) {\n          formats$$1.altFormat = userConfig.noCalendar ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\") : flatpickr.defaultConfig.altFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n\n        Object.defineProperty(self.config, \"minDate\", {\n          get: function get() {\n            return self.config._minDate;\n          },\n          set: minMaxDateSetter(\"min\")\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n          get: function get() {\n            return self.config._maxDate;\n          },\n          set: minMaxDateSetter(\"max\")\n        });\n\n        var minMaxTimeSetter = function minMaxTimeSetter(type) {\n          return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i\");\n          };\n        };\n\n        Object.defineProperty(self.config, \"minTime\", {\n          get: function get() {\n            return self.config._minTime;\n          },\n          set: minMaxTimeSetter(\"min\")\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n          get: function get() {\n            return self.config._maxTime;\n          },\n          set: minMaxTimeSetter(\"max\")\n        });\n        Object.assign(self.config, formats$$1, userConfig);\n\n        for (var i = 0; i < boolOpts.length; i++) {\n          self.config[boolOpts[i]] = self.config[boolOpts[i]] === true || self.config[boolOpts[i]] === \"true\";\n        }\n\n        for (var _i = hooks.length; _i--;) {\n          if (self.config[hooks[_i]] !== undefined) {\n            self.config[hooks[_i]] = arrayify(self.config[hooks[_i]] || []).map(bindToInstance);\n          }\n        }\n\n        if (self.config.mode === \"time\") {\n          self.config.noCalendar = true;\n          self.config.enableTime = true;\n        }\n\n        for (var _i2 = 0; _i2 < self.config.plugins.length; _i2++) {\n          var pluginConf = self.config.plugins[_i2](self) || {};\n\n          for (var key in pluginConf) {\n            if (~hooks.indexOf(key)) {\n              self.config[key] = arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]);\n            } else if (typeof userConfig[key] === \"undefined\") self.config[key] = pluginConf[key];\n          }\n        }\n\n        self.isMobile = !self.config.disableMobile && !self.config.inline && self.config.mode === \"single\" && !self.config.disable.length && !self.config.enable.length && !self.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        triggerEvent(\"onParseConfig\");\n      }\n\n      function setupLocale() {\n        if (typeof self.config.locale !== \"object\" && typeof flatpickr.l10ns[self.config.locale] === \"undefined\") self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = Object.assign({}, flatpickr.l10ns.default, typeof self.config.locale === \"object\" ? self.config.locale : self.config.locale !== \"default\" ? flatpickr.l10ns[self.config.locale] : undefined);\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        self.formatDate = createDateFormatter(self);\n      }\n\n      function positionCalendar(customPositionElement) {\n        if (self.calendarContainer === undefined) return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, function (acc, child) {\n          return acc + child.offsetHeight;\n        }, 0),\n            calendarWidth = self.calendarContainer.offsetWidth,\n            configPos = self.config.position,\n            inputBounds = positionElement.getBoundingClientRect(),\n            distanceFromBottom = window.innerHeight - inputBounds.bottom,\n            showOnTop = configPos === \"above\" || configPos !== \"below\" && distanceFromBottom < calendarHeight && inputBounds.top > calendarHeight;\n        var top = window.pageYOffset + inputBounds.top + (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline) return;\n        var left = window.pageXOffset + inputBounds.left;\n        var right = window.document.body.offsetWidth - inputBounds.right;\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static) return;\n        self.calendarContainer.style.top = top + \"px\";\n\n        if (!rightMost) {\n          self.calendarContainer.style.left = left + \"px\";\n          self.calendarContainer.style.right = \"auto\";\n        } else {\n          self.calendarContainer.style.left = \"auto\";\n          self.calendarContainer.style.right = right + \"px\";\n        }\n      }\n\n      function redraw() {\n        if (self.config.noCalendar || self.isMobile) return;\n        updateWeekdays();\n        updateNavigationCurrentMonth();\n        buildDays();\n      }\n\n      function focusAndClose() {\n        self._input.focus();\n\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.msMaxTouchPoints !== undefined) {\n          setTimeout(self.close, 0);\n        } else {\n          self.close();\n        }\n      }\n\n      function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        var isSelectable = function isSelectable(day) {\n          return day.classList && day.classList.contains(\"flatpickr-day\") && !day.classList.contains(\"disabled\") && !day.classList.contains(\"notAllowed\");\n        };\n\n        var t = findParent(e.target, isSelectable);\n        if (t === undefined) return;\n        var target = t;\n        var selectedDate = self.latestSelectedDateObj = new Date(target.dateObj.getTime());\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth || selectedDate.getMonth() > self.currentMonth + self.config.showMonths - 1) && self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\") self.selectedDates = [selectedDate];else if (self.config.mode === \"multiple\") {\n          var selectedIndex = isDateSelected(selectedDate);\n          if (selectedIndex) self.selectedDates.splice(parseInt(selectedIndex), 1);else self.selectedDates.push(selectedDate);\n        } else if (self.config.mode === \"range\") {\n          if (self.selectedDates.length === 2) self.clear(false);\n          self.selectedDates.push(selectedDate);\n          if (compareDates(selectedDate, self.selectedDates[0], true) !== 0) self.selectedDates.sort(function (a, b) {\n            return a.getTime() - b.getTime();\n          });\n        }\n        setHoursFromInputs();\n\n        if (shouldChangeMonth) {\n          var isNewYear = self.currentYear !== selectedDate.getFullYear();\n          self.currentYear = selectedDate.getFullYear();\n          self.currentMonth = selectedDate.getMonth();\n          if (isNewYear) triggerEvent(\"onYearChange\");\n          triggerEvent(\"onMonthChange\");\n        }\n\n        updateNavigationCurrentMonth();\n        buildDays();\n        if (self.config.minDate && self.minDateHasTime && self.config.enableTime && compareDates(selectedDate, self.config.minDate) === 0) setHoursFromDate(self.config.minDate);\n        updateValue();\n        if (self.config.enableTime) setTimeout(function () {\n          return self.showTimeInput = true;\n        }, 50);\n\n        if (self.config.mode === \"range\") {\n          if (self.selectedDates.length === 1) {\n            onMouseOver(target);\n          } else updateNavigationCurrentMonth();\n        }\n\n        if (!shouldChangeMonth && self.config.mode !== \"range\" && self.config.showMonths === 1) focusOnDay(target.$i, 0);else self.selectedDateElem && self.selectedDateElem.focus();\n        if (self.hourElement !== undefined) setTimeout(function () {\n          return self.hourElement !== undefined && self.hourElement.select();\n        }, 451);\n\n        if (self.config.closeOnSelect) {\n          var single = self.config.mode === \"single\" && !self.config.enableTime;\n          var range = self.config.mode === \"range\" && self.selectedDates.length === 2 && !self.config.enableTime;\n\n          if (single || range) {\n            focusAndClose();\n          }\n        }\n\n        triggerChange();\n      }\n\n      var CALLBACKS = {\n        locale: [setupLocale]\n      };\n\n      function set(option, value) {\n        if (option !== null && typeof option === \"object\") Object.assign(self.config, option);else {\n          self.config[option] = value;\n          if (CALLBACKS[option] !== undefined) CALLBACKS[option].forEach(function (x) {\n            return x();\n          });\n        }\n        self.redraw();\n        jumpToDate();\n      }\n\n      function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array) dates = inputDate.map(function (d) {\n          return self.parseDate(d, format);\n        });else if (inputDate instanceof Date || typeof inputDate === \"number\") dates = [self.parseDate(inputDate, format)];else if (typeof inputDate === \"string\") {\n          switch (self.config.mode) {\n            case \"single\":\n              dates = [self.parseDate(inputDate, format)];\n              break;\n\n            case \"multiple\":\n              dates = inputDate.split(self.config.conjunction).map(function (date) {\n                return self.parseDate(date, format);\n              });\n              break;\n\n            case \"range\":\n              dates = inputDate.split(self.l10n.rangeSeparator).map(function (date) {\n                return self.parseDate(date, format);\n              });\n              break;\n\n            default:\n              break;\n          }\n        } else self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = dates.filter(function (d) {\n          return d instanceof Date && isEnabled(d, false);\n        });\n        if (self.config.mode === \"range\") self.selectedDates.sort(function (a, b) {\n          return a.getTime() - b.getTime();\n        });\n      }\n\n      function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) {\n          triggerChange = false;\n        }\n\n        if (format === void 0) {\n          format = self.config.dateFormat;\n        }\n\n        if (date !== 0 && !date) return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.showTimeInput = self.selectedDates.length > 0;\n        self.latestSelectedDateObj = self.selectedDates[0];\n        self.redraw();\n        jumpToDate();\n        setHoursFromDate();\n        updateValue(triggerChange);\n        if (triggerChange) triggerEvent(\"onChange\");\n      }\n\n      function parseDateRules(arr) {\n        return arr.map(function (rule) {\n          if (typeof rule === \"string\" || typeof rule === \"number\" || rule instanceof Date) {\n            return self.parseDate(rule, undefined, true);\n          } else if (rule && typeof rule === \"object\" && rule.from && rule.to) return {\n            from: self.parseDate(rule.from, undefined),\n            to: self.parseDate(rule.to, undefined)\n          };\n\n          return rule;\n        }).filter(function (x) {\n          return x;\n        });\n      }\n\n      function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate || self.input.value;\n        if (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);\n        var initialDate = self.selectedDates.length > 0 ? self.selectedDates[0] : self.config.minDate && self.config.minDate.getTime() > self.now.getTime() ? self.config.minDate : self.config.maxDate && self.config.maxDate.getTime() < self.now.getTime() ? self.config.maxDate : self.now;\n        self.currentYear = initialDate.getFullYear();\n        self.currentMonth = initialDate.getMonth();\n        if (self.selectedDates.length > 0) self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined) self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined) self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime = !!self.config.minDate && (self.config.minDate.getHours() > 0 || self.config.minDate.getMinutes() > 0 || self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime = !!self.config.maxDate && (self.config.maxDate.getHours() > 0 || self.config.maxDate.getMinutes() > 0 || self.config.maxDate.getSeconds() > 0);\n        Object.defineProperty(self, \"showTimeInput\", {\n          get: function get() {\n            return self._showTimeInput;\n          },\n          set: function set(bool) {\n            self._showTimeInput = bool;\n            if (self.calendarContainer) toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n            self.isOpen && positionCalendar();\n          }\n        });\n      }\n\n      function setupInputs() {\n        self.input = self.config.wrap ? element.querySelector(\"[data-input]\") : element;\n\n        if (!self.input) {\n          self.config.errorHandler(new Error(\"Invalid input element specified\"));\n          return;\n        }\n\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n\n        if (self.config.altInput) {\n          self.altInput = createElement(self.input.nodeName, self.input.className + \" \" + self.config.altInputClass);\n          self._input = self.altInput;\n          self.altInput.placeholder = self.input.placeholder;\n          self.altInput.disabled = self.input.disabled;\n          self.altInput.required = self.input.required;\n          self.altInput.tabIndex = self.input.tabIndex;\n          self.altInput.type = \"text\";\n          self.input.type = \"hidden\";\n          if (!self.config.static && self.input.parentNode) self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n\n        if (!self.config.allowInput) self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n      }\n\n      function setupMobile() {\n        var inputType = self.config.enableTime ? self.config.noCalendar ? \"time\" : \"datetime-local\" : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr = inputType === \"datetime-local\" ? \"Y-m-d\\\\TH:i:S\" : inputType === \"date\" ? \"Y-m-d\" : \"H:i:S\";\n\n        if (self.selectedDates.length > 0) {\n          self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n\n        if (self.config.minDate) self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate) self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined) self.altInput.type = \"hidden\";\n\n        try {\n          if (self.input.parentNode) self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        } catch (_a) {}\n\n        bind(self.mobileInput, \"change\", function (e) {\n          self.setDate(e.target.value, false, self.mobileFormatStr);\n          triggerEvent(\"onChange\");\n          triggerEvent(\"onClose\");\n        });\n      }\n\n      function toggle() {\n        if (self.isOpen) return self.close();\n        self.open();\n      }\n\n      function triggerEvent(event, data) {\n        var hooks = self.config[event];\n\n        if (hooks !== undefined && hooks.length > 0) {\n          for (var i = 0; hooks[i] && i < hooks.length; i++) {\n            hooks[i](self.selectedDates, self.input.value, self, data);\n          }\n        }\n\n        if (event === \"onChange\") {\n          self.input.dispatchEvent(createEvent(\"change\"));\n          self.input.dispatchEvent(createEvent(\"input\"));\n        }\n      }\n\n      function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n      }\n\n      function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n          if (compareDates(self.selectedDates[i], date) === 0) return \"\" + i;\n        }\n\n        return false;\n      }\n\n      function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2) return false;\n        return compareDates(date, self.selectedDates[0]) >= 0 && compareDates(date, self.selectedDates[1]) <= 0;\n      }\n\n      function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav) return;\n        self.yearElements.forEach(function (yearElement, i) {\n          var d = new Date(self.currentYear, self.currentMonth, 1);\n          d.setMonth(self.currentMonth + i);\n          self.monthElements[i].textContent = monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n          yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow = self.config.minDate !== undefined && (self.currentYear === self.config.minDate.getFullYear() ? self.currentMonth <= self.config.minDate.getMonth() : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow = self.config.maxDate !== undefined && (self.currentYear === self.config.maxDate.getFullYear() ? self.currentMonth + 1 > self.config.maxDate.getMonth() : self.currentYear > self.config.maxDate.getFullYear());\n      }\n\n      function updateValue(triggerChange) {\n        if (triggerChange === void 0) {\n          triggerChange = true;\n        }\n\n        if (self.selectedDates.length === 0) return self.clear(triggerChange);\n\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n          self.mobileInput.value = self.latestSelectedDateObj !== undefined ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr) : \"\";\n        }\n\n        var joinChar = self.config.mode !== \"range\" ? self.config.conjunction : self.l10n.rangeSeparator;\n        self.input.value = self.selectedDates.map(function (dObj) {\n          return self.formatDate(dObj, self.config.dateFormat);\n        }).join(joinChar);\n\n        if (self.altInput !== undefined) {\n          self.altInput.value = self.selectedDates.map(function (dObj) {\n            return self.formatDate(dObj, self.config.altFormat);\n          }).join(joinChar);\n        }\n\n        if (triggerChange !== false) triggerEvent(\"onValueUpdate\");\n      }\n\n      function onMonthNavClick(e) {\n        var isPrevMonth = self.prevMonthNav.contains(e.target);\n        var isNextMonth = self.nextMonthNav.contains(e.target);\n\n        if (isPrevMonth || isNextMonth) {\n          changeMonth(isPrevMonth ? -1 : 1);\n        } else if (self.yearElements.indexOf(e.target) >= 0) {\n          e.preventDefault();\n          e.target.select();\n        } else if (e.target.classList.contains(\"arrowUp\")) {\n          self.changeYear(self.currentYear + 1);\n        } else if (e.target.classList.contains(\"arrowDown\")) {\n          self.changeYear(self.currentYear - 1);\n        }\n      }\n\n      function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\",\n            input = e.target;\n\n        if (self.amPM !== undefined && e.target === self.amPM) {\n          self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n\n        var min = parseFloat(input.getAttribute(\"data-min\")),\n            max = parseFloat(input.getAttribute(\"data-max\")),\n            step = parseFloat(input.getAttribute(\"data-step\")),\n            curValue = parseInt(input.value, 10),\n            delta = e.delta || (isKeyDown ? e.which === 38 ? 1 : -1 : 0);\n        var newValue = curValue + step * delta;\n\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n          var isHourElem = input === self.hourElement,\n              isMinuteElem = input === self.minuteElement;\n\n          if (newValue < min) {\n            newValue = max + newValue + int(!isHourElem) + (int(isHourElem) && int(!self.amPM));\n            if (isMinuteElem) incrementNumInput(undefined, -1, self.hourElement);\n          } else if (newValue > max) {\n            newValue = input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n            if (isMinuteElem) incrementNumInput(undefined, 1, self.hourElement);\n          }\n\n          if (self.amPM && isHourElem && (step === 1 ? newValue + curValue === 23 : Math.abs(newValue - curValue) > step)) {\n            self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n          }\n\n          input.value = pad(newValue);\n        }\n      }\n\n      init();\n      return self;\n    }\n\n    function _flatpickr(nodeList, config) {\n      var nodes = Array.prototype.slice.call(nodeList);\n      var instances = [];\n\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n\n        try {\n          if (node.getAttribute(\"data-fp-omit\") !== null) continue;\n\n          if (node._flatpickr !== undefined) {\n            node._flatpickr.destroy();\n\n            node._flatpickr = undefined;\n          }\n\n          node._flatpickr = FlatpickrInstance(node, config || {});\n          instances.push(node._flatpickr);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n\n      return instances.length === 1 ? instances[0] : instances;\n    }\n\n    if (typeof HTMLElement !== \"undefined\") {\n      HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n      };\n\n      HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n      };\n    }\n\n    var flatpickr = function flatpickr(selector, config) {\n      if (selector instanceof NodeList) return _flatpickr(selector, config);else if (typeof selector === \"string\") return _flatpickr(window.document.querySelectorAll(selector), config);\n      return _flatpickr([selector], config);\n    };\n\n    flatpickr.defaultConfig = defaults;\n    flatpickr.l10ns = {\n      en: Object.assign({}, english),\n      default: Object.assign({}, english)\n    };\n\n    flatpickr.localize = function (l10n) {\n      flatpickr.l10ns.default = Object.assign({}, flatpickr.l10ns.default, l10n);\n    };\n\n    flatpickr.setDefaults = function (config) {\n      flatpickr.defaultConfig = Object.assign({}, flatpickr.defaultConfig, config);\n    };\n\n    flatpickr.parseDate = createDateParser({});\n    flatpickr.formatDate = createDateFormatter({});\n    flatpickr.compareDates = compareDates;\n\n    if (typeof jQuery !== \"undefined\") {\n      jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n      };\n    }\n\n    Date.prototype.fp_incr = function (days) {\n      return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n    };\n\n    return flatpickr;\n\n})));\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2ZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5qcz9hNTA0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFCQUFxQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdKQUFnSjtBQUNoSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FB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QUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLDhCQUE4QjtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLCtCQUErQjtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixrQkFBa0I7QUFDdkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0VBQWdFO0FBQ2hFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiwrQkFBK0I7QUFDL0I7O0FBRUE7QUFDQSxnREFBZ0Q7QUFDaEQ7O0FBRUE7QUFDQSxnREFBZ0Q7QUFDaEQ7O0FBRUEsNkNBQTZDO0FBQzdDLGlEQUFpRDtBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZmxhdHBpY2tyIHY0LjQuMywgQGxpY2Vuc2UgTUlUICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIChnbG9iYWwuZmxhdHBpY2tyID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHBhZCA9IGZ1bmN0aW9uIHBhZChudW1iZXIpIHtcbiAgICAgIHJldHVybiAoXCIwXCIgKyBudW1iZXIpLnNsaWNlKC0yKTtcbiAgICB9O1xuICAgIHZhciBpbnQgPSBmdW5jdGlvbiBpbnQoYm9vbCkge1xuICAgICAgcmV0dXJuIGJvb2wgPT09IHRydWUgPyAxIDogMDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgICAgaWYgKGltbWVkaWF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGltbWVkaWF0ZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGltZW91dDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcyxcbiAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHRpbWVvdXQgIT09IG51bGwgJiYgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgIGlmICghaW1tZWRpYXRlKSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9LCB3YWl0KTtcbiAgICAgICAgaWYgKGltbWVkaWF0ZSAmJiAhdGltZW91dCkgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBhcnJheWlmeSA9IGZ1bmN0aW9uIGFycmF5aWZ5KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEFycmF5ID8gb2JqIDogW29ial07XG4gICAgfTtcblxuICAgIHZhciBkb19ub3RoaW5nID0gZnVuY3Rpb24gZG9fbm90aGluZygpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIHZhciBtb250aFRvU3RyID0gZnVuY3Rpb24gbW9udGhUb1N0cihtb250aE51bWJlciwgc2hvcnRoYW5kLCBsb2NhbGUpIHtcbiAgICAgIHJldHVybiBsb2NhbGUubW9udGhzW3Nob3J0aGFuZCA/IFwic2hvcnRoYW5kXCIgOiBcImxvbmdoYW5kXCJdW21vbnRoTnVtYmVyXTtcbiAgICB9O1xuICAgIHZhciByZXZGb3JtYXQgPSB7XG4gICAgICBEOiBkb19ub3RoaW5nLFxuICAgICAgRjogZnVuY3Rpb24gRihkYXRlT2JqLCBtb250aE5hbWUsIGxvY2FsZSkge1xuICAgICAgICBkYXRlT2JqLnNldE1vbnRoKGxvY2FsZS5tb250aHMubG9uZ2hhbmQuaW5kZXhPZihtb250aE5hbWUpKTtcbiAgICAgIH0sXG4gICAgICBHOiBmdW5jdGlvbiBHKGRhdGVPYmosIGhvdXIpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRIb3VycyhwYXJzZUZsb2F0KGhvdXIpKTtcbiAgICAgIH0sXG4gICAgICBIOiBmdW5jdGlvbiBIKGRhdGVPYmosIGhvdXIpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRIb3VycyhwYXJzZUZsb2F0KGhvdXIpKTtcbiAgICAgIH0sXG4gICAgICBKOiBmdW5jdGlvbiBKKGRhdGVPYmosIGRheSkge1xuICAgICAgICBkYXRlT2JqLnNldERhdGUocGFyc2VGbG9hdChkYXkpKTtcbiAgICAgIH0sXG4gICAgICBLOiBmdW5jdGlvbiBLKGRhdGVPYmosIGFtUE0sIGxvY2FsZSkge1xuICAgICAgICBkYXRlT2JqLnNldEhvdXJzKGRhdGVPYmouZ2V0SG91cnMoKSAlIDEyICsgMTIgKiBpbnQobmV3IFJlZ0V4cChsb2NhbGUuYW1QTVsxXSwgXCJpXCIpLnRlc3QoYW1QTSkpKTtcbiAgICAgIH0sXG4gICAgICBNOiBmdW5jdGlvbiBNKGRhdGVPYmosIHNob3J0TW9udGgsIGxvY2FsZSkge1xuICAgICAgICBkYXRlT2JqLnNldE1vbnRoKGxvY2FsZS5tb250aHMuc2hvcnRoYW5kLmluZGV4T2Yoc2hvcnRNb250aCkpO1xuICAgICAgfSxcbiAgICAgIFM6IGZ1bmN0aW9uIFMoZGF0ZU9iaiwgc2Vjb25kcykge1xuICAgICAgICBkYXRlT2JqLnNldFNlY29uZHMocGFyc2VGbG9hdChzZWNvbmRzKSk7XG4gICAgICB9LFxuICAgICAgVTogZnVuY3Rpb24gVShfLCB1bml4U2Vjb25kcykge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUocGFyc2VGbG9hdCh1bml4U2Vjb25kcykgKiAxMDAwKTtcbiAgICAgIH0sXG4gICAgICBXOiBmdW5jdGlvbiBXKGRhdGVPYmosIHdlZWtOdW0pIHtcbiAgICAgICAgdmFyIHdlZWtOdW1iZXIgPSBwYXJzZUludCh3ZWVrTnVtKTtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVPYmouZ2V0RnVsbFllYXIoKSwgMCwgMiArICh3ZWVrTnVtYmVyIC0gMSkgKiA3LCAwLCAwLCAwLCAwKTtcbiAgICAgIH0sXG4gICAgICBZOiBmdW5jdGlvbiBZKGRhdGVPYmosIHllYXIpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRGdWxsWWVhcihwYXJzZUZsb2F0KHllYXIpKTtcbiAgICAgIH0sXG4gICAgICBaOiBmdW5jdGlvbiBaKF8sIElTT0RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKElTT0RhdGUpO1xuICAgICAgfSxcbiAgICAgIGQ6IGZ1bmN0aW9uIGQoZGF0ZU9iaiwgZGF5KSB7XG4gICAgICAgIGRhdGVPYmouc2V0RGF0ZShwYXJzZUZsb2F0KGRheSkpO1xuICAgICAgfSxcbiAgICAgIGg6IGZ1bmN0aW9uIGgoZGF0ZU9iaiwgaG91cikge1xuICAgICAgICBkYXRlT2JqLnNldEhvdXJzKHBhcnNlRmxvYXQoaG91cikpO1xuICAgICAgfSxcbiAgICAgIGk6IGZ1bmN0aW9uIGkoZGF0ZU9iaiwgbWludXRlcykge1xuICAgICAgICBkYXRlT2JqLnNldE1pbnV0ZXMocGFyc2VGbG9hdChtaW51dGVzKSk7XG4gICAgICB9LFxuICAgICAgajogZnVuY3Rpb24gaihkYXRlT2JqLCBkYXkpIHtcbiAgICAgICAgZGF0ZU9iai5zZXREYXRlKHBhcnNlRmxvYXQoZGF5KSk7XG4gICAgICB9LFxuICAgICAgbDogZG9fbm90aGluZyxcbiAgICAgIG06IGZ1bmN0aW9uIG0oZGF0ZU9iaiwgbW9udGgpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRNb250aChwYXJzZUZsb2F0KG1vbnRoKSAtIDEpO1xuICAgICAgfSxcbiAgICAgIG46IGZ1bmN0aW9uIG4oZGF0ZU9iaiwgbW9udGgpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRNb250aChwYXJzZUZsb2F0KG1vbnRoKSAtIDEpO1xuICAgICAgfSxcbiAgICAgIHM6IGZ1bmN0aW9uIHMoZGF0ZU9iaiwgc2Vjb25kcykge1xuICAgICAgICBkYXRlT2JqLnNldFNlY29uZHMocGFyc2VGbG9hdChzZWNvbmRzKSk7XG4gICAgICB9LFxuICAgICAgdzogZG9fbm90aGluZyxcbiAgICAgIHk6IGZ1bmN0aW9uIHkoZGF0ZU9iaiwgeWVhcikge1xuICAgICAgICBkYXRlT2JqLnNldEZ1bGxZZWFyKDIwMDAgKyBwYXJzZUZsb2F0KHllYXIpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0b2tlblJlZ2V4ID0ge1xuICAgICAgRDogXCIoXFxcXHcrKVwiLFxuICAgICAgRjogXCIoXFxcXHcrKVwiLFxuICAgICAgRzogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcbiAgICAgIEg6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBKOiBcIihcXFxcZFxcXFxkfFxcXFxkKVxcXFx3K1wiLFxuICAgICAgSzogXCJcIixcbiAgICAgIE06IFwiKFxcXFx3KylcIixcbiAgICAgIFM6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBVOiBcIiguKylcIixcbiAgICAgIFc6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBZOiBcIihcXFxcZHs0fSlcIixcbiAgICAgIFo6IFwiKC4rKVwiLFxuICAgICAgZDogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcbiAgICAgIGg6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBpOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgajogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcbiAgICAgIGw6IFwiKFxcXFx3KylcIixcbiAgICAgIG06IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBuOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgczogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcbiAgICAgIHc6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICB5OiBcIihcXFxcZHsyfSlcIlxuICAgIH07XG4gICAgdmFyIGZvcm1hdHMgPSB7XG4gICAgICBaOiBmdW5jdGlvbiBaKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKTtcbiAgICAgIH0sXG4gICAgICBEOiBmdW5jdGlvbiBEKGRhdGUsIGxvY2FsZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzLnNob3J0aGFuZFtmb3JtYXRzLncoZGF0ZSwgbG9jYWxlLCBvcHRpb25zKV07XG4gICAgICB9LFxuICAgICAgRjogZnVuY3Rpb24gRihkYXRlLCBsb2NhbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG1vbnRoVG9TdHIoZm9ybWF0cy5uKGRhdGUsIGxvY2FsZSwgb3B0aW9ucykgLSAxLCBmYWxzZSwgbG9jYWxlKTtcbiAgICAgIH0sXG4gICAgICBHOiBmdW5jdGlvbiBHKGRhdGUsIGxvY2FsZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gcGFkKGZvcm1hdHMuaChkYXRlLCBsb2NhbGUsIG9wdGlvbnMpKTtcbiAgICAgIH0sXG4gICAgICBIOiBmdW5jdGlvbiBIKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldEhvdXJzKCkpO1xuICAgICAgfSxcbiAgICAgIEo6IGZ1bmN0aW9uIEooZGF0ZSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUub3JkaW5hbCAhPT0gdW5kZWZpbmVkID8gZGF0ZS5nZXREYXRlKCkgKyBsb2NhbGUub3JkaW5hbChkYXRlLmdldERhdGUoKSkgOiBkYXRlLmdldERhdGUoKTtcbiAgICAgIH0sXG4gICAgICBLOiBmdW5jdGlvbiBLKGRhdGUsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLmFtUE1baW50KGRhdGUuZ2V0SG91cnMoKSA+IDExKV07XG4gICAgICB9LFxuICAgICAgTTogZnVuY3Rpb24gTShkYXRlLCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIG1vbnRoVG9TdHIoZGF0ZS5nZXRNb250aCgpLCB0cnVlLCBsb2NhbGUpO1xuICAgICAgfSxcbiAgICAgIFM6IGZ1bmN0aW9uIFMoZGF0ZSkge1xuICAgICAgICByZXR1cm4gcGFkKGRhdGUuZ2V0U2Vjb25kcygpKTtcbiAgICAgIH0sXG4gICAgICBVOiBmdW5jdGlvbiBVKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIH0sXG4gICAgICBXOiBmdW5jdGlvbiBXKGRhdGUsIF8sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0V2VlayhkYXRlKTtcbiAgICAgIH0sXG4gICAgICBZOiBmdW5jdGlvbiBZKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIH0sXG4gICAgICBkOiBmdW5jdGlvbiBkKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldERhdGUoKSk7XG4gICAgICB9LFxuICAgICAgaDogZnVuY3Rpb24gaChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldEhvdXJzKCkgJSAxMiA/IGRhdGUuZ2V0SG91cnMoKSAlIDEyIDogMTI7XG4gICAgICB9LFxuICAgICAgaTogZnVuY3Rpb24gaShkYXRlKSB7XG4gICAgICAgIHJldHVybiBwYWQoZGF0ZS5nZXRNaW51dGVzKCkpO1xuICAgICAgfSxcbiAgICAgIGo6IGZ1bmN0aW9uIGooZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7XG4gICAgICB9LFxuICAgICAgbDogZnVuY3Rpb24gbChkYXRlLCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5cy5sb25naGFuZFtkYXRlLmdldERheSgpXTtcbiAgICAgIH0sXG4gICAgICBtOiBmdW5jdGlvbiBtKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgIH0sXG4gICAgICBuOiBmdW5jdGlvbiBuKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICB9LFxuICAgICAgczogZnVuY3Rpb24gcyhkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldFNlY29uZHMoKTtcbiAgICAgIH0sXG4gICAgICB3OiBmdW5jdGlvbiB3KGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF5KCk7XG4gICAgICB9LFxuICAgICAgeTogZnVuY3Rpb24geShkYXRlKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoZGF0ZS5nZXRGdWxsWWVhcigpKS5zdWJzdHJpbmcoMik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBlbmdsaXNoID0ge1xuICAgICAgd2Vla2RheXM6IHtcbiAgICAgICAgc2hvcnRoYW5kOiBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl0sXG4gICAgICAgIGxvbmdoYW5kOiBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXVxuICAgICAgfSxcbiAgICAgIG1vbnRoczoge1xuICAgICAgICBzaG9ydGhhbmQ6IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXSxcbiAgICAgICAgbG9uZ2hhbmQ6IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdXG4gICAgICB9LFxuICAgICAgZGF5c0luTW9udGg6IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXSxcbiAgICAgIGZpcnN0RGF5T2ZXZWVrOiAwLFxuICAgICAgb3JkaW5hbDogZnVuY3Rpb24gb3JkaW5hbChudGgpIHtcbiAgICAgICAgdmFyIHMgPSBudGggJSAxMDA7XG4gICAgICAgIGlmIChzID4gMyAmJiBzIDwgMjEpIHJldHVybiBcInRoXCI7XG5cbiAgICAgICAgc3dpdGNoIChzICUgMTApIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gXCJzdFwiO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIFwibmRcIjtcblxuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBcInJkXCI7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwidGhcIjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJhbmdlU2VwYXJhdG9yOiBcIiB0byBcIixcbiAgICAgIHdlZWtBYmJyZXZpYXRpb246IFwiV2tcIixcbiAgICAgIHNjcm9sbFRpdGxlOiBcIlNjcm9sbCB0byBpbmNyZW1lbnRcIixcbiAgICAgIHRvZ2dsZVRpdGxlOiBcIkNsaWNrIHRvIHRvZ2dsZVwiLFxuICAgICAgYW1QTTogW1wiQU1cIiwgXCJQTVwiXSxcbiAgICAgIHllYXJBcmlhTGFiZWw6IFwiWWVhclwiXG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVEYXRlRm9ybWF0dGVyID0gZnVuY3Rpb24gY3JlYXRlRGF0ZUZvcm1hdHRlcihfcmVmKSB7XG4gICAgICB2YXIgX3JlZiRjb25maWcgPSBfcmVmLmNvbmZpZyxcbiAgICAgICAgICBjb25maWcgPSBfcmVmJGNvbmZpZyA9PT0gdm9pZCAwID8gZGVmYXVsdHMgOiBfcmVmJGNvbmZpZyxcbiAgICAgICAgICBfcmVmJGwxMG4gPSBfcmVmLmwxMG4sXG4gICAgICAgICAgbDEwbiA9IF9yZWYkbDEwbiA9PT0gdm9pZCAwID8gZW5nbGlzaCA6IF9yZWYkbDEwbjtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZU9iaiwgZnJtdCwgb3ZlcnJpZGVMb2NhbGUpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5mb3JtYXREYXRlICE9PSB1bmRlZmluZWQpIHJldHVybiBjb25maWcuZm9ybWF0RGF0ZShkYXRlT2JqLCBmcm10KTtcbiAgICAgICAgdmFyIGxvY2FsZSA9IG92ZXJyaWRlTG9jYWxlIHx8IGwxMG47XG4gICAgICAgIHJldHVybiBmcm10LnNwbGl0KFwiXCIpLm1hcChmdW5jdGlvbiAoYywgaSwgYXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdHNbY10gJiYgYXJyW2kgLSAxXSAhPT0gXCJcXFxcXCIgPyBmb3JtYXRzW2NdKGRhdGVPYmosIGxvY2FsZSwgY29uZmlnKSA6IGMgIT09IFwiXFxcXFwiID8gYyA6IFwiXCI7XG4gICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICB9O1xuICAgIH07XG4gICAgdmFyIGNyZWF0ZURhdGVQYXJzZXIgPSBmdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKF9yZWYyKSB7XG4gICAgICB2YXIgX3JlZjIkY29uZmlnID0gX3JlZjIuY29uZmlnLFxuICAgICAgICAgIGNvbmZpZyA9IF9yZWYyJGNvbmZpZyA9PT0gdm9pZCAwID8gZGVmYXVsdHMgOiBfcmVmMiRjb25maWcsXG4gICAgICAgICAgX3JlZjIkbDEwbiA9IF9yZWYyLmwxMG4sXG4gICAgICAgICAgbDEwbiA9IF9yZWYyJGwxMG4gPT09IHZvaWQgMCA/IGVuZ2xpc2ggOiBfcmVmMiRsMTBuO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRlLCBnaXZlbkZvcm1hdCwgdGltZWxlc3MpIHtcbiAgICAgICAgaWYgKGRhdGUgIT09IDAgJiYgIWRhdGUpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBwYXJzZWREYXRlO1xuICAgICAgICB2YXIgZGF0ZV9vcmlnID0gZGF0ZTtcbiAgICAgICAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSBwYXJzZWREYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO2Vsc2UgaWYgKHR5cGVvZiBkYXRlICE9PSBcInN0cmluZ1wiICYmIGRhdGUudG9GaXhlZCAhPT0gdW5kZWZpbmVkKSBwYXJzZWREYXRlID0gbmV3IERhdGUoZGF0ZSk7ZWxzZSBpZiAodHlwZW9mIGRhdGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB2YXIgZm9ybWF0ID0gZ2l2ZW5Gb3JtYXQgfHwgKGNvbmZpZyB8fCBkZWZhdWx0cykuZGF0ZUZvcm1hdDtcbiAgICAgICAgICB2YXIgZGF0ZXN0ciA9IFN0cmluZyhkYXRlKS50cmltKCk7XG5cbiAgICAgICAgICBpZiAoZGF0ZXN0ciA9PT0gXCJ0b2RheVwiKSB7XG4gICAgICAgICAgICBwYXJzZWREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRpbWVsZXNzID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKC9aJC8udGVzdChkYXRlc3RyKSB8fCAvR01UJC8udGVzdChkYXRlc3RyKSkgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO2Vsc2UgaWYgKGNvbmZpZyAmJiBjb25maWcucGFyc2VEYXRlKSBwYXJzZWREYXRlID0gY29uZmlnLnBhcnNlRGF0ZShkYXRlLCBmb3JtYXQpO2Vsc2Uge1xuICAgICAgICAgICAgcGFyc2VkRGF0ZSA9ICFjb25maWcgfHwgIWNvbmZpZy5ub0NhbGVuZGFyID8gbmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCAwLCAxLCAwLCAwLCAwLCAwKSA6IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCkpO1xuICAgICAgICAgICAgdmFyIG1hdGNoZWQsXG4gICAgICAgICAgICAgICAgb3BzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBtYXRjaEluZGV4ID0gMCwgcmVnZXhTdHIgPSBcIlwiOyBpIDwgZm9ybWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhciB0b2tlbiA9IGZvcm1hdFtpXTtcbiAgICAgICAgICAgICAgdmFyIGlzQmFja1NsYXNoID0gdG9rZW4gPT09IFwiXFxcXFwiO1xuICAgICAgICAgICAgICB2YXIgZXNjYXBlZCA9IGZvcm1hdFtpIC0gMV0gPT09IFwiXFxcXFwiIHx8IGlzQmFja1NsYXNoO1xuXG4gICAgICAgICAgICAgIGlmICh0b2tlblJlZ2V4W3Rva2VuXSAmJiAhZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgIHJlZ2V4U3RyICs9IHRva2VuUmVnZXhbdG9rZW5dO1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG5ldyBSZWdFeHAocmVnZXhTdHIpLmV4ZWMoZGF0ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgKG1hdGNoZWQgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgb3BzW3Rva2VuICE9PSBcIllcIiA/IFwicHVzaFwiIDogXCJ1bnNoaWZ0XCJdKHtcbiAgICAgICAgICAgICAgICAgICAgZm46IHJldkZvcm1hdFt0b2tlbl0sXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbWF0Y2hbKyttYXRjaEluZGV4XVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0JhY2tTbGFzaCkgcmVnZXhTdHIgKz0gXCIuXCI7XG5cbiAgICAgICAgICAgICAgb3BzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZuID0gX3JlZjMuZm4sXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IF9yZWYzLnZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkRGF0ZSA9IGZuKHBhcnNlZERhdGUsIHZhbCwgbDEwbikgfHwgcGFyc2VkRGF0ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcnNlZERhdGUgPSBtYXRjaGVkID8gcGFyc2VkRGF0ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShwYXJzZWREYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgICBjb25maWcuZXJyb3JIYW5kbGVyKG5ldyBFcnJvcihcIkludmFsaWQgZGF0ZSBwcm92aWRlZDogXCIgKyBkYXRlX29yaWcpKTtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWVsZXNzID09PSB0cnVlKSBwYXJzZWREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICByZXR1cm4gcGFyc2VkRGF0ZTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBmdW5jdGlvbiBjb21wYXJlRGF0ZXMoZGF0ZTEsIGRhdGUyLCB0aW1lbGVzcykge1xuICAgICAgaWYgKHRpbWVsZXNzID09PSB2b2lkIDApIHtcbiAgICAgICAgdGltZWxlc3MgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGltZWxlc3MgIT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlMS5nZXRUaW1lKCkpLnNldEhvdXJzKDAsIDAsIDAsIDApIC0gbmV3IERhdGUoZGF0ZTIuZ2V0VGltZSgpKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGUxLmdldFRpbWUoKSAtIGRhdGUyLmdldFRpbWUoKTtcbiAgICB9XG4gICAgdmFyIGdldFdlZWsgPSBmdW5jdGlvbiBnZXRXZWVrKGdpdmVuRGF0ZSkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShnaXZlbkRhdGUuZ2V0VGltZSgpKTtcbiAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAzIC0gKGRhdGUuZ2V0RGF5KCkgKyA2KSAlIDcpO1xuICAgICAgdmFyIHdlZWsxID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwLCA0KTtcbiAgICAgIHJldHVybiAxICsgTWF0aC5yb3VuZCgoKGRhdGUuZ2V0VGltZSgpIC0gd2VlazEuZ2V0VGltZSgpKSAvIDg2NDAwMDAwIC0gMyArICh3ZWVrMS5nZXREYXkoKSArIDYpICUgNykgLyA3KTtcbiAgICB9O1xuICAgIHZhciBpc0JldHdlZW4gPSBmdW5jdGlvbiBpc0JldHdlZW4odHMsIHRzMSwgdHMyKSB7XG4gICAgICByZXR1cm4gdHMgPiBNYXRoLm1pbih0czEsIHRzMikgJiYgdHMgPCBNYXRoLm1heCh0czEsIHRzMik7XG4gICAgfTtcbiAgICB2YXIgZHVyYXRpb24gPSB7XG4gICAgICBEQVk6IDg2NDAwMDAwXG4gICAgfTtcblxuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgIF9kaXNhYmxlOiBbXSxcbiAgICAgIF9lbmFibGU6IFtdLFxuICAgICAgYWxsb3dJbnB1dDogZmFsc2UsXG4gICAgICBhbHRGb3JtYXQ6IFwiRiBqLCBZXCIsXG4gICAgICBhbHRJbnB1dDogZmFsc2UsXG4gICAgICBhbHRJbnB1dENsYXNzOiBcImZvcm0tY29udHJvbCBpbnB1dFwiLFxuICAgICAgYW5pbWF0ZTogdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKSA9PT0gLTEsXG4gICAgICBhcmlhRGF0ZUZvcm1hdDogXCJGIGosIFlcIixcbiAgICAgIGNsaWNrT3BlbnM6IHRydWUsXG4gICAgICBjbG9zZU9uU2VsZWN0OiB0cnVlLFxuICAgICAgY29uanVuY3Rpb246IFwiLCBcIixcbiAgICAgIGRhdGVGb3JtYXQ6IFwiWS1tLWRcIixcbiAgICAgIGRlZmF1bHRIb3VyOiAxMixcbiAgICAgIGRlZmF1bHRNaW51dGU6IDAsXG4gICAgICBkZWZhdWx0U2Vjb25kczogMCxcbiAgICAgIGRpc2FibGU6IFtdLFxuICAgICAgZGlzYWJsZU1vYmlsZTogZmFsc2UsXG4gICAgICBlbmFibGU6IFtdLFxuICAgICAgZW5hYmxlU2Vjb25kczogZmFsc2UsXG4gICAgICBlbmFibGVUaW1lOiBmYWxzZSxcbiAgICAgIGVycm9ySGFuZGxlcjogY29uc29sZS53YXJuLFxuICAgICAgZ2V0V2VlazogZ2V0V2VlayxcbiAgICAgIGhvdXJJbmNyZW1lbnQ6IDEsXG4gICAgICBpZ25vcmVkRm9jdXNFbGVtZW50czogW10sXG4gICAgICBpbmxpbmU6IGZhbHNlLFxuICAgICAgbG9jYWxlOiBcImRlZmF1bHRcIixcbiAgICAgIG1pbnV0ZUluY3JlbWVudDogNSxcbiAgICAgIG1vZGU6IFwic2luZ2xlXCIsXG4gICAgICBuZXh0QXJyb3c6IFwiPHN2ZyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHZpZXdCb3g9JzAgMCAxNyAxNyc+PGc+PC9nPjxwYXRoIGQ9J00xMy4yMDcgOC40NzJsLTcuODU0IDcuODU0LTAuNzA3LTAuNzA3IDcuMTQ2LTcuMTQ2LTcuMTQ2LTcuMTQ4IDAuNzA3LTAuNzA3IDcuODU0IDcuODU0eicgLz48L3N2Zz5cIixcbiAgICAgIG5vQ2FsZW5kYXI6IGZhbHNlLFxuICAgICAgbm93OiBuZXcgRGF0ZSgpLFxuICAgICAgb25DaGFuZ2U6IFtdLFxuICAgICAgb25DbG9zZTogW10sXG4gICAgICBvbkRheUNyZWF0ZTogW10sXG4gICAgICBvbkRlc3Ryb3k6IFtdLFxuICAgICAgb25LZXlEb3duOiBbXSxcbiAgICAgIG9uTW9udGhDaGFuZ2U6IFtdLFxuICAgICAgb25PcGVuOiBbXSxcbiAgICAgIG9uUGFyc2VDb25maWc6IFtdLFxuICAgICAgb25SZWFkeTogW10sXG4gICAgICBvblZhbHVlVXBkYXRlOiBbXSxcbiAgICAgIG9uWWVhckNoYW5nZTogW10sXG4gICAgICBvblByZUNhbGVuZGFyUG9zaXRpb246IFtdLFxuICAgICAgcGx1Z2luczogW10sXG4gICAgICBwb3NpdGlvbjogXCJhdXRvXCIsXG4gICAgICBwb3NpdGlvbkVsZW1lbnQ6IHVuZGVmaW5lZCxcbiAgICAgIHByZXZBcnJvdzogXCI8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgdmlld0JveD0nMCAwIDE3IDE3Jz48Zz48L2c+PHBhdGggZD0nTTUuMjA3IDguNDcxbDcuMTQ2IDcuMTQ3LTAuNzA3IDAuNzA3LTcuODUzLTcuODU0IDcuODU0LTcuODUzIDAuNzA3IDAuNzA3LTcuMTQ3IDcuMTQ2eicgLz48L3N2Zz5cIixcbiAgICAgIHNob3J0aGFuZEN1cnJlbnRNb250aDogZmFsc2UsXG4gICAgICBzaG93TW9udGhzOiAxLFxuICAgICAgc3RhdGljOiBmYWxzZSxcbiAgICAgIHRpbWVfMjRocjogZmFsc2UsXG4gICAgICB3ZWVrTnVtYmVyczogZmFsc2UsXG4gICAgICB3cmFwOiBmYWxzZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVDbGFzcyhlbGVtLCBjbGFzc05hbWUsIGJvb2wpIHtcbiAgICAgIGlmIChib29sID09PSB0cnVlKSByZXR1cm4gZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWcsIGNsYXNzTmFtZSwgY29udGVudCkge1xuICAgICAgdmFyIGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8IFwiXCI7XG4gICAgICBjb250ZW50ID0gY29udGVudCB8fCBcIlwiO1xuICAgICAgZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICBpZiAoY29udGVudCAhPT0gdW5kZWZpbmVkKSBlLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhck5vZGUobm9kZSkge1xuICAgICAgd2hpbGUgKG5vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRQYXJlbnQobm9kZSwgY29uZGl0aW9uKSB7XG4gICAgICBpZiAoY29uZGl0aW9uKG5vZGUpKSByZXR1cm4gbm9kZTtlbHNlIGlmIChub2RlLnBhcmVudE5vZGUpIHJldHVybiBmaW5kUGFyZW50KG5vZGUucGFyZW50Tm9kZSwgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU51bWJlcklucHV0KGlucHV0Q2xhc3NOYW1lLCBvcHRzKSB7XG4gICAgICB2YXIgd3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJudW1JbnB1dFdyYXBwZXJcIiksXG4gICAgICAgICAgbnVtSW5wdXQgPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgXCJudW1JbnB1dCBcIiArIGlucHV0Q2xhc3NOYW1lKSxcbiAgICAgICAgICBhcnJvd1VwID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJhcnJvd1VwXCIpLFxuICAgICAgICAgIGFycm93RG93biA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiYXJyb3dEb3duXCIpO1xuICAgICAgbnVtSW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgbnVtSW5wdXQucGF0dGVybiA9IFwiXFxcXGQqXCI7XG4gICAgICBpZiAob3B0cyAhPT0gdW5kZWZpbmVkKSBmb3IgKHZhciBrZXkgaW4gb3B0cykge1xuICAgICAgICBudW1JbnB1dC5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRzW2tleV0pO1xuICAgICAgfVxuICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChudW1JbnB1dCk7XG4gICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGFycm93VXApO1xuICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChhcnJvd0Rvd24pO1xuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3Aoc291cmNlKSB7XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3MubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3NbX2ldO1xuXG4gICAgICAgICAgX2xvb3Aoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBERUJPVU5DRURfQ0hBTkdFX01TID0gMzAwO1xuXG4gICAgZnVuY3Rpb24gRmxhdHBpY2tySW5zdGFuY2UoZWxlbWVudCwgaW5zdGFuY2VDb25maWcpIHtcbiAgICAgIHZhciBzZWxmID0ge1xuICAgICAgICBjb25maWc6IE9iamVjdC5hc3NpZ24oe30sIGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnKSxcbiAgICAgICAgbDEwbjogZW5nbGlzaFxuICAgICAgfTtcbiAgICAgIHNlbGYucGFyc2VEYXRlID0gY3JlYXRlRGF0ZVBhcnNlcih7XG4gICAgICAgIGNvbmZpZzogc2VsZi5jb25maWcsXG4gICAgICAgIGwxMG46IHNlbGYubDEwblxuICAgICAgfSk7XG4gICAgICBzZWxmLl9oYW5kbGVycyA9IFtdO1xuICAgICAgc2VsZi5fYmluZCA9IGJpbmQ7XG4gICAgICBzZWxmLl9zZXRIb3Vyc0Zyb21EYXRlID0gc2V0SG91cnNGcm9tRGF0ZTtcbiAgICAgIHNlbGYuY2hhbmdlTW9udGggPSBjaGFuZ2VNb250aDtcbiAgICAgIHNlbGYuY2hhbmdlWWVhciA9IGNoYW5nZVllYXI7XG4gICAgICBzZWxmLmNsZWFyID0gY2xlYXI7XG4gICAgICBzZWxmLmNsb3NlID0gY2xvc2U7XG4gICAgICBzZWxmLl9jcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudDtcbiAgICAgIHNlbGYuZGVzdHJveSA9IGRlc3Ryb3k7XG4gICAgICBzZWxmLmlzRW5hYmxlZCA9IGlzRW5hYmxlZDtcbiAgICAgIHNlbGYuanVtcFRvRGF0ZSA9IGp1bXBUb0RhdGU7XG4gICAgICBzZWxmLm9wZW4gPSBvcGVuO1xuICAgICAgc2VsZi5yZWRyYXcgPSByZWRyYXc7XG4gICAgICBzZWxmLnNldCA9IHNldDtcbiAgICAgIHNlbGYuc2V0RGF0ZSA9IHNldERhdGU7XG4gICAgICBzZWxmLnRvZ2dsZSA9IHRvZ2dsZTtcblxuICAgICAgZnVuY3Rpb24gc2V0dXBIZWxwZXJGdW5jdGlvbnMoKSB7XG4gICAgICAgIHNlbGYudXRpbHMgPSB7XG4gICAgICAgICAgZ2V0RGF5c0luTW9udGg6IGZ1bmN0aW9uIGdldERheXNJbk1vbnRoKG1vbnRoLCB5cikge1xuICAgICAgICAgICAgaWYgKG1vbnRoID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgbW9udGggPSBzZWxmLmN1cnJlbnRNb250aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHlyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgeXIgPSBzZWxmLmN1cnJlbnRZZWFyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobW9udGggPT09IDEgJiYgKHlyICUgNCA9PT0gMCAmJiB5ciAlIDEwMCAhPT0gMCB8fCB5ciAlIDQwMCA9PT0gMCkpIHJldHVybiAyOTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmwxMG4uZGF5c0luTW9udGhbbW9udGhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgc2VsZi5lbGVtZW50ID0gc2VsZi5pbnB1dCA9IGVsZW1lbnQ7XG4gICAgICAgIHNlbGYuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIHBhcnNlQ29uZmlnKCk7XG4gICAgICAgIHNldHVwTG9jYWxlKCk7XG4gICAgICAgIHNldHVwSW5wdXRzKCk7XG4gICAgICAgIHNldHVwRGF0ZXMoKTtcbiAgICAgICAgc2V0dXBIZWxwZXJGdW5jdGlvbnMoKTtcbiAgICAgICAgaWYgKCFzZWxmLmlzTW9iaWxlKSBidWlsZCgpO1xuICAgICAgICBiaW5kRXZlbnRzKCk7XG5cbiAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggfHwgc2VsZi5jb25maWcubm9DYWxlbmRhcikge1xuICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGVUaW1lKSB7XG4gICAgICAgICAgICBzZXRIb3Vyc0Zyb21EYXRlKHNlbGYuY29uZmlnLm5vQ2FsZW5kYXIgPyBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiB8fCBzZWxmLmNvbmZpZy5taW5EYXRlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1cGRhdGVWYWx1ZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnNob3dUaW1lSW5wdXQgPSBzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID4gMCB8fCBzZWxmLmNvbmZpZy5ub0NhbGVuZGFyO1xuXG4gICAgICAgIGlmIChzZWxmLmRheXNDb250YWluZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIHZhciBkYXlzV2lkdGggPSAoc2VsZi5kYXlzQ29udGFpbmVyLm9mZnNldFdpZHRoICsgMSkgKiBzZWxmLmNvbmZpZy5zaG93TW9udGhzO1xuICAgICAgICAgIHNlbGYuZGF5c0NvbnRhaW5lci5zdHlsZS53aWR0aCA9IGRheXNXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLndpZHRoID0gZGF5c1dpZHRoICsgXCJweFwiO1xuXG4gICAgICAgICAgaWYgKHNlbGYud2Vla1dyYXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGRheXNXaWR0aCArIHNlbGYud2Vla1dyYXBwZXIub2Zmc2V0V2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc1NhZmFyaSA9IC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAgICAgaWYgKCFzZWxmLmlzTW9iaWxlICYmIGlzU2FmYXJpKSB7XG4gICAgICAgICAgcG9zaXRpb25DYWxlbmRhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJpZ2dlckV2ZW50KFwib25SZWFkeVwiKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYmluZFRvSW5zdGFuY2UoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuLmJpbmQoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoZSkge1xuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICB0aW1lV3JhcHBlcihlKTtcblxuICAgICAgICBpZiAoZS50eXBlICE9PSBcImlucHV0XCIpIHtcbiAgICAgICAgICBzZXRIb3Vyc0Zyb21JbnB1dHMoKTtcbiAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XG4gICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgICAgICAgIH0sIERFQk9VTkNFRF9DSEFOR0VfTVMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFtcG0ybWlsaXRhcnkoaG91ciwgYW1QTSkge1xuICAgICAgICByZXR1cm4gaG91ciAlIDEyICsgMTIgKiBpbnQoYW1QTSA9PT0gc2VsZi5sMTBuLmFtUE1bMV0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtaWxpdGFyeTJhbXBtKGhvdXIpIHtcbiAgICAgICAgc3dpdGNoIChob3VyICUgMjQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgIHJldHVybiAxMjtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gaG91ciAlIDEyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldEhvdXJzRnJvbUlucHV0cygpIHtcbiAgICAgICAgaWYgKHNlbGYuaG91ckVsZW1lbnQgPT09IHVuZGVmaW5lZCB8fCBzZWxmLm1pbnV0ZUVsZW1lbnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB2YXIgaG91cnMgPSAocGFyc2VJbnQoc2VsZi5ob3VyRWxlbWVudC52YWx1ZS5zbGljZSgtMiksIDEwKSB8fCAwKSAlIDI0LFxuICAgICAgICAgICAgbWludXRlcyA9IChwYXJzZUludChzZWxmLm1pbnV0ZUVsZW1lbnQudmFsdWUsIDEwKSB8fCAwKSAlIDYwLFxuICAgICAgICAgICAgc2Vjb25kcyA9IHNlbGYuc2Vjb25kRWxlbWVudCAhPT0gdW5kZWZpbmVkID8gKHBhcnNlSW50KHNlbGYuc2Vjb25kRWxlbWVudC52YWx1ZSwgMTApIHx8IDApICUgNjAgOiAwO1xuICAgICAgICBpZiAoc2VsZi5hbVBNICE9PSB1bmRlZmluZWQpIGhvdXJzID0gYW1wbTJtaWxpdGFyeShob3Vycywgc2VsZi5hbVBNLnRleHRDb250ZW50KTtcbiAgICAgICAgdmFyIGxpbWl0TWluSG91cnMgPSBzZWxmLmNvbmZpZy5taW5UaW1lICE9PSB1bmRlZmluZWQgfHwgc2VsZi5jb25maWcubWluRGF0ZSAmJiBzZWxmLm1pbkRhdGVIYXNUaW1lICYmIHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqICYmIGNvbXBhcmVEYXRlcyhzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiwgc2VsZi5jb25maWcubWluRGF0ZSwgdHJ1ZSkgPT09IDA7XG4gICAgICAgIHZhciBsaW1pdE1heEhvdXJzID0gc2VsZi5jb25maWcubWF4VGltZSAhPT0gdW5kZWZpbmVkIHx8IHNlbGYuY29uZmlnLm1heERhdGUgJiYgc2VsZi5tYXhEYXRlSGFzVGltZSAmJiBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiAmJiBjb21wYXJlRGF0ZXMoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmosIHNlbGYuY29uZmlnLm1heERhdGUsIHRydWUpID09PSAwO1xuXG4gICAgICAgIGlmIChsaW1pdE1heEhvdXJzKSB7XG4gICAgICAgICAgdmFyIG1heFRpbWUgPSBzZWxmLmNvbmZpZy5tYXhUaW1lICE9PSB1bmRlZmluZWQgPyBzZWxmLmNvbmZpZy5tYXhUaW1lIDogc2VsZi5jb25maWcubWF4RGF0ZTtcbiAgICAgICAgICBob3VycyA9IE1hdGgubWluKGhvdXJzLCBtYXhUaW1lLmdldEhvdXJzKCkpO1xuICAgICAgICAgIGlmIChob3VycyA9PT0gbWF4VGltZS5nZXRIb3VycygpKSBtaW51dGVzID0gTWF0aC5taW4obWludXRlcywgbWF4VGltZS5nZXRNaW51dGVzKCkpO1xuICAgICAgICAgIGlmIChtaW51dGVzID09PSBtYXhUaW1lLmdldE1pbnV0ZXMoKSkgc2Vjb25kcyA9IE1hdGgubWluKHNlY29uZHMsIG1heFRpbWUuZ2V0U2Vjb25kcygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaW1pdE1pbkhvdXJzKSB7XG4gICAgICAgICAgdmFyIG1pblRpbWUgPSBzZWxmLmNvbmZpZy5taW5UaW1lICE9PSB1bmRlZmluZWQgPyBzZWxmLmNvbmZpZy5taW5UaW1lIDogc2VsZi5jb25maWcubWluRGF0ZTtcbiAgICAgICAgICBob3VycyA9IE1hdGgubWF4KGhvdXJzLCBtaW5UaW1lLmdldEhvdXJzKCkpO1xuICAgICAgICAgIGlmIChob3VycyA9PT0gbWluVGltZS5nZXRIb3VycygpKSBtaW51dGVzID0gTWF0aC5tYXgobWludXRlcywgbWluVGltZS5nZXRNaW51dGVzKCkpO1xuICAgICAgICAgIGlmIChtaW51dGVzID09PSBtaW5UaW1lLmdldE1pbnV0ZXMoKSkgc2Vjb25kcyA9IE1hdGgubWF4KHNlY29uZHMsIG1pblRpbWUuZ2V0U2Vjb25kcygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldEhvdXJzKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0SG91cnNGcm9tRGF0ZShkYXRlT2JqKSB7XG4gICAgICAgIHZhciBkYXRlID0gZGF0ZU9iaiB8fCBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iajtcbiAgICAgICAgaWYgKGRhdGUpIHNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSwgZGF0ZS5nZXRNaW51dGVzKCksIGRhdGUuZ2V0U2Vjb25kcygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0SG91cnMoaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpIHtcbiAgICAgICAgaWYgKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iai5zZXRIb3Vycyhob3VycyAlIDI0LCBtaW51dGVzLCBzZWNvbmRzIHx8IDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzZWxmLmhvdXJFbGVtZW50IHx8ICFzZWxmLm1pbnV0ZUVsZW1lbnQgfHwgc2VsZi5pc01vYmlsZSkgcmV0dXJuO1xuICAgICAgICBzZWxmLmhvdXJFbGVtZW50LnZhbHVlID0gcGFkKCFzZWxmLmNvbmZpZy50aW1lXzI0aHIgPyAoMTIgKyBob3VycykgJSAxMiArIDEyICogaW50KGhvdXJzICUgMTIgPT09IDApIDogaG91cnMpO1xuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQudmFsdWUgPSBwYWQobWludXRlcyk7XG4gICAgICAgIGlmIChzZWxmLmFtUE0gIT09IHVuZGVmaW5lZCkgc2VsZi5hbVBNLnRleHRDb250ZW50ID0gc2VsZi5sMTBuLmFtUE1baW50KGhvdXJzID49IDEyKV07XG4gICAgICAgIGlmIChzZWxmLnNlY29uZEVsZW1lbnQgIT09IHVuZGVmaW5lZCkgc2VsZi5zZWNvbmRFbGVtZW50LnZhbHVlID0gcGFkKHNlY29uZHMpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblllYXJJbnB1dChldmVudCkge1xuICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KGV2ZW50LnRhcmdldC52YWx1ZSkgKyAoZXZlbnQuZGVsdGEgfHwgMCk7XG5cbiAgICAgICAgaWYgKHllYXIudG9TdHJpbmcoKS5sZW5ndGggPT09IDQgfHwgZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICBldmVudC50YXJnZXQuYmx1cigpO1xuICAgICAgICAgIGlmICghL1teXFxkXS8udGVzdCh5ZWFyLnRvU3RyaW5nKCkpKSBjaGFuZ2VZZWFyKHllYXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJpbmQoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgQXJyYXkpIHJldHVybiBldmVudC5mb3JFYWNoKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgIHJldHVybiBiaW5kKGVsZW1lbnQsIGV2LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgQXJyYXkpIHJldHVybiBlbGVtZW50LmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGJpbmQoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgc2VsZi5faGFuZGxlcnMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaGFuZGxlcjogaGFuZGxlclxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25DbGljayhoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgZXZ0LndoaWNoID09PSAxICYmIGhhbmRsZXIoZXZ0KTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJpZ2dlckNoYW5nZSgpIHtcbiAgICAgICAgdHJpZ2dlckV2ZW50KFwib25DaGFuZ2VcIik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudHMoKSB7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy53cmFwKSB7XG4gICAgICAgICAgW1wib3BlblwiLCBcImNsb3NlXCIsIFwidG9nZ2xlXCIsIFwiY2xlYXJcIl0uZm9yRWFjaChmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHNlbGYuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtXCIgKyBldnQgKyBcIl1cIiksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICByZXR1cm4gYmluZChlbCwgXCJjbGlja1wiLCBzZWxmW2V2dF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5pc01vYmlsZSkge1xuICAgICAgICAgIHNldHVwTW9iaWxlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlYm91bmNlZFJlc2l6ZSA9IGRlYm91bmNlKG9uUmVzaXplLCA1MCk7XG4gICAgICAgIHNlbGYuX2RlYm91bmNlZENoYW5nZSA9IGRlYm91bmNlKHRyaWdnZXJDaGFuZ2UsIERFQk9VTkNFRF9DSEFOR0VfTVMpO1xuICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyICYmICEvaVBob25lfGlQYWR8aVBvZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIGJpbmQoc2VsZi5kYXlzQ29udGFpbmVyLCBcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIpIG9uTW91c2VPdmVyKGUudGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJpbmQod2luZG93LmRvY3VtZW50LmJvZHksIFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICAgICAgICBpZiAoIXNlbGYuY29uZmlnLnN0YXRpYykgYmluZChzZWxmLl9pbnB1dCwgXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgICAgIGlmICghc2VsZi5jb25maWcuaW5saW5lICYmICFzZWxmLmNvbmZpZy5zdGF0aWMpIGJpbmQod2luZG93LCBcInJlc2l6ZVwiLCBkZWJvdW5jZWRSZXNpemUpO1xuICAgICAgICBpZiAod2luZG93Lm9udG91Y2hzdGFydCAhPT0gdW5kZWZpbmVkKSBiaW5kKHdpbmRvdy5kb2N1bWVudCwgXCJ0b3VjaHN0YXJ0XCIsIGRvY3VtZW50Q2xpY2spO1xuICAgICAgICBiaW5kKHdpbmRvdy5kb2N1bWVudCwgXCJtb3VzZWRvd25cIiwgb25DbGljayhkb2N1bWVudENsaWNrKSk7XG4gICAgICAgIGJpbmQod2luZG93LmRvY3VtZW50LCBcImZvY3VzXCIsIGRvY3VtZW50Q2xpY2ssIHtcbiAgICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5jbGlja09wZW5zID09PSB0cnVlKSB7XG4gICAgICAgICAgYmluZChzZWxmLl9pbnB1dCwgXCJmb2N1c1wiLCBzZWxmLm9wZW4pO1xuICAgICAgICAgIGJpbmQoc2VsZi5faW5wdXQsIFwibW91c2Vkb3duXCIsIG9uQ2xpY2soc2VsZi5vcGVuKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBiaW5kKHNlbGYubW9udGhOYXYsIFwibW91c2Vkb3duXCIsIG9uQ2xpY2sob25Nb250aE5hdkNsaWNrKSk7XG4gICAgICAgICAgYmluZChzZWxmLm1vbnRoTmF2LCBbXCJrZXl1cFwiLCBcImluY3JlbWVudFwiXSwgb25ZZWFySW5wdXQpO1xuICAgICAgICAgIGJpbmQoc2VsZi5kYXlzQ29udGFpbmVyLCBcIm1vdXNlZG93blwiLCBvbkNsaWNrKHNlbGVjdERhdGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLnRpbWVDb250YWluZXIgIT09IHVuZGVmaW5lZCAmJiBzZWxmLm1pbnV0ZUVsZW1lbnQgIT09IHVuZGVmaW5lZCAmJiBzZWxmLmhvdXJFbGVtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgc2VsVGV4dCA9IGZ1bmN0aW9uIHNlbFRleHQoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUudGFyZ2V0LnNlbGVjdCgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBiaW5kKHNlbGYudGltZUNvbnRhaW5lciwgW1wiaW5wdXRcIiwgXCJpbmNyZW1lbnRcIl0sIHVwZGF0ZVRpbWUpO1xuICAgICAgICAgIGJpbmQoc2VsZi50aW1lQ29udGFpbmVyLCBcIm1vdXNlZG93blwiLCBvbkNsaWNrKHRpbWVJbmNyZW1lbnQpKTtcbiAgICAgICAgICBiaW5kKHNlbGYudGltZUNvbnRhaW5lciwgW1wiaW5wdXRcIiwgXCJpbmNyZW1lbnRcIl0sIHNlbGYuX2RlYm91bmNlZENoYW5nZSwge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJpbmQoW3NlbGYuaG91ckVsZW1lbnQsIHNlbGYubWludXRlRWxlbWVudF0sIFtcImZvY3VzXCIsIFwiY2xpY2tcIl0sIHNlbFRleHQpO1xuICAgICAgICAgIGlmIChzZWxmLnNlY29uZEVsZW1lbnQgIT09IHVuZGVmaW5lZCkgYmluZChzZWxmLnNlY29uZEVsZW1lbnQsIFwiZm9jdXNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuc2Vjb25kRWxlbWVudCAmJiBzZWxmLnNlY29uZEVsZW1lbnQuc2VsZWN0KCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoc2VsZi5hbVBNICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJpbmQoc2VsZi5hbVBNLCBcIm1vdXNlZG93blwiLCBvbkNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRpbWUoZSk7XG4gICAgICAgICAgICAgIHRyaWdnZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24ganVtcFRvRGF0ZShqdW1wRGF0ZSkge1xuICAgICAgICB2YXIganVtcFRvID0ganVtcERhdGUgIT09IHVuZGVmaW5lZCA/IHNlbGYucGFyc2VEYXRlKGp1bXBEYXRlKSA6IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqIHx8IChzZWxmLmNvbmZpZy5taW5EYXRlICYmIHNlbGYuY29uZmlnLm1pbkRhdGUgPiBzZWxmLm5vdyA/IHNlbGYuY29uZmlnLm1pbkRhdGUgOiBzZWxmLmNvbmZpZy5tYXhEYXRlICYmIHNlbGYuY29uZmlnLm1heERhdGUgPCBzZWxmLm5vdyA/IHNlbGYuY29uZmlnLm1heERhdGUgOiBzZWxmLm5vdyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoanVtcFRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXIgPSBqdW1wVG8uZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudE1vbnRoID0ganVtcFRvLmdldE1vbnRoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZS5tZXNzYWdlID0gXCJJbnZhbGlkIGRhdGUgc3VwcGxpZWQ6IFwiICsganVtcFRvO1xuICAgICAgICAgIHNlbGYuY29uZmlnLmVycm9ySGFuZGxlcihlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucmVkcmF3KCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVJbmNyZW1lbnQoZSkge1xuICAgICAgICBpZiAofmUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKFwiYXJyb3dcIikpIGluY3JlbWVudE51bUlucHV0KGUsIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImFycm93VXBcIikgPyAxIDogLTEpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbmNyZW1lbnROdW1JbnB1dChlLCBkZWx0YSwgaW5wdXRFbGVtKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlICYmIGUudGFyZ2V0O1xuICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dEVsZW0gfHwgdGFyZ2V0ICYmIHRhcmdldC5wYXJlbnROb2RlICYmIHRhcmdldC5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHZhciBldmVudCA9IGNyZWF0ZUV2ZW50KFwiaW5jcmVtZW50XCIpO1xuICAgICAgICBldmVudC5kZWx0YSA9IGRlbHRhO1xuICAgICAgICBpbnB1dCAmJiBpbnB1dC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGQoKSB7XG4gICAgICAgIHZhciBmcmFnbWVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLWNhbGVuZGFyXCIpO1xuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnRhYkluZGV4ID0gLTE7XG5cbiAgICAgICAgaWYgKCFzZWxmLmNvbmZpZy5ub0NhbGVuZGFyKSB7XG4gICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoYnVpbGRNb250aE5hdigpKTtcbiAgICAgICAgICBzZWxmLmlubmVyQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1pbm5lckNvbnRhaW5lclwiKTtcblxuICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy53ZWVrTnVtYmVycykge1xuICAgICAgICAgICAgdmFyIF9idWlsZFdlZWtzID0gYnVpbGRXZWVrcygpLFxuICAgICAgICAgICAgICAgIHdlZWtXcmFwcGVyID0gX2J1aWxkV2Vla3Mud2Vla1dyYXBwZXIsXG4gICAgICAgICAgICAgICAgd2Vla051bWJlcnMgPSBfYnVpbGRXZWVrcy53ZWVrTnVtYmVycztcblxuICAgICAgICAgICAgc2VsZi5pbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZCh3ZWVrV3JhcHBlcik7XG4gICAgICAgICAgICBzZWxmLndlZWtOdW1iZXJzID0gd2Vla051bWJlcnM7XG4gICAgICAgICAgICBzZWxmLndlZWtXcmFwcGVyID0gd2Vla1dyYXBwZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5yQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1yQ29udGFpbmVyXCIpO1xuICAgICAgICAgIHNlbGYuckNvbnRhaW5lci5hcHBlbmRDaGlsZChidWlsZFdlZWtkYXlzKCkpO1xuXG4gICAgICAgICAgaWYgKCFzZWxmLmRheXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIHNlbGYuZGF5c0NvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItZGF5c1wiKTtcbiAgICAgICAgICAgIHNlbGYuZGF5c0NvbnRhaW5lci50YWJJbmRleCA9IC0xO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJ1aWxkRGF5cygpO1xuICAgICAgICAgIHNlbGYuckNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWxmLmRheXNDb250YWluZXIpO1xuICAgICAgICAgIHNlbGYuaW5uZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VsZi5yQ29udGFpbmVyKTtcbiAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzZWxmLmlubmVyQ29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGVUaW1lKSB7XG4gICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoYnVpbGRUaW1lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJyYW5nZU1vZGVcIiwgc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJhbmltYXRlXCIsIHNlbGYuY29uZmlnLmFuaW1hdGUgPT09IHRydWUpO1xuICAgICAgICB0b2dnbGVDbGFzcyhzZWxmLmNhbGVuZGFyQ29udGFpbmVyLCBcIm11bHRpTW9udGhcIiwgc2VsZi5jb25maWcuc2hvd01vbnRocyA+IDEpO1xuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgdmFyIGN1c3RvbUFwcGVuZCA9IHNlbGYuY29uZmlnLmFwcGVuZFRvICE9PSB1bmRlZmluZWQgJiYgc2VsZi5jb25maWcuYXBwZW5kVG8ubm9kZVR5cGUgIT09IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoc2VsZi5jb25maWcuaW5saW5lIHx8IHNlbGYuY29uZmlnLnN0YXRpYykge1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChzZWxmLmNvbmZpZy5pbmxpbmUgPyBcImlubGluZVwiIDogXCJzdGF0aWNcIik7XG5cbiAgICAgICAgICBpZiAoc2VsZi5jb25maWcuaW5saW5lKSB7XG4gICAgICAgICAgICBpZiAoIWN1c3RvbUFwcGVuZCAmJiBzZWxmLmVsZW1lbnQucGFyZW50Tm9kZSkgc2VsZi5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNlbGYuY2FsZW5kYXJDb250YWluZXIsIHNlbGYuX2lucHV0Lm5leHRTaWJsaW5nKTtlbHNlIGlmIChzZWxmLmNvbmZpZy5hcHBlbmRUbyAhPT0gdW5kZWZpbmVkKSBzZWxmLmNvbmZpZy5hcHBlbmRUby5hcHBlbmRDaGlsZChzZWxmLmNhbGVuZGFyQ29udGFpbmVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VsZi5jb25maWcuc3RhdGljKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3Itd3JhcHBlclwiKTtcbiAgICAgICAgICAgIGlmIChzZWxmLmVsZW1lbnQucGFyZW50Tm9kZSkgc2VsZi5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHNlbGYuZWxlbWVudCk7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHNlbGYuZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoc2VsZi5hbHRJbnB1dCkgd3JhcHBlci5hcHBlbmRDaGlsZChzZWxmLmFsdElucHV0KTtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZi5jYWxlbmRhckNvbnRhaW5lcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzZWxmLmNvbmZpZy5zdGF0aWMgJiYgIXNlbGYuY29uZmlnLmlubGluZSkgKHNlbGYuY29uZmlnLmFwcGVuZFRvICE9PSB1bmRlZmluZWQgPyBzZWxmLmNvbmZpZy5hcHBlbmRUbyA6IHdpbmRvdy5kb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChzZWxmLmNhbGVuZGFyQ29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY3JlYXRlRGF5KGNsYXNzTmFtZSwgZGF0ZSwgZGF5TnVtYmVyLCBpKSB7XG4gICAgICAgIHZhciBkYXRlSXNFbmFibGVkID0gaXNFbmFibGVkKGRhdGUsIHRydWUpLFxuICAgICAgICAgICAgZGF5RWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLWRheSBcIiArIGNsYXNzTmFtZSwgZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGRheUVsZW1lbnQuZGF0ZU9iaiA9IGRhdGU7XG4gICAgICAgIGRheUVsZW1lbnQuJGkgPSBpO1xuICAgICAgICBkYXlFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgc2VsZi5mb3JtYXREYXRlKGRhdGUsIHNlbGYuY29uZmlnLmFyaWFEYXRlRm9ybWF0KSk7XG5cbiAgICAgICAgaWYgKGNvbXBhcmVEYXRlcyhkYXRlLCBzZWxmLm5vdykgPT09IDApIHtcbiAgICAgICAgICBzZWxmLnRvZGF5RGF0ZUVsZW0gPSBkYXlFbGVtZW50O1xuICAgICAgICAgIGRheUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvZGF5XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGVJc0VuYWJsZWQpIHtcbiAgICAgICAgICBkYXlFbGVtZW50LnRhYkluZGV4ID0gLTE7XG5cbiAgICAgICAgICBpZiAoaXNEYXRlU2VsZWN0ZWQoZGF0ZSkpIHtcbiAgICAgICAgICAgIGRheUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZERhdGVFbGVtID0gZGF5RWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIikge1xuICAgICAgICAgICAgICB0b2dnbGVDbGFzcyhkYXlFbGVtZW50LCBcInN0YXJ0UmFuZ2VcIiwgc2VsZi5zZWxlY3RlZERhdGVzWzBdICYmIGNvbXBhcmVEYXRlcyhkYXRlLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0sIHRydWUpID09PSAwKTtcbiAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3MoZGF5RWxlbWVudCwgXCJlbmRSYW5nZVwiLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMV0gJiYgY29tcGFyZURhdGVzKGRhdGUsIHNlbGYuc2VsZWN0ZWREYXRlc1sxXSwgdHJ1ZSkgPT09IDApO1xuICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lID09PSBcIm5leHRNb250aERheVwiKSBkYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpblJhbmdlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIpIHtcbiAgICAgICAgICBpZiAoaXNEYXRlSW5SYW5nZShkYXRlKSAmJiAhaXNEYXRlU2VsZWN0ZWQoZGF0ZSkpIGRheUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImluUmFuZ2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi53ZWVrTnVtYmVycyAmJiBzZWxmLmNvbmZpZy5zaG93TW9udGhzID09PSAxICYmIGNsYXNzTmFtZSAhPT0gXCJwcmV2TW9udGhEYXlcIiAmJiBkYXlOdW1iZXIgJSA3ID09PSAxKSB7XG4gICAgICAgICAgc2VsZi53ZWVrTnVtYmVycy5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgXCI8c3BhbiBjbGFzcz0nZmxhdHBpY2tyLWRheSc+XCIgKyBzZWxmLmNvbmZpZy5nZXRXZWVrKGRhdGUpICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJpZ2dlckV2ZW50KFwib25EYXlDcmVhdGVcIiwgZGF5RWxlbWVudCk7XG4gICAgICAgIHJldHVybiBkYXlFbGVtZW50O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmb2N1c09uRGF5KGN1cnJlbnRJbmQsIG9mZnNldCkge1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gY3VycmVudEluZCAhPT0gdW5kZWZpbmVkID8gY3VycmVudEluZCA6IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuJGk7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IChjdXJyZW50SW5kZXggfHwgMCkgKyBvZmZzZXQgfHwgMCxcbiAgICAgICAgICAgIHRhcmdldE5vZGUgPSBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKHNlbGYuZGF5cy5jaGlsZHJlbiwgZnVuY3Rpb24gKGMsIGkpIHtcbiAgICAgICAgICByZXR1cm4gaSA+PSBuZXdJbmRleCAmJiBjLmNsYXNzTmFtZS5pbmRleE9mKFwiTW9udGhEYXlcIikgPT09IC0xICYmIGlzRW5hYmxlZChjLmRhdGVPYmopO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGFyZ2V0Tm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGFyZ2V0Tm9kZS5mb2N1cygpO1xuICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIpIG9uTW91c2VPdmVyKHRhcmdldE5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJ1aWxkTW9udGhEYXlzKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIHZhciBmaXJzdE9mTW9udGggPSAobmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpIC0gc2VsZi5sMTBuLmZpcnN0RGF5T2ZXZWVrICsgNykgJSA3O1xuICAgICAgICB2YXIgcHJldk1vbnRoRGF5cyA9IHNlbGYudXRpbHMuZ2V0RGF5c0luTW9udGgoKG1vbnRoIC0gMSArIDEyKSAlIDEyKTtcbiAgICAgICAgdmFyIGRheXNJbk1vbnRoID0gc2VsZi51dGlscy5nZXREYXlzSW5Nb250aChtb250aCksXG4gICAgICAgICAgICBkYXlzID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgdmFyIGRheU51bWJlciA9IHByZXZNb250aERheXMgKyAxIC0gZmlyc3RPZk1vbnRoLFxuICAgICAgICAgICAgZGF5SW5kZXggPSAwO1xuXG4gICAgICAgIGZvciAoOyBkYXlOdW1iZXIgPD0gcHJldk1vbnRoRGF5czsgZGF5TnVtYmVyKyssIGRheUluZGV4KyspIHtcbiAgICAgICAgICBkYXlzLmFwcGVuZENoaWxkKGNyZWF0ZURheShcInByZXZNb250aERheVwiLCBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheU51bWJlciksIGRheU51bWJlciwgZGF5SW5kZXgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoZGF5TnVtYmVyID0gMTsgZGF5TnVtYmVyIDw9IGRheXNJbk1vbnRoOyBkYXlOdW1iZXIrKywgZGF5SW5kZXgrKykge1xuICAgICAgICAgIGRheXMuYXBwZW5kQ2hpbGQoY3JlYXRlRGF5KFwiXCIsIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXlOdW1iZXIpLCBkYXlOdW1iZXIsIGRheUluZGV4KSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBkYXlOdW0gPSBkYXlzSW5Nb250aCArIDE7IGRheU51bSA8PSA0MiAtIGZpcnN0T2ZNb250aCAmJiAoc2VsZi5jb25maWcuc2hvd01vbnRocyA9PT0gMSB8fCBkYXlJbmRleCAlIDcgIT09IDApOyBkYXlOdW0rKywgZGF5SW5kZXgrKykge1xuICAgICAgICAgIGRheXMuYXBwZW5kQ2hpbGQoY3JlYXRlRGF5KFwibmV4dE1vbnRoRGF5XCIsIG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgZGF5TnVtICUgZGF5c0luTW9udGgpLCBkYXlOdW0sIGRheUluZGV4KSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF5Q29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImRheUNvbnRhaW5lclwiKTtcbiAgICAgICAgZGF5Q29udGFpbmVyLmFwcGVuZENoaWxkKGRheXMpO1xuICAgICAgICByZXR1cm4gZGF5Q29udGFpbmVyO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBidWlsZERheXMoKSB7XG4gICAgICAgIGlmIChzZWxmLmRheXNDb250YWluZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyTm9kZShzZWxmLmRheXNDb250YWluZXIpO1xuICAgICAgICBpZiAoc2VsZi53ZWVrTnVtYmVycykgY2xlYXJOb2RlKHNlbGYud2Vla051bWJlcnMpO1xuICAgICAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY29uZmlnLnNob3dNb250aHM7IGkrKykge1xuICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoc2VsZi5jdXJyZW50WWVhciwgc2VsZi5jdXJyZW50TW9udGgsIDEpO1xuICAgICAgICAgIGQuc2V0TW9udGgoc2VsZi5jdXJyZW50TW9udGggKyBpKTtcbiAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1aWxkTW9udGhEYXlzKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmRheXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZyk7XG4gICAgICAgIHNlbGYuZGF5cyA9IHNlbGYuZGF5c0NvbnRhaW5lci5maXJzdENoaWxkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBidWlsZE1vbnRoKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1tb250aFwiKTtcbiAgICAgICAgdmFyIG1vbnRoTmF2RnJhZ21lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICB2YXIgbW9udGhFbGVtZW50ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJjdXItbW9udGhcIik7XG4gICAgICAgIG1vbnRoRWxlbWVudC50aXRsZSA9IHNlbGYubDEwbi5zY3JvbGxUaXRsZTtcbiAgICAgICAgdmFyIHllYXJJbnB1dCA9IGNyZWF0ZU51bWJlcklucHV0KFwiY3VyLXllYXJcIiwge1xuICAgICAgICAgIHRhYmluZGV4OiBcIi0xXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB5ZWFyRWxlbWVudCA9IHllYXJJbnB1dC5jaGlsZE5vZGVzWzBdO1xuICAgICAgICB5ZWFyRWxlbWVudC50aXRsZSA9IHNlbGYubDEwbi5zY3JvbGxUaXRsZTtcbiAgICAgICAgeWVhckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBzZWxmLmwxMG4ueWVhckFyaWFMYWJlbCk7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5taW5EYXRlKSB5ZWFyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1pblwiLCBzZWxmLmNvbmZpZy5taW5EYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1heERhdGUpIHtcbiAgICAgICAgICB5ZWFyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1heFwiLCBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgeWVhckVsZW1lbnQuZGlzYWJsZWQgPSAhIXNlbGYuY29uZmlnLm1pbkRhdGUgJiYgc2VsZi5jb25maWcubWluRGF0ZS5nZXRGdWxsWWVhcigpID09PSBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudE1vbnRoID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1jdXJyZW50LW1vbnRoXCIpO1xuICAgICAgICBjdXJyZW50TW9udGguYXBwZW5kQ2hpbGQobW9udGhFbGVtZW50KTtcbiAgICAgICAgY3VycmVudE1vbnRoLmFwcGVuZENoaWxkKHllYXJJbnB1dCk7XG4gICAgICAgIG1vbnRoTmF2RnJhZ21lbnQuYXBwZW5kQ2hpbGQoY3VycmVudE1vbnRoKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1vbnRoTmF2RnJhZ21lbnQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICAgIHllYXJFbGVtZW50OiB5ZWFyRWxlbWVudCxcbiAgICAgICAgICBtb250aEVsZW1lbnQ6IG1vbnRoRWxlbWVudFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBidWlsZE1vbnRoTmF2KCkge1xuICAgICAgICBzZWxmLm1vbnRoTmF2ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1tb250aHNcIik7XG4gICAgICAgIHNlbGYueWVhckVsZW1lbnRzID0gW107XG4gICAgICAgIHNlbGYubW9udGhFbGVtZW50cyA9IFtdO1xuICAgICAgICBzZWxmLnByZXZNb250aE5hdiA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLXByZXYtbW9udGhcIik7XG4gICAgICAgIHNlbGYucHJldk1vbnRoTmF2LmlubmVySFRNTCA9IHNlbGYuY29uZmlnLnByZXZBcnJvdztcbiAgICAgICAgc2VsZi5uZXh0TW9udGhOYXYgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBcImZsYXRwaWNrci1uZXh0LW1vbnRoXCIpO1xuICAgICAgICBzZWxmLm5leHRNb250aE5hdi5pbm5lckhUTUwgPSBzZWxmLmNvbmZpZy5uZXh0QXJyb3c7XG4gICAgICAgIHNlbGYubW9udGhOYXYuYXBwZW5kQ2hpbGQoc2VsZi5wcmV2TW9udGhOYXYpO1xuXG4gICAgICAgIGZvciAodmFyIG0gPSBzZWxmLmNvbmZpZy5zaG93TW9udGhzOyBtLS07KSB7XG4gICAgICAgICAgdmFyIG1vbnRoID0gYnVpbGRNb250aCgpO1xuICAgICAgICAgIHNlbGYueWVhckVsZW1lbnRzLnB1c2gobW9udGgueWVhckVsZW1lbnQpO1xuICAgICAgICAgIHNlbGYubW9udGhFbGVtZW50cy5wdXNoKG1vbnRoLm1vbnRoRWxlbWVudCk7XG4gICAgICAgICAgc2VsZi5tb250aE5hdi5hcHBlbmRDaGlsZChtb250aC5jb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5tb250aE5hdi5hcHBlbmRDaGlsZChzZWxmLm5leHRNb250aE5hdik7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLCBcIl9oaWRlUHJldk1vbnRoQXJyb3dcIiwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19oaWRlUHJldk1vbnRoQXJyb3c7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChib29sKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fX2hpZGVQcmV2TW9udGhBcnJvdyAhPT0gYm9vbCkge1xuICAgICAgICAgICAgICB0b2dnbGVDbGFzcyhzZWxmLnByZXZNb250aE5hdiwgXCJkaXNhYmxlZFwiLCBib29sKTtcbiAgICAgICAgICAgICAgc2VsZi5fX2hpZGVQcmV2TW9udGhBcnJvdyA9IGJvb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsIFwiX2hpZGVOZXh0TW9udGhBcnJvd1wiLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fX2hpZGVOZXh0TW9udGhBcnJvdztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJvb2wpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl9faGlkZU5leHRNb250aEFycm93ICE9PSBib29sKSB7XG4gICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKHNlbGYubmV4dE1vbnRoTmF2LCBcImRpc2FibGVkXCIsIGJvb2wpO1xuICAgICAgICAgICAgICBzZWxmLl9faGlkZU5leHRNb250aEFycm93ID0gYm9vbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLmN1cnJlbnRZZWFyRWxlbWVudCA9IHNlbGYueWVhckVsZW1lbnRzWzBdO1xuICAgICAgICB1cGRhdGVOYXZpZ2F0aW9uQ3VycmVudE1vbnRoKCk7XG4gICAgICAgIHJldHVybiBzZWxmLm1vbnRoTmF2O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBidWlsZFRpbWUoKSB7XG4gICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhhc1RpbWVcIik7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5ub0NhbGVuZGFyKSBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJub0NhbGVuZGFyXCIpO1xuICAgICAgICBzZWxmLnRpbWVDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXRpbWVcIik7XG4gICAgICAgIHNlbGYudGltZUNvbnRhaW5lci50YWJJbmRleCA9IC0xO1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJmbGF0cGlja3ItdGltZS1zZXBhcmF0b3JcIiwgXCI6XCIpO1xuICAgICAgICB2YXIgaG91cklucHV0ID0gY3JlYXRlTnVtYmVySW5wdXQoXCJmbGF0cGlja3ItaG91clwiKTtcbiAgICAgICAgc2VsZi5ob3VyRWxlbWVudCA9IGhvdXJJbnB1dC5jaGlsZE5vZGVzWzBdO1xuICAgICAgICB2YXIgbWludXRlSW5wdXQgPSBjcmVhdGVOdW1iZXJJbnB1dChcImZsYXRwaWNrci1taW51dGVcIik7XG4gICAgICAgIHNlbGYubWludXRlRWxlbWVudCA9IG1pbnV0ZUlucHV0LmNoaWxkTm9kZXNbMF07XG4gICAgICAgIHNlbGYuaG91ckVsZW1lbnQudGFiSW5kZXggPSBzZWxmLm1pbnV0ZUVsZW1lbnQudGFiSW5kZXggPSAtMTtcbiAgICAgICAgc2VsZi5ob3VyRWxlbWVudC52YWx1ZSA9IHBhZChzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiA/IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLmdldEhvdXJzKCkgOiBzZWxmLmNvbmZpZy50aW1lXzI0aHIgPyBzZWxmLmNvbmZpZy5kZWZhdWx0SG91ciA6IG1pbGl0YXJ5MmFtcG0oc2VsZi5jb25maWcuZGVmYXVsdEhvdXIpKTtcbiAgICAgICAgc2VsZi5taW51dGVFbGVtZW50LnZhbHVlID0gcGFkKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID8gc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmouZ2V0TWludXRlcygpIDogc2VsZi5jb25maWcuZGVmYXVsdE1pbnV0ZSk7XG4gICAgICAgIHNlbGYuaG91ckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1zdGVwXCIsIHNlbGYuY29uZmlnLmhvdXJJbmNyZW1lbnQudG9TdHJpbmcoKSk7XG4gICAgICAgIHNlbGYubWludXRlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0ZXBcIiwgc2VsZi5jb25maWcubWludXRlSW5jcmVtZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICBzZWxmLmhvdXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtbWluXCIsIHNlbGYuY29uZmlnLnRpbWVfMjRociA/IFwiMFwiIDogXCIxXCIpO1xuICAgICAgICBzZWxmLmhvdXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtbWF4XCIsIHNlbGYuY29uZmlnLnRpbWVfMjRociA/IFwiMjNcIiA6IFwiMTJcIik7XG4gICAgICAgIHNlbGYubWludXRlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1pblwiLCBcIjBcIik7XG4gICAgICAgIHNlbGYubWludXRlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1heFwiLCBcIjU5XCIpO1xuICAgICAgICBzZWxmLnRpbWVDb250YWluZXIuYXBwZW5kQ2hpbGQoaG91cklucHV0KTtcbiAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcGFyYXRvcik7XG4gICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChtaW51dGVJbnB1dCk7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy50aW1lXzI0aHIpIHNlbGYudGltZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidGltZTI0aHJcIik7XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmVuYWJsZVNlY29uZHMpIHtcbiAgICAgICAgICBzZWxmLnRpbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhhc1NlY29uZHNcIik7XG4gICAgICAgICAgdmFyIHNlY29uZElucHV0ID0gY3JlYXRlTnVtYmVySW5wdXQoXCJmbGF0cGlja3Itc2Vjb25kXCIpO1xuICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudCA9IHNlY29uZElucHV0LmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgc2VsZi5zZWNvbmRFbGVtZW50LnZhbHVlID0gcGFkKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID8gc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmouZ2V0U2Vjb25kcygpIDogc2VsZi5jb25maWcuZGVmYXVsdFNlY29uZHMpO1xuICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0ZXBcIiwgc2VsZi5taW51dGVFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc3RlcFwiKSk7XG4gICAgICAgICAgc2VsZi5zZWNvbmRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtbWluXCIsIHNlbGYubWludXRlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1pblwiKSk7XG4gICAgICAgICAgc2VsZi5zZWNvbmRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtbWF4XCIsIHNlbGYubWludXRlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1heFwiKSk7XG4gICAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLXRpbWUtc2VwYXJhdG9yXCIsIFwiOlwiKSk7XG4gICAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY29uZElucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2VsZi5jb25maWcudGltZV8yNGhyKSB7XG4gICAgICAgICAgc2VsZi5hbVBNID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJmbGF0cGlja3ItYW0tcG1cIiwgc2VsZi5sMTBuLmFtUE1baW50KChzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiA/IHNlbGYuaG91ckVsZW1lbnQudmFsdWUgOiBzZWxmLmNvbmZpZy5kZWZhdWx0SG91cikgPiAxMSldKTtcbiAgICAgICAgICBzZWxmLmFtUE0udGl0bGUgPSBzZWxmLmwxMG4udG9nZ2xlVGl0bGU7XG4gICAgICAgICAgc2VsZi5hbVBNLnRhYkluZGV4ID0gLTE7XG4gICAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGYuYW1QTSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZi50aW1lQ29udGFpbmVyO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBidWlsZFdlZWtkYXlzKCkge1xuICAgICAgICBpZiAoIXNlbGYud2Vla2RheUNvbnRhaW5lcikgc2VsZi53ZWVrZGF5Q29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci13ZWVrZGF5c1wiKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gc2VsZi5jb25maWcuc2hvd01vbnRoczsgaS0tOykge1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXdlZWtkYXljb250YWluZXJcIik7XG4gICAgICAgICAgc2VsZi53ZWVrZGF5Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVXZWVrZGF5cygpO1xuICAgICAgICByZXR1cm4gc2VsZi53ZWVrZGF5Q29udGFpbmVyO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVXZWVrZGF5cygpIHtcbiAgICAgICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gc2VsZi5sMTBuLmZpcnN0RGF5T2ZXZWVrO1xuICAgICAgICB2YXIgd2Vla2RheXMgPSBzZWxmLmwxMG4ud2Vla2RheXMuc2hvcnRoYW5kLmNvbmNhdCgpO1xuXG4gICAgICAgIGlmIChmaXJzdERheU9mV2VlayA+IDAgJiYgZmlyc3REYXlPZldlZWsgPCB3ZWVrZGF5cy5sZW5ndGgpIHtcbiAgICAgICAgICB3ZWVrZGF5cyA9IHdlZWtkYXlzLnNwbGljZShmaXJzdERheU9mV2Vlaywgd2Vla2RheXMubGVuZ3RoKS5jb25jYXQod2Vla2RheXMuc3BsaWNlKDAsIGZpcnN0RGF5T2ZXZWVrKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gc2VsZi5jb25maWcuc2hvd01vbnRoczsgaS0tOykge1xuICAgICAgICAgIHNlbGYud2Vla2RheUNvbnRhaW5lci5jaGlsZHJlbltpXS5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDxzcGFuIGNsYXNzPWZsYXRwaWNrci13ZWVrZGF5PlxcbiAgICAgICAgXCIgKyB3ZWVrZGF5cy5qb2luKFwiPC9zcGFuPjxzcGFuIGNsYXNzPWZsYXRwaWNrci13ZWVrZGF5PlwiKSArIFwiXFxuICAgICAgPC9zcGFuPlxcbiAgICAgIFwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJ1aWxkV2Vla3MoKSB7XG4gICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhhc1dlZWtzXCIpO1xuICAgICAgICB2YXIgd2Vla1dyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXdlZWt3cmFwcGVyXCIpO1xuICAgICAgICB3ZWVrV3JhcHBlci5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KFwic3BhblwiLCBcImZsYXRwaWNrci13ZWVrZGF5XCIsIHNlbGYubDEwbi53ZWVrQWJicmV2aWF0aW9uKSk7XG4gICAgICAgIHZhciB3ZWVrTnVtYmVycyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3Itd2Vla3NcIik7XG4gICAgICAgIHdlZWtXcmFwcGVyLmFwcGVuZENoaWxkKHdlZWtOdW1iZXJzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3ZWVrV3JhcHBlcjogd2Vla1dyYXBwZXIsXG4gICAgICAgICAgd2Vla051bWJlcnM6IHdlZWtOdW1iZXJzXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoYW5nZU1vbnRoKHZhbHVlLCBpc19vZmZzZXQsIGZyb21fa2V5Ym9hcmQpIHtcbiAgICAgICAgaWYgKGlzX29mZnNldCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgaXNfb2Zmc2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tX2tleWJvYXJkID09PSB2b2lkIDApIHtcbiAgICAgICAgICBmcm9tX2tleWJvYXJkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVsdGEgPSBpc19vZmZzZXQgPyB2YWx1ZSA6IHZhbHVlIC0gc2VsZi5jdXJyZW50TW9udGg7XG4gICAgICAgIGlmIChkZWx0YSA8IDAgJiYgc2VsZi5faGlkZVByZXZNb250aEFycm93ID09PSB0cnVlIHx8IGRlbHRhID4gMCAmJiBzZWxmLl9oaWRlTmV4dE1vbnRoQXJyb3cgPT09IHRydWUpIHJldHVybjtcbiAgICAgICAgc2VsZi5jdXJyZW50TW9udGggKz0gZGVsdGE7XG5cbiAgICAgICAgaWYgKHNlbGYuY3VycmVudE1vbnRoIDwgMCB8fCBzZWxmLmN1cnJlbnRNb250aCA+IDExKSB7XG4gICAgICAgICAgc2VsZi5jdXJyZW50WWVhciArPSBzZWxmLmN1cnJlbnRNb250aCA+IDExID8gMSA6IC0xO1xuICAgICAgICAgIHNlbGYuY3VycmVudE1vbnRoID0gKHNlbGYuY3VycmVudE1vbnRoICsgMTIpICUgMTI7XG4gICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25ZZWFyQ2hhbmdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVpbGREYXlzKCk7XG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uTW9udGhDaGFuZ2VcIik7XG4gICAgICAgIHVwZGF0ZU5hdmlnYXRpb25DdXJyZW50TW9udGgoKTtcblxuICAgICAgICBpZiAoZnJvbV9rZXlib2FyZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGZvY3VzT25EYXkodW5kZWZpbmVkLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhcih0cmlnZ2VyQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2VFdmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdHJpZ2dlckNoYW5nZUV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICBpZiAoc2VsZi5hbHRJbnB1dCAhPT0gdW5kZWZpbmVkKSBzZWxmLmFsdElucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgaWYgKHNlbGYubW9iaWxlSW5wdXQgIT09IHVuZGVmaW5lZCkgc2VsZi5tb2JpbGVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlcyA9IFtdO1xuICAgICAgICBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiA9IHVuZGVmaW5lZDtcbiAgICAgICAgc2VsZi5zaG93VGltZUlucHV0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmVuYWJsZVRpbWUgPT09IHRydWUpIHtcbiAgICAgICAgICBpZiAoc2VsZi5jb25maWcubWluRGF0ZSAhPT0gdW5kZWZpbmVkKSBzZXRIb3Vyc0Zyb21EYXRlKHNlbGYuY29uZmlnLm1pbkRhdGUpO2Vsc2Ugc2V0SG91cnMoc2VsZi5jb25maWcuZGVmYXVsdEhvdXIsIHNlbGYuY29uZmlnLmRlZmF1bHRNaW51dGUsIHNlbGYuY29uZmlnLmRlZmF1bHRTZWNvbmRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucmVkcmF3KCk7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlRXZlbnQpIHRyaWdnZXJFdmVudChcIm9uQ2hhbmdlXCIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgc2VsZi5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXNlbGYuaXNNb2JpbGUpIHtcbiAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xuXG4gICAgICAgICAgc2VsZi5faW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uQ2xvc2VcIik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZyAhPT0gdW5kZWZpbmVkKSB0cmlnZ2VyRXZlbnQoXCJvbkRlc3Ryb3lcIik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHNlbGYuX2hhbmRsZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgIHZhciBoID0gc2VsZi5faGFuZGxlcnNbaV07XG4gICAgICAgICAgaC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoaC5ldmVudCwgaC5oYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuX2hhbmRsZXJzID0gW107XG5cbiAgICAgICAgaWYgKHNlbGYubW9iaWxlSW5wdXQpIHtcbiAgICAgICAgICBpZiAoc2VsZi5tb2JpbGVJbnB1dC5wYXJlbnROb2RlKSBzZWxmLm1vYmlsZUlucHV0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsZi5tb2JpbGVJbnB1dCk7XG4gICAgICAgICAgc2VsZi5tb2JpbGVJbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmNhbGVuZGFyQ29udGFpbmVyICYmIHNlbGYuY2FsZW5kYXJDb250YWluZXIucGFyZW50Tm9kZSkgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbGYuY2FsZW5kYXJDb250YWluZXIpO1xuXG4gICAgICAgIGlmIChzZWxmLmFsdElucHV0KSB7XG4gICAgICAgICAgc2VsZi5pbnB1dC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgICAgaWYgKHNlbGYuYWx0SW5wdXQucGFyZW50Tm9kZSkgc2VsZi5hbHRJbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbGYuYWx0SW5wdXQpO1xuICAgICAgICAgIGRlbGV0ZSBzZWxmLmFsdElucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuaW5wdXQpIHtcbiAgICAgICAgICBzZWxmLmlucHV0LnR5cGUgPSBzZWxmLmlucHV0Ll90eXBlO1xuICAgICAgICAgIHNlbGYuaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImZsYXRwaWNrci1pbnB1dFwiKTtcbiAgICAgICAgICBzZWxmLmlucHV0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpO1xuICAgICAgICAgIHNlbGYuaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgW1wiX3Nob3dUaW1lSW5wdXRcIiwgXCJsYXRlc3RTZWxlY3RlZERhdGVPYmpcIiwgXCJfaGlkZU5leHRNb250aEFycm93XCIsIFwiX2hpZGVQcmV2TW9udGhBcnJvd1wiLCBcIl9faGlkZU5leHRNb250aEFycm93XCIsIFwiX19oaWRlUHJldk1vbnRoQXJyb3dcIiwgXCJpc01vYmlsZVwiLCBcImlzT3BlblwiLCBcInNlbGVjdGVkRGF0ZUVsZW1cIiwgXCJtaW5EYXRlSGFzVGltZVwiLCBcIm1heERhdGVIYXNUaW1lXCIsIFwiZGF5c1wiLCBcImRheXNDb250YWluZXJcIiwgXCJfaW5wdXRcIiwgXCJfcG9zaXRpb25FbGVtZW50XCIsIFwiaW5uZXJDb250YWluZXJcIiwgXCJyQ29udGFpbmVyXCIsIFwibW9udGhOYXZcIiwgXCJ0b2RheURhdGVFbGVtXCIsIFwiY2FsZW5kYXJDb250YWluZXJcIiwgXCJ3ZWVrZGF5Q29udGFpbmVyXCIsIFwicHJldk1vbnRoTmF2XCIsIFwibmV4dE1vbnRoTmF2XCIsIFwiY3VycmVudE1vbnRoRWxlbWVudFwiLCBcImN1cnJlbnRZZWFyRWxlbWVudFwiLCBcIm5hdmlnYXRpb25DdXJyZW50TW9udGhcIiwgXCJzZWxlY3RlZERhdGVFbGVtXCIsIFwiY29uZmlnXCJdLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVsZXRlIHNlbGZba107XG4gICAgICAgICAgfSBjYXRjaCAoXykge31cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGlzQ2FsZW5kYXJFbGVtKGVsZW0pIHtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmFwcGVuZFRvICYmIHNlbGYuY29uZmlnLmFwcGVuZFRvLmNvbnRhaW5zKGVsZW0pKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2FsZW5kYXJDb250YWluZXIuY29udGFpbnMoZWxlbSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRvY3VtZW50Q2xpY2soZSkge1xuICAgICAgICBpZiAoc2VsZi5pc09wZW4gJiYgIXNlbGYuY29uZmlnLmlubGluZSkge1xuICAgICAgICAgIHZhciBpc0NhbGVuZGFyRWxlbWVudCA9IGlzQ2FsZW5kYXJFbGVtKGUudGFyZ2V0KTtcbiAgICAgICAgICB2YXIgaXNJbnB1dCA9IGUudGFyZ2V0ID09PSBzZWxmLmlucHV0IHx8IGUudGFyZ2V0ID09PSBzZWxmLmFsdElucHV0IHx8IHNlbGYuZWxlbWVudC5jb250YWlucyhlLnRhcmdldCkgfHwgZS5wYXRoICYmIGUucGF0aC5pbmRleE9mICYmICh+ZS5wYXRoLmluZGV4T2Yoc2VsZi5pbnB1dCkgfHwgfmUucGF0aC5pbmRleE9mKHNlbGYuYWx0SW5wdXQpKTtcbiAgICAgICAgICB2YXIgbG9zdEZvY3VzID0gZS50eXBlID09PSBcImJsdXJcIiA/IGlzSW5wdXQgJiYgZS5yZWxhdGVkVGFyZ2V0ICYmICFpc0NhbGVuZGFyRWxlbShlLnJlbGF0ZWRUYXJnZXQpIDogIWlzSW5wdXQgJiYgIWlzQ2FsZW5kYXJFbGVtZW50O1xuICAgICAgICAgIHZhciBpc0lnbm9yZWQgPSAhc2VsZi5jb25maWcuaWdub3JlZEZvY3VzRWxlbWVudHMuc29tZShmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0uY29udGFpbnMoZS50YXJnZXQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGxvc3RGb2N1cyAmJiBpc0lnbm9yZWQpIHtcbiAgICAgICAgICAgIHNlbGYuY2xvc2UoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIiAmJiBzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIHNlbGYuY2xlYXIoZmFsc2UpO1xuICAgICAgICAgICAgICBzZWxmLnJlZHJhdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VZZWFyKG5ld1llYXIpIHtcbiAgICAgICAgaWYgKCFuZXdZZWFyIHx8IHNlbGYuY29uZmlnLm1pbkRhdGUgJiYgbmV3WWVhciA8IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSB8fCBzZWxmLmNvbmZpZy5tYXhEYXRlICYmIG5ld1llYXIgPiBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkpIHJldHVybjtcbiAgICAgICAgdmFyIG5ld1llYXJOdW0gPSBuZXdZZWFyLFxuICAgICAgICAgICAgaXNOZXdZZWFyID0gc2VsZi5jdXJyZW50WWVhciAhPT0gbmV3WWVhck51bTtcbiAgICAgICAgc2VsZi5jdXJyZW50WWVhciA9IG5ld1llYXJOdW0gfHwgc2VsZi5jdXJyZW50WWVhcjtcblxuICAgICAgICBpZiAoc2VsZi5jb25maWcubWF4RGF0ZSAmJiBzZWxmLmN1cnJlbnRZZWFyID09PSBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IE1hdGgubWluKHNlbGYuY29uZmlnLm1heERhdGUuZ2V0TW9udGgoKSwgc2VsZi5jdXJyZW50TW9udGgpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY29uZmlnLm1pbkRhdGUgJiYgc2VsZi5jdXJyZW50WWVhciA9PT0gc2VsZi5jb25maWcubWluRGF0ZS5nZXRGdWxsWWVhcigpKSB7XG4gICAgICAgICAgc2VsZi5jdXJyZW50TW9udGggPSBNYXRoLm1heChzZWxmLmNvbmZpZy5taW5EYXRlLmdldE1vbnRoKCksIHNlbGYuY3VycmVudE1vbnRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc05ld1llYXIpIHtcbiAgICAgICAgICBzZWxmLnJlZHJhdygpO1xuICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uWWVhckNoYW5nZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0VuYWJsZWQoZGF0ZSwgdGltZWxlc3MpIHtcbiAgICAgICAgaWYgKHRpbWVsZXNzID09PSB2b2lkIDApIHtcbiAgICAgICAgICB0aW1lbGVzcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0ZVRvQ2hlY2sgPSBzZWxmLnBhcnNlRGF0ZShkYXRlLCB1bmRlZmluZWQsIHRpbWVsZXNzKTtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1pbkRhdGUgJiYgZGF0ZVRvQ2hlY2sgJiYgY29tcGFyZURhdGVzKGRhdGVUb0NoZWNrLCBzZWxmLmNvbmZpZy5taW5EYXRlLCB0aW1lbGVzcyAhPT0gdW5kZWZpbmVkID8gdGltZWxlc3MgOiAhc2VsZi5taW5EYXRlSGFzVGltZSkgPCAwIHx8IHNlbGYuY29uZmlnLm1heERhdGUgJiYgZGF0ZVRvQ2hlY2sgJiYgY29tcGFyZURhdGVzKGRhdGVUb0NoZWNrLCBzZWxmLmNvbmZpZy5tYXhEYXRlLCB0aW1lbGVzcyAhPT0gdW5kZWZpbmVkID8gdGltZWxlc3MgOiAhc2VsZi5tYXhEYXRlSGFzVGltZSkgPiAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGUubGVuZ3RoID09PSAwICYmIHNlbGYuY29uZmlnLmRpc2FibGUubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGRhdGVUb0NoZWNrID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGJvb2wgPSBzZWxmLmNvbmZpZy5lbmFibGUubGVuZ3RoID4gMCxcbiAgICAgICAgICAgIGFycmF5ID0gYm9vbCA/IHNlbGYuY29uZmlnLmVuYWJsZSA6IHNlbGYuY29uZmlnLmRpc2FibGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGQ7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGQgPSBhcnJheVtpXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGQgPT09IFwiZnVuY3Rpb25cIiAmJiBkKGRhdGVUb0NoZWNrKSkgcmV0dXJuIGJvb2w7ZWxzZSBpZiAoZCBpbnN0YW5jZW9mIERhdGUgJiYgZGF0ZVRvQ2hlY2sgIT09IHVuZGVmaW5lZCAmJiBkLmdldFRpbWUoKSA9PT0gZGF0ZVRvQ2hlY2suZ2V0VGltZSgpKSByZXR1cm4gYm9vbDtlbHNlIGlmICh0eXBlb2YgZCA9PT0gXCJzdHJpbmdcIiAmJiBkYXRlVG9DaGVjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VkID0gc2VsZi5wYXJzZURhdGUoZCwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWQgJiYgcGFyc2VkLmdldFRpbWUoKSA9PT0gZGF0ZVRvQ2hlY2suZ2V0VGltZSgpID8gYm9vbCA6ICFib29sO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGQgPT09IFwib2JqZWN0XCIgJiYgZGF0ZVRvQ2hlY2sgIT09IHVuZGVmaW5lZCAmJiBkLmZyb20gJiYgZC50byAmJiBkYXRlVG9DaGVjay5nZXRUaW1lKCkgPj0gZC5mcm9tLmdldFRpbWUoKSAmJiBkYXRlVG9DaGVjay5nZXRUaW1lKCkgPD0gZC50by5nZXRUaW1lKCkpIHJldHVybiBib29sO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICFib29sO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICB2YXIgaXNJbnB1dCA9IGUudGFyZ2V0ID09PSBzZWxmLl9pbnB1dDtcbiAgICAgICAgdmFyIGNhbGVuZGFyRWxlbSA9IGlzQ2FsZW5kYXJFbGVtKGUudGFyZ2V0KTtcbiAgICAgICAgdmFyIGFsbG93SW5wdXQgPSBzZWxmLmNvbmZpZy5hbGxvd0lucHV0O1xuICAgICAgICB2YXIgYWxsb3dLZXlkb3duID0gc2VsZi5pc09wZW4gJiYgKCFhbGxvd0lucHV0IHx8ICFpc0lucHV0KTtcbiAgICAgICAgdmFyIGFsbG93SW5saW5lS2V5ZG93biA9IHNlbGYuY29uZmlnLmlubGluZSAmJiBpc0lucHV0ICYmICFhbGxvd0lucHV0O1xuXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzICYmIGlzSW5wdXQpIHtcbiAgICAgICAgICBpZiAoYWxsb3dJbnB1dCkge1xuICAgICAgICAgICAgc2VsZi5zZXREYXRlKHNlbGYuX2lucHV0LnZhbHVlLCB0cnVlLCBlLnRhcmdldCA9PT0gc2VsZi5hbHRJbnB1dCA/IHNlbGYuY29uZmlnLmFsdEZvcm1hdCA6IHNlbGYuY29uZmlnLmRhdGVGb3JtYXQpO1xuICAgICAgICAgICAgcmV0dXJuIGUudGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICB9IGVsc2Ugc2VsZi5vcGVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsZW5kYXJFbGVtIHx8IGFsbG93S2V5ZG93biB8fCBhbGxvd0lubGluZUtleWRvd24pIHtcbiAgICAgICAgICB2YXIgaXNUaW1lT2JqID0gISFzZWxmLnRpbWVDb250YWluZXIgJiYgc2VsZi50aW1lQ29udGFpbmVyLmNvbnRhaW5zKGUudGFyZ2V0KTtcblxuICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBpZiAoaXNUaW1lT2JqKSB1cGRhdGVWYWx1ZSgpO2Vsc2Ugc2VsZWN0RGF0ZShlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZm9jdXNBbmRDbG9zZSgpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgY2FzZSA0NjpcbiAgICAgICAgICAgICAgaWYgKGlzSW5wdXQgJiYgIXNlbGYuY29uZmlnLmFsbG93SW5wdXQpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5jbGVhcigpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICBpZiAoIWlzVGltZU9iaikge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmRheXNDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfZGVsdGEgPSBpc0lucHV0ID8gMCA6IGUua2V5Q29kZSA9PT0gMzkgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghZS5jdHJsS2V5KSBmb2N1c09uRGF5KHVuZGVmaW5lZCwgX2RlbHRhKTtlbHNlIGNoYW5nZU1vbnRoKF9kZWx0YSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuaG91ckVsZW1lbnQpIHNlbGYuaG91ckVsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZS5rZXlDb2RlID09PSA0MCA/IDEgOiAtMTtcblxuICAgICAgICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyICYmIGUudGFyZ2V0LiRpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICBjaGFuZ2VZZWFyKHNlbGYuY3VycmVudFllYXIgLSBkZWx0YSk7XG4gICAgICAgICAgICAgICAgICBmb2N1c09uRGF5KGUudGFyZ2V0LiRpLCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc1RpbWVPYmopIGZvY3VzT25EYXkoZS50YXJnZXQuJGksIGRlbHRhICogNyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb25maWcuZW5hYmxlVGltZSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNUaW1lT2JqICYmIHNlbGYuaG91ckVsZW1lbnQpIHNlbGYuaG91ckVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVUaW1lKGUpO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fZGVib3VuY2VkQ2hhbmdlKCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IHNlbGYuaG91ckVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5taW51dGVFbGVtZW50LnNlbGVjdCgpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzZWxmLm1pbnV0ZUVsZW1lbnQgJiYgKHNlbGYuc2Vjb25kRWxlbWVudCB8fCBzZWxmLmFtUE0pKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNlY29uZEVsZW1lbnQgIT09IHVuZGVmaW5lZCkgc2VsZi5zZWNvbmRFbGVtZW50LmZvY3VzKCk7ZWxzZSBpZiAoc2VsZi5hbVBNICE9PSB1bmRlZmluZWQpIHNlbGYuYW1QTS5mb2N1cygpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzZWxmLnNlY29uZEVsZW1lbnQgJiYgc2VsZi5hbVBNKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNlbGYuYW1QTS5mb2N1cygpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2Ugc2VsZi5sMTBuLmFtUE1bMF0uY2hhckF0KDApOlxuICAgICAgICAgICAgY2FzZSBzZWxmLmwxMG4uYW1QTVswXS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKTpcbiAgICAgICAgICAgICAgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkICYmIGUudGFyZ2V0ID09PSBzZWxmLmFtUE0pIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFtUE0udGV4dENvbnRlbnQgPSBzZWxmLmwxMG4uYW1QTVswXTtcbiAgICAgICAgICAgICAgICBzZXRIb3Vyc0Zyb21JbnB1dHMoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2Ugc2VsZi5sMTBuLmFtUE1bMV0uY2hhckF0KDApOlxuICAgICAgICAgICAgY2FzZSBzZWxmLmwxMG4uYW1QTVsxXS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKTpcbiAgICAgICAgICAgICAgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkICYmIGUudGFyZ2V0ID09PSBzZWxmLmFtUE0pIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFtUE0udGV4dENvbnRlbnQgPSBzZWxmLmwxMG4uYW1QTVsxXTtcbiAgICAgICAgICAgICAgICBzZXRIb3Vyc0Zyb21JbnB1dHMoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uS2V5RG93blwiLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbk1vdXNlT3ZlcihlbGVtKSB7XG4gICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoICE9PSAxIHx8ICFlbGVtLmNsYXNzTGlzdC5jb250YWlucyhcImZsYXRwaWNrci1kYXlcIikgfHwgZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlZFwiKSkgcmV0dXJuO1xuICAgICAgICB2YXIgaG92ZXJEYXRlID0gZWxlbS5kYXRlT2JqLmdldFRpbWUoKSxcbiAgICAgICAgICAgIGluaXRpYWxEYXRlID0gc2VsZi5wYXJzZURhdGUoc2VsZi5zZWxlY3RlZERhdGVzWzBdLCB1bmRlZmluZWQsIHRydWUpLmdldFRpbWUoKSxcbiAgICAgICAgICAgIHJhbmdlU3RhcnREYXRlID0gTWF0aC5taW4oaG92ZXJEYXRlLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0uZ2V0VGltZSgpKSxcbiAgICAgICAgICAgIHJhbmdlRW5kRGF0ZSA9IE1hdGgubWF4KGhvdmVyRGF0ZSwgc2VsZi5zZWxlY3RlZERhdGVzWzBdLmdldFRpbWUoKSk7XG4gICAgICAgIHZhciBtb250aHMgPSBzZWxmLmRheXNDb250YWluZXIuY2hpbGRyZW4sXG4gICAgICAgICAgICBmaXJzdERheSA9IG1vbnRoc1swXS5jaGlsZHJlblswXS5kYXRlT2JqLmdldFRpbWUoKSxcbiAgICAgICAgICAgIGxhc3REYXkgPSBtb250aHNbbW9udGhzLmxlbmd0aCAtIDFdLmxhc3RDaGlsZC5kYXRlT2JqLmdldFRpbWUoKTtcbiAgICAgICAgdmFyIGNvbnRhaW5zRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIG1pblJhbmdlID0gMCxcbiAgICAgICAgICAgIG1heFJhbmdlID0gMDtcblxuICAgICAgICBmb3IgKHZhciB0ID0gZmlyc3REYXk7IHQgPCBsYXN0RGF5OyB0ICs9IGR1cmF0aW9uLkRBWSkge1xuICAgICAgICAgIGlmICghaXNFbmFibGVkKG5ldyBEYXRlKHQpLCB0cnVlKSkge1xuICAgICAgICAgICAgY29udGFpbnNEaXNhYmxlZCA9IGNvbnRhaW5zRGlzYWJsZWQgfHwgdCA+IHJhbmdlU3RhcnREYXRlICYmIHQgPCByYW5nZUVuZERhdGU7XG4gICAgICAgICAgICBpZiAodCA8IGluaXRpYWxEYXRlICYmICghbWluUmFuZ2UgfHwgdCA+IG1pblJhbmdlKSkgbWluUmFuZ2UgPSB0O2Vsc2UgaWYgKHQgPiBpbml0aWFsRGF0ZSAmJiAoIW1heFJhbmdlIHx8IHQgPCBtYXhSYW5nZSkpIG1heFJhbmdlID0gdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHNlbGYuY29uZmlnLnNob3dNb250aHM7IG0rKykge1xuICAgICAgICAgIHZhciBtb250aCA9IHNlbGYuZGF5c0NvbnRhaW5lci5jaGlsZHJlblttXTtcbiAgICAgICAgICB2YXIgcHJldk1vbnRoID0gc2VsZi5kYXlzQ29udGFpbmVyLmNoaWxkcmVuW20gLSAxXTtcblxuICAgICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGksIGwpIHtcbiAgICAgICAgICAgIHZhciBkYXlFbGVtID0gbW9udGguY2hpbGRyZW5baV0sXG4gICAgICAgICAgICAgICAgZGF0ZSA9IGRheUVsZW0uZGF0ZU9iajtcbiAgICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHZhciBvdXRPZlJhbmdlID0gbWluUmFuZ2UgPiAwICYmIHRpbWVzdGFtcCA8IG1pblJhbmdlIHx8IG1heFJhbmdlID4gMCAmJiB0aW1lc3RhbXAgPiBtYXhSYW5nZTtcblxuICAgICAgICAgICAgaWYgKG91dE9mUmFuZ2UpIHtcbiAgICAgICAgICAgICAgZGF5RWxlbS5jbGFzc0xpc3QuYWRkKFwibm90QWxsb3dlZFwiKTtcbiAgICAgICAgICAgICAgW1wiaW5SYW5nZVwiLCBcInN0YXJ0UmFuZ2VcIiwgXCJlbmRSYW5nZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgZGF5RWxlbS5jbGFzc0xpc3QucmVtb3ZlKGMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGFpbnNEaXNhYmxlZCAmJiAhb3V0T2ZSYW5nZSkgcmV0dXJuIFwiY29udGludWVcIjtcblxuICAgICAgICAgICAgW1wic3RhcnRSYW5nZVwiLCBcImluUmFuZ2VcIiwgXCJlbmRSYW5nZVwiLCBcIm5vdEFsbG93ZWRcIl0uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICBkYXlFbGVtLmNsYXNzTGlzdC5yZW1vdmUoYyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChob3ZlckRhdGUgPCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0uZ2V0VGltZSgpID8gXCJzdGFydFJhbmdlXCIgOiBcImVuZFJhbmdlXCIpO1xuXG4gICAgICAgICAgICBpZiAobW9udGguY29udGFpbnMoZWxlbSkgfHwgIShtID4gMCAmJiBwcmV2TW9udGggJiYgcHJldk1vbnRoLmxhc3RDaGlsZC5kYXRlT2JqLmdldFRpbWUoKSA+PSB0aW1lc3RhbXApKSB7XG4gICAgICAgICAgICAgIGlmIChpbml0aWFsRGF0ZSA8IGhvdmVyRGF0ZSAmJiB0aW1lc3RhbXAgPT09IGluaXRpYWxEYXRlKSBkYXlFbGVtLmNsYXNzTGlzdC5hZGQoXCJzdGFydFJhbmdlXCIpO2Vsc2UgaWYgKGluaXRpYWxEYXRlID4gaG92ZXJEYXRlICYmIHRpbWVzdGFtcCA9PT0gaW5pdGlhbERhdGUpIGRheUVsZW0uY2xhc3NMaXN0LmFkZChcImVuZFJhbmdlXCIpO1xuICAgICAgICAgICAgICBpZiAodGltZXN0YW1wID49IG1pblJhbmdlICYmIChtYXhSYW5nZSA9PT0gMCB8fCB0aW1lc3RhbXAgPD0gbWF4UmFuZ2UpICYmIGlzQmV0d2Vlbih0aW1lc3RhbXAsIGluaXRpYWxEYXRlLCBob3ZlckRhdGUpKSBkYXlFbGVtLmNsYXNzTGlzdC5hZGQoXCJpblJhbmdlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG1vbnRoLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChpLCBsKTtcblxuICAgICAgICAgICAgaWYgKF9yZXQgPT09IFwiY29udGludWVcIikgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgICBpZiAoc2VsZi5pc09wZW4gJiYgIXNlbGYuY29uZmlnLnN0YXRpYyAmJiAhc2VsZi5jb25maWcuaW5saW5lKSBwb3NpdGlvbkNhbGVuZGFyKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9wZW4oZSwgcG9zaXRpb25FbGVtZW50KSB7XG4gICAgICAgIGlmIChwb3NpdGlvbkVsZW1lbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgIHBvc2l0aW9uRWxlbWVudCA9IHNlbGYuX2lucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuaXNNb2JpbGUgPT09IHRydWUpIHtcbiAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS50YXJnZXQgJiYgZS50YXJnZXQuYmx1cigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5tb2JpbGVJbnB1dCAhPT0gdW5kZWZpbmVkICYmIHNlbGYubW9iaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbk9wZW5cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuX2lucHV0LmRpc2FibGVkIHx8IHNlbGYuY29uZmlnLmlubGluZSkgcmV0dXJuO1xuICAgICAgICB2YXIgd2FzT3BlbiA9IHNlbGYuaXNPcGVuO1xuICAgICAgICBzZWxmLmlzT3BlbiA9IHRydWU7XG5cbiAgICAgICAgaWYgKCF3YXNPcGVuKSB7XG4gICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwib3BlblwiKTtcblxuICAgICAgICAgIHNlbGYuX2lucHV0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG5cbiAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbk9wZW5cIik7XG4gICAgICAgICAgcG9zaXRpb25DYWxlbmRhcihwb3NpdGlvbkVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmVuYWJsZVRpbWUgPT09IHRydWUgJiYgc2VsZi5jb25maWcubm9DYWxlbmRhciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzZWxmLnNldERhdGUoc2VsZi5jb25maWcubWluRGF0ZSAhPT0gdW5kZWZpbmVkID8gbmV3IERhdGUoc2VsZi5jb25maWcubWluRGF0ZS5nZXRUaW1lKCkpIDogbmV3IERhdGUoKS5zZXRIb3VycyhzZWxmLmNvbmZpZy5kZWZhdWx0SG91ciwgc2VsZi5jb25maWcuZGVmYXVsdE1pbnV0ZSwgc2VsZi5jb25maWcuZGVmYXVsdFNlY29uZHMsIDApLCBmYWxzZSk7XG4gICAgICAgICAgICBzZXRIb3Vyc0Zyb21JbnB1dHMoKTtcbiAgICAgICAgICAgIHVwZGF0ZVZhbHVlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5ob3VyRWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWluTWF4RGF0ZVNldHRlcih0eXBlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgIHZhciBkYXRlT2JqID0gc2VsZi5jb25maWdbXCJfXCIgKyB0eXBlICsgXCJEYXRlXCJdID0gc2VsZi5wYXJzZURhdGUoZGF0ZSwgc2VsZi5jb25maWcuZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgdmFyIGludmVyc2VEYXRlT2JqID0gc2VsZi5jb25maWdbXCJfXCIgKyAodHlwZSA9PT0gXCJtaW5cIiA/IFwibWF4XCIgOiBcIm1pblwiKSArIFwiRGF0ZVwiXTtcblxuICAgICAgICAgIGlmIChkYXRlT2JqICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNlbGZbdHlwZSA9PT0gXCJtaW5cIiA/IFwibWluRGF0ZUhhc1RpbWVcIiA6IFwibWF4RGF0ZUhhc1RpbWVcIl0gPSBkYXRlT2JqLmdldEhvdXJzKCkgPiAwIHx8IGRhdGVPYmouZ2V0TWludXRlcygpID4gMCB8fCBkYXRlT2JqLmdldFNlY29uZHMoKSA+IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcykge1xuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZERhdGVzID0gc2VsZi5zZWxlY3RlZERhdGVzLmZpbHRlcihmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICByZXR1cm4gaXNFbmFibGVkKGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggJiYgdHlwZSA9PT0gXCJtaW5cIikgc2V0SG91cnNGcm9tRGF0ZShkYXRlT2JqKTtcbiAgICAgICAgICAgIHVwZGF0ZVZhbHVlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuZGF5c0NvbnRhaW5lcikge1xuICAgICAgICAgICAgcmVkcmF3KCk7XG4gICAgICAgICAgICBpZiAoZGF0ZU9iaiAhPT0gdW5kZWZpbmVkKSBzZWxmLmN1cnJlbnRZZWFyRWxlbWVudFt0eXBlXSA9IGRhdGVPYmouZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO2Vsc2Ugc2VsZi5jdXJyZW50WWVhckVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHR5cGUpO1xuICAgICAgICAgICAgc2VsZi5jdXJyZW50WWVhckVsZW1lbnQuZGlzYWJsZWQgPSAhIWludmVyc2VEYXRlT2JqICYmIGRhdGVPYmogIT09IHVuZGVmaW5lZCAmJiBpbnZlcnNlRGF0ZU9iai5nZXRGdWxsWWVhcigpID09PSBkYXRlT2JqLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZUNvbmZpZygpIHtcbiAgICAgICAgdmFyIGJvb2xPcHRzID0gW1wid3JhcFwiLCBcIndlZWtOdW1iZXJzXCIsIFwiYWxsb3dJbnB1dFwiLCBcImNsaWNrT3BlbnNcIiwgXCJ0aW1lXzI0aHJcIiwgXCJlbmFibGVUaW1lXCIsIFwibm9DYWxlbmRhclwiLCBcImFsdElucHV0XCIsIFwic2hvcnRoYW5kQ3VycmVudE1vbnRoXCIsIFwiaW5saW5lXCIsIFwic3RhdGljXCIsIFwiZW5hYmxlU2Vjb25kc1wiLCBcImRpc2FibGVNb2JpbGVcIl07XG4gICAgICAgIHZhciBob29rcyA9IFtcIm9uQ2hhbmdlXCIsIFwib25DbG9zZVwiLCBcIm9uRGF5Q3JlYXRlXCIsIFwib25EZXN0cm95XCIsIFwib25LZXlEb3duXCIsIFwib25Nb250aENoYW5nZVwiLCBcIm9uT3BlblwiLCBcIm9uUGFyc2VDb25maWdcIiwgXCJvblJlYWR5XCIsIFwib25WYWx1ZVVwZGF0ZVwiLCBcIm9uWWVhckNoYW5nZVwiLCBcIm9uUHJlQ2FsZW5kYXJQb3NpdGlvblwiXTtcbiAgICAgICAgdmFyIHVzZXJDb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBpbnN0YW5jZUNvbmZpZywgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlbGVtZW50LmRhdGFzZXQgfHwge30pKSk7XG4gICAgICAgIHZhciBmb3JtYXRzJCQxID0ge307XG4gICAgICAgIHNlbGYuY29uZmlnLnBhcnNlRGF0ZSA9IHVzZXJDb25maWcucGFyc2VEYXRlO1xuICAgICAgICBzZWxmLmNvbmZpZy5mb3JtYXREYXRlID0gdXNlckNvbmZpZy5mb3JtYXREYXRlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZi5jb25maWcsIFwiZW5hYmxlXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5fZW5hYmxlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZGF0ZXMpIHtcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLl9lbmFibGUgPSBwYXJzZURhdGVSdWxlcyhkYXRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYuY29uZmlnLCBcImRpc2FibGVcIiwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uZmlnLl9kaXNhYmxlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZGF0ZXMpIHtcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLl9kaXNhYmxlID0gcGFyc2VEYXRlUnVsZXMoZGF0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCF1c2VyQ29uZmlnLmRhdGVGb3JtYXQgJiYgdXNlckNvbmZpZy5lbmFibGVUaW1lKSB7XG4gICAgICAgICAgZm9ybWF0cyQkMS5kYXRlRm9ybWF0ID0gdXNlckNvbmZpZy5ub0NhbGVuZGFyID8gXCJIOmlcIiArICh1c2VyQ29uZmlnLmVuYWJsZVNlY29uZHMgPyBcIjpTXCIgOiBcIlwiKSA6IGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnLmRhdGVGb3JtYXQgKyBcIiBIOmlcIiArICh1c2VyQ29uZmlnLmVuYWJsZVNlY29uZHMgPyBcIjpTXCIgOiBcIlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VyQ29uZmlnLmFsdElucHV0ICYmIHVzZXJDb25maWcuZW5hYmxlVGltZSAmJiAhdXNlckNvbmZpZy5hbHRGb3JtYXQpIHtcbiAgICAgICAgICBmb3JtYXRzJCQxLmFsdEZvcm1hdCA9IHVzZXJDb25maWcubm9DYWxlbmRhciA/IFwiaDppXCIgKyAodXNlckNvbmZpZy5lbmFibGVTZWNvbmRzID8gXCI6UyBLXCIgOiBcIiBLXCIpIDogZmxhdHBpY2tyLmRlZmF1bHRDb25maWcuYWx0Rm9ybWF0ICsgKFwiIGg6aVwiICsgKHVzZXJDb25maWcuZW5hYmxlU2Vjb25kcyA/IFwiOlNcIiA6IFwiXCIpICsgXCIgS1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLmNvbmZpZywgXCJtaW5EYXRlXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5fbWluRGF0ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogbWluTWF4RGF0ZVNldHRlcihcIm1pblwiKVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYuY29uZmlnLCBcIm1heERhdGVcIiwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uZmlnLl9tYXhEYXRlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBtaW5NYXhEYXRlU2V0dGVyKFwibWF4XCIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBtaW5NYXhUaW1lU2V0dGVyID0gZnVuY3Rpb24gbWluTWF4VGltZVNldHRlcih0eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHNlbGYuY29uZmlnW3R5cGUgPT09IFwibWluXCIgPyBcIl9taW5UaW1lXCIgOiBcIl9tYXhUaW1lXCJdID0gc2VsZi5wYXJzZURhdGUodmFsLCBcIkg6aVwiKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLmNvbmZpZywgXCJtaW5UaW1lXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5fbWluVGltZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogbWluTWF4VGltZVNldHRlcihcIm1pblwiKVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYuY29uZmlnLCBcIm1heFRpbWVcIiwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uZmlnLl9tYXhUaW1lO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBtaW5NYXhUaW1lU2V0dGVyKFwibWF4XCIpXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuYXNzaWduKHNlbGYuY29uZmlnLCBmb3JtYXRzJCQxLCB1c2VyQ29uZmlnKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvb2xPcHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgc2VsZi5jb25maWdbYm9vbE9wdHNbaV1dID0gc2VsZi5jb25maWdbYm9vbE9wdHNbaV1dID09PSB0cnVlIHx8IHNlbGYuY29uZmlnW2Jvb2xPcHRzW2ldXSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaSA9IGhvb2tzLmxlbmd0aDsgX2ktLTspIHtcbiAgICAgICAgICBpZiAoc2VsZi5jb25maWdbaG9va3NbX2ldXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZWxmLmNvbmZpZ1tob29rc1tfaV1dID0gYXJyYXlpZnkoc2VsZi5jb25maWdbaG9va3NbX2ldXSB8fCBbXSkubWFwKGJpbmRUb0luc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgICBzZWxmLmNvbmZpZy5ub0NhbGVuZGFyID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLmNvbmZpZy5lbmFibGVUaW1lID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHNlbGYuY29uZmlnLnBsdWdpbnMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgIHZhciBwbHVnaW5Db25mID0gc2VsZi5jb25maWcucGx1Z2luc1tfaTJdKHNlbGYpIHx8IHt9O1xuXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHBsdWdpbkNvbmYpIHtcbiAgICAgICAgICAgIGlmICh+aG9va3MuaW5kZXhPZihrZXkpKSB7XG4gICAgICAgICAgICAgIHNlbGYuY29uZmlnW2tleV0gPSBhcnJheWlmeShwbHVnaW5Db25mW2tleV0pLm1hcChiaW5kVG9JbnN0YW5jZSkuY29uY2F0KHNlbGYuY29uZmlnW2tleV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdXNlckNvbmZpZ1trZXldID09PSBcInVuZGVmaW5lZFwiKSBzZWxmLmNvbmZpZ1trZXldID0gcGx1Z2luQ29uZltrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuaXNNb2JpbGUgPSAhc2VsZi5jb25maWcuZGlzYWJsZU1vYmlsZSAmJiAhc2VsZi5jb25maWcuaW5saW5lICYmIHNlbGYuY29uZmlnLm1vZGUgPT09IFwic2luZ2xlXCIgJiYgIXNlbGYuY29uZmlnLmRpc2FibGUubGVuZ3RoICYmICFzZWxmLmNvbmZpZy5lbmFibGUubGVuZ3RoICYmICFzZWxmLmNvbmZpZy53ZWVrTnVtYmVycyAmJiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uUGFyc2VDb25maWdcIik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwTG9jYWxlKCkge1xuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY29uZmlnLmxvY2FsZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgZmxhdHBpY2tyLmwxMG5zW3NlbGYuY29uZmlnLmxvY2FsZV0gPT09IFwidW5kZWZpbmVkXCIpIHNlbGYuY29uZmlnLmVycm9ySGFuZGxlcihuZXcgRXJyb3IoXCJmbGF0cGlja3I6IGludmFsaWQgbG9jYWxlIFwiICsgc2VsZi5jb25maWcubG9jYWxlKSk7XG4gICAgICAgIHNlbGYubDEwbiA9IE9iamVjdC5hc3NpZ24oe30sIGZsYXRwaWNrci5sMTBucy5kZWZhdWx0LCB0eXBlb2Ygc2VsZi5jb25maWcubG9jYWxlID09PSBcIm9iamVjdFwiID8gc2VsZi5jb25maWcubG9jYWxlIDogc2VsZi5jb25maWcubG9jYWxlICE9PSBcImRlZmF1bHRcIiA/IGZsYXRwaWNrci5sMTBuc1tzZWxmLmNvbmZpZy5sb2NhbGVdIDogdW5kZWZpbmVkKTtcbiAgICAgICAgdG9rZW5SZWdleC5LID0gXCIoXCIgKyBzZWxmLmwxMG4uYW1QTVswXSArIFwifFwiICsgc2VsZi5sMTBuLmFtUE1bMV0gKyBcInxcIiArIHNlbGYubDEwbi5hbVBNWzBdLnRvTG93ZXJDYXNlKCkgKyBcInxcIiArIHNlbGYubDEwbi5hbVBNWzFdLnRvTG93ZXJDYXNlKCkgKyBcIilcIjtcbiAgICAgICAgc2VsZi5mb3JtYXREYXRlID0gY3JlYXRlRGF0ZUZvcm1hdHRlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcG9zaXRpb25DYWxlbmRhcihjdXN0b21Qb3NpdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHNlbGYuY2FsZW5kYXJDb250YWluZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvblByZUNhbGVuZGFyUG9zaXRpb25cIik7XG4gICAgICAgIHZhciBwb3NpdGlvbkVsZW1lbnQgPSBjdXN0b21Qb3NpdGlvbkVsZW1lbnQgfHwgc2VsZi5fcG9zaXRpb25FbGVtZW50O1xuICAgICAgICB2YXIgY2FsZW5kYXJIZWlnaHQgPSBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoc2VsZi5jYWxlbmRhckNvbnRhaW5lci5jaGlsZHJlbiwgZnVuY3Rpb24gKGFjYywgY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gYWNjICsgY2hpbGQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9LCAwKSxcbiAgICAgICAgICAgIGNhbGVuZGFyV2lkdGggPSBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgY29uZmlnUG9zID0gc2VsZi5jb25maWcucG9zaXRpb24sXG4gICAgICAgICAgICBpbnB1dEJvdW5kcyA9IHBvc2l0aW9uRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIGRpc3RhbmNlRnJvbUJvdHRvbSA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGlucHV0Qm91bmRzLmJvdHRvbSxcbiAgICAgICAgICAgIHNob3dPblRvcCA9IGNvbmZpZ1BvcyA9PT0gXCJhYm92ZVwiIHx8IGNvbmZpZ1BvcyAhPT0gXCJiZWxvd1wiICYmIGRpc3RhbmNlRnJvbUJvdHRvbSA8IGNhbGVuZGFySGVpZ2h0ICYmIGlucHV0Qm91bmRzLnRvcCA+IGNhbGVuZGFySGVpZ2h0O1xuICAgICAgICB2YXIgdG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0ICsgaW5wdXRCb3VuZHMudG9wICsgKCFzaG93T25Ub3AgPyBwb3NpdGlvbkVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgMiA6IC1jYWxlbmRhckhlaWdodCAtIDIpO1xuICAgICAgICB0b2dnbGVDbGFzcyhzZWxmLmNhbGVuZGFyQ29udGFpbmVyLCBcImFycm93VG9wXCIsICFzaG93T25Ub3ApO1xuICAgICAgICB0b2dnbGVDbGFzcyhzZWxmLmNhbGVuZGFyQ29udGFpbmVyLCBcImFycm93Qm90dG9tXCIsIHNob3dPblRvcCk7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5pbmxpbmUpIHJldHVybjtcbiAgICAgICAgdmFyIGxlZnQgPSB3aW5kb3cucGFnZVhPZmZzZXQgKyBpbnB1dEJvdW5kcy5sZWZ0O1xuICAgICAgICB2YXIgcmlnaHQgPSB3aW5kb3cuZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIGlucHV0Qm91bmRzLnJpZ2h0O1xuICAgICAgICB2YXIgcmlnaHRNb3N0ID0gbGVmdCArIGNhbGVuZGFyV2lkdGggPiB3aW5kb3cuZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aDtcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJyaWdodE1vc3RcIiwgcmlnaHRNb3N0KTtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLnN0YXRpYykgcmV0dXJuO1xuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcblxuICAgICAgICBpZiAoIXJpZ2h0TW9zdCkge1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS5yaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUucmlnaHQgPSByaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZWRyYXcoKSB7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5ub0NhbGVuZGFyIHx8IHNlbGYuaXNNb2JpbGUpIHJldHVybjtcbiAgICAgICAgdXBkYXRlV2Vla2RheXMoKTtcbiAgICAgICAgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xuICAgICAgICBidWlsZERheXMoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZm9jdXNBbmRDbG9zZSgpIHtcbiAgICAgICAgc2VsZi5faW5wdXQuZm9jdXMoKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUVcIikgIT09IC0xIHx8IG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KHNlbGYuY2xvc2UsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZWxlY3REYXRlKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIHZhciBpc1NlbGVjdGFibGUgPSBmdW5jdGlvbiBpc1NlbGVjdGFibGUoZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIGRheS5jbGFzc0xpc3QgJiYgZGF5LmNsYXNzTGlzdC5jb250YWlucyhcImZsYXRwaWNrci1kYXlcIikgJiYgIWRheS5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlZFwiKSAmJiAhZGF5LmNsYXNzTGlzdC5jb250YWlucyhcIm5vdEFsbG93ZWRcIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHQgPSBmaW5kUGFyZW50KGUudGFyZ2V0LCBpc1NlbGVjdGFibGUpO1xuICAgICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHZhciB0YXJnZXQgPSB0O1xuICAgICAgICB2YXIgc2VsZWN0ZWREYXRlID0gc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogPSBuZXcgRGF0ZSh0YXJnZXQuZGF0ZU9iai5nZXRUaW1lKCkpO1xuICAgICAgICB2YXIgc2hvdWxkQ2hhbmdlTW9udGggPSAoc2VsZWN0ZWREYXRlLmdldE1vbnRoKCkgPCBzZWxmLmN1cnJlbnRNb250aCB8fCBzZWxlY3RlZERhdGUuZ2V0TW9udGgoKSA+IHNlbGYuY3VycmVudE1vbnRoICsgc2VsZi5jb25maWcuc2hvd01vbnRocyAtIDEpICYmIHNlbGYuY29uZmlnLm1vZGUgIT09IFwicmFuZ2VcIjtcbiAgICAgICAgc2VsZi5zZWxlY3RlZERhdGVFbGVtID0gdGFyZ2V0O1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJzaW5nbGVcIikgc2VsZi5zZWxlY3RlZERhdGVzID0gW3NlbGVjdGVkRGF0ZV07ZWxzZSBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJtdWx0aXBsZVwiKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSBpc0RhdGVTZWxlY3RlZChzZWxlY3RlZERhdGUpO1xuICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4KSBzZWxmLnNlbGVjdGVkRGF0ZXMuc3BsaWNlKHBhcnNlSW50KHNlbGVjdGVkSW5kZXgpLCAxKTtlbHNlIHNlbGYuc2VsZWN0ZWREYXRlcy5wdXNoKHNlbGVjdGVkRGF0ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKSB7XG4gICAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT09IDIpIHNlbGYuY2xlYXIoZmFsc2UpO1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlcy5wdXNoKHNlbGVjdGVkRGF0ZSk7XG4gICAgICAgICAgaWYgKGNvbXBhcmVEYXRlcyhzZWxlY3RlZERhdGUsIHNlbGYuc2VsZWN0ZWREYXRlc1swXSwgdHJ1ZSkgIT09IDApIHNlbGYuc2VsZWN0ZWREYXRlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgLSBiLmdldFRpbWUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRIb3Vyc0Zyb21JbnB1dHMoKTtcblxuICAgICAgICBpZiAoc2hvdWxkQ2hhbmdlTW9udGgpIHtcbiAgICAgICAgICB2YXIgaXNOZXdZZWFyID0gc2VsZi5jdXJyZW50WWVhciAhPT0gc2VsZWN0ZWREYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgc2VsZi5jdXJyZW50WWVhciA9IHNlbGVjdGVkRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgIHNlbGYuY3VycmVudE1vbnRoID0gc2VsZWN0ZWREYXRlLmdldE1vbnRoKCk7XG4gICAgICAgICAgaWYgKGlzTmV3WWVhcikgdHJpZ2dlckV2ZW50KFwib25ZZWFyQ2hhbmdlXCIpO1xuICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uTW9udGhDaGFuZ2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVOYXZpZ2F0aW9uQ3VycmVudE1vbnRoKCk7XG4gICAgICAgIGJ1aWxkRGF5cygpO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubWluRGF0ZSAmJiBzZWxmLm1pbkRhdGVIYXNUaW1lICYmIHNlbGYuY29uZmlnLmVuYWJsZVRpbWUgJiYgY29tcGFyZURhdGVzKHNlbGVjdGVkRGF0ZSwgc2VsZi5jb25maWcubWluRGF0ZSkgPT09IDApIHNldEhvdXJzRnJvbURhdGUoc2VsZi5jb25maWcubWluRGF0ZSk7XG4gICAgICAgIHVwZGF0ZVZhbHVlKCk7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGVUaW1lKSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5zaG93VGltZUlucHV0ID0gdHJ1ZTtcbiAgICAgICAgfSwgNTApO1xuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIpIHtcbiAgICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgb25Nb3VzZU92ZXIodGFyZ2V0KTtcbiAgICAgICAgICB9IGVsc2UgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzaG91bGRDaGFuZ2VNb250aCAmJiBzZWxmLmNvbmZpZy5tb2RlICE9PSBcInJhbmdlXCIgJiYgc2VsZi5jb25maWcuc2hvd01vbnRocyA9PT0gMSkgZm9jdXNPbkRheSh0YXJnZXQuJGksIDApO2Vsc2Ugc2VsZi5zZWxlY3RlZERhdGVFbGVtICYmIHNlbGYuc2VsZWN0ZWREYXRlRWxlbS5mb2N1cygpO1xuICAgICAgICBpZiAoc2VsZi5ob3VyRWxlbWVudCAhPT0gdW5kZWZpbmVkKSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5ob3VyRWxlbWVudCAhPT0gdW5kZWZpbmVkICYmIHNlbGYuaG91ckVsZW1lbnQuc2VsZWN0KCk7XG4gICAgICAgIH0sIDQ1MSk7XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmNsb3NlT25TZWxlY3QpIHtcbiAgICAgICAgICB2YXIgc2luZ2xlID0gc2VsZi5jb25maWcubW9kZSA9PT0gXCJzaW5nbGVcIiAmJiAhc2VsZi5jb25maWcuZW5hYmxlVGltZTtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIgJiYgc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMiAmJiAhc2VsZi5jb25maWcuZW5hYmxlVGltZTtcblxuICAgICAgICAgIGlmIChzaW5nbGUgfHwgcmFuZ2UpIHtcbiAgICAgICAgICAgIGZvY3VzQW5kQ2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cmlnZ2VyQ2hhbmdlKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBDQUxMQkFDS1MgPSB7XG4gICAgICAgIGxvY2FsZTogW3NldHVwTG9jYWxlXVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gc2V0KG9wdGlvbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG9wdGlvbiAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0aW9uID09PSBcIm9iamVjdFwiKSBPYmplY3QuYXNzaWduKHNlbGYuY29uZmlnLCBvcHRpb24pO2Vsc2Uge1xuICAgICAgICAgIHNlbGYuY29uZmlnW29wdGlvbl0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoQ0FMTEJBQ0tTW29wdGlvbl0gIT09IHVuZGVmaW5lZCkgQ0FMTEJBQ0tTW29wdGlvbl0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHgoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnJlZHJhdygpO1xuICAgICAgICBqdW1wVG9EYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldFNlbGVjdGVkRGF0ZShpbnB1dERhdGUsIGZvcm1hdCkge1xuICAgICAgICB2YXIgZGF0ZXMgPSBbXTtcbiAgICAgICAgaWYgKGlucHV0RGF0ZSBpbnN0YW5jZW9mIEFycmF5KSBkYXRlcyA9IGlucHV0RGF0ZS5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5wYXJzZURhdGUoZCwgZm9ybWF0KTtcbiAgICAgICAgfSk7ZWxzZSBpZiAoaW5wdXREYXRlIGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgaW5wdXREYXRlID09PSBcIm51bWJlclwiKSBkYXRlcyA9IFtzZWxmLnBhcnNlRGF0ZShpbnB1dERhdGUsIGZvcm1hdCldO2Vsc2UgaWYgKHR5cGVvZiBpbnB1dERhdGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBzd2l0Y2ggKHNlbGYuY29uZmlnLm1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzaW5nbGVcIjpcbiAgICAgICAgICAgICAgZGF0ZXMgPSBbc2VsZi5wYXJzZURhdGUoaW5wdXREYXRlLCBmb3JtYXQpXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICBkYXRlcyA9IGlucHV0RGF0ZS5zcGxpdChzZWxmLmNvbmZpZy5jb25qdW5jdGlvbikubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYucGFyc2VEYXRlKGRhdGUsIGZvcm1hdCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcInJhbmdlXCI6XG4gICAgICAgICAgICAgIGRhdGVzID0gaW5wdXREYXRlLnNwbGl0KHNlbGYubDEwbi5yYW5nZVNlcGFyYXRvcikubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYucGFyc2VEYXRlKGRhdGUsIGZvcm1hdCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Ugc2VsZi5jb25maWcuZXJyb3JIYW5kbGVyKG5ldyBFcnJvcihcIkludmFsaWQgZGF0ZSBzdXBwbGllZDogXCIgKyBKU09OLnN0cmluZ2lmeShpbnB1dERhdGUpKSk7XG4gICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlcyA9IGRhdGVzLmZpbHRlcihmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIHJldHVybiBkIGluc3RhbmNlb2YgRGF0ZSAmJiBpc0VuYWJsZWQoZCwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIikgc2VsZi5zZWxlY3RlZERhdGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgLSBiLmdldFRpbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldERhdGUoZGF0ZSwgdHJpZ2dlckNoYW5nZSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlID09PSB2b2lkIDApIHtcbiAgICAgICAgICB0cmlnZ2VyQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm9ybWF0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICBmb3JtYXQgPSBzZWxmLmNvbmZpZy5kYXRlRm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGUgIT09IDAgJiYgIWRhdGUpIHJldHVybiBzZWxmLmNsZWFyKHRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICBzZXRTZWxlY3RlZERhdGUoZGF0ZSwgZm9ybWF0KTtcbiAgICAgICAgc2VsZi5zaG93VGltZUlucHV0ID0gc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA+IDA7XG4gICAgICAgIHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID0gc2VsZi5zZWxlY3RlZERhdGVzWzBdO1xuICAgICAgICBzZWxmLnJlZHJhdygpO1xuICAgICAgICBqdW1wVG9EYXRlKCk7XG4gICAgICAgIHNldEhvdXJzRnJvbURhdGUoKTtcbiAgICAgICAgdXBkYXRlVmFsdWUodHJpZ2dlckNoYW5nZSk7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlKSB0cmlnZ2VyRXZlbnQoXCJvbkNoYW5nZVwiKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VEYXRlUnVsZXMoYXJyKSB7XG4gICAgICAgIHJldHVybiBhcnIubWFwKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBydWxlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBydWxlID09PSBcIm51bWJlclwiIHx8IHJ1bGUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5wYXJzZURhdGUocnVsZSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJ1bGUgJiYgdHlwZW9mIHJ1bGUgPT09IFwib2JqZWN0XCIgJiYgcnVsZS5mcm9tICYmIHJ1bGUudG8pIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiBzZWxmLnBhcnNlRGF0ZShydWxlLmZyb20sIHVuZGVmaW5lZCksXG4gICAgICAgICAgICB0bzogc2VsZi5wYXJzZURhdGUocnVsZS50bywgdW5kZWZpbmVkKVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gcnVsZTtcbiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXR1cERhdGVzKCkge1xuICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMgPSBbXTtcbiAgICAgICAgc2VsZi5ub3cgPSBzZWxmLnBhcnNlRGF0ZShzZWxmLmNvbmZpZy5ub3cpIHx8IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBwcmVsb2FkZWREYXRlID0gc2VsZi5jb25maWcuZGVmYXVsdERhdGUgfHwgc2VsZi5pbnB1dC52YWx1ZTtcbiAgICAgICAgaWYgKHByZWxvYWRlZERhdGUpIHNldFNlbGVjdGVkRGF0ZShwcmVsb2FkZWREYXRlLCBzZWxmLmNvbmZpZy5kYXRlRm9ybWF0KTtcbiAgICAgICAgdmFyIGluaXRpYWxEYXRlID0gc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA+IDAgPyBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0gOiBzZWxmLmNvbmZpZy5taW5EYXRlICYmIHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0VGltZSgpID4gc2VsZi5ub3cuZ2V0VGltZSgpID8gc2VsZi5jb25maWcubWluRGF0ZSA6IHNlbGYuY29uZmlnLm1heERhdGUgJiYgc2VsZi5jb25maWcubWF4RGF0ZS5nZXRUaW1lKCkgPCBzZWxmLm5vdy5nZXRUaW1lKCkgPyBzZWxmLmNvbmZpZy5tYXhEYXRlIDogc2VsZi5ub3c7XG4gICAgICAgIHNlbGYuY3VycmVudFllYXIgPSBpbml0aWFsRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IGluaXRpYWxEYXRlLmdldE1vbnRoKCk7XG4gICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID4gMCkgc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogPSBzZWxmLnNlbGVjdGVkRGF0ZXNbMF07XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5taW5UaW1lICE9PSB1bmRlZmluZWQpIHNlbGYuY29uZmlnLm1pblRpbWUgPSBzZWxmLnBhcnNlRGF0ZShzZWxmLmNvbmZpZy5taW5UaW1lLCBcIkg6aVwiKTtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1heFRpbWUgIT09IHVuZGVmaW5lZCkgc2VsZi5jb25maWcubWF4VGltZSA9IHNlbGYucGFyc2VEYXRlKHNlbGYuY29uZmlnLm1heFRpbWUsIFwiSDppXCIpO1xuICAgICAgICBzZWxmLm1pbkRhdGVIYXNUaW1lID0gISFzZWxmLmNvbmZpZy5taW5EYXRlICYmIChzZWxmLmNvbmZpZy5taW5EYXRlLmdldEhvdXJzKCkgPiAwIHx8IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0TWludXRlcygpID4gMCB8fCBzZWxmLmNvbmZpZy5taW5EYXRlLmdldFNlY29uZHMoKSA+IDApO1xuICAgICAgICBzZWxmLm1heERhdGVIYXNUaW1lID0gISFzZWxmLmNvbmZpZy5tYXhEYXRlICYmIChzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEhvdXJzKCkgPiAwIHx8IHNlbGYuY29uZmlnLm1heERhdGUuZ2V0TWludXRlcygpID4gMCB8fCBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldFNlY29uZHMoKSA+IDApO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgXCJzaG93VGltZUlucHV0XCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9zaG93VGltZUlucHV0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYm9vbCkge1xuICAgICAgICAgICAgc2VsZi5fc2hvd1RpbWVJbnB1dCA9IGJvb2w7XG4gICAgICAgICAgICBpZiAoc2VsZi5jYWxlbmRhckNvbnRhaW5lcikgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJzaG93VGltZUlucHV0XCIsIGJvb2wpO1xuICAgICAgICAgICAgc2VsZi5pc09wZW4gJiYgcG9zaXRpb25DYWxlbmRhcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwSW5wdXRzKCkge1xuICAgICAgICBzZWxmLmlucHV0ID0gc2VsZi5jb25maWcud3JhcCA/IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWlucHV0XVwiKSA6IGVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCFzZWxmLmlucHV0KSB7XG4gICAgICAgICAgc2VsZi5jb25maWcuZXJyb3JIYW5kbGVyKG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgZWxlbWVudCBzcGVjaWZpZWRcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuaW5wdXQuX3R5cGUgPSBzZWxmLmlucHV0LnR5cGU7XG4gICAgICAgIHNlbGYuaW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBzZWxmLmlucHV0LmNsYXNzTGlzdC5hZGQoXCJmbGF0cGlja3ItaW5wdXRcIik7XG4gICAgICAgIHNlbGYuX2lucHV0ID0gc2VsZi5pbnB1dDtcblxuICAgICAgICBpZiAoc2VsZi5jb25maWcuYWx0SW5wdXQpIHtcbiAgICAgICAgICBzZWxmLmFsdElucHV0ID0gY3JlYXRlRWxlbWVudChzZWxmLmlucHV0Lm5vZGVOYW1lLCBzZWxmLmlucHV0LmNsYXNzTmFtZSArIFwiIFwiICsgc2VsZi5jb25maWcuYWx0SW5wdXRDbGFzcyk7XG4gICAgICAgICAgc2VsZi5faW5wdXQgPSBzZWxmLmFsdElucHV0O1xuICAgICAgICAgIHNlbGYuYWx0SW5wdXQucGxhY2Vob2xkZXIgPSBzZWxmLmlucHV0LnBsYWNlaG9sZGVyO1xuICAgICAgICAgIHNlbGYuYWx0SW5wdXQuZGlzYWJsZWQgPSBzZWxmLmlucHV0LmRpc2FibGVkO1xuICAgICAgICAgIHNlbGYuYWx0SW5wdXQucmVxdWlyZWQgPSBzZWxmLmlucHV0LnJlcXVpcmVkO1xuICAgICAgICAgIHNlbGYuYWx0SW5wdXQudGFiSW5kZXggPSBzZWxmLmlucHV0LnRhYkluZGV4O1xuICAgICAgICAgIHNlbGYuYWx0SW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICAgIHNlbGYuaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgaWYgKCFzZWxmLmNvbmZpZy5zdGF0aWMgJiYgc2VsZi5pbnB1dC5wYXJlbnROb2RlKSBzZWxmLmlucHV0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNlbGYuYWx0SW5wdXQsIHNlbGYuaW5wdXQubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzZWxmLmNvbmZpZy5hbGxvd0lucHV0KSBzZWxmLl9pbnB1dC5zZXRBdHRyaWJ1dGUoXCJyZWFkb25seVwiLCBcInJlYWRvbmx5XCIpO1xuICAgICAgICBzZWxmLl9wb3NpdGlvbkVsZW1lbnQgPSBzZWxmLmNvbmZpZy5wb3NpdGlvbkVsZW1lbnQgfHwgc2VsZi5faW5wdXQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwTW9iaWxlKCkge1xuICAgICAgICB2YXIgaW5wdXRUeXBlID0gc2VsZi5jb25maWcuZW5hYmxlVGltZSA/IHNlbGYuY29uZmlnLm5vQ2FsZW5kYXIgPyBcInRpbWVcIiA6IFwiZGF0ZXRpbWUtbG9jYWxcIiA6IFwiZGF0ZVwiO1xuICAgICAgICBzZWxmLm1vYmlsZUlucHV0ID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHNlbGYuaW5wdXQuY2xhc3NOYW1lICsgXCIgZmxhdHBpY2tyLW1vYmlsZVwiKTtcbiAgICAgICAgc2VsZi5tb2JpbGVJbnB1dC5zdGVwID0gc2VsZi5pbnB1dC5nZXRBdHRyaWJ1dGUoXCJzdGVwXCIpIHx8IFwiYW55XCI7XG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQudGFiSW5kZXggPSAxO1xuICAgICAgICBzZWxmLm1vYmlsZUlucHV0LnR5cGUgPSBpbnB1dFR5cGU7XG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQuZGlzYWJsZWQgPSBzZWxmLmlucHV0LmRpc2FibGVkO1xuICAgICAgICBzZWxmLm1vYmlsZUlucHV0LnJlcXVpcmVkID0gc2VsZi5pbnB1dC5yZXF1aXJlZDtcbiAgICAgICAgc2VsZi5tb2JpbGVJbnB1dC5wbGFjZWhvbGRlciA9IHNlbGYuaW5wdXQucGxhY2Vob2xkZXI7XG4gICAgICAgIHNlbGYubW9iaWxlRm9ybWF0U3RyID0gaW5wdXRUeXBlID09PSBcImRhdGV0aW1lLWxvY2FsXCIgPyBcIlktbS1kXFxcXFRIOmk6U1wiIDogaW5wdXRUeXBlID09PSBcImRhdGVcIiA/IFwiWS1tLWRcIiA6IFwiSDppOlNcIjtcblxuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzZWxmLm1vYmlsZUlucHV0LmRlZmF1bHRWYWx1ZSA9IHNlbGYubW9iaWxlSW5wdXQudmFsdWUgPSBzZWxmLmZvcm1hdERhdGUoc2VsZi5zZWxlY3RlZERhdGVzWzBdLCBzZWxmLm1vYmlsZUZvcm1hdFN0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5jb25maWcubWluRGF0ZSkgc2VsZi5tb2JpbGVJbnB1dC5taW4gPSBzZWxmLmZvcm1hdERhdGUoc2VsZi5jb25maWcubWluRGF0ZSwgXCJZLW0tZFwiKTtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1heERhdGUpIHNlbGYubW9iaWxlSW5wdXQubWF4ID0gc2VsZi5mb3JtYXREYXRlKHNlbGYuY29uZmlnLm1heERhdGUsIFwiWS1tLWRcIik7XG4gICAgICAgIHNlbGYuaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIGlmIChzZWxmLmFsdElucHV0ICE9PSB1bmRlZmluZWQpIHNlbGYuYWx0SW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoc2VsZi5pbnB1dC5wYXJlbnROb2RlKSBzZWxmLmlucHV0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNlbGYubW9iaWxlSW5wdXQsIHNlbGYuaW5wdXQubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGNhdGNoIChfYSkge31cblxuICAgICAgICBiaW5kKHNlbGYubW9iaWxlSW5wdXQsIFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgc2VsZi5zZXREYXRlKGUudGFyZ2V0LnZhbHVlLCBmYWxzZSwgc2VsZi5tb2JpbGVGb3JtYXRTdHIpO1xuICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uQ2hhbmdlXCIpO1xuICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uQ2xvc2VcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICAgIGlmIChzZWxmLmlzT3BlbikgcmV0dXJuIHNlbGYuY2xvc2UoKTtcbiAgICAgICAgc2VsZi5vcGVuKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyaWdnZXJFdmVudChldmVudCwgZGF0YSkge1xuICAgICAgICB2YXIgaG9va3MgPSBzZWxmLmNvbmZpZ1tldmVudF07XG5cbiAgICAgICAgaWYgKGhvb2tzICE9PSB1bmRlZmluZWQgJiYgaG9va3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBob29rc1tpXSAmJiBpIDwgaG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGhvb2tzW2ldKHNlbGYuc2VsZWN0ZWREYXRlcywgc2VsZi5pbnB1dC52YWx1ZSwgc2VsZiwgZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50ID09PSBcIm9uQ2hhbmdlXCIpIHtcbiAgICAgICAgICBzZWxmLmlucHV0LmRpc3BhdGNoRXZlbnQoY3JlYXRlRXZlbnQoXCJjaGFuZ2VcIikpO1xuICAgICAgICAgIHNlbGYuaW5wdXQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudChcImlucHV0XCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG4gICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcbiAgICAgICAgZS5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0RhdGVTZWxlY3RlZChkYXRlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVEYXRlcyhzZWxmLnNlbGVjdGVkRGF0ZXNbaV0sIGRhdGUpID09PSAwKSByZXR1cm4gXCJcIiArIGk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGlzRGF0ZUluUmFuZ2UoZGF0ZSkge1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSAhPT0gXCJyYW5nZVwiIHx8IHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb21wYXJlRGF0ZXMoZGF0ZSwgc2VsZi5zZWxlY3RlZERhdGVzWzBdKSA+PSAwICYmIGNvbXBhcmVEYXRlcyhkYXRlLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMV0pIDw9IDA7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZU5hdmlnYXRpb25DdXJyZW50TW9udGgoKSB7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5ub0NhbGVuZGFyIHx8IHNlbGYuaXNNb2JpbGUgfHwgIXNlbGYubW9udGhOYXYpIHJldHVybjtcbiAgICAgICAgc2VsZi55ZWFyRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoeWVhckVsZW1lbnQsIGkpIHtcbiAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKHNlbGYuY3VycmVudFllYXIsIHNlbGYuY3VycmVudE1vbnRoLCAxKTtcbiAgICAgICAgICBkLnNldE1vbnRoKHNlbGYuY3VycmVudE1vbnRoICsgaSk7XG4gICAgICAgICAgc2VsZi5tb250aEVsZW1lbnRzW2ldLnRleHRDb250ZW50ID0gbW9udGhUb1N0cihkLmdldE1vbnRoKCksIHNlbGYuY29uZmlnLnNob3J0aGFuZEN1cnJlbnRNb250aCwgc2VsZi5sMTBuKSArIFwiIFwiO1xuICAgICAgICAgIHllYXJFbGVtZW50LnZhbHVlID0gZC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLl9oaWRlUHJldk1vbnRoQXJyb3cgPSBzZWxmLmNvbmZpZy5taW5EYXRlICE9PSB1bmRlZmluZWQgJiYgKHNlbGYuY3VycmVudFllYXIgPT09IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSA/IHNlbGYuY3VycmVudE1vbnRoIDw9IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0TW9udGgoKSA6IHNlbGYuY3VycmVudFllYXIgPCBzZWxmLmNvbmZpZy5taW5EYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgICBzZWxmLl9oaWRlTmV4dE1vbnRoQXJyb3cgPSBzZWxmLmNvbmZpZy5tYXhEYXRlICE9PSB1bmRlZmluZWQgJiYgKHNlbGYuY3VycmVudFllYXIgPT09IHNlbGYuY29uZmlnLm1heERhdGUuZ2V0RnVsbFllYXIoKSA/IHNlbGYuY3VycmVudE1vbnRoICsgMSA+IHNlbGYuY29uZmlnLm1heERhdGUuZ2V0TW9udGgoKSA6IHNlbGYuY3VycmVudFllYXIgPiBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVWYWx1ZSh0cmlnZ2VyQ2hhbmdlKSB7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlID09PSB2b2lkIDApIHtcbiAgICAgICAgICB0cmlnZ2VyQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gc2VsZi5jbGVhcih0cmlnZ2VyQ2hhbmdlKTtcblxuICAgICAgICBpZiAoc2VsZi5tb2JpbGVJbnB1dCAhPT0gdW5kZWZpbmVkICYmIHNlbGYubW9iaWxlRm9ybWF0U3RyKSB7XG4gICAgICAgICAgc2VsZi5tb2JpbGVJbnB1dC52YWx1ZSA9IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqICE9PSB1bmRlZmluZWQgPyBzZWxmLmZvcm1hdERhdGUoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmosIHNlbGYubW9iaWxlRm9ybWF0U3RyKSA6IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgam9pbkNoYXIgPSBzZWxmLmNvbmZpZy5tb2RlICE9PSBcInJhbmdlXCIgPyBzZWxmLmNvbmZpZy5jb25qdW5jdGlvbiA6IHNlbGYubDEwbi5yYW5nZVNlcGFyYXRvcjtcbiAgICAgICAgc2VsZi5pbnB1dC52YWx1ZSA9IHNlbGYuc2VsZWN0ZWREYXRlcy5tYXAoZnVuY3Rpb24gKGRPYmopIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5mb3JtYXREYXRlKGRPYmosIHNlbGYuY29uZmlnLmRhdGVGb3JtYXQpO1xuICAgICAgICB9KS5qb2luKGpvaW5DaGFyKTtcblxuICAgICAgICBpZiAoc2VsZi5hbHRJbnB1dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2VsZi5hbHRJbnB1dC52YWx1ZSA9IHNlbGYuc2VsZWN0ZWREYXRlcy5tYXAoZnVuY3Rpb24gKGRPYmopIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmZvcm1hdERhdGUoZE9iaiwgc2VsZi5jb25maWcuYWx0Rm9ybWF0KTtcbiAgICAgICAgICB9KS5qb2luKGpvaW5DaGFyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlICE9PSBmYWxzZSkgdHJpZ2dlckV2ZW50KFwib25WYWx1ZVVwZGF0ZVwiKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25Nb250aE5hdkNsaWNrKGUpIHtcbiAgICAgICAgdmFyIGlzUHJldk1vbnRoID0gc2VsZi5wcmV2TW9udGhOYXYuY29udGFpbnMoZS50YXJnZXQpO1xuICAgICAgICB2YXIgaXNOZXh0TW9udGggPSBzZWxmLm5leHRNb250aE5hdi5jb250YWlucyhlLnRhcmdldCk7XG5cbiAgICAgICAgaWYgKGlzUHJldk1vbnRoIHx8IGlzTmV4dE1vbnRoKSB7XG4gICAgICAgICAgY2hhbmdlTW9udGgoaXNQcmV2TW9udGggPyAtMSA6IDEpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYueWVhckVsZW1lbnRzLmluZGV4T2YoZS50YXJnZXQpID49IDApIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS50YXJnZXQuc2VsZWN0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYXJyb3dVcFwiKSkge1xuICAgICAgICAgIHNlbGYuY2hhbmdlWWVhcihzZWxmLmN1cnJlbnRZZWFyICsgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYXJyb3dEb3duXCIpKSB7XG4gICAgICAgICAgc2VsZi5jaGFuZ2VZZWFyKHNlbGYuY3VycmVudFllYXIgLSAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lV3JhcHBlcihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGlzS2V5RG93biA9IGUudHlwZSA9PT0gXCJrZXlkb3duXCIsXG4gICAgICAgICAgICBpbnB1dCA9IGUudGFyZ2V0O1xuXG4gICAgICAgIGlmIChzZWxmLmFtUE0gIT09IHVuZGVmaW5lZCAmJiBlLnRhcmdldCA9PT0gc2VsZi5hbVBNKSB7XG4gICAgICAgICAgc2VsZi5hbVBNLnRleHRDb250ZW50ID0gc2VsZi5sMTBuLmFtUE1baW50KHNlbGYuYW1QTS50ZXh0Q29udGVudCA9PT0gc2VsZi5sMTBuLmFtUE1bMF0pXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtbWluXCIpKSxcbiAgICAgICAgICAgIG1heCA9IHBhcnNlRmxvYXQoaW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXhcIikpLFxuICAgICAgICAgICAgc3RlcCA9IHBhcnNlRmxvYXQoaW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGVwXCIpKSxcbiAgICAgICAgICAgIGN1clZhbHVlID0gcGFyc2VJbnQoaW5wdXQudmFsdWUsIDEwKSxcbiAgICAgICAgICAgIGRlbHRhID0gZS5kZWx0YSB8fCAoaXNLZXlEb3duID8gZS53aGljaCA9PT0gMzggPyAxIDogLTEgOiAwKTtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VyVmFsdWUgKyBzdGVwICogZGVsdGE7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICB2YXIgaXNIb3VyRWxlbSA9IGlucHV0ID09PSBzZWxmLmhvdXJFbGVtZW50LFxuICAgICAgICAgICAgICBpc01pbnV0ZUVsZW0gPSBpbnB1dCA9PT0gc2VsZi5taW51dGVFbGVtZW50O1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlIDwgbWluKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG1heCArIG5ld1ZhbHVlICsgaW50KCFpc0hvdXJFbGVtKSArIChpbnQoaXNIb3VyRWxlbSkgJiYgaW50KCFzZWxmLmFtUE0pKTtcbiAgICAgICAgICAgIGlmIChpc01pbnV0ZUVsZW0pIGluY3JlbWVudE51bUlucHV0KHVuZGVmaW5lZCwgLTEsIHNlbGYuaG91ckVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV3VmFsdWUgPiBtYXgpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaW5wdXQgPT09IHNlbGYuaG91ckVsZW1lbnQgPyBuZXdWYWx1ZSAtIG1heCAtIGludCghc2VsZi5hbVBNKSA6IG1pbjtcbiAgICAgICAgICAgIGlmIChpc01pbnV0ZUVsZW0pIGluY3JlbWVudE51bUlucHV0KHVuZGVmaW5lZCwgMSwgc2VsZi5ob3VyRWxlbWVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuYW1QTSAmJiBpc0hvdXJFbGVtICYmIChzdGVwID09PSAxID8gbmV3VmFsdWUgKyBjdXJWYWx1ZSA9PT0gMjMgOiBNYXRoLmFicyhuZXdWYWx1ZSAtIGN1clZhbHVlKSA+IHN0ZXApKSB7XG4gICAgICAgICAgICBzZWxmLmFtUE0udGV4dENvbnRlbnQgPSBzZWxmLmwxMG4uYW1QTVtpbnQoc2VsZi5hbVBNLnRleHRDb250ZW50ID09PSBzZWxmLmwxMG4uYW1QTVswXSldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlucHV0LnZhbHVlID0gcGFkKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpbml0KCk7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZmxhdHBpY2tyKG5vZGVMaXN0LCBjb25maWcpIHtcbiAgICAgIHZhciBub2RlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG5vZGVMaXN0KTtcbiAgICAgIHZhciBpbnN0YW5jZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1mcC1vbWl0XCIpICE9PSBudWxsKSBjb250aW51ZTtcblxuICAgICAgICAgIGlmIChub2RlLl9mbGF0cGlja3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbm9kZS5fZmxhdHBpY2tyLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgbm9kZS5fZmxhdHBpY2tyID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG5vZGUuX2ZsYXRwaWNrciA9IEZsYXRwaWNrckluc3RhbmNlKG5vZGUsIGNvbmZpZyB8fCB7fSk7XG4gICAgICAgICAgaW5zdGFuY2VzLnB1c2gobm9kZS5fZmxhdHBpY2tyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc3RhbmNlcy5sZW5ndGggPT09IDEgPyBpbnN0YW5jZXNbMF0gOiBpbnN0YW5jZXM7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlLmZsYXRwaWNrciA9IE5vZGVMaXN0LnByb3RvdHlwZS5mbGF0cGlja3IgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBfZmxhdHBpY2tyKHRoaXMsIGNvbmZpZyk7XG4gICAgICB9O1xuXG4gICAgICBIVE1MRWxlbWVudC5wcm90b3R5cGUuZmxhdHBpY2tyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gX2ZsYXRwaWNrcihbdGhpc10sIGNvbmZpZyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBmbGF0cGlja3IgPSBmdW5jdGlvbiBmbGF0cGlja3Ioc2VsZWN0b3IsIGNvbmZpZykge1xuICAgICAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgTm9kZUxpc3QpIHJldHVybiBfZmxhdHBpY2tyKHNlbGVjdG9yLCBjb25maWcpO2Vsc2UgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9mbGF0cGlja3Iod2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLCBjb25maWcpO1xuICAgICAgcmV0dXJuIF9mbGF0cGlja3IoW3NlbGVjdG9yXSwgY29uZmlnKTtcbiAgICB9O1xuXG4gICAgZmxhdHBpY2tyLmRlZmF1bHRDb25maWcgPSBkZWZhdWx0cztcbiAgICBmbGF0cGlja3IubDEwbnMgPSB7XG4gICAgICBlbjogT2JqZWN0LmFzc2lnbih7fSwgZW5nbGlzaCksXG4gICAgICBkZWZhdWx0OiBPYmplY3QuYXNzaWduKHt9LCBlbmdsaXNoKVxuICAgIH07XG5cbiAgICBmbGF0cGlja3IubG9jYWxpemUgPSBmdW5jdGlvbiAobDEwbikge1xuICAgICAgZmxhdHBpY2tyLmwxMG5zLmRlZmF1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBmbGF0cGlja3IubDEwbnMuZGVmYXVsdCwgbDEwbik7XG4gICAgfTtcblxuICAgIGZsYXRwaWNrci5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgIGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgZmxhdHBpY2tyLmRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG4gICAgfTtcblxuICAgIGZsYXRwaWNrci5wYXJzZURhdGUgPSBjcmVhdGVEYXRlUGFyc2VyKHt9KTtcbiAgICBmbGF0cGlja3IuZm9ybWF0RGF0ZSA9IGNyZWF0ZURhdGVGb3JtYXR0ZXIoe30pO1xuICAgIGZsYXRwaWNrci5jb21wYXJlRGF0ZXMgPSBjb21wYXJlRGF0ZXM7XG5cbiAgICBpZiAodHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgalF1ZXJ5LmZuLmZsYXRwaWNrciA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIF9mbGF0cGlja3IodGhpcywgY29uZmlnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgRGF0ZS5wcm90b3R5cGUuZnBfaW5jciA9IGZ1bmN0aW9uIChkYXlzKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5nZXRGdWxsWWVhcigpLCB0aGlzLmdldE1vbnRoKCksIHRoaXMuZ2V0RGF0ZSgpICsgKHR5cGVvZiBkYXlzID09PSBcInN0cmluZ1wiID8gcGFyc2VJbnQoZGF5cywgMTApIDogZGF5cykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZmxhdHBpY2tyO1xuXG59KSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/*! choices.js v3.0.4 | (c) 2018 Josh Johnson | https://github.com/jshjohnson/Choices#readme */ \n!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Choices=t():e.Choices=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p=\"/assets/scripts/dist/\",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(2),l=n(c),h=i(3),u=n(h),d=i(4),f=n(d),p=i(31),v=i(32);i(33);var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"[data-choice]\",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),(0,v.isType)(\"String\",t)){var n=document.querySelectorAll(t);if(n.length>1)for(var s=1;s<n.length;s++){var o=n[s];new e(o,i)}}var a={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:\",\",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:[\"label\",\"value\"],position:\"auto\",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:v.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:\"auto\",loadingText:\"Loading...\",noResultsText:\"No results found\",noChoicesText:\"No choices to choose from\",itemSelectText:\"Press to select\",addItemText:function(e){return'Press Enter to add <b>\"'+(0,v.stripHTML)(e)+'\"</b>'},maxItemText:function(e){return\"Only \"+e+\" values can be added.\"},itemComparer:function(e,t){return e===t},uniqueItemText:\"Only unique values can be added.\",classNames:{containerOuter:\"choices\",containerInner:\"choices__inner\",input:\"choices__input\",inputCloned:\"choices__input--cloned\",list:\"choices__list\",listItems:\"choices__list--multiple\",listSingle:\"choices__list--single\",listDropdown:\"choices__list--dropdown\",item:\"choices__item\",itemSelectable:\"choices__item--selectable\",itemDisabled:\"choices__item--disabled\",itemChoice:\"choices__item--choice\",placeholder:\"choices__placeholder\",group:\"choices__group\",groupHeading:\"choices__heading\",button:\"choices__button\",activeState:\"is-active\",focusState:\"is-focused\",openState:\"is-open\",disabledState:\"is-disabled\",highlightedState:\"is-highlighted\",hiddenState:\"is-hidden\",flippedState:\"is-flipped\",loadingState:\"is-loading\",noResults:\"has-no-results\",noChoices:\"has-no-choices\"},fuseOptions:{include:\"score\"},callbackOnInit:null,callbackOnCreateTemplates:null};if(this.idNames={itemChoice:\"item-choice\"},this.config=(0,v.extend)(a,i),\"auto\"!==this.config.renderSelectedChoices&&\"always\"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn(\"renderSelectedChoices: Possible values are 'auto' and 'always'. Falling back to 'auto'.\"),this.config.renderSelectedChoices=\"auto\"),this.store=new f.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue=\"\",this.element=t,this.passedElement=(0,v.isType)(\"String\",t)?document.querySelector(t):t,!this.passedElement)return void(this.config.silent||console.error(\"Passed element not found\"));this.isTextElement=\"text\"===this.passedElement.type,this.isSelectOneElement=\"select-one\"===this.passedElement.type,this.isSelectMultipleElement=\"select-multiple\"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),this.isScrollingOnIe=!1,this.config.shouldSortItems===!0&&this.isSelectOneElement&&(this.config.silent||console.warn(\"shouldSortElements: Type of passed element is 'select-one', falling back to false.\")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute(\"placeholder\"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,v.generateId)(this.passedElement,\"choices-\"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0;var c=\"classList\"in document.documentElement;c||this.config.silent||console.error(\"Choices: Your browser doesn't support Choices\");var l=(0,v.isElement)(this.passedElement)&&this.isValidElementType;if(l){if(\"active\"===this.passedElement.getAttribute(\"data-choice\"))return;this.init()}else this.config.silent||console.error(\"Incompatible input passed\")}return a(e,[{key:\"init\",value:function(){if(this.initialised!==!0){var e=this.config.callbackOnInit;this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),e&&(0,v.isType)(\"Function\",e)&&e.call(this)}}},{key:\"destroy\",value:function(){if(this.initialised!==!1){this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute(\"tabindex\");var e=this.passedElement.getAttribute(\"data-choice-orig-style\");Boolean(e)?(this.passedElement.removeAttribute(\"data-choice-orig-style\"),this.passedElement.setAttribute(\"style\",e)):this.passedElement.removeAttribute(\"style\"),this.passedElement.removeAttribute(\"aria-hidden\"),this.passedElement.removeAttribute(\"data-choice\"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1}}},{key:\"renderGroups\",value:function(e,t,i){var n=this,s=i||document.createDocumentFragment(),o=this.config.sortFilter;return this.config.shouldSort&&e.sort(o),e.forEach(function(e){var i=t.filter(function(t){return n.isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&!t.selected});if(i.length>=1){var o=n._getTemplate(\"choiceGroup\",e);s.appendChild(o),n.renderChoices(i,s,!0)}}),s}},{key:\"renderChoices\",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t||document.createDocumentFragment(),r=this.config,a=r.renderSelectedChoices,c=r.searchResultLimit,l=r.renderChoiceLimit,h=this.isSearching?v.sortByScore:this.config.sortFilter,u=function(e){var t=\"auto\"!==a||(i.isSelectOneElement||!e.selected);if(t){var n=i._getTemplate(\"choice\",e);s.appendChild(n)}},d=e;\"auto\"!==a||this.isSelectOneElement||(d=e.filter(function(e){return!e.selected}));var f=d.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),p=f.placeholderChoices,m=f.normalChoices;(this.config.shouldSort||this.isSearching)&&m.sort(h);var g=d.length,y=[].concat(o(p),o(m));this.isSearching?g=c:l>0&&!n&&(g=l);for(var b=0;b<g;b++)y[b]&&u(y[b]);return s}},{key:\"renderItems\",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=i||document.createDocumentFragment();if(this.config.shouldSortItems&&!this.isSelectOneElement&&e.sort(this.config.sortFilter),this.isTextElement){var s=this.store.getItemsReducedToValues(e),o=s.join(this.config.delimiter);this.passedElement.setAttribute(\"value\",o),this.passedElement.value=o}else{var r=document.createDocumentFragment();e.forEach(function(e){var i=t._getTemplate(\"option\",e);r.appendChild(i)}),this.passedElement.innerHTML=\"\",this.passedElement.appendChild(r)}return e.forEach(function(e){var i=t._getTemplate(\"item\",e);n.appendChild(i)}),n}},{key:\"render\",value:function(){if(!this.store.isLoading()&&(this.currentState=this.store.getState(),this.currentState!==this.prevState)){if((this.currentState.choices!==this.prevState.choices||this.currentState.groups!==this.prevState.groups||this.currentState.items!==this.prevState.items)&&this.isSelectElement){var e=this.store.getGroupsFilteredByActive(),t=this.store.getChoicesFilteredByActive(),i=document.createDocumentFragment();this.choiceList.innerHTML=\"\",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),e.length>=1&&this.isSearching!==!0?i=this.renderGroups(e,t,i):t.length>=1&&(i=this.renderChoices(t,i));var n=this.store.getItemsFilteredByActive(),s=this._canAddItem(n,this.input.value);if(i.childNodes&&i.childNodes.length>0)s.response?(this.choiceList.appendChild(i),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate(\"notice\",s.notice));else{var o=void 0,r=void 0;this.isSearching?(r=(0,v.isType)(\"Function\",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,o=this._getTemplate(\"notice\",r,\"no-results\")):(r=(0,v.isType)(\"Function\",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,o=this._getTemplate(\"notice\",r,\"no-choices\")),this.choiceList.appendChild(o)}}if(this.currentState.items!==this.prevState.items){var a=this.store.getItemsFilteredByActive();if(this.itemList.innerHTML=\"\",a&&a){var c=this.renderItems(a);c.childNodes&&this.itemList.appendChild(c)}}this.prevState=this.currentState}}},{key:\"highlightItem\",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this;var i=e.id,n=e.groupId,s=n>=0?this.store.getGroupById(n):null;return this.store.dispatch((0,p.highlightItem)(i,!0)),t&&(s&&s.value?(0,v.triggerEvent)(this.passedElement,\"highlightItem\",{id:i,value:e.value,label:e.label,groupValue:s.value}):(0,v.triggerEvent)(this.passedElement,\"highlightItem\",{id:i,value:e.value,label:e.label})),this}},{key:\"unhighlightItem\",value:function(e){if(!e)return this;var t=e.id,i=e.groupId,n=i>=0?this.store.getGroupById(i):null;return this.store.dispatch((0,p.highlightItem)(t,!1)),n&&n.value?(0,v.triggerEvent)(this.passedElement,\"unhighlightItem\",{id:t,value:e.value,label:e.label,groupValue:n.value}):(0,v.triggerEvent)(this.passedElement,\"unhighlightItem\",{id:t,value:e.value,label:e.label}),this}},{key:\"highlightAll\",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.highlightItem(t)}),this}},{key:\"unhighlightAll\",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.unhighlightItem(t)}),this}},{key:\"removeItemsByValue\",value:function(e){var t=this;if(!e||!(0,v.isType)(\"String\",e))return this;var i=this.store.getItemsFilteredByActive();return i.forEach(function(i){i.value===e&&t._removeItem(i)}),this}},{key:\"removeActiveItems\",value:function(e){var t=this,i=this.store.getItemsFilteredByActive();return i.forEach(function(i){i.active&&e!==i.id&&t._removeItem(i)}),this}},{key:\"removeHighlightedItems\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.store.getItemsFilteredByActive();return i.forEach(function(i){i.highlighted&&i.active&&(e._removeItem(i),t&&e._triggerChange(i.value))}),this}},{key:\"showDropdown\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.body,i=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute(\"aria-expanded\",\"true\"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute(\"aria-expanded\",\"true\");var s=this.dropdown.getBoundingClientRect(),o=Math.ceil(s.top+window.scrollY+this.dropdown.offsetHeight),r=!1;return\"auto\"===this.config.position?r=o>=n:\"top\"===this.config.position&&(r=!0),r&&this.containerOuter.classList.add(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,v.triggerEvent)(this.passedElement,\"showDropdown\",{}),this}},{key:\"hideDropdown\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute(\"aria-expanded\",\"false\"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute(\"aria-expanded\",\"false\"),t&&this.containerOuter.classList.remove(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,v.triggerEvent)(this.passedElement,\"hideDropdown\",{}),this}},{key:\"toggleDropdown\",value:function(){var e=this.dropdown.classList.contains(this.config.classNames.activeState);return e?this.hideDropdown():this.showDropdown(!0),this}},{key:\"getValue\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.store.getItemsFilteredByActive(),n=[];return i.forEach(function(i){e.isTextElement?n.push(t?i.value:i):i.active&&n.push(t?i.value:i)}),this.isSelectOneElement?n[0]:n}},{key:\"setValue\",value:function(e){var t=this;if(this.initialised===!0){var i=[].concat(o(e)),n=function(e){var i=(0,v.getType)(e);if(\"Object\"===i){if(!e.value)return;t.isTextElement?t._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder):t._addChoice(e.value,e.label,!0,!1,-1,e.customProperties,e.placeholder)}else\"String\"===i&&(t.isTextElement?t._addItem(e):t._addChoice(e,e,!0,!1,-1,null))};i.length>1?i.forEach(function(e){n(e)}):n(i[0])}return this}},{key:\"setValueByChoice\",value:function(e){var t=this;if(!this.isTextElement){var i=this.store.getChoices(),n=(0,v.isType)(\"Array\",e)?e:[e];n.forEach(function(e){var n=i.find(function(i){return t.config.itemComparer(i.value,e)});n?n.selected?t.config.silent||console.warn(\"Attempting to select choice already selected\"):t._addItem(n.value,n.label,n.id,n.groupId,n.customProperties,n.placeholder,n.keyCode):t.config.silent||console.warn(\"Attempting to select choice that does not exist\")})}return this}},{key:\"setChoices\",value:function(e,t,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised===!0&&this.isSelectElement){if(!(0,v.isType)(\"Array\",e)||!t)return this;s&&this._clearChoices(),this._setLoading(!0),e&&e.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),e.forEach(function(e){e.choices?n._addGroup(e,e.id||null,t,i):n._addChoice(e[t],e[i],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})),this._setLoading(!1)}return this}},{key:\"clearStore\",value:function(){return this.store.dispatch((0,p.clearAll)()),this}},{key:\"clearInput\",value:function(){return this.input.value&&(this.input.value=\"\"),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0))),this}},{key:\"enable\",value:function(){if(this.initialised){this.passedElement.disabled=!1;var e=this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._addEventListeners(),this.passedElement.removeAttribute(\"disabled\"),this.input.removeAttribute(\"disabled\"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute(\"aria-disabled\"),this.isSelectOneElement&&this.containerOuter.setAttribute(\"tabindex\",\"0\"))}return this}},{key:\"disable\",value:function(){if(this.initialised){this.passedElement.disabled=!0;var e=!this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._removeEventListeners(),this.passedElement.setAttribute(\"disabled\",\"\"),this.input.setAttribute(\"disabled\",\"\"),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute(\"aria-disabled\",\"true\"),this.isSelectOneElement&&this.containerOuter.setAttribute(\"tabindex\",\"-1\"))}return this}},{key:\"ajax\",value:function(e){var t=this;return this.initialised===!0&&this.isSelectElement&&(requestAnimationFrame(function(){t._handleLoadingState(!0)}),e(this._ajaxCallback())),this}},{key:\"_triggerChange\",value:function(e){e&&(0,v.triggerEvent)(this.passedElement,\"change\",{value:e})}},{key:\"_handleButtonAction\",value:function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var i=t.parentNode.getAttribute(\"data-id\"),n=e.find(function(e){return e.id===parseInt(i,10)});this._removeItem(n),this._triggerChange(n.value),this.isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:\"_selectPlaceholderChoice\",value:function(){var e=this.store.getPlaceholderChoice();e&&(this._addItem(e.value,e.label,e.id,e.groupId,null,e.placeholder),this._triggerChange(e.value))}},{key:\"_handleItemAction\",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t&&this.config.removeItems&&!this.isSelectOneElement){var s=t.getAttribute(\"data-id\");e.forEach(function(e){e.id!==parseInt(s,10)||e.highlighted?n||e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)}),document.activeElement!==this.input&&this.input.focus()}}},{key:\"_handleChoiceAction\",value:function(e,t){if(e&&t){var i=t.getAttribute(\"data-id\"),n=this.store.getChoiceById(i),s=e[0]&&e[0].keyCode?e[0].keyCode:null,o=this.dropdown.classList.contains(this.config.classNames.activeState);if(n.keyCode=s,(0,v.triggerEvent)(this.passedElement,\"choice\",{choice:n}),n&&!n.selected&&!n.disabled){var r=this._canAddItem(e,n.value);r.response&&(this._addItem(n.value,n.label,n.id,n.groupId,n.customProperties,n.placeholder,n.keyCode),this._triggerChange(n.value))}this.clearInput(),o&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus())}}},{key:\"_handleBackspace\",value:function(e){if(this.config.removeItems&&e){var t=e[e.length-1],i=e.some(function(e){return e.highlighted});this.config.editItems&&!i&&t?(this.input.value=t.value,this._setInputWidth(),this._removeItem(t),this._triggerChange(t.value)):(i||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}}},{key:\"_canAddItem\",value:function(e,t){var i=!0,n=(0,v.isType)(\"Function\",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;(this.isSelectMultipleElement||this.isTextElement)&&this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(i=!1,n=(0,v.isType)(\"Function\",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&i&&this.config.regexFilter&&(i=this._regexFilter(t));var s=!e.some(function(e){return(0,v.isType)(\"String\",t)?e.value===t.trim():e.value===t});return s||this.config.duplicateItems||this.isSelectOneElement||!i||(i=!1,n=(0,v.isType)(\"Function\",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),{response:i,notice:n}}},{key:\"_handleLoadingState\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.itemList.querySelector(\".\"+this.config.classNames.placeholder);e?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute(\"aria-busy\",\"true\"),this.isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate(\"placeholder\",this.config.loadingText),this.itemList.appendChild(t)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?t.innerHTML=this.placeholder||\"\":this.input.placeholder=this.placeholder||\"\")}},{key:\"_ajaxCallback\",value:function(){var e=this;return function(t,i,n){if(t&&i){var s=(0,v.isType)(\"Object\",t)?[t]:t;s&&(0,v.isType)(\"Array\",s)&&s.length?(e._handleLoadingState(!1),e._setLoading(!0),s.forEach(function(t){if(t.choices){var s=t.id||null;e._addGroup(t,s,i,n)}else e._addChoice(t[i],t[n],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)}),e._setLoading(!1),e.isSelectOneElement&&e._selectPlaceholderChoice()):e._handleLoadingState(!1),e.containerOuter.removeAttribute(\"aria-busy\")}}}},{key:\"_searchChoices\",value:function(e){var t=(0,v.isType)(\"String\",e)?e.trim():e,i=(0,v.isType)(\"String\",this.currentValue)?this.currentValue.trim():this.currentValue;if(t.length>=1&&t!==i+\" \"){var n=this.store.getSearchableChoices(),s=t,o=(0,v.isType)(\"Array\",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],r=Object.assign(this.config.fuseOptions,{keys:o}),a=new l.default(n,r),c=a.search(s);return this.currentValue=t,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,p.filterChoices)(c)),c.length}return 0}},{key:\"_handleSearch\",value:function(e){if(e){var t=this.store.getChoices(),i=t.some(function(e){return!e.active});if(this.input===document.activeElement)if(e&&e.length>=this.config.searchFloor){var n=0;this.config.searchChoices&&(n=this._searchChoices(e)),(0,v.triggerEvent)(this.passedElement,\"search\",{value:e,resultCount:n})}else i&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))}}},{key:\"_addEventListeners\",value:function(){document.addEventListener(\"keyup\",this._onKeyUp),document.addEventListener(\"keydown\",this._onKeyDown),document.addEventListener(\"click\",this._onClick),document.addEventListener(\"touchmove\",this._onTouchMove),document.addEventListener(\"touchend\",this._onTouchEnd),document.addEventListener(\"mousedown\",this._onMouseDown),document.addEventListener(\"mouseover\",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener(\"focus\",this._onFocus),this.containerOuter.addEventListener(\"blur\",this._onBlur)),this.input.addEventListener(\"input\",this._onInput),this.input.addEventListener(\"paste\",this._onPaste),this.input.addEventListener(\"focus\",this._onFocus),this.input.addEventListener(\"blur\",this._onBlur)}},{key:\"_removeEventListeners\",value:function(){document.removeEventListener(\"keyup\",this._onKeyUp),document.removeEventListener(\"keydown\",this._onKeyDown),document.removeEventListener(\"click\",this._onClick),document.removeEventListener(\"touchmove\",this._onTouchMove),document.removeEventListener(\"touchend\",this._onTouchEnd),document.removeEventListener(\"mousedown\",this._onMouseDown),document.removeEventListener(\"mouseover\",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener(\"focus\",this._onFocus),this.containerOuter.removeEventListener(\"blur\",this._onBlur)),this.input.removeEventListener(\"input\",this._onInput),this.input.removeEventListener(\"paste\",this._onPaste),this.input.removeEventListener(\"focus\",this._onFocus),this.input.removeEventListener(\"blur\",this._onBlur)}},{key:\"_setInputWidth\",value:function(){this.placeholder?this.input.value&&this.input.value.length>=this.placeholder.length/1.25&&(this.input.style.width=(0,v.getWidthOfInput)(this.input)):this.input.style.width=(0,v.getWidthOfInput)(this.input)}},{key:\"_onKeyDown\",value:function(e){var t,i=this;if(e.target===this.input||this.containerOuter.contains(e.target)){var n=e.target,o=this.store.getItemsFilteredByActive(),r=this.input===document.activeElement,a=this.dropdown.classList.contains(this.config.classNames.activeState),c=this.itemList&&this.itemList.children,l=String.fromCharCode(e.keyCode),h=46,u=8,d=13,f=65,p=27,m=38,g=40,y=33,b=34,E=e.ctrlKey||e.metaKey;this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(l)||a||this.showDropdown(!0),this.canSearch=this.config.searchEnabled;var _=function(){E&&c&&(i.canSearch=!1,i.config.removeItems&&!i.input.value&&i.input===document.activeElement&&i.highlightAll())},S=function(){if(i.isTextElement&&n.value){var t=i.input.value,s=i._canAddItem(o,t);s.response&&(a&&i.hideDropdown(),i._addItem(t),i._triggerChange(t),i.clearInput())}if(n.hasAttribute(\"data-button\")&&(i._handleButtonAction(o,n),e.preventDefault()),a){e.preventDefault();var r=i.dropdown.querySelector(\".\"+i.config.classNames.highlightedState);r&&(o[0]&&(o[0].keyCode=d),i._handleChoiceAction(o,r))}else i.isSelectOneElement&&(a||(i.showDropdown(!0),e.preventDefault()))},I=function(){a&&(i.toggleDropdown(),i.containerOuter.focus())},w=function(){if(a||i.isSelectOneElement){a||i.showDropdown(!0),i.canSearch=!1;var t=e.keyCode===g||e.keyCode===b?1:-1,n=e.metaKey||e.keyCode===b||e.keyCode===y,s=void 0;if(n)s=t>0?Array.from(i.dropdown.querySelectorAll(\"[data-choice-selectable]\")).pop():i.dropdown.querySelector(\"[data-choice-selectable]\");else{var o=i.dropdown.querySelector(\".\"+i.config.classNames.highlightedState);s=o?(0,v.getAdjacentEl)(o,\"[data-choice-selectable]\",t):i.dropdown.querySelector(\"[data-choice-selectable]\")}s&&((0,v.isScrolledIntoView)(s,i.choiceList,t)||i._scrollToChoice(s,t),i._highlightChoice(s)),e.preventDefault()}},T=function(){!r||e.target.value||i.isSelectOneElement||(i._handleBackspace(o),e.preventDefault())},C=(t={},s(t,f,_),s(t,d,S),s(t,p,I),s(t,m,w),s(t,y,w),s(t,g,w),s(t,b,w),s(t,u,T),s(t,h,T),t);C[e.keyCode]&&C[e.keyCode]()}}},{key:\"_onKeyUp\",value:function(e){if(e.target===this.input){var t=this.input.value,i=this.store.getItemsFilteredByActive(),n=this._canAddItem(i,t);if(this.isTextElement){var s=this.dropdown.classList.contains(this.config.classNames.activeState);if(t){if(n.notice){var o=this._getTemplate(\"notice\",n.notice);this.dropdown.innerHTML=o.outerHTML}n.response===!0?s||this.showDropdown():!n.notice&&s&&this.hideDropdown()}else s&&this.hideDropdown()}else{var r=46,a=8;e.keyCode!==r&&e.keyCode!==a||e.target.value?this.canSearch&&n.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))}this.canSearch=this.config.searchEnabled}}},{key:\"_onInput\",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:\"_onTouchMove\",value:function(){this.wasTap===!0&&(this.wasTap=!1)}},{key:\"_onTouchEnd\",value:function(e){var t=e.target||e.touches[0].target,i=this.dropdown.classList.contains(this.config.classNames.activeState);this.wasTap===!0&&this.containerOuter.contains(t)&&(t!==this.containerOuter&&t!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():i||this.showDropdown(!0)),e.stopPropagation()),this.wasTap=!0}},{key:\"_onMouseDown\",value:function(e){var t=e.target;if(t===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(t)&&t!==this.input){var i=void 0,n=this.store.getItemsFilteredByActive(),s=e.shiftKey;(i=(0,v.findAncestorByAttrName)(t,\"data-button\"))?this._handleButtonAction(n,i):(i=(0,v.findAncestorByAttrName)(t,\"data-item\"))?this._handleItemAction(n,i,s):(i=(0,v.findAncestorByAttrName)(t,\"data-choice\"))&&this._handleChoiceAction(n,i),e.preventDefault()}}},{key:\"_onClick\",value:function(e){var t=e.target,i=this.dropdown.classList.contains(this.config.classNames.activeState),n=this.store.getItemsFilteredByActive();if(this.containerOuter.contains(t))t.hasAttribute(\"data-button\")&&this._handleButtonAction(n,t),i?this.isSelectOneElement&&t!==this.input&&!this.dropdown.contains(t)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus());else{var s=n.some(function(e){return e.highlighted});s&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),i&&this.hideDropdown()}}},{key:\"_onMouseOver\",value:function(e){(e.target===this.dropdown||this.dropdown.contains(e.target))&&e.target.hasAttribute(\"data-choice\")&&this._highlightChoice(e.target)}},{key:\"_onPaste\",value:function(e){e.target!==this.input||this.config.paste||e.preventDefault()}},{key:\"_onFocus\",value:function(e){var t=this,i=e.target;if(this.containerOuter.contains(i)){var n=this.dropdown.classList.contains(this.config.classNames.activeState),s={text:function(){i===t.input&&t.containerOuter.classList.add(t.config.classNames.focusState)},\"select-one\":function(){t.containerOuter.classList.add(t.config.classNames.focusState),i===t.input&&(n||t.showDropdown())},\"select-multiple\":function(){i===t.input&&(t.containerOuter.classList.add(t.config.classNames.focusState),n||t.showDropdown(!0))}};s[this.passedElement.type]()}}},{key:\"_onBlur\",value:function(e){var t=this,i=e.target;if(this.containerOuter.contains(i)&&!this.isScrollingOnIe){var n=this.store.getItemsFilteredByActive(),s=this.dropdown.classList.contains(this.config.classNames.activeState),o=n.some(function(e){return e.highlighted}),r={text:function(){i===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),o&&t.unhighlightAll(),s&&t.hideDropdown())},\"select-one\":function(){t.containerOuter.classList.remove(t.config.classNames.focusState),i===t.containerOuter&&s&&!t.canSearch&&t.hideDropdown(),i===t.input&&s&&t.hideDropdown()},\"select-multiple\":function(){i===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),s&&t.hideDropdown(),o&&t.unhighlightAll())}};r[this.passedElement.type]()}else this.isScrollingOnIe=!1,this.input.focus()}},{key:\"_regexFilter\",value:function(e){if(!e)return!1;var t=this.config.regexFilter,i=new RegExp(t.source,\"i\");return i.test(e)}},{key:\"_scrollToChoice\",value:function(e,t){var i=this;if(e){var n=this.choiceList.offsetHeight,s=e.offsetHeight,o=e.offsetTop+s,r=this.choiceList.scrollTop+n,a=t>0?this.choiceList.scrollTop+o-r:e.offsetTop,c=function e(){var n=4,s=i.choiceList.scrollTop,o=!1,r=void 0,c=void 0;t>0?(r=(a-s)/n,c=r>1?r:1,i.choiceList.scrollTop=s+c,s<a&&(o=!0)):(r=(s-a)/n,c=r>1?r:1,i.choiceList.scrollTop=s-c,s>a&&(o=!0)),o&&requestAnimationFrame(function(i){e(i,a,t)})};requestAnimationFrame(function(e){c(e,a,t)})}}},{key:\"_highlightChoice\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=Array.from(this.dropdown.querySelectorAll(\"[data-choice-selectable]\")),n=t;if(i&&i.length){var s=Array.from(this.dropdown.querySelectorAll(\".\"+this.config.classNames.highlightedState));s.forEach(function(t){t.classList.remove(e.config.classNames.highlightedState),t.setAttribute(\"aria-selected\",\"false\")}),n?this.highlightPosition=i.indexOf(n):(n=i.length>this.highlightPosition?i[this.highlightPosition]:i[i.length-1],n||(n=i[0])),n.classList.add(this.config.classNames.highlightedState),n.setAttribute(\"aria-selected\",\"true\"),this.containerOuter.setAttribute(\"aria-activedescendant\",n.id)}}},{key:\"_addItem\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=(0,v.isType)(\"String\",e)?e.trim():e,c=r,l=this.store.getItems(),h=t||a,u=parseInt(i,10)||-1,d=n>=0?this.store.getGroupById(n):null,f=l?l.length+1:1;return this.config.prependValue&&(a=this.config.prependValue+a.toString()),this.config.appendValue&&(a+=this.config.appendValue.toString()),\nthis.store.dispatch((0,p.addItem)(a,h,f,u,n,s,o,c)),this.isSelectOneElement&&this.removeActiveItems(f),d&&d.value?(0,v.triggerEvent)(this.passedElement,\"addItem\",{id:f,value:a,label:h,groupValue:d.value,keyCode:c}):(0,v.triggerEvent)(this.passedElement,\"addItem\",{id:f,value:a,label:h,keyCode:c}),this}},{key:\"_removeItem\",value:function(e){if(!e||!(0,v.isType)(\"Object\",e))return this;var t=e.id,i=e.value,n=e.label,s=e.choiceId,o=e.groupId,r=o>=0?this.store.getGroupById(o):null;return this.store.dispatch((0,p.removeItem)(t,s)),r&&r.value?(0,v.triggerEvent)(this.passedElement,\"removeItem\",{id:t,value:i,label:n,groupValue:r.value}):(0,v.triggerEvent)(this.passedElement,\"removeItem\",{id:t,value:i,label:n}),this}},{key:\"_addChoice\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(\"undefined\"!=typeof e&&null!==e){var c=this.store.getChoices(),l=t||e,h=c?c.length+1:1,u=this.baseId+\"-\"+this.idNames.itemChoice+\"-\"+h;this.store.dispatch((0,p.addChoice)(e,l,h,s,n,u,o,r,a)),i&&this._addItem(e,l,h,void 0,o,r,a)}}},{key:\"_clearChoices\",value:function(){this.store.dispatch((0,p.clearChoices)())}},{key:\"_addGroup\",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"value\",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"label\",o=(0,v.isType)(\"Object\",e)?e.choices:Array.from(e.getElementsByTagName(\"OPTION\")),r=t?t:Math.floor((new Date).valueOf()*Math.random()),a=!!e.disabled&&e.disabled;o?(this.store.dispatch((0,p.addGroup)(e.label,r,!0,a)),o.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled;i._addChoice(e[n],(0,v.isType)(\"Object\",e)?e[s]:e.innerHTML,e.selected,t,r,e.customProperties,e.placeholder)})):this.store.dispatch((0,p.addGroup)(e.label,e.id,!1,e.disabled))}},{key:\"_getTemplate\",value:function(e){if(!e)return null;for(var t=this.config.templates,i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t[e].apply(t,n)}},{key:\"_createTemplates\",value:function(){var e=this,t=this.config.classNames,i={containerOuter:function(i){return(0,v.strToEl)('\\n          <div\\n            class=\"'+t.containerOuter+'\"\\n            '+(e.isSelectElement?e.config.searchEnabled?'role=\"combobox\" aria-autocomplete=\"list\"':'role=\"listbox\"':\"\")+'\\n            data-type=\"'+e.passedElement.type+'\"\\n            '+(e.isSelectOneElement?'tabindex=\"0\"':\"\")+'\\n            aria-haspopup=\"true\"\\n            aria-expanded=\"false\"\\n            dir=\"'+i+'\"\\n            >\\n          </div>\\n        ')},containerInner:function(){return(0,v.strToEl)('\\n          <div class=\"'+t.containerInner+'\"></div>\\n        ')},itemList:function(){var i,n=(0,u.default)(t.list,(i={},s(i,t.listSingle,e.isSelectOneElement),s(i,t.listItems,!e.isSelectOneElement),i));return(0,v.strToEl)('\\n          <div class=\"'+n+'\"></div>\\n        ')},placeholder:function(e){return(0,v.strToEl)('\\n          <div class=\"'+t.placeholder+'\">\\n            '+e+\"\\n          </div>\\n        \")},item:function(i){var n,o=(0,u.default)(t.item,(n={},s(n,t.highlightedState,i.highlighted),s(n,t.itemSelectable,!i.highlighted),s(n,t.placeholder,i.placeholder),n));if(e.config.removeItemButton){var r;return o=(0,u.default)(t.item,(r={},s(r,t.highlightedState,i.highlighted),s(r,t.itemSelectable,!i.disabled),s(r,t.placeholder,i.placeholder),r)),(0,v.strToEl)('\\n            <div\\n              class=\"'+o+'\"\\n              data-item\\n              data-id=\"'+i.id+'\"\\n              data-value=\"'+i.value+'\"\\n              data-deletable\\n              '+(i.active?'aria-selected=\"true\"':\"\")+\"\\n              \"+(i.disabled?'aria-disabled=\"true\"':\"\")+\"\\n              >\\n              \"+i.label+'<!--\\n           --><button\\n                type=\"button\"\\n                class=\"'+t.button+'\"\\n                data-button\\n                aria-label=\"Remove item: \\''+i.value+\"'\\\"\\n                >\\n                Remove item\\n              </button>\\n            </div>\\n          \")}return(0,v.strToEl)('\\n          <div\\n            class=\"'+o+'\"\\n            data-item\\n            data-id=\"'+i.id+'\"\\n            data-value=\"'+i.value+'\"\\n            '+(i.active?'aria-selected=\"true\"':\"\")+\"\\n            \"+(i.disabled?'aria-disabled=\"true\"':\"\")+\"\\n            >\\n            \"+i.label+\"\\n          </div>\\n        \")},choiceList:function(){return(0,v.strToEl)('\\n          <div\\n            class=\"'+t.list+'\"\\n            dir=\"ltr\"\\n            role=\"listbox\"\\n            '+(e.isSelectOneElement?\"\":'aria-multiselectable=\"true\"')+\"\\n            >\\n          </div>\\n        \")},choiceGroup:function(e){var i=(0,u.default)(t.group,s({},t.itemDisabled,e.disabled));return(0,v.strToEl)('\\n          <div\\n            class=\"'+i+'\"\\n            data-group\\n            data-id=\"'+e.id+'\"\\n            data-value=\"'+e.value+'\"\\n            role=\"group\"\\n            '+(e.disabled?'aria-disabled=\"true\"':\"\")+'\\n            >\\n            <div class=\"'+t.groupHeading+'\">'+e.value+\"</div>\\n          </div>\\n        \")},choice:function(i){var n,o=(0,u.default)(t.item,t.itemChoice,(n={},s(n,t.itemDisabled,i.disabled),s(n,t.itemSelectable,!i.disabled),s(n,t.placeholder,i.placeholder),n));return(0,v.strToEl)('\\n          <div\\n            class=\"'+o+'\"\\n            data-select-text=\"'+e.config.itemSelectText+'\"\\n            data-choice\\n            data-id=\"'+i.id+'\"\\n            data-value=\"'+i.value+'\"\\n            '+(i.disabled?'data-choice-disabled aria-disabled=\"true\"':\"data-choice-selectable\")+'\\n            id=\"'+i.elementId+'\"\\n            '+(i.groupId>0?'role=\"treeitem\"':'role=\"option\"')+\"\\n            >\\n            \"+i.label+\"\\n          </div>\\n        \")},input:function(){var e=(0,u.default)(t.input,t.inputCloned);return(0,v.strToEl)('\\n          <input\\n            type=\"text\"\\n            class=\"'+e+'\"\\n            autocomplete=\"off\"\\n            autocapitalize=\"off\"\\n            spellcheck=\"false\"\\n            role=\"textbox\"\\n            aria-autocomplete=\"list\"\\n            >\\n        ')},dropdown:function(){var e=(0,u.default)(t.list,t.listDropdown);return(0,v.strToEl)('\\n          <div\\n            class=\"'+e+'\"\\n            aria-expanded=\"false\"\\n            >\\n          </div>\\n        ')},notice:function(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",o=(0,u.default)(t.item,t.itemChoice,(i={},s(i,t.noResults,\"no-results\"===n),s(i,t.noChoices,\"no-choices\"===n),i));return(0,v.strToEl)('\\n          <div class=\"'+o+'\">\\n            '+e+\"\\n          </div>\\n        \")},option:function(e){return(0,v.strToEl)('\\n          <option value=\"'+e.value+'\" selected>'+e.label+\"</option>\\n        \")}},n=this.config.callbackOnCreateTemplates,o={};n&&(0,v.isType)(\"Function\",n)&&(o=n.call(this,v.strToEl)),this.config.templates=(0,v.extend)(i,o)}},{key:\"_setLoading\",value:function(e){this.store.dispatch((0,p.setIsLoading)(e))}},{key:\"_createInput\",value:function(){var e=this,t=this.passedElement.getAttribute(\"dir\")||\"ltr\",i=this._getTemplate(\"containerOuter\",t),n=this._getTemplate(\"containerInner\"),s=this._getTemplate(\"itemList\"),o=this._getTemplate(\"choiceList\"),r=this._getTemplate(\"input\"),a=this._getTemplate(\"dropdown\");this.containerOuter=i,this.containerInner=n,this.input=r,this.choiceList=o,this.itemList=s,this.dropdown=a,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex=\"-1\";var c=this.passedElement.getAttribute(\"style\");if(Boolean(c)&&this.passedElement.setAttribute(\"data-choice-orig-style\",c),this.passedElement.setAttribute(\"style\",\"display:none;\"),this.passedElement.setAttribute(\"aria-hidden\",\"true\"),this.passedElement.setAttribute(\"data-choice\",\"active\"),(0,v.wrap)(this.passedElement,n),(0,v.wrap)(n,i),this.isSelectOneElement?r.placeholder=this.config.searchPlaceholderValue||\"\":this.placeholder&&(r.placeholder=this.placeholder,r.style.width=(0,v.getWidthOfInput)(r)),this.config.addItems||this.disable(),i.appendChild(n),i.appendChild(a),n.appendChild(s),this.isTextElement||a.appendChild(o),this.isSelectMultipleElement||this.isTextElement?n.appendChild(r):this.canSearch&&a.insertBefore(r,a.firstChild),this.isSelectElement){var l=Array.from(this.passedElement.getElementsByTagName(\"OPTGROUP\"));if(this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),l&&l.length)l.forEach(function(t){e._addGroup(t,t.id||null)});else{var h=Array.from(this.passedElement.options),u=this.config.sortFilter,d=this.presetChoices;h.forEach(function(e){d.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.hasAttribute(\"placeholder\")})}),this.config.shouldSort&&d.sort(u);var f=d.some(function(e){return e.selected});d.forEach(function(t,i){if(e.isSelectOneElement){var n=f||!f&&i>0;e._addChoice(t.value,t.label,!n||t.selected,!!n&&t.disabled,void 0,t.customProperties,t.placeholder)}else e._addChoice(t.value,t.label,t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})}this._setLoading(!1)}else this.isTextElement&&this.presetItems.forEach(function(t){var i=(0,v.getType)(t);if(\"Object\"===i){if(!t.value)return;e._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder)}else\"String\"===i&&e._addItem(t)})}}]),e}();e.exports=m},function(e,t,i){!function(t){\"use strict\";function i(){console.log.apply(console,arguments)}function n(e,t){var i;this.list=e,this.options=t=t||{};for(i in a)a.hasOwnProperty(i)&&(\"boolean\"==typeof a[i]?this.options[i]=i in t?t[i]:a[i]:this.options[i]=t[i]||a[i])}function s(e,t,i){var n,r,a,c,l,h;if(t){if(a=t.indexOf(\".\"),a!==-1?(n=t.slice(0,a),r=t.slice(a+1)):n=t,c=e[n],null!==c&&void 0!==c)if(r||\"string\"!=typeof c&&\"number\"!=typeof c)if(o(c))for(l=0,h=c.length;l<h;l++)s(c[l],r,i);else r&&s(c,r,i);else i.push(c)}else i.push(e);return i}function o(e){return\"[object Array]\"===Object.prototype.toString.call(e)}function r(e,t){t=t||{},this.options=t,this.options.location=t.location||r.defaultOptions.location,this.options.distance=\"distance\"in t?t.distance:r.defaultOptions.distance,this.options.threshold=\"threshold\"in t?t.threshold:r.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||r.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var a={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:r,sortFn:function(e,t){return e.score-t.score},getFn:s,keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};n.VERSION=\"2.7.3\",n.prototype.set=function(e){return this.list=e,e},n.prototype.search=function(e){this.options.verbose&&i(\"\\nSearch term:\",e,\"\\n\"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort();var t=this._format();return t},n.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,i=e.searchFn,n=t.split(e.tokenSeparator),s=0,o=n.length;if(this.options.tokenize)for(this.tokenSearchers=[];s<o;s++)this.tokenSearchers.push(new i(n[s],e));this.fullSeacher=new i(t,e)},n.prototype._startSearch=function(){var e,t,i,n,s=this.options,o=s.getFn,r=this.list,a=r.length,c=this.options.keys,l=c.length,h=null;if(\"string\"==typeof r[0])for(i=0;i<a;i++)this._analyze(\"\",r[i],i,i);else for(this._keyMap={},i=0;i<a;i++)for(h=r[i],n=0;n<l;n++){if(e=c[n],\"string\"!=typeof e){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||e.weight>1)throw new Error(\"Key weight has to be > 0 and <= 1\");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,o(h,e,[]),h,i)}},n.prototype._analyze=function(e,t,n,s){var r,a,c,l,h,u,d,f,p,v,m,g,y,b,E,_=this.options,S=!1;if(void 0!==t&&null!==t){a=[];var I=0;if(\"string\"==typeof t){if(r=t.split(_.tokenSeparator),_.verbose&&i(\"---------\\nKey:\",e),this.options.tokenize){for(b=0;b<this.tokenSearchers.length;b++){for(f=this.tokenSearchers[b],_.verbose&&i(\"Pattern:\",f.pattern),p=[],g=!1,E=0;E<r.length;E++){v=r[E],m=f.search(v);var w={};m.isMatch?(w[v]=m.score,S=!0,g=!0,a.push(m.score)):(w[v]=1,this.options.matchAllTokens||a.push(1)),p.push(w)}g&&I++,_.verbose&&i(\"Token scores:\",p)}for(l=a[0],u=a.length,b=1;b<u;b++)l+=a[b];l/=u,_.verbose&&i(\"Token score average:\",l)}d=this.fullSeacher.search(t),_.verbose&&i(\"Full text score:\",d.score),h=d.score,void 0!==l&&(h=(h+l)/2),_.verbose&&i(\"Score average:\",h),y=!this.options.tokenize||!this.options.matchAllTokens||I>=this.tokenSearchers.length,_.verbose&&i(\"Check Matches\",y),(S||d.isMatch)&&y&&(c=this.resultMap[s],c?c.output.push({key:e,score:h,matchedIndices:d.matchedIndices}):(this.resultMap[s]={item:n,output:[{key:e,score:h,matchedIndices:d.matchedIndices}]},this.results.push(this.resultMap[s])))}else if(o(t))for(b=0;b<t.length;b++)this._analyze(e,t[b],n,s)}},n.prototype._computeScore=function(){var e,t,n,s,o,r,a,c,l,h=this._keyMap,u=this.results;for(this.options.verbose&&i(\"\\n\\nComputing score:\\n\"),e=0;e<u.length;e++){for(n=0,s=u[e].output,o=s.length,c=1,t=0;t<o;t++)r=s[t].score,a=h?h[s[t].key].weight:1,l=r*a,1!==a?c=Math.min(c,l):(n+=l,s[t].nScore=l);1===c?u[e].score=n/o:u[e].score=c,this.options.verbose&&i(u[e])}},n.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&i(\"\\n\\nSorting....\"),this.results.sort(e.sortFn))},n.prototype._format=function(){var e,t,n,s,o=this.options,r=o.getFn,a=[],c=this.results,l=o.include;for(o.verbose&&i(\"\\n\\nOutput:\\n\\n\",c),n=o.id?function(e){c[e].item=r(c[e].item,o.id,[])[0]}:function(){},s=function(e){var t,i,n,s,o,r=c[e];if(l.length>0){if(t={item:r.item},l.indexOf(\"matches\")!==-1)for(n=r.output,t.matches=[],i=0;i<n.length;i++)s=n[i],o={indices:s.matchedIndices},s.key&&(o.key=s.key),t.matches.push(o);l.indexOf(\"score\")!==-1&&(t.score=c[e].score)}else t=r.item;return t},e=0,t=c.length;e<t;e++)n(e),a.push(s(e));return a},r.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},r.prototype._calculatePatternAlphabet=function(){var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},r.prototype._bitapScore=function(e,t){var i=e/this.patternLen,n=Math.abs(this.options.location-t);return this.options.distance?i+n/this.options.distance:n?1:i},r.prototype.search=function(e){var t,i,n,s,o,r,a,c,l,h,u,d,f,p,v,m,g,y,b,E,_,S,I,w=this.options;if(e=w.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>w.maxPatternLength){if(y=e.match(new RegExp(this.pattern.replace(w.tokenSeparator,\"|\"))),b=!!y)for(_=[],t=0,S=y.length;t<S;t++)I=y[t],_.push([e.indexOf(I),I.length-1]);return{isMatch:b,score:b?.5:1,matchedIndices:_}}for(s=w.findAllMatches,o=w.location,n=e.length,r=w.threshold,a=e.indexOf(this.pattern,o),E=[],t=0;t<n;t++)E[t]=0;for(a!=-1&&(r=Math.min(this._bitapScore(0,a),r),a=e.lastIndexOf(this.pattern,o+this.patternLen),a!=-1&&(r=Math.min(this._bitapScore(0,a),r))),a=-1,m=1,g=[],h=this.patternLen+n,t=0;t<this.patternLen;t++){for(c=0,l=h;c<l;)this._bitapScore(t,o+l)<=r?c=l:h=l,l=Math.floor((h-c)/2+c);for(h=l,u=Math.max(1,o-l+1),d=s?n:Math.min(o+l,n)+this.patternLen,f=Array(d+2),f[d+1]=(1<<t)-1,i=d;i>=u;i--)if(v=this.patternAlphabet[e.charAt(i-1)],v&&(E[i-1]=1),f[i]=(f[i+1]<<1|1)&v,0!==t&&(f[i]|=(p[i+1]|p[i])<<1|1|p[i+1]),f[i]&this.matchmask&&(m=this._bitapScore(t,i-1),m<=r)){if(r=m,a=i-1,g.push(a),a<=o)break;u=Math.max(1,2*o-a)}if(this._bitapScore(t+1,o)>r)break;p=f}return _=this._getMatchedIndices(E),{isMatch:a>=0,score:0===m?.001:m,matchedIndices:_}},r.prototype._getMatchedIndices=function(e){for(var t,i=[],n=-1,s=-1,o=0,r=e.length;o<r;o++)t=e[o],t&&n===-1?n=o:t||n===-1||(s=o-1,s-n+1>=this.options.minMatchCharLength&&i.push([n,s]),n=-1);return e[o-1]&&o-1-n+1>=this.options.minMatchCharLength&&i.push([n,o-1]),i},e.exports=n}(this)},function(e,t,i){var n,s;!function(){\"use strict\";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if(\"string\"===s||\"number\"===s)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if(\"object\"===s)for(var r in n)o.call(n,r)&&n[r]&&e.push(r)}}return e.join(\" \")}var o={}.hasOwnProperty;\"undefined\"!=typeof e&&e.exports?e.exports=i:(n=[],s=function(){return i}.apply(t,n),!(void 0!==s&&(e.exports=s)))}()},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),c=i(26),l=n(c),h=function(){function e(){o(this,e),this.store=(0,a.createStore)(l.default,window.devToolsExtension?window.devToolsExtension():void 0)}return r(e,[{key:\"getState\",value:function(){return this.store.getState()}},{key:\"dispatch\",value:function(e){this.store.dispatch(e)}},{key:\"subscribe\",value:function(e){this.store.subscribe(e)}},{key:\"isLoading\",value:function(){var e=this.store.getState();return e.general.loading}},{key:\"getItems\",value:function(){var e=this.store.getState();return e.items}},{key:\"getItemsFilteredByActive\",value:function(){var e=this.getItems(),t=e.filter(function(e){return e.active===!0},[]);return t}},{key:\"getItemsReducedToValues\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getItems(),t=e.reduce(function(e,t){return e.push(t.value),e},[]);return t}},{key:\"getChoices\",value:function(){var e=this.store.getState();return e.choices}},{key:\"getChoicesFilteredByActive\",value:function(){var e=this.getChoices(),t=e.filter(function(e){return e.active===!0});return t}},{key:\"getChoicesFilteredBySelectable\",value:function(){var e=this.getChoices(),t=e.filter(function(e){return e.disabled!==!0});return t}},{key:\"getSearchableChoices\",value:function(){var e=this.getChoicesFilteredBySelectable();return e.filter(function(e){return e.placeholder!==!0})}},{key:\"getChoiceById\",value:function(e){if(e){var t=this.getChoicesFilteredByActive(),i=t.find(function(t){return t.id===parseInt(e,10)});return i}return!1}},{key:\"getGroups\",value:function(){var e=this.store.getState();return e.groups}},{key:\"getGroupsFilteredByActive\",value:function(){var e=this.getGroups(),t=this.getChoices(),i=e.filter(function(e){var i=e.active===!0&&e.disabled===!1,n=t.some(function(e){return e.active===!0&&e.disabled===!1});return i&&n},[]);return i}},{key:\"getGroupById\",value:function(e){var t=this.getGroups(),i=t.find(function(t){return t.id===e});return i}},{key:\"getPlaceholderChoice\",value:function(){var e=this.getChoices(),t=[].concat(s(e)).reverse().find(function(e){return e.placeholder===!0});return t}}]),e}();t.default=h,e.exports=h},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var s=i(6),o=n(s),r=i(21),a=n(r),c=i(23),l=n(c),h=i(24),u=n(h),d=i(25),f=n(d),p=i(22);n(p);t.createStore=o.default,t.combineReducers=a.default,t.bindActionCreators=l.default,t.applyMiddleware=u.default,t.compose=f.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i){function n(){g===m&&(g=m.slice())}function o(){return v}function a(e){if(\"function\"!=typeof e)throw new Error(\"Expected listener to be a function.\");var t=!0;return n(),g.push(e),function(){if(t){t=!1,n();var i=g.indexOf(e);g.splice(i,1)}}}function h(e){if(!(0,r.default)(e))throw new Error(\"Actions must be plain objects. Use custom middleware for async actions.\");if(\"undefined\"==typeof e.type)throw new Error('Actions may not have an undefined \"type\" property. Have you misspelled a constant?');if(y)throw new Error(\"Reducers may not dispatch actions.\");try{y=!0,v=p(v,e)}finally{y=!1}for(var t=m=g,i=0;i<t.length;i++){var n=t[i];n()}return e}function u(e){if(\"function\"!=typeof e)throw new Error(\"Expected the nextReducer to be a function.\");p=e,h({type:l.INIT})}function d(){var e,t=a;return e={subscribe:function(e){function i(){e.next&&e.next(o())}if(\"object\"!=typeof e)throw new TypeError(\"Expected the observer to be an object.\");i();var n=t(i);return{unsubscribe:n}}},e[c.default]=function(){return this},e}var f;if(\"function\"==typeof t&&\"undefined\"==typeof i&&(i=t,t=void 0),\"undefined\"!=typeof i){if(\"function\"!=typeof i)throw new Error(\"Expected the enhancer to be a function.\");return i(s)(e,t)}if(\"function\"!=typeof e)throw new Error(\"Expected the reducer to be a function.\");var p=e,v=t,m=[],g=m,y=!1;return h({type:l.INIT}),f={dispatch:h,subscribe:a,getState:o,replaceReducer:u},f[c.default]=d,f}t.__esModule=!0,t.ActionTypes=void 0,t.default=s;var o=i(7),r=n(o),a=i(17),c=n(a),l=t.ActionTypes={INIT:\"@@redux/INIT\"}},function(e,t,i){function n(e){if(!r(e)||s(e)!=a)return!1;var t=o(e);if(null===t)return!0;var i=u.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof i&&i instanceof i&&h.call(i)==d}var s=i(8),o=i(14),r=i(16),a=\"[object Object]\",c=Function.prototype,l=Object.prototype,h=c.toString,u=l.hasOwnProperty,d=h.call(Object);e.exports=n},function(e,t,i){function n(e){return null==e?void 0===e?c:a:l&&l in Object(e)?o(e):r(e)}var s=i(9),o=i(12),r=i(13),a=\"[object Null]\",c=\"[object Undefined]\",l=s?s.toStringTag:void 0;e.exports=n},function(e,t,i){var n=i(10),s=n.Symbol;e.exports=s},function(e,t,i){var n=i(11),s=\"object\"==typeof self&&self&&self.Object===Object&&self,o=n||s||Function(\"return this\")();e.exports=o},function(e,t){(function(t){var i=\"object\"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(t,function(){return this}())},function(e,t,i){function n(e){var t=r.call(e,c),i=e[c];try{e[c]=void 0;var n=!0}catch(e){}var s=a.call(e);return n&&(t?e[c]=i:delete e[c]),s}var s=i(9),o=Object.prototype,r=o.hasOwnProperty,a=o.toString,c=s?s.toStringTag:void 0;e.exports=n},function(e,t){function i(e){return s.call(e)}var n=Object.prototype,s=n.toString;e.exports=i},function(e,t,i){var n=i(15),s=n(Object.getPrototypeOf,Object);e.exports=s},function(e,t){function i(e,t){return function(i){return e(t(i))}}e.exports=i},function(e,t){function i(e){return null!=e&&\"object\"==typeof e}e.exports=i},function(e,t,i){e.exports=i(18)},function(e,t,i){(function(e,n){\"use strict\";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var o,r=i(20),a=s(r);o=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof e?e:n;var c=(0,a.default)(o);t.default=c}).call(t,function(){return this}(),i(19)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){\"use strict\";function i(e){var t,i=e.Symbol;return\"function\"==typeof i?i.observable?t=i.observable:(t=i(\"observable\"),i.observable=t):t=\"@@observable\",t}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=i},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var i=t&&t.type,n=i&&'\"'+i.toString()+'\"'||\"an action\";return\"Given action \"+n+', reducer \"'+e+'\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var i=e[t],n=i(void 0,{type:a.ActionTypes.INIT});if(\"undefined\"==typeof n)throw new Error('Reducer \"'+t+\"\\\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.\");var s=\"@@redux/PROBE_UNKNOWN_ACTION_\"+Math.random().toString(36).substring(7).split(\"\").join(\".\");if(\"undefined\"==typeof i(void 0,{type:s}))throw new Error('Reducer \"'+t+'\" returned undefined when probed with a random type. '+(\"Don't try to handle \"+a.ActionTypes.INIT+' or other actions in \"redux/*\" ')+\"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.\")})}function r(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++){var r=t[n];\"function\"==typeof e[r]&&(i[r]=e[r])}var a=Object.keys(i),c=void 0;try{o(i)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var n=!1,o={},r=0;r<a.length;r++){var l=a[r],h=i[l],u=e[l],d=h(u,t);if(\"undefined\"==typeof d){var f=s(l,t);throw new Error(f)}o[l]=d,n=n||d!==u}return n?o:e}}t.__esModule=!0,t.default=r;var a=i(6),c=i(7),l=(n(c),i(22));n(l)},function(e,t){\"use strict\";function i(e){\"undefined\"!=typeof console&&\"function\"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=i},function(e,t){\"use strict\";function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function n(e,t){if(\"function\"==typeof e)return i(e,t);if(\"object\"!=typeof e||null===e)throw new Error(\"bindActionCreators expected an object or a function, instead received \"+(null===e?\"null\":typeof e)+'. Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');for(var n=Object.keys(e),s={},o=0;o<n.length;o++){var r=n[o],a=e[r];\"function\"==typeof a&&(s[r]=i(a,t))}return s}t.__esModule=!0,t.default=n},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function s(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return function(i,n,s){var r=e(i,n,s),c=r.dispatch,l=[],h={getState:r.getState,dispatch:function(e){return c(e)}};return l=t.map(function(e){return e(h)}),c=a.default.apply(void 0,l)(r.dispatch),o({},r,{dispatch:c})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=s;var r=i(25),a=n(r)},function(e,t){\"use strict\";function i(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t.default=i},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var s=i(5),o=i(27),r=n(o),a=i(28),c=n(a),l=i(29),h=n(l),u=i(30),d=n(u),f=(0,s.combineReducers)({items:r.default,groups:c.default,choices:h.default,general:d.default}),p=function(e,t){var i=e;return\"CLEAR_ALL\"===t.type&&(i=void 0),f(i,t)};t.default=p},function(e,t){\"use strict\";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case\"ADD_ITEM\":var n=[].concat(i(e),[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);return n.map(function(e){return e.highlighted&&(e.highlighted=!1),e});case\"REMOVE_ITEM\":return e.map(function(e){return e.id===t.id&&(e.active=!1),e});case\"HIGHLIGHT_ITEM\":return e.map(function(e){return e.id===t.id&&(e.highlighted=t.highlighted),e});default:return e}};t.default=n},function(e,t){\"use strict\";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case\"ADD_GROUP\":return[].concat(i(e),[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case\"CLEAR_CHOICES\":return e.groups=[];default:return e}};t.default=n},function(e,t){\"use strict\";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case\"ADD_CHOICE\":return[].concat(i(e),[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case\"ADD_ITEM\":var n=e;return t.activateOptions&&(n=e.map(function(e){return e.active=t.active,e})),t.choiceId>-1&&(n=e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e})),n;case\"REMOVE_ITEM\":return t.choiceId>-1?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):e;case\"FILTER_CHOICES\":var s=t.results,o=e.map(function(e){return e.active=s.some(function(t){return t.item.id===e.id&&(e.score=t.score,!0)}),e});return o;case\"ACTIVATE_CHOICES\":return e.map(function(e){return e.active=t.active,e});case\"CLEAR_CHOICES\":return e.choices=[];default:return e}};t.default=n},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments[1];switch(t.type){case\"LOADING\":return{loading:t.isLoading};default:return e}};t.default=i},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.addItem=function(e,t,i,n,s,o,r,a){return{type:\"ADD_ITEM\",value:e,label:t,id:i,choiceId:n,groupId:s,customProperties:o,placeholder:r,keyCode:a}},t.removeItem=function(e,t){return{type:\"REMOVE_ITEM\",id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:\"HIGHLIGHT_ITEM\",id:e,highlighted:t}},t.addChoice=function(e,t,i,n,s,o,r,a,c){return{type:\"ADD_CHOICE\",value:e,label:t,id:i,groupId:n,disabled:s,elementId:o,customProperties:r,placeholder:a,keyCode:c}},t.filterChoices=function(e){return{type:\"FILTER_CHOICES\",results:e}},t.activateChoices=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:\"ACTIVATE_CHOICES\",active:e}},t.clearChoices=function(){return{type:\"CLEAR_CHOICES\"}},t.addGroup=function(e,t,i,n){return{type:\"ADD_GROUP\",value:e,id:t,active:i,disabled:n}},t.clearAll=function(){return{type:\"CLEAR_ALL\"}},t.setIsLoading=function(e){return{type:\"LOADING\",isLoading:e}}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},n=(t.capitalise=function(e){return e.replace(/\\w\\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.generateChars=function(e){for(var t=\"\",i=0;i<e;i++){var n=c(0,36);t+=n.toString(36)}return t}),s=(t.generateId=function(e,t){var i=e.id||e.name&&e.name+\"-\"+n(2)||n(4);return i=i.replace(/(:|\\.|\\[|\\]|,)/g,\"\"),i=t+i},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1);\n}),o=t.isType=function(e,t){var i=s(t);return void 0!==t&&null!==t&&i===e},r=(t.isNode=function(e){return\"object\"===(\"undefined\"==typeof Node?\"undefined\":i(Node))?e instanceof Node:e&&\"object\"===(\"undefined\"==typeof e?\"undefined\":i(e))&&\"number\"==typeof e.nodeType&&\"string\"==typeof e.nodeName},t.isElement=function(e){return\"object\"===(\"undefined\"==typeof HTMLElement?\"undefined\":i(HTMLElement))?e instanceof HTMLElement:e&&\"object\"===(\"undefined\"==typeof e?\"undefined\":i(e))&&null!==e&&1===e.nodeType&&\"string\"==typeof e.nodeName},t.extend=function e(){for(var t={},i=arguments.length,n=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o(\"Object\",i[n])?t[n]=e(!0,t[n],i[n]):t[n]=i[n])},s=0;s<i;s++){var r=arguments[s];o(\"Object\",r)&&n(r)}return t},t.whichTransitionEvent=function(){var e,t=document.createElement(\"fakeelement\"),i={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]},t.whichAnimationEvent=function(){var e,t=document.createElement(\"fakeelement\"),i={animation:\"animationend\",OAnimation:\"oAnimationEnd\",MozAnimation:\"animationend\",WebkitAnimation:\"webkitAnimationEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]}),a=(t.getParentsUntil=function(e,t,i){for(var n=[];e&&e!==document;e=e.parentNode){if(t){var s=t.charAt(0);if(\".\"===s&&e.classList.contains(t.substr(1)))break;if(\"#\"===s&&e.id===t.substr(1))break;if(\"[\"===s&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}if(i){var o=i.charAt(0);\".\"===o&&e.classList.contains(i.substr(1))&&n.push(e),\"#\"===o&&e.id===i.substr(1)&&n.push(e),\"[\"===o&&e.hasAttribute(i.substr(1,i.length-1))&&n.push(e),e.tagName.toLowerCase()===i&&n.push(e)}else n.push(e)}return 0===n.length?null:n},t.wrap=function(e,t){return t=t||document.createElement(\"div\"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.getSiblings=function(e){for(var t=[],i=e.parentNode.firstChild;i;i=i.nextSibling)1===i.nodeType&&i!==e&&t.push(i);return t},t.findAncestor=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},t.findAncestorByAttrName=function(e,t){for(var i=e;i;){if(i.hasAttribute(t))return i;i=i.parentElement}return null},t.debounce=function(e,t,i){var n;return function(){var s=this,o=arguments,r=function(){n=null,i||e.apply(s,o)},a=i&&!n;clearTimeout(n),n=setTimeout(r,t),a&&e.apply(s,o)}},t.getElemDistance=function(e){var t=0;if(e.offsetParent)do t+=e.offsetTop,e=e.offsetParent;while(e);return t>=0?t:0},t.getElementOffset=function(e,t){var i=t;return i>1&&(i=1),i>0&&(i=0),Math.max(e.offsetHeight*i)},t.getAdjacentEl=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e&&t){var n=e.parentNode.parentNode,s=Array.from(n.querySelectorAll(t)),o=s.indexOf(e),r=i>0?1:-1;return s[o+r]}},t.getScrollPosition=function(e){return\"bottom\"===e?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},t.isInView=function(e,t,i){return this.getScrollPosition(t)>this.getElemDistance(e)+this.getElementOffset(e,i)},t.isScrolledIntoView=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var n=void 0;return n=i>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop}},t.stripHTML=function(e){return e.replace(/&/g,\"&amp;\").replace(/>/g,\"&rt;\").replace(/</g,\"&lt;\").replace(/\"/g,\"&quot;\")}),c=(t.addAnimation=function(e,t){var i=r(),n=function n(){e.classList.remove(t),e.removeEventListener(i,n,!1)};e.classList.add(t),e.addEventListener(i,n,!1)},t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)}),l=t.strToEl=function(){var e=document.createElement(\"div\");return function(t){var i=t.trim(),n=void 0;for(e.innerHTML=i,n=e.children[0];e.firstChild;)e.removeChild(e.firstChild);return n}}();t.getWidthOfInput=function(e){var t=e.value||e.placeholder,i=e.offsetWidth;if(t){var n=l(\"<span>\"+a(t)+\"</span>\");if(n.style.position=\"absolute\",n.style.padding=\"0\",n.style.top=\"-9999px\",n.style.left=\"-9999px\",n.style.width=\"auto\",n.style.whiteSpace=\"pre\",document.body.contains(e)&&window.getComputedStyle){var s=window.getComputedStyle(e);s&&(n.style.fontSize=s.fontSize,n.style.fontFamily=s.fontFamily,n.style.fontWeight=s.fontWeight,n.style.fontStyle=s.fontStyle,n.style.letterSpacing=s.letterSpacing,n.style.textTransform=s.textTransform,n.style.padding=s.padding)}document.body.appendChild(n),t&&n.offsetWidth!==e.offsetWidth&&(i=n.offsetWidth+4),document.body.removeChild(n)}return i+\"px\"},t.sortByAlpha=function(e,t){var i=(e.label||e.value).toLowerCase(),n=(t.label||t.value).toLowerCase();return i<n?-1:i>n?1:0},t.sortByScore=function(e,t){return e.score-t.score},t.triggerEvent=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0});return e.dispatchEvent(n)}},function(e,t){\"use strict\";!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent(\"CustomEvent\");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return\"function\"==typeof t||\"[object Function]\"===e.call(t)},i=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},n=Math.pow(2,53)-1,s=function(e){var t=i(e);return Math.min(Math.max(t,0),n)};return function(e){var i=this,n=Object(e);if(null==e)throw new TypeError(\"Array.from requires an array-like object - not null or undefined\");var o,r=arguments.length>1?arguments[1]:void 0;if(\"undefined\"!=typeof r){if(!t(r))throw new TypeError(\"Array.from: when provided, the second argument must be a function\");arguments.length>2&&(o=arguments[2])}for(var a,c=s(n.length),l=t(i)?Object(new i(c)):new Array(c),h=0;h<c;)a=n[h],r?l[h]=\"undefined\"==typeof o?r(a,h):r.call(o,a,h):l[h]=a,h+=1;return l.length=c,l}}()),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError(\"Array.prototype.find called on null or undefined\");if(\"function\"!=typeof e)throw new TypeError(\"predicate must be a function\");for(var t,i=Object(this),n=i.length>>>0,s=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(s,t,o,i))return t}),e.prototype=window.Event.prototype,window.CustomEvent=e}()}])});\n//# sourceMappingURL=choices.min.js.map\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nob2ljZXMuanMvYXNzZXRzL3NjcmlwdHMvZGlzdC9jaG9pY2VzLm1pbi5qcz84NmUxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsZUFBZSx1SUFBbUwsaUJBQWlCLG1CQUFtQixjQUFjLDRCQUE0QixZQUFZLFVBQVUsaUJBQWlCLGdFQUFnRSxTQUFTLG9EQUFvRCxrQkFBa0IsZUFBZSxpQkFBaUIsYUFBYSxjQUFjLDBCQUEwQixXQUFXLGtCQUFrQix5Q0FBeUMsa0RBQWtELFdBQVcsY0FBYyxxQkFBcUIsOEJBQThCLFdBQVcsY0FBYyxTQUFTLHFCQUFxQixnQkFBZ0IsOEVBQThFLGlCQUFpQixnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVywrR0FBK0csdUJBQXVCLHdDQUF3Qyw2REFBNkQsTUFBTSxpQkFBaUIsYUFBYSx5SUFBeUksdUNBQXVDLG1DQUFtQywwQkFBMEIsV0FBVyxLQUFLLFdBQVcsWUFBWSxPQUFPLDJwQkFBMnBCLDJEQUEyRCx5QkFBeUIsd0NBQXdDLDRCQUE0QixhQUFhLCtEQUErRCx5dkJBQXl2QixjQUFjLGdCQUFnQixxREFBcUQsaUJBQWlCLHlCQUF5Qiw4V0FBOFcsa0JBQWtCLDRNQUE0TSw4bERBQThsRCw2Q0FBNkMsc0ZBQXNGLG1FQUFtRSxNQUFNLG9FQUFvRSxZQUFZLG9FQUFvRSxhQUFhLDRCQUE0QiwwQkFBMEIsaUNBQWlDLHdMQUF3TCxFQUFFLCtCQUErQiwwQkFBMEIsaUxBQWlMLGdFQUFnRSw4Z0JBQThnQixFQUFFLHlDQUF5QywyRUFBMkUsK0RBQStELDJCQUEyQiwyRUFBMkUsRUFBRSxnQkFBZ0Isc0NBQXNDLDBDQUEwQyxLQUFLLEVBQUUsd0NBQXdDLHNRQUFzUSxzREFBc0QsTUFBTSxpQ0FBaUMsa0JBQWtCLEtBQUssNkRBQTZELGtCQUFrQixHQUFHLDZCQUE2Qiw0RUFBNEUsRUFBRSx1Q0FBdUMsMkNBQTJDLHNEQUFzRCxzQ0FBc0Msb0NBQW9DLFlBQVksSUFBSSxr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a0NBQWtDLG1CQUFtQix1QkFBdUIsbUdBQW1HLCtDQUErQywwQkFBMEIsa0dBQWtHLHFDQUFxQyxpRUFBaUUsSUFBSSxzRUFBc0UscUJBQXFCLDREQUE0RCxzRkFBc0YsNEVBQTRFLDJEQUEyRCxJQUFJLHVDQUF1QywwREFBMEQsR0FBRyxHQUFHO0FBQy96TSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBjaG9pY2VzLmpzIHYzLjAuNCB8IChjKSAyMDE4IEpvc2ggSm9obnNvbiB8IGh0dHBzOi8vZ2l0aHViLmNvbS9qc2hqb2huc29uL0Nob2ljZXMjcmVhZG1lICovIFxuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5DaG9pY2VzPXQoKTplLkNob2ljZXM9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7aWYoaVtuXSlyZXR1cm4gaVtuXS5leHBvcnRzO3ZhciBzPWlbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiBlW25dLmNhbGwocy5leHBvcnRzLHMscy5leHBvcnRzLHQpLHMubG9hZGVkPSEwLHMuZXhwb3J0c312YXIgaT17fTtyZXR1cm4gdC5tPWUsdC5jPWksdC5wPVwiL2Fzc2V0cy9zY3JpcHRzL2Rpc3QvXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxpKXtlLmV4cG9ydHM9aSgxKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIG8oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsaT1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0KyspaVt0XT1lW3RdO3JldHVybiBpfXJldHVybiBBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksYz1pKDIpLGw9bihjKSxoPWkoMyksdT1uKGgpLGQ9aSg0KSxmPW4oZCkscD1pKDMxKSx2PWkoMzIpO2koMzMpO3ZhciBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIltkYXRhLWNob2ljZV1cIixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihyKHRoaXMsZSksKDAsdi5pc1R5cGUpKFwiU3RyaW5nXCIsdCkpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCk7aWYobi5sZW5ndGg+MSlmb3IodmFyIHM9MTtzPG4ubGVuZ3RoO3MrKyl7dmFyIG89bltzXTtuZXcgZShvLGkpfX12YXIgYT17c2lsZW50OiExLGl0ZW1zOltdLGNob2ljZXM6W10scmVuZGVyQ2hvaWNlTGltaXQ6LTEsbWF4SXRlbUNvdW50Oi0xLGFkZEl0ZW1zOiEwLHJlbW92ZUl0ZW1zOiEwLHJlbW92ZUl0ZW1CdXR0b246ITEsZWRpdEl0ZW1zOiExLGR1cGxpY2F0ZUl0ZW1zOiEwLGRlbGltaXRlcjpcIixcIixwYXN0ZTohMCxzZWFyY2hFbmFibGVkOiEwLHNlYXJjaENob2ljZXM6ITAsc2VhcmNoRmxvb3I6MSxzZWFyY2hSZXN1bHRMaW1pdDo0LHNlYXJjaEZpZWxkczpbXCJsYWJlbFwiLFwidmFsdWVcIl0scG9zaXRpb246XCJhdXRvXCIscmVzZXRTY3JvbGxQb3NpdGlvbjohMCxyZWdleEZpbHRlcjpudWxsLHNob3VsZFNvcnQ6ITAsc2hvdWxkU29ydEl0ZW1zOiExLHNvcnRGaWx0ZXI6di5zb3J0QnlBbHBoYSxwbGFjZWhvbGRlcjohMCxwbGFjZWhvbGRlclZhbHVlOm51bGwsc2VhcmNoUGxhY2Vob2xkZXJWYWx1ZTpudWxsLHByZXBlbmRWYWx1ZTpudWxsLGFwcGVuZFZhbHVlOm51bGwscmVuZGVyU2VsZWN0ZWRDaG9pY2VzOlwiYXV0b1wiLGxvYWRpbmdUZXh0OlwiTG9hZGluZy4uLlwiLG5vUmVzdWx0c1RleHQ6XCJObyByZXN1bHRzIGZvdW5kXCIsbm9DaG9pY2VzVGV4dDpcIk5vIGNob2ljZXMgdG8gY2hvb3NlIGZyb21cIixpdGVtU2VsZWN0VGV4dDpcIlByZXNzIHRvIHNlbGVjdFwiLGFkZEl0ZW1UZXh0OmZ1bmN0aW9uKGUpe3JldHVybidQcmVzcyBFbnRlciB0byBhZGQgPGI+XCInKygwLHYuc3RyaXBIVE1MKShlKSsnXCI8L2I+J30sbWF4SXRlbVRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuXCJPbmx5IFwiK2UrXCIgdmFsdWVzIGNhbiBiZSBhZGRlZC5cIn0saXRlbUNvbXBhcmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10fSx1bmlxdWVJdGVtVGV4dDpcIk9ubHkgdW5pcXVlIHZhbHVlcyBjYW4gYmUgYWRkZWQuXCIsY2xhc3NOYW1lczp7Y29udGFpbmVyT3V0ZXI6XCJjaG9pY2VzXCIsY29udGFpbmVySW5uZXI6XCJjaG9pY2VzX19pbm5lclwiLGlucHV0OlwiY2hvaWNlc19faW5wdXRcIixpbnB1dENsb25lZDpcImNob2ljZXNfX2lucHV0LS1jbG9uZWRcIixsaXN0OlwiY2hvaWNlc19fbGlzdFwiLGxpc3RJdGVtczpcImNob2ljZXNfX2xpc3QtLW11bHRpcGxlXCIsbGlzdFNpbmdsZTpcImNob2ljZXNfX2xpc3QtLXNpbmdsZVwiLGxpc3REcm9wZG93bjpcImNob2ljZXNfX2xpc3QtLWRyb3Bkb3duXCIsaXRlbTpcImNob2ljZXNfX2l0ZW1cIixpdGVtU2VsZWN0YWJsZTpcImNob2ljZXNfX2l0ZW0tLXNlbGVjdGFibGVcIixpdGVtRGlzYWJsZWQ6XCJjaG9pY2VzX19pdGVtLS1kaXNhYmxlZFwiLGl0ZW1DaG9pY2U6XCJjaG9pY2VzX19pdGVtLS1jaG9pY2VcIixwbGFjZWhvbGRlcjpcImNob2ljZXNfX3BsYWNlaG9sZGVyXCIsZ3JvdXA6XCJjaG9pY2VzX19ncm91cFwiLGdyb3VwSGVhZGluZzpcImNob2ljZXNfX2hlYWRpbmdcIixidXR0b246XCJjaG9pY2VzX19idXR0b25cIixhY3RpdmVTdGF0ZTpcImlzLWFjdGl2ZVwiLGZvY3VzU3RhdGU6XCJpcy1mb2N1c2VkXCIsb3BlblN0YXRlOlwiaXMtb3BlblwiLGRpc2FibGVkU3RhdGU6XCJpcy1kaXNhYmxlZFwiLGhpZ2hsaWdodGVkU3RhdGU6XCJpcy1oaWdobGlnaHRlZFwiLGhpZGRlblN0YXRlOlwiaXMtaGlkZGVuXCIsZmxpcHBlZFN0YXRlOlwiaXMtZmxpcHBlZFwiLGxvYWRpbmdTdGF0ZTpcImlzLWxvYWRpbmdcIixub1Jlc3VsdHM6XCJoYXMtbm8tcmVzdWx0c1wiLG5vQ2hvaWNlczpcImhhcy1uby1jaG9pY2VzXCJ9LGZ1c2VPcHRpb25zOntpbmNsdWRlOlwic2NvcmVcIn0sY2FsbGJhY2tPbkluaXQ6bnVsbCxjYWxsYmFja09uQ3JlYXRlVGVtcGxhdGVzOm51bGx9O2lmKHRoaXMuaWROYW1lcz17aXRlbUNob2ljZTpcIml0ZW0tY2hvaWNlXCJ9LHRoaXMuY29uZmlnPSgwLHYuZXh0ZW5kKShhLGkpLFwiYXV0b1wiIT09dGhpcy5jb25maWcucmVuZGVyU2VsZWN0ZWRDaG9pY2VzJiZcImFsd2F5c1wiIT09dGhpcy5jb25maWcucmVuZGVyU2VsZWN0ZWRDaG9pY2VzJiYodGhpcy5jb25maWcuc2lsZW50fHxjb25zb2xlLndhcm4oXCJyZW5kZXJTZWxlY3RlZENob2ljZXM6IFBvc3NpYmxlIHZhbHVlcyBhcmUgJ2F1dG8nIGFuZCAnYWx3YXlzJy4gRmFsbGluZyBiYWNrIHRvICdhdXRvJy5cIiksdGhpcy5jb25maWcucmVuZGVyU2VsZWN0ZWRDaG9pY2VzPVwiYXV0b1wiKSx0aGlzLnN0b3JlPW5ldyBmLmRlZmF1bHQodGhpcy5yZW5kZXIpLHRoaXMuaW5pdGlhbGlzZWQ9ITEsdGhpcy5jdXJyZW50U3RhdGU9e30sdGhpcy5wcmV2U3RhdGU9e30sdGhpcy5jdXJyZW50VmFsdWU9XCJcIix0aGlzLmVsZW1lbnQ9dCx0aGlzLnBhc3NlZEVsZW1lbnQ9KDAsdi5pc1R5cGUpKFwiU3RyaW5nXCIsdCk/ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTp0LCF0aGlzLnBhc3NlZEVsZW1lbnQpcmV0dXJuIHZvaWQodGhpcy5jb25maWcuc2lsZW50fHxjb25zb2xlLmVycm9yKFwiUGFzc2VkIGVsZW1lbnQgbm90IGZvdW5kXCIpKTt0aGlzLmlzVGV4dEVsZW1lbnQ9XCJ0ZXh0XCI9PT10aGlzLnBhc3NlZEVsZW1lbnQudHlwZSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudD1cInNlbGVjdC1vbmVcIj09PXRoaXMucGFzc2VkRWxlbWVudC50eXBlLHRoaXMuaXNTZWxlY3RNdWx0aXBsZUVsZW1lbnQ9XCJzZWxlY3QtbXVsdGlwbGVcIj09PXRoaXMucGFzc2VkRWxlbWVudC50eXBlLHRoaXMuaXNTZWxlY3RFbGVtZW50PXRoaXMuaXNTZWxlY3RPbmVFbGVtZW50fHx0aGlzLmlzU2VsZWN0TXVsdGlwbGVFbGVtZW50LHRoaXMuaXNWYWxpZEVsZW1lbnRUeXBlPXRoaXMuaXNUZXh0RWxlbWVudHx8dGhpcy5pc1NlbGVjdEVsZW1lbnQsdGhpcy5pc0llMTE9ISghbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC8pfHwhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnZbIDpdMTEvKSksdGhpcy5pc1Njcm9sbGluZ09uSWU9ITEsdGhpcy5jb25maWcuc2hvdWxkU29ydEl0ZW1zPT09ITAmJnRoaXMuaXNTZWxlY3RPbmVFbGVtZW50JiYodGhpcy5jb25maWcuc2lsZW50fHxjb25zb2xlLndhcm4oXCJzaG91bGRTb3J0RWxlbWVudHM6IFR5cGUgb2YgcGFzc2VkIGVsZW1lbnQgaXMgJ3NlbGVjdC1vbmUnLCBmYWxsaW5nIGJhY2sgdG8gZmFsc2UuXCIpKSx0aGlzLmhpZ2hsaWdodFBvc2l0aW9uPTAsdGhpcy5jYW5TZWFyY2g9dGhpcy5jb25maWcuc2VhcmNoRW5hYmxlZCx0aGlzLnBsYWNlaG9sZGVyPSExLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50fHwodGhpcy5wbGFjZWhvbGRlcj0hIXRoaXMuY29uZmlnLnBsYWNlaG9sZGVyJiYodGhpcy5jb25maWcucGxhY2Vob2xkZXJWYWx1ZXx8dGhpcy5wYXNzZWRFbGVtZW50LmdldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpKSksdGhpcy5wcmVzZXRDaG9pY2VzPXRoaXMuY29uZmlnLmNob2ljZXMsdGhpcy5wcmVzZXRJdGVtcz10aGlzLmNvbmZpZy5pdGVtcyx0aGlzLnBhc3NlZEVsZW1lbnQudmFsdWUmJih0aGlzLnByZXNldEl0ZW1zPXRoaXMucHJlc2V0SXRlbXMuY29uY2F0KHRoaXMucGFzc2VkRWxlbWVudC52YWx1ZS5zcGxpdCh0aGlzLmNvbmZpZy5kZWxpbWl0ZXIpKSksdGhpcy5iYXNlSWQ9KDAsdi5nZW5lcmF0ZUlkKSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJjaG9pY2VzLVwiKSx0aGlzLnJlbmRlcj10aGlzLnJlbmRlci5iaW5kKHRoaXMpLHRoaXMuX29uRm9jdXM9dGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpLHRoaXMuX29uQmx1cj10aGlzLl9vbkJsdXIuYmluZCh0aGlzKSx0aGlzLl9vbktleVVwPXRoaXMuX29uS2V5VXAuYmluZCh0aGlzKSx0aGlzLl9vbktleURvd249dGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyksdGhpcy5fb25DbGljaz10aGlzLl9vbkNsaWNrLmJpbmQodGhpcyksdGhpcy5fb25Ub3VjaE1vdmU9dGhpcy5fb25Ub3VjaE1vdmUuYmluZCh0aGlzKSx0aGlzLl9vblRvdWNoRW5kPXRoaXMuX29uVG91Y2hFbmQuYmluZCh0aGlzKSx0aGlzLl9vbk1vdXNlRG93bj10aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpLHRoaXMuX29uTW91c2VPdmVyPXRoaXMuX29uTW91c2VPdmVyLmJpbmQodGhpcyksdGhpcy5fb25QYXN0ZT10aGlzLl9vblBhc3RlLmJpbmQodGhpcyksdGhpcy5fb25JbnB1dD10aGlzLl9vbklucHV0LmJpbmQodGhpcyksdGhpcy53YXNUYXA9ITA7dmFyIGM9XCJjbGFzc0xpc3RcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtjfHx0aGlzLmNvbmZpZy5zaWxlbnR8fGNvbnNvbGUuZXJyb3IoXCJDaG9pY2VzOiBZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IENob2ljZXNcIik7dmFyIGw9KDAsdi5pc0VsZW1lbnQpKHRoaXMucGFzc2VkRWxlbWVudCkmJnRoaXMuaXNWYWxpZEVsZW1lbnRUeXBlO2lmKGwpe2lmKFwiYWN0aXZlXCI9PT10aGlzLnBhc3NlZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jaG9pY2VcIikpcmV0dXJuO3RoaXMuaW5pdCgpfWVsc2UgdGhpcy5jb25maWcuc2lsZW50fHxjb25zb2xlLmVycm9yKFwiSW5jb21wYXRpYmxlIGlucHV0IHBhc3NlZFwiKX1yZXR1cm4gYShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pbml0aWFsaXNlZCE9PSEwKXt2YXIgZT10aGlzLmNvbmZpZy5jYWxsYmFja09uSW5pdDt0aGlzLmluaXRpYWxpc2VkPSEwLHRoaXMuX2NyZWF0ZVRlbXBsYXRlcygpLHRoaXMuX2NyZWF0ZUlucHV0KCksdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5yZW5kZXIpLHRoaXMucmVuZGVyKCksdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKSxlJiYoMCx2LmlzVHlwZSkoXCJGdW5jdGlvblwiLGUpJiZlLmNhbGwodGhpcyl9fX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaW5pdGlhbGlzZWQhPT0hMSl7dGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnBhc3NlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmlucHV0LHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaGlkZGVuU3RhdGUpLHRoaXMucGFzc2VkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTt2YXIgZT10aGlzLnBhc3NlZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jaG9pY2Utb3JpZy1zdHlsZVwiKTtCb29sZWFuKGUpPyh0aGlzLnBhc3NlZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jaG9pY2Utb3JpZy1zdHlsZVwiKSx0aGlzLnBhc3NlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixlKSk6dGhpcy5wYXNzZWRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpLHRoaXMucGFzc2VkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKSx0aGlzLnBhc3NlZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jaG9pY2VcIiksdGhpcy5wYXNzZWRFbGVtZW50LnZhbHVlPXRoaXMucGFzc2VkRWxlbWVudC52YWx1ZSx0aGlzLmNvbnRhaW5lck91dGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMucGFzc2VkRWxlbWVudCx0aGlzLmNvbnRhaW5lck91dGVyKSx0aGlzLmNvbnRhaW5lck91dGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXJPdXRlciksdGhpcy5jbGVhclN0b3JlKCksdGhpcy5jb25maWcudGVtcGxhdGVzPW51bGwsdGhpcy5pbml0aWFsaXNlZD0hMX19fSx7a2V5OlwicmVuZGVyR3JvdXBzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXRoaXMscz1pfHxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz10aGlzLmNvbmZpZy5zb3J0RmlsdGVyO3JldHVybiB0aGlzLmNvbmZpZy5zaG91bGRTb3J0JiZlLnNvcnQobyksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBuLmlzU2VsZWN0T25lRWxlbWVudD90Lmdyb3VwSWQ9PT1lLmlkOnQuZ3JvdXBJZD09PWUuaWQmJiF0LnNlbGVjdGVkfSk7aWYoaS5sZW5ndGg+PTEpe3ZhciBvPW4uX2dldFRlbXBsYXRlKFwiY2hvaWNlR3JvdXBcIixlKTtzLmFwcGVuZENoaWxkKG8pLG4ucmVuZGVyQ2hvaWNlcyhpLHMsITApfX0pLHN9fSx7a2V5OlwicmVuZGVyQ2hvaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0scz10fHxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj10aGlzLmNvbmZpZyxhPXIucmVuZGVyU2VsZWN0ZWRDaG9pY2VzLGM9ci5zZWFyY2hSZXN1bHRMaW1pdCxsPXIucmVuZGVyQ2hvaWNlTGltaXQsaD10aGlzLmlzU2VhcmNoaW5nP3Yuc29ydEJ5U2NvcmU6dGhpcy5jb25maWcuc29ydEZpbHRlcix1PWZ1bmN0aW9uKGUpe3ZhciB0PVwiYXV0b1wiIT09YXx8KGkuaXNTZWxlY3RPbmVFbGVtZW50fHwhZS5zZWxlY3RlZCk7aWYodCl7dmFyIG49aS5fZ2V0VGVtcGxhdGUoXCJjaG9pY2VcIixlKTtzLmFwcGVuZENoaWxkKG4pfX0sZD1lO1wiYXV0b1wiIT09YXx8dGhpcy5pc1NlbGVjdE9uZUVsZW1lbnR8fChkPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLnNlbGVjdGVkfSkpO3ZhciBmPWQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucGxhY2Vob2xkZXI/ZS5wbGFjZWhvbGRlckNob2ljZXMucHVzaCh0KTplLm5vcm1hbENob2ljZXMucHVzaCh0KSxlfSx7cGxhY2Vob2xkZXJDaG9pY2VzOltdLG5vcm1hbENob2ljZXM6W119KSxwPWYucGxhY2Vob2xkZXJDaG9pY2VzLG09Zi5ub3JtYWxDaG9pY2VzOyh0aGlzLmNvbmZpZy5zaG91bGRTb3J0fHx0aGlzLmlzU2VhcmNoaW5nKSYmbS5zb3J0KGgpO3ZhciBnPWQubGVuZ3RoLHk9W10uY29uY2F0KG8ocCksbyhtKSk7dGhpcy5pc1NlYXJjaGluZz9nPWM6bD4wJiYhbiYmKGc9bCk7Zm9yKHZhciBiPTA7YjxnO2IrKyl5W2JdJiZ1KHlbYl0pO3JldHVybiBzfX0se2tleTpcInJlbmRlckl0ZW1zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49aXx8ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKHRoaXMuY29uZmlnLnNob3VsZFNvcnRJdGVtcyYmIXRoaXMuaXNTZWxlY3RPbmVFbGVtZW50JiZlLnNvcnQodGhpcy5jb25maWcuc29ydEZpbHRlciksdGhpcy5pc1RleHRFbGVtZW50KXt2YXIgcz10aGlzLnN0b3JlLmdldEl0ZW1zUmVkdWNlZFRvVmFsdWVzKGUpLG89cy5qb2luKHRoaXMuY29uZmlnLmRlbGltaXRlcik7dGhpcy5wYXNzZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsbyksdGhpcy5wYXNzZWRFbGVtZW50LnZhbHVlPW99ZWxzZXt2YXIgcj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXQuX2dldFRlbXBsYXRlKFwib3B0aW9uXCIsZSk7ci5hcHBlbmRDaGlsZChpKX0pLHRoaXMucGFzc2VkRWxlbWVudC5pbm5lckhUTUw9XCJcIix0aGlzLnBhc3NlZEVsZW1lbnQuYXBwZW5kQ2hpbGQocil9cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT10Ll9nZXRUZW1wbGF0ZShcIml0ZW1cIixlKTtuLmFwcGVuZENoaWxkKGkpfSksbn19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnN0b3JlLmlzTG9hZGluZygpJiYodGhpcy5jdXJyZW50U3RhdGU9dGhpcy5zdG9yZS5nZXRTdGF0ZSgpLHRoaXMuY3VycmVudFN0YXRlIT09dGhpcy5wcmV2U3RhdGUpKXtpZigodGhpcy5jdXJyZW50U3RhdGUuY2hvaWNlcyE9PXRoaXMucHJldlN0YXRlLmNob2ljZXN8fHRoaXMuY3VycmVudFN0YXRlLmdyb3VwcyE9PXRoaXMucHJldlN0YXRlLmdyb3Vwc3x8dGhpcy5jdXJyZW50U3RhdGUuaXRlbXMhPT10aGlzLnByZXZTdGF0ZS5pdGVtcykmJnRoaXMuaXNTZWxlY3RFbGVtZW50KXt2YXIgZT10aGlzLnN0b3JlLmdldEdyb3Vwc0ZpbHRlcmVkQnlBY3RpdmUoKSx0PXRoaXMuc3RvcmUuZ2V0Q2hvaWNlc0ZpbHRlcmVkQnlBY3RpdmUoKSxpPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTt0aGlzLmNob2ljZUxpc3QuaW5uZXJIVE1MPVwiXCIsdGhpcy5jb25maWcucmVzZXRTY3JvbGxQb3NpdGlvbiYmKHRoaXMuY2hvaWNlTGlzdC5zY3JvbGxUb3A9MCksZS5sZW5ndGg+PTEmJnRoaXMuaXNTZWFyY2hpbmchPT0hMD9pPXRoaXMucmVuZGVyR3JvdXBzKGUsdCxpKTp0Lmxlbmd0aD49MSYmKGk9dGhpcy5yZW5kZXJDaG9pY2VzKHQsaSkpO3ZhciBuPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCkscz10aGlzLl9jYW5BZGRJdGVtKG4sdGhpcy5pbnB1dC52YWx1ZSk7aWYoaS5jaGlsZE5vZGVzJiZpLmNoaWxkTm9kZXMubGVuZ3RoPjApcy5yZXNwb25zZT8odGhpcy5jaG9pY2VMaXN0LmFwcGVuZENoaWxkKGkpLHRoaXMuX2hpZ2hsaWdodENob2ljZSgpKTp0aGlzLmNob2ljZUxpc3QuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0VGVtcGxhdGUoXCJub3RpY2VcIixzLm5vdGljZSkpO2Vsc2V7dmFyIG89dm9pZCAwLHI9dm9pZCAwO3RoaXMuaXNTZWFyY2hpbmc/KHI9KDAsdi5pc1R5cGUpKFwiRnVuY3Rpb25cIix0aGlzLmNvbmZpZy5ub1Jlc3VsdHNUZXh0KT90aGlzLmNvbmZpZy5ub1Jlc3VsdHNUZXh0KCk6dGhpcy5jb25maWcubm9SZXN1bHRzVGV4dCxvPXRoaXMuX2dldFRlbXBsYXRlKFwibm90aWNlXCIscixcIm5vLXJlc3VsdHNcIikpOihyPSgwLHYuaXNUeXBlKShcIkZ1bmN0aW9uXCIsdGhpcy5jb25maWcubm9DaG9pY2VzVGV4dCk/dGhpcy5jb25maWcubm9DaG9pY2VzVGV4dCgpOnRoaXMuY29uZmlnLm5vQ2hvaWNlc1RleHQsbz10aGlzLl9nZXRUZW1wbGF0ZShcIm5vdGljZVwiLHIsXCJuby1jaG9pY2VzXCIpKSx0aGlzLmNob2ljZUxpc3QuYXBwZW5kQ2hpbGQobyl9fWlmKHRoaXMuY3VycmVudFN0YXRlLml0ZW1zIT09dGhpcy5wcmV2U3RhdGUuaXRlbXMpe3ZhciBhPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCk7aWYodGhpcy5pdGVtTGlzdC5pbm5lckhUTUw9XCJcIixhJiZhKXt2YXIgYz10aGlzLnJlbmRlckl0ZW1zKGEpO2MuY2hpbGROb2RlcyYmdGhpcy5pdGVtTGlzdC5hcHBlbmRDaGlsZChjKX19dGhpcy5wcmV2U3RhdGU9dGhpcy5jdXJyZW50U3RhdGV9fX0se2tleTpcImhpZ2hsaWdodEl0ZW1cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2lmKCFlKXJldHVybiB0aGlzO3ZhciBpPWUuaWQsbj1lLmdyb3VwSWQscz1uPj0wP3RoaXMuc3RvcmUuZ2V0R3JvdXBCeUlkKG4pOm51bGw7cmV0dXJuIHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5oaWdobGlnaHRJdGVtKShpLCEwKSksdCYmKHMmJnMudmFsdWU/KDAsdi50cmlnZ2VyRXZlbnQpKHRoaXMucGFzc2VkRWxlbWVudCxcImhpZ2hsaWdodEl0ZW1cIix7aWQ6aSx2YWx1ZTplLnZhbHVlLGxhYmVsOmUubGFiZWwsZ3JvdXBWYWx1ZTpzLnZhbHVlfSk6KDAsdi50cmlnZ2VyRXZlbnQpKHRoaXMucGFzc2VkRWxlbWVudCxcImhpZ2hsaWdodEl0ZW1cIix7aWQ6aSx2YWx1ZTplLnZhbHVlLGxhYmVsOmUubGFiZWx9KSksdGhpc319LHtrZXk6XCJ1bmhpZ2hsaWdodEl0ZW1cIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gdGhpczt2YXIgdD1lLmlkLGk9ZS5ncm91cElkLG49aT49MD90aGlzLnN0b3JlLmdldEdyb3VwQnlJZChpKTpudWxsO3JldHVybiB0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuaGlnaGxpZ2h0SXRlbSkodCwhMSkpLG4mJm4udmFsdWU/KDAsdi50cmlnZ2VyRXZlbnQpKHRoaXMucGFzc2VkRWxlbWVudCxcInVuaGlnaGxpZ2h0SXRlbVwiLHtpZDp0LHZhbHVlOmUudmFsdWUsbGFiZWw6ZS5sYWJlbCxncm91cFZhbHVlOm4udmFsdWV9KTooMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwidW5oaWdobGlnaHRJdGVtXCIse2lkOnQsdmFsdWU6ZS52YWx1ZSxsYWJlbDplLmxhYmVsfSksdGhpc319LHtrZXk6XCJoaWdobGlnaHRBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnN0b3JlLmdldEl0ZW1zKCk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlLmhpZ2hsaWdodEl0ZW0odCl9KSx0aGlzfX0se2tleTpcInVuaGlnaGxpZ2h0QWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5zdG9yZS5nZXRJdGVtcygpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7ZS51bmhpZ2hsaWdodEl0ZW0odCl9KSx0aGlzfX0se2tleTpcInJlbW92ZUl0ZW1zQnlWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWV8fCEoMCx2LmlzVHlwZSkoXCJTdHJpbmdcIixlKSlyZXR1cm4gdGhpczt2YXIgaT10aGlzLnN0b3JlLmdldEl0ZW1zRmlsdGVyZWRCeUFjdGl2ZSgpO3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24oaSl7aS52YWx1ZT09PWUmJnQuX3JlbW92ZUl0ZW0oaSl9KSx0aGlzfX0se2tleTpcInJlbW92ZUFjdGl2ZUl0ZW1zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCk7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihpKXtpLmFjdGl2ZSYmZSE9PWkuaWQmJnQuX3JlbW92ZUl0ZW0oaSl9KSx0aGlzfX0se2tleTpcInJlbW92ZUhpZ2hsaWdodGVkSXRlbXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGk9dGhpcy5zdG9yZS5nZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmUoKTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2kuaGlnaGxpZ2h0ZWQmJmkuYWN0aXZlJiYoZS5fcmVtb3ZlSXRlbShpKSx0JiZlLl90cmlnZ2VyQ2hhbmdlKGkudmFsdWUpKX0pLHRoaXN9fSx7a2V5Olwic2hvd0Ryb3Bkb3duXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9ZG9jdW1lbnQuYm9keSxpPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxuPU1hdGgubWF4KHQuc2Nyb2xsSGVpZ2h0LHQub2Zmc2V0SGVpZ2h0LGkuY2xpZW50SGVpZ2h0LGkuc2Nyb2xsSGVpZ2h0LGkub2Zmc2V0SGVpZ2h0KTt0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5vcGVuU3RhdGUpLHRoaXMuY29udGFpbmVyT3V0ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSx0aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5hY3RpdmVTdGF0ZSksdGhpcy5kcm9wZG93bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpO3ZhciBzPXRoaXMuZHJvcGRvd24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1NYXRoLmNlaWwocy50b3Ard2luZG93LnNjcm9sbFkrdGhpcy5kcm9wZG93bi5vZmZzZXRIZWlnaHQpLHI9ITE7cmV0dXJuXCJhdXRvXCI9PT10aGlzLmNvbmZpZy5wb3NpdGlvbj9yPW8+PW46XCJ0b3BcIj09PXRoaXMuY29uZmlnLnBvc2l0aW9uJiYocj0hMCksciYmdGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuZmxpcHBlZFN0YXRlKSxlJiZ0aGlzLmNhblNlYXJjaCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXRoaXMuaW5wdXQmJnRoaXMuaW5wdXQuZm9jdXMoKSwoMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwic2hvd0Ryb3Bkb3duXCIse30pLHRoaXN9fSx7a2V5OlwiaGlkZURyb3Bkb3duXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9dGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5mbGlwcGVkU3RhdGUpO3JldHVybiB0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcuY2xhc3NOYW1lcy5vcGVuU3RhdGUpLHRoaXMuY29udGFpbmVyT3V0ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksdGhpcy5kcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuYWN0aXZlU3RhdGUpLHRoaXMuZHJvcGRvd24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksdCYmdGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuZmxpcHBlZFN0YXRlKSxlJiZ0aGlzLmNhblNlYXJjaCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PXRoaXMuaW5wdXQmJnRoaXMuaW5wdXQuYmx1cigpLCgwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJoaWRlRHJvcGRvd25cIix7fSksdGhpc319LHtrZXk6XCJ0b2dnbGVEcm9wZG93blwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5hY3RpdmVTdGF0ZSk7cmV0dXJuIGU/dGhpcy5oaWRlRHJvcGRvd24oKTp0aGlzLnNob3dEcm9wZG93bighMCksdGhpc319LHtrZXk6XCJnZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0saT10aGlzLnN0b3JlLmdldEl0ZW1zRmlsdGVyZWRCeUFjdGl2ZSgpLG49W107cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihpKXtlLmlzVGV4dEVsZW1lbnQ/bi5wdXNoKHQ/aS52YWx1ZTppKTppLmFjdGl2ZSYmbi5wdXNoKHQ/aS52YWx1ZTppKX0pLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50P25bMF06bn19LHtrZXk6XCJzZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5pbml0aWFsaXNlZD09PSEwKXt2YXIgaT1bXS5jb25jYXQobyhlKSksbj1mdW5jdGlvbihlKXt2YXIgaT0oMCx2LmdldFR5cGUpKGUpO2lmKFwiT2JqZWN0XCI9PT1pKXtpZighZS52YWx1ZSlyZXR1cm47dC5pc1RleHRFbGVtZW50P3QuX2FkZEl0ZW0oZS52YWx1ZSxlLmxhYmVsLGUuaWQsdm9pZCAwLGUuY3VzdG9tUHJvcGVydGllcyxlLnBsYWNlaG9sZGVyKTp0Ll9hZGRDaG9pY2UoZS52YWx1ZSxlLmxhYmVsLCEwLCExLC0xLGUuY3VzdG9tUHJvcGVydGllcyxlLnBsYWNlaG9sZGVyKX1lbHNlXCJTdHJpbmdcIj09PWkmJih0LmlzVGV4dEVsZW1lbnQ/dC5fYWRkSXRlbShlKTp0Ll9hZGRDaG9pY2UoZSxlLCEwLCExLC0xLG51bGwpKX07aS5sZW5ndGg+MT9pLmZvckVhY2goZnVuY3Rpb24oZSl7bihlKX0pOm4oaVswXSl9cmV0dXJuIHRoaXN9fSx7a2V5Olwic2V0VmFsdWVCeUNob2ljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMuaXNUZXh0RWxlbWVudCl7dmFyIGk9dGhpcy5zdG9yZS5nZXRDaG9pY2VzKCksbj0oMCx2LmlzVHlwZSkoXCJBcnJheVwiLGUpP2U6W2VdO24uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1pLmZpbmQoZnVuY3Rpb24oaSl7cmV0dXJuIHQuY29uZmlnLml0ZW1Db21wYXJlcihpLnZhbHVlLGUpfSk7bj9uLnNlbGVjdGVkP3QuY29uZmlnLnNpbGVudHx8Y29uc29sZS53YXJuKFwiQXR0ZW1wdGluZyB0byBzZWxlY3QgY2hvaWNlIGFscmVhZHkgc2VsZWN0ZWRcIik6dC5fYWRkSXRlbShuLnZhbHVlLG4ubGFiZWwsbi5pZCxuLmdyb3VwSWQsbi5jdXN0b21Qcm9wZXJ0aWVzLG4ucGxhY2Vob2xkZXIsbi5rZXlDb2RlKTp0LmNvbmZpZy5zaWxlbnR8fGNvbnNvbGUud2FybihcIkF0dGVtcHRpbmcgdG8gc2VsZWN0IGNob2ljZSB0aGF0IGRvZXMgbm90IGV4aXN0XCIpfSl9cmV0dXJuIHRoaXN9fSx7a2V5Olwic2V0Q2hvaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10aGlzLHM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZih0aGlzLmluaXRpYWxpc2VkPT09ITAmJnRoaXMuaXNTZWxlY3RFbGVtZW50KXtpZighKDAsdi5pc1R5cGUpKFwiQXJyYXlcIixlKXx8IXQpcmV0dXJuIHRoaXM7cyYmdGhpcy5fY2xlYXJDaG9pY2VzKCksdGhpcy5fc2V0TG9hZGluZyghMCksZSYmZS5sZW5ndGgmJih0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcuY2xhc3NOYW1lcy5sb2FkaW5nU3RhdGUpLGUuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNob2ljZXM/bi5fYWRkR3JvdXAoZSxlLmlkfHxudWxsLHQsaSk6bi5fYWRkQ2hvaWNlKGVbdF0sZVtpXSxlLnNlbGVjdGVkLGUuZGlzYWJsZWQsdm9pZCAwLGUuY3VzdG9tUHJvcGVydGllcyxlLnBsYWNlaG9sZGVyKX0pKSx0aGlzLl9zZXRMb2FkaW5nKCExKX1yZXR1cm4gdGhpc319LHtrZXk6XCJjbGVhclN0b3JlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmNsZWFyQWxsKSgpKSx0aGlzfX0se2tleTpcImNsZWFySW5wdXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0LnZhbHVlJiYodGhpcy5pbnB1dC52YWx1ZT1cIlwiKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudHx8dGhpcy5fc2V0SW5wdXRXaWR0aCgpLCF0aGlzLmlzVGV4dEVsZW1lbnQmJnRoaXMuY29uZmlnLnNlYXJjaEVuYWJsZWQmJih0aGlzLmlzU2VhcmNoaW5nPSExLHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5hY3RpdmF0ZUNob2ljZXMpKCEwKSkpLHRoaXN9fSx7a2V5OlwiZW5hYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmluaXRpYWxpc2VkKXt0aGlzLnBhc3NlZEVsZW1lbnQuZGlzYWJsZWQ9ITE7dmFyIGU9dGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5kaXNhYmxlZFN0YXRlKTtlJiYodGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnBhc3NlZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiksdGhpcy5pbnB1dC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSx0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcuY2xhc3NOYW1lcy5kaXNhYmxlZFN0YXRlKSx0aGlzLmNvbnRhaW5lck91dGVyLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiksdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQmJnRoaXMuY29udGFpbmVyT3V0ZXIuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIikpfXJldHVybiB0aGlzfX0se2tleTpcImRpc2FibGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaW5pdGlhbGlzZWQpe3RoaXMucGFzc2VkRWxlbWVudC5kaXNhYmxlZD0hMDt2YXIgZT0hdGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5kaXNhYmxlZFN0YXRlKTtlJiYodGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnBhc3NlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcIlwiKSx0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJcIiksdGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuZGlzYWJsZWRTdGF0ZSksdGhpcy5jb250YWluZXJPdXRlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsXCJ0cnVlXCIpLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50JiZ0aGlzLmNvbnRhaW5lck91dGVyLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiYWpheFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaW5pdGlhbGlzZWQ9PT0hMCYmdGhpcy5pc1NlbGVjdEVsZW1lbnQmJihyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt0Ll9oYW5kbGVMb2FkaW5nU3RhdGUoITApfSksZSh0aGlzLl9hamF4Q2FsbGJhY2soKSkpLHRoaXN9fSx7a2V5OlwiX3RyaWdnZXJDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXtlJiYoMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwiY2hhbmdlXCIse3ZhbHVlOmV9KX19LHtrZXk6XCJfaGFuZGxlQnV0dG9uQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlJiZ0JiZ0aGlzLmNvbmZpZy5yZW1vdmVJdGVtcyYmdGhpcy5jb25maWcucmVtb3ZlSXRlbUJ1dHRvbil7dmFyIGk9dC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIiksbj1lLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1wYXJzZUludChpLDEwKX0pO3RoaXMuX3JlbW92ZUl0ZW0obiksdGhpcy5fdHJpZ2dlckNoYW5nZShuLnZhbHVlKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudCYmdGhpcy5fc2VsZWN0UGxhY2Vob2xkZXJDaG9pY2UoKX19fSx7a2V5OlwiX3NlbGVjdFBsYWNlaG9sZGVyQ2hvaWNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0b3JlLmdldFBsYWNlaG9sZGVyQ2hvaWNlKCk7ZSYmKHRoaXMuX2FkZEl0ZW0oZS52YWx1ZSxlLmxhYmVsLGUuaWQsZS5ncm91cElkLG51bGwsZS5wbGFjZWhvbGRlciksdGhpcy5fdHJpZ2dlckNoYW5nZShlLnZhbHVlKSl9fSx7a2V5OlwiX2hhbmRsZUl0ZW1BY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKGUmJnQmJnRoaXMuY29uZmlnLnJlbW92ZUl0ZW1zJiYhdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQpe3ZhciBzPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKTtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pZCE9PXBhcnNlSW50KHMsMTApfHxlLmhpZ2hsaWdodGVkP258fGUuaGlnaGxpZ2h0ZWQmJmkudW5oaWdobGlnaHRJdGVtKGUpOmkuaGlnaGxpZ2h0SXRlbShlKX0pLGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT10aGlzLmlucHV0JiZ0aGlzLmlucHV0LmZvY3VzKCl9fX0se2tleTpcIl9oYW5kbGVDaG9pY2VBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUmJnQpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSxuPXRoaXMuc3RvcmUuZ2V0Q2hvaWNlQnlJZChpKSxzPWVbMF0mJmVbMF0ua2V5Q29kZT9lWzBdLmtleUNvZGU6bnVsbCxvPXRoaXMuZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuYWN0aXZlU3RhdGUpO2lmKG4ua2V5Q29kZT1zLCgwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJjaG9pY2VcIix7Y2hvaWNlOm59KSxuJiYhbi5zZWxlY3RlZCYmIW4uZGlzYWJsZWQpe3ZhciByPXRoaXMuX2NhbkFkZEl0ZW0oZSxuLnZhbHVlKTtyLnJlc3BvbnNlJiYodGhpcy5fYWRkSXRlbShuLnZhbHVlLG4ubGFiZWwsbi5pZCxuLmdyb3VwSWQsbi5jdXN0b21Qcm9wZXJ0aWVzLG4ucGxhY2Vob2xkZXIsbi5rZXlDb2RlKSx0aGlzLl90cmlnZ2VyQ2hhbmdlKG4udmFsdWUpKX10aGlzLmNsZWFySW5wdXQoKSxvJiZ0aGlzLmlzU2VsZWN0T25lRWxlbWVudCYmKHRoaXMuaGlkZURyb3Bkb3duKCksdGhpcy5jb250YWluZXJPdXRlci5mb2N1cygpKX19fSx7a2V5OlwiX2hhbmRsZUJhY2tzcGFjZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuY29uZmlnLnJlbW92ZUl0ZW1zJiZlKXt2YXIgdD1lW2UubGVuZ3RoLTFdLGk9ZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhpZ2hsaWdodGVkfSk7dGhpcy5jb25maWcuZWRpdEl0ZW1zJiYhaSYmdD8odGhpcy5pbnB1dC52YWx1ZT10LnZhbHVlLHRoaXMuX3NldElucHV0V2lkdGgoKSx0aGlzLl9yZW1vdmVJdGVtKHQpLHRoaXMuX3RyaWdnZXJDaGFuZ2UodC52YWx1ZSkpOihpfHx0aGlzLmhpZ2hsaWdodEl0ZW0odCwhMSksdGhpcy5yZW1vdmVIaWdobGlnaHRlZEl0ZW1zKCEwKSl9fX0se2tleTpcIl9jYW5BZGRJdGVtXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0hMCxuPSgwLHYuaXNUeXBlKShcIkZ1bmN0aW9uXCIsdGhpcy5jb25maWcuYWRkSXRlbVRleHQpP3RoaXMuY29uZmlnLmFkZEl0ZW1UZXh0KHQpOnRoaXMuY29uZmlnLmFkZEl0ZW1UZXh0Oyh0aGlzLmlzU2VsZWN0TXVsdGlwbGVFbGVtZW50fHx0aGlzLmlzVGV4dEVsZW1lbnQpJiZ0aGlzLmNvbmZpZy5tYXhJdGVtQ291bnQ+MCYmdGhpcy5jb25maWcubWF4SXRlbUNvdW50PD1lLmxlbmd0aCYmKGk9ITEsbj0oMCx2LmlzVHlwZSkoXCJGdW5jdGlvblwiLHRoaXMuY29uZmlnLm1heEl0ZW1UZXh0KT90aGlzLmNvbmZpZy5tYXhJdGVtVGV4dCh0aGlzLmNvbmZpZy5tYXhJdGVtQ291bnQpOnRoaXMuY29uZmlnLm1heEl0ZW1UZXh0KSx0aGlzLmlzVGV4dEVsZW1lbnQmJnRoaXMuY29uZmlnLmFkZEl0ZW1zJiZpJiZ0aGlzLmNvbmZpZy5yZWdleEZpbHRlciYmKGk9dGhpcy5fcmVnZXhGaWx0ZXIodCkpO3ZhciBzPSFlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuKDAsdi5pc1R5cGUpKFwiU3RyaW5nXCIsdCk/ZS52YWx1ZT09PXQudHJpbSgpOmUudmFsdWU9PT10fSk7cmV0dXJuIHN8fHRoaXMuY29uZmlnLmR1cGxpY2F0ZUl0ZW1zfHx0aGlzLmlzU2VsZWN0T25lRWxlbWVudHx8IWl8fChpPSExLG49KDAsdi5pc1R5cGUpKFwiRnVuY3Rpb25cIix0aGlzLmNvbmZpZy51bmlxdWVJdGVtVGV4dCk/dGhpcy5jb25maWcudW5pcXVlSXRlbVRleHQodCk6dGhpcy5jb25maWcudW5pcXVlSXRlbVRleHQpLHtyZXNwb25zZTppLG5vdGljZTpufX19LHtrZXk6XCJfaGFuZGxlTG9hZGluZ1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdLHQ9dGhpcy5pdGVtTGlzdC5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuY29uZmlnLmNsYXNzTmFtZXMucGxhY2Vob2xkZXIpO2U/KHRoaXMuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmxvYWRpbmdTdGF0ZSksdGhpcy5jb250YWluZXJPdXRlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWJ1c3lcIixcInRydWVcIiksdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQ/dD90LmlubmVySFRNTD10aGlzLmNvbmZpZy5sb2FkaW5nVGV4dDoodD10aGlzLl9nZXRUZW1wbGF0ZShcInBsYWNlaG9sZGVyXCIsdGhpcy5jb25maWcubG9hZGluZ1RleHQpLHRoaXMuaXRlbUxpc3QuYXBwZW5kQ2hpbGQodCkpOnRoaXMuaW5wdXQucGxhY2Vob2xkZXI9dGhpcy5jb25maWcubG9hZGluZ1RleHQpOih0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcuY2xhc3NOYW1lcy5sb2FkaW5nU3RhdGUpLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50P3QuaW5uZXJIVE1MPXRoaXMucGxhY2Vob2xkZXJ8fFwiXCI6dGhpcy5pbnB1dC5wbGFjZWhvbGRlcj10aGlzLnBsYWNlaG9sZGVyfHxcIlwiKX19LHtrZXk6XCJfYWpheENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0LGksbil7aWYodCYmaSl7dmFyIHM9KDAsdi5pc1R5cGUpKFwiT2JqZWN0XCIsdCk/W3RdOnQ7cyYmKDAsdi5pc1R5cGUpKFwiQXJyYXlcIixzKSYmcy5sZW5ndGg/KGUuX2hhbmRsZUxvYWRpbmdTdGF0ZSghMSksZS5fc2V0TG9hZGluZyghMCkscy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQuY2hvaWNlcyl7dmFyIHM9dC5pZHx8bnVsbDtlLl9hZGRHcm91cCh0LHMsaSxuKX1lbHNlIGUuX2FkZENob2ljZSh0W2ldLHRbbl0sdC5zZWxlY3RlZCx0LmRpc2FibGVkLHZvaWQgMCx0LmN1c3RvbVByb3BlcnRpZXMsdC5wbGFjZWhvbGRlcil9KSxlLl9zZXRMb2FkaW5nKCExKSxlLmlzU2VsZWN0T25lRWxlbWVudCYmZS5fc2VsZWN0UGxhY2Vob2xkZXJDaG9pY2UoKSk6ZS5faGFuZGxlTG9hZGluZ1N0YXRlKCExKSxlLmNvbnRhaW5lck91dGVyLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtYnVzeVwiKX19fX0se2tleTpcIl9zZWFyY2hDaG9pY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9KDAsdi5pc1R5cGUpKFwiU3RyaW5nXCIsZSk/ZS50cmltKCk6ZSxpPSgwLHYuaXNUeXBlKShcIlN0cmluZ1wiLHRoaXMuY3VycmVudFZhbHVlKT90aGlzLmN1cnJlbnRWYWx1ZS50cmltKCk6dGhpcy5jdXJyZW50VmFsdWU7aWYodC5sZW5ndGg+PTEmJnQhPT1pK1wiIFwiKXt2YXIgbj10aGlzLnN0b3JlLmdldFNlYXJjaGFibGVDaG9pY2VzKCkscz10LG89KDAsdi5pc1R5cGUpKFwiQXJyYXlcIix0aGlzLmNvbmZpZy5zZWFyY2hGaWVsZHMpP3RoaXMuY29uZmlnLnNlYXJjaEZpZWxkczpbdGhpcy5jb25maWcuc2VhcmNoRmllbGRzXSxyPU9iamVjdC5hc3NpZ24odGhpcy5jb25maWcuZnVzZU9wdGlvbnMse2tleXM6b30pLGE9bmV3IGwuZGVmYXVsdChuLHIpLGM9YS5zZWFyY2gocyk7cmV0dXJuIHRoaXMuY3VycmVudFZhbHVlPXQsdGhpcy5oaWdobGlnaHRQb3NpdGlvbj0wLHRoaXMuaXNTZWFyY2hpbmc9ITAsdGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmZpbHRlckNob2ljZXMpKGMpKSxjLmxlbmd0aH1yZXR1cm4gMH19LHtrZXk6XCJfaGFuZGxlU2VhcmNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5zdG9yZS5nZXRDaG9pY2VzKCksaT10LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIWUuYWN0aXZlfSk7aWYodGhpcy5pbnB1dD09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpaWYoZSYmZS5sZW5ndGg+PXRoaXMuY29uZmlnLnNlYXJjaEZsb29yKXt2YXIgbj0wO3RoaXMuY29uZmlnLnNlYXJjaENob2ljZXMmJihuPXRoaXMuX3NlYXJjaENob2ljZXMoZSkpLCgwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJzZWFyY2hcIix7dmFsdWU6ZSxyZXN1bHRDb3VudDpufSl9ZWxzZSBpJiYodGhpcy5pc1NlYXJjaGluZz0hMSx0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuYWN0aXZhdGVDaG9pY2VzKSghMCkpKX19fSx7a2V5OlwiX2FkZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLl9vbktleVVwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uS2V5RG93biksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGljayksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uVG91Y2hNb3ZlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl9vblRvdWNoRW5kKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fb25Nb3VzZURvd24pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIix0aGlzLl9vbk1vdXNlT3ZlciksdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQmJih0aGlzLmNvbnRhaW5lck91dGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX29uRm9jdXMpLHRoaXMuY29udGFpbmVyT3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLl9vbkJsdXIpKSx0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLHRoaXMuX29uSW5wdXQpLHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsdGhpcy5fb25QYXN0ZSksdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9vbkZvY3VzKSx0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5fb25CbHVyKX19LHtrZXk6XCJfcmVtb3ZlRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMuX29uS2V5VXApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Ub3VjaE1vdmUpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVG91Y2hFbmQpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbk1vdXNlRG93biksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLHRoaXMuX29uTW91c2VPdmVyKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudCYmKHRoaXMuY29udGFpbmVyT3V0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fb25Gb2N1cyksdGhpcy5jb250YWluZXJPdXRlci5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuX29uQmx1cikpLHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdGhpcy5fb25JbnB1dCksdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFzdGVcIix0aGlzLl9vblBhc3RlKSx0aGlzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX29uRm9jdXMpLHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLl9vbkJsdXIpfX0se2tleTpcIl9zZXRJbnB1dFdpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYWNlaG9sZGVyP3RoaXMuaW5wdXQudmFsdWUmJnRoaXMuaW5wdXQudmFsdWUubGVuZ3RoPj10aGlzLnBsYWNlaG9sZGVyLmxlbmd0aC8xLjI1JiYodGhpcy5pbnB1dC5zdHlsZS53aWR0aD0oMCx2LmdldFdpZHRoT2ZJbnB1dCkodGhpcy5pbnB1dCkpOnRoaXMuaW5wdXQuc3R5bGUud2lkdGg9KDAsdi5nZXRXaWR0aE9mSW5wdXQpKHRoaXMuaW5wdXQpfX0se2tleTpcIl9vbktleURvd25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxpPXRoaXM7aWYoZS50YXJnZXQ9PT10aGlzLmlucHV0fHx0aGlzLmNvbnRhaW5lck91dGVyLmNvbnRhaW5zKGUudGFyZ2V0KSl7dmFyIG49ZS50YXJnZXQsbz10aGlzLnN0b3JlLmdldEl0ZW1zRmlsdGVyZWRCeUFjdGl2ZSgpLHI9dGhpcy5pbnB1dD09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsYT10aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKSxjPXRoaXMuaXRlbUxpc3QmJnRoaXMuaXRlbUxpc3QuY2hpbGRyZW4sbD1TdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSksaD00Nix1PTgsZD0xMyxmPTY1LHA9MjcsbT0zOCxnPTQwLHk9MzMsYj0zNCxFPWUuY3RybEtleXx8ZS5tZXRhS2V5O3RoaXMuaXNUZXh0RWxlbWVudHx8IS9bYS16QS1aMC05LV8gXS8udGVzdChsKXx8YXx8dGhpcy5zaG93RHJvcGRvd24oITApLHRoaXMuY2FuU2VhcmNoPXRoaXMuY29uZmlnLnNlYXJjaEVuYWJsZWQ7dmFyIF89ZnVuY3Rpb24oKXtFJiZjJiYoaS5jYW5TZWFyY2g9ITEsaS5jb25maWcucmVtb3ZlSXRlbXMmJiFpLmlucHV0LnZhbHVlJiZpLmlucHV0PT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmaS5oaWdobGlnaHRBbGwoKSl9LFM9ZnVuY3Rpb24oKXtpZihpLmlzVGV4dEVsZW1lbnQmJm4udmFsdWUpe3ZhciB0PWkuaW5wdXQudmFsdWUscz1pLl9jYW5BZGRJdGVtKG8sdCk7cy5yZXNwb25zZSYmKGEmJmkuaGlkZURyb3Bkb3duKCksaS5fYWRkSXRlbSh0KSxpLl90cmlnZ2VyQ2hhbmdlKHQpLGkuY2xlYXJJbnB1dCgpKX1pZihuLmhhc0F0dHJpYnV0ZShcImRhdGEtYnV0dG9uXCIpJiYoaS5faGFuZGxlQnV0dG9uQWN0aW9uKG8sbiksZS5wcmV2ZW50RGVmYXVsdCgpKSxhKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHI9aS5kcm9wZG93bi5xdWVyeVNlbGVjdG9yKFwiLlwiK2kuY29uZmlnLmNsYXNzTmFtZXMuaGlnaGxpZ2h0ZWRTdGF0ZSk7ciYmKG9bMF0mJihvWzBdLmtleUNvZGU9ZCksaS5faGFuZGxlQ2hvaWNlQWN0aW9uKG8scikpfWVsc2UgaS5pc1NlbGVjdE9uZUVsZW1lbnQmJihhfHwoaS5zaG93RHJvcGRvd24oITApLGUucHJldmVudERlZmF1bHQoKSkpfSxJPWZ1bmN0aW9uKCl7YSYmKGkudG9nZ2xlRHJvcGRvd24oKSxpLmNvbnRhaW5lck91dGVyLmZvY3VzKCkpfSx3PWZ1bmN0aW9uKCl7aWYoYXx8aS5pc1NlbGVjdE9uZUVsZW1lbnQpe2F8fGkuc2hvd0Ryb3Bkb3duKCEwKSxpLmNhblNlYXJjaD0hMTt2YXIgdD1lLmtleUNvZGU9PT1nfHxlLmtleUNvZGU9PT1iPzE6LTEsbj1lLm1ldGFLZXl8fGUua2V5Q29kZT09PWJ8fGUua2V5Q29kZT09PXkscz12b2lkIDA7aWYobilzPXQ+MD9BcnJheS5mcm9tKGkuZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWNob2ljZS1zZWxlY3RhYmxlXVwiKSkucG9wKCk6aS5kcm9wZG93bi5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY2hvaWNlLXNlbGVjdGFibGVdXCIpO2Vsc2V7dmFyIG89aS5kcm9wZG93bi5xdWVyeVNlbGVjdG9yKFwiLlwiK2kuY29uZmlnLmNsYXNzTmFtZXMuaGlnaGxpZ2h0ZWRTdGF0ZSk7cz1vPygwLHYuZ2V0QWRqYWNlbnRFbCkobyxcIltkYXRhLWNob2ljZS1zZWxlY3RhYmxlXVwiLHQpOmkuZHJvcGRvd24ucXVlcnlTZWxlY3RvcihcIltkYXRhLWNob2ljZS1zZWxlY3RhYmxlXVwiKX1zJiYoKDAsdi5pc1Njcm9sbGVkSW50b1ZpZXcpKHMsaS5jaG9pY2VMaXN0LHQpfHxpLl9zY3JvbGxUb0Nob2ljZShzLHQpLGkuX2hpZ2hsaWdodENob2ljZShzKSksZS5wcmV2ZW50RGVmYXVsdCgpfX0sVD1mdW5jdGlvbigpeyFyfHxlLnRhcmdldC52YWx1ZXx8aS5pc1NlbGVjdE9uZUVsZW1lbnR8fChpLl9oYW5kbGVCYWNrc3BhY2UobyksZS5wcmV2ZW50RGVmYXVsdCgpKX0sQz0odD17fSxzKHQsZixfKSxzKHQsZCxTKSxzKHQscCxJKSxzKHQsbSx3KSxzKHQseSx3KSxzKHQsZyx3KSxzKHQsYix3KSxzKHQsdSxUKSxzKHQsaCxUKSx0KTtDW2Uua2V5Q29kZV0mJkNbZS5rZXlDb2RlXSgpfX19LHtrZXk6XCJfb25LZXlVcFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUudGFyZ2V0PT09dGhpcy5pbnB1dCl7dmFyIHQ9dGhpcy5pbnB1dC52YWx1ZSxpPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCksbj10aGlzLl9jYW5BZGRJdGVtKGksdCk7aWYodGhpcy5pc1RleHRFbGVtZW50KXt2YXIgcz10aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKTtpZih0KXtpZihuLm5vdGljZSl7dmFyIG89dGhpcy5fZ2V0VGVtcGxhdGUoXCJub3RpY2VcIixuLm5vdGljZSk7dGhpcy5kcm9wZG93bi5pbm5lckhUTUw9by5vdXRlckhUTUx9bi5yZXNwb25zZT09PSEwP3N8fHRoaXMuc2hvd0Ryb3Bkb3duKCk6IW4ubm90aWNlJiZzJiZ0aGlzLmhpZGVEcm9wZG93bigpfWVsc2UgcyYmdGhpcy5oaWRlRHJvcGRvd24oKX1lbHNle3ZhciByPTQ2LGE9ODtlLmtleUNvZGUhPT1yJiZlLmtleUNvZGUhPT1hfHxlLnRhcmdldC52YWx1ZT90aGlzLmNhblNlYXJjaCYmbi5yZXNwb25zZSYmdGhpcy5faGFuZGxlU2VhcmNoKHRoaXMuaW5wdXQudmFsdWUpOiF0aGlzLmlzVGV4dEVsZW1lbnQmJnRoaXMuaXNTZWFyY2hpbmcmJih0aGlzLmlzU2VhcmNoaW5nPSExLHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5hY3RpdmF0ZUNob2ljZXMpKCEwKSkpfXRoaXMuY2FuU2VhcmNoPXRoaXMuY29uZmlnLnNlYXJjaEVuYWJsZWR9fX0se2tleTpcIl9vbklucHV0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzU2VsZWN0T25lRWxlbWVudHx8dGhpcy5fc2V0SW5wdXRXaWR0aCgpfX0se2tleTpcIl9vblRvdWNoTW92ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy53YXNUYXA9PT0hMCYmKHRoaXMud2FzVGFwPSExKX19LHtrZXk6XCJfb25Ub3VjaEVuZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0fHxlLnRvdWNoZXNbMF0udGFyZ2V0LGk9dGhpcy5kcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5hY3RpdmVTdGF0ZSk7dGhpcy53YXNUYXA9PT0hMCYmdGhpcy5jb250YWluZXJPdXRlci5jb250YWlucyh0KSYmKHQhPT10aGlzLmNvbnRhaW5lck91dGVyJiZ0IT09dGhpcy5jb250YWluZXJJbm5lcnx8dGhpcy5pc1NlbGVjdE9uZUVsZW1lbnR8fCh0aGlzLmlzVGV4dEVsZW1lbnQ/ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXRoaXMuaW5wdXQmJnRoaXMuaW5wdXQuZm9jdXMoKTppfHx0aGlzLnNob3dEcm9wZG93bighMCkpLGUuc3RvcFByb3BhZ2F0aW9uKCkpLHRoaXMud2FzVGFwPSEwfX0se2tleTpcIl9vbk1vdXNlRG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O2lmKHQ9PT10aGlzLmNob2ljZUxpc3QmJnRoaXMuaXNJZTExJiYodGhpcy5pc1Njcm9sbGluZ09uSWU9ITApLHRoaXMuY29udGFpbmVyT3V0ZXIuY29udGFpbnModCkmJnQhPT10aGlzLmlucHV0KXt2YXIgaT12b2lkIDAsbj10aGlzLnN0b3JlLmdldEl0ZW1zRmlsdGVyZWRCeUFjdGl2ZSgpLHM9ZS5zaGlmdEtleTsoaT0oMCx2LmZpbmRBbmNlc3RvckJ5QXR0ck5hbWUpKHQsXCJkYXRhLWJ1dHRvblwiKSk/dGhpcy5faGFuZGxlQnV0dG9uQWN0aW9uKG4saSk6KGk9KDAsdi5maW5kQW5jZXN0b3JCeUF0dHJOYW1lKSh0LFwiZGF0YS1pdGVtXCIpKT90aGlzLl9oYW5kbGVJdGVtQWN0aW9uKG4saSxzKTooaT0oMCx2LmZpbmRBbmNlc3RvckJ5QXR0ck5hbWUpKHQsXCJkYXRhLWNob2ljZVwiKSkmJnRoaXMuX2hhbmRsZUNob2ljZUFjdGlvbihuLGkpLGUucHJldmVudERlZmF1bHQoKX19fSx7a2V5OlwiX29uQ2xpY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldCxpPXRoaXMuZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuYWN0aXZlU3RhdGUpLG49dGhpcy5zdG9yZS5nZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmUoKTtpZih0aGlzLmNvbnRhaW5lck91dGVyLmNvbnRhaW5zKHQpKXQuaGFzQXR0cmlidXRlKFwiZGF0YS1idXR0b25cIikmJnRoaXMuX2hhbmRsZUJ1dHRvbkFjdGlvbihuLHQpLGk/dGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQmJnQhPT10aGlzLmlucHV0JiYhdGhpcy5kcm9wZG93bi5jb250YWlucyh0KSYmdGhpcy5oaWRlRHJvcGRvd24oITApOnRoaXMuaXNUZXh0RWxlbWVudD9kb2N1bWVudC5hY3RpdmVFbGVtZW50IT09dGhpcy5pbnB1dCYmdGhpcy5pbnB1dC5mb2N1cygpOnRoaXMuY2FuU2VhcmNoP3RoaXMuc2hvd0Ryb3Bkb3duKCEwKToodGhpcy5zaG93RHJvcGRvd24oKSx0aGlzLmNvbnRhaW5lck91dGVyLmZvY3VzKCkpO2Vsc2V7dmFyIHM9bi5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhpZ2hsaWdodGVkfSk7cyYmdGhpcy51bmhpZ2hsaWdodEFsbCgpLHRoaXMuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmZvY3VzU3RhdGUpLGkmJnRoaXMuaGlkZURyb3Bkb3duKCl9fX0se2tleTpcIl9vbk1vdXNlT3ZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpeyhlLnRhcmdldD09PXRoaXMuZHJvcGRvd258fHRoaXMuZHJvcGRvd24uY29udGFpbnMoZS50YXJnZXQpKSYmZS50YXJnZXQuaGFzQXR0cmlidXRlKFwiZGF0YS1jaG9pY2VcIikmJnRoaXMuX2hpZ2hsaWdodENob2ljZShlLnRhcmdldCl9fSx7a2V5OlwiX29uUGFzdGVcIix2YWx1ZTpmdW5jdGlvbihlKXtlLnRhcmdldCE9PXRoaXMuaW5wdXR8fHRoaXMuY29uZmlnLnBhc3RlfHxlLnByZXZlbnREZWZhdWx0KCl9fSx7a2V5OlwiX29uRm9jdXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9ZS50YXJnZXQ7aWYodGhpcy5jb250YWluZXJPdXRlci5jb250YWlucyhpKSl7dmFyIG49dGhpcy5kcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5hY3RpdmVTdGF0ZSkscz17dGV4dDpmdW5jdGlvbigpe2k9PT10LmlucHV0JiZ0LmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5hZGQodC5jb25maWcuY2xhc3NOYW1lcy5mb2N1c1N0YXRlKX0sXCJzZWxlY3Qtb25lXCI6ZnVuY3Rpb24oKXt0LmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5hZGQodC5jb25maWcuY2xhc3NOYW1lcy5mb2N1c1N0YXRlKSxpPT09dC5pbnB1dCYmKG58fHQuc2hvd0Ryb3Bkb3duKCkpfSxcInNlbGVjdC1tdWx0aXBsZVwiOmZ1bmN0aW9uKCl7aT09PXQuaW5wdXQmJih0LmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5hZGQodC5jb25maWcuY2xhc3NOYW1lcy5mb2N1c1N0YXRlKSxufHx0LnNob3dEcm9wZG93bighMCkpfX07c1t0aGlzLnBhc3NlZEVsZW1lbnQudHlwZV0oKX19fSx7a2V5OlwiX29uQmx1clwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT1lLnRhcmdldDtpZih0aGlzLmNvbnRhaW5lck91dGVyLmNvbnRhaW5zKGkpJiYhdGhpcy5pc1Njcm9sbGluZ09uSWUpe3ZhciBuPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCkscz10aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKSxvPW4uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5oaWdobGlnaHRlZH0pLHI9e3RleHQ6ZnVuY3Rpb24oKXtpPT09dC5pbnB1dCYmKHQuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0LmNvbmZpZy5jbGFzc05hbWVzLmZvY3VzU3RhdGUpLG8mJnQudW5oaWdobGlnaHRBbGwoKSxzJiZ0LmhpZGVEcm9wZG93bigpKX0sXCJzZWxlY3Qtb25lXCI6ZnVuY3Rpb24oKXt0LmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5yZW1vdmUodC5jb25maWcuY2xhc3NOYW1lcy5mb2N1c1N0YXRlKSxpPT09dC5jb250YWluZXJPdXRlciYmcyYmIXQuY2FuU2VhcmNoJiZ0LmhpZGVEcm9wZG93bigpLGk9PT10LmlucHV0JiZzJiZ0LmhpZGVEcm9wZG93bigpfSxcInNlbGVjdC1tdWx0aXBsZVwiOmZ1bmN0aW9uKCl7aT09PXQuaW5wdXQmJih0LmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5yZW1vdmUodC5jb25maWcuY2xhc3NOYW1lcy5mb2N1c1N0YXRlKSxzJiZ0LmhpZGVEcm9wZG93bigpLG8mJnQudW5oaWdobGlnaHRBbGwoKSl9fTtyW3RoaXMucGFzc2VkRWxlbWVudC50eXBlXSgpfWVsc2UgdGhpcy5pc1Njcm9sbGluZ09uSWU9ITEsdGhpcy5pbnB1dC5mb2N1cygpfX0se2tleTpcIl9yZWdleEZpbHRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciB0PXRoaXMuY29uZmlnLnJlZ2V4RmlsdGVyLGk9bmV3IFJlZ0V4cCh0LnNvdXJjZSxcImlcIik7cmV0dXJuIGkudGVzdChlKX19LHtrZXk6XCJfc2Nyb2xsVG9DaG9pY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7aWYoZSl7dmFyIG49dGhpcy5jaG9pY2VMaXN0Lm9mZnNldEhlaWdodCxzPWUub2Zmc2V0SGVpZ2h0LG89ZS5vZmZzZXRUb3ArcyxyPXRoaXMuY2hvaWNlTGlzdC5zY3JvbGxUb3ArbixhPXQ+MD90aGlzLmNob2ljZUxpc3Quc2Nyb2xsVG9wK28tcjplLm9mZnNldFRvcCxjPWZ1bmN0aW9uIGUoKXt2YXIgbj00LHM9aS5jaG9pY2VMaXN0LnNjcm9sbFRvcCxvPSExLHI9dm9pZCAwLGM9dm9pZCAwO3Q+MD8ocj0oYS1zKS9uLGM9cj4xP3I6MSxpLmNob2ljZUxpc3Quc2Nyb2xsVG9wPXMrYyxzPGEmJihvPSEwKSk6KHI9KHMtYSkvbixjPXI+MT9yOjEsaS5jaG9pY2VMaXN0LnNjcm9sbFRvcD1zLWMscz5hJiYobz0hMCkpLG8mJnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbihpKXtlKGksYSx0KX0pfTtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oZSl7YyhlLGEsdCl9KX19fSx7a2V5OlwiX2hpZ2hsaWdodENob2ljZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLGk9QXJyYXkuZnJvbSh0aGlzLmRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1jaG9pY2Utc2VsZWN0YWJsZV1cIikpLG49dDtpZihpJiZpLmxlbmd0aCl7dmFyIHM9QXJyYXkuZnJvbSh0aGlzLmRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5jb25maWcuY2xhc3NOYW1lcy5oaWdobGlnaHRlZFN0YXRlKSk7cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuY2xhc3NMaXN0LnJlbW92ZShlLmNvbmZpZy5jbGFzc05hbWVzLmhpZ2hsaWdodGVkU3RhdGUpLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLFwiZmFsc2VcIil9KSxuP3RoaXMuaGlnaGxpZ2h0UG9zaXRpb249aS5pbmRleE9mKG4pOihuPWkubGVuZ3RoPnRoaXMuaGlnaGxpZ2h0UG9zaXRpb24/aVt0aGlzLmhpZ2hsaWdodFBvc2l0aW9uXTppW2kubGVuZ3RoLTFdLG58fChuPWlbMF0pKSxuLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5oaWdobGlnaHRlZFN0YXRlKSxuLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIixcInRydWVcIiksdGhpcy5jb250YWluZXJPdXRlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixuLmlkKX19fSx7a2V5OlwiX2FkZEl0ZW1cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTotMSxuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTotMSxzPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTpudWxsLG89YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0mJmFyZ3VtZW50c1s1XSxyPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTpudWxsLGE9KDAsdi5pc1R5cGUpKFwiU3RyaW5nXCIsZSk/ZS50cmltKCk6ZSxjPXIsbD10aGlzLnN0b3JlLmdldEl0ZW1zKCksaD10fHxhLHU9cGFyc2VJbnQoaSwxMCl8fC0xLGQ9bj49MD90aGlzLnN0b3JlLmdldEdyb3VwQnlJZChuKTpudWxsLGY9bD9sLmxlbmd0aCsxOjE7cmV0dXJuIHRoaXMuY29uZmlnLnByZXBlbmRWYWx1ZSYmKGE9dGhpcy5jb25maWcucHJlcGVuZFZhbHVlK2EudG9TdHJpbmcoKSksdGhpcy5jb25maWcuYXBwZW5kVmFsdWUmJihhKz10aGlzLmNvbmZpZy5hcHBlbmRWYWx1ZS50b1N0cmluZygpKSxcbnRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5hZGRJdGVtKShhLGgsZix1LG4scyxvLGMpKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudCYmdGhpcy5yZW1vdmVBY3RpdmVJdGVtcyhmKSxkJiZkLnZhbHVlPygwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJhZGRJdGVtXCIse2lkOmYsdmFsdWU6YSxsYWJlbDpoLGdyb3VwVmFsdWU6ZC52YWx1ZSxrZXlDb2RlOmN9KTooMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwiYWRkSXRlbVwiLHtpZDpmLHZhbHVlOmEsbGFiZWw6aCxrZXlDb2RlOmN9KSx0aGlzfX0se2tleTpcIl9yZW1vdmVJdGVtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWV8fCEoMCx2LmlzVHlwZSkoXCJPYmplY3RcIixlKSlyZXR1cm4gdGhpczt2YXIgdD1lLmlkLGk9ZS52YWx1ZSxuPWUubGFiZWwscz1lLmNob2ljZUlkLG89ZS5ncm91cElkLHI9bz49MD90aGlzLnN0b3JlLmdldEdyb3VwQnlJZChvKTpudWxsO3JldHVybiB0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAucmVtb3ZlSXRlbSkodCxzKSksciYmci52YWx1ZT8oMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwicmVtb3ZlSXRlbVwiLHtpZDp0LHZhbHVlOmksbGFiZWw6bixncm91cFZhbHVlOnIudmFsdWV9KTooMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwicmVtb3ZlSXRlbVwiLHtpZDp0LHZhbHVlOmksbGFiZWw6bn0pLHRoaXN9fSx7a2V5OlwiX2FkZENob2ljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10scz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06LTEsbz1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06bnVsbCxyPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdJiZhcmd1bWVudHNbNl0sYT1hcmd1bWVudHMubGVuZ3RoPjcmJnZvaWQgMCE9PWFyZ3VtZW50c1s3XT9hcmd1bWVudHNbN106bnVsbDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpe3ZhciBjPXRoaXMuc3RvcmUuZ2V0Q2hvaWNlcygpLGw9dHx8ZSxoPWM/Yy5sZW5ndGgrMToxLHU9dGhpcy5iYXNlSWQrXCItXCIrdGhpcy5pZE5hbWVzLml0ZW1DaG9pY2UrXCItXCIraDt0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuYWRkQ2hvaWNlKShlLGwsaCxzLG4sdSxvLHIsYSkpLGkmJnRoaXMuX2FkZEl0ZW0oZSxsLGgsdm9pZCAwLG8scixhKX19fSx7a2V5OlwiX2NsZWFyQ2hvaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmNsZWFyQ2hvaWNlcykoKSl9fSx7a2V5OlwiX2FkZEdyb3VwXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwidmFsdWVcIixzPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpcImxhYmVsXCIsbz0oMCx2LmlzVHlwZSkoXCJPYmplY3RcIixlKT9lLmNob2ljZXM6QXJyYXkuZnJvbShlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiT1BUSU9OXCIpKSxyPXQ/dDpNYXRoLmZsb29yKChuZXcgRGF0ZSkudmFsdWVPZigpKk1hdGgucmFuZG9tKCkpLGE9ISFlLmRpc2FibGVkJiZlLmRpc2FibGVkO28/KHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5hZGRHcm91cCkoZS5sYWJlbCxyLCEwLGEpKSxvLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kaXNhYmxlZHx8ZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuZGlzYWJsZWQ7aS5fYWRkQ2hvaWNlKGVbbl0sKDAsdi5pc1R5cGUpKFwiT2JqZWN0XCIsZSk/ZVtzXTplLmlubmVySFRNTCxlLnNlbGVjdGVkLHQscixlLmN1c3RvbVByb3BlcnRpZXMsZS5wbGFjZWhvbGRlcil9KSk6dGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmFkZEdyb3VwKShlLmxhYmVsLGUuaWQsITEsZS5kaXNhYmxlZCkpfX0se2tleTpcIl9nZXRUZW1wbGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO2Zvcih2YXIgdD10aGlzLmNvbmZpZy50ZW1wbGF0ZXMsaT1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoaT4xP2ktMTowKSxzPTE7czxpO3MrKyluW3MtMV09YXJndW1lbnRzW3NdO3JldHVybiB0W2VdLmFwcGx5KHQsbil9fSx7a2V5OlwiX2NyZWF0ZVRlbXBsYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuY29uZmlnLmNsYXNzTmFtZXMsaT17Y29udGFpbmVyT3V0ZXI6ZnVuY3Rpb24oaSl7cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICBjbGFzcz1cIicrdC5jb250YWluZXJPdXRlcisnXCJcXG4gICAgICAgICAgICAnKyhlLmlzU2VsZWN0RWxlbWVudD9lLmNvbmZpZy5zZWFyY2hFbmFibGVkPydyb2xlPVwiY29tYm9ib3hcIiBhcmlhLWF1dG9jb21wbGV0ZT1cImxpc3RcIic6J3JvbGU9XCJsaXN0Ym94XCInOlwiXCIpKydcXG4gICAgICAgICAgICBkYXRhLXR5cGU9XCInK2UucGFzc2VkRWxlbWVudC50eXBlKydcIlxcbiAgICAgICAgICAgICcrKGUuaXNTZWxlY3RPbmVFbGVtZW50Pyd0YWJpbmRleD1cIjBcIic6XCJcIikrJ1xcbiAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcXG4gICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxcbiAgICAgICAgICAgIGRpcj1cIicraSsnXCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgJyl9LGNvbnRhaW5lcklubmVyOmZ1bmN0aW9uKCl7cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCInK3QuY29udGFpbmVySW5uZXIrJ1wiPjwvZGl2PlxcbiAgICAgICAgJyl9LGl0ZW1MaXN0OmZ1bmN0aW9uKCl7dmFyIGksbj0oMCx1LmRlZmF1bHQpKHQubGlzdCwoaT17fSxzKGksdC5saXN0U2luZ2xlLGUuaXNTZWxlY3RPbmVFbGVtZW50KSxzKGksdC5saXN0SXRlbXMsIWUuaXNTZWxlY3RPbmVFbGVtZW50KSxpKSk7cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCInK24rJ1wiPjwvZGl2PlxcbiAgICAgICAgJyl9LHBsYWNlaG9sZGVyOmZ1bmN0aW9uKGUpe3JldHVybigwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiJyt0LnBsYWNlaG9sZGVyKydcIj5cXG4gICAgICAgICAgICAnK2UrXCJcXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIil9LGl0ZW06ZnVuY3Rpb24oaSl7dmFyIG4sbz0oMCx1LmRlZmF1bHQpKHQuaXRlbSwobj17fSxzKG4sdC5oaWdobGlnaHRlZFN0YXRlLGkuaGlnaGxpZ2h0ZWQpLHMobix0Lml0ZW1TZWxlY3RhYmxlLCFpLmhpZ2hsaWdodGVkKSxzKG4sdC5wbGFjZWhvbGRlcixpLnBsYWNlaG9sZGVyKSxuKSk7aWYoZS5jb25maWcucmVtb3ZlSXRlbUJ1dHRvbil7dmFyIHI7cmV0dXJuIG89KDAsdS5kZWZhdWx0KSh0Lml0ZW0sKHI9e30scyhyLHQuaGlnaGxpZ2h0ZWRTdGF0ZSxpLmhpZ2hsaWdodGVkKSxzKHIsdC5pdGVtU2VsZWN0YWJsZSwhaS5kaXNhYmxlZCkscyhyLHQucGxhY2Vob2xkZXIsaS5wbGFjZWhvbGRlcikscikpLCgwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICAgIGNsYXNzPVwiJytvKydcIlxcbiAgICAgICAgICAgICAgZGF0YS1pdGVtXFxuICAgICAgICAgICAgICBkYXRhLWlkPVwiJytpLmlkKydcIlxcbiAgICAgICAgICAgICAgZGF0YS12YWx1ZT1cIicraS52YWx1ZSsnXCJcXG4gICAgICAgICAgICAgIGRhdGEtZGVsZXRhYmxlXFxuICAgICAgICAgICAgICAnKyhpLmFjdGl2ZT8nYXJpYS1zZWxlY3RlZD1cInRydWVcIic6XCJcIikrXCJcXG4gICAgICAgICAgICAgIFwiKyhpLmRpc2FibGVkPydhcmlhLWRpc2FibGVkPVwidHJ1ZVwiJzpcIlwiKStcIlxcbiAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgXCIraS5sYWJlbCsnPCEtLVxcbiAgICAgICAgICAgLS0+PGJ1dHRvblxcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcXG4gICAgICAgICAgICAgICAgY2xhc3M9XCInK3QuYnV0dG9uKydcIlxcbiAgICAgICAgICAgICAgICBkYXRhLWJ1dHRvblxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVtb3ZlIGl0ZW06IFxcJycraS52YWx1ZStcIidcXFwiXFxuICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgUmVtb3ZlIGl0ZW1cXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICBcIil9cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICBjbGFzcz1cIicrbysnXCJcXG4gICAgICAgICAgICBkYXRhLWl0ZW1cXG4gICAgICAgICAgICBkYXRhLWlkPVwiJytpLmlkKydcIlxcbiAgICAgICAgICAgIGRhdGEtdmFsdWU9XCInK2kudmFsdWUrJ1wiXFxuICAgICAgICAgICAgJysoaS5hY3RpdmU/J2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCInOlwiXCIpK1wiXFxuICAgICAgICAgICAgXCIrKGkuZGlzYWJsZWQ/J2FyaWEtZGlzYWJsZWQ9XCJ0cnVlXCInOlwiXCIpK1wiXFxuICAgICAgICAgICAgPlxcbiAgICAgICAgICAgIFwiK2kubGFiZWwrXCJcXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIil9LGNob2ljZUxpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgIGNsYXNzPVwiJyt0Lmxpc3QrJ1wiXFxuICAgICAgICAgICAgZGlyPVwibHRyXCJcXG4gICAgICAgICAgICByb2xlPVwibGlzdGJveFwiXFxuICAgICAgICAgICAgJysoZS5pc1NlbGVjdE9uZUVsZW1lbnQ/XCJcIjonYXJpYS1tdWx0aXNlbGVjdGFibGU9XCJ0cnVlXCInKStcIlxcbiAgICAgICAgICAgID5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIil9LGNob2ljZUdyb3VwOmZ1bmN0aW9uKGUpe3ZhciBpPSgwLHUuZGVmYXVsdCkodC5ncm91cCxzKHt9LHQuaXRlbURpc2FibGVkLGUuZGlzYWJsZWQpKTtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgIGNsYXNzPVwiJytpKydcIlxcbiAgICAgICAgICAgIGRhdGEtZ3JvdXBcXG4gICAgICAgICAgICBkYXRhLWlkPVwiJytlLmlkKydcIlxcbiAgICAgICAgICAgIGRhdGEtdmFsdWU9XCInK2UudmFsdWUrJ1wiXFxuICAgICAgICAgICAgcm9sZT1cImdyb3VwXCJcXG4gICAgICAgICAgICAnKyhlLmRpc2FibGVkPydhcmlhLWRpc2FibGVkPVwidHJ1ZVwiJzpcIlwiKSsnXFxuICAgICAgICAgICAgPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCInK3QuZ3JvdXBIZWFkaW5nKydcIj4nK2UudmFsdWUrXCI8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIil9LGNob2ljZTpmdW5jdGlvbihpKXt2YXIgbixvPSgwLHUuZGVmYXVsdCkodC5pdGVtLHQuaXRlbUNob2ljZSwobj17fSxzKG4sdC5pdGVtRGlzYWJsZWQsaS5kaXNhYmxlZCkscyhuLHQuaXRlbVNlbGVjdGFibGUsIWkuZGlzYWJsZWQpLHMobix0LnBsYWNlaG9sZGVyLGkucGxhY2Vob2xkZXIpLG4pKTtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgIGNsYXNzPVwiJytvKydcIlxcbiAgICAgICAgICAgIGRhdGEtc2VsZWN0LXRleHQ9XCInK2UuY29uZmlnLml0ZW1TZWxlY3RUZXh0KydcIlxcbiAgICAgICAgICAgIGRhdGEtY2hvaWNlXFxuICAgICAgICAgICAgZGF0YS1pZD1cIicraS5pZCsnXCJcXG4gICAgICAgICAgICBkYXRhLXZhbHVlPVwiJytpLnZhbHVlKydcIlxcbiAgICAgICAgICAgICcrKGkuZGlzYWJsZWQ/J2RhdGEtY2hvaWNlLWRpc2FibGVkIGFyaWEtZGlzYWJsZWQ9XCJ0cnVlXCInOlwiZGF0YS1jaG9pY2Utc2VsZWN0YWJsZVwiKSsnXFxuICAgICAgICAgICAgaWQ9XCInK2kuZWxlbWVudElkKydcIlxcbiAgICAgICAgICAgICcrKGkuZ3JvdXBJZD4wPydyb2xlPVwidHJlZWl0ZW1cIic6J3JvbGU9XCJvcHRpb25cIicpK1wiXFxuICAgICAgICAgICAgPlxcbiAgICAgICAgICAgIFwiK2kubGFiZWwrXCJcXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIil9LGlucHV0OmZ1bmN0aW9uKCl7dmFyIGU9KDAsdS5kZWZhdWx0KSh0LmlucHV0LHQuaW5wdXRDbG9uZWQpO3JldHVybigwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICA8aW5wdXRcXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXFxuICAgICAgICAgICAgY2xhc3M9XCInK2UrJ1wiXFxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcXG4gICAgICAgICAgICBhdXRvY2FwaXRhbGl6ZT1cIm9mZlwiXFxuICAgICAgICAgICAgc3BlbGxjaGVjaz1cImZhbHNlXCJcXG4gICAgICAgICAgICByb2xlPVwidGV4dGJveFwiXFxuICAgICAgICAgICAgYXJpYS1hdXRvY29tcGxldGU9XCJsaXN0XCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAnKX0sZHJvcGRvd246ZnVuY3Rpb24oKXt2YXIgZT0oMCx1LmRlZmF1bHQpKHQubGlzdCx0Lmxpc3REcm9wZG93bik7cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICBjbGFzcz1cIicrZSsnXCJcXG4gICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxcbiAgICAgICAgICAgID5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAnKX0sbm90aWNlOmZ1bmN0aW9uKGUpe3ZhciBpLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCIsbz0oMCx1LmRlZmF1bHQpKHQuaXRlbSx0Lml0ZW1DaG9pY2UsKGk9e30scyhpLHQubm9SZXN1bHRzLFwibm8tcmVzdWx0c1wiPT09bikscyhpLHQubm9DaG9pY2VzLFwibm8tY2hvaWNlc1wiPT09biksaSkpO3JldHVybigwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiJytvKydcIj5cXG4gICAgICAgICAgICAnK2UrXCJcXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIil9LG9wdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIicrZS52YWx1ZSsnXCIgc2VsZWN0ZWQ+JytlLmxhYmVsK1wiPC9vcHRpb24+XFxuICAgICAgICBcIil9fSxuPXRoaXMuY29uZmlnLmNhbGxiYWNrT25DcmVhdGVUZW1wbGF0ZXMsbz17fTtuJiYoMCx2LmlzVHlwZSkoXCJGdW5jdGlvblwiLG4pJiYobz1uLmNhbGwodGhpcyx2LnN0clRvRWwpKSx0aGlzLmNvbmZpZy50ZW1wbGF0ZXM9KDAsdi5leHRlbmQpKGksbyl9fSx7a2V5OlwiX3NldExvYWRpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuc2V0SXNMb2FkaW5nKShlKSl9fSx7a2V5OlwiX2NyZWF0ZUlucHV0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5wYXNzZWRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRpclwiKXx8XCJsdHJcIixpPXRoaXMuX2dldFRlbXBsYXRlKFwiY29udGFpbmVyT3V0ZXJcIix0KSxuPXRoaXMuX2dldFRlbXBsYXRlKFwiY29udGFpbmVySW5uZXJcIikscz10aGlzLl9nZXRUZW1wbGF0ZShcIml0ZW1MaXN0XCIpLG89dGhpcy5fZ2V0VGVtcGxhdGUoXCJjaG9pY2VMaXN0XCIpLHI9dGhpcy5fZ2V0VGVtcGxhdGUoXCJpbnB1dFwiKSxhPXRoaXMuX2dldFRlbXBsYXRlKFwiZHJvcGRvd25cIik7dGhpcy5jb250YWluZXJPdXRlcj1pLHRoaXMuY29udGFpbmVySW5uZXI9bix0aGlzLmlucHV0PXIsdGhpcy5jaG9pY2VMaXN0PW8sdGhpcy5pdGVtTGlzdD1zLHRoaXMuZHJvcGRvd249YSx0aGlzLnBhc3NlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmlucHV0LHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaGlkZGVuU3RhdGUpLHRoaXMucGFzc2VkRWxlbWVudC50YWJJbmRleD1cIi0xXCI7dmFyIGM9dGhpcy5wYXNzZWRFbGVtZW50LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO2lmKEJvb2xlYW4oYykmJnRoaXMucGFzc2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNob2ljZS1vcmlnLXN0eWxlXCIsYyksdGhpcy5wYXNzZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmU7XCIpLHRoaXMucGFzc2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLnBhc3NlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaG9pY2VcIixcImFjdGl2ZVwiKSwoMCx2LndyYXApKHRoaXMucGFzc2VkRWxlbWVudCxuKSwoMCx2LndyYXApKG4saSksdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQ/ci5wbGFjZWhvbGRlcj10aGlzLmNvbmZpZy5zZWFyY2hQbGFjZWhvbGRlclZhbHVlfHxcIlwiOnRoaXMucGxhY2Vob2xkZXImJihyLnBsYWNlaG9sZGVyPXRoaXMucGxhY2Vob2xkZXIsci5zdHlsZS53aWR0aD0oMCx2LmdldFdpZHRoT2ZJbnB1dCkocikpLHRoaXMuY29uZmlnLmFkZEl0ZW1zfHx0aGlzLmRpc2FibGUoKSxpLmFwcGVuZENoaWxkKG4pLGkuYXBwZW5kQ2hpbGQoYSksbi5hcHBlbmRDaGlsZChzKSx0aGlzLmlzVGV4dEVsZW1lbnR8fGEuYXBwZW5kQ2hpbGQobyksdGhpcy5pc1NlbGVjdE11bHRpcGxlRWxlbWVudHx8dGhpcy5pc1RleHRFbGVtZW50P24uYXBwZW5kQ2hpbGQocik6dGhpcy5jYW5TZWFyY2gmJmEuaW5zZXJ0QmVmb3JlKHIsYS5maXJzdENoaWxkKSx0aGlzLmlzU2VsZWN0RWxlbWVudCl7dmFyIGw9QXJyYXkuZnJvbSh0aGlzLnBhc3NlZEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJPUFRHUk9VUFwiKSk7aWYodGhpcy5oaWdobGlnaHRQb3NpdGlvbj0wLHRoaXMuaXNTZWFyY2hpbmc9ITEsdGhpcy5fc2V0TG9hZGluZyghMCksbCYmbC5sZW5ndGgpbC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2FkZEdyb3VwKHQsdC5pZHx8bnVsbCl9KTtlbHNle3ZhciBoPUFycmF5LmZyb20odGhpcy5wYXNzZWRFbGVtZW50Lm9wdGlvbnMpLHU9dGhpcy5jb25maWcuc29ydEZpbHRlcixkPXRoaXMucHJlc2V0Q2hvaWNlcztoLmZvckVhY2goZnVuY3Rpb24oZSl7ZC5wdXNoKHt2YWx1ZTplLnZhbHVlLGxhYmVsOmUuaW5uZXJIVE1MLHNlbGVjdGVkOmUuc2VsZWN0ZWQsZGlzYWJsZWQ6ZS5kaXNhYmxlZHx8ZS5wYXJlbnROb2RlLmRpc2FibGVkLHBsYWNlaG9sZGVyOmUuaGFzQXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIil9KX0pLHRoaXMuY29uZmlnLnNob3VsZFNvcnQmJmQuc29ydCh1KTt2YXIgZj1kLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VsZWN0ZWR9KTtkLmZvckVhY2goZnVuY3Rpb24odCxpKXtpZihlLmlzU2VsZWN0T25lRWxlbWVudCl7dmFyIG49Znx8IWYmJmk+MDtlLl9hZGRDaG9pY2UodC52YWx1ZSx0LmxhYmVsLCFufHx0LnNlbGVjdGVkLCEhbiYmdC5kaXNhYmxlZCx2b2lkIDAsdC5jdXN0b21Qcm9wZXJ0aWVzLHQucGxhY2Vob2xkZXIpfWVsc2UgZS5fYWRkQ2hvaWNlKHQudmFsdWUsdC5sYWJlbCx0LnNlbGVjdGVkLHQuZGlzYWJsZWQsdm9pZCAwLHQuY3VzdG9tUHJvcGVydGllcyx0LnBsYWNlaG9sZGVyKX0pfXRoaXMuX3NldExvYWRpbmcoITEpfWVsc2UgdGhpcy5pc1RleHRFbGVtZW50JiZ0aGlzLnByZXNldEl0ZW1zLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9KDAsdi5nZXRUeXBlKSh0KTtpZihcIk9iamVjdFwiPT09aSl7aWYoIXQudmFsdWUpcmV0dXJuO2UuX2FkZEl0ZW0odC52YWx1ZSx0LmxhYmVsLHQuaWQsdm9pZCAwLHQuY3VzdG9tUHJvcGVydGllcyx0LnBsYWNlaG9sZGVyKX1lbHNlXCJTdHJpbmdcIj09PWkmJmUuX2FkZEl0ZW0odCl9KX19XSksZX0oKTtlLmV4cG9ydHM9bX0sZnVuY3Rpb24oZSx0LGkpeyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfWZ1bmN0aW9uIG4oZSx0KXt2YXIgaTt0aGlzLmxpc3Q9ZSx0aGlzLm9wdGlvbnM9dD10fHx7fTtmb3IoaSBpbiBhKWEuaGFzT3duUHJvcGVydHkoaSkmJihcImJvb2xlYW5cIj09dHlwZW9mIGFbaV0/dGhpcy5vcHRpb25zW2ldPWkgaW4gdD90W2ldOmFbaV06dGhpcy5vcHRpb25zW2ldPXRbaV18fGFbaV0pfWZ1bmN0aW9uIHMoZSx0LGkpe3ZhciBuLHIsYSxjLGwsaDtpZih0KXtpZihhPXQuaW5kZXhPZihcIi5cIiksYSE9PS0xPyhuPXQuc2xpY2UoMCxhKSxyPXQuc2xpY2UoYSsxKSk6bj10LGM9ZVtuXSxudWxsIT09YyYmdm9pZCAwIT09YylpZihyfHxcInN0cmluZ1wiIT10eXBlb2YgYyYmXCJudW1iZXJcIiE9dHlwZW9mIGMpaWYobyhjKSlmb3IobD0wLGg9Yy5sZW5ndGg7bDxoO2wrKylzKGNbbF0scixpKTtlbHNlIHImJnMoYyxyLGkpO2Vsc2UgaS5wdXNoKGMpfWVsc2UgaS5wdXNoKGUpO3JldHVybiBpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIHIoZSx0KXt0PXR8fHt9LHRoaXMub3B0aW9ucz10LHRoaXMub3B0aW9ucy5sb2NhdGlvbj10LmxvY2F0aW9ufHxyLmRlZmF1bHRPcHRpb25zLmxvY2F0aW9uLHRoaXMub3B0aW9ucy5kaXN0YW5jZT1cImRpc3RhbmNlXCJpbiB0P3QuZGlzdGFuY2U6ci5kZWZhdWx0T3B0aW9ucy5kaXN0YW5jZSx0aGlzLm9wdGlvbnMudGhyZXNob2xkPVwidGhyZXNob2xkXCJpbiB0P3QudGhyZXNob2xkOnIuZGVmYXVsdE9wdGlvbnMudGhyZXNob2xkLHRoaXMub3B0aW9ucy5tYXhQYXR0ZXJuTGVuZ3RoPXQubWF4UGF0dGVybkxlbmd0aHx8ci5kZWZhdWx0T3B0aW9ucy5tYXhQYXR0ZXJuTGVuZ3RoLHRoaXMucGF0dGVybj10LmNhc2VTZW5zaXRpdmU/ZTplLnRvTG93ZXJDYXNlKCksdGhpcy5wYXR0ZXJuTGVuPWUubGVuZ3RoLHRoaXMucGF0dGVybkxlbjw9dGhpcy5vcHRpb25zLm1heFBhdHRlcm5MZW5ndGgmJih0aGlzLm1hdGNobWFzaz0xPDx0aGlzLnBhdHRlcm5MZW4tMSx0aGlzLnBhdHRlcm5BbHBoYWJldD10aGlzLl9jYWxjdWxhdGVQYXR0ZXJuQWxwaGFiZXQoKSl9dmFyIGE9e2lkOm51bGwsY2FzZVNlbnNpdGl2ZTohMSxpbmNsdWRlOltdLHNob3VsZFNvcnQ6ITAsc2VhcmNoRm46cixzb3J0Rm46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zY29yZS10LnNjb3JlfSxnZXRGbjpzLGtleXM6W10sdmVyYm9zZTohMSx0b2tlbml6ZTohMSxtYXRjaEFsbFRva2VuczohMSx0b2tlblNlcGFyYXRvcjovICsvZyxtaW5NYXRjaENoYXJMZW5ndGg6MSxmaW5kQWxsTWF0Y2hlczohMX07bi5WRVJTSU9OPVwiMi43LjNcIixuLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGlzdD1lLGV9LG4ucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMudmVyYm9zZSYmaShcIlxcblNlYXJjaCB0ZXJtOlwiLGUsXCJcXG5cIiksdGhpcy5wYXR0ZXJuPWUsdGhpcy5yZXN1bHRzPVtdLHRoaXMucmVzdWx0TWFwPXt9LHRoaXMuX2tleU1hcD1udWxsLHRoaXMuX3ByZXBhcmVTZWFyY2hlcnMoKSx0aGlzLl9zdGFydFNlYXJjaCgpLHRoaXMuX2NvbXB1dGVTY29yZSgpLHRoaXMuX3NvcnQoKTt2YXIgdD10aGlzLl9mb3JtYXQoKTtyZXR1cm4gdH0sbi5wcm90b3R5cGUuX3ByZXBhcmVTZWFyY2hlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMsdD10aGlzLnBhdHRlcm4saT1lLnNlYXJjaEZuLG49dC5zcGxpdChlLnRva2VuU2VwYXJhdG9yKSxzPTAsbz1uLmxlbmd0aDtpZih0aGlzLm9wdGlvbnMudG9rZW5pemUpZm9yKHRoaXMudG9rZW5TZWFyY2hlcnM9W107czxvO3MrKyl0aGlzLnRva2VuU2VhcmNoZXJzLnB1c2gobmV3IGkobltzXSxlKSk7dGhpcy5mdWxsU2VhY2hlcj1uZXcgaSh0LGUpfSxuLnByb3RvdHlwZS5fc3RhcnRTZWFyY2g9ZnVuY3Rpb24oKXt2YXIgZSx0LGksbixzPXRoaXMub3B0aW9ucyxvPXMuZ2V0Rm4scj10aGlzLmxpc3QsYT1yLmxlbmd0aCxjPXRoaXMub3B0aW9ucy5rZXlzLGw9Yy5sZW5ndGgsaD1udWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByWzBdKWZvcihpPTA7aTxhO2krKyl0aGlzLl9hbmFseXplKFwiXCIscltpXSxpLGkpO2Vsc2UgZm9yKHRoaXMuX2tleU1hcD17fSxpPTA7aTxhO2krKylmb3IoaD1yW2ldLG49MDtuPGw7bisrKXtpZihlPWNbbl0sXCJzdHJpbmdcIiE9dHlwZW9mIGUpe2lmKHQ9MS1lLndlaWdodHx8MSx0aGlzLl9rZXlNYXBbZS5uYW1lXT17d2VpZ2h0OnR9LGUud2VpZ2h0PD0wfHxlLndlaWdodD4xKXRocm93IG5ldyBFcnJvcihcIktleSB3ZWlnaHQgaGFzIHRvIGJlID4gMCBhbmQgPD0gMVwiKTtlPWUubmFtZX1lbHNlIHRoaXMuX2tleU1hcFtlXT17d2VpZ2h0OjF9O3RoaXMuX2FuYWx5emUoZSxvKGgsZSxbXSksaCxpKX19LG4ucHJvdG90eXBlLl9hbmFseXplPWZ1bmN0aW9uKGUsdCxuLHMpe3ZhciByLGEsYyxsLGgsdSxkLGYscCx2LG0sZyx5LGIsRSxfPXRoaXMub3B0aW9ucyxTPSExO2lmKHZvaWQgMCE9PXQmJm51bGwhPT10KXthPVtdO3ZhciBJPTA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKHI9dC5zcGxpdChfLnRva2VuU2VwYXJhdG9yKSxfLnZlcmJvc2UmJmkoXCItLS0tLS0tLS1cXG5LZXk6XCIsZSksdGhpcy5vcHRpb25zLnRva2VuaXplKXtmb3IoYj0wO2I8dGhpcy50b2tlblNlYXJjaGVycy5sZW5ndGg7YisrKXtmb3IoZj10aGlzLnRva2VuU2VhcmNoZXJzW2JdLF8udmVyYm9zZSYmaShcIlBhdHRlcm46XCIsZi5wYXR0ZXJuKSxwPVtdLGc9ITEsRT0wO0U8ci5sZW5ndGg7RSsrKXt2PXJbRV0sbT1mLnNlYXJjaCh2KTt2YXIgdz17fTttLmlzTWF0Y2g/KHdbdl09bS5zY29yZSxTPSEwLGc9ITAsYS5wdXNoKG0uc2NvcmUpKTood1t2XT0xLHRoaXMub3B0aW9ucy5tYXRjaEFsbFRva2Vuc3x8YS5wdXNoKDEpKSxwLnB1c2godyl9ZyYmSSsrLF8udmVyYm9zZSYmaShcIlRva2VuIHNjb3JlczpcIixwKX1mb3IobD1hWzBdLHU9YS5sZW5ndGgsYj0xO2I8dTtiKyspbCs9YVtiXTtsLz11LF8udmVyYm9zZSYmaShcIlRva2VuIHNjb3JlIGF2ZXJhZ2U6XCIsbCl9ZD10aGlzLmZ1bGxTZWFjaGVyLnNlYXJjaCh0KSxfLnZlcmJvc2UmJmkoXCJGdWxsIHRleHQgc2NvcmU6XCIsZC5zY29yZSksaD1kLnNjb3JlLHZvaWQgMCE9PWwmJihoPShoK2wpLzIpLF8udmVyYm9zZSYmaShcIlNjb3JlIGF2ZXJhZ2U6XCIsaCkseT0hdGhpcy5vcHRpb25zLnRva2VuaXplfHwhdGhpcy5vcHRpb25zLm1hdGNoQWxsVG9rZW5zfHxJPj10aGlzLnRva2VuU2VhcmNoZXJzLmxlbmd0aCxfLnZlcmJvc2UmJmkoXCJDaGVjayBNYXRjaGVzXCIseSksKFN8fGQuaXNNYXRjaCkmJnkmJihjPXRoaXMucmVzdWx0TWFwW3NdLGM/Yy5vdXRwdXQucHVzaCh7a2V5OmUsc2NvcmU6aCxtYXRjaGVkSW5kaWNlczpkLm1hdGNoZWRJbmRpY2VzfSk6KHRoaXMucmVzdWx0TWFwW3NdPXtpdGVtOm4sb3V0cHV0Olt7a2V5OmUsc2NvcmU6aCxtYXRjaGVkSW5kaWNlczpkLm1hdGNoZWRJbmRpY2VzfV19LHRoaXMucmVzdWx0cy5wdXNoKHRoaXMucmVzdWx0TWFwW3NdKSkpfWVsc2UgaWYobyh0KSlmb3IoYj0wO2I8dC5sZW5ndGg7YisrKXRoaXMuX2FuYWx5emUoZSx0W2JdLG4scyl9fSxuLnByb3RvdHlwZS5fY29tcHV0ZVNjb3JlPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHMsbyxyLGEsYyxsLGg9dGhpcy5fa2V5TWFwLHU9dGhpcy5yZXN1bHRzO2Zvcih0aGlzLm9wdGlvbnMudmVyYm9zZSYmaShcIlxcblxcbkNvbXB1dGluZyBzY29yZTpcXG5cIiksZT0wO2U8dS5sZW5ndGg7ZSsrKXtmb3Iobj0wLHM9dVtlXS5vdXRwdXQsbz1zLmxlbmd0aCxjPTEsdD0wO3Q8bzt0Kyspcj1zW3RdLnNjb3JlLGE9aD9oW3NbdF0ua2V5XS53ZWlnaHQ6MSxsPXIqYSwxIT09YT9jPU1hdGgubWluKGMsbCk6KG4rPWwsc1t0XS5uU2NvcmU9bCk7MT09PWM/dVtlXS5zY29yZT1uL286dVtlXS5zY29yZT1jLHRoaXMub3B0aW9ucy52ZXJib3NlJiZpKHVbZV0pfX0sbi5wcm90b3R5cGUuX3NvcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7ZS5zaG91bGRTb3J0JiYoZS52ZXJib3NlJiZpKFwiXFxuXFxuU29ydGluZy4uLi5cIiksdGhpcy5yZXN1bHRzLnNvcnQoZS5zb3J0Rm4pKX0sbi5wcm90b3R5cGUuX2Zvcm1hdD1mdW5jdGlvbigpe3ZhciBlLHQsbixzLG89dGhpcy5vcHRpb25zLHI9by5nZXRGbixhPVtdLGM9dGhpcy5yZXN1bHRzLGw9by5pbmNsdWRlO2ZvcihvLnZlcmJvc2UmJmkoXCJcXG5cXG5PdXRwdXQ6XFxuXFxuXCIsYyksbj1vLmlkP2Z1bmN0aW9uKGUpe2NbZV0uaXRlbT1yKGNbZV0uaXRlbSxvLmlkLFtdKVswXX06ZnVuY3Rpb24oKXt9LHM9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHMsbyxyPWNbZV07aWYobC5sZW5ndGg+MCl7aWYodD17aXRlbTpyLml0ZW19LGwuaW5kZXhPZihcIm1hdGNoZXNcIikhPT0tMSlmb3Iobj1yLm91dHB1dCx0Lm1hdGNoZXM9W10saT0wO2k8bi5sZW5ndGg7aSsrKXM9bltpXSxvPXtpbmRpY2VzOnMubWF0Y2hlZEluZGljZXN9LHMua2V5JiYoby5rZXk9cy5rZXkpLHQubWF0Y2hlcy5wdXNoKG8pO2wuaW5kZXhPZihcInNjb3JlXCIpIT09LTEmJih0LnNjb3JlPWNbZV0uc2NvcmUpfWVsc2UgdD1yLml0ZW07cmV0dXJuIHR9LGU9MCx0PWMubGVuZ3RoO2U8dDtlKyspbihlKSxhLnB1c2gocyhlKSk7cmV0dXJuIGF9LHIuZGVmYXVsdE9wdGlvbnM9e2xvY2F0aW9uOjAsZGlzdGFuY2U6MTAwLHRocmVzaG9sZDouNixtYXhQYXR0ZXJuTGVuZ3RoOjMyfSxyLnByb3RvdHlwZS5fY2FsY3VsYXRlUGF0dGVybkFscGhhYmV0PWZ1bmN0aW9uKCl7dmFyIGU9e30sdD0wO2Zvcih0PTA7dDx0aGlzLnBhdHRlcm5MZW47dCsrKWVbdGhpcy5wYXR0ZXJuLmNoYXJBdCh0KV09MDtmb3IodD0wO3Q8dGhpcy5wYXR0ZXJuTGVuO3QrKyllW3RoaXMucGF0dGVybi5jaGFyQXQodCldfD0xPDx0aGlzLnBhdHRlcm4ubGVuZ3RoLXQtMTtyZXR1cm4gZX0sci5wcm90b3R5cGUuX2JpdGFwU2NvcmU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lL3RoaXMucGF0dGVybkxlbixuPU1hdGguYWJzKHRoaXMub3B0aW9ucy5sb2NhdGlvbi10KTtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc3RhbmNlP2krbi90aGlzLm9wdGlvbnMuZGlzdGFuY2U6bj8xOml9LHIucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scyxvLHIsYSxjLGwsaCx1LGQsZixwLHYsbSxnLHksYixFLF8sUyxJLHc9dGhpcy5vcHRpb25zO2lmKGU9dy5jYXNlU2Vuc2l0aXZlP2U6ZS50b0xvd2VyQ2FzZSgpLHRoaXMucGF0dGVybj09PWUpcmV0dXJue2lzTWF0Y2g6ITAsc2NvcmU6MCxtYXRjaGVkSW5kaWNlczpbWzAsZS5sZW5ndGgtMV1dfTtpZih0aGlzLnBhdHRlcm5MZW4+dy5tYXhQYXR0ZXJuTGVuZ3RoKXtpZih5PWUubWF0Y2gobmV3IFJlZ0V4cCh0aGlzLnBhdHRlcm4ucmVwbGFjZSh3LnRva2VuU2VwYXJhdG9yLFwifFwiKSkpLGI9ISF5KWZvcihfPVtdLHQ9MCxTPXkubGVuZ3RoO3Q8Uzt0KyspST15W3RdLF8ucHVzaChbZS5pbmRleE9mKEkpLEkubGVuZ3RoLTFdKTtyZXR1cm57aXNNYXRjaDpiLHNjb3JlOmI/LjU6MSxtYXRjaGVkSW5kaWNlczpffX1mb3Iocz13LmZpbmRBbGxNYXRjaGVzLG89dy5sb2NhdGlvbixuPWUubGVuZ3RoLHI9dy50aHJlc2hvbGQsYT1lLmluZGV4T2YodGhpcy5wYXR0ZXJuLG8pLEU9W10sdD0wO3Q8bjt0KyspRVt0XT0wO2ZvcihhIT0tMSYmKHI9TWF0aC5taW4odGhpcy5fYml0YXBTY29yZSgwLGEpLHIpLGE9ZS5sYXN0SW5kZXhPZih0aGlzLnBhdHRlcm4sbyt0aGlzLnBhdHRlcm5MZW4pLGEhPS0xJiYocj1NYXRoLm1pbih0aGlzLl9iaXRhcFNjb3JlKDAsYSkscikpKSxhPS0xLG09MSxnPVtdLGg9dGhpcy5wYXR0ZXJuTGVuK24sdD0wO3Q8dGhpcy5wYXR0ZXJuTGVuO3QrKyl7Zm9yKGM9MCxsPWg7YzxsOyl0aGlzLl9iaXRhcFNjb3JlKHQsbytsKTw9cj9jPWw6aD1sLGw9TWF0aC5mbG9vcigoaC1jKS8yK2MpO2ZvcihoPWwsdT1NYXRoLm1heCgxLG8tbCsxKSxkPXM/bjpNYXRoLm1pbihvK2wsbikrdGhpcy5wYXR0ZXJuTGVuLGY9QXJyYXkoZCsyKSxmW2QrMV09KDE8PHQpLTEsaT1kO2k+PXU7aS0tKWlmKHY9dGhpcy5wYXR0ZXJuQWxwaGFiZXRbZS5jaGFyQXQoaS0xKV0sdiYmKEVbaS0xXT0xKSxmW2ldPShmW2krMV08PDF8MSkmdiwwIT09dCYmKGZbaV18PShwW2krMV18cFtpXSk8PDF8MXxwW2krMV0pLGZbaV0mdGhpcy5tYXRjaG1hc2smJihtPXRoaXMuX2JpdGFwU2NvcmUodCxpLTEpLG08PXIpKXtpZihyPW0sYT1pLTEsZy5wdXNoKGEpLGE8PW8pYnJlYWs7dT1NYXRoLm1heCgxLDIqby1hKX1pZih0aGlzLl9iaXRhcFNjb3JlKHQrMSxvKT5yKWJyZWFrO3A9Zn1yZXR1cm4gXz10aGlzLl9nZXRNYXRjaGVkSW5kaWNlcyhFKSx7aXNNYXRjaDphPj0wLHNjb3JlOjA9PT1tPy4wMDE6bSxtYXRjaGVkSW5kaWNlczpffX0sci5wcm90b3R5cGUuX2dldE1hdGNoZWRJbmRpY2VzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPVtdLG49LTEscz0tMSxvPTAscj1lLmxlbmd0aDtvPHI7bysrKXQ9ZVtvXSx0JiZuPT09LTE/bj1vOnR8fG49PT0tMXx8KHM9by0xLHMtbisxPj10aGlzLm9wdGlvbnMubWluTWF0Y2hDaGFyTGVuZ3RoJiZpLnB1c2goW24sc10pLG49LTEpO3JldHVybiBlW28tMV0mJm8tMS1uKzE+PXRoaXMub3B0aW9ucy5taW5NYXRjaENoYXJMZW5ndGgmJmkucHVzaChbbixvLTFdKSxpfSxlLmV4cG9ydHM9bn0odGhpcyl9LGZ1bmN0aW9uKGUsdCxpKXt2YXIgbixzOyFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtpZihuKXt2YXIgcz10eXBlb2YgbjtpZihcInN0cmluZ1wiPT09c3x8XCJudW1iZXJcIj09PXMpZS5wdXNoKG4pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShuKSllLnB1c2goaS5hcHBseShudWxsLG4pKTtlbHNlIGlmKFwib2JqZWN0XCI9PT1zKWZvcih2YXIgciBpbiBuKW8uY2FsbChuLHIpJiZuW3JdJiZlLnB1c2gocil9fXJldHVybiBlLmpvaW4oXCIgXCIpfXZhciBvPXt9Lmhhc093blByb3BlcnR5O1widW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZlLmV4cG9ydHM/ZS5leHBvcnRzPWk6KG49W10scz1mdW5jdGlvbigpe3JldHVybiBpfS5hcHBseSh0LG4pLCEodm9pZCAwIT09cyYmKGUuZXhwb3J0cz1zKSkpfSgpfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxpPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9cmV0dXJuIEFycmF5LmZyb20oZSl9ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxhPWkoNSksYz1pKDI2KSxsPW4oYyksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy5zdG9yZT0oMCxhLmNyZWF0ZVN0b3JlKShsLmRlZmF1bHQsd2luZG93LmRldlRvb2xzRXh0ZW5zaW9uP3dpbmRvdy5kZXZUb29sc0V4dGVuc2lvbigpOnZvaWQgMCl9cmV0dXJuIHIoZSxbe2tleTpcImdldFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpfX0se2tleTpcImRpc3BhdGNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zdG9yZS5kaXNwYXRjaChlKX19LHtrZXk6XCJzdWJzY3JpYmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0b3JlLnN1YnNjcmliZShlKX19LHtrZXk6XCJpc0xvYWRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtyZXR1cm4gZS5nZW5lcmFsLmxvYWRpbmd9fSx7a2V5OlwiZ2V0SXRlbXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtyZXR1cm4gZS5pdGVtc319LHtrZXk6XCJnZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SXRlbXMoKSx0PWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFjdGl2ZT09PSEwfSxbXSk7cmV0dXJuIHR9fSx7a2V5OlwiZ2V0SXRlbXNSZWR1Y2VkVG9WYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmdldEl0ZW1zKCksdD1lLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLnB1c2godC52YWx1ZSksZX0sW10pO3JldHVybiB0fX0se2tleTpcImdldENob2ljZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtyZXR1cm4gZS5jaG9pY2VzfX0se2tleTpcImdldENob2ljZXNGaWx0ZXJlZEJ5QWN0aXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENob2ljZXMoKSx0PWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFjdGl2ZT09PSEwfSk7cmV0dXJuIHR9fSx7a2V5OlwiZ2V0Q2hvaWNlc0ZpbHRlcmVkQnlTZWxlY3RhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENob2ljZXMoKSx0PWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkIT09ITB9KTtyZXR1cm4gdH19LHtrZXk6XCJnZXRTZWFyY2hhYmxlQ2hvaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDaG9pY2VzRmlsdGVyZWRCeVNlbGVjdGFibGUoKTtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGxhY2Vob2xkZXIhPT0hMH0pfX0se2tleTpcImdldENob2ljZUJ5SWRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLmdldENob2ljZXNGaWx0ZXJlZEJ5QWN0aXZlKCksaT10LmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1wYXJzZUludChlLDEwKX0pO3JldHVybiBpfXJldHVybiExfX0se2tleTpcImdldEdyb3Vwc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdG9yZS5nZXRTdGF0ZSgpO3JldHVybiBlLmdyb3Vwc319LHtrZXk6XCJnZXRHcm91cHNGaWx0ZXJlZEJ5QWN0aXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEdyb3VwcygpLHQ9dGhpcy5nZXRDaG9pY2VzKCksaT1lLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgaT1lLmFjdGl2ZT09PSEwJiZlLmRpc2FibGVkPT09ITEsbj10LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlPT09ITAmJmUuZGlzYWJsZWQ9PT0hMX0pO3JldHVybiBpJiZufSxbXSk7cmV0dXJuIGl9fSx7a2V5OlwiZ2V0R3JvdXBCeUlkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRHcm91cHMoKSxpPXQuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KTtyZXR1cm4gaX19LHtrZXk6XCJnZXRQbGFjZWhvbGRlckNob2ljZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDaG9pY2VzKCksdD1bXS5jb25jYXQocyhlKSkucmV2ZXJzZSgpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGxhY2Vob2xkZXI9PT0hMH0pO3JldHVybiB0fX1dKSxlfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz1ofSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwLHQuY29tcG9zZT10LmFwcGx5TWlkZGxld2FyZT10LmJpbmRBY3Rpb25DcmVhdG9ycz10LmNvbWJpbmVSZWR1Y2Vycz10LmNyZWF0ZVN0b3JlPXZvaWQgMDt2YXIgcz1pKDYpLG89bihzKSxyPWkoMjEpLGE9bihyKSxjPWkoMjMpLGw9bihjKSxoPWkoMjQpLHU9bihoKSxkPWkoMjUpLGY9bihkKSxwPWkoMjIpO24ocCk7dC5jcmVhdGVTdG9yZT1vLmRlZmF1bHQsdC5jb21iaW5lUmVkdWNlcnM9YS5kZWZhdWx0LHQuYmluZEFjdGlvbkNyZWF0b3JzPWwuZGVmYXVsdCx0LmFwcGx5TWlkZGxld2FyZT11LmRlZmF1bHQsdC5jb21wb3NlPWYuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSx0LGkpe2Z1bmN0aW9uIG4oKXtnPT09bSYmKGc9bS5zbGljZSgpKX1mdW5jdGlvbiBvKCl7cmV0dXJuIHZ9ZnVuY3Rpb24gYShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uXCIpO3ZhciB0PSEwO3JldHVybiBuKCksZy5wdXNoKGUpLGZ1bmN0aW9uKCl7aWYodCl7dD0hMSxuKCk7dmFyIGk9Zy5pbmRleE9mKGUpO2cuc3BsaWNlKGksMSl9fX1mdW5jdGlvbiBoKGUpe2lmKCEoMCxyLmRlZmF1bHQpKGUpKXRocm93IG5ldyBFcnJvcihcIkFjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuXCIpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLnR5cGUpdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuIEhhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtpZih5KXRocm93IG5ldyBFcnJvcihcIlJlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy5cIik7dHJ5e3k9ITAsdj1wKHYsZSl9ZmluYWxseXt5PSExfWZvcih2YXIgdD1tPWcsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24oKX1yZXR1cm4gZX1mdW5jdGlvbiB1KGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uXCIpO3A9ZSxoKHt0eXBlOmwuSU5JVH0pfWZ1bmN0aW9uIGQoKXt2YXIgZSx0PWE7cmV0dXJuIGU9e3N1YnNjcmliZTpmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7ZS5uZXh0JiZlLm5leHQobygpKX1pZihcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC5cIik7aSgpO3ZhciBuPXQoaSk7cmV0dXJue3Vuc3Vic2NyaWJlOm59fX0sZVtjLmRlZmF1bHRdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGV9dmFyIGY7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkmJihpPXQsdD12b2lkIDApLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLlwiKTtyZXR1cm4gaShzKShlLHQpfWlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7dmFyIHA9ZSx2PXQsbT1bXSxnPW0seT0hMTtyZXR1cm4gaCh7dHlwZTpsLklOSVR9KSxmPXtkaXNwYXRjaDpoLHN1YnNjcmliZTphLGdldFN0YXRlOm8scmVwbGFjZVJlZHVjZXI6dX0sZltjLmRlZmF1bHRdPWQsZn10Ll9fZXNNb2R1bGU9ITAsdC5BY3Rpb25UeXBlcz12b2lkIDAsdC5kZWZhdWx0PXM7dmFyIG89aSg3KSxyPW4obyksYT1pKDE3KSxjPW4oYSksbD10LkFjdGlvblR5cGVzPXtJTklUOlwiQEByZWR1eC9JTklUXCJ9fSxmdW5jdGlvbihlLHQsaSl7ZnVuY3Rpb24gbihlKXtpZighcihlKXx8cyhlKSE9YSlyZXR1cm4hMTt2YXIgdD1vKGUpO2lmKG51bGw9PT10KXJldHVybiEwO3ZhciBpPXUuY2FsbCh0LFwiY29uc3RydWN0b3JcIikmJnQuY29uc3RydWN0b3I7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmaSBpbnN0YW5jZW9mIGkmJmguY2FsbChpKT09ZH12YXIgcz1pKDgpLG89aSgxNCkscj1pKDE2KSxhPVwiW29iamVjdCBPYmplY3RdXCIsYz1GdW5jdGlvbi5wcm90b3R5cGUsbD1PYmplY3QucHJvdG90eXBlLGg9Yy50b1N0cmluZyx1PWwuaGFzT3duUHJvcGVydHksZD1oLmNhbGwoT2JqZWN0KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIG51bGw9PWU/dm9pZCAwPT09ZT9jOmE6bCYmbCBpbiBPYmplY3QoZSk/byhlKTpyKGUpfXZhciBzPWkoOSksbz1pKDEyKSxyPWkoMTMpLGE9XCJbb2JqZWN0IE51bGxdXCIsYz1cIltvYmplY3QgVW5kZWZpbmVkXVwiLGw9cz9zLnRvU3RyaW5nVGFnOnZvaWQgMDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWkoMTApLHM9bi5TeW1ib2w7ZS5leHBvcnRzPXN9LGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1pKDExKSxzPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixvPW58fHN8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24odCl7dmFyIGk9XCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0O2UuZXhwb3J0cz1pfSkuY2FsbCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbihlLHQsaSl7ZnVuY3Rpb24gbihlKXt2YXIgdD1yLmNhbGwoZSxjKSxpPWVbY107dHJ5e2VbY109dm9pZCAwO3ZhciBuPSEwfWNhdGNoKGUpe312YXIgcz1hLmNhbGwoZSk7cmV0dXJuIG4mJih0P2VbY109aTpkZWxldGUgZVtjXSksc312YXIgcz1pKDkpLG89T2JqZWN0LnByb3RvdHlwZSxyPW8uaGFzT3duUHJvcGVydHksYT1vLnRvU3RyaW5nLGM9cz9zLnRvU3RyaW5nVGFnOnZvaWQgMDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUpe3JldHVybiBzLmNhbGwoZSl9dmFyIG49T2JqZWN0LnByb3RvdHlwZSxzPW4udG9TdHJpbmc7ZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1pKDE1KSxzPW4oT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCk7ZS5leHBvcnRzPXN9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZSh0KGkpKX19ZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlKXtyZXR1cm4gbnVsbCE9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9ZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxpKXtlLmV4cG9ydHM9aSgxOCl9LGZ1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24oZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbyxyPWkoMjApLGE9cyhyKTtvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGU/ZTpuO3ZhciBjPSgwLGEuZGVmYXVsdCkobyk7dC5kZWZhdWx0PWN9KS5jYWxsKHQsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSxpKDE5KShlKSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlLndlYnBhY2tQb2x5ZmlsbHx8KGUuZGVwcmVjYXRlPWZ1bmN0aW9uKCl7fSxlLnBhdGhzPVtdLGUuY2hpbGRyZW49W10sZS53ZWJwYWNrUG9seWZpbGw9MSksZX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXt2YXIgdCxpPWUuU3ltYm9sO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5vYnNlcnZhYmxlP3Q9aS5vYnNlcnZhYmxlOih0PWkoXCJvYnNlcnZhYmxlXCIpLGkub2JzZXJ2YWJsZT10KTp0PVwiQEBvYnNlcnZhYmxlXCIsdH1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSx0KXt2YXIgaT10JiZ0LnR5cGUsbj1pJiYnXCInK2kudG9TdHJpbmcoKSsnXCInfHxcImFuIGFjdGlvblwiO3JldHVyblwiR2l2ZW4gYWN0aW9uIFwiK24rJywgcmVkdWNlciBcIicrZSsnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuIElmIHlvdSB3YW50IHRoaXMgcmVkdWNlciB0byBob2xkIG5vIHZhbHVlLCB5b3UgY2FuIHJldHVybiBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLid9ZnVuY3Rpb24gbyhlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWVbdF0sbj1pKHZvaWQgMCx7dHlwZTphLkFjdGlvblR5cGVzLklOSVR9KTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInK3QrXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIElmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuIElmIHlvdSBkb24ndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsIHlvdSBjYW4gdXNlIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCIpO3ZhciBzPVwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl9cIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoXCJcIikuam9pbihcIi5cIik7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkodm9pZCAwLHt0eXBlOnN9KSl0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInK3QrJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcrKFwiRG9uJ3QgdHJ5IHRvIGhhbmRsZSBcIithLkFjdGlvblR5cGVzLklOSVQrJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpK1wibmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIGFjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZCwgYnV0IGNhbiBiZSBudWxsLlwiKX0pfWZ1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLGk9e30sbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO1wiZnVuY3Rpb25cIj09dHlwZW9mIGVbcl0mJihpW3JdPWVbcl0pfXZhciBhPU9iamVjdC5rZXlzKGkpLGM9dm9pZCAwO3RyeXtvKGkpfWNhdGNoKGUpe2M9ZX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHNbMV07aWYoYyl0aHJvdyBjO2Zvcih2YXIgbj0hMSxvPXt9LHI9MDtyPGEubGVuZ3RoO3IrKyl7dmFyIGw9YVtyXSxoPWlbbF0sdT1lW2xdLGQ9aCh1LHQpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkKXt2YXIgZj1zKGwsdCk7dGhyb3cgbmV3IEVycm9yKGYpfW9bbF09ZCxuPW58fGQhPT11fXJldHVybiBuP286ZX19dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1yO3ZhciBhPWkoNiksYz1pKDcpLGw9KG4oYyksaSgyMikpO24obCl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcihlKTt0cnl7dGhyb3cgbmV3IEVycm9yKGUpfWNhdGNoKGUpe319dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdChlLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gbihlLHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIGkoZSx0KTtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwiYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkIFwiKyhudWxsPT09ZT9cIm51bGxcIjp0eXBlb2YgZSkrJy4gRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtmb3IodmFyIG49T2JqZWN0LmtleXMoZSkscz17fSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciByPW5bb10sYT1lW3JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihzW3JdPWkoYSx0KSl9cmV0dXJuIHN9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9QXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihpLG4scyl7dmFyIHI9ZShpLG4scyksYz1yLmRpc3BhdGNoLGw9W10saD17Z2V0U3RhdGU6ci5nZXRTdGF0ZSxkaXNwYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gYyhlKX19O3JldHVybiBsPXQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlKGgpfSksYz1hLmRlZmF1bHQuYXBwbHkodm9pZCAwLGwpKHIuZGlzcGF0Y2gpLG8oe30scix7ZGlzcGF0Y2g6Y30pfX19dC5fX2VzTW9kdWxlPSEwO3ZhciBvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxuKSYmKGVbbl09aVtuXSl9cmV0dXJuIGV9O3QuZGVmYXVsdD1zO3ZhciByPWkoMjUpLGE9bihyKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gMD09PXQubGVuZ3RoP2Z1bmN0aW9uKGUpe3JldHVybiBlfToxPT09dC5sZW5ndGg/dFswXTp0LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX0pfXQuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWkoNSksbz1pKDI3KSxyPW4obyksYT1pKDI4KSxjPW4oYSksbD1pKDI5KSxoPW4obCksdT1pKDMwKSxkPW4odSksZj0oMCxzLmNvbWJpbmVSZWR1Y2Vycykoe2l0ZW1zOnIuZGVmYXVsdCxncm91cHM6Yy5kZWZhdWx0LGNob2ljZXM6aC5kZWZhdWx0LGdlbmVyYWw6ZC5kZWZhdWx0fSkscD1mdW5jdGlvbihlLHQpe3ZhciBpPWU7cmV0dXJuXCJDTEVBUl9BTExcIj09PXQudHlwZSYmKGk9dm9pZCAwKSxmKGksdCl9O3QuZGVmYXVsdD1wfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsaT1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0KyspaVt0XT1lW3RdO3JldHVybiBpfXJldHVybiBBcnJheS5mcm9tKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHQ9YXJndW1lbnRzWzFdO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIkFERF9JVEVNXCI6dmFyIG49W10uY29uY2F0KGkoZSksW3tpZDp0LmlkLGNob2ljZUlkOnQuY2hvaWNlSWQsZ3JvdXBJZDp0Lmdyb3VwSWQsdmFsdWU6dC52YWx1ZSxsYWJlbDp0LmxhYmVsLGFjdGl2ZTohMCxoaWdobGlnaHRlZDohMSxjdXN0b21Qcm9wZXJ0aWVzOnQuY3VzdG9tUHJvcGVydGllcyxwbGFjZWhvbGRlcjp0LnBsYWNlaG9sZGVyfHwhMSxrZXlDb2RlOm51bGx9XSk7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhpZ2hsaWdodGVkJiYoZS5oaWdobGlnaHRlZD0hMSksZX0pO2Nhc2VcIlJFTU9WRV9JVEVNXCI6cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dC5pZCYmKGUuYWN0aXZlPSExKSxlfSk7Y2FzZVwiSElHSExJR0hUX0lURU1cIjpyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT10LmlkJiYoZS5oaWdobGlnaHRlZD10LmhpZ2hsaWdodGVkKSxlfSk7ZGVmYXVsdDpyZXR1cm4gZX19O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsaT1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0KyspaVt0XT1lW3RdO3JldHVybiBpfXJldHVybiBBcnJheS5mcm9tKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHQ9YXJndW1lbnRzWzFdO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIkFERF9HUk9VUFwiOnJldHVybltdLmNvbmNhdChpKGUpLFt7aWQ6dC5pZCx2YWx1ZTp0LnZhbHVlLGFjdGl2ZTp0LmFjdGl2ZSxkaXNhYmxlZDp0LmRpc2FibGVkfV0pO2Nhc2VcIkNMRUFSX0NIT0lDRVNcIjpyZXR1cm4gZS5ncm91cHM9W107ZGVmYXVsdDpyZXR1cm4gZX19O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsaT1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0KyspaVt0XT1lW3RdO3JldHVybiBpfXJldHVybiBBcnJheS5mcm9tKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHQ9YXJndW1lbnRzWzFdO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIkFERF9DSE9JQ0VcIjpyZXR1cm5bXS5jb25jYXQoaShlKSxbe2lkOnQuaWQsZWxlbWVudElkOnQuZWxlbWVudElkLGdyb3VwSWQ6dC5ncm91cElkLHZhbHVlOnQudmFsdWUsbGFiZWw6dC5sYWJlbHx8dC52YWx1ZSxkaXNhYmxlZDp0LmRpc2FibGVkfHwhMSxzZWxlY3RlZDohMSxhY3RpdmU6ITAsc2NvcmU6OTk5OSxjdXN0b21Qcm9wZXJ0aWVzOnQuY3VzdG9tUHJvcGVydGllcyxwbGFjZWhvbGRlcjp0LnBsYWNlaG9sZGVyfHwhMSxrZXlDb2RlOm51bGx9XSk7Y2FzZVwiQUREX0lURU1cIjp2YXIgbj1lO3JldHVybiB0LmFjdGl2YXRlT3B0aW9ucyYmKG49ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlPXQuYWN0aXZlLGV9KSksdC5jaG9pY2VJZD4tMSYmKG49ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1wYXJzZUludCh0LmNob2ljZUlkLDEwKSYmKGUuc2VsZWN0ZWQ9ITApLGV9KSksbjtjYXNlXCJSRU1PVkVfSVRFTVwiOnJldHVybiB0LmNob2ljZUlkPi0xP2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09cGFyc2VJbnQodC5jaG9pY2VJZCwxMCkmJihlLnNlbGVjdGVkPSExKSxlfSk6ZTtjYXNlXCJGSUxURVJfQ0hPSUNFU1wiOnZhciBzPXQucmVzdWx0cyxvPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFjdGl2ZT1zLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXRlbS5pZD09PWUuaWQmJihlLnNjb3JlPXQuc2NvcmUsITApfSksZX0pO3JldHVybiBvO2Nhc2VcIkFDVElWQVRFX0NIT0lDRVNcIjpyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlPXQuYWN0aXZlLGV9KTtjYXNlXCJDTEVBUl9DSE9JQ0VTXCI6cmV0dXJuIGUuY2hvaWNlcz1bXTtkZWZhdWx0OnJldHVybiBlfX07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2xvYWRpbmc6ITF9LHQ9YXJndW1lbnRzWzFdO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIkxPQURJTkdcIjpyZXR1cm57bG9hZGluZzp0LmlzTG9hZGluZ307ZGVmYXVsdDpyZXR1cm4gZX19O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3QuYWRkSXRlbT1mdW5jdGlvbihlLHQsaSxuLHMsbyxyLGEpe3JldHVybnt0eXBlOlwiQUREX0lURU1cIix2YWx1ZTplLGxhYmVsOnQsaWQ6aSxjaG9pY2VJZDpuLGdyb3VwSWQ6cyxjdXN0b21Qcm9wZXJ0aWVzOm8scGxhY2Vob2xkZXI6cixrZXlDb2RlOmF9fSx0LnJlbW92ZUl0ZW09ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZTpcIlJFTU9WRV9JVEVNXCIsaWQ6ZSxjaG9pY2VJZDp0fX0sdC5oaWdobGlnaHRJdGVtPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3R5cGU6XCJISUdITElHSFRfSVRFTVwiLGlkOmUsaGlnaGxpZ2h0ZWQ6dH19LHQuYWRkQ2hvaWNlPWZ1bmN0aW9uKGUsdCxpLG4scyxvLHIsYSxjKXtyZXR1cm57dHlwZTpcIkFERF9DSE9JQ0VcIix2YWx1ZTplLGxhYmVsOnQsaWQ6aSxncm91cElkOm4sZGlzYWJsZWQ6cyxlbGVtZW50SWQ6byxjdXN0b21Qcm9wZXJ0aWVzOnIscGxhY2Vob2xkZXI6YSxrZXlDb2RlOmN9fSx0LmZpbHRlckNob2ljZXM9ZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6XCJGSUxURVJfQ0hPSUNFU1wiLHJlc3VsdHM6ZX19LHQuYWN0aXZhdGVDaG9pY2VzPWZ1bmN0aW9uKCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtyZXR1cm57dHlwZTpcIkFDVElWQVRFX0NIT0lDRVNcIixhY3RpdmU6ZX19LHQuY2xlYXJDaG9pY2VzPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJDTEVBUl9DSE9JQ0VTXCJ9fSx0LmFkZEdyb3VwPWZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybnt0eXBlOlwiQUREX0dST1VQXCIsdmFsdWU6ZSxpZDp0LGFjdGl2ZTppLGRpc2FibGVkOm59fSx0LmNsZWFyQWxsPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJDTEVBUl9BTExcIn19LHQuc2V0SXNMb2FkaW5nPWZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOlwiTE9BRElOR1wiLGlzTG9hZGluZzplfX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sbj0odC5jYXBpdGFsaXNlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcd1xcUyovZyxmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpfSl9LHQuZ2VuZXJhdGVDaGFycz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixpPTA7aTxlO2krKyl7dmFyIG49YygwLDM2KTt0Kz1uLnRvU3RyaW5nKDM2KX1yZXR1cm4gdH0pLHM9KHQuZ2VuZXJhdGVJZD1mdW5jdGlvbihlLHQpe3ZhciBpPWUuaWR8fGUubmFtZSYmZS5uYW1lK1wiLVwiK24oMil8fG4oNCk7cmV0dXJuIGk9aS5yZXBsYWNlKC8oOnxcXC58XFxbfFxcXXwsKS9nLFwiXCIpLGk9dCtpfSx0LmdldFR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtcbn0pLG89dC5pc1R5cGU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1zKHQpO3JldHVybiB2b2lkIDAhPT10JiZudWxsIT09dCYmaT09PWV9LHI9KHQuaXNOb2RlPWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIE5vZGU/XCJ1bmRlZmluZWRcIjppKE5vZGUpKT9lIGluc3RhbmNlb2YgTm9kZTplJiZcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6aShlKSkmJlwibnVtYmVyXCI9PXR5cGVvZiBlLm5vZGVUeXBlJiZcInN0cmluZ1wiPT10eXBlb2YgZS5ub2RlTmFtZX0sdC5pc0VsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgSFRNTEVsZW1lbnQ/XCJ1bmRlZmluZWRcIjppKEhUTUxFbGVtZW50KSk/ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OmUmJlwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjppKGUpKSYmbnVsbCE9PWUmJjE9PT1lLm5vZGVUeXBlJiZcInN0cmluZ1wiPT10eXBlb2YgZS5ub2RlTmFtZX0sdC5leHRlbmQ9ZnVuY3Rpb24gZSgpe2Zvcih2YXIgdD17fSxpPWFyZ3VtZW50cy5sZW5ndGgsbj1mdW5jdGlvbihpKXtmb3IodmFyIG4gaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxuKSYmKG8oXCJPYmplY3RcIixpW25dKT90W25dPWUoITAsdFtuXSxpW25dKTp0W25dPWlbbl0pfSxzPTA7czxpO3MrKyl7dmFyIHI9YXJndW1lbnRzW3NdO28oXCJPYmplY3RcIixyKSYmbihyKX1yZXR1cm4gdH0sdC53aGljaFRyYW5zaXRpb25FdmVudD1mdW5jdGlvbigpe3ZhciBlLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZha2VlbGVtZW50XCIpLGk9e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKGUgaW4gaSlpZih2b2lkIDAhPT10LnN0eWxlW2VdKXJldHVybiBpW2VdfSx0LndoaWNoQW5pbWF0aW9uRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZSx0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmYWtlZWxlbWVudFwiKSxpPXthbmltYXRpb246XCJhbmltYXRpb25lbmRcIixPQW5pbWF0aW9uOlwib0FuaW1hdGlvbkVuZFwiLE1vekFuaW1hdGlvbjpcImFuaW1hdGlvbmVuZFwiLFdlYmtpdEFuaW1hdGlvbjpcIndlYmtpdEFuaW1hdGlvbkVuZFwifTtmb3IoZSBpbiBpKWlmKHZvaWQgMCE9PXQuc3R5bGVbZV0pcmV0dXJuIGlbZV19KSxhPSh0LmdldFBhcmVudHNVbnRpbD1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuPVtdO2UmJmUhPT1kb2N1bWVudDtlPWUucGFyZW50Tm9kZSl7aWYodCl7dmFyIHM9dC5jaGFyQXQoMCk7aWYoXCIuXCI9PT1zJiZlLmNsYXNzTGlzdC5jb250YWlucyh0LnN1YnN0cigxKSkpYnJlYWs7aWYoXCIjXCI9PT1zJiZlLmlkPT09dC5zdWJzdHIoMSkpYnJlYWs7aWYoXCJbXCI9PT1zJiZlLmhhc0F0dHJpYnV0ZSh0LnN1YnN0cigxLHQubGVuZ3RoLTEpKSlicmVhaztpZihlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PXQpYnJlYWt9aWYoaSl7dmFyIG89aS5jaGFyQXQoMCk7XCIuXCI9PT1vJiZlLmNsYXNzTGlzdC5jb250YWlucyhpLnN1YnN0cigxKSkmJm4ucHVzaChlKSxcIiNcIj09PW8mJmUuaWQ9PT1pLnN1YnN0cigxKSYmbi5wdXNoKGUpLFwiW1wiPT09byYmZS5oYXNBdHRyaWJ1dGUoaS5zdWJzdHIoMSxpLmxlbmd0aC0xKSkmJm4ucHVzaChlKSxlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PWkmJm4ucHVzaChlKX1lbHNlIG4ucHVzaChlKX1yZXR1cm4gMD09PW4ubGVuZ3RoP251bGw6bn0sdC53cmFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlLm5leHRTaWJsaW5nP2UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxlLm5leHRTaWJsaW5nKTplLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCksdC5hcHBlbmRDaGlsZChlKX0sdC5nZXRTaWJsaW5ncz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10saT1lLnBhcmVudE5vZGUuZmlyc3RDaGlsZDtpO2k9aS5uZXh0U2libGluZykxPT09aS5ub2RlVHlwZSYmaSE9PWUmJnQucHVzaChpKTtyZXR1cm4gdH0sdC5maW5kQW5jZXN0b3I9ZnVuY3Rpb24oZSx0KXtmb3IoOyhlPWUucGFyZW50RWxlbWVudCkmJiFlLmNsYXNzTGlzdC5jb250YWlucyh0KTspO3JldHVybiBlfSx0LmZpbmRBbmNlc3RvckJ5QXR0ck5hbWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9ZTtpOyl7aWYoaS5oYXNBdHRyaWJ1dGUodCkpcmV0dXJuIGk7aT1pLnBhcmVudEVsZW1lbnR9cmV0dXJuIG51bGx9LHQuZGVib3VuY2U9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuO3JldHVybiBmdW5jdGlvbigpe3ZhciBzPXRoaXMsbz1hcmd1bWVudHMscj1mdW5jdGlvbigpe249bnVsbCxpfHxlLmFwcGx5KHMsbyl9LGE9aSYmIW47Y2xlYXJUaW1lb3V0KG4pLG49c2V0VGltZW91dChyLHQpLGEmJmUuYXBwbHkocyxvKX19LHQuZ2V0RWxlbURpc3RhbmNlPWZ1bmN0aW9uKGUpe3ZhciB0PTA7aWYoZS5vZmZzZXRQYXJlbnQpZG8gdCs9ZS5vZmZzZXRUb3AsZT1lLm9mZnNldFBhcmVudDt3aGlsZShlKTtyZXR1cm4gdD49MD90OjB9LHQuZ2V0RWxlbWVudE9mZnNldD1mdW5jdGlvbihlLHQpe3ZhciBpPXQ7cmV0dXJuIGk+MSYmKGk9MSksaT4wJiYoaT0wKSxNYXRoLm1heChlLm9mZnNldEhlaWdodCppKX0sdC5nZXRBZGphY2VudEVsPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE7aWYoZSYmdCl7dmFyIG49ZS5wYXJlbnROb2RlLnBhcmVudE5vZGUscz1BcnJheS5mcm9tKG4ucXVlcnlTZWxlY3RvckFsbCh0KSksbz1zLmluZGV4T2YoZSkscj1pPjA/MTotMTtyZXR1cm4gc1tvK3JdfX0sdC5nZXRTY3JvbGxQb3NpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm5cImJvdHRvbVwiPT09ZT9NYXRoLm1heCgod2luZG93LnNjcm9sbFl8fHdpbmRvdy5wYWdlWU9mZnNldCkrKHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkpOndpbmRvdy5zY3JvbGxZfHx3aW5kb3cucGFnZVlPZmZzZXR9LHQuaXNJblZpZXc9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0aGlzLmdldFNjcm9sbFBvc2l0aW9uKHQpPnRoaXMuZ2V0RWxlbURpc3RhbmNlKGUpK3RoaXMuZ2V0RWxlbWVudE9mZnNldChlLGkpfSx0LmlzU2Nyb2xsZWRJbnRvVmlldz1mdW5jdGlvbihlLHQpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxO2lmKGUpe3ZhciBuPXZvaWQgMDtyZXR1cm4gbj1pPjA/dC5zY3JvbGxUb3ArdC5vZmZzZXRIZWlnaHQ+PWUub2Zmc2V0VG9wK2Uub2Zmc2V0SGVpZ2h0OmUub2Zmc2V0VG9wPj10LnNjcm9sbFRvcH19LHQuc3RyaXBIVE1MPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLz4vZyxcIiZydDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpfSksYz0odC5hZGRBbmltYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgaT1yKCksbj1mdW5jdGlvbiBuKCl7ZS5jbGFzc0xpc3QucmVtb3ZlKHQpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLG4sITEpfTtlLmNsYXNzTGlzdC5hZGQodCksZS5hZGRFdmVudExpc3RlbmVyKGksbiwhMSl9LHQuZ2V0UmFuZG9tTnVtYmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoodC1lKStlKX0pLGw9dC5zdHJUb0VsPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC50cmltKCksbj12b2lkIDA7Zm9yKGUuaW5uZXJIVE1MPWksbj1lLmNoaWxkcmVuWzBdO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO3JldHVybiBufX0oKTt0LmdldFdpZHRoT2ZJbnB1dD1mdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlfHxlLnBsYWNlaG9sZGVyLGk9ZS5vZmZzZXRXaWR0aDtpZih0KXt2YXIgbj1sKFwiPHNwYW4+XCIrYSh0KStcIjwvc3Bhbj5cIik7aWYobi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi5zdHlsZS5wYWRkaW5nPVwiMFwiLG4uc3R5bGUudG9wPVwiLTk5OTlweFwiLG4uc3R5bGUubGVmdD1cIi05OTk5cHhcIixuLnN0eWxlLndpZHRoPVwiYXV0b1wiLG4uc3R5bGUud2hpdGVTcGFjZT1cInByZVwiLGRvY3VtZW50LmJvZHkuY29udGFpbnMoZSkmJndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXt2YXIgcz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKTtzJiYobi5zdHlsZS5mb250U2l6ZT1zLmZvbnRTaXplLG4uc3R5bGUuZm9udEZhbWlseT1zLmZvbnRGYW1pbHksbi5zdHlsZS5mb250V2VpZ2h0PXMuZm9udFdlaWdodCxuLnN0eWxlLmZvbnRTdHlsZT1zLmZvbnRTdHlsZSxuLnN0eWxlLmxldHRlclNwYWNpbmc9cy5sZXR0ZXJTcGFjaW5nLG4uc3R5bGUudGV4dFRyYW5zZm9ybT1zLnRleHRUcmFuc2Zvcm0sbi5zdHlsZS5wYWRkaW5nPXMucGFkZGluZyl9ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSx0JiZuLm9mZnNldFdpZHRoIT09ZS5vZmZzZXRXaWR0aCYmKGk9bi5vZmZzZXRXaWR0aCs0KSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4pfXJldHVybiBpK1wicHhcIn0sdC5zb3J0QnlBbHBoYT1mdW5jdGlvbihlLHQpe3ZhciBpPShlLmxhYmVsfHxlLnZhbHVlKS50b0xvd2VyQ2FzZSgpLG49KHQubGFiZWx8fHQudmFsdWUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGk8bj8tMTppPm4/MTowfSx0LnNvcnRCeVNjb3JlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2NvcmUtdC5zY29yZX0sdC50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxuPW5ldyBDdXN0b21FdmVudCh0LHtkZXRhaWw6aSxidWJibGVzOiEwLGNhbmNlbGFibGU6ITB9KTtyZXR1cm4gZS5kaXNwYXRjaEV2ZW50KG4pfX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dD10fHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBpPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIGkuaW5pdEN1c3RvbUV2ZW50KGUsdC5idWJibGVzLHQuY2FuY2VsYWJsZSx0LmRldGFpbCksaX1BcnJheS5mcm9tfHwoQXJyYXkuZnJvbT1mdW5jdGlvbigpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsdD1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHxcIltvYmplY3QgRnVuY3Rpb25dXCI9PT1lLmNhbGwodCl9LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9TnVtYmVyKGUpO3JldHVybiBpc05hTih0KT8wOjAhPT10JiZpc0Zpbml0ZSh0KT8odD4wPzE6LTEpKk1hdGguZmxvb3IoTWF0aC5hYnModCkpOnR9LG49TWF0aC5wb3coMiw1MyktMSxzPWZ1bmN0aW9uKGUpe3ZhciB0PWkoZSk7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHQsMCksbil9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgaT10aGlzLG49T2JqZWN0KGUpO2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5LmZyb20gcmVxdWlyZXMgYW4gYXJyYXktbGlrZSBvYmplY3QgLSBub3QgbnVsbCBvciB1bmRlZmluZWRcIik7dmFyIG8scj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygcil7aWYoIXQocikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5LmZyb206IHdoZW4gcHJvdmlkZWQsIHRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2FyZ3VtZW50cy5sZW5ndGg+MiYmKG89YXJndW1lbnRzWzJdKX1mb3IodmFyIGEsYz1zKG4ubGVuZ3RoKSxsPXQoaSk/T2JqZWN0KG5ldyBpKGMpKTpuZXcgQXJyYXkoYyksaD0wO2g8YzspYT1uW2hdLHI/bFtoXT1cInVuZGVmaW5lZFwiPT10eXBlb2Ygbz9yKGEsaCk6ci5jYWxsKG8sYSxoKTpsW2hdPWEsaCs9MTtyZXR1cm4gbC5sZW5ndGg9YyxsfX0oKSksQXJyYXkucHJvdG90eXBlLmZpbmR8fChBcnJheS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihlKXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheS5wcm90b3R5cGUuZmluZCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvblwiKTtmb3IodmFyIHQsaT1PYmplY3QodGhpcyksbj1pLmxlbmd0aD4+PjAscz1hcmd1bWVudHNbMV0sbz0wO288bjtvKyspaWYodD1pW29dLGUuY2FsbChzLHQsbyxpKSlyZXR1cm4gdH0pLGUucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUsd2luZG93LkN1c3RvbUV2ZW50PWV9KCl9XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNob2ljZXMubWluLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jaG9pY2VzLmpzL2Fzc2V0cy9zY3JpcHRzL2Rpc3QvY2hvaWNlcy5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _utils = __webpack_require__(17);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IS_EDGE = window.navigator.userAgent.indexOf('Edge') > -1,\n    IS_IE11 = window.navigator.userAgent.indexOf('rv:') > -1;\n\nvar DEFAULT = {\n    attachTo: 'body',\n    showHSL: true,\n    showRGB: true,\n    showHEX: true,\n    showAlpha: false,\n    color: '#ff0000',\n    palette: null,\n    paletteEditable: false\n};\n\nvar SL_BAR_SIZE = [200, 150],\n    HUE_BAR_SIZE = [150, 16],\n    ALPHA_BAR_SIZE = HUE_BAR_SIZE,\n    HUE = 'H',\n    SATURATION = 'S',\n    LUMINANCE = 'L',\n    RGB = 'RGB',\n    RED = 'R',\n    GREEN = 'G',\n    BLUE = 'B',\n    RGBHEX = 'RGBHEX',\n    COLOR = 'COLOR',\n    RGBA_USER = 'RGBA_USER',\n    HSLA_USER = 'HSLA_USER',\n    ALPHA = 'ALPHA';\n\nvar HTML_BOX = '<div class=\"a-color-picker-row a-color-picker-stack\">\\n                            <canvas class=\"a-color-picker-sl a-color-picker-transparent\"></canvas>\\n                            <div class=\"a-color-picker-dot\"></div>\\n                        </div>\\n                        <div class=\"a-color-picker-row\">\\n                            <div class=\"a-color-picker-stack a-color-picker-transparent a-color-picker-circle\">\\n                                <div class=\"a-color-picker-preview\">\\n                                    <input class=\"a-color-picker-clipbaord\" type=\"text\">\\n                                </div>\\n                            </div>\\n                            <div class=\"a-color-picker-column\">\\n                                <div class=\"a-color-picker-cell a-color-picker-stack\">\\n                                    <canvas class=\"a-color-picker-h\"></canvas>\\n                                    <div class=\"a-color-picker-dot\"></div>\\n                                </div>\\n                                <div class=\"a-color-picker-cell a-color-picker-stack\" show-on-alpha>\\n                                    <canvas class=\"a-color-picker-a a-color-picker-transparent\"></canvas>\\n                                    <div class=\"a-color-picker-dot\"></div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\"a-color-picker-row a-color-picker-hsl\" show-on-hsl>\\n                            <label>H</label>\\n                            <input name=\"H\" type=\"number\" maxlength=\"3\" min=\"0\" max=\"360\" value=\"0\">\\n                            <label>S</label>\\n                            <input name=\"S\" type=\"number\" maxlength=\"3\" min=\"0\" max=\"100\" value=\"0\">\\n                            <label>L</label>\\n                            <input name=\"L\" type=\"number\" maxlength=\"3\" min=\"0\" max=\"100\" value=\"0\">\\n                        </div>\\n                        <div class=\"a-color-picker-row a-color-picker-rgb\" show-on-rgb>\\n                            <label>R</label>\\n                            <input name=\"R\" type=\"number\" maxlength=\"3\" min=\"0\" max=\"255\" value=\"0\">\\n                            <label>G</label>\\n                            <input name=\"G\" type=\"number\" maxlength=\"3\" min=\"0\" max=\"255\" value=\"0\">\\n                            <label>B</label>\\n                            <input name=\"B\" type=\"number\" maxlength=\"3\" min=\"0\" max=\"255\" value=\"0\">\\n                        </div>\\n                        <div class=\"a-color-picker-row a-color-picker-single-input\" show-on-single-input>\\n                            <label>HEX</label>\\n                            <input name=\"RGBHEX\" type=\"text\" select-on-focus>\\n                        </div>\\n                        <div class=\"a-color-picker-row a-color-picker-palette\"></div>';\n\nfunction parseElemnt(element, defaultElement, fallToDefault) {\n    if (!element) {\n        return defaultElement;\n    } else if (element instanceof HTMLElement) {\n        return element;\n    } else if (element instanceof NodeList) {\n        return element[0];\n    } else if (typeof element == 'string') {\n        return document.querySelector(element);\n    } else if (element.jquery) {\n        return element.get(0); //TODO: da testare\n    } else if (fallToDefault) {\n        return defaultElement;\n    } else {\n        return null;\n    }\n}\n\nfunction canvasHelper(canvas) {\n    var ctx = canvas.getContext('2d'),\n        width = +canvas.width,\n        height = +canvas.height;\n    // questo gradiente da bianco (alto) a nero (basso) viene applicato come sfondo al canvas\n    var whiteBlackGradient = ctx.createLinearGradient(1, 1, 1, height - 1);\n    whiteBlackGradient.addColorStop(0, 'white');\n    whiteBlackGradient.addColorStop(1, 'black');\n    return {\n        setHue: function setHue(hue) {\n            // gradiente con il colore relavito a lo HUE da sinistra a destra partendo da trasparente a opaco\n            // la combinazione del gradiente bianco/nero e questo permette di avere un canvas dove \n            // sull'asse delle ordinate  espressa la saturazione, e sull'asse delle ascisse c' la luminosit\n            var colorGradient = ctx.createLinearGradient(0, 0, width - 1, 0);\n            colorGradient.addColorStop(0, 'hsla(' + hue + ', 100%, 50%, 0)');\n            colorGradient.addColorStop(1, 'hsla(' + hue + ', 100%, 50%, 1)');\n            // applico i gradienti\n            ctx.fillStyle = whiteBlackGradient;\n            ctx.fillRect(0, 0, width, height);\n            ctx.fillStyle = colorGradient;\n            ctx.globalCompositeOperation = 'multiply';\n            ctx.fillRect(0, 0, width, height);\n            ctx.globalCompositeOperation = 'source-over';\n        },\n        grabColor: function grabColor(x, y) {\n            // recupera il colore del pixel in formato RGBA\n            return ctx.getImageData(x, y, 1, 1).data;\n        },\n        findColor: function findColor(r, g, b) {\n            // TODO: se la luminosit  bassa posso controllare prima la parte inferiore\n            var rowLen = width * 4,\n\n            // visto che non sono sicuro di trovare il colore esatto considero un gap in + e - su tutti i 3 valori\n            gap = 5,\n\n            // array contenente tutti i pixel, ogni pixel sono 4 byte RGBA (quindi  grande w*h*4)\n            data = ctx.getImageData(0, 0, width, height).data;\n            var coord = [-1, -1];\n            // console.log(data.length, r, g, b)\n            // console.log(data)\n            // console.time('findColor');\n            // scorro l'array di pixel, ogni 4 byte c' un pixel nuovo\n            for (var ii = 0; ii < data.length; ii += 4) {\n                if (Math.abs(data[ii] - r) <= gap && Math.abs(data[ii + 1] - g) <= gap && Math.abs(data[ii + 2] - b) <= gap) {\n                    // console.log('found', ii, Math.floor(ii/rowLen), (ii%rowLen)/4);\n                    coord = [ii % rowLen / 4, Math.floor(ii / rowLen)];\n                    break;\n                }\n            }\n            // console.timeEnd('findColor');\n            return coord;\n        }\n    };\n}\n\nfunction cssColorToRgb(color) {\n    if (color) {\n        var colorByName = _utils.COLOR_NAMES[color.toString().toLowerCase()];\n        // considero sia il formato esteso #RRGGGBB che quello corto #RGB\n        // provo a estrarre i valori da colorByName solo se questo  valorizzato, altrimenti uso direttamente color\n\n        var _ref = /^\\s*#?((([0-9A-F])([0-9A-F])([0-9A-F]))|(([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})))\\s*$/i.exec(colorByName || color) || [],\n            _ref2 = _slicedToArray(_ref, 10),\n            r = _ref2[3],\n            g = _ref2[4],\n            b = _ref2[5],\n            rr = _ref2[7],\n            gg = _ref2[8],\n            bb = _ref2[9];\n\n        if (r !== undefined) return [parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16)];else if (rr !== undefined) return [parseInt(rr, 16), parseInt(gg, 16), parseInt(bb, 16)];\n    }\n    return undefined;\n}\n\nfunction cssRgbToRgb(rgb) {\n    if (rgb) {\n        var _ref3 = /^rgb\\((\\d+),(\\d+),(\\d+)\\)/i.exec(rgb) || [],\n            _ref4 = _slicedToArray(_ref3, 4),\n            m = _ref4[0],\n            r = _ref4[1],\n            g = _ref4[2],\n            b = _ref4[3];\n\n        return m ? [(0, _utils.limit)(r, 0, 255), (0, _utils.limit)(g, 0, 255), (0, _utils.limit)(b, 0, 255)] : undefined;\n    }\n    return undefined;\n}\n\nfunction cssRgbaToRgba(rgba) {\n    if (rgba) {\n        var _ref5 = /^rgba\\((\\d+),(\\d+),(\\d+),(\\d*(.\\d+)?)\\)/i.exec(rgba) || [],\n            _ref6 = _slicedToArray(_ref5, 5),\n            m = _ref6[0],\n            r = _ref6[1],\n            g = _ref6[2],\n            b = _ref6[3],\n            a = _ref6[4];\n\n        return m ? [(0, _utils.limit)(r, 0, 255), (0, _utils.limit)(g, 0, 255), (0, _utils.limit)(b, 0, 255), (0, _utils.limit)(a, 0, 1)] : undefined;\n    }\n    return undefined;\n}\n\n/**\n * Converte il colore in ingresso nel formato [r,g,b].\n * Color pu assumere questi valori:\n * - array con [r,g,b] (viene ritornato cos come )\n * - nome del colore\n * - colore nel formato RGB HEX sia compatto che esteso\n *\n * @param      {string|array}    color   Il colore da convertire\n * @return     {array}  colore nel formato [r,g,b] o undefined se non valido\n */\nfunction parseColorToRgb(color) {\n    if (Array.isArray(color)) {\n        color = [(0, _utils.limit)(color[0], 0, 255), (0, _utils.limit)(color[1], 0, 255), (0, _utils.limit)(color[2], 0, 255)];\n        return color;\n    } else {\n        return cssColorToRgb(color) || cssRgbToRgb(color);\n    }\n}\n\nfunction parseColorToRgba(color) {\n    if (Array.isArray(color)) {\n        color = [(0, _utils.limit)(color[0], 0, 255), (0, _utils.limit)(color[1], 0, 255), (0, _utils.limit)(color[2], 0, 255), (0, _utils.limit)((0, _utils.nvl)(color[3], 1), 0, 1)];\n        return color;\n    } else {\n        var parsed = cssColorToRgb(color) || cssRgbToRgb(color) || cssRgbaToRgba(color);\n        if (parsed && parsed.length === 3) {\n            parsed.push(1);\n        }\n        return parsed;\n    }\n}\n\nvar ColorPicker = function () {\n    function ColorPicker(options) {\n        _classCallCheck(this, ColorPicker);\n\n        var container = parseElemnt(options);\n        if (container) {\n            // se viene passato al costrutto un elemento HTML uso le opzioni di default\n            this.options = Object.assign({}, DEFAULT, { attachTo: options });\n        } else {\n            // altrimenti presumo che sia indicato nelle opzioni qual' il contenitore\n            this.options = Object.assign({}, DEFAULT, options);\n            container = parseElemnt(this.options.attachTo);\n        }\n\n        if (container) {\n            this.H = 0;\n            this.S = 0;\n            this.L = 0;\n            this.R = 0;\n            this.G = 0;\n            this.B = 0;\n            this.A = 1;\n\n            // creo gli elementi HTML e li aggiungo al container\n            this.element = document.createElement('div');\n            this.element.className = 'a-color-picker';\n            // se falsy viene nascosto .a-color-picker-rgb\n            if (!this.options.showRGB) this.element.className += ' hide-rgb';\n            // se falsy viene nascosto .a-color-picker-hsl\n            if (!this.options.showHSL) this.element.className += ' hide-hsl';\n            // se falsy viene nascosto .a-color-picker-single-input (css hex)\n            if (!this.options.showHEX) this.element.className += ' hide-single-input';\n            // se falsy viene nascosto .a-color-picker-a\n            if (!this.options.showAlpha) this.element.className += ' hide-alpha';\n            this.element.innerHTML = HTML_BOX;\n            container.appendChild(this.element);\n            // preparo il canvas con tutto lo spettro del HUE (da 0 a 360)\n            // in base al valore selezionato su questo canvas verr disegnato il canvas per SL\n            var hueBar = this.element.querySelector('.a-color-picker-h');\n            this.setupHueCanvas(hueBar);\n            this.hueBarHelper = canvasHelper(hueBar);\n            this.huePointer = this.element.querySelector('.a-color-picker-h+.a-color-picker-dot');\n            // preparo il canvas per SL (saturation e luminance)\n            var slBar = this.element.querySelector('.a-color-picker-sl');\n            this.setupSlCanvas(slBar);\n            this.slBarHelper = canvasHelper(slBar);\n            this.slPointer = this.element.querySelector('.a-color-picker-sl+.a-color-picker-dot');\n            // preparo il box della preview\n            this.preview = this.element.querySelector('.a-color-picker-preview');\n            this.setupClipboard(this.preview.querySelector('.a-color-picker-clipbaord'));\n            // prearo gli input box\n            this.setupInput(this.inputH = this.element.querySelector('.a-color-picker-hsl>input[name=H]'));\n            this.setupInput(this.inputS = this.element.querySelector('.a-color-picker-hsl>input[name=S]'));\n            this.setupInput(this.inputL = this.element.querySelector('.a-color-picker-hsl>input[name=L]'));\n            this.setupInput(this.inputR = this.element.querySelector('.a-color-picker-rgb>input[name=R]'));\n            this.setupInput(this.inputG = this.element.querySelector('.a-color-picker-rgb>input[name=G]'));\n            this.setupInput(this.inputB = this.element.querySelector('.a-color-picker-rgb>input[name=B]'));\n            // preparo l'input per il formato hex css\n            this.setupInput(this.inputRGBHEX = this.element.querySelector('input[name=RGBHEX]'));\n            // preparo la palette con i colori predefiniti\n            this.setPalette(this.element.querySelector('.a-color-picker-palette'));\n            // preparo in canvas per l'opacit\n            this.setupAlphaCanvas(this.element.querySelector('.a-color-picker-a'));\n            this.alphaPointer = this.element.querySelector('.a-color-picker-a+.a-color-picker-dot');\n            // imposto il colore iniziale\n            this.onValueChanged(COLOR, this.options.color);\n        } else {\n            throw 'Container not found: ' + this.options.attachTo;\n        }\n    }\n\n    _createClass(ColorPicker, [{\n        key: 'setupHueCanvas',\n        value: function setupHueCanvas(canvas) {\n            var _this = this;\n\n            canvas.width = HUE_BAR_SIZE[0];\n            canvas.height = HUE_BAR_SIZE[1];\n            // disegno sul canvas applicando un gradiente lineare che copra tutti i possibili valori di HUE\n            //  quindi ci vogliono 361 stop (da 0 a 360), mantendo fisse S e L\n            var ctx = canvas.getContext('2d'),\n                gradient = ctx.createLinearGradient(0, 0, HUE_BAR_SIZE[0], 0),\n                step = 1 / 360;\n            // aggiungo tutti i 361 step al gradiente\n            for (var ii = 0; ii <= 1; ii += step) {\n                gradient.addColorStop(ii, 'hsl(' + 360 * ii + ', 100%, 50%)');\n            }\n            ctx.fillStyle = gradient;\n            ctx.fillRect(0, 0, HUE_BAR_SIZE[0], HUE_BAR_SIZE[1]);\n            // gestisco gli eventi per la selezione del valore e segnalo il cambiamento tramite callbak\n            // una volta che il puntatore  premuto sul canvas (mousedown) \n            // intercetto le variazioni nella posizione del puntatore (mousemove)\n            // relativamente al document, in modo che il puntatore in movimento possa uscire dal canvas\n            // una volta sollevato (mouseup) elimino i listener\n            var onMouseMove = function onMouseMove(e) {\n                var x = (0, _utils.limit)(e.clientX - canvas.getBoundingClientRect().left, 0, HUE_BAR_SIZE[0]),\n                    hue = Math.round(x * 360 / HUE_BAR_SIZE[0]);\n                _this.huePointer.style.left = x - 7 + 'px';\n                _this.onValueChanged(HUE, hue);\n            };\n            var onMouseUp = function onMouseUp() {\n                // rimuovo i listener, verranno riattivati al prossimo mousedown\n                document.removeEventListener('mousemove', onMouseMove);\n                document.removeEventListener('mouseup', onMouseUp);\n            };\n            // mouse down sul canvas: intercetto il movimento, smetto appena il mouse viene sollevato\n            canvas.addEventListener('mousedown', function (e) {\n                onMouseMove(e);\n                document.addEventListener('mousemove', onMouseMove);\n                document.addEventListener('mouseup', onMouseUp);\n            });\n        }\n    }, {\n        key: 'setupSlCanvas',\n        value: function setupSlCanvas(canvas) {\n            var _this2 = this;\n\n            canvas.width = SL_BAR_SIZE[0];\n            canvas.height = SL_BAR_SIZE[1];\n            // gestisco gli eventi per la selezione del valore e segnalo il cambiamento tramite callbak\n            // una volta che il puntatore  premuto sul canvas (mousedown) \n            // intercetto le variazioni nella posizione del puntatore (mousemove)\n            // relativamente al document, in modo che il puntatore in movimento possa uscire dal canvas\n            // una volta sollevato (mouseup) elimino i listener\n            var onMouseMove = function onMouseMove(e) {\n                var x = (0, _utils.limit)(e.clientX - canvas.getBoundingClientRect().left, 0, SL_BAR_SIZE[0] - 1),\n                    y = (0, _utils.limit)(e.clientY - canvas.getBoundingClientRect().top, 0, SL_BAR_SIZE[1] - 1),\n                    c = _this2.slBarHelper.grabColor(x, y);\n                // console.log('grab', x, y, c)\n                _this2.slPointer.style.left = x - 7 + 'px';\n                _this2.slPointer.style.top = y - 7 + 'px';\n                _this2.onValueChanged(RGB, c);\n            };\n            var onMouseUp = function onMouseUp() {\n                // rimuovo i listener, verranno riattivati al prossimo mousedown\n                document.removeEventListener('mousemove', onMouseMove);\n                document.removeEventListener('mouseup', onMouseUp);\n            };\n            // mouse down sul canvas: intercetto il movimento, smetto appena il mouse viene sollevato\n            canvas.addEventListener('mousedown', function (e) {\n                onMouseMove(e);\n                document.addEventListener('mousemove', onMouseMove);\n                document.addEventListener('mouseup', onMouseUp);\n            });\n        }\n    }, {\n        key: 'setupAlphaCanvas',\n        value: function setupAlphaCanvas(canvas) {\n            var _this3 = this;\n\n            canvas.width = ALPHA_BAR_SIZE[0];\n            canvas.height = ALPHA_BAR_SIZE[1];\n            // disegno sul canvas con un gradiente che va dalla piena trasparenza al pieno opaco\n            var ctx = canvas.getContext('2d'),\n                gradient = ctx.createLinearGradient(0, 0, canvas.width - 1, 0);\n            gradient.addColorStop(0, 'hsla(0, 0%, 50%, 0)');\n            gradient.addColorStop(1, 'hsla(0, 0%, 50%, 1)');\n            ctx.fillStyle = gradient;\n            ctx.fillRect(0, 0, ALPHA_BAR_SIZE[0], ALPHA_BAR_SIZE[1]);\n            // gestisco gli eventi per la selezione del valore e segnalo il cambiamento tramite callbak\n            // una volta che il puntatore  premuto sul canvas (mousedown) \n            // intercetto le variazioni nella posizione del puntatore (mousemove)\n            // relativamente al document, in modo che il puntatore in movimento possa uscire dal canvas\n            // una volta sollevato (mouseup) elimino i listener\n            var onMouseMove = function onMouseMove(e) {\n                var x = (0, _utils.limit)(e.clientX - canvas.getBoundingClientRect().left, 0, ALPHA_BAR_SIZE[0]),\n                    alpha = +(x / ALPHA_BAR_SIZE[0]).toFixed(2);\n                _this3.alphaPointer.style.left = x - 7 + 'px';\n                _this3.onValueChanged(ALPHA, alpha);\n            };\n            var onMouseUp = function onMouseUp() {\n                // rimuovo i listener, verranno riattivati al prossimo mousedown\n                document.removeEventListener('mousemove', onMouseMove);\n                document.removeEventListener('mouseup', onMouseUp);\n            };\n            // mouse down sul canvas: intercetto il movimento, smetto appena il mouse viene sollevato\n            canvas.addEventListener('mousedown', function (e) {\n                onMouseMove(e);\n                document.addEventListener('mousemove', onMouseMove);\n                document.addEventListener('mouseup', onMouseUp);\n            });\n        }\n    }, {\n        key: 'setupInput',\n        value: function setupInput(input) {\n            var _this4 = this;\n\n            var min = +input.min,\n                max = +input.max,\n                prop = input.name;\n            if (input.hasAttribute('select-on-focus')) {\n                input.addEventListener('focus', function () {\n                    //non funziona in IE/Edge\n                    input.select();\n                });\n            }\n            if (input.type === 'text') {\n                input.addEventListener('change', function () {\n                    _this4.onValueChanged(prop, input.value);\n                });\n            } else {\n                if (IS_EDGE || IS_IE11) {\n                    // edge modifica il valore con le frecce MA non scatena l'evento change\n                    // quindi le intercetto impostando e.returnValue a false in modo\n                    // che non il valore non venga modificato anche da edge subito dopo il keydown\n                    input.addEventListener('keydown', function (e) {\n                        if (e.key === 'Up') {\n                            input.value = (0, _utils.limit)(+input.value + 1, min, max);\n                            _this4.onValueChanged(prop, input.value);\n                            e.returnValue = false;\n                        } else if (e.key === 'Down') {\n                            input.value = (0, _utils.limit)(+input.value - 1, min, max);\n                            _this4.onValueChanged(prop, input.value);\n                            e.returnValue = false;\n                        }\n                    });\n                }\n                input.addEventListener('change', function () {\n                    var value = +input.value;\n                    _this4.onValueChanged(prop, (0, _utils.limit)(value, min, max));\n                });\n            }\n        }\n    }, {\n        key: 'setupClipboard',\n        value: function setupClipboard(input) {\n            var _this5 = this;\n\n            // l'input ricopre completamente la preview ma  totalmente trasparente\n            input.title = 'click to copy';\n            input.addEventListener('click', function (e) {\n                // non uso direttamente inputRGBHEX perch potrebbe contenere un colore non valido\n                input.value = (0, _utils.rgbToHex)(_this5.R, _this5.G, _this5.B);\n                input.select();\n                document.execCommand('copy');\n            });\n        }\n    }, {\n        key: 'setPalette',\n        value: function setPalette(row) {\n            var _this6 = this;\n\n            // palette  una copia di this.options.palette\n            var palette = (0, _utils.ensureArray)(this.options.palette);\n            if (this.options.paletteEditable || palette.length > 0) {\n                var addColorToPalette = function addColorToPalette(hex, refElement, fire) {\n                    // se il colore  gi presente, non creo un nuovo <div> ma sposto quello esistente in coda\n                    var el = row.querySelector('.a-color-picker-palette-color[data-color=\"' + hex + '\"]') || document.createElement('div');\n                    el.className = 'a-color-picker-palette-color';\n                    el.style.backgroundColor = hex;\n                    el.setAttribute('data-color', hex);\n                    el.title = hex;\n                    row.insertBefore(el, refElement);\n                    if (fire) {\n                        _this6.onPaletteColorAdd(hex);\n                    }\n                };\n                var removeColorToPalette = function removeColorToPalette(element, fire) {\n                    // se element  nullo elimino tutti i colori\n                    if (element) {\n                        row.removeChild(element);\n                        if (fire) {\n                            _this6.onPaletteColorRemove(element.getAttribute('data-color'));\n                        }\n                    } else {\n                        row.querySelectorAll('.a-color-picker-palette-color[data-color]').forEach(function (el) {\n                            row.removeChild(el);\n                        });\n                        if (fire) {\n                            _this6.onPaletteColorRemove();\n                        }\n                    }\n                };\n                // solo i colori validi vengono aggiunti alla palette\n                palette.map(function (p) {\n                    return p && parseColorToRgb(p);\n                }).filter(function (c) {\n                    return !!c;\n                }).forEach(function (c) {\n                    return addColorToPalette(_utils.rgbToHex.apply(undefined, _toConsumableArray(c)));\n                });\n                // in caso di palette editabile viene aggiunto un pulsante + che serve ad aggiungere il colore corrente\n                if (this.options.paletteEditable) {\n                    var el = document.createElement('div');\n                    el.className = 'a-color-picker-palette-color a-color-picker-palette-add';\n                    el.innerHTML = '+';\n                    row.appendChild(el);\n                }\n                row.addEventListener('click', function (e) {\n                    if (/a-color-picker-palette-add/.test(e.target.className)) {\n                        if (e.shiftKey) {\n                            // TODO: rimuovere tutti i colori (?)\n                            removeColorToPalette(null, true);\n                        } else {\n                            // aggiungo il colore e triggero l'evento 'oncoloradd'\n                            addColorToPalette((0, _utils.rgbToHex)(_this6.R, _this6.G, _this6.B), e.target, true);\n                        }\n                    } else if (/a-color-picker-palette-color/.test(e.target.className)) {\n                        if (e.shiftKey) {\n                            // rimuovo il colore e triggero l'evento 'oncolorremove'\n                            removeColorToPalette(e.target, true);\n                        } else {\n                            // visto che il colore letto da backgroundColor risulta nel formato rgb()\n                            // devo usare il valore hex originale\n                            _this6.onValueChanged(COLOR, e.target.getAttribute('data-color'));\n                        }\n                    }\n                });\n            } else {\n                // la palette con i colori predefiniti viene nasconsta se non ci sono colori\n                row.style.display = 'none';\n            }\n        }\n    }, {\n        key: 'onValueChanged',\n        value: function onValueChanged(prop, value) {\n            // console.log(prop, value);\n            switch (prop) {\n                case HUE:\n                    this.H = value;\n\n                    var _hslToRgb = (0, _utils.hslToRgb)(this.H, this.S, this.L);\n\n                    var _hslToRgb2 = _slicedToArray(_hslToRgb, 3);\n\n                    this.R = _hslToRgb2[0];\n                    this.G = _hslToRgb2[1];\n                    this.B = _hslToRgb2[2];\n\n                    this.slBarHelper.setHue(value);\n                    this.updatePointerH(this.H);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    break;\n                case SATURATION:\n                    this.S = value;\n\n                    var _hslToRgb3 = (0, _utils.hslToRgb)(this.H, this.S, this.L);\n\n                    var _hslToRgb4 = _slicedToArray(_hslToRgb3, 3);\n\n                    this.R = _hslToRgb4[0];\n                    this.G = _hslToRgb4[1];\n                    this.B = _hslToRgb4[2];\n\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    break;\n                case LUMINANCE:\n                    this.L = value;\n\n                    var _hslToRgb5 = (0, _utils.hslToRgb)(this.H, this.S, this.L);\n\n                    var _hslToRgb6 = _slicedToArray(_hslToRgb5, 3);\n\n                    this.R = _hslToRgb6[0];\n                    this.G = _hslToRgb6[1];\n                    this.B = _hslToRgb6[2];\n\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    break;\n                case RED:\n                    this.R = value;\n\n                    var _rgbToHsl = (0, _utils.rgbToHsl)(this.R, this.G, this.B);\n\n                    var _rgbToHsl2 = _slicedToArray(_rgbToHsl, 3);\n\n                    this.H = _rgbToHsl2[0];\n                    this.S = _rgbToHsl2[1];\n                    this.L = _rgbToHsl2[2];\n\n                    this.slBarHelper.setHue(this.H);\n                    this.updatePointerH(this.H);\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    break;\n                case GREEN:\n                    this.G = value;\n\n                    var _rgbToHsl3 = (0, _utils.rgbToHsl)(this.R, this.G, this.B);\n\n                    var _rgbToHsl4 = _slicedToArray(_rgbToHsl3, 3);\n\n                    this.H = _rgbToHsl4[0];\n                    this.S = _rgbToHsl4[1];\n                    this.L = _rgbToHsl4[2];\n\n                    this.slBarHelper.setHue(this.H);\n                    this.updatePointerH(this.H);\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    break;\n                case BLUE:\n                    this.B = value;\n\n                    var _rgbToHsl5 = (0, _utils.rgbToHsl)(this.R, this.G, this.B);\n\n                    var _rgbToHsl6 = _slicedToArray(_rgbToHsl5, 3);\n\n                    this.H = _rgbToHsl6[0];\n                    this.S = _rgbToHsl6[1];\n                    this.L = _rgbToHsl6[2];\n\n                    this.slBarHelper.setHue(this.H);\n                    this.updatePointerH(this.H);\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    break;\n                case RGB:\n                    var _value = _slicedToArray(value, 3);\n\n                    this.R = _value[0];\n                    this.G = _value[1];\n                    this.B = _value[2];\n\n                    var _rgbToHsl7 = (0, _utils.rgbToHsl)(this.R, this.G, this.B);\n\n                    var _rgbToHsl8 = _slicedToArray(_rgbToHsl7, 3);\n\n                    this.H = _rgbToHsl8[0];\n                    this.S = _rgbToHsl8[1];\n                    this.L = _rgbToHsl8[2];\n\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    break;\n                case RGBA_USER:\n                    var _value2 = _slicedToArray(value, 4);\n\n                    this.R = _value2[0];\n                    this.G = _value2[1];\n                    this.B = _value2[2];\n                    this.A = _value2[3];\n\n                    var _rgbToHsl9 = (0, _utils.rgbToHsl)(this.R, this.G, this.B);\n\n                    var _rgbToHsl10 = _slicedToArray(_rgbToHsl9, 3);\n\n                    this.H = _rgbToHsl10[0];\n                    this.S = _rgbToHsl10[1];\n                    this.L = _rgbToHsl10[2];\n\n                    this.slBarHelper.setHue(this.H);\n                    this.updatePointerH(this.H);\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    this.updatePointerA(this.A);\n                    break;\n                case HSLA_USER:\n                    var _value3 = _slicedToArray(value, 4);\n\n                    this.H = _value3[0];\n                    this.S = _value3[1];\n                    this.L = _value3[2];\n                    this.A = _value3[3];\n\n                    var _hslToRgb7 = (0, _utils.hslToRgb)(this.H, this.S, this.L);\n\n                    var _hslToRgb8 = _slicedToArray(_hslToRgb7, 3);\n\n                    this.R = _hslToRgb8[0];\n                    this.G = _hslToRgb8[1];\n                    this.B = _hslToRgb8[2];\n\n                    this.slBarHelper.setHue(this.H);\n                    this.updatePointerH(this.H);\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    this.updatePointerA(this.A);\n                    break;\n                case RGBHEX:\n                    var _ref7 = cssColorToRgb(value) || [this.R, this.G, this.B];\n\n                    var _ref8 = _slicedToArray(_ref7, 3);\n\n                    this.R = _ref8[0];\n                    this.G = _ref8[1];\n                    this.B = _ref8[2];\n\n                    var _rgbToHsl11 = (0, _utils.rgbToHsl)(this.R, this.G, this.B);\n\n                    var _rgbToHsl12 = _slicedToArray(_rgbToHsl11, 3);\n\n                    this.H = _rgbToHsl12[0];\n                    this.S = _rgbToHsl12[1];\n                    this.L = _rgbToHsl12[2];\n\n                    this.slBarHelper.setHue(this.H);\n                    this.updatePointerH(this.H);\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    break;\n                case COLOR:\n                    var _ref9 = parseColorToRgba(value) || [0, 0, 0, 1];\n\n                    var _ref10 = _slicedToArray(_ref9, 4);\n\n                    this.R = _ref10[0];\n                    this.G = _ref10[1];\n                    this.B = _ref10[2];\n                    this.A = _ref10[3];\n\n                    var _rgbToHsl13 = (0, _utils.rgbToHsl)(this.R, this.G, this.B);\n\n                    var _rgbToHsl14 = _slicedToArray(_rgbToHsl13, 3);\n\n                    this.H = _rgbToHsl14[0];\n                    this.S = _rgbToHsl14[1];\n                    this.L = _rgbToHsl14[2];\n\n                    this.slBarHelper.setHue(this.H);\n                    this.updatePointerH(this.H);\n                    this.updatePointerSL(this.H, this.S, this.L);\n                    this.updateInputHSL(this.H, this.S, this.L);\n                    this.updateInputRGB(this.R, this.G, this.B);\n                    this.updateInputRGBHEX(this.R, this.G, this.B);\n                    this.updatePointerA(this.A);\n                    break;\n                case ALPHA:\n                    this.A = value;\n                    break;\n            }\n            this.onColorChanged(this.R, this.G, this.B, this.A);\n        }\n    }, {\n        key: 'onColorChanged',\n        value: function onColorChanged(r, g, b, a) {\n            if (a === 1) {\n                this.preview.style.backgroundColor = 'rgb(' + r + ',' + g + ',' + b + ')';\n            } else {\n                this.preview.style.backgroundColor = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n            }\n            this.onchange && this.onchange();\n        }\n    }, {\n        key: 'onPaletteColorAdd',\n        value: function onPaletteColorAdd(color) {\n            this.oncoloradd && this.oncoloradd(color);\n        }\n    }, {\n        key: 'onPaletteColorRemove',\n        value: function onPaletteColorRemove(color) {\n            this.oncolorremove && this.oncolorremove(color);\n        }\n    }, {\n        key: 'updateInputHSL',\n        value: function updateInputHSL(h, s, l) {\n            this.inputH.value = h;\n            this.inputS.value = s;\n            this.inputL.value = l;\n        }\n    }, {\n        key: 'updateInputRGB',\n        value: function updateInputRGB(r, g, b) {\n            this.inputR.value = r;\n            this.inputG.value = g;\n            this.inputB.value = b;\n        }\n    }, {\n        key: 'updateInputRGBHEX',\n        value: function updateInputRGBHEX(r, g, b) {\n            this.inputRGBHEX.value = (0, _utils.rgbToHex)(r, g, b);\n        }\n    }, {\n        key: 'updatePointerH',\n        value: function updatePointerH(h) {\n            var x = HUE_BAR_SIZE[0] * h / 360;\n            this.huePointer.style.left = x - 7 + 'px';\n        }\n    }, {\n        key: 'updatePointerSL',\n        value: function updatePointerSL(h, s, l) {\n            var _hslToRgb9 = (0, _utils.hslToRgb)(h, s, l),\n                _hslToRgb10 = _slicedToArray(_hslToRgb9, 3),\n                r = _hslToRgb10[0],\n                g = _hslToRgb10[1],\n                b = _hslToRgb10[2];\n\n            var _slBarHelper$findColo = this.slBarHelper.findColor(r, g, b),\n                _slBarHelper$findColo2 = _slicedToArray(_slBarHelper$findColo, 2),\n                x = _slBarHelper$findColo2[0],\n                y = _slBarHelper$findColo2[1];\n\n            if (x >= 0) {\n                this.slPointer.style.left = x - 7 + 'px';\n                this.slPointer.style.top = y - 7 + 'px';\n            }\n        }\n    }, {\n        key: 'updatePointerA',\n        value: function updatePointerA(a) {\n            var x = ALPHA_BAR_SIZE[0] * a;\n            this.alphaPointer.style.left = x - 7 + 'px';\n        }\n    }]);\n\n    return ColorPicker;\n}();\n\nfunction wrapEventCallback(ctrl, picker, eventName, cb) {\n    if (cb && typeof cb === 'function') {\n        picker['on' + eventName] = function () {\n            cb.call.apply(cb, [null, ctrl].concat(Array.prototype.slice.call(arguments)));\n        };\n    } else {\n        picker['on' + eventName] = null;\n    }\n}\n\n/**\n * Crea il color picker.\n * Le opzioni sono:\n * - attachTo: elemento DOM al quale aggiungere il picker (default 'body')\n * - showHSL: indica se mostrare i campi per la definizione del colore in formato HSL (default true)\n * - showRGB: indica se mostrare i campi per la definizione del colore in formato RGB (default true)\n * - showHEX: indica se mostrare i campi per la definizione del colore in formato RGB HEX (default true)\n * - color: colore iniziale (default '#ff0000')\n *\n * @param      {Object}          container Un elemento HTML che andr a contenere il picker\n *\n * oppure\n *\n * @param      {Object}          options  Le opzioni di creazione\n * @return     {Object}          ritorna un controller per impostare e recuperare il colore corrente del picker\n */\nfunction createPicker(options) {\n    var picker = new ColorPicker(options);\n    var cbEvents = {};\n    return {\n        get picker() {\n            return picker;\n        },\n\n        get element() {\n            return picker.element;\n        },\n\n        get rgb() {\n            return [picker.R, picker.G, picker.B];\n        },\n\n        set rgb(_ref11) {\n            var _ref12 = _slicedToArray(_ref11, 3),\n                r = _ref12[0],\n                g = _ref12[1],\n                b = _ref12[2];\n\n            var _ref13 = [(0, _utils.limit)(r, 0, 255), (0, _utils.limit)(g, 0, 255), (0, _utils.limit)(b, 0, 255)];\n            r = _ref13[0];\n            g = _ref13[1];\n            b = _ref13[2];\n\n            picker.onValueChanged(RGBA_USER, [r, g, b, 1]);\n        },\n\n        get hsl() {\n            return [picker.H, picker.S, picker.L];\n        },\n\n        set hsl(_ref14) {\n            var _ref15 = _slicedToArray(_ref14, 3),\n                h = _ref15[0],\n                s = _ref15[1],\n                l = _ref15[2];\n\n            var _ref16 = [(0, _utils.limit)(h, 0, 360), (0, _utils.limit)(s, 0, 100), (0, _utils.limit)(l, 0, 100)];\n            h = _ref16[0];\n            s = _ref16[1];\n            l = _ref16[2];\n\n            picker.onValueChanged(HSLA_USER, [h, s, l, 1]);\n        },\n\n        get rgbhex() {\n            return (0, _utils.rgbToHex)(picker.R, picker.G, picker.B);\n        },\n\n        get rgba() {\n            return [picker.R, picker.G, picker.B, picker.A];\n        },\n\n        set rgba(_ref17) {\n            var _ref18 = _slicedToArray(_ref17, 4),\n                r = _ref18[0],\n                g = _ref18[1],\n                b = _ref18[2],\n                a = _ref18[3];\n\n            var _ref19 = [(0, _utils.limit)(r, 0, 255), (0, _utils.limit)(g, 0, 255), (0, _utils.limit)(b, 0, 255), (0, _utils.limit)(a, 0, 1)];\n            r = _ref19[0];\n            g = _ref19[1];\n            b = _ref19[2];\n            a = _ref19[3];\n\n            picker.onValueChanged(RGBA_USER, [r, g, b, a]);\n        },\n\n        get hsla() {\n            return [picker.H, picker.S, picker.L, picker.A];\n        },\n\n        set hsla(_ref20) {\n            var _ref21 = _slicedToArray(_ref20, 4),\n                h = _ref21[0],\n                s = _ref21[1],\n                l = _ref21[2],\n                a = _ref21[3];\n\n            var _ref22 = [(0, _utils.limit)(h, 0, 360), (0, _utils.limit)(s, 0, 100), (0, _utils.limit)(l, 0, 100), (0, _utils.limit)(a, 0, 1)];\n            h = _ref22[0];\n            s = _ref22[1];\n            l = _ref22[2];\n            a = _ref22[3];\n\n            picker.onValueChanged(HSLA_USER, [h, s, l, a]);\n        },\n\n        /**\n         * Ritorna il colore corrente nel formato RGB HEX.\n         *\n         * @return     {string}  colorre corrente (es: #ffdd00)\n         */\n        get color() {\n            if (picker.A === 1) {\n                return this.rgbhex;\n            } else {\n                return 'rgba(' + picker.R + ',' + picker.G + ',' + picker.B + ',' + picker.A + ')';\n            }\n        },\n\n        /**\n         * Imposta il colore corrente.\n         * Accetta:\n         * - il nome di un colore (https://developer.mozilla.org/en-US/docs/Web/CSS/color_value)\n         * - un colore espresso nel formato RGB HEX sia esteso (#ffdd00) che compatto (#fd0)\n         * - un array di interi [R,G,B]\n         *\n         * @param      {string|array}  color   il colore\n         */\n        set color(color) {\n            picker.onValueChanged(COLOR, color);\n        },\n\n        get onchange() {\n            return cbEvents['change'];\n        },\n\n        set onchange(cb) {\n            wrapEventCallback(this, picker, 'change', cb);\n            cbEvents['change'] = cb;\n        },\n\n        get oncoloradd() {\n            return cbEvents['coloradd'];\n        },\n\n        set oncoloradd(cb) {\n            wrapEventCallback(this, picker, 'coloradd', cb);\n            cbEvents['coloradd'] = cb;\n        },\n\n        get oncolorremove() {\n            return cbEvents['colorremove'];\n        },\n\n        set oncolorremove(cb) {\n            wrapEventCallback(this, picker, 'colorremove', cb);\n            cbEvents['colorremove'] = cb;\n        }\n\n    };\n}\n\nexports.default = {\n    createPicker: createPicker,\n    parseColorToRgb: parseColorToRgb,\n    parseColorToRgba: parseColorToRgba,\n    rgbToHex: _utils.rgbToHex,\n    hslToRgb: _utils.hslToRgb,\n    rgbToHsl: _utils.rgbToHsl,\n    rgbToInt: _utils.rgbToInt,\n    intToRgb: _utils.intToRgb,\n    COLOR_NAMES: _utils.COLOR_NAMES,\n    PALETTE_MATERIAL_500: _utils.PALETTE_MATERIAL_500,\n    PALETTE_MATERIAL_CHROME: _utils.PALETTE_MATERIAL_CHROME\n};\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbG9yUGlja2VyL0NvbG9yUGlja2VyLmpzPzk1MWMiXSwibmFtZXMiOlsiSVNfRURHRSIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJJU19JRTExIiwiREVGQVVMVCIsImF0dGFjaFRvIiwic2hvd0hTTCIsInNob3dSR0IiLCJzaG93SEVYIiwic2hvd0FscGhhIiwiY29sb3IiLCJwYWxldHRlIiwicGFsZXR0ZUVkaXRhYmxlIiwiU0xfQkFSX1NJWkUiLCJIVUVfQkFSX1NJWkUiLCJBTFBIQV9CQVJfU0laRSIsIkhVRSIsIlNBVFVSQVRJT04iLCJMVU1JTkFOQ0UiLCJSR0IiLCJSRUQiLCJHUkVFTiIsIkJMVUUiLCJSR0JIRVgiLCJDT0xPUiIsIlJHQkFfVVNFUiIsIkhTTEFfVVNFUiIsIkFMUEhBIiwiSFRNTF9CT1giLCJwYXJzZUVsZW1udCIsImVsZW1lbnQiLCJkZWZhdWx0RWxlbWVudCIsImZhbGxUb0RlZmF1bHQiLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwianF1ZXJ5IiwiZ2V0IiwiY2FudmFzSGVscGVyIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0Iiwid2hpdGVCbGFja0dyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJzZXRIdWUiLCJodWUiLCJjb2xvckdyYWRpZW50IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJncmFiQ29sb3IiLCJ4IiwieSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJmaW5kQ29sb3IiLCJyIiwiZyIsImIiLCJyb3dMZW4iLCJnYXAiLCJjb29yZCIsImlpIiwibGVuZ3RoIiwiTWF0aCIsImFicyIsImZsb29yIiwiY3NzQ29sb3JUb1JnYiIsImNvbG9yQnlOYW1lIiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImV4ZWMiLCJyciIsImdnIiwiYmIiLCJ1bmRlZmluZWQiLCJwYXJzZUludCIsImNzc1JnYlRvUmdiIiwicmdiIiwibSIsImNzc1JnYmFUb1JnYmEiLCJyZ2JhIiwiYSIsInBhcnNlQ29sb3JUb1JnYiIsIkFycmF5IiwiaXNBcnJheSIsInBhcnNlQ29sb3JUb1JnYmEiLCJwYXJzZWQiLCJwdXNoIiwiQ29sb3JQaWNrZXIiLCJvcHRpb25zIiwiY29udGFpbmVyIiwiT2JqZWN0IiwiYXNzaWduIiwiSCIsIlMiLCJMIiwiUiIsIkciLCJCIiwiQSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImh1ZUJhciIsInNldHVwSHVlQ2FudmFzIiwiaHVlQmFySGVscGVyIiwiaHVlUG9pbnRlciIsInNsQmFyIiwic2V0dXBTbENhbnZhcyIsInNsQmFySGVscGVyIiwic2xQb2ludGVyIiwicHJldmlldyIsInNldHVwQ2xpcGJvYXJkIiwic2V0dXBJbnB1dCIsImlucHV0SCIsImlucHV0UyIsImlucHV0TCIsImlucHV0UiIsImlucHV0RyIsImlucHV0QiIsImlucHV0UkdCSEVYIiwic2V0UGFsZXR0ZSIsInNldHVwQWxwaGFDYW52YXMiLCJhbHBoYVBvaW50ZXIiLCJvblZhbHVlQ2hhbmdlZCIsImdyYWRpZW50Iiwic3RlcCIsIm9uTW91c2VNb3ZlIiwiZSIsImNsaWVudFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0Iiwicm91bmQiLCJzdHlsZSIsIm9uTW91c2VVcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xpZW50WSIsInRvcCIsImMiLCJhbHBoYSIsInRvRml4ZWQiLCJpbnB1dCIsIm1pbiIsIm1heCIsInByb3AiLCJuYW1lIiwiaGFzQXR0cmlidXRlIiwic2VsZWN0IiwidHlwZSIsInZhbHVlIiwia2V5IiwicmV0dXJuVmFsdWUiLCJ0aXRsZSIsImV4ZWNDb21tYW5kIiwicm93IiwiYWRkQ29sb3JUb1BhbGV0dGUiLCJoZXgiLCJyZWZFbGVtZW50IiwiZmlyZSIsImVsIiwiYmFja2dyb3VuZENvbG9yIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0QmVmb3JlIiwib25QYWxldHRlQ29sb3JBZGQiLCJyZW1vdmVDb2xvclRvUGFsZXR0ZSIsInJlbW92ZUNoaWxkIiwib25QYWxldHRlQ29sb3JSZW1vdmUiLCJnZXRBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIm1hcCIsInAiLCJmaWx0ZXIiLCJ0ZXN0IiwidGFyZ2V0Iiwic2hpZnRLZXkiLCJkaXNwbGF5IiwidXBkYXRlUG9pbnRlckgiLCJ1cGRhdGVJbnB1dEhTTCIsInVwZGF0ZUlucHV0UkdCIiwidXBkYXRlSW5wdXRSR0JIRVgiLCJ1cGRhdGVQb2ludGVyU0wiLCJ1cGRhdGVQb2ludGVyQSIsIm9uQ29sb3JDaGFuZ2VkIiwib25jaGFuZ2UiLCJvbmNvbG9yYWRkIiwib25jb2xvcnJlbW92ZSIsImgiLCJzIiwibCIsIndyYXBFdmVudENhbGxiYWNrIiwiY3RybCIsInBpY2tlciIsImV2ZW50TmFtZSIsImNiIiwiY2FsbCIsImFyZ3VtZW50cyIsImNyZWF0ZVBpY2tlciIsImNiRXZlbnRzIiwiaHNsIiwicmdiaGV4IiwiaHNsYSIsInJnYlRvSGV4IiwiaHNsVG9SZ2IiLCJyZ2JUb0hzbCIsInJnYlRvSW50IiwiaW50VG9SZ2IiLCJDT0xPUl9OQU1FUyIsIlBBTEVUVEVfTUFURVJJQUxfNTAwIiwiUEFMRVRURV9NQVRFUklBTF9DSFJPTUUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBY0EsSUFBTUEsVUFBVUMsT0FBT0MsU0FBUCxDQUFpQkMsU0FBakIsQ0FBMkJDLE9BQTNCLENBQW1DLE1BQW5DLElBQTZDLENBQUMsQ0FBOUQ7QUFBQSxJQUNJQyxVQUFVSixPQUFPQyxTQUFQLENBQWlCQyxTQUFqQixDQUEyQkMsT0FBM0IsQ0FBbUMsS0FBbkMsSUFBNEMsQ0FBQyxDQUQz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QUlaLGFBQUosQ0FBa0JRLEVBQWxCLEVBQXNCO0FBQ2xCSiw4QkFBa0IsSUFBbEIsRUFBd0JFLE1BQXhCLEVBQWdDLGFBQWhDLEVBQStDRSxFQUEvQztBQUNBSSxxQkFBUyxhQUFULElBQTBCSixFQUExQjtBQUNIOztBQXBHRSxLQUFQO0FBdUdIOztrQkFFYztBQUNYRyw4QkFEVztBQUVYckgsb0NBRlc7QUFHWEcsc0NBSFc7QUFJWHVILDZCQUpXO0FBS1hDLDZCQUxXO0FBTVhDLDZCQU5XO0FBT1hDLDZCQVBXO0FBUVhDLDZCQVJXO0FBU1hDLG1DQVRXO0FBVVhDLHFEQVZXO0FBV1hDO0FBWFcsQyIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQ09MT1JfTkFNRVMsXG4gICAgUEFMRVRURV9NQVRFUklBTF81MDAsXG4gICAgUEFMRVRURV9NQVRFUklBTF9DSFJPTUUsXG4gICAgcmdiVG9IZXgsXG4gICAgaHNsVG9SZ2IsXG4gICAgcmdiVG9Ic2wsXG4gICAgcmdiVG9JbnQsXG4gICAgaW50VG9SZ2IsXG4gICAgbGltaXQsXG4gICAgZW5zdXJlQXJyYXksXG4gICAgbnZsXG59IGZyb20gJy4vdXRpbHMuanMnO1xuXG5jb25zdCBJU19FREdFID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpID4gLTEsXG4gICAgSVNfSUUxMSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ3J2OicpID4gLTE7XG5cbmNvbnN0IERFRkFVTFQgPSB7XG4gICAgYXR0YWNoVG86ICdib2R5JyxcbiAgICBzaG93SFNMOiB0cnVlLFxuICAgIHNob3dSR0I6IHRydWUsXG4gICAgc2hvd0hFWDogdHJ1ZSxcbiAgICBzaG93QWxwaGE6IGZhbHNlLFxuICAgIGNvbG9yOiAnI2ZmMDAwMCcsXG4gICAgcGFsZXR0ZTogbnVsbCxcbiAgICBwYWxldHRlRWRpdGFibGU6IGZhbHNlXG59O1xuXG5jb25zdCBTTF9CQVJfU0laRSA9IFsyMDAsIDE1MF0sXG4gICAgSFVFX0JBUl9TSVpFID0gWzE1MCwgMTZdLFxuICAgIEFMUEhBX0JBUl9TSVpFID0gSFVFX0JBUl9TSVpFLFxuICAgIEhVRSA9ICdIJyxcbiAgICBTQVRVUkFUSU9OID0gJ1MnLFxuICAgIExVTUlOQU5DRSA9ICdMJyxcbiAgICBSR0IgPSAnUkdCJyxcbiAgICBSRUQgPSAnUicsXG4gICAgR1JFRU4gPSAnRycsXG4gICAgQkxVRSA9ICdCJyxcbiAgICBSR0JIRVggPSAnUkdCSEVYJyxcbiAgICBDT0xPUiA9ICdDT0xPUicsXG4gICAgUkdCQV9VU0VSID0gJ1JHQkFfVVNFUicsXG4gICAgSFNMQV9VU0VSID0gJ0hTTEFfVVNFUicsXG4gICAgQUxQSEEgPSAnQUxQSEEnO1xuXG5jb25zdCBIVE1MX0JPWCA9IGA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItcm93IGEtY29sb3ItcGlja2VyLXN0YWNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyBjbGFzcz1cImEtY29sb3ItcGlja2VyLXNsIGEtY29sb3ItcGlja2VyLXRyYW5zcGFyZW50XCI+PC9jYW52YXM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImEtY29sb3ItcGlja2VyLWRvdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImEtY29sb3ItcGlja2VyLXN0YWNrIGEtY29sb3ItcGlja2VyLXRyYW5zcGFyZW50IGEtY29sb3ItcGlja2VyLWNpcmNsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItcHJldmlld1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYS1jb2xvci1waWNrZXItY2xpcGJhb3JkXCIgdHlwZT1cInRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImEtY29sb3ItcGlja2VyLWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItY2VsbCBhLWNvbG9yLXBpY2tlci1zdGFja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyBjbGFzcz1cImEtY29sb3ItcGlja2VyLWhcIj48L2NhbnZhcz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhLWNvbG9yLXBpY2tlci1kb3RcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhLWNvbG9yLXBpY2tlci1jZWxsIGEtY29sb3ItcGlja2VyLXN0YWNrXCIgc2hvdy1vbi1hbHBoYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjYW52YXMgY2xhc3M9XCJhLWNvbG9yLXBpY2tlci1hIGEtY29sb3ItcGlja2VyLXRyYW5zcGFyZW50XCI+PC9jYW52YXM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItZG90XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItcm93IGEtY29sb3ItcGlja2VyLWhzbFwiIHNob3ctb24taHNsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5IPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT1cIkhcIiB0eXBlPVwibnVtYmVyXCIgbWF4bGVuZ3RoPVwiM1wiIG1pbj1cIjBcIiBtYXg9XCIzNjBcIiB2YWx1ZT1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9XCJTXCIgdHlwZT1cIm51bWJlclwiIG1heGxlbmd0aD1cIjNcIiBtaW49XCIwXCIgbWF4PVwiMTAwXCIgdmFsdWU9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkw8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPVwiTFwiIHR5cGU9XCJudW1iZXJcIiBtYXhsZW5ndGg9XCIzXCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItcm93IGEtY29sb3ItcGlja2VyLXJnYlwiIHNob3ctb24tcmdiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5SPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT1cIlJcIiB0eXBlPVwibnVtYmVyXCIgbWF4bGVuZ3RoPVwiM1wiIG1pbj1cIjBcIiBtYXg9XCIyNTVcIiB2YWx1ZT1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9XCJHXCIgdHlwZT1cIm51bWJlclwiIG1heGxlbmd0aD1cIjNcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgdmFsdWU9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkI8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPVwiQlwiIHR5cGU9XCJudW1iZXJcIiBtYXhsZW5ndGg9XCIzXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIHZhbHVlPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYS1jb2xvci1waWNrZXItcm93IGEtY29sb3ItcGlja2VyLXNpbmdsZS1pbnB1dFwiIHNob3ctb24tc2luZ2xlLWlucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5IRVg8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPVwiUkdCSEVYXCIgdHlwZT1cInRleHRcIiBzZWxlY3Qtb24tZm9jdXM+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhLWNvbG9yLXBpY2tlci1yb3cgYS1jb2xvci1waWNrZXItcGFsZXR0ZVwiPjwvZGl2PmA7XG5cbmZ1bmN0aW9uIHBhcnNlRWxlbW50KGVsZW1lbnQsIGRlZmF1bHRFbGVtZW50LCBmYWxsVG9EZWZhdWx0KSB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFswXTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50ID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5qcXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0KDApOyAvL1RPRE86IGRhIHRlc3RhcmVcbiAgICB9IGVsc2UgaWYgKGZhbGxUb0RlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRFbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FudmFzSGVscGVyKGNhbnZhcykge1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICB3aWR0aCA9ICtjYW52YXMud2lkdGgsXG4gICAgICAgIGhlaWdodCA9ICtjYW52YXMuaGVpZ2h0O1xuICAgIC8vIHF1ZXN0byBncmFkaWVudGUgZGEgYmlhbmNvIChhbHRvKSBhIG5lcm8gKGJhc3NvKSB2aWVuZSBhcHBsaWNhdG8gY29tZSBzZm9uZG8gYWwgY2FudmFzXG4gICAgY29uc3Qgd2hpdGVCbGFja0dyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDEsIDEsIDEsIGhlaWdodCAtIDEpO1xuICAgIHdoaXRlQmxhY2tHcmFkaWVudC5hZGRDb2xvclN0b3AoMCwgJ3doaXRlJyk7XG4gICAgd2hpdGVCbGFja0dyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAnYmxhY2snKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRIdWUoaHVlKSB7XG4gICAgICAgICAgICAvLyBncmFkaWVudGUgY29uIGlsIGNvbG9yZSByZWxhdml0byBhIGxvIEhVRSBkYSBzaW5pc3RyYSBhIGRlc3RyYSBwYXJ0ZW5kbyBkYSB0cmFzcGFyZW50ZSBhIG9wYWNvXG4gICAgICAgICAgICAvLyBsYSBjb21iaW5hemlvbmUgZGVsIGdyYWRpZW50ZSBiaWFuY28vbmVybyBlIHF1ZXN0byBwZXJtZXR0ZSBkaSBhdmVyZSB1biBjYW52YXMgZG92ZSBcbiAgICAgICAgICAgIC8vIHN1bGwnYXNzZSBkZWxsZSBvcmRpbmF0ZSDDqCBlc3ByZXNzYSBsYSBzYXR1cmF6aW9uZSwgZSBzdWxsJ2Fzc2UgZGVsbGUgYXNjaXNzZSBjJ8OoIGxhIGx1bWlub3NpdMOgXG4gICAgICAgICAgICBjb25zdCBjb2xvckdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIHdpZHRoIC0gMSwgMCk7XG4gICAgICAgICAgICBjb2xvckdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBgaHNsYSgke2h1ZX0sIDEwMCUsIDUwJSwgMClgKTtcbiAgICAgICAgICAgIGNvbG9yR3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsIGBoc2xhKCR7aHVlfSwgMTAwJSwgNTAlLCAxKWApO1xuICAgICAgICAgICAgLy8gYXBwbGljbyBpIGdyYWRpZW50aVxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdoaXRlQmxhY2tHcmFkaWVudDtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvckdyYWRpZW50O1xuICAgICAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdtdWx0aXBseSc7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgfSxcblxuICAgICAgICBncmFiQ29sb3IoeCwgeSkge1xuICAgICAgICAgICAgLy8gcmVjdXBlcmEgaWwgY29sb3JlIGRlbCBwaXhlbCBpbiBmb3JtYXRvIFJHQkFcbiAgICAgICAgICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKHgsIHksIDEsIDEpLmRhdGE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluZENvbG9yKHIsIGcsIGIpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHNlIGxhIGx1bWlub3NpdMOgIMOoIGJhc3NhIHBvc3NvIGNvbnRyb2xsYXJlIHByaW1hIGxhIHBhcnRlIGluZmVyaW9yZVxuICAgICAgICAgICAgY29uc3Qgcm93TGVuID0gd2lkdGggKiA0LFxuICAgICAgICAgICAgICAgIC8vIHZpc3RvIGNoZSBub24gc29ubyBzaWN1cm8gZGkgdHJvdmFyZSBpbCBjb2xvcmUgZXNhdHRvIGNvbnNpZGVybyB1biBnYXAgaW4gKyBlIC0gc3UgdHV0dGkgaSAzIHZhbG9yaVxuICAgICAgICAgICAgICAgIGdhcCA9IDUsXG4gICAgICAgICAgICAgICAgLy8gYXJyYXkgY29udGVuZW50ZSB0dXR0aSBpIHBpeGVsLCBvZ25pIHBpeGVsIHNvbm8gNCBieXRlIFJHQkEgKHF1aW5kaSDDqCBncmFuZGUgdypoKjQpXG4gICAgICAgICAgICAgICAgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgICAgIGxldCBjb29yZCA9IFstMSwgLTFdO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5sZW5ndGgsIHIsIGcsIGIpXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICAgICAgLy8gY29uc29sZS50aW1lKCdmaW5kQ29sb3InKTtcbiAgICAgICAgICAgIC8vIHNjb3JybyBsJ2FycmF5IGRpIHBpeGVsLCBvZ25pIDQgYnl0ZSBjJ8OoIHVuIHBpeGVsIG51b3ZvXG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGF0YS5sZW5ndGg7IGlpICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGF0YVtpaV0gLSByKSA8PSBnYXAgJiZcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZGF0YVtpaSArIDFdIC0gZykgPD0gZ2FwICYmXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGRhdGFbaWkgKyAyXSAtIGIpIDw9IGdhcCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZm91bmQnLCBpaSwgTWF0aC5mbG9vcihpaS9yb3dMZW4pLCAoaWklcm93TGVuKS80KTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmQgPSBbKGlpICUgcm93TGVuKSAvIDQsIE1hdGguZmxvb3IoaWkgLyByb3dMZW4pXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc29sZS50aW1lRW5kKCdmaW5kQ29sb3InKTtcbiAgICAgICAgICAgIHJldHVybiBjb29yZDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3NzQ29sb3JUb1JnYihjb2xvcikge1xuICAgIGlmIChjb2xvcikge1xuICAgICAgICBjb25zdCBjb2xvckJ5TmFtZSA9IENPTE9SX05BTUVTW2NvbG9yLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIC8vIGNvbnNpZGVybyBzaWEgaWwgZm9ybWF0byBlc3Rlc28gI1JSR0dHQkIgY2hlIHF1ZWxsbyBjb3J0byAjUkdCXG4gICAgICAgIC8vIHByb3ZvIGEgZXN0cmFycmUgaSB2YWxvcmkgZGEgY29sb3JCeU5hbWUgc29sbyBzZSBxdWVzdG8gw6ggdmFsb3JpenphdG8sIGFsdHJpbWVudGkgdXNvIGRpcmV0dGFtZW50ZSBjb2xvclxuICAgICAgICBjb25zdCBbLCAsICwgciwgZywgYiwgLCByciwgZ2csIGJiXSA9IC9eXFxzKiM/KCgoWzAtOUEtRl0pKFswLTlBLUZdKShbMC05QS1GXSkpfCgoWzAtOUEtRl17Mn0pKFswLTlBLUZdezJ9KShbMC05QS1GXXsyfSkpKVxccyokL2kuZXhlYyhjb2xvckJ5TmFtZSB8fCBjb2xvcikgfHwgW107XG4gICAgICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiBbcGFyc2VJbnQociArIHIsIDE2KSwgcGFyc2VJbnQoZyArIGcsIDE2KSwgcGFyc2VJbnQoYiArIGIsIDE2KV07XG4gICAgICAgIGVsc2UgaWYgKHJyICE9PSB1bmRlZmluZWQpIHJldHVybiBbcGFyc2VJbnQocnIsIDE2KSwgcGFyc2VJbnQoZ2csIDE2KSwgcGFyc2VJbnQoYmIsIDE2KV07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGNzc1JnYlRvUmdiKHJnYikge1xuICAgIGlmIChyZ2IpIHtcbiAgICAgICAgY29uc3QgW20sIHIsIGcsIGJdID0gL15yZ2JcXCgoXFxkKyksKFxcZCspLChcXGQrKVxcKS9pLmV4ZWMocmdiKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG0gPyBbbGltaXQociwgMCwgMjU1KSwgbGltaXQoZywgMCwgMjU1KSwgbGltaXQoYiwgMCwgMjU1KV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGNzc1JnYmFUb1JnYmEocmdiYSkge1xuICAgIGlmIChyZ2JhKSB7XG4gICAgICAgIGNvbnN0IFttLCByLCBnLCBiLCBhXSA9IC9ecmdiYVxcKChcXGQrKSwoXFxkKyksKFxcZCspLChcXGQqKC5cXGQrKT8pXFwpL2kuZXhlYyhyZ2JhKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG0gPyBbbGltaXQociwgMCwgMjU1KSwgbGltaXQoZywgMCwgMjU1KSwgbGltaXQoYiwgMCwgMjU1KSwgbGltaXQoYSwgMCwgMSldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENvbnZlcnRlIGlsIGNvbG9yZSBpbiBpbmdyZXNzbyBuZWwgZm9ybWF0byBbcixnLGJdLlxuICogQ29sb3IgcHXDsiBhc3N1bWVyZSBxdWVzdGkgdmFsb3JpOlxuICogLSBhcnJheSBjb24gW3IsZyxiXSAodmllbmUgcml0b3JuYXRvIGNvc8OsIGNvbWUgw6gpXG4gKiAtIG5vbWUgZGVsIGNvbG9yZVxuICogLSBjb2xvcmUgbmVsIGZvcm1hdG8gUkdCIEhFWCBzaWEgY29tcGF0dG8gY2hlIGVzdGVzb1xuICpcbiAqIEBwYXJhbSAgICAgIHtzdHJpbmd8YXJyYXl9ICAgIGNvbG9yICAgSWwgY29sb3JlIGRhIGNvbnZlcnRpcmVcbiAqIEByZXR1cm4gICAgIHthcnJheX0gIGNvbG9yZSBuZWwgZm9ybWF0byBbcixnLGJdIG8gdW5kZWZpbmVkIHNlIG5vbiB2YWxpZG9cbiAqL1xuZnVuY3Rpb24gcGFyc2VDb2xvclRvUmdiKGNvbG9yKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIGNvbG9yID0gW2xpbWl0KGNvbG9yWzBdLCAwLCAyNTUpLCBsaW1pdChjb2xvclsxXSwgMCwgMjU1KSwgbGltaXQoY29sb3JbMl0sIDAsIDI1NSldO1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNzc0NvbG9yVG9SZ2IoY29sb3IpIHx8IGNzc1JnYlRvUmdiKGNvbG9yKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29sb3JUb1JnYmEoY29sb3IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgY29sb3IgPSBbXG4gICAgICAgICAgICBsaW1pdChjb2xvclswXSwgMCwgMjU1KSxcbiAgICAgICAgICAgIGxpbWl0KGNvbG9yWzFdLCAwLCAyNTUpLFxuICAgICAgICAgICAgbGltaXQoY29sb3JbMl0sIDAsIDI1NSksXG4gICAgICAgICAgICBsaW1pdChudmwoY29sb3JbM10sIDEpLCAwLCAxKVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gY3NzQ29sb3JUb1JnYihjb2xvcikgfHwgY3NzUmdiVG9SZ2IoY29sb3IpIHx8IGNzc1JnYmFUb1JnYmEoY29sb3IpO1xuICAgICAgICBpZiAocGFyc2VkICYmIHBhcnNlZC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIHBhcnNlZC5wdXNoKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxufVxuXG5jbGFzcyBDb2xvclBpY2tlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gcGFyc2VFbGVtbnQob3B0aW9ucyk7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIC8vIHNlIHZpZW5lIHBhc3NhdG8gYWwgY29zdHJ1dHRvIHVuIGVsZW1lbnRvIEhUTUwgdXNvIGxlIG9wemlvbmkgZGkgZGVmYXVsdFxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVCwgeyBhdHRhY2hUbzogb3B0aW9ucyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFsdHJpbWVudGkgcHJlc3VtbyBjaGUgc2lhIGluZGljYXRvIG5lbGxlIG9wemlvbmkgcXVhbCfDqCBpbCBjb250ZW5pdG9yZVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb250YWluZXIgPSBwYXJzZUVsZW1udCh0aGlzLm9wdGlvbnMuYXR0YWNoVG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5IID0gMDtcbiAgICAgICAgICAgIHRoaXMuUyA9IDA7XG4gICAgICAgICAgICB0aGlzLkwgPSAwO1xuICAgICAgICAgICAgdGhpcy5SID0gMDtcbiAgICAgICAgICAgIHRoaXMuRyA9IDA7XG4gICAgICAgICAgICB0aGlzLkIgPSAwO1xuICAgICAgICAgICAgdGhpcy5BID0gMTtcblxuICAgICAgICAgICAgLy8gY3JlbyBnbGkgZWxlbWVudGkgSFRNTCBlIGxpIGFnZ2l1bmdvIGFsIGNvbnRhaW5lclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gJ2EtY29sb3ItcGlja2VyJztcbiAgICAgICAgICAgIC8vIHNlIGZhbHN5IHZpZW5lIG5hc2Nvc3RvIC5hLWNvbG9yLXBpY2tlci1yZ2JcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnNob3dSR0IpIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgKz0gJyBoaWRlLXJnYic7XG4gICAgICAgICAgICAvLyBzZSBmYWxzeSB2aWVuZSBuYXNjb3N0byAuYS1jb2xvci1waWNrZXItaHNsXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5zaG93SFNMKSB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lICs9ICcgaGlkZS1oc2wnO1xuICAgICAgICAgICAgLy8gc2UgZmFsc3kgdmllbmUgbmFzY29zdG8gLmEtY29sb3ItcGlja2VyLXNpbmdsZS1pbnB1dCAoY3NzIGhleClcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnNob3dIRVgpIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgKz0gJyBoaWRlLXNpbmdsZS1pbnB1dCc7XG4gICAgICAgICAgICAvLyBzZSBmYWxzeSB2aWVuZSBuYXNjb3N0byAuYS1jb2xvci1waWNrZXItYVxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuc2hvd0FscGhhKSB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lICs9ICcgaGlkZS1hbHBoYSc7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gSFRNTF9CT1g7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIC8vIHByZXBhcm8gaWwgY2FudmFzIGNvbiB0dXR0byBsbyBzcGV0dHJvIGRlbCBIVUUgKGRhIDAgYSAzNjApXG4gICAgICAgICAgICAvLyBpbiBiYXNlIGFsIHZhbG9yZSBzZWxlemlvbmF0byBzdSBxdWVzdG8gY2FudmFzIHZlcnLDoCBkaXNlZ25hdG8gaWwgY2FudmFzIHBlciBTTFxuICAgICAgICAgICAgY29uc3QgaHVlQmFyID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hLWNvbG9yLXBpY2tlci1oJyk7XG4gICAgICAgICAgICB0aGlzLnNldHVwSHVlQ2FudmFzKGh1ZUJhcik7XG4gICAgICAgICAgICB0aGlzLmh1ZUJhckhlbHBlciA9IGNhbnZhc0hlbHBlcihodWVCYXIpO1xuICAgICAgICAgICAgdGhpcy5odWVQb2ludGVyID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hLWNvbG9yLXBpY2tlci1oKy5hLWNvbG9yLXBpY2tlci1kb3QnKTtcbiAgICAgICAgICAgIC8vIHByZXBhcm8gaWwgY2FudmFzIHBlciBTTCAoc2F0dXJhdGlvbiBlIGx1bWluYW5jZSlcbiAgICAgICAgICAgIGNvbnN0IHNsQmFyID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hLWNvbG9yLXBpY2tlci1zbCcpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cFNsQ2FudmFzKHNsQmFyKTtcbiAgICAgICAgICAgIHRoaXMuc2xCYXJIZWxwZXIgPSBjYW52YXNIZWxwZXIoc2xCYXIpO1xuICAgICAgICAgICAgdGhpcy5zbFBvaW50ZXIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmEtY29sb3ItcGlja2VyLXNsKy5hLWNvbG9yLXBpY2tlci1kb3QnKTtcbiAgICAgICAgICAgIC8vIHByZXBhcm8gaWwgYm94IGRlbGxhIHByZXZpZXdcbiAgICAgICAgICAgIHRoaXMucHJldmlldyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYS1jb2xvci1waWNrZXItcHJldmlldycpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cENsaXBib2FyZCh0aGlzLnByZXZpZXcucXVlcnlTZWxlY3RvcignLmEtY29sb3ItcGlja2VyLWNsaXBiYW9yZCcpKTtcbiAgICAgICAgICAgIC8vIHByZWFybyBnbGkgaW5wdXQgYm94XG4gICAgICAgICAgICB0aGlzLnNldHVwSW5wdXQodGhpcy5pbnB1dEggPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmEtY29sb3ItcGlja2VyLWhzbD5pbnB1dFtuYW1lPUhdJykpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cElucHV0KHRoaXMuaW5wdXRTID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hLWNvbG9yLXBpY2tlci1oc2w+aW5wdXRbbmFtZT1TXScpKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBJbnB1dCh0aGlzLmlucHV0TCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYS1jb2xvci1waWNrZXItaHNsPmlucHV0W25hbWU9TF0nKSk7XG4gICAgICAgICAgICB0aGlzLnNldHVwSW5wdXQodGhpcy5pbnB1dFIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmEtY29sb3ItcGlja2VyLXJnYj5pbnB1dFtuYW1lPVJdJykpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cElucHV0KHRoaXMuaW5wdXRHID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hLWNvbG9yLXBpY2tlci1yZ2I+aW5wdXRbbmFtZT1HXScpKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBJbnB1dCh0aGlzLmlucHV0QiA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYS1jb2xvci1waWNrZXItcmdiPmlucHV0W25hbWU9Ql0nKSk7XG4gICAgICAgICAgICAvLyBwcmVwYXJvIGwnaW5wdXQgcGVyIGlsIGZvcm1hdG8gaGV4IGNzc1xuICAgICAgICAgICAgdGhpcy5zZXR1cElucHV0KHRoaXMuaW5wdXRSR0JIRVggPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1SR0JIRVhdJykpO1xuICAgICAgICAgICAgLy8gcHJlcGFybyBsYSBwYWxldHRlIGNvbiBpIGNvbG9yaSBwcmVkZWZpbml0aVxuICAgICAgICAgICAgdGhpcy5zZXRQYWxldHRlKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYS1jb2xvci1waWNrZXItcGFsZXR0ZScpKTtcbiAgICAgICAgICAgIC8vIHByZXBhcm8gaW4gY2FudmFzIHBlciBsJ29wYWNpdMOgXG4gICAgICAgICAgICB0aGlzLnNldHVwQWxwaGFDYW52YXModGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hLWNvbG9yLXBpY2tlci1hJykpO1xuICAgICAgICAgICAgdGhpcy5hbHBoYVBvaW50ZXIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmEtY29sb3ItcGlja2VyLWErLmEtY29sb3ItcGlja2VyLWRvdCcpO1xuICAgICAgICAgICAgLy8gaW1wb3N0byBpbCBjb2xvcmUgaW5pemlhbGVcbiAgICAgICAgICAgIHRoaXMub25WYWx1ZUNoYW5nZWQoQ09MT1IsIHRoaXMub3B0aW9ucy5jb2xvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBgQ29udGFpbmVyIG5vdCBmb3VuZDogJHt0aGlzLm9wdGlvbnMuYXR0YWNoVG99YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwSHVlQ2FudmFzKGNhbnZhcykge1xuICAgICAgICBjYW52YXMud2lkdGggPSBIVUVfQkFSX1NJWkVbMF07XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBIVUVfQkFSX1NJWkVbMV07XG4gICAgICAgIC8vIGRpc2Vnbm8gc3VsIGNhbnZhcyBhcHBsaWNhbmRvIHVuIGdyYWRpZW50ZSBsaW5lYXJlIGNoZSBjb3ByYSB0dXR0aSBpIHBvc3NpYmlsaSB2YWxvcmkgZGkgSFVFXG4gICAgICAgIC8vICBxdWluZGkgY2kgdm9nbGlvbm8gMzYxIHN0b3AgKGRhIDAgYSAzNjApLCBtYW50ZW5kbyBmaXNzZSBTIGUgTFxuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSxcbiAgICAgICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIEhVRV9CQVJfU0laRVswXSwgMCksXG4gICAgICAgICAgICBzdGVwID0gMSAvIDM2MDtcbiAgICAgICAgLy8gYWdnaXVuZ28gdHV0dGkgaSAzNjEgc3RlcCBhbCBncmFkaWVudGVcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8PSAxOyBpaSArPSBzdGVwKSB7XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoaWksIGBoc2woJHszNjAgKiBpaX0sIDEwMCUsIDUwJSlgKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBIVUVfQkFSX1NJWkVbMF0sIEhVRV9CQVJfU0laRVsxXSk7XG4gICAgICAgIC8vIGdlc3Rpc2NvIGdsaSBldmVudGkgcGVyIGxhIHNlbGV6aW9uZSBkZWwgdmFsb3JlIGUgc2VnbmFsbyBpbCBjYW1iaWFtZW50byB0cmFtaXRlIGNhbGxiYWtcbiAgICAgICAgLy8gdW5hIHZvbHRhIGNoZSBpbCBwdW50YXRvcmUgw6ggcHJlbXV0byBzdWwgY2FudmFzIChtb3VzZWRvd24pIFxuICAgICAgICAvLyBpbnRlcmNldHRvIGxlIHZhcmlhemlvbmkgbmVsbGEgcG9zaXppb25lIGRlbCBwdW50YXRvcmUgKG1vdXNlbW92ZSlcbiAgICAgICAgLy8gcmVsYXRpdmFtZW50ZSBhbCBkb2N1bWVudCwgaW4gbW9kbyBjaGUgaWwgcHVudGF0b3JlIGluIG1vdmltZW50byBwb3NzYSB1c2NpcmUgZGFsIGNhbnZhc1xuICAgICAgICAvLyB1bmEgdm9sdGEgc29sbGV2YXRvIChtb3VzZXVwKSBlbGltaW5vIGkgbGlzdGVuZXJcbiAgICAgICAgY29uc3Qgb25Nb3VzZU1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeCA9IGxpbWl0KGUuY2xpZW50WCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LCAwLCBIVUVfQkFSX1NJWkVbMF0pLFxuICAgICAgICAgICAgICAgIGh1ZSA9IE1hdGgucm91bmQoeCAqIDM2MCAvIEhVRV9CQVJfU0laRVswXSk7XG4gICAgICAgICAgICB0aGlzLmh1ZVBvaW50ZXIuc3R5bGUubGVmdCA9ICh4IC0gNykgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZChIVUUsIGh1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uTW91c2VVcCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHJpbXVvdm8gaSBsaXN0ZW5lciwgdmVycmFubm8gcmlhdHRpdmF0aSBhbCBwcm9zc2ltbyBtb3VzZWRvd25cbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgICAgICB9O1xuICAgICAgICAvLyBtb3VzZSBkb3duIHN1bCBjYW52YXM6IGludGVyY2V0dG8gaWwgbW92aW1lbnRvLCBzbWV0dG8gYXBwZW5hIGlsIG1vdXNlIHZpZW5lIHNvbGxldmF0b1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIG9uTW91c2VNb3ZlKGUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldHVwU2xDYW52YXMoY2FudmFzKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IFNMX0JBUl9TSVpFWzBdO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gU0xfQkFSX1NJWkVbMV07XG4gICAgICAgIC8vIGdlc3Rpc2NvIGdsaSBldmVudGkgcGVyIGxhIHNlbGV6aW9uZSBkZWwgdmFsb3JlIGUgc2VnbmFsbyBpbCBjYW1iaWFtZW50byB0cmFtaXRlIGNhbGxiYWtcbiAgICAgICAgLy8gdW5hIHZvbHRhIGNoZSBpbCBwdW50YXRvcmUgw6ggcHJlbXV0byBzdWwgY2FudmFzIChtb3VzZWRvd24pIFxuICAgICAgICAvLyBpbnRlcmNldHRvIGxlIHZhcmlhemlvbmkgbmVsbGEgcG9zaXppb25lIGRlbCBwdW50YXRvcmUgKG1vdXNlbW92ZSlcbiAgICAgICAgLy8gcmVsYXRpdmFtZW50ZSBhbCBkb2N1bWVudCwgaW4gbW9kbyBjaGUgaWwgcHVudGF0b3JlIGluIG1vdmltZW50byBwb3NzYSB1c2NpcmUgZGFsIGNhbnZhc1xuICAgICAgICAvLyB1bmEgdm9sdGEgc29sbGV2YXRvIChtb3VzZXVwKSBlbGltaW5vIGkgbGlzdGVuZXJcbiAgICAgICAgY29uc3Qgb25Nb3VzZU1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeCA9IGxpbWl0KGUuY2xpZW50WCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LCAwLCBTTF9CQVJfU0laRVswXSAtIDEpLFxuICAgICAgICAgICAgICAgIHkgPSBsaW1pdChlLmNsaWVudFkgLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLCAwLCBTTF9CQVJfU0laRVsxXSAtIDEpLFxuICAgICAgICAgICAgICAgIGMgPSB0aGlzLnNsQmFySGVscGVyLmdyYWJDb2xvcih4LCB5KTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdncmFiJywgeCwgeSwgYylcbiAgICAgICAgICAgIHRoaXMuc2xQb2ludGVyLnN0eWxlLmxlZnQgPSAoeCAtIDcpICsgJ3B4JztcbiAgICAgICAgICAgIHRoaXMuc2xQb2ludGVyLnN0eWxlLnRvcCA9ICh5IC0gNykgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZChSR0IsIGMpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvbk1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyByaW11b3ZvIGkgbGlzdGVuZXIsIHZlcnJhbm5vIHJpYXR0aXZhdGkgYWwgcHJvc3NpbW8gbW91c2Vkb3duXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbW91c2UgZG93biBzdWwgY2FudmFzOiBpbnRlcmNldHRvIGlsIG1vdmltZW50bywgc21ldHRvIGFwcGVuYSBpbCBtb3VzZSB2aWVuZSBzb2xsZXZhdG9cbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgICAgICBvbk1vdXNlTW92ZShlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXR1cEFscGhhQ2FudmFzKGNhbnZhcykge1xuICAgICAgICBjYW52YXMud2lkdGggPSBBTFBIQV9CQVJfU0laRVswXTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IEFMUEhBX0JBUl9TSVpFWzFdO1xuICAgICAgICAvLyBkaXNlZ25vIHN1bCBjYW52YXMgY29uIHVuIGdyYWRpZW50ZSBjaGUgdmEgZGFsbGEgcGllbmEgdHJhc3BhcmVuemEgYWwgcGllbm8gb3BhY29cbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgICAgICAgICBncmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCBjYW52YXMud2lkdGggLSAxLCAwKTtcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIGBoc2xhKDAsIDAlLCA1MCUsIDApYCk7XG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBgaHNsYSgwLCAwJSwgNTAlLCAxKWApO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBBTFBIQV9CQVJfU0laRVswXSwgQUxQSEFfQkFSX1NJWkVbMV0pO1xuICAgICAgICAvLyBnZXN0aXNjbyBnbGkgZXZlbnRpIHBlciBsYSBzZWxlemlvbmUgZGVsIHZhbG9yZSBlIHNlZ25hbG8gaWwgY2FtYmlhbWVudG8gdHJhbWl0ZSBjYWxsYmFrXG4gICAgICAgIC8vIHVuYSB2b2x0YSBjaGUgaWwgcHVudGF0b3JlIMOoIHByZW11dG8gc3VsIGNhbnZhcyAobW91c2Vkb3duKSBcbiAgICAgICAgLy8gaW50ZXJjZXR0byBsZSB2YXJpYXppb25pIG5lbGxhIHBvc2l6aW9uZSBkZWwgcHVudGF0b3JlIChtb3VzZW1vdmUpXG4gICAgICAgIC8vIHJlbGF0aXZhbWVudGUgYWwgZG9jdW1lbnQsIGluIG1vZG8gY2hlIGlsIHB1bnRhdG9yZSBpbiBtb3ZpbWVudG8gcG9zc2EgdXNjaXJlIGRhbCBjYW52YXNcbiAgICAgICAgLy8gdW5hIHZvbHRhIHNvbGxldmF0byAobW91c2V1cCkgZWxpbWlubyBpIGxpc3RlbmVyXG4gICAgICAgIGNvbnN0IG9uTW91c2VNb3ZlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBsaW1pdChlLmNsaWVudFggLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwgMCwgQUxQSEFfQkFSX1NJWkVbMF0pLFxuICAgICAgICAgICAgICAgIGFscGhhID0gKyh4IC8gQUxQSEFfQkFSX1NJWkVbMF0pLnRvRml4ZWQoMik7XG4gICAgICAgICAgICB0aGlzLmFscGhhUG9pbnRlci5zdHlsZS5sZWZ0ID0gKHggLSA3KSArICdweCc7XG4gICAgICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKEFMUEhBLCBhbHBoYSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uTW91c2VVcCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHJpbXVvdm8gaSBsaXN0ZW5lciwgdmVycmFubm8gcmlhdHRpdmF0aSBhbCBwcm9zc2ltbyBtb3VzZWRvd25cbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgICAgICB9O1xuICAgICAgICAvLyBtb3VzZSBkb3duIHN1bCBjYW52YXM6IGludGVyY2V0dG8gaWwgbW92aW1lbnRvLCBzbWV0dG8gYXBwZW5hIGlsIG1vdXNlIHZpZW5lIHNvbGxldmF0b1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIG9uTW91c2VNb3ZlKGUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldHVwSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbWluID0gK2lucHV0Lm1pbixcbiAgICAgICAgICAgIG1heCA9ICtpbnB1dC5tYXgsXG4gICAgICAgICAgICBwcm9wID0gaW5wdXQubmFtZTtcbiAgICAgICAgaWYgKGlucHV0Lmhhc0F0dHJpYnV0ZSgnc2VsZWN0LW9uLWZvY3VzJykpIHtcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vbm9uIGZ1bnppb25hIGluIElFL0VkZ2VcbiAgICAgICAgICAgICAgICBpbnB1dC5zZWxlY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKHByb3AsIGlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKElTX0VER0UgfHwgSVNfSUUxMSkge1xuICAgICAgICAgICAgICAgIC8vIGVkZ2UgbW9kaWZpY2EgaWwgdmFsb3JlIGNvbiBsZSBmcmVjY2UgTUEgbm9uIHNjYXRlbmEgbCdldmVudG8gY2hhbmdlXG4gICAgICAgICAgICAgICAgLy8gcXVpbmRpIGxlIGludGVyY2V0dG8gaW1wb3N0YW5kbyBlLnJldHVyblZhbHVlIGEgZmFsc2UgaW4gbW9kb1xuICAgICAgICAgICAgICAgIC8vIGNoZSBub24gaWwgdmFsb3JlIG5vbiB2ZW5nYSBtb2RpZmljYXRvIGFuY2hlIGRhIGVkZ2Ugc3ViaXRvIGRvcG8gaWwga2V5ZG93blxuICAgICAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdVcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gbGltaXQoKCtpbnB1dC52YWx1ZSkgKyAxLCBtaW4sIG1heCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKHByb3AsIGlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0Rvd24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGxpbWl0KCgraW5wdXQudmFsdWUpIC0gMSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZChwcm9wLCBpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICtpbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKHByb3AsIGxpbWl0KHZhbHVlLCBtaW4sIG1heCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cENsaXBib2FyZChpbnB1dCkge1xuICAgICAgICAvLyBsJ2lucHV0IHJpY29wcmUgY29tcGxldGFtZW50ZSBsYSBwcmV2aWV3IG1hIMOoIHRvdGFsbWVudGUgdHJhc3BhcmVudGVcbiAgICAgICAgaW5wdXQudGl0bGUgPSAnY2xpY2sgdG8gY29weSc7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgICAgICAvLyBub24gdXNvIGRpcmV0dGFtZW50ZSBpbnB1dFJHQkhFWCBwZXJjaMOoIHBvdHJlYmJlIGNvbnRlbmVyZSB1biBjb2xvcmUgbm9uIHZhbGlkb1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSByZ2JUb0hleCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgIGlucHV0LnNlbGVjdCgpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UGFsZXR0ZShyb3cpIHtcbiAgICAgICAgLy8gcGFsZXR0ZSDDqCB1bmEgY29waWEgZGkgdGhpcy5vcHRpb25zLnBhbGV0dGVcbiAgICAgICAgY29uc3QgcGFsZXR0ZSA9IGVuc3VyZUFycmF5KHRoaXMub3B0aW9ucy5wYWxldHRlKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYWxldHRlRWRpdGFibGUgfHwgcGFsZXR0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhZGRDb2xvclRvUGFsZXR0ZSA9IChoZXgsIHJlZkVsZW1lbnQsIGZpcmUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBzZSBpbCBjb2xvcmUgw6ggZ2nDoCBwcmVzZW50ZSwgbm9uIGNyZW8gdW4gbnVvdm8gPGRpdj4gbWEgc3Bvc3RvIHF1ZWxsbyBlc2lzdGVudGUgaW4gY29kYVxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5hLWNvbG9yLXBpY2tlci1wYWxldHRlLWNvbG9yW2RhdGEtY29sb3I9XCInICsgaGV4ICsgJ1wiXScpIHx8XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9ICdhLWNvbG9yLXBpY2tlci1wYWxldHRlLWNvbG9yJztcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBoZXg7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJywgaGV4KTtcbiAgICAgICAgICAgICAgICBlbC50aXRsZSA9IGhleDtcbiAgICAgICAgICAgICAgICByb3cuaW5zZXJ0QmVmb3JlKGVsLCByZWZFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUGFsZXR0ZUNvbG9yQWRkKGhleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUNvbG9yVG9QYWxldHRlID0gKGVsZW1lbnQsIGZpcmUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBzZSBlbGVtZW50IMOoIG51bGxvIGVsaW1pbm8gdHV0dGkgaSBjb2xvcmlcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByb3cucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUGFsZXR0ZUNvbG9yUmVtb3ZlKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hLWNvbG9yLXBpY2tlci1wYWxldHRlLWNvbG9yW2RhdGEtY29sb3JdJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25QYWxldHRlQ29sb3JSZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBzb2xvIGkgY29sb3JpIHZhbGlkaSB2ZW5nb25vIGFnZ2l1bnRpIGFsbGEgcGFsZXR0ZVxuICAgICAgICAgICAgcGFsZXR0ZVxuICAgICAgICAgICAgICAgIC5tYXAocCA9PiBwICYmIHBhcnNlQ29sb3JUb1JnYihwKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGMgPT4gISFjKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGMgPT4gYWRkQ29sb3JUb1BhbGV0dGUocmdiVG9IZXgoLi4uYykpKTtcbiAgICAgICAgICAgIC8vIGluIGNhc28gZGkgcGFsZXR0ZSBlZGl0YWJpbGUgdmllbmUgYWdnaXVudG8gdW4gcHVsc2FudGUgKyBjaGUgc2VydmUgYWQgYWdnaXVuZ2VyZSBpbCBjb2xvcmUgY29ycmVudGVcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFsZXR0ZUVkaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc05hbWUgPSAnYS1jb2xvci1waWNrZXItcGFsZXR0ZS1jb2xvciBhLWNvbG9yLXBpY2tlci1wYWxldHRlLWFkZCc7XG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gJysnO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgvYS1jb2xvci1waWNrZXItcGFsZXR0ZS1hZGQvLnRlc3QoZS50YXJnZXQuY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcmltdW92ZXJlIHR1dHRpIGkgY29sb3JpICg/KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ29sb3JUb1BhbGV0dGUobnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZ2dpdW5nbyBpbCBjb2xvcmUgZSB0cmlnZ2VybyBsJ2V2ZW50byAnb25jb2xvcmFkZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENvbG9yVG9QYWxldHRlKHJnYlRvSGV4KHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpLCBlLnRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9hLWNvbG9yLXBpY2tlci1wYWxldHRlLWNvbG9yLy50ZXN0KGUudGFyZ2V0LmNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJpbXVvdm8gaWwgY29sb3JlIGUgdHJpZ2dlcm8gbCdldmVudG8gJ29uY29sb3JyZW1vdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb2xvclRvUGFsZXR0ZShlLnRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2aXN0byBjaGUgaWwgY29sb3JlIGxldHRvIGRhIGJhY2tncm91bmRDb2xvciByaXN1bHRhIG5lbCBmb3JtYXRvIHJnYigpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkZXZvIHVzYXJlIGlsIHZhbG9yZSBoZXggb3JpZ2luYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKENPTE9SLCBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxhIHBhbGV0dGUgY29uIGkgY29sb3JpIHByZWRlZmluaXRpIHZpZW5lIG5hc2NvbnN0YSBzZSBub24gY2kgc29ubyBjb2xvcmlcbiAgICAgICAgICAgIHJvdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25WYWx1ZUNoYW5nZWQocHJvcCwgdmFsdWUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2cocHJvcCwgdmFsdWUpO1xuICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICAgIGNhc2UgSFVFOlxuICAgICAgICAgICAgICAgIHRoaXMuSCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIFt0aGlzLlIsIHRoaXMuRywgdGhpcy5CXSA9IGhzbFRvUmdiKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2xCYXJIZWxwZXIuc2V0SHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJIKHRoaXMuSCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dEhTTCh0aGlzLkgsIHRoaXMuUywgdGhpcy5MKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0UkdCKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRSR0JIRVgodGhpcy5SLCB0aGlzLkcsIHRoaXMuQik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNBVFVSQVRJT046XG4gICAgICAgICAgICAgICAgdGhpcy5TID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgW3RoaXMuUiwgdGhpcy5HLCB0aGlzLkJdID0gaHNsVG9SZ2IodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2ludGVyU0wodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dEhTTCh0aGlzLkgsIHRoaXMuUywgdGhpcy5MKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0UkdCKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRSR0JIRVgodGhpcy5SLCB0aGlzLkcsIHRoaXMuQik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIExVTUlOQU5DRTpcbiAgICAgICAgICAgICAgICB0aGlzLkwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBbdGhpcy5SLCB0aGlzLkcsIHRoaXMuQl0gPSBoc2xUb1JnYih0aGlzLkgsIHRoaXMuUywgdGhpcy5MKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJTTCh0aGlzLkgsIHRoaXMuUywgdGhpcy5MKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0SFNMKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRSR0IodGhpcy5SLCB0aGlzLkcsIHRoaXMuQik7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFJHQkhFWCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUkVEOlxuICAgICAgICAgICAgICAgIHRoaXMuUiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIFt0aGlzLkgsIHRoaXMuUywgdGhpcy5MXSA9IHJnYlRvSHNsKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2xCYXJIZWxwZXIuc2V0SHVlKHRoaXMuSCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2ludGVySCh0aGlzLkgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlclNMKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRIU0wodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFJHQkhFWCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR1JFRU46XG4gICAgICAgICAgICAgICAgdGhpcy5HID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgW3RoaXMuSCwgdGhpcy5TLCB0aGlzLkxdID0gcmdiVG9Ic2wodGhpcy5SLCB0aGlzLkcsIHRoaXMuQik7XG4gICAgICAgICAgICAgICAgdGhpcy5zbEJhckhlbHBlci5zZXRIdWUodGhpcy5IKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJIKHRoaXMuSCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2ludGVyU0wodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dEhTTCh0aGlzLkgsIHRoaXMuUywgdGhpcy5MKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0UkdCSEVYKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBCTFVFOlxuICAgICAgICAgICAgICAgIHRoaXMuQiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIFt0aGlzLkgsIHRoaXMuUywgdGhpcy5MXSA9IHJnYlRvSHNsKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2xCYXJIZWxwZXIuc2V0SHVlKHRoaXMuSCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2ludGVySCh0aGlzLkgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlclNMKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRIU0wodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFJHQkhFWCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUkdCOlxuICAgICAgICAgICAgICAgIFt0aGlzLlIsIHRoaXMuRywgdGhpcy5CXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIFt0aGlzLkgsIHRoaXMuUywgdGhpcy5MXSA9IHJnYlRvSHNsKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRIU0wodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFJHQih0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0UkdCSEVYKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSR0JBX1VTRVI6XG4gICAgICAgICAgICAgICAgW3RoaXMuUiwgdGhpcy5HLCB0aGlzLkIsIHRoaXMuQV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBbdGhpcy5ILCB0aGlzLlMsIHRoaXMuTF0gPSByZ2JUb0hzbCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNsQmFySGVscGVyLnNldEh1ZSh0aGlzLkgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlckgodGhpcy5IKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJTTCh0aGlzLkgsIHRoaXMuUywgdGhpcy5MKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0SFNMKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRSR0IodGhpcy5SLCB0aGlzLkcsIHRoaXMuQik7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFJHQkhFWCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJBKHRoaXMuQSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEhTTEFfVVNFUjpcbiAgICAgICAgICAgICAgICBbdGhpcy5ILCB0aGlzLlMsIHRoaXMuTCwgdGhpcy5BXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIFt0aGlzLlIsIHRoaXMuRywgdGhpcy5CXSA9IGhzbFRvUmdiKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2xCYXJIZWxwZXIuc2V0SHVlKHRoaXMuSCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2ludGVySCh0aGlzLkgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlclNMKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRIU0wodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFJHQih0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0UkdCSEVYKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlckEodGhpcy5BKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUkdCSEVYOlxuICAgICAgICAgICAgICAgIFt0aGlzLlIsIHRoaXMuRywgdGhpcy5CXSA9IGNzc0NvbG9yVG9SZ2IodmFsdWUpIHx8IFt0aGlzLlIsIHRoaXMuRywgdGhpcy5CXTtcbiAgICAgICAgICAgICAgICBbdGhpcy5ILCB0aGlzLlMsIHRoaXMuTF0gPSByZ2JUb0hzbCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNsQmFySGVscGVyLnNldEh1ZSh0aGlzLkgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlckgodGhpcy5IKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJTTCh0aGlzLkgsIHRoaXMuUywgdGhpcy5MKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0SFNMKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRSR0IodGhpcy5SLCB0aGlzLkcsIHRoaXMuQik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENPTE9SOlxuICAgICAgICAgICAgICAgIFt0aGlzLlIsIHRoaXMuRywgdGhpcy5CLCB0aGlzLkFdID0gcGFyc2VDb2xvclRvUmdiYSh2YWx1ZSkgfHwgWzAsIDAsIDAsIDFdO1xuICAgICAgICAgICAgICAgIFt0aGlzLkgsIHRoaXMuUywgdGhpcy5MXSA9IHJnYlRvSHNsKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2xCYXJIZWxwZXIuc2V0SHVlKHRoaXMuSCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2ludGVySCh0aGlzLkgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlclNMKHRoaXMuSCwgdGhpcy5TLCB0aGlzLkwpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRIU0wodGhpcy5ILCB0aGlzLlMsIHRoaXMuTCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFJHQih0aGlzLlIsIHRoaXMuRywgdGhpcy5CKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0UkdCSEVYKHRoaXMuUiwgdGhpcy5HLCB0aGlzLkIpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRlckEodGhpcy5BKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQUxQSEE6XG4gICAgICAgICAgICAgICAgdGhpcy5BID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkNvbG9yQ2hhbmdlZCh0aGlzLlIsIHRoaXMuRywgdGhpcy5CLCB0aGlzLkEpO1xuICAgIH1cblxuICAgIG9uQ29sb3JDaGFuZ2VkKHIsIGcsIGIsIGEpIHtcbiAgICAgICAgaWYgKGEgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgcmdiKCR7cn0sJHtnfSwke2J9KWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYHJnYmEoJHtyfSwke2d9LCR7Yn0sJHthfSlgO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25jaGFuZ2UgJiYgdGhpcy5vbmNoYW5nZSgpO1xuICAgIH1cblxuICAgIG9uUGFsZXR0ZUNvbG9yQWRkKGNvbG9yKSB7XG4gICAgICAgIHRoaXMub25jb2xvcmFkZCAmJiB0aGlzLm9uY29sb3JhZGQoY29sb3IpO1xuICAgIH1cblxuICAgIG9uUGFsZXR0ZUNvbG9yUmVtb3ZlKGNvbG9yKSB7XG4gICAgICAgIHRoaXMub25jb2xvcnJlbW92ZSAmJiB0aGlzLm9uY29sb3JyZW1vdmUoY29sb3IpO1xuICAgIH1cblxuICAgIHVwZGF0ZUlucHV0SFNMKGgsIHMsIGwpIHtcbiAgICAgICAgdGhpcy5pbnB1dEgudmFsdWUgPSBoO1xuICAgICAgICB0aGlzLmlucHV0Uy52YWx1ZSA9IHM7XG4gICAgICAgIHRoaXMuaW5wdXRMLnZhbHVlID0gbDtcbiAgICB9XG5cbiAgICB1cGRhdGVJbnB1dFJHQihyLCBnLCBiKSB7XG4gICAgICAgIHRoaXMuaW5wdXRSLnZhbHVlID0gcjtcbiAgICAgICAgdGhpcy5pbnB1dEcudmFsdWUgPSBnO1xuICAgICAgICB0aGlzLmlucHV0Qi52YWx1ZSA9IGI7XG4gICAgfVxuXG4gICAgdXBkYXRlSW5wdXRSR0JIRVgociwgZywgYikge1xuICAgICAgICB0aGlzLmlucHV0UkdCSEVYLnZhbHVlID0gcmdiVG9IZXgociwgZywgYik7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9pbnRlckgoaCkge1xuICAgICAgICBjb25zdCB4ID0gSFVFX0JBUl9TSVpFWzBdICogaCAvIDM2MDtcbiAgICAgICAgdGhpcy5odWVQb2ludGVyLnN0eWxlLmxlZnQgPSAoeCAtIDcpICsgJ3B4JztcbiAgICB9XG5cbiAgICB1cGRhdGVQb2ludGVyU0woaCwgcywgbCkge1xuICAgICAgICBjb25zdCBbciwgZywgYl0gPSBoc2xUb1JnYihoLCBzLCBsKTtcbiAgICAgICAgY29uc3QgW3gsIHldID0gdGhpcy5zbEJhckhlbHBlci5maW5kQ29sb3IociwgZywgYik7XG4gICAgICAgIGlmICh4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2xQb2ludGVyLnN0eWxlLmxlZnQgPSAoeCAtIDcpICsgJ3B4JztcbiAgICAgICAgICAgIHRoaXMuc2xQb2ludGVyLnN0eWxlLnRvcCA9ICh5IC0gNykgKyAncHgnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUG9pbnRlckEoYSkge1xuICAgICAgICBjb25zdCB4ID0gQUxQSEFfQkFSX1NJWkVbMF0gKiBhO1xuICAgICAgICB0aGlzLmFscGhhUG9pbnRlci5zdHlsZS5sZWZ0ID0gKHggLSA3KSArICdweCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3cmFwRXZlbnRDYWxsYmFjayhjdHJsLCBwaWNrZXIsIGV2ZW50TmFtZSwgY2IpIHtcbiAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBpY2tlclsnb24nICsgZXZlbnROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2IuY2FsbChudWxsLCBjdHJsLCAuLi5hcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBpY2tlclsnb24nICsgZXZlbnROYW1lXSA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWEgaWwgY29sb3IgcGlja2VyLlxuICogTGUgb3B6aW9uaSBzb25vOlxuICogLSBhdHRhY2hUbzogZWxlbWVudG8gRE9NIGFsIHF1YWxlIGFnZ2l1bmdlcmUgaWwgcGlja2VyIChkZWZhdWx0ICdib2R5JylcbiAqIC0gc2hvd0hTTDogaW5kaWNhIHNlIG1vc3RyYXJlIGkgY2FtcGkgcGVyIGxhIGRlZmluaXppb25lIGRlbCBjb2xvcmUgaW4gZm9ybWF0byBIU0wgKGRlZmF1bHQgdHJ1ZSlcbiAqIC0gc2hvd1JHQjogaW5kaWNhIHNlIG1vc3RyYXJlIGkgY2FtcGkgcGVyIGxhIGRlZmluaXppb25lIGRlbCBjb2xvcmUgaW4gZm9ybWF0byBSR0IgKGRlZmF1bHQgdHJ1ZSlcbiAqIC0gc2hvd0hFWDogaW5kaWNhIHNlIG1vc3RyYXJlIGkgY2FtcGkgcGVyIGxhIGRlZmluaXppb25lIGRlbCBjb2xvcmUgaW4gZm9ybWF0byBSR0IgSEVYIChkZWZhdWx0IHRydWUpXG4gKiAtIGNvbG9yOiBjb2xvcmUgaW5pemlhbGUgKGRlZmF1bHQgJyNmZjAwMDAnKVxuICpcbiAqIEBwYXJhbSAgICAgIHtPYmplY3R9ICAgICAgICAgIGNvbnRhaW5lciBVbiBlbGVtZW50byBIVE1MIGNoZSBhbmRyw6AgYSBjb250ZW5lcmUgaWwgcGlja2VyXG4gKlxuICogb3BwdXJlXG4gKlxuICogQHBhcmFtICAgICAge09iamVjdH0gICAgICAgICAgb3B0aW9ucyAgTGUgb3B6aW9uaSBkaSBjcmVhemlvbmVcbiAqIEByZXR1cm4gICAgIHtPYmplY3R9ICAgICAgICAgIHJpdG9ybmEgdW4gY29udHJvbGxlciBwZXIgaW1wb3N0YXJlIGUgcmVjdXBlcmFyZSBpbCBjb2xvcmUgY29ycmVudGUgZGVsIHBpY2tlclxuICovXG5mdW5jdGlvbiBjcmVhdGVQaWNrZXIob3B0aW9ucykge1xuICAgIGNvbnN0IHBpY2tlciA9IG5ldyBDb2xvclBpY2tlcihvcHRpb25zKTtcbiAgICBjb25zdCBjYkV2ZW50cyA9IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldCBwaWNrZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyLmVsZW1lbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IHJnYigpIHtcbiAgICAgICAgICAgIHJldHVybiBbcGlja2VyLlIsIHBpY2tlci5HLCBwaWNrZXIuQl07XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0IHJnYihbciwgZywgYl0pIHtcbiAgICAgICAgICAgIFtyLCBnLCBiXSA9IFtsaW1pdChyLCAwLCAyNTUpLCBsaW1pdChnLCAwLCAyNTUpLCBsaW1pdChiLCAwLCAyNTUpXTtcbiAgICAgICAgICAgIHBpY2tlci5vblZhbHVlQ2hhbmdlZChSR0JBX1VTRVIsIFtyLCBnLCBiLCAxXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IGhzbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBbcGlja2VyLkgsIHBpY2tlci5TLCBwaWNrZXIuTF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0IGhzbChbaCwgcywgbF0pIHtcbiAgICAgICAgICAgIFtoLCBzLCBsXSA9IFtsaW1pdChoLCAwLCAzNjApLCBsaW1pdChzLCAwLCAxMDApLCBsaW1pdChsLCAwLCAxMDApXTtcbiAgICAgICAgICAgIHBpY2tlci5vblZhbHVlQ2hhbmdlZChIU0xBX1VTRVIsIFtoLCBzLCBsLCAxXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IHJnYmhleCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZ2JUb0hleChwaWNrZXIuUiwgcGlja2VyLkcsIHBpY2tlci5CKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXQgcmdiYSgpIHtcbiAgICAgICAgICAgIHJldHVybiBbcGlja2VyLlIsIHBpY2tlci5HLCBwaWNrZXIuQiwgcGlja2VyLkFdO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldCByZ2JhKFtyLCBnLCBiLCBhXSkge1xuICAgICAgICAgICAgW3IsIGcsIGIsIGFdID0gW2xpbWl0KHIsIDAsIDI1NSksIGxpbWl0KGcsIDAsIDI1NSksIGxpbWl0KGIsIDAsIDI1NSksIGxpbWl0KGEsIDAsIDEpXTtcbiAgICAgICAgICAgIHBpY2tlci5vblZhbHVlQ2hhbmdlZChSR0JBX1VTRVIsIFtyLCBnLCBiLCBhXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IGhzbGEoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3BpY2tlci5ILCBwaWNrZXIuUywgcGlja2VyLkwsIHBpY2tlci5BXTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQgaHNsYShbaCwgcywgbCwgYV0pIHtcbiAgICAgICAgICAgIFtoLCBzLCBsLCBhXSA9IFtsaW1pdChoLCAwLCAzNjApLCBsaW1pdChzLCAwLCAxMDApLCBsaW1pdChsLCAwLCAxMDApLCBsaW1pdChhLCAwLCAxKV07XG4gICAgICAgICAgICBwaWNrZXIub25WYWx1ZUNoYW5nZWQoSFNMQV9VU0VSLCBbaCwgcywgbCwgYV0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSaXRvcm5hIGlsIGNvbG9yZSBjb3JyZW50ZSBuZWwgZm9ybWF0byBSR0IgSEVYLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuICAgICB7c3RyaW5nfSAgY29sb3JyZSBjb3JyZW50ZSAoZXM6ICNmZmRkMDApXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgY29sb3IoKSB7XG4gICAgICAgICAgICBpZiAocGlja2VyLkEgPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZ2JoZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBgcmdiYSgke3BpY2tlci5SfSwke3BpY2tlci5HfSwke3BpY2tlci5CfSwke3BpY2tlci5BfSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBvc3RhIGlsIGNvbG9yZSBjb3JyZW50ZS5cbiAgICAgICAgICogQWNjZXR0YTpcbiAgICAgICAgICogLSBpbCBub21lIGRpIHVuIGNvbG9yZSAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2NvbG9yX3ZhbHVlKVxuICAgICAgICAgKiAtIHVuIGNvbG9yZSBlc3ByZXNzbyBuZWwgZm9ybWF0byBSR0IgSEVYIHNpYSBlc3Rlc28gKCNmZmRkMDApIGNoZSBjb21wYXR0byAoI2ZkMClcbiAgICAgICAgICogLSB1biBhcnJheSBkaSBpbnRlcmkgW1IsRyxCXVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gICAgICB7c3RyaW5nfGFycmF5fSAgY29sb3IgICBpbCBjb2xvcmVcbiAgICAgICAgICovXG4gICAgICAgIHNldCBjb2xvcihjb2xvcikge1xuICAgICAgICAgICAgcGlja2VyLm9uVmFsdWVDaGFuZ2VkKENPTE9SLCBjb2xvcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IG9uY2hhbmdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNiRXZlbnRzWydjaGFuZ2UnXTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQgb25jaGFuZ2UoY2IpIHtcbiAgICAgICAgICAgIHdyYXBFdmVudENhbGxiYWNrKHRoaXMsIHBpY2tlciwgJ2NoYW5nZScsIGNiKTtcbiAgICAgICAgICAgIGNiRXZlbnRzWydjaGFuZ2UnXSA9IGNiO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldCBvbmNvbG9yYWRkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNiRXZlbnRzWydjb2xvcmFkZCddO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldCBvbmNvbG9yYWRkKGNiKSB7XG4gICAgICAgICAgICB3cmFwRXZlbnRDYWxsYmFjayh0aGlzLCBwaWNrZXIsICdjb2xvcmFkZCcsIGNiKTtcbiAgICAgICAgICAgIGNiRXZlbnRzWydjb2xvcmFkZCddID0gY2I7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IG9uY29sb3JyZW1vdmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2JFdmVudHNbJ2NvbG9ycmVtb3ZlJ107XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0IG9uY29sb3JyZW1vdmUoY2IpIHtcbiAgICAgICAgICAgIHdyYXBFdmVudENhbGxiYWNrKHRoaXMsIHBpY2tlciwgJ2NvbG9ycmVtb3ZlJywgY2IpO1xuICAgICAgICAgICAgY2JFdmVudHNbJ2NvbG9ycmVtb3ZlJ10gPSBjYjtcbiAgICAgICAgfVxuXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGNyZWF0ZVBpY2tlcixcbiAgICBwYXJzZUNvbG9yVG9SZ2IsXG4gICAgcGFyc2VDb2xvclRvUmdiYSxcbiAgICByZ2JUb0hleCxcbiAgICBoc2xUb1JnYixcbiAgICByZ2JUb0hzbCxcbiAgICByZ2JUb0ludCxcbiAgICBpbnRUb1JnYixcbiAgICBDT0xPUl9OQU1FUyxcbiAgICBQQUxFVFRFX01BVEVSSUFMXzUwMCxcbiAgICBQQUxFVFRFX01BVEVSSUFMX0NIUk9NRVxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0NvbG9yUGlja2VyL0NvbG9yUGlja2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 17 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar COLOR_NAMES = { 'aliceblue': '#F0F8FF', 'antiquewhite': '#FAEBD7', 'aqua': '#00FFFF', 'aquamarine': '#7FFFD4', 'azure': '#F0FFFF', 'beige': '#F5F5DC', 'bisque': '#FFE4C4', 'black': '#000000', 'blanchedalmond': '#FFEBCD', 'blue': '#0000FF', 'blueviolet': '#8A2BE2', 'brown': '#A52A2A', 'burlywood': '#DEB887', 'cadetblue': '#5F9EA0', 'chartreuse': '#7FFF00', 'chocolate': '#D2691E', 'coral': '#FF7F50', 'cornflowerblue': '#6495ED', 'cornsilk': '#FFF8DC', 'crimson': '#DC143C', 'cyan': '#00FFFF', 'darkblue': '#00008B', 'darkcyan': '#008B8B', 'darkgoldenrod': '#B8860B', 'darkgray': '#A9A9A9', 'darkgrey': '#A9A9A9', 'darkgreen': '#006400', 'darkkhaki': '#BDB76B', 'darkmagenta': '#8B008B', 'darkolivegreen': '#556B2F', 'darkorange': '#FF8C00', 'darkorchid': '#9932CC', 'darkred': '#8B0000', 'darksalmon': '#E9967A', 'darkseagreen': '#8FBC8F', 'darkslateblue': '#483D8B', 'darkslategray': '#2F4F4F', 'darkslategrey': '#2F4F4F', 'darkturquoise': '#00CED1', 'darkviolet': '#9400D3', 'deeppink': '#FF1493', 'deepskyblue': '#00BFFF', 'dimgray': '#696969', 'dimgrey': '#696969', 'dodgerblue': '#1E90FF', 'firebrick': '#B22222', 'floralwhite': '#FFFAF0', 'forestgreen': '#228B22', 'fuchsia': '#FF00FF', 'gainsboro': '#DCDCDC', 'ghostwhite': '#F8F8FF', 'gold': '#FFD700', 'goldenrod': '#DAA520', 'gray': '#808080', 'grey': '#808080', 'green': '#008000', 'greenyellow': '#ADFF2F', 'honeydew': '#F0FFF0', 'hotpink': '#FF69B4', 'indianred ': '#CD5C5C', 'indigo ': '#4B0082', 'ivory': '#FFFFF0', 'khaki': '#F0E68C', 'lavender': '#E6E6FA', 'lavenderblush': '#FFF0F5', 'lawngreen': '#7CFC00', 'lemonchiffon': '#FFFACD', 'lightblue': '#ADD8E6', 'lightcoral': '#F08080', 'lightcyan': '#E0FFFF', 'lightgoldenrodyellow': '#FAFAD2', 'lightgray': '#D3D3D3', 'lightgrey': '#D3D3D3', 'lightgreen': '#90EE90', 'lightpink': '#FFB6C1', 'lightsalmon': '#FFA07A', 'lightseagreen': '#20B2AA', 'lightskyblue': '#87CEFA', 'lightslategray': '#778899', 'lightslategrey': '#778899', 'lightsteelblue': '#B0C4DE', 'lightyellow': '#FFFFE0', 'lime': '#00FF00', 'limegreen': '#32CD32', 'linen': '#FAF0E6', 'magenta': '#FF00FF', 'maroon': '#800000', 'mediumaquamarine': '#66CDAA', 'mediumblue': '#0000CD', 'mediumorchid': '#BA55D3', 'mediumpurple': '#9370DB', 'mediumseagreen': '#3CB371', 'mediumslateblue': '#7B68EE', 'mediumspringgreen': '#00FA9A', 'mediumturquoise': '#48D1CC', 'mediumvioletred': '#C71585', 'midnightblue': '#191970', 'mintcream': '#F5FFFA', 'mistyrose': '#FFE4E1', 'moccasin': '#FFE4B5', 'navajowhite': '#FFDEAD', 'navy': '#000080', 'oldlace': '#FDF5E6', 'olive': '#808000', 'olivedrab': '#6B8E23', 'orange': '#FFA500', 'orangered': '#FF4500', 'orchid': '#DA70D6', 'palegoldenrod': '#EEE8AA', 'palegreen': '#98FB98', 'paleturquoise': '#AFEEEE', 'palevioletred': '#DB7093', 'papayawhip': '#FFEFD5', 'peachpuff': '#FFDAB9', 'peru': '#CD853F', 'pink': '#FFC0CB', 'plum': '#DDA0DD', 'powderblue': '#B0E0E6', 'purple': '#800080', 'rebeccapurple': '#663399', 'red': '#FF0000', 'rosybrown': '#BC8F8F', 'royalblue': '#4169E1', 'saddlebrown': '#8B4513', 'salmon': '#FA8072', 'sandybrown': '#F4A460', 'seagreen': '#2E8B57', 'seashell': '#FFF5EE', 'sienna': '#A0522D', 'silver': '#C0C0C0', 'skyblue': '#87CEEB', 'slateblue': '#6A5ACD', 'slategray': '#708090', 'slategrey': '#708090', 'snow': '#FFFAFA', 'springgreen': '#00FF7F', 'steelblue': '#4682B4', 'tan': '#D2B48C', 'teal': '#008080', 'thistle': '#D8BFD8', 'tomato': '#FF6347', 'turquoise': '#40E0D0', 'violet': '#EE82EE', 'wheat': '#F5DEB3', 'white': '#FFFFFF', 'whitesmoke': '#F5F5F5', 'yellow': '#FFFF00', 'yellowgreen': '#9ACD32' };\nvar PALETTE_MATERIAL_500 = ['#F44336', '#E91E63', '#E91E63', '#9C27B0', '#9C27B0', '#673AB7', '#673AB7', '#3F51B5', '#3F51B5', '#2196F3', '#2196F3', '#03A9F4', '#03A9F4', '#00BCD4', '#00BCD4', '#009688', '#009688', '#4CAF50', '#4CAF50', '#8BC34A', '#8BC34A', '#CDDC39', '#CDDC39', '#FFEB3B', '#FFEB3B', '#FFC107', '#FFC107', '#FF9800', '#FF9800', '#FF5722', '#FF5722', '#795548', '#795548', '#9E9E9E', '#9E9E9E', '#607D8B', '#607D8B'];\nvar PALETTE_MATERIAL_CHROME = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722', '#795548', '#9e9e9e', '#607d8b'];\n\nfunction limit(value, min, max) {\n    value = +value;\n    return isNaN(value) ? min : value < min ? min : value > max ? max : value;\n}\n\nfunction nvl(value, def) {\n    return value === null || value === undefined ? def : value;\n}\n\nfunction ensureArray(arrayLike) {\n    if (!arrayLike) return [];\n    return Array.from(arrayLike);\n}\n\n/**\n * Converte il colore da [r,g,b] al formato RGB HEX.\n *\n * @param      {number}  r       rosso (0-255)\n * @param      {number}  g       verde (0-255)\n * @param      {number}  b       blu (0-255)\n * @return     {string}  colore nel fomrato RGB HX (es: #ffdd00)\n */\nfunction rgbToHex(r, g, b) {\n    var _ref = [limit(r, 0, 255), limit(g, 0, 255), limit(b, 0, 255)];\n    r = _ref[0];\n    g = _ref[1];\n    b = _ref[2];\n\n    return \"#\" + (\"000000\" + (r << 16 | g << 8 | b).toString(16)).slice(-6);\n}\n\n/**\n * Converte da HSL a RGB.\n * @see https://gist.github.com/mjackson/5311256\n *\n * @param      {number}                   h       hue 0-360\n * @param      {number}                   s       saturaion 0-100\n * @param      {(Function|number)}        l       luminance 0-100\n * @return     {Array}  un array con R(0-255) G(0-255) B(0-255)\n */\nfunction hslToRgb(h, s, l) {\n    var r = void 0,\n        g = void 0,\n        b = void 0;\n    var _ref2 = [limit(h, 0, 360) / 360, limit(s, 0, 100) / 100, limit(l, 0, 100) / 100];\n    h = _ref2[0];\n    s = _ref2[1];\n    l = _ref2[2];\n\n\n    if (s == 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var hue2rgb = function hue2rgb(p, q, t) {\n            if (t < 0) t += 1;\n            if (t > 1) t -= 1;\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\n            if (t < 1 / 2) return q;\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n            return p;\n        };\n\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [r * 255, g * 255, b * 255].map(Math.round);\n}\n\n/**\n * Converte da RGB a HSL.\n * @see https://gist.github.com/mjackson/5311256\n *\n * @param      {number}  r       rosso 0-255\n * @param      {number}  g       veerde 0-255\n * @param      {number}  b       blu 0-255\n * @return     {Array}   un array con H(0-360) S(0-100) L(0-100)\n */\nfunction rgbToHsl(r, g, b) {\n    var _ref3 = [limit(r, 0, 255) / 255, limit(g, 0, 255) / 255, limit(b, 0, 255) / 255];\n    r = _ref3[0];\n    g = _ref3[1];\n    b = _ref3[2];\n\n\n    var max = Math.max(r, g, b),\n        min = Math.min(r, g, b);\n    var h = void 0,\n        s = void 0,\n        l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0; // achromatic\n    } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n        }\n\n        h /= 6;\n    }\n\n    return [h * 360, s * 100, l * 100].map(Math.round);\n}\n\nfunction rgbToInt(r, g, b) {\n    return r << 16 | g << 8 | b;\n}\n\nfunction intToRgb(int) {\n    return [int >> 16 & 255, //r\n    int >> 8 & 255, //g\n    int & 255 //b\n    ];\n}\n\nexports.COLOR_NAMES = COLOR_NAMES;\nexports.PALETTE_MATERIAL_500 = PALETTE_MATERIAL_500;\nexports.PALETTE_MATERIAL_CHROME = PALETTE_MATERIAL_CHROME;\nexports.rgbToHex = rgbToHex;\nexports.hslToRgb = hslToRgb;\nexports.rgbToHsl = rgbToHsl;\nexports.rgbToInt = rgbToInt;\nexports.intToRgb = intToRgb;\nexports.limit = limit;\nexports.ensureArray = ensureArray;\nexports.nvl = nvl;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbG9yUGlja2VyL3V0aWxzLmpzP2ViMDYiXSwibmFtZXMiOlsiQ09MT1JfTkFNRVMiLCJQQUxFVFRFX01BVEVSSUFMXzUwMCIsIlBBTEVUVEVfTUFURVJJQUxfQ0hST01FIiwibGltaXQiLCJ2YWx1ZSIsIm1pbiIsIm1heCIsImlzTmFOIiwibnZsIiwiZGVmIiwidW5kZWZpbmVkIiwiZW5zdXJlQXJyYXkiLCJhcnJheUxpa2UiLCJBcnJheSIsImZyb20iLCJyZ2JUb0hleCIsInIiLCJnIiwiYiIsInRvU3RyaW5nIiwic2xpY2UiLCJoc2xUb1JnYiIsImgiLCJzIiwibCIsImh1ZTJyZ2IiLCJwIiwicSIsInQiLCJtYXAiLCJNYXRoIiwicm91bmQiLCJyZ2JUb0hzbCIsImQiLCJyZ2JUb0ludCIsImludFRvUmdiIiwiaW50Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLGNBQWMsRUFBRSxhQUFhLFNBQWYsRUFBMEIsZ0JBQWdCLFNBQTFDLEVBQXFELFFBQVEsU0FBN0QsRUFBd0UsY0FBYyxTQUF0RixFQUFpRyxTQUFTLFNBQTFHLEVBQXFILFNBQVMsU0FBOUgsRUFBeUksVUFBVSxTQUFuSixFQUE4SixTQUFTLFNBQXZLLEVBQWtMLGtCQUFrQixTQUFwTSxFQUErTSxRQUFRLFNBQXZOLEVBQWtPLGNBQWMsU0FBaFAsRUFBMlAsU0FBUyxTQUFwUSxFQUErUSxhQUFhLFNBQTVSLEVBQXVTLGFBQWEsU0FBcFQsRUFBK1QsY0FBYyxTQUE3VSxFQUF3VixhQUFhLFNBQXJXLEVBQWdYLFNBQVMsU0FBelgsRUFBb1ksa0JBQWtCLFNBQXRaLEVBQWlhLFlBQVksU0FBN2EsRUFBd2IsV0FBVyxTQUFuYyxFQUE4YyxRQUFRLFNBQXRkLEVBQWllLFlBQVksU0FBN2UsRUFBd2YsWUFBWSxTQUFwZ0IsRUFBK2dCLGlCQUFpQixTQUFoaUIsRUFBMmlCLFlBQVksU0FBdmpCLEVBQWtrQixZQUFZLFNBQTlrQixFQUF5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MkI7QUFDdkIsV0FBUUYsS0FBSyxFQUFOLEdBQWFDLEtBQUssQ0FBbEIsR0FBdUJDLENBQTlCO0FBQ0g7O0FBRUQsU0FBU2lCLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCO0FBQ25CLFdBQU8sQ0FDRkEsT0FBTyxFQUFSLEdBQWMsR0FEWCxFQUNnQjtBQUNsQkEsV0FBTyxDQUFSLEdBQWEsR0FGVixFQUVlO0FBQ2xCQSxVQUFNLEdBSEgsQ0FHTztBQUhQLEtBQVA7QUFLSDs7UUFHR3BDLFcsR0FBQUEsVztRQUNBQyxvQixHQUFBQSxvQjtRQUNBQyx1QixHQUFBQSx1QjtRQUNBYSxRLEdBQUFBLFE7UUFDQU0sUSxHQUFBQSxRO1FBQ0FXLFEsR0FBQUEsUTtRQUNBRSxRLEdBQUFBLFE7UUFDQUMsUSxHQUFBQSxRO1FBQ0FoQyxLLEdBQUFBLEs7UUFDQVEsVyxHQUFBQSxXO1FBQ0FILEcsR0FBQUEsRyIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENPTE9SX05BTUVTID0geyAnYWxpY2VibHVlJzogJyNGMEY4RkYnLCAnYW50aXF1ZXdoaXRlJzogJyNGQUVCRDcnLCAnYXF1YSc6ICcjMDBGRkZGJywgJ2FxdWFtYXJpbmUnOiAnIzdGRkZENCcsICdhenVyZSc6ICcjRjBGRkZGJywgJ2JlaWdlJzogJyNGNUY1REMnLCAnYmlzcXVlJzogJyNGRkU0QzQnLCAnYmxhY2snOiAnIzAwMDAwMCcsICdibGFuY2hlZGFsbW9uZCc6ICcjRkZFQkNEJywgJ2JsdWUnOiAnIzAwMDBGRicsICdibHVldmlvbGV0JzogJyM4QTJCRTInLCAnYnJvd24nOiAnI0E1MkEyQScsICdidXJseXdvb2QnOiAnI0RFQjg4NycsICdjYWRldGJsdWUnOiAnIzVGOUVBMCcsICdjaGFydHJldXNlJzogJyM3RkZGMDAnLCAnY2hvY29sYXRlJzogJyNEMjY5MUUnLCAnY29yYWwnOiAnI0ZGN0Y1MCcsICdjb3JuZmxvd2VyYmx1ZSc6ICcjNjQ5NUVEJywgJ2Nvcm5zaWxrJzogJyNGRkY4REMnLCAnY3JpbXNvbic6ICcjREMxNDNDJywgJ2N5YW4nOiAnIzAwRkZGRicsICdkYXJrYmx1ZSc6ICcjMDAwMDhCJywgJ2RhcmtjeWFuJzogJyMwMDhCOEInLCAnZGFya2dvbGRlbnJvZCc6ICcjQjg4NjBCJywgJ2RhcmtncmF5JzogJyNBOUE5QTknLCAnZGFya2dyZXknOiAnI0E5QTlBOScsICdkYXJrZ3JlZW4nOiAnIzAwNjQwMCcsICdkYXJra2hha2knOiAnI0JEQjc2QicsICdkYXJrbWFnZW50YSc6ICcjOEIwMDhCJywgJ2RhcmtvbGl2ZWdyZWVuJzogJyM1NTZCMkYnLCAnZGFya29yYW5nZSc6ICcjRkY4QzAwJywgJ2RhcmtvcmNoaWQnOiAnIzk5MzJDQycsICdkYXJrcmVkJzogJyM4QjAwMDAnLCAnZGFya3NhbG1vbic6ICcjRTk5NjdBJywgJ2RhcmtzZWFncmVlbic6ICcjOEZCQzhGJywgJ2RhcmtzbGF0ZWJsdWUnOiAnIzQ4M0Q4QicsICdkYXJrc2xhdGVncmF5JzogJyMyRjRGNEYnLCAnZGFya3NsYXRlZ3JleSc6ICcjMkY0RjRGJywgJ2Rhcmt0dXJxdW9pc2UnOiAnIzAwQ0VEMScsICdkYXJrdmlvbGV0JzogJyM5NDAwRDMnLCAnZGVlcHBpbmsnOiAnI0ZGMTQ5MycsICdkZWVwc2t5Ymx1ZSc6ICcjMDBCRkZGJywgJ2RpbWdyYXknOiAnIzY5Njk2OScsICdkaW1ncmV5JzogJyM2OTY5NjknLCAnZG9kZ2VyYmx1ZSc6ICcjMUU5MEZGJywgJ2ZpcmVicmljayc6ICcjQjIyMjIyJywgJ2Zsb3JhbHdoaXRlJzogJyNGRkZBRjAnLCAnZm9yZXN0Z3JlZW4nOiAnIzIyOEIyMicsICdmdWNoc2lhJzogJyNGRjAwRkYnLCAnZ2FpbnNib3JvJzogJyNEQ0RDREMnLCAnZ2hvc3R3aGl0ZSc6ICcjRjhGOEZGJywgJ2dvbGQnOiAnI0ZGRDcwMCcsICdnb2xkZW5yb2QnOiAnI0RBQTUyMCcsICdncmF5JzogJyM4MDgwODAnLCAnZ3JleSc6ICcjODA4MDgwJywgJ2dyZWVuJzogJyMwMDgwMDAnLCAnZ3JlZW55ZWxsb3cnOiAnI0FERkYyRicsICdob25leWRldyc6ICcjRjBGRkYwJywgJ2hvdHBpbmsnOiAnI0ZGNjlCNCcsICdpbmRpYW5yZWQgJzogJyNDRDVDNUMnLCAnaW5kaWdvICc6ICcjNEIwMDgyJywgJ2l2b3J5JzogJyNGRkZGRjAnLCAna2hha2knOiAnI0YwRTY4QycsICdsYXZlbmRlcic6ICcjRTZFNkZBJywgJ2xhdmVuZGVyYmx1c2gnOiAnI0ZGRjBGNScsICdsYXduZ3JlZW4nOiAnIzdDRkMwMCcsICdsZW1vbmNoaWZmb24nOiAnI0ZGRkFDRCcsICdsaWdodGJsdWUnOiAnI0FERDhFNicsICdsaWdodGNvcmFsJzogJyNGMDgwODAnLCAnbGlnaHRjeWFuJzogJyNFMEZGRkYnLCAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnOiAnI0ZBRkFEMicsICdsaWdodGdyYXknOiAnI0QzRDNEMycsICdsaWdodGdyZXknOiAnI0QzRDNEMycsICdsaWdodGdyZWVuJzogJyM5MEVFOTAnLCAnbGlnaHRwaW5rJzogJyNGRkI2QzEnLCAnbGlnaHRzYWxtb24nOiAnI0ZGQTA3QScsICdsaWdodHNlYWdyZWVuJzogJyMyMEIyQUEnLCAnbGlnaHRza3libHVlJzogJyM4N0NFRkEnLCAnbGlnaHRzbGF0ZWdyYXknOiAnIzc3ODg5OScsICdsaWdodHNsYXRlZ3JleSc6ICcjNzc4ODk5JywgJ2xpZ2h0c3RlZWxibHVlJzogJyNCMEM0REUnLCAnbGlnaHR5ZWxsb3cnOiAnI0ZGRkZFMCcsICdsaW1lJzogJyMwMEZGMDAnLCAnbGltZWdyZWVuJzogJyMzMkNEMzInLCAnbGluZW4nOiAnI0ZBRjBFNicsICdtYWdlbnRhJzogJyNGRjAwRkYnLCAnbWFyb29uJzogJyM4MDAwMDAnLCAnbWVkaXVtYXF1YW1hcmluZSc6ICcjNjZDREFBJywgJ21lZGl1bWJsdWUnOiAnIzAwMDBDRCcsICdtZWRpdW1vcmNoaWQnOiAnI0JBNTVEMycsICdtZWRpdW1wdXJwbGUnOiAnIzkzNzBEQicsICdtZWRpdW1zZWFncmVlbic6ICcjM0NCMzcxJywgJ21lZGl1bXNsYXRlYmx1ZSc6ICcjN0I2OEVFJywgJ21lZGl1bXNwcmluZ2dyZWVuJzogJyMwMEZBOUEnLCAnbWVkaXVtdHVycXVvaXNlJzogJyM0OEQxQ0MnLCAnbWVkaXVtdmlvbGV0cmVkJzogJyNDNzE1ODUnLCAnbWlkbmlnaHRibHVlJzogJyMxOTE5NzAnLCAnbWludGNyZWFtJzogJyNGNUZGRkEnLCAnbWlzdHlyb3NlJzogJyNGRkU0RTEnLCAnbW9jY2FzaW4nOiAnI0ZGRTRCNScsICduYXZham93aGl0ZSc6ICcjRkZERUFEJywgJ25hdnknOiAnIzAwMDA4MCcsICdvbGRsYWNlJzogJyNGREY1RTYnLCAnb2xpdmUnOiAnIzgwODAwMCcsICdvbGl2ZWRyYWInOiAnIzZCOEUyMycsICdvcmFuZ2UnOiAnI0ZGQTUwMCcsICdvcmFuZ2VyZWQnOiAnI0ZGNDUwMCcsICdvcmNoaWQnOiAnI0RBNzBENicsICdwYWxlZ29sZGVucm9kJzogJyNFRUU4QUEnLCAncGFsZWdyZWVuJzogJyM5OEZCOTgnLCAncGFsZXR1cnF1b2lzZSc6ICcjQUZFRUVFJywgJ3BhbGV2aW9sZXRyZWQnOiAnI0RCNzA5MycsICdwYXBheWF3aGlwJzogJyNGRkVGRDUnLCAncGVhY2hwdWZmJzogJyNGRkRBQjknLCAncGVydSc6ICcjQ0Q4NTNGJywgJ3BpbmsnOiAnI0ZGQzBDQicsICdwbHVtJzogJyNEREEwREQnLCAncG93ZGVyYmx1ZSc6ICcjQjBFMEU2JywgJ3B1cnBsZSc6ICcjODAwMDgwJywgJ3JlYmVjY2FwdXJwbGUnOiAnIzY2MzM5OScsICdyZWQnOiAnI0ZGMDAwMCcsICdyb3N5YnJvd24nOiAnI0JDOEY4RicsICdyb3lhbGJsdWUnOiAnIzQxNjlFMScsICdzYWRkbGVicm93bic6ICcjOEI0NTEzJywgJ3NhbG1vbic6ICcjRkE4MDcyJywgJ3NhbmR5YnJvd24nOiAnI0Y0QTQ2MCcsICdzZWFncmVlbic6ICcjMkU4QjU3JywgJ3NlYXNoZWxsJzogJyNGRkY1RUUnLCAnc2llbm5hJzogJyNBMDUyMkQnLCAnc2lsdmVyJzogJyNDMEMwQzAnLCAnc2t5Ymx1ZSc6ICcjODdDRUVCJywgJ3NsYXRlYmx1ZSc6ICcjNkE1QUNEJywgJ3NsYXRlZ3JheSc6ICcjNzA4MDkwJywgJ3NsYXRlZ3JleSc6ICcjNzA4MDkwJywgJ3Nub3cnOiAnI0ZGRkFGQScsICdzcHJpbmdncmVlbic6ICcjMDBGRjdGJywgJ3N0ZWVsYmx1ZSc6ICcjNDY4MkI0JywgJ3Rhbic6ICcjRDJCNDhDJywgJ3RlYWwnOiAnIzAwODA4MCcsICd0aGlzdGxlJzogJyNEOEJGRDgnLCAndG9tYXRvJzogJyNGRjYzNDcnLCAndHVycXVvaXNlJzogJyM0MEUwRDAnLCAndmlvbGV0JzogJyNFRTgyRUUnLCAnd2hlYXQnOiAnI0Y1REVCMycsICd3aGl0ZSc6ICcjRkZGRkZGJywgJ3doaXRlc21va2UnOiAnI0Y1RjVGNScsICd5ZWxsb3cnOiAnI0ZGRkYwMCcsICd5ZWxsb3dncmVlbic6ICcjOUFDRDMyJyB9O1xuY29uc3QgUEFMRVRURV9NQVRFUklBTF81MDAgPSBbJyNGNDQzMzYnLCAnI0U5MUU2MycsICcjRTkxRTYzJywgJyM5QzI3QjAnLCAnIzlDMjdCMCcsICcjNjczQUI3JywgJyM2NzNBQjcnLCAnIzNGNTFCNScsICcjM0Y1MUI1JywgJyMyMTk2RjMnLCAnIzIxOTZGMycsICcjMDNBOUY0JywgJyMwM0E5RjQnLCAnIzAwQkNENCcsICcjMDBCQ0Q0JywgJyMwMDk2ODgnLCAnIzAwOTY4OCcsICcjNENBRjUwJywgJyM0Q0FGNTAnLCAnIzhCQzM0QScsICcjOEJDMzRBJywgJyNDRERDMzknLCAnI0NEREMzOScsICcjRkZFQjNCJywgJyNGRkVCM0InLCAnI0ZGQzEwNycsICcjRkZDMTA3JywgJyNGRjk4MDAnLCAnI0ZGOTgwMCcsICcjRkY1NzIyJywgJyNGRjU3MjInLCAnIzc5NTU0OCcsICcjNzk1NTQ4JywgJyM5RTlFOUUnLCAnIzlFOUU5RScsICcjNjA3RDhCJywgJyM2MDdEOEInXTtcbmNvbnN0IFBBTEVUVEVfTUFURVJJQUxfQ0hST01FID0gWycjZjQ0MzM2JywgJyNlOTFlNjMnLCAnIzljMjdiMCcsICcjNjczYWI3JywgJyMzZjUxYjUnLCAnIzIxOTZmMycsICcjMDNhOWY0JywgJyMwMGJjZDQnLCAnIzAwOTY4OCcsICcjNGNhZjUwJywgJyM4YmMzNGEnLCAnI2NkZGMzOScsICcjZmZlYjNiJywgJyNmZmMxMDcnLCAnI2ZmOTgwMCcsICcjZmY1NzIyJywgJyM3OTU1NDgnLCAnIzllOWU5ZScsICcjNjA3ZDhiJ107XG5cbmZ1bmN0aW9uIGxpbWl0KHZhbHVlLCBtaW4sIG1heCkge1xuICAgIHZhbHVlID0gK3ZhbHVlO1xuICAgIHJldHVybiBpc05hTih2YWx1ZSkgPyBtaW4gOiAodmFsdWUgPCBtaW4gPyBtaW4gOiAodmFsdWUgPiBtYXggPyBtYXggOiB2YWx1ZSkpO1xufVxuXG5mdW5jdGlvbiBudmwodmFsdWUsIGRlZikge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZGVmIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUFycmF5KGFycmF5TGlrZSkge1xuICAgIGlmICghYXJyYXlMaWtlKSByZXR1cm4gW107XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyYXlMaWtlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0ZSBpbCBjb2xvcmUgZGEgW3IsZyxiXSBhbCBmb3JtYXRvIFJHQiBIRVguXG4gKlxuICogQHBhcmFtICAgICAge251bWJlcn0gIHIgICAgICAgcm9zc28gKDAtMjU1KVxuICogQHBhcmFtICAgICAge251bWJlcn0gIGcgICAgICAgdmVyZGUgKDAtMjU1KVxuICogQHBhcmFtICAgICAge251bWJlcn0gIGIgICAgICAgYmx1ICgwLTI1NSlcbiAqIEByZXR1cm4gICAgIHtzdHJpbmd9ICBjb2xvcmUgbmVsIGZvbXJhdG8gUkdCIEhYIChlczogI2ZmZGQwMClcbiAqL1xuZnVuY3Rpb24gcmdiVG9IZXgociwgZywgYikge1xuICAgIFtyLCBnLCBiXSA9IFtsaW1pdChyLCAwLCAyNTUpLCBsaW1pdChnLCAwLCAyNTUpLCBsaW1pdChiLCAwLCAyNTUpXTtcbiAgICByZXR1cm4gXCIjXCIgKyAoXCIwMDAwMDBcIiArICgociA8PCAxNikgfCAoZyA8PCA4KSB8IGIpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpO1xufVxuXG4vKipcbiAqIENvbnZlcnRlIGRhIEhTTCBhIFJHQi5cbiAqIEBzZWUgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbWphY2tzb24vNTMxMTI1NlxuICpcbiAqIEBwYXJhbSAgICAgIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgIGggICAgICAgaHVlIDAtMzYwXG4gKiBAcGFyYW0gICAgICB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICBzICAgICAgIHNhdHVyYWlvbiAwLTEwMFxuICogQHBhcmFtICAgICAgeyhGdW5jdGlvbnxudW1iZXIpfSAgICAgICAgbCAgICAgICBsdW1pbmFuY2UgMC0xMDBcbiAqIEByZXR1cm4gICAgIHtBcnJheX0gIHVuIGFycmF5IGNvbiBSKDAtMjU1KSBHKDAtMjU1KSBCKDAtMjU1KVxuICovXG5mdW5jdGlvbiBoc2xUb1JnYihoLCBzLCBsKSB7XG4gICAgbGV0IHIsIGcsIGI7XG4gICAgW2gsIHMsIGxdID0gW2xpbWl0KGgsIDAsIDM2MCkgLyAzNjAsIGxpbWl0KHMsIDAsIDEwMCkgLyAxMDAsIGxpbWl0KGwsIDAsIDEwMCkgLyAxMDBdO1xuXG4gICAgaWYgKHMgPT0gMCkge1xuICAgICAgICByID0gZyA9IGIgPSBsOyAvLyBhY2hyb21hdGljXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaHVlMnJnYiA9IChwLCBxLCB0KSA9PiB7XG4gICAgICAgICAgICBpZiAodCA8IDApIHQgKz0gMTtcbiAgICAgICAgICAgIGlmICh0ID4gMSkgdCAtPSAxO1xuICAgICAgICAgICAgaWYgKHQgPCAxIC8gNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgICAgICAgICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcTtcbiAgICAgICAgICAgIGlmICh0IDwgMiAvIDMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgICAgICBjb25zdCBwID0gKDIgKiBsKSAtIHE7XG5cbiAgICAgICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArICgxIC8gMykpO1xuICAgICAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtICgxIC8gMykpO1xuICAgIH1cblxuICAgIHJldHVybiBbciAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NV0ubWFwKE1hdGgucm91bmQpO1xufVxuXG4vKipcbiAqIENvbnZlcnRlIGRhIFJHQiBhIEhTTC5cbiAqIEBzZWUgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbWphY2tzb24vNTMxMTI1NlxuICpcbiAqIEBwYXJhbSAgICAgIHtudW1iZXJ9ICByICAgICAgIHJvc3NvIDAtMjU1XG4gKiBAcGFyYW0gICAgICB7bnVtYmVyfSAgZyAgICAgICB2ZWVyZGUgMC0yNTVcbiAqIEBwYXJhbSAgICAgIHtudW1iZXJ9ICBiICAgICAgIGJsdSAwLTI1NVxuICogQHJldHVybiAgICAge0FycmF5fSAgIHVuIGFycmF5IGNvbiBIKDAtMzYwKSBTKDAtMTAwKSBMKDAtMTAwKVxuICovXG5mdW5jdGlvbiByZ2JUb0hzbChyLCBnLCBiKSB7XG4gICAgW3IsIGcsIGJdID0gW2xpbWl0KHIsIDAsIDI1NSkgLyAyNTUsIGxpbWl0KGcsIDAsIDI1NSkgLyAyNTUsIGxpbWl0KGIsIDAsIDI1NSkgLyAyNTVdO1xuXG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYiksXG4gICAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgIGxldCBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgaWYgKG1heCA9PSBtaW4pIHtcbiAgICAgICAgaCA9IHMgPSAwOyAvLyBhY2hyb21hdGljXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZCA9IG1heCAtIG1pbjtcbiAgICAgICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuXG4gICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgICBjYXNlIHI6XG4gICAgICAgICAgICAgICAgaCA9ICgoZyAtIGIpIC8gZCkgKyAoZyA8IGIgPyA2IDogMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGc6XG4gICAgICAgICAgICAgICAgaCA9ICgoYiAtIHIpIC8gZCkgKyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgICAgIGggPSAoKHIgLSBnKSAvIGQpICsgNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGggLz0gNjtcbiAgICB9XG5cbiAgICByZXR1cm4gW2ggKiAzNjAsIHMgKiAxMDAsIGwgKiAxMDBdLm1hcChNYXRoLnJvdW5kKTtcbn1cblxuZnVuY3Rpb24gcmdiVG9JbnQociwgZywgYikge1xuICAgIHJldHVybiAociA8PCAxNikgfCAoZyA8PCA4KSB8IGI7XG59XG5cbmZ1bmN0aW9uIGludFRvUmdiKGludCkge1xuICAgIHJldHVybiBbXG4gICAgICAgIChpbnQgPj4gMTYpICYgMjU1LCAvL3JcbiAgICAgICAgKGludCA+PiA4KSAmIDI1NSwgLy9nXG4gICAgICAgIGludCAmIDI1NSAvL2JcbiAgICBdO1xufVxuXG5leHBvcnQge1xuICAgIENPTE9SX05BTUVTLFxuICAgIFBBTEVUVEVfTUFURVJJQUxfNTAwLFxuICAgIFBBTEVUVEVfTUFURVJJQUxfQ0hST01FLFxuICAgIHJnYlRvSGV4LFxuICAgIGhzbFRvUmdiLFxuICAgIHJnYlRvSHNsLFxuICAgIHJnYlRvSW50LFxuICAgIGludFRvUmdiLFxuICAgIGxpbWl0LFxuICAgIGVuc3VyZUFycmF5LFxuICAgIG52bFxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0NvbG9yUGlja2VyL3V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! nouislider - 11.1.0 - 2018-04-02 11:18:13 */\r\n\r\n(function (factory) {\r\n\r\n    if ( true ) {\r\n\r\n        // AMD. Register as an anonymous module.\r\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\r\n    } else if ( typeof exports === 'object' ) {\r\n\r\n        // Node/CommonJS\r\n        module.exports = factory();\r\n\r\n    } else {\r\n\r\n        // Browser globals\r\n        window.noUiSlider = factory();\r\n    }\r\n\r\n}(function( ){\r\n\r\n\t'use strict';\r\n\r\n\tvar VERSION = '11.1.0';\r\n\r\n\n\tfunction isValidFormatter ( entry ) {\n\t\treturn typeof entry === 'object' && typeof entry.to === 'function' && typeof entry.from === 'function';\n\t}\n\n\tfunction removeElement ( el ) {\n\t\tel.parentElement.removeChild(el);\n\t}\n\n\tfunction isSet ( value ) {\n\t\treturn value !== null && value !== undefined;\n\t}\n\n\t// Bindable version\n\tfunction preventDefault ( e ) {\n\t\te.preventDefault();\n\t}\n\n\t// Removes duplicates from an array.\n\tfunction unique ( array ) {\n\t\treturn array.filter(function(a){\n\t\t\treturn !this[a] ? this[a] = true : false;\n\t\t}, {});\n\t}\n\n\t// Round a value to the closest 'to'.\n\tfunction closest ( value, to ) {\n\t\treturn Math.round(value / to) * to;\n\t}\n\n\t// Current position of an element relative to the document.\n\tfunction offset ( elem, orientation ) {\n\n\t\tvar rect = elem.getBoundingClientRect();\n\t\tvar doc = elem.ownerDocument;\n\t\tvar docElem = doc.documentElement;\n\t\tvar pageOffset = getPageOffset(doc);\n\n\t\t// getBoundingClientRect contains left scroll in Chrome on Android.\n\t\t// I haven't found a feature detection that proves this. Worst case\n\t\t// scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n\t\tif ( /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) ) {\n\t\t\tpageOffset.x = 0;\n\t\t}\n\n\t\treturn orientation ? (rect.top + pageOffset.y - docElem.clientTop) : (rect.left + pageOffset.x - docElem.clientLeft);\n\t}\n\n\t// Checks whether a value is numerical.\n\tfunction isNumeric ( a ) {\n\t\treturn typeof a === 'number' && !isNaN( a ) && isFinite( a );\n\t}\n\n\t// Sets a class and removes it after [duration] ms.\n\tfunction addClassFor ( element, className, duration ) {\n\t\tif (duration > 0) {\n\t\taddClass(element, className);\n\t\t\tsetTimeout(function(){\n\t\t\t\tremoveClass(element, className);\n\t\t\t}, duration);\n\t\t}\n\t}\n\n\t// Limits a value to 0 - 100\n\tfunction limit ( a ) {\n\t\treturn Math.max(Math.min(a, 100), 0);\n\t}\n\n\t// Wraps a variable as an array, if it isn't one yet.\n\t// Note that an input array is returned by reference!\n\tfunction asArray ( a ) {\n\t\treturn Array.isArray(a) ? a : [a];\n\t}\n\n\t// Counts decimals\n\tfunction countDecimals ( numStr ) {\n\t\tnumStr = String(numStr);\n\t\tvar pieces = numStr.split(\".\");\n\t\treturn pieces.length > 1 ? pieces[1].length : 0;\n\t}\n\n\t// http://youmightnotneedjquery.com/#add_class\n\tfunction addClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.add(className);\n\t\t} else {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t}\n\n\t// http://youmightnotneedjquery.com/#remove_class\n\tfunction removeClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.remove(className);\n\t\t} else {\n\t\t\tel.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t\t}\n\t}\n\n\t// https://plainjs.com/javascript/attributes/adding-removing-and-testing-for-classes-9/\n\tfunction hasClass ( el, className ) {\n\t\treturn el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY#Notes\n\tfunction getPageOffset ( doc ) {\n\n\t\tvar supportPageOffset = window.pageXOffset !== undefined;\n\t\tvar isCSS1Compat = ((doc.compatMode || \"\") === \"CSS1Compat\");\n\t\tvar x = supportPageOffset ? window.pageXOffset : isCSS1Compat ? doc.documentElement.scrollLeft : doc.body.scrollLeft;\n\t\tvar y = supportPageOffset ? window.pageYOffset : isCSS1Compat ? doc.documentElement.scrollTop : doc.body.scrollTop;\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t}\n\r\n\t// we provide a function to compute constants instead\r\n\t// of accessing window.* as soon as the module needs it\r\n\t// so that we do not compute anything if not needed\r\n\tfunction getActions ( ) {\r\n\r\n\t\t// Determine the events to bind. IE11 implements pointerEvents without\r\n\t\t// a prefix, which breaks compatibility with the IE10 implementation.\r\n\t\treturn window.navigator.pointerEnabled ? {\r\n\t\t\tstart: 'pointerdown',\r\n\t\t\tmove: 'pointermove',\r\n\t\t\tend: 'pointerup'\r\n\t\t} : window.navigator.msPointerEnabled ? {\r\n\t\t\tstart: 'MSPointerDown',\r\n\t\t\tmove: 'MSPointerMove',\r\n\t\t\tend: 'MSPointerUp'\r\n\t\t} : {\r\n\t\t\tstart: 'mousedown touchstart',\r\n\t\t\tmove: 'mousemove touchmove',\r\n\t\t\tend: 'mouseup touchend'\r\n\t\t};\r\n\t}\r\n\r\n\t// https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\r\n\t// Issue #785\r\n\tfunction getSupportsPassive ( ) {\r\n\r\n\t\tvar supportsPassive = false;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tvar opts = Object.defineProperty({}, 'passive', {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\tsupportsPassive = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\twindow.addEventListener('test', null, opts);\r\n\r\n\t\t} catch (e) {}\r\n\r\n\t\treturn supportsPassive;\r\n\t}\r\n\r\n\tfunction getSupportsTouchActionNone ( ) {\r\n\t\treturn window.CSS && CSS.supports && CSS.supports('touch-action', 'none');\r\n\t}\r\n\r\n\r\n// Value calculation\r\n\r\n\t// Determine the size of a sub-range in relation to a full range.\r\n\tfunction subRangeRatio ( pa, pb ) {\r\n\t\treturn (100 / (pb - pa));\r\n\t}\r\n\r\n\t// (percentage) How many percent is this value of this range?\r\n\tfunction fromPercentage ( range, value ) {\r\n\t\treturn (value * 100) / ( range[1] - range[0] );\r\n\t}\r\n\r\n\t// (percentage) Where is this value on this range?\r\n\tfunction toPercentage ( range, value ) {\r\n\t\treturn fromPercentage( range, range[0] < 0 ?\r\n\t\t\tvalue + Math.abs(range[0]) :\r\n\t\t\t\tvalue - range[0] );\r\n\t}\r\n\r\n\t// (value) How much is this percentage on this range?\r\n\tfunction isPercentage ( range, value ) {\r\n\t\treturn ((value * ( range[1] - range[0] )) / 100) + range[0];\r\n\t}\r\n\r\n\r\n// Range conversion\r\n\r\n\tfunction getJ ( value, arr ) {\r\n\r\n\t\tvar j = 1;\r\n\r\n\t\twhile ( value >= arr[j] ){\r\n\t\t\tj += 1;\r\n\t\t}\r\n\r\n\t\treturn j;\r\n\t}\r\n\r\n\t// (percentage) Input a value, find where, on a scale of 0-100, it applies.\r\n\tfunction toStepping ( xVal, xPct, value ) {\r\n\r\n\t\tif ( value >= xVal.slice(-1)[0] ){\r\n\t\t\treturn 100;\r\n\t\t}\r\n\r\n\t\tvar j = getJ( value, xVal );\r\n\t\tvar va = xVal[j-1];\r\n\t\tvar vb = xVal[j];\r\n\t\tvar pa = xPct[j-1];\r\n\t\tvar pb = xPct[j];\r\n\r\n\t\treturn pa + (toPercentage([va, vb], value) / subRangeRatio (pa, pb));\r\n\t}\r\n\r\n\t// (value) Input a percentage, find where it is on the specified range.\r\n\tfunction fromStepping ( xVal, xPct, value ) {\r\n\r\n\t\t// There is no range group that fits 100\r\n\t\tif ( value >= 100 ){\r\n\t\t\treturn xVal.slice(-1)[0];\r\n\t\t}\r\n\r\n\t\tvar j = getJ( value, xPct );\r\n\t\tvar va = xVal[j-1];\r\n\t\tvar vb = xVal[j];\r\n\t\tvar pa = xPct[j-1];\r\n\t\tvar pb = xPct[j];\r\n\r\n\t\treturn isPercentage([va, vb], (value - pa) * subRangeRatio (pa, pb));\r\n\t}\r\n\r\n\t// (percentage) Get the step that applies at a certain value.\r\n\tfunction getStep ( xPct, xSteps, snap, value ) {\r\n\r\n\t\tif ( value === 100 ) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tvar j = getJ( value, xPct );\r\n\t\tvar a = xPct[j-1];\r\n\t\tvar b = xPct[j];\r\n\r\n\t\t// If 'snap' is set, steps are used as fixed points on the slider.\r\n\t\tif ( snap ) {\r\n\r\n\t\t\t// Find the closest position, a or b.\r\n\t\t\tif ((value - a) > ((b-a)/2)){\r\n\t\t\t\treturn b;\r\n\t\t\t}\r\n\r\n\t\t\treturn a;\r\n\t\t}\r\n\r\n\t\tif ( !xSteps[j-1] ){\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\treturn xPct[j-1] + closest(\r\n\t\t\tvalue - xPct[j-1],\r\n\t\t\txSteps[j-1]\r\n\t\t);\r\n\t}\r\n\r\n\r\n// Entry parsing\r\n\r\n\tfunction handleEntryPoint ( index, value, that ) {\r\n\r\n\t\tvar percentage;\r\n\r\n\t\t// Wrap numerical input in an array.\r\n\t\tif ( typeof value === \"number\" ) {\r\n\t\t\tvalue = [value];\r\n\t\t}\r\n\r\n\t\t// Reject any invalid input, by testing whether value is an array.\r\n\t\tif ( !Array.isArray(value) ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' contains invalid value.\");\r\n\t\t}\r\n\r\n\t\t// Covert min/max syntax to 0 and 100.\r\n\t\tif ( index === 'min' ) {\r\n\t\t\tpercentage = 0;\r\n\t\t} else if ( index === 'max' ) {\r\n\t\t\tpercentage = 100;\r\n\t\t} else {\r\n\t\t\tpercentage = parseFloat( index );\r\n\t\t}\r\n\r\n\t\t// Check for correct input.\r\n\t\tif ( !isNumeric( percentage ) || !isNumeric( value[0] ) ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' value isn't numeric.\");\r\n\t\t}\r\n\r\n\t\t// Store values.\r\n\t\tthat.xPct.push( percentage );\r\n\t\tthat.xVal.push( value[0] );\r\n\r\n\t\t// NaN will evaluate to false too, but to keep\r\n\t\t// logging clear, set step explicitly. Make sure\r\n\t\t// not to override the 'step' setting with false.\r\n\t\tif ( !percentage ) {\r\n\t\t\tif ( !isNaN( value[1] ) ) {\r\n\t\t\t\tthat.xSteps[0] = value[1];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthat.xSteps.push( isNaN(value[1]) ? false : value[1] );\r\n\t\t}\r\n\r\n\t\tthat.xHighestCompleteStep.push(0);\r\n\t}\r\n\r\n\tfunction handleStepPoint ( i, n, that ) {\r\n\r\n\t\t// Ignore 'false' stepping.\r\n\t\tif ( !n ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Factor to range ratio\r\n\t\tthat.xSteps[i] = fromPercentage([that.xVal[i], that.xVal[i+1]], n) / subRangeRatio(that.xPct[i], that.xPct[i+1]);\r\n\r\n\t\tvar totalSteps = (that.xVal[i+1] - that.xVal[i]) / that.xNumSteps[i];\r\n\t\tvar highestStep = Math.ceil(Number(totalSteps.toFixed(3)) - 1);\r\n\t\tvar step = that.xVal[i] + (that.xNumSteps[i] * highestStep);\r\n\r\n\t\tthat.xHighestCompleteStep[i] = step;\r\n\t}\r\n\r\n\r\n// Interface\r\n\r\n\tfunction Spectrum ( entry, snap, singleStep ) {\r\n\r\n\t\tthis.xPct = [];\r\n\t\tthis.xVal = [];\r\n\t\tthis.xSteps = [ singleStep || false ];\r\n\t\tthis.xNumSteps = [ false ];\r\n\t\tthis.xHighestCompleteStep = [];\r\n\r\n\t\tthis.snap = snap;\r\n\r\n\t\tvar index;\r\n\t\tvar ordered = []; // [0, 'min'], [1, '50%'], [2, 'max']\r\n\r\n\t\t// Map the object keys to an array.\r\n\t\tfor ( index in entry ) {\r\n\t\t\tif ( entry.hasOwnProperty(index) ) {\r\n\t\t\t\tordered.push([entry[index], index]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Sort all entries by value (numeric sort).\r\n\t\tif ( ordered.length && typeof ordered[0][0] === \"object\" ) {\r\n\t\t\tordered.sort(function(a, b) { return a[0][0] - b[0][0]; });\r\n\t\t} else {\r\n\t\t\tordered.sort(function(a, b) { return a[0] - b[0]; });\r\n\t\t}\r\n\r\n\r\n\t\t// Convert all entries to subranges.\r\n\t\tfor ( index = 0; index < ordered.length; index++ ) {\r\n\t\t\thandleEntryPoint(ordered[index][1], ordered[index][0], this);\r\n\t\t}\r\n\r\n\t\t// Store the actual step values.\r\n\t\t// xSteps is sorted in the same order as xPct and xVal.\r\n\t\tthis.xNumSteps = this.xSteps.slice(0);\r\n\r\n\t\t// Convert all numeric steps to the percentage of the subrange they represent.\r\n\t\tfor ( index = 0; index < this.xNumSteps.length; index++ ) {\r\n\t\t\thandleStepPoint(index, this.xNumSteps[index], this);\r\n\t\t}\r\n\t}\r\n\r\n\tSpectrum.prototype.getMargin = function ( value ) {\r\n\r\n\t\tvar step = this.xNumSteps[0];\r\n\r\n\t\tif ( step && ((value / step) % 1) !== 0 ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'limit', 'margin' and 'padding' must be divisible by step.\");\r\n\t\t}\r\n\r\n\t\treturn this.xPct.length === 2 ? fromPercentage(this.xVal, value) : false;\r\n\t};\r\n\r\n\tSpectrum.prototype.toStepping = function ( value ) {\r\n\r\n\t\tvalue = toStepping( this.xVal, this.xPct, value );\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tSpectrum.prototype.fromStepping = function ( value ) {\r\n\r\n\t\treturn fromStepping( this.xVal, this.xPct, value );\r\n\t};\r\n\r\n\tSpectrum.prototype.getStep = function ( value ) {\r\n\r\n\t\tvalue = getStep(this.xPct, this.xSteps, this.snap, value );\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tSpectrum.prototype.getNearbySteps = function ( value ) {\r\n\r\n\t\tvar j = getJ(value, this.xPct);\r\n\r\n\t\treturn {\r\n\t\t\tstepBefore: { startValue: this.xVal[j-2], step: this.xNumSteps[j-2], highestStep: this.xHighestCompleteStep[j-2] },\r\n\t\t\tthisStep: { startValue: this.xVal[j-1], step: this.xNumSteps[j-1], highestStep: this.xHighestCompleteStep[j-1] },\r\n\t\t\tstepAfter: { startValue: this.xVal[j-0], step: this.xNumSteps[j-0], highestStep: this.xHighestCompleteStep[j-0] }\r\n\t\t};\r\n\t};\r\n\r\n\tSpectrum.prototype.countStepDecimals = function () {\r\n\t\tvar stepDecimals = this.xNumSteps.map(countDecimals);\r\n\t\treturn Math.max.apply(null, stepDecimals);\r\n\t};\r\n\r\n\t// Outside testing\r\n\tSpectrum.prototype.convert = function ( value ) {\r\n\t\treturn this.getStep(this.toStepping(value));\r\n\t};\r\n\r\n/*\tEvery input option is tested and parsed. This'll prevent\n\tendless validation in internal methods. These tests are\n\tstructured with an item for every option available. An\n\toption can be marked as required by setting the 'r' flag.\n\tThe testing function is provided with three arguments:\n\t\t- The provided value for the option;\n\t\t- A reference to the options object;\n\t\t- The name for the option;\n\n\tThe testing function returns false when an error is detected,\n\tor true when everything is OK. It can also modify the option\n\tobject, to make sure all values can be correctly looped elsewhere. */\n\n\tvar defaultFormatter = { 'to': function( value ){\n\t\treturn value !== undefined && value.toFixed(2);\n\t}, 'from': Number };\n\n\tfunction validateFormat ( entry ) {\n\n\t\t// Any object with a to and from method is supported.\n\t\tif ( isValidFormatter(entry) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'format' requires 'to' and 'from' methods.\");\n\t}\n\n\tfunction testStep ( parsed, entry ) {\n\n\t\tif ( !isNumeric( entry ) ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'step' is not numeric.\");\n\t\t}\n\n\t\t// The step option can still be used to set stepping\n\t\t// for linear sliders. Overwritten if set in 'range'.\n\t\tparsed.singleStep = entry;\n\t}\n\n\tfunction testRange ( parsed, entry ) {\n\n\t\t// Filter incorrect input.\n\t\tif ( typeof entry !== 'object' || Array.isArray(entry) ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' is not an object.\");\n\t\t}\n\n\t\t// Catch missing start or end.\n\t\tif ( entry.min === undefined || entry.max === undefined ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): Missing 'min' or 'max' in 'range'.\");\n\t\t}\n\n\t\t// Catch equal start or end.\n\t\tif ( entry.min === entry.max ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' 'min' and 'max' cannot be equal.\");\n\t\t}\n\n\t\tparsed.spectrum = new Spectrum(entry, parsed.snap, parsed.singleStep);\n\t}\n\n\tfunction testStart ( parsed, entry ) {\n\n\t\tentry = asArray(entry);\n\n\t\t// Validate input. Values aren't tested, as the public .val method\n\t\t// will always provide a valid location.\n\t\tif ( !Array.isArray( entry ) || !entry.length ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'start' option is incorrect.\");\n\t\t}\n\n\t\t// Store the number of handles.\n\t\tparsed.handles = entry.length;\n\n\t\t// When the slider is initialized, the .val method will\n\t\t// be called with the start options.\n\t\tparsed.start = entry;\n\t}\n\n\tfunction testSnap ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.snap = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'snap' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testAnimate ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.animate = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'animate' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testAnimationDuration ( parsed, entry ) {\n\n\t\tparsed.animationDuration = entry;\n\n\t\tif ( typeof entry !== 'number' ){\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'animationDuration' option must be a number.\");\n\t\t}\n\t}\n\n\tfunction testConnect ( parsed, entry ) {\n\n\t\tvar connect = [false];\n\t\tvar i;\n\n\t\t// Map legacy options\n\t\tif ( entry === 'lower' ) {\n\t\t\tentry = [true, false];\n\t\t}\n\n\t\telse if ( entry === 'upper' ) {\n\t\t\tentry = [false, true];\n\t\t}\n\n\t\t// Handle boolean options\n\t\tif ( entry === true || entry === false ) {\n\n\t\t\tfor ( i = 1; i < parsed.handles; i++ ) {\n\t\t\t\tconnect.push(entry);\n\t\t\t}\n\n\t\t\tconnect.push(false);\n\t\t}\n\n\t\t// Reject invalid input\n\t\telse if ( !Array.isArray( entry ) || !entry.length || entry.length !== parsed.handles + 1 ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'connect' option doesn't match handle count.\");\n\t\t}\n\n\t\telse {\n\t\t\tconnect = entry;\n\t\t}\n\n\t\tparsed.connect = connect;\n\t}\n\n\tfunction testOrientation ( parsed, entry ) {\n\n\t\t// Set orientation to an a numerical value for easy\n\t\t// array selection.\n\t\tswitch ( entry ){\n\t\t\tcase 'horizontal':\n\t\t\t\tparsed.ort = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'vertical':\n\t\t\t\tparsed.ort = 1;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'orientation' option is invalid.\");\n\t\t}\n\t}\n\n\tfunction testMargin ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'margin' option must be numeric.\");\n\t\t}\n\n\t\t// Issue #582\n\t\tif ( entry === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tparsed.margin = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.margin ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'margin' option is only supported on linear sliders.\");\n\t\t}\n\t}\n\n\tfunction testLimit ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'limit' option must be numeric.\");\n\t\t}\n\n\t\tparsed.limit = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.limit || parsed.handles < 2 ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'limit' option is only supported on linear sliders with 2 or more handles.\");\n\t\t}\n\t}\n\n\tfunction testPadding ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) && !Array.isArray(entry) ){\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option must be numeric or array of exactly 2 numbers.\");\n\t\t}\n\n\t\tif ( Array.isArray(entry) && !(entry.length === 2 || isNumeric(entry[0]) || isNumeric(entry[1])) ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option must be numeric or array of exactly 2 numbers.\");\n\t\t}\n\n\t\tif ( entry === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !Array.isArray(entry) ) {\n\t\t\tentry = [entry, entry];\n\t\t}\n\n\t\t// 'getMargin' returns false for invalid values.\n\t\tparsed.padding = [parsed.spectrum.getMargin(entry[0]), parsed.spectrum.getMargin(entry[1])];\n\n\t\tif ( parsed.padding[0] === false || parsed.padding[1] === false ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option is only supported on linear sliders.\");\n\t\t}\n\n\t\tif ( parsed.padding[0] < 0 || parsed.padding[1] < 0 ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option must be a positive number(s).\");\n\t\t}\n\n\t\tif ( parsed.padding[0] + parsed.padding[1] >= 100 ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option must not exceed 100% of the range.\");\n\t\t}\n\t}\n\n\tfunction testDirection ( parsed, entry ) {\n\n\t\t// Set direction as a numerical value for easy parsing.\n\t\t// Invert connection for RTL sliders, so that the proper\n\t\t// handles get the connect/background classes.\n\t\tswitch ( entry ) {\n\t\t\tcase 'ltr':\n\t\t\t\tparsed.dir = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'rtl':\n\t\t\t\tparsed.dir = 1;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'direction' option was not recognized.\");\n\t\t}\n\t}\n\n\tfunction testBehaviour ( parsed, entry ) {\n\n\t\t// Make sure the input is a string.\n\t\tif ( typeof entry !== 'string' ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'behaviour' must be a string containing options.\");\n\t\t}\n\n\t\t// Check if the string contains any keywords.\n\t\t// None are required.\n\t\tvar tap = entry.indexOf('tap') >= 0;\n\t\tvar drag = entry.indexOf('drag') >= 0;\n\t\tvar fixed = entry.indexOf('fixed') >= 0;\n\t\tvar snap = entry.indexOf('snap') >= 0;\n\t\tvar hover = entry.indexOf('hover') >= 0;\n\n\t\tif ( fixed ) {\n\n\t\t\tif ( parsed.handles !== 2 ) {\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'fixed' behaviour must be used with 2 handles\");\n\t\t\t}\n\n\t\t\t// Use margin to enforce fixed state\n\t\t\ttestMargin(parsed, parsed.start[1] - parsed.start[0]);\n\t\t}\n\n\t\tparsed.events = {\n\t\t\ttap: tap || snap,\n\t\t\tdrag: drag,\n\t\t\tfixed: fixed,\n\t\t\tsnap: snap,\n\t\t\thover: hover\n\t\t};\n\t}\n\n\tfunction testTooltips ( parsed, entry ) {\n\n\t\tif ( entry === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\telse if ( entry === true ) {\n\n\t\t\tparsed.tooltips = [];\n\n\t\t\tfor ( var i = 0; i < parsed.handles; i++ ) {\n\t\t\t\tparsed.tooltips.push(true);\n\t\t\t}\n\t\t}\n\n\t\telse {\n\n\t\t\tparsed.tooltips = asArray(entry);\n\n\t\t\tif ( parsed.tooltips.length !== parsed.handles ) {\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): must pass a formatter for all handles.\");\n\t\t\t}\n\n\t\t\tparsed.tooltips.forEach(function(formatter){\n\t\t\t\tif ( typeof formatter !== 'boolean' && (typeof formatter !== 'object' || typeof formatter.to !== 'function') ) {\n\t\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'tooltips' must be passed a formatter or 'false'.\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction testAriaFormat ( parsed, entry ) {\n\t\tparsed.ariaFormat = entry;\n\t\tvalidateFormat(entry);\n\t}\n\n\tfunction testFormat ( parsed, entry ) {\n\t\tparsed.format = entry;\n\t\tvalidateFormat(entry);\n\t}\n\n\tfunction testCssPrefix ( parsed, entry ) {\n\n\t\tif ( typeof entry !== 'string' && entry !== false ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'cssPrefix' must be a string or `false`.\");\n\t\t}\n\n\t\tparsed.cssPrefix = entry;\n\t}\n\n\tfunction testCssClasses ( parsed, entry ) {\n\n\t\tif ( typeof entry !== 'object' ) {\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'cssClasses' must be an object.\");\n\t\t}\n\n\t\tif ( typeof parsed.cssPrefix === 'string' ) {\n\t\t\tparsed.cssClasses = {};\n\n\t\t\tfor ( var key in entry ) {\n\t\t\t\tif ( !entry.hasOwnProperty(key) ) { continue; }\n\n\t\t\t\tparsed.cssClasses[key] = parsed.cssPrefix + entry[key];\n\t\t\t}\n\t\t} else {\n\t\t\tparsed.cssClasses = entry;\n\t\t}\n\t}\n\n\t// Test all developer settings and parse to assumption-safe values.\n\tfunction testOptions ( options ) {\n\n\t\t// To prove a fix for #537, freeze options here.\n\t\t// If the object is modified, an error will be thrown.\n\t\t// Object.freeze(options);\n\n\t\tvar parsed = {\n\t\t\tmargin: 0,\n\t\t\tlimit: 0,\n\t\t\tpadding: 0,\n\t\t\tanimate: true,\n\t\t\tanimationDuration: 300,\n\t\t\tariaFormat: defaultFormatter,\n\t\t\tformat: defaultFormatter\n\t\t};\n\n\t\t// Tests are executed in the order they are presented here.\n\t\tvar tests = {\n\t\t\t'step': { r: false, t: testStep },\n\t\t\t'start': { r: true, t: testStart },\n\t\t\t'connect': { r: true, t: testConnect },\n\t\t\t'direction': { r: true, t: testDirection },\n\t\t\t'snap': { r: false, t: testSnap },\n\t\t\t'animate': { r: false, t: testAnimate },\n\t\t\t'animationDuration': { r: false, t: testAnimationDuration },\n\t\t\t'range': { r: true, t: testRange },\n\t\t\t'orientation': { r: false, t: testOrientation },\n\t\t\t'margin': { r: false, t: testMargin },\n\t\t\t'limit': { r: false, t: testLimit },\n\t\t\t'padding': { r: false, t: testPadding },\n\t\t\t'behaviour': { r: true, t: testBehaviour },\n\t\t\t'ariaFormat': { r: false, t: testAriaFormat },\n\t\t\t'format': { r: false, t: testFormat },\n\t\t\t'tooltips': { r: false, t: testTooltips },\n\t\t\t'cssPrefix': { r: true, t: testCssPrefix },\n\t\t\t'cssClasses': { r: true, t: testCssClasses }\n\t\t};\n\n\t\tvar defaults = {\n\t\t\t'connect': false,\n\t\t\t'direction': 'ltr',\n\t\t\t'behaviour': 'tap',\n\t\t\t'orientation': 'horizontal',\n\t\t\t'cssPrefix' : 'noUi-',\n\t\t\t'cssClasses': {\n\t\t\t\ttarget: 'target',\n\t\t\t\tbase: 'base',\n\t\t\t\torigin: 'origin',\n\t\t\t\thandle: 'handle',\n\t\t\t\thandleLower: 'handle-lower',\n\t\t\t\thandleUpper: 'handle-upper',\n\t\t\t\thorizontal: 'horizontal',\n\t\t\t\tvertical: 'vertical',\n\t\t\t\tbackground: 'background',\n\t\t\t\tconnect: 'connect',\n\t\t\t\tconnects: 'connects',\n\t\t\t\tltr: 'ltr',\n\t\t\t\trtl: 'rtl',\n\t\t\t\tdraggable: 'draggable',\n\t\t\t\tdrag: 'state-drag',\n\t\t\t\ttap: 'state-tap',\n\t\t\t\tactive: 'active',\n\t\t\t\ttooltip: 'tooltip',\n\t\t\t\tpips: 'pips',\n\t\t\t\tpipsHorizontal: 'pips-horizontal',\n\t\t\t\tpipsVertical: 'pips-vertical',\n\t\t\t\tmarker: 'marker',\n\t\t\t\tmarkerHorizontal: 'marker-horizontal',\n\t\t\t\tmarkerVertical: 'marker-vertical',\n\t\t\t\tmarkerNormal: 'marker-normal',\n\t\t\t\tmarkerLarge: 'marker-large',\n\t\t\t\tmarkerSub: 'marker-sub',\n\t\t\t\tvalue: 'value',\n\t\t\t\tvalueHorizontal: 'value-horizontal',\n\t\t\t\tvalueVertical: 'value-vertical',\n\t\t\t\tvalueNormal: 'value-normal',\n\t\t\t\tvalueLarge: 'value-large',\n\t\t\t\tvalueSub: 'value-sub'\n\t\t\t}\n\t\t};\n\n\t\t// AriaFormat defaults to regular format, if any.\n\t\tif ( options.format && !options.ariaFormat ) {\n\t\t\toptions.ariaFormat = options.format;\n\t\t}\n\n\t\t// Run all options through a testing mechanism to ensure correct\n\t\t// input. It should be noted that options might get modified to\n\t\t// be handled properly. E.g. wrapping integers in arrays.\n\t\tObject.keys(tests).forEach(function( name ){\n\n\t\t\t// If the option isn't set, but it is required, throw an error.\n\t\t\tif ( !isSet(options[name]) && defaults[name] === undefined ) {\n\n\t\t\t\tif ( tests[name].r ) {\n\t\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): '\" + name + \"' is required.\");\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\ttests[name].t( parsed, !isSet(options[name]) ? defaults[name] : options[name] );\n\t\t});\n\n\t\t// Forward pips options\n\t\tparsed.pips = options.pips;\n\n\t\t// All recent browsers accept unprefixed transform.\n\t\t// We need -ms- for IE9 and -webkit- for older Android;\n\t\t// Assume use of -webkit- if unprefixed and -ms- are not supported.\n\t\t// https://caniuse.com/#feat=transforms2d\n\t\tvar d = document.createElement(\"div\");\n\t\tvar msPrefix = d.style.msTransform !== undefined;\n\t\tvar noPrefix = d.style.transform !== undefined;\n\n\t\tparsed.transformRule = noPrefix ? 'transform' : (msPrefix ? 'msTransform' : 'webkitTransform');\n\n\t\t// Pips don't move, so we can place them using left/top.\n\t\tvar styles = [['left', 'top'], ['right', 'bottom']];\n\n\t\tparsed.style = styles[parsed.dir][parsed.ort];\n\n\t\treturn parsed;\n\t}\n\r\n\r\nfunction scope ( target, options, originalOptions ){\r\n\r\n\tvar actions = getActions();\r\n\tvar supportsTouchActionNone = getSupportsTouchActionNone();\r\n\tvar supportsPassive = supportsTouchActionNone && getSupportsPassive();\r\n\r\n\t// All variables local to 'scope' are prefixed with 'scope_'\r\n\tvar scope_Target = target;\r\n\tvar scope_Locations = [];\r\n\tvar scope_Base;\r\n\tvar scope_Handles;\r\n\tvar scope_HandleNumbers = [];\r\n\tvar scope_ActiveHandlesCount = 0;\r\n\tvar scope_Connects;\r\n\tvar scope_Spectrum = options.spectrum;\r\n\tvar scope_Values = [];\r\n\tvar scope_Events = {};\r\n\tvar scope_Self;\r\n\tvar scope_Pips;\r\n\tvar scope_Document = target.ownerDocument;\r\n\tvar scope_DocumentElement = scope_Document.documentElement;\r\n\tvar scope_Body = scope_Document.body;\r\n\r\n\r\n\t// For horizontal sliders in standard ltr documents,\r\n\t// make .noUi-origin overflow to the left so the document doesn't scroll.\r\n\tvar scope_DirOffset = (scope_Document.dir === 'rtl') || (options.ort === 1) ? 0 : 100;\r\n\r\n/*! In this file: Construction of DOM elements; */\r\n\r\n\t// Creates a node, adds it to target, returns the new node.\r\n\tfunction addNodeTo ( addTarget, className ) {\r\n\r\n\t\tvar div = scope_Document.createElement('div');\r\n\r\n\t\tif ( className ) {\r\n\t\t\taddClass(div, className);\r\n\t\t}\r\n\r\n\t\taddTarget.appendChild(div);\r\n\r\n\t\treturn div;\r\n\t}\r\n\r\n\t// Append a origin to the base\r\n\tfunction addOrigin ( base, handleNumber ) {\r\n\r\n\t\tvar origin = addNodeTo(base, options.cssClasses.origin);\r\n\t\tvar handle = addNodeTo(origin, options.cssClasses.handle);\r\n\r\n\t\thandle.setAttribute('data-handle', handleNumber);\r\n\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex\r\n\t\t// 0 = focusable and reachable\r\n\t\thandle.setAttribute('tabindex', '0');\r\n\t\thandle.setAttribute('role', 'slider');\r\n\t\thandle.setAttribute('aria-orientation', options.ort ? 'vertical' : 'horizontal');\r\n\r\n\t\tif ( handleNumber === 0 ) {\r\n\t\t\taddClass(handle, options.cssClasses.handleLower);\r\n\t\t}\r\n\r\n\t\telse if ( handleNumber === options.handles - 1 ) {\r\n\t\t\taddClass(handle, options.cssClasses.handleUpper);\r\n\t\t}\r\n\r\n\t\treturn origin;\r\n\t}\r\n\r\n\t// Insert nodes for connect elements\r\n\tfunction addConnect ( base, add ) {\r\n\r\n\t\tif ( !add ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn addNodeTo(base, options.cssClasses.connect);\r\n\t}\r\n\r\n\t// Add handles to the slider base.\r\n\tfunction addElements ( connectOptions, base ) {\r\n\r\n\t\tvar connectBase = addNodeTo(base, options.cssClasses.connects);\r\n\r\n\t\tscope_Handles = [];\r\n\t\tscope_Connects = [];\r\n\r\n\t\tscope_Connects.push(addConnect(connectBase, connectOptions[0]));\r\n\r\n\t\t// [::::O====O====O====]\r\n\t\t// connectOptions = [0, 1, 1, 1]\r\n\r\n\t\tfor ( var i = 0; i < options.handles; i++ ) {\r\n\t\t\t// Keep a list of all added handles.\r\n\t\t\tscope_Handles.push(addOrigin(base, i));\r\n\t\t\tscope_HandleNumbers[i] = i;\r\n\t\t\tscope_Connects.push(addConnect(connectBase, connectOptions[i + 1]));\r\n\t\t}\r\n\t}\r\n\r\n\t// Initialize a single slider.\r\n\tfunction addSlider ( addTarget ) {\r\n\r\n\t\t// Apply classes and data to the target.\r\n\t\taddClass(addTarget, options.cssClasses.target);\r\n\r\n\t\tif ( options.dir === 0 ) {\r\n\t\t\taddClass(addTarget, options.cssClasses.ltr);\r\n\t\t} else {\r\n\t\t\taddClass(addTarget, options.cssClasses.rtl);\r\n\t\t}\r\n\r\n\t\tif ( options.ort === 0 ) {\r\n\t\t\taddClass(addTarget, options.cssClasses.horizontal);\r\n\t\t} else {\r\n\t\t\taddClass(addTarget, options.cssClasses.vertical);\r\n\t\t}\r\n\r\n\t\tscope_Base = addNodeTo(addTarget, options.cssClasses.base);\r\n\t}\r\n\r\n\r\n\tfunction addTooltip ( handle, handleNumber ) {\r\n\r\n\t\tif ( !options.tooltips[handleNumber] ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn addNodeTo(handle.firstChild, options.cssClasses.tooltip);\r\n\t}\r\n\r\n\t// The tooltips option is a shorthand for using the 'update' event.\r\n\tfunction tooltips ( ) {\r\n\r\n\t\t// Tooltips are added with options.tooltips in original order.\r\n\t\tvar tips = scope_Handles.map(addTooltip);\r\n\r\n\t\tbindEvent('update', function(values, handleNumber, unencoded) {\r\n\r\n\t\t\tif ( !tips[handleNumber] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar formattedValue = values[handleNumber];\r\n\r\n\t\t\tif ( options.tooltips[handleNumber] !== true ) {\r\n\t\t\t\tformattedValue = options.tooltips[handleNumber].to(unencoded[handleNumber]);\r\n\t\t\t}\r\n\r\n\t\t\ttips[handleNumber].innerHTML = formattedValue;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction aria ( ) {\r\n\r\n\t\tbindEvent('update', function ( values, handleNumber, unencoded, tap, positions ) {\r\n\r\n\t\t\t// Update Aria Values for all handles, as a change in one changes min and max values for the next.\r\n\t\t\tscope_HandleNumbers.forEach(function( index ){\r\n\r\n\t\t\t\tvar handle = scope_Handles[index];\r\n\r\n\t\t\t\tvar min = checkHandlePosition(scope_Locations, index, 0, true, true, true);\r\n\t\t\t\tvar max = checkHandlePosition(scope_Locations, index, 100, true, true, true);\r\n\r\n\t\t\t\tvar now = positions[index];\r\n\t\t\t\tvar text = options.ariaFormat.to(unencoded[index]);\r\n\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuemin', min.toFixed(1));\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuemax', max.toFixed(1));\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuenow', now.toFixed(1));\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuetext', text);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction getGroup ( mode, values, stepped ) {\r\n\r\n\t\t// Use the range.\r\n\t\tif ( mode === 'range' || mode === 'steps' ) {\r\n\t\t\treturn scope_Spectrum.xVal;\r\n\t\t}\r\n\r\n\t\tif ( mode === 'count' ) {\r\n\r\n\t\t\tif ( values < 2 ) {\r\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'values' (>= 2) required for mode 'count'.\");\r\n\t\t\t}\r\n\r\n\t\t\t// Divide 0 - 100 in 'count' parts.\r\n\t\t\tvar interval = values - 1;\r\n\t\t\tvar spread = ( 100 / interval );\r\n\r\n\t\t\tvalues = [];\r\n\r\n\t\t\t// List these parts and have them handled as 'positions'.\r\n\t\t\twhile ( interval-- ) {\r\n\t\t\t\tvalues[ interval ] = ( interval * spread );\r\n\t\t\t}\r\n\r\n\t\t\tvalues.push(100);\r\n\r\n\t\t\tmode = 'positions';\r\n\t\t}\r\n\r\n\t\tif ( mode === 'positions' ) {\r\n\r\n\t\t\t// Map all percentages to on-range values.\r\n\t\t\treturn values.map(function( value ){\r\n\t\t\t\treturn scope_Spectrum.fromStepping( stepped ? scope_Spectrum.getStep( value ) : value );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( mode === 'values' ) {\r\n\r\n\t\t\t// If the value must be stepped, it needs to be converted to a percentage first.\r\n\t\t\tif ( stepped ) {\r\n\r\n\t\t\t\treturn values.map(function( value ){\r\n\r\n\t\t\t\t\t// Convert to percentage, apply step, return to value.\r\n\t\t\t\t\treturn scope_Spectrum.fromStepping( scope_Spectrum.getStep( scope_Spectrum.toStepping( value ) ) );\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise, we can simply use the values.\r\n\t\t\treturn values;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction generateSpread ( density, mode, group ) {\r\n\r\n\t\tfunction safeIncrement(value, increment) {\r\n\t\t\t// Avoid floating point variance by dropping the smallest decimal places.\r\n\t\t\treturn (value + increment).toFixed(7) / 1;\r\n\t\t}\r\n\r\n\t\tvar indexes = {};\r\n\t\tvar firstInRange = scope_Spectrum.xVal[0];\r\n\t\tvar lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length-1];\r\n\t\tvar ignoreFirst = false;\r\n\t\tvar ignoreLast = false;\r\n\t\tvar prevPct = 0;\r\n\r\n\t\t// Create a copy of the group, sort it and filter away all duplicates.\r\n\t\tgroup = unique(group.slice().sort(function(a, b){ return a - b; }));\r\n\r\n\t\t// Make sure the range starts with the first element.\r\n\t\tif ( group[0] !== firstInRange ) {\r\n\t\t\tgroup.unshift(firstInRange);\r\n\t\t\tignoreFirst = true;\r\n\t\t}\r\n\r\n\t\t// Likewise for the last one.\r\n\t\tif ( group[group.length - 1] !== lastInRange ) {\r\n\t\t\tgroup.push(lastInRange);\r\n\t\t\tignoreLast = true;\r\n\t\t}\r\n\r\n\t\tgroup.forEach(function ( current, index ) {\r\n\r\n\t\t\t// Get the current step and the lower + upper positions.\r\n\t\t\tvar step;\r\n\t\t\tvar i;\r\n\t\t\tvar q;\r\n\t\t\tvar low = current;\r\n\t\t\tvar high = group[index+1];\r\n\t\t\tvar newPct;\r\n\t\t\tvar pctDifference;\r\n\t\t\tvar pctPos;\r\n\t\t\tvar type;\r\n\t\t\tvar steps;\r\n\t\t\tvar realSteps;\r\n\t\t\tvar stepsize;\r\n\r\n\t\t\t// When using 'steps' mode, use the provided steps.\r\n\t\t\t// Otherwise, we'll step on to the next subrange.\r\n\t\t\tif ( mode === 'steps' ) {\r\n\t\t\t\tstep = scope_Spectrum.xNumSteps[ index ];\r\n\t\t\t}\r\n\r\n\t\t\t// Default to a 'full' step.\r\n\t\t\tif ( !step ) {\r\n\t\t\t\tstep = high-low;\r\n\t\t\t}\r\n\r\n\t\t\t// Low can be 0, so test for false. If high is undefined,\r\n\t\t\t// we are at the last subrange. Index 0 is already handled.\r\n\t\t\tif ( low === false || high === undefined ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure step isn't 0, which would cause an infinite loop (#654)\r\n\t\t\tstep = Math.max(step, 0.0000001);\r\n\r\n\t\t\t// Find all steps in the subrange.\r\n\t\t\tfor ( i = low; i <= high; i = safeIncrement(i, step) ) {\r\n\r\n\t\t\t\t// Get the percentage value for the current step,\r\n\t\t\t\t// calculate the size for the subrange.\r\n\t\t\t\tnewPct = scope_Spectrum.toStepping( i );\r\n\t\t\t\tpctDifference = newPct - prevPct;\r\n\r\n\t\t\t\tsteps = pctDifference / density;\r\n\t\t\t\trealSteps = Math.round(steps);\r\n\r\n\t\t\t\t// This ratio represents the amount of percentage-space a point indicates.\r\n\t\t\t\t// For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-devided.\r\n\t\t\t\t// Round the percentage offset to an even number, then divide by two\r\n\t\t\t\t// to spread the offset on both sides of the range.\r\n\t\t\t\tstepsize = pctDifference/realSteps;\r\n\r\n\t\t\t\t// Divide all points evenly, adding the correct number to this subrange.\r\n\t\t\t\t// Run up to <= so that 100% gets a point, event if ignoreLast is set.\r\n\t\t\t\tfor ( q = 1; q <= realSteps; q += 1 ) {\r\n\r\n\t\t\t\t\t// The ratio between the rounded value and the actual size might be ~1% off.\r\n\t\t\t\t\t// Correct the percentage offset by the number of points\r\n\t\t\t\t\t// per subrange. density = 1 will result in 100 points on the\r\n\t\t\t\t\t// full range, 2 for 50, 4 for 25, etc.\r\n\t\t\t\t\tpctPos = prevPct + ( q * stepsize );\r\n\t\t\t\t\tindexes[pctPos.toFixed(5)] = ['x', 0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Determine the point type.\r\n\t\t\t\ttype = (group.indexOf(i) > -1) ? 1 : ( mode === 'steps' ? 2 : 0 );\r\n\r\n\t\t\t\t// Enforce the 'ignoreFirst' option by overwriting the type for 0.\r\n\t\t\t\tif ( !index && ignoreFirst ) {\r\n\t\t\t\t\ttype = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !(i === high && ignoreLast)) {\r\n\t\t\t\t\t// Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.\r\n\t\t\t\t\tindexes[newPct.toFixed(5)] = [i, type];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update the percentage count.\r\n\t\t\t\tprevPct = newPct;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn indexes;\r\n\t}\r\n\r\n\tfunction addMarking ( spread, filterFunc, formatter ) {\r\n\r\n\t\tvar element = scope_Document.createElement('div');\r\n\r\n\t\tvar valueSizeClasses = [\r\n\t\t\toptions.cssClasses.valueNormal,\r\n\t\t\toptions.cssClasses.valueLarge,\r\n\t\t\toptions.cssClasses.valueSub\r\n\t\t];\r\n\t\tvar markerSizeClasses = [\r\n\t\t\toptions.cssClasses.markerNormal,\r\n\t\t\toptions.cssClasses.markerLarge,\r\n\t\t\toptions.cssClasses.markerSub\r\n\t\t];\r\n\t\tvar valueOrientationClasses = [\r\n\t\t\toptions.cssClasses.valueHorizontal,\r\n\t\t\toptions.cssClasses.valueVertical\r\n\t\t];\r\n\t\tvar markerOrientationClasses = [\r\n\t\t\toptions.cssClasses.markerHorizontal,\r\n\t\t\toptions.cssClasses.markerVertical\r\n\t\t];\r\n\r\n\t\taddClass(element, options.cssClasses.pips);\r\n\t\taddClass(element, options.ort === 0 ? options.cssClasses.pipsHorizontal : options.cssClasses.pipsVertical);\r\n\r\n\t\tfunction getClasses( type, source ){\r\n\t\t\tvar a = source === options.cssClasses.value;\r\n\t\t\tvar orientationClasses = a ? valueOrientationClasses : markerOrientationClasses;\r\n\t\t\tvar sizeClasses = a ? valueSizeClasses : markerSizeClasses;\r\n\r\n\t\t\treturn source + ' ' + orientationClasses[options.ort] + ' ' + sizeClasses[type];\r\n\t\t}\r\n\r\n\t\tfunction addSpread ( offset, values ){\r\n\r\n\t\t\t// Apply the filter function, if it is set.\r\n\t\t\tvalues[1] = (values[1] && filterFunc) ? filterFunc(values[0], values[1]) : values[1];\r\n\r\n\t\t\t// Add a marker for every point\r\n\t\t\tvar node = addNodeTo(element, false);\r\n\t\t\t\tnode.className = getClasses(values[1], options.cssClasses.marker);\r\n\t\t\t\tnode.style[options.style] = offset + '%';\r\n\r\n\t\t\t// Values are only appended for points marked '1' or '2'.\r\n\t\t\tif ( values[1] ) {\r\n\t\t\t\tnode = addNodeTo(element, false);\r\n\t\t\t\tnode.className = getClasses(values[1], options.cssClasses.value);\r\n\t\t\t\tnode.setAttribute('data-value', values[0]);\r\n\t\t\t\tnode.style[options.style] = offset + '%';\r\n\t\t\t\tnode.innerText = formatter.to(values[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Append all points.\r\n\t\tObject.keys(spread).forEach(function(a){\r\n\t\t\taddSpread(a, spread[a]);\r\n\t\t});\r\n\r\n\t\treturn element;\r\n\t}\r\n\r\n\tfunction removePips ( ) {\r\n\t\tif ( scope_Pips ) {\r\n\t\t\tremoveElement(scope_Pips);\r\n\t\t\tscope_Pips = null;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction pips ( grid ) {\r\n\r\n\t\t// Fix #669\r\n\t\tremovePips();\r\n\r\n\t\tvar mode = grid.mode;\r\n\t\tvar density = grid.density || 1;\r\n\t\tvar filter = grid.filter || false;\r\n\t\tvar values = grid.values || false;\r\n\t\tvar stepped = grid.stepped || false;\r\n\t\tvar group = getGroup( mode, values, stepped );\r\n\t\tvar spread = generateSpread( density, mode, group );\r\n\t\tvar format = grid.format || {\r\n\t\t\tto: Math.round\r\n\t\t};\r\n\r\n\t\tscope_Pips = scope_Target.appendChild(addMarking(\r\n\t\t\tspread,\r\n\t\t\tfilter,\r\n\t\t\tformat\r\n\t\t));\r\n\r\n\t\treturn scope_Pips;\r\n\t}\r\n\r\n/*! In this file: Browser events (not slider events like slide, change); */\r\n\r\n\t// Shorthand for base dimensions.\r\n\tfunction baseSize ( ) {\r\n\t\tvar rect = scope_Base.getBoundingClientRect();\r\n\t\tvar alt = 'offset' + ['Width', 'Height'][options.ort];\r\n\t\treturn options.ort === 0 ? (rect.width||scope_Base[alt]) : (rect.height||scope_Base[alt]);\r\n\t}\r\n\r\n\t// Handler for attaching events trough a proxy.\r\n\tfunction attachEvent ( events, element, callback, data ) {\r\n\r\n\t\t// This function can be used to 'filter' events to the slider.\r\n\t\t// element is a node, not a nodeList\r\n\r\n\t\tvar method = function ( e ){\r\n\r\n\t\t\te = fixEvent(e, data.pageOffset, data.target || element);\r\n\r\n\t\t\t// fixEvent returns false if this event has a different target\r\n\t\t\t// when handling (multi-) touch events;\r\n\t\t\tif ( !e ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// doNotReject is passed by all end events to make sure released touches\r\n\t\t\t// are not rejected, leaving the slider \"stuck\" to the cursor;\r\n\t\t\tif ( scope_Target.hasAttribute('disabled') && !data.doNotReject ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Stop if an active 'tap' transition is taking place.\r\n\t\t\tif ( hasClass(scope_Target, options.cssClasses.tap) && !data.doNotReject ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore right or middle clicks on start #454\r\n\t\t\tif ( events === actions.start && e.buttons !== undefined && e.buttons > 1 ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore right or middle clicks on start #454\r\n\t\t\tif ( data.hover && e.buttons ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 'supportsPassive' is only true if a browser also supports touch-action: none in CSS.\r\n\t\t\t// iOS safari does not, so it doesn't get to benefit from passive scrolling. iOS does support\r\n\t\t\t// touch-action: manipulation, but that allows panning, which breaks\r\n\t\t\t// sliders after zooming/on non-responsive pages.\r\n\t\t\t// See: https://bugs.webkit.org/show_bug.cgi?id=133112\r\n\t\t\tif ( !supportsPassive ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\te.calcPoint = e.points[ options.ort ];\r\n\r\n\t\t\t// Call the event handler with the event [ and additional data ].\r\n\t\t\tcallback ( e, data );\r\n\t\t};\r\n\r\n\t\tvar methods = [];\r\n\r\n\t\t// Bind a closure on the target for every event type.\r\n\t\tevents.split(' ').forEach(function( eventName ){\r\n\t\t\telement.addEventListener(eventName, method, supportsPassive ? { passive: true } : false);\r\n\t\t\tmethods.push([eventName, method]);\r\n\t\t});\r\n\r\n\t\treturn methods;\r\n\t}\r\n\r\n\t// Provide a clean event with standardized offset values.\r\n\tfunction fixEvent ( e, pageOffset, eventTarget ) {\r\n\r\n\t\t// Filter the event to register the type, which can be\r\n\t\t// touch, mouse or pointer. Offset changes need to be\r\n\t\t// made on an event specific basis.\r\n\t\tvar touch = e.type.indexOf('touch') === 0;\r\n\t\tvar mouse = e.type.indexOf('mouse') === 0;\r\n\t\tvar pointer = e.type.indexOf('pointer') === 0;\r\n\r\n\t\tvar x;\r\n\t\tvar y;\r\n\r\n\t\t// IE10 implemented pointer events with a prefix;\r\n\t\tif ( e.type.indexOf('MSPointer') === 0 ) {\r\n\t\t\tpointer = true;\r\n\t\t}\r\n\r\n\t\t// In the event that multitouch is activated, the only thing one handle should be concerned\r\n\t\t// about is the touches that originated on top of it.\r\n\t\tif ( touch ) {\r\n\r\n\t\t\t// Returns true if a touch originated on the target.\r\n\t\t\tvar isTouchOnTarget = function (checkTouch) {\r\n\t\t\t\treturn checkTouch.target === eventTarget || eventTarget.contains(checkTouch.target);\r\n\t\t\t};\r\n\r\n\t\t\t// In the case of touchstart events, we need to make sure there is still no more than one\r\n\t\t\t// touch on the target so we look amongst all touches.\r\n\t\t\tif (e.type === 'touchstart') {\r\n\r\n\t\t\t\tvar targetTouches = Array.prototype.filter.call(e.touches, isTouchOnTarget);\r\n\r\n\t\t\t\t// Do not support more than one touch per handle.\r\n\t\t\t\tif ( targetTouches.length > 1 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tx = targetTouches[0].pageX;\r\n\t\t\t\ty = targetTouches[0].pageY;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// In the other cases, find on changedTouches is enough.\r\n\t\t\t\tvar targetTouch = Array.prototype.find.call(e.changedTouches, isTouchOnTarget);\r\n\r\n\t\t\t\t// Cancel if the target touch has not moved.\r\n\t\t\t\tif ( !targetTouch ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tx = targetTouch.pageX;\r\n\t\t\t\ty = targetTouch.pageY;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpageOffset = pageOffset || getPageOffset(scope_Document);\r\n\r\n\t\tif ( mouse || pointer ) {\r\n\t\t\tx = e.clientX + pageOffset.x;\r\n\t\t\ty = e.clientY + pageOffset.y;\r\n\t\t}\r\n\r\n\t\te.pageOffset = pageOffset;\r\n\t\te.points = [x, y];\r\n\t\te.cursor = mouse || pointer; // Fix #435\r\n\r\n\t\treturn e;\r\n\t}\r\n\r\n\t// Translate a coordinate in the document to a percentage on the slider\r\n\tfunction calcPointToPercentage ( calcPoint ) {\r\n\t\tvar location = calcPoint - offset(scope_Base, options.ort);\r\n\t\tvar proposal = ( location * 100 ) / baseSize();\r\n\r\n\t\t// Clamp proposal between 0% and 100%\r\n\t\t// Out-of-bound coordinates may occur when .noUi-base pseudo-elements\r\n\t\t// are used (e.g. contained handles feature)\r\n\t\tproposal = limit(proposal);\r\n\r\n\t\treturn options.dir ? 100 - proposal : proposal;\r\n\t}\r\n\r\n\t// Find handle closest to a certain percentage on the slider\r\n\tfunction getClosestHandle ( proposal ) {\r\n\r\n\t\tvar closest = 100;\r\n\t\tvar handleNumber = false;\r\n\r\n\t\tscope_Handles.forEach(function(handle, index){\r\n\r\n\t\t\t// Disabled handles are ignored\r\n\t\t\tif ( handle.hasAttribute('disabled') ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar pos = Math.abs(scope_Locations[index] - proposal);\r\n\r\n\t\t\tif ( pos < closest || (pos === 100 && closest === 100) ) {\r\n\t\t\t\thandleNumber = index;\r\n\t\t\t\tclosest = pos;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn handleNumber;\r\n\t}\r\n\r\n\t// Fire 'end' when a mouse or pen leaves the document.\r\n\tfunction documentLeave ( event, data ) {\r\n\t\tif ( event.type === \"mouseout\" && event.target.nodeName === \"HTML\" && event.relatedTarget === null ){\r\n\t\t\teventEnd (event, data);\r\n\t\t}\r\n\t}\r\n\r\n\t// Handle movement on document for handle and range drag.\r\n\tfunction eventMove ( event, data ) {\r\n\r\n\t\t// Fix #498\r\n\t\t// Check value of .buttons in 'start' to work around a bug in IE10 mobile (data.buttonsProperty).\r\n\t\t// https://connect.microsoft.com/IE/feedback/details/927005/mobile-ie10-windows-phone-buttons-property-of-pointermove-event-always-zero\r\n\t\t// IE9 has .buttons and .which zero on mousemove.\r\n\t\t// Firefox breaks the spec MDN defines.\r\n\t\tif ( navigator.appVersion.indexOf(\"MSIE 9\") === -1 && event.buttons === 0 && data.buttonsProperty !== 0 ) {\r\n\t\t\treturn eventEnd(event, data);\r\n\t\t}\r\n\r\n\t\t// Check if we are moving up or down\r\n\t\tvar movement = (options.dir ? -1 : 1) * (event.calcPoint - data.startCalcPoint);\r\n\r\n\t\t// Convert the movement into a percentage of the slider width/height\r\n\t\tvar proposal = (movement * 100) / data.baseSize;\r\n\r\n\t\tmoveHandles(movement > 0, proposal, data.locations, data.handleNumbers);\r\n\t}\r\n\r\n\t// Unbind move events on document, call callbacks.\r\n\tfunction eventEnd ( event, data ) {\r\n\r\n\t\t// The handle is no longer active, so remove the class.\r\n\t\tif ( data.handle ) {\r\n\t\t\tremoveClass(data.handle, options.cssClasses.active);\r\n\t\t\tscope_ActiveHandlesCount -= 1;\r\n\t\t}\r\n\r\n\t\t// Unbind the move and end events, which are added on 'start'.\r\n\t\tdata.listeners.forEach(function( c ) {\r\n\t\t\tscope_DocumentElement.removeEventListener(c[0], c[1]);\r\n\t\t});\r\n\r\n\t\tif ( scope_ActiveHandlesCount === 0 ) {\r\n\t\t\t// Remove dragging class.\r\n\t\t\tremoveClass(scope_Target, options.cssClasses.drag);\r\n\t\t\tsetZindex();\r\n\r\n\t\t\t// Remove cursor styles and text-selection events bound to the body.\r\n\t\t\tif ( event.cursor ) {\r\n\t\t\t\tscope_Body.style.cursor = '';\r\n\t\t\t\tscope_Body.removeEventListener('selectstart', preventDefault);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdata.handleNumbers.forEach(function(handleNumber){\r\n\t\t\tfireEvent('change', handleNumber);\r\n\t\t\tfireEvent('set', handleNumber);\r\n\t\t\tfireEvent('end', handleNumber);\r\n\t\t});\r\n\t}\r\n\r\n\t// Bind move events on document.\r\n\tfunction eventStart ( event, data ) {\r\n\r\n\t\tvar handle;\r\n\t\tif ( data.handleNumbers.length === 1 ) {\r\n\r\n\t\t\tvar handleOrigin = scope_Handles[data.handleNumbers[0]];\r\n\r\n\t\t\t// Ignore 'disabled' handles\r\n\t\t\tif ( handleOrigin.hasAttribute('disabled') ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\thandle = handleOrigin.children[0];\r\n\t\t\tscope_ActiveHandlesCount += 1;\r\n\r\n\t\t\t// Mark the handle as 'active' so it can be styled.\r\n\t\t\taddClass(handle, options.cssClasses.active);\r\n\t\t}\r\n\r\n\t\t// A drag should never propagate up to the 'tap' event.\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t// Record the event listeners.\r\n\t\tvar listeners = [];\r\n\r\n\t\t// Attach the move and end events.\r\n\t\tvar moveEvent = attachEvent(actions.move, scope_DocumentElement, eventMove, {\r\n\t\t\t// The event target has changed so we need to propagate the original one so that we keep\r\n\t\t\t// relying on it to extract target touches.\r\n\t\t\ttarget: event.target,\r\n\t\t\thandle: handle,\r\n\t\t\tlisteners: listeners,\r\n\t\t\tstartCalcPoint: event.calcPoint,\r\n\t\t\tbaseSize: baseSize(),\r\n\t\t\tpageOffset: event.pageOffset,\r\n\t\t\thandleNumbers: data.handleNumbers,\r\n\t\t\tbuttonsProperty: event.buttons,\r\n\t\t\tlocations: scope_Locations.slice()\r\n\t\t});\r\n\r\n\t\tvar endEvent = attachEvent(actions.end, scope_DocumentElement, eventEnd, {\r\n\t\t\ttarget: event.target,\r\n\t\t\thandle: handle,\r\n\t\t\tlisteners: listeners,\r\n\t\t\tdoNotReject: true,\r\n\t\t\thandleNumbers: data.handleNumbers\r\n\t\t});\r\n\r\n\t\tvar outEvent = attachEvent(\"mouseout\", scope_DocumentElement, documentLeave, {\r\n\t\t\ttarget: event.target,\r\n\t\t\thandle: handle,\r\n\t\t\tlisteners: listeners,\r\n\t\t\tdoNotReject: true,\r\n\t\t\thandleNumbers: data.handleNumbers\r\n\t\t});\r\n\r\n\t\t// We want to make sure we pushed the listeners in the listener list rather than creating\r\n\t\t// a new one as it has already been passed to the event handlers.\r\n\t\tlisteners.push.apply(listeners, moveEvent.concat(endEvent, outEvent));\r\n\r\n\t\t// Text selection isn't an issue on touch devices,\r\n\t\t// so adding cursor styles can be skipped.\r\n\t\tif ( event.cursor ) {\r\n\r\n\t\t\t// Prevent the 'I' cursor and extend the range-drag cursor.\r\n\t\t\tscope_Body.style.cursor = getComputedStyle(event.target).cursor;\r\n\r\n\t\t\t// Mark the target with a dragging state.\r\n\t\t\tif ( scope_Handles.length > 1 ) {\r\n\t\t\t\taddClass(scope_Target, options.cssClasses.drag);\r\n\t\t\t}\r\n\r\n\t\t\t// Prevent text selection when dragging the handles.\r\n\t\t\t// In noUiSlider <= 9.2.0, this was handled by calling preventDefault on mouse/touch start/move,\r\n\t\t\t// which is scroll blocking. The selectstart event is supported by FireFox starting from version 52,\r\n\t\t\t// meaning the only holdout is iOS Safari. This doesn't matter: text selection isn't triggered there.\r\n\t\t\t// The 'cursor' flag is false.\r\n\t\t\t// See: http://caniuse.com/#search=selectstart\r\n\t\t\tscope_Body.addEventListener('selectstart', preventDefault, false);\r\n\t\t}\r\n\r\n\t\tdata.handleNumbers.forEach(function(handleNumber){\r\n\t\t\tfireEvent('start', handleNumber);\r\n\t\t});\r\n\t}\r\n\r\n\t// Move closest handle to tapped location.\r\n\tfunction eventTap ( event ) {\r\n\r\n\t\t// The tap event shouldn't propagate up\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar proposal = calcPointToPercentage(event.calcPoint);\r\n\t\tvar handleNumber = getClosestHandle(proposal);\r\n\r\n\t\t// Tackle the case that all handles are 'disabled'.\r\n\t\tif ( handleNumber === false ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Flag the slider as it is now in a transitional state.\r\n\t\t// Transition takes a configurable amount of ms (default 300). Re-enable the slider after that.\r\n\t\tif ( !options.events.snap ) {\r\n\t\t\taddClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\r\n\t\t}\r\n\r\n\t\tsetHandle(handleNumber, proposal, true, true);\r\n\r\n\t\tsetZindex();\r\n\r\n\t\tfireEvent('slide', handleNumber, true);\r\n\t\tfireEvent('update', handleNumber, true);\r\n\t\tfireEvent('change', handleNumber, true);\r\n\t\tfireEvent('set', handleNumber, true);\r\n\r\n\t\tif ( options.events.snap ) {\r\n\t\t\teventStart(event, { handleNumbers: [handleNumber] });\r\n\t\t}\r\n\t}\r\n\r\n\t// Fires a 'hover' event for a hovered mouse/pen position.\r\n\tfunction eventHover ( event ) {\r\n\r\n\t\tvar proposal = calcPointToPercentage(event.calcPoint);\r\n\r\n\t\tvar to = scope_Spectrum.getStep(proposal);\r\n\t\tvar value = scope_Spectrum.fromStepping(to);\r\n\r\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\r\n\t\t\tif ( 'hover' === targetEvent.split('.')[0] ) {\r\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\r\n\t\t\t\t\tcallback.call( scope_Self, value );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Attach events to several slider parts.\r\n\tfunction bindSliderEvents ( behaviour ) {\r\n\r\n\t\t// Attach the standard drag event to the handles.\r\n\t\tif ( !behaviour.fixed ) {\r\n\r\n\t\t\tscope_Handles.forEach(function( handle, index ){\r\n\r\n\t\t\t\t// These events are only bound to the visual handle\r\n\t\t\t\t// element, not the 'real' origin element.\r\n\t\t\t\tattachEvent ( actions.start, handle.children[0], eventStart, {\r\n\t\t\t\t\thandleNumbers: [index]\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Attach the tap event to the slider base.\r\n\t\tif ( behaviour.tap ) {\r\n\t\t\tattachEvent (actions.start, scope_Base, eventTap, {});\r\n\t\t}\r\n\r\n\t\t// Fire hover events\r\n\t\tif ( behaviour.hover ) {\r\n\t\t\tattachEvent (actions.move, scope_Base, eventHover, { hover: true });\r\n\t\t}\r\n\r\n\t\t// Make the range draggable.\r\n\t\tif ( behaviour.drag ){\r\n\r\n\t\t\tscope_Connects.forEach(function( connect, index ){\r\n\r\n\t\t\t\tif ( connect === false || index === 0 || index === scope_Connects.length - 1 ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar handleBefore = scope_Handles[index - 1];\r\n\t\t\t\tvar handleAfter = scope_Handles[index];\r\n\t\t\t\tvar eventHolders = [connect];\r\n\r\n\t\t\t\taddClass(connect, options.cssClasses.draggable);\r\n\r\n\t\t\t\t// When the range is fixed, the entire range can\r\n\t\t\t\t// be dragged by the handles. The handle in the first\r\n\t\t\t\t// origin will propagate the start event upward,\r\n\t\t\t\t// but it needs to be bound manually on the other.\r\n\t\t\t\tif ( behaviour.fixed ) {\r\n\t\t\t\t\teventHolders.push(handleBefore.children[0]);\r\n\t\t\t\t\teventHolders.push(handleAfter.children[0]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\teventHolders.forEach(function( eventHolder ) {\r\n\t\t\t\t\tattachEvent ( actions.start, eventHolder, eventStart, {\r\n\t\t\t\t\t\thandles: [handleBefore, handleAfter],\r\n\t\t\t\t\t\thandleNumbers: [index - 1, index]\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n/*! In this file: Slider events (not browser events); */\r\n\r\n\t// Attach an event to this slider, possibly including a namespace\r\n\tfunction bindEvent ( namespacedEvent, callback ) {\r\n\t\tscope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];\r\n\t\tscope_Events[namespacedEvent].push(callback);\r\n\r\n\t\t// If the event bound is 'update,' fire it immediately for all handles.\r\n\t\tif ( namespacedEvent.split('.')[0] === 'update' ) {\r\n\t\t\tscope_Handles.forEach(function(a, index){\r\n\t\t\t\tfireEvent('update', index);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Undo attachment of event\r\n\tfunction removeEvent ( namespacedEvent ) {\r\n\r\n\t\tvar event = namespacedEvent && namespacedEvent.split('.')[0];\r\n\t\tvar namespace = event && namespacedEvent.substring(event.length);\r\n\r\n\t\tObject.keys(scope_Events).forEach(function( bind ){\r\n\r\n\t\t\tvar tEvent = bind.split('.')[0];\r\n\t\t\tvar tNamespace = bind.substring(tEvent.length);\r\n\r\n\t\t\tif ( (!event || event === tEvent) && (!namespace || namespace === tNamespace) ) {\r\n\t\t\t\tdelete scope_Events[bind];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// External event handling\r\n\tfunction fireEvent ( eventName, handleNumber, tap ) {\r\n\r\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\r\n\r\n\t\t\tvar eventType = targetEvent.split('.')[0];\r\n\r\n\t\t\tif ( eventName === eventType ) {\r\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\r\n\r\n\t\t\t\t\tcallback.call(\r\n\t\t\t\t\t\t// Use the slider public API as the scope ('this')\r\n\t\t\t\t\t\tscope_Self,\r\n\t\t\t\t\t\t// Return values as array, so arg_1[arg_2] is always valid.\r\n\t\t\t\t\t\tscope_Values.map(options.format.to),\r\n\t\t\t\t\t\t// Handle index, 0 or 1\r\n\t\t\t\t\t\thandleNumber,\r\n\t\t\t\t\t\t// Unformatted slider values\r\n\t\t\t\t\t\tscope_Values.slice(),\r\n\t\t\t\t\t\t// Event is fired by tap, true or false\r\n\t\t\t\t\t\ttap || false,\r\n\t\t\t\t\t\t// Left offset of the handle, in relation to the slider\r\n\t\t\t\t\t\tscope_Locations.slice()\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n/*! In this file: Mechanics for slider operation */\r\n\r\n\tfunction toPct ( pct ) {\r\n\t\treturn pct + '%';\r\n\t}\r\n\r\n\t// Split out the handle positioning logic so the Move event can use it, too\r\n\tfunction checkHandlePosition ( reference, handleNumber, to, lookBackward, lookForward, getValue ) {\r\n\r\n\t\t// For sliders with multiple handles, limit movement to the other handle.\r\n\t\t// Apply the margin option by adding it to the handle positions.\r\n\t\tif ( scope_Handles.length > 1 ) {\r\n\r\n\t\t\tif ( lookBackward && handleNumber > 0 ) {\r\n\t\t\t\tto = Math.max(to, reference[handleNumber - 1] + options.margin);\r\n\t\t\t}\r\n\r\n\t\t\tif ( lookForward && handleNumber < scope_Handles.length - 1 ) {\r\n\t\t\t\tto = Math.min(to, reference[handleNumber + 1] - options.margin);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// The limit option has the opposite effect, limiting handles to a\r\n\t\t// maximum distance from another. Limit must be > 0, as otherwise\r\n\t\t// handles would be unmoveable.\r\n\t\tif ( scope_Handles.length > 1 && options.limit ) {\r\n\r\n\t\t\tif ( lookBackward && handleNumber > 0 ) {\r\n\t\t\t\tto = Math.min(to, reference[handleNumber - 1] + options.limit);\r\n\t\t\t}\r\n\r\n\t\t\tif ( lookForward && handleNumber < scope_Handles.length - 1 ) {\r\n\t\t\t\tto = Math.max(to, reference[handleNumber + 1] - options.limit);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// The padding option keeps the handles a certain distance from the\r\n\t\t// edges of the slider. Padding must be > 0.\r\n\t\tif ( options.padding ) {\r\n\r\n\t\t\tif ( handleNumber === 0 ) {\r\n\t\t\t\tto = Math.max(to, options.padding[0]);\r\n\t\t\t}\r\n\r\n\t\t\tif ( handleNumber === scope_Handles.length - 1 ) {\r\n\t\t\t\tto = Math.min(to, 100 - options.padding[1]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tto = scope_Spectrum.getStep(to);\r\n\r\n\t\t// Limit percentage to the 0 - 100 range\r\n\t\tto = limit(to);\r\n\r\n\t\t// Return false if handle can't move\r\n\t\tif ( to === reference[handleNumber] && !getValue ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn to;\r\n\t}\r\n\r\n\t// Uses slider orientation to create CSS rules. a = base value;\r\n\tfunction inRuleOrder ( v, a ) {\r\n\t\tvar o = options.ort;\r\n\t\treturn (o?a:v) + ', ' + (o?v:a);\r\n\t}\r\n\r\n\t// Moves handle(s) by a percentage\r\n\t// (bool, % to move, [% where handle started, ...], [index in scope_Handles, ...])\r\n\tfunction moveHandles ( upward, proposal, locations, handleNumbers ) {\r\n\r\n\t\tvar proposals = locations.slice();\r\n\r\n\t\tvar b = [!upward, upward];\r\n\t\tvar f = [upward, !upward];\r\n\r\n\t\t// Copy handleNumbers so we don't change the dataset\r\n\t\thandleNumbers = handleNumbers.slice();\r\n\r\n\t\t// Check to see which handle is 'leading'.\r\n\t\t// If that one can't move the second can't either.\r\n\t\tif ( upward ) {\r\n\t\t\thandleNumbers.reverse();\r\n\t\t}\r\n\r\n\t\t// Step 1: get the maximum percentage that any of the handles can move\r\n\t\tif ( handleNumbers.length > 1 ) {\r\n\r\n\t\t\thandleNumbers.forEach(function(handleNumber, o) {\r\n\r\n\t\t\t\tvar to = checkHandlePosition(proposals, handleNumber, proposals[handleNumber] + proposal, b[o], f[o], false);\r\n\r\n\t\t\t\t// Stop if one of the handles can't move.\r\n\t\t\t\tif ( to === false ) {\r\n\t\t\t\t\tproposal = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tproposal = to - proposals[handleNumber];\r\n\t\t\t\t\tproposals[handleNumber] = to;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// If using one handle, check backward AND forward\r\n\t\telse {\r\n\t\t\tb = f = [true];\r\n\t\t}\r\n\r\n\t\tvar state = false;\r\n\r\n\t\t// Step 2: Try to set the handles with the found percentage\r\n\t\thandleNumbers.forEach(function(handleNumber, o) {\r\n\t\t\tstate = setHandle(handleNumber, locations[handleNumber] + proposal, b[o], f[o]) || state;\r\n\t\t});\r\n\r\n\t\t// Step 3: If a handle moved, fire events\r\n\t\tif ( state ) {\r\n\t\t\thandleNumbers.forEach(function(handleNumber){\r\n\t\t\t\tfireEvent('update', handleNumber);\r\n\t\t\t\tfireEvent('slide', handleNumber);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Takes a base value and an offset. This offset is used for the connect bar size.\r\n\t// In the initial design for this feature, the origin element was 1% wide.\r\n\t// Unfortunately, a rounding bug in Chrome makes it impossible to implement this feature\r\n\t// in this manner: https://bugs.chromium.org/p/chromium/issues/detail?id=798223\r\n\tfunction transformDirection ( a, b ) {\r\n\t\treturn options.dir ? 100 - a - b : a;\r\n\t}\r\n\r\n\t// Updates scope_Locations and scope_Values, updates visual state\r\n\tfunction updateHandlePosition ( handleNumber, to ) {\r\n\r\n\t\t// Update locations.\r\n\t\tscope_Locations[handleNumber] = to;\r\n\r\n\t\t// Convert the value to the slider stepping/range.\r\n\t\tscope_Values[handleNumber] = scope_Spectrum.fromStepping(to);\r\n\r\n\t\tvar rule = 'translate(' + inRuleOrder(toPct(transformDirection(to, 0) - scope_DirOffset), '0') + ')';\r\n\t\tscope_Handles[handleNumber].style[options.transformRule] = rule;\r\n\r\n\t\tupdateConnect(handleNumber);\r\n\t\tupdateConnect(handleNumber + 1);\r\n\t}\r\n\r\n\t// Handles before the slider middle are stacked later = higher,\r\n\t// Handles after the middle later is lower\r\n\t// [[7] [8] .......... | .......... [5] [4]\r\n\tfunction setZindex ( ) {\r\n\r\n\t\tscope_HandleNumbers.forEach(function(handleNumber){\r\n\t\t\tvar dir = (scope_Locations[handleNumber] > 50 ? -1 : 1);\r\n\t\t\tvar zIndex = 3 + (scope_Handles.length + (dir * handleNumber));\r\n\t\t\tscope_Handles[handleNumber].style.zIndex = zIndex;\r\n\t\t});\r\n\t}\r\n\r\n\t// Test suggested values and apply margin, step.\r\n\tfunction setHandle ( handleNumber, to, lookBackward, lookForward ) {\r\n\r\n\t\tto = checkHandlePosition(scope_Locations, handleNumber, to, lookBackward, lookForward, false);\r\n\r\n\t\tif ( to === false ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tupdateHandlePosition(handleNumber, to);\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// Updates style attribute for connect nodes\r\n\tfunction updateConnect ( index ) {\r\n\r\n\t\t// Skip connects set to false\r\n\t\tif ( !scope_Connects[index] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar l = 0;\r\n\t\tvar h = 100;\r\n\r\n\t\tif ( index !== 0 ) {\r\n\t\t\tl = scope_Locations[index - 1];\r\n\t\t}\r\n\r\n\t\tif ( index !== scope_Connects.length - 1 ) {\r\n\t\t\th = scope_Locations[index];\r\n\t\t}\r\n\r\n\t\t// We use two rules:\r\n\t\t// 'translate' to change the left/top offset;\r\n\t\t// 'scale' to change the width of the element;\r\n\t\t// As the element has a width of 100%, a translation of 100% is equal to 100% of the parent (.noUi-base)\r\n\t\tvar connectWidth = h - l;\r\n\t\tvar translateRule = 'translate(' + inRuleOrder(toPct(transformDirection(l, connectWidth)), '0') + ')';\r\n\t\tvar scaleRule = 'scale(' + inRuleOrder(connectWidth / 100, '1') + ')';\r\n\r\n\t\tscope_Connects[index].style[options.transformRule] = translateRule + ' ' + scaleRule;\r\n\t}\r\n\r\n/*! In this file: All methods eventually exposed in slider.noUiSlider... */\r\n\r\n\t// Parses value passed to .set method. Returns current value if not parse-able.\r\n\tfunction resolveToValue ( to, handleNumber ) {\r\n\r\n\t\t// Setting with null indicates an 'ignore'.\r\n\t\t// Inputting 'false' is invalid.\r\n\t\tif ( to === null || to === false || to === undefined ) {\r\n\t\t\treturn scope_Locations[handleNumber];\r\n\t\t}\r\n\r\n\t\t// If a formatted number was passed, attempt to decode it.\r\n\t\tif ( typeof to === 'number' ) {\r\n\t\t\tto = String(to);\r\n\t\t}\r\n\r\n\t\tto = options.format.from(to);\r\n\t\tto = scope_Spectrum.toStepping(to);\r\n\r\n\t\t// If parsing the number failed, use the current value.\r\n\t\tif ( to === false || isNaN(to) ) {\r\n\t\t\treturn scope_Locations[handleNumber];\r\n\t\t}\r\n\r\n\t\treturn to;\r\n\t}\r\n\r\n\t// Set the slider value.\r\n\tfunction valueSet ( input, fireSetEvent ) {\r\n\r\n\t\tvar values = asArray(input);\r\n\t\tvar isInit = scope_Locations[0] === undefined;\r\n\r\n\t\t// Event fires by default\r\n\t\tfireSetEvent = (fireSetEvent === undefined ? true : !!fireSetEvent);\r\n\r\n\t\t// Animation is optional.\r\n\t\t// Make sure the initial values were set before using animated placement.\r\n\t\tif ( options.animate && !isInit ) {\r\n\t\t\taddClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\r\n\t\t}\r\n\r\n\t\t// First pass, without lookAhead but with lookBackward. Values are set from left to right.\r\n\t\tscope_HandleNumbers.forEach(function(handleNumber){\r\n\t\t\tsetHandle(handleNumber, resolveToValue(values[handleNumber], handleNumber), true, false);\r\n\t\t});\r\n\r\n\t\t// Second pass. Now that all base values are set, apply constraints\r\n\t\tscope_HandleNumbers.forEach(function(handleNumber){\r\n\t\t\tsetHandle(handleNumber, scope_Locations[handleNumber], true, true);\r\n\t\t});\r\n\r\n\t\tsetZindex();\r\n\r\n\t\tscope_HandleNumbers.forEach(function(handleNumber){\r\n\r\n\t\t\tfireEvent('update', handleNumber);\r\n\r\n\t\t\t// Fire the event only for handles that received a new value, as per #579\r\n\t\t\tif ( values[handleNumber] !== null && fireSetEvent ) {\r\n\t\t\t\tfireEvent('set', handleNumber);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Reset slider to initial values\r\n\tfunction valueReset ( fireSetEvent ) {\r\n\t\tvalueSet(options.start, fireSetEvent);\r\n\t}\r\n\r\n\t// Get the slider value.\r\n\tfunction valueGet ( ) {\r\n\r\n\t\tvar values = scope_Values.map(options.format.to);\r\n\r\n\t\t// If only one handle is used, return a single value.\r\n\t\tif ( values.length === 1 ){\r\n\t\t\treturn values[0];\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t}\r\n\r\n\t// Removes classes from the root and empties it.\r\n\tfunction destroy ( ) {\r\n\r\n\t\tfor ( var key in options.cssClasses ) {\r\n\t\t\tif ( !options.cssClasses.hasOwnProperty(key) ) { continue; }\r\n\t\t\tremoveClass(scope_Target, options.cssClasses[key]);\r\n\t\t}\r\n\r\n\t\twhile (scope_Target.firstChild) {\r\n\t\t\tscope_Target.removeChild(scope_Target.firstChild);\r\n\t\t}\r\n\r\n\t\tdelete scope_Target.noUiSlider;\r\n\t}\r\n\r\n\t// Get the current step size for the slider.\r\n\tfunction getCurrentStep ( ) {\r\n\r\n\t\t// Check all locations, map them to their stepping point.\r\n\t\t// Get the step point, then find it in the input list.\r\n\t\treturn scope_Locations.map(function( location, index ){\r\n\r\n\t\t\tvar nearbySteps = scope_Spectrum.getNearbySteps( location );\r\n\t\t\tvar value = scope_Values[index];\r\n\t\t\tvar increment = nearbySteps.thisStep.step;\r\n\t\t\tvar decrement = null;\r\n\r\n\t\t\t// If the next value in this step moves into the next step,\r\n\t\t\t// the increment is the start of the next step - the current value\r\n\t\t\tif ( increment !== false ) {\r\n\t\t\t\tif ( value + increment > nearbySteps.stepAfter.startValue ) {\r\n\t\t\t\t\tincrement = nearbySteps.stepAfter.startValue - value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// If the value is beyond the starting point\r\n\t\t\tif ( value > nearbySteps.thisStep.startValue ) {\r\n\t\t\t\tdecrement = nearbySteps.thisStep.step;\r\n\t\t\t}\r\n\r\n\t\t\telse if ( nearbySteps.stepBefore.step === false ) {\r\n\t\t\t\tdecrement = false;\r\n\t\t\t}\r\n\r\n\t\t\t// If a handle is at the start of a step, it always steps back into the previous step first\r\n\t\t\telse {\r\n\t\t\t\tdecrement = value - nearbySteps.stepBefore.highestStep;\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// Now, if at the slider edges, there is not in/decrement\r\n\t\t\tif ( location === 100 ) {\r\n\t\t\t\tincrement = null;\r\n\t\t\t}\r\n\r\n\t\t\telse if ( location === 0 ) {\r\n\t\t\t\tdecrement = null;\r\n\t\t\t}\r\n\r\n\t\t\t// As per #391, the comparison for the decrement step can have some rounding issues.\r\n\t\t\tvar stepDecimals = scope_Spectrum.countStepDecimals();\r\n\r\n\t\t\t// Round per #391\r\n\t\t\tif ( increment !== null && increment !== false ) {\r\n\t\t\t\tincrement = Number(increment.toFixed(stepDecimals));\r\n\t\t\t}\r\n\r\n\t\t\tif ( decrement !== null && decrement !== false ) {\r\n\t\t\t\tdecrement = Number(decrement.toFixed(stepDecimals));\r\n\t\t\t}\r\n\r\n\t\t\treturn [decrement, increment];\r\n\t\t});\r\n\t}\r\n\r\n\t// Updateable: margin, limit, padding, step, range, animate, snap\r\n\tfunction updateOptions ( optionsToUpdate, fireSetEvent ) {\r\n\r\n\t\t// Spectrum is created using the range, snap, direction and step options.\r\n\t\t// 'snap' and 'step' can be updated.\r\n\t\t// If 'snap' and 'step' are not passed, they should remain unchanged.\r\n\t\tvar v = valueGet();\r\n\r\n\t\tvar updateAble = ['margin', 'limit', 'padding', 'range', 'animate', 'snap', 'step', 'format'];\r\n\r\n\t\t// Only change options that we're actually passed to update.\r\n\t\tupdateAble.forEach(function(name){\r\n\t\t\tif ( optionsToUpdate[name] !== undefined ) {\r\n\t\t\t\toriginalOptions[name] = optionsToUpdate[name];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar newOptions = testOptions(originalOptions);\r\n\r\n\t\t// Load new options into the slider state\r\n\t\tupdateAble.forEach(function(name){\r\n\t\t\tif ( optionsToUpdate[name] !== undefined ) {\r\n\t\t\t\toptions[name] = newOptions[name];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tscope_Spectrum = newOptions.spectrum;\r\n\r\n\t\t// Limit, margin and padding depend on the spectrum but are stored outside of it. (#677)\r\n\t\toptions.margin = newOptions.margin;\r\n\t\toptions.limit = newOptions.limit;\r\n\t\toptions.padding = newOptions.padding;\r\n\r\n\t\t// Update pips, removes existing.\r\n\t\tif ( options.pips ) {\r\n\t\t\tpips(options.pips);\r\n\t\t}\r\n\r\n\t\t// Invalidate the current positioning so valueSet forces an update.\r\n\t\tscope_Locations = [];\r\n\t\tvalueSet(optionsToUpdate.start || v, fireSetEvent);\r\n\t}\r\n\r\n/*! In this file: Calls to functions. All other scope_ files define functions only; */\r\n\r\n\t// Create the base element, initialize HTML and set classes.\r\n\t// Add handles and connect elements.\r\n\taddSlider(scope_Target);\r\n\taddElements(options.connect, scope_Base);\r\n\r\n\t// Attach user events.\r\n\tbindSliderEvents(options.events);\r\n\r\n\t// Use the public value method to set the start values.\r\n\tvalueSet(options.start);\r\n\r\n\tscope_Self = {\r\n\t\tdestroy: destroy,\r\n\t\tsteps: getCurrentStep,\r\n\t\ton: bindEvent,\r\n\t\toff: removeEvent,\r\n\t\tget: valueGet,\r\n\t\tset: valueSet,\r\n\t\treset: valueReset,\r\n\t\t// Exposed for unit testing, don't use this in your application.\r\n\t\t__moveHandles: function(a, b, c) { moveHandles(a, b, scope_Locations, c); },\r\n\t\toptions: originalOptions, // Issue #600, #678\r\n\t\tupdateOptions: updateOptions,\r\n\t\ttarget: scope_Target, // Issue #597\r\n\t\tremovePips: removePips,\r\n\t\tpips: pips // Issue #594\r\n\t};\r\n\r\n\tif ( options.pips ) {\r\n\t\tpips(options.pips);\r\n\t}\r\n\r\n\tif ( options.tooltips ) {\r\n\t\ttooltips();\r\n\t}\r\n\r\n\taria();\r\n\r\n\treturn scope_Self;\r\n\r\n}\r\n\r\n\r\n\t// Run the standard initializer\r\n\tfunction initialize ( target, originalOptions ) {\r\n\r\n\t\tif ( !target || !target.nodeName ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): create requires a single element, got: \" + target);\r\n\t\t}\r\n\r\n\t\t// Throw an error if the slider was already initialized.\r\n\t\tif ( target.noUiSlider ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): Slider was already initialized.\");\r\n\t\t}\r\n\r\n\t\t// Test the options and create the slider environment;\r\n\t\tvar options = testOptions( originalOptions, target );\r\n\t\tvar api = scope( target, options, originalOptions );\r\n\r\n\t\ttarget.noUiSlider = api;\r\n\r\n\t\treturn api;\r\n\t}\r\n\r\n\t// Use an object instead of a function for future expandability;\r\n\treturn {\r\n\t\tversion: VERSION,\r\n\t\tcreate: initialize\r\n\t};\r\n\r\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L25vdWlzbGlkZXIvZGlzdHJpYnV0ZS9ub3Vpc2xpZGVyLmpzPzgxMDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFD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QUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxtQkFBbUIsb0JBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QyxVQUFVOztBQUVqRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDLGFBQWEsd0JBQXdCO0FBQ3JDLGVBQWUsMEJBQTBCO0FBQ3pDLGlCQUFpQiw0QkFBNEI7QUFDN0MsWUFBWSx3QkFBd0I7QUFDcEMsZUFBZSwyQkFBMkI7QUFDMUMseUJBQXlCLHFDQUFxQztBQUM5RCxhQUFhLHdCQUF3QjtBQUNyQyxtQkFBbUIsK0JBQStCO0FBQ2xELGNBQWMsMEJBQTBCO0FBQ3hDLGFBQWEseUJBQXlCO0FBQ3RDLGVBQWUsMkJBQTJCO0FBQzFDLGlCQUFpQiw0QkFBNEI7QUFDN0Msa0JBQWtCLDhCQUE4QjtBQUNoRCxjQUFjLDBCQUEwQjtBQUN4QyxnQkFBZ0IsNEJBQTRCO0FBQzVDLGlCQUFpQiw0QkFBNEI7QUFDN0Msa0JBQWtCO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUEsK0NBQStDOztBQUUvQztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsY0FBYyxFQUFFOztBQUVuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsV0FBVzs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0VBQXdFOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esa0VBQWtFLGdCQUFnQjtBQUNsRjtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4Qjs7QUFFOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLGdDQUFnQztBQUN0RDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxjQUFjO0FBQ3JFOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxxREFBcUQ7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxVQUFVO0FBQzdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUZBQW1GOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVDQUF1QyxFQUFFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgbm91aXNsaWRlciAtIDExLjEuMCAtIDIwMTgtMDQtMDIgMTE6MTg6MTMgKi9cclxuXHJcbihmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG5cclxuICAgIGlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xyXG5cclxuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XHJcblxyXG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcclxuICAgICAgICB3aW5kb3cubm9VaVNsaWRlciA9IGZhY3RvcnkoKTtcclxuICAgIH1cclxuXHJcbn0oZnVuY3Rpb24oICl7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0dmFyIFZFUlNJT04gPSAnMTEuMS4wJztcclxuXHJcblxuXHRmdW5jdGlvbiBpc1ZhbGlkRm9ybWF0dGVyICggZW50cnkgKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGVudHJ5LnRvID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbnRyeS5mcm9tID09PSAnZnVuY3Rpb24nO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCAoIGVsICkge1xuXHRcdGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNTZXQgKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIEJpbmRhYmxlIHZlcnNpb25cblx0ZnVuY3Rpb24gcHJldmVudERlZmF1bHQgKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXG5cdC8vIFJlbW92ZXMgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5LlxuXHRmdW5jdGlvbiB1bmlxdWUgKCBhcnJheSApIHtcblx0XHRyZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGEpe1xuXHRcdFx0cmV0dXJuICF0aGlzW2FdID8gdGhpc1thXSA9IHRydWUgOiBmYWxzZTtcblx0XHR9LCB7fSk7XG5cdH1cblxuXHQvLyBSb3VuZCBhIHZhbHVlIHRvIHRoZSBjbG9zZXN0ICd0bycuXG5cdGZ1bmN0aW9uIGNsb3Nlc3QgKCB2YWx1ZSwgdG8gKSB7XG5cdFx0cmV0dXJuIE1hdGgucm91bmQodmFsdWUgLyB0bykgKiB0bztcblx0fVxuXG5cdC8vIEN1cnJlbnQgcG9zaXRpb24gb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQuXG5cdGZ1bmN0aW9uIG9mZnNldCAoIGVsZW0sIG9yaWVudGF0aW9uICkge1xuXG5cdFx0dmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHZhciBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0dmFyIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdHZhciBwYWdlT2Zmc2V0ID0gZ2V0UGFnZU9mZnNldChkb2MpO1xuXG5cdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGNvbnRhaW5zIGxlZnQgc2Nyb2xsIGluIENocm9tZSBvbiBBbmRyb2lkLlxuXHRcdC8vIEkgaGF2ZW4ndCBmb3VuZCBhIGZlYXR1cmUgZGV0ZWN0aW9uIHRoYXQgcHJvdmVzIHRoaXMuIFdvcnN0IGNhc2Vcblx0XHQvLyBzY2VuYXJpbyBvbiBtaXMtbWF0Y2g6IHRoZSAndGFwJyBmZWF0dXJlIG9uIGhvcml6b250YWwgc2xpZGVycyBicmVha3MuXG5cdFx0aWYgKCAvd2Via2l0LipDaHJvbWUuKk1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgKSB7XG5cdFx0XHRwYWdlT2Zmc2V0LnggPSAwO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmllbnRhdGlvbiA/IChyZWN0LnRvcCArIHBhZ2VPZmZzZXQueSAtIGRvY0VsZW0uY2xpZW50VG9wKSA6IChyZWN0LmxlZnQgKyBwYWdlT2Zmc2V0LnggLSBkb2NFbGVtLmNsaWVudExlZnQpO1xuXHR9XG5cblx0Ly8gQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBudW1lcmljYWwuXG5cdGZ1bmN0aW9uIGlzTnVtZXJpYyAoIGEgKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBhID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oIGEgKSAmJiBpc0Zpbml0ZSggYSApO1xuXHR9XG5cblx0Ly8gU2V0cyBhIGNsYXNzIGFuZCByZW1vdmVzIGl0IGFmdGVyIFtkdXJhdGlvbl0gbXMuXG5cdGZ1bmN0aW9uIGFkZENsYXNzRm9yICggZWxlbWVudCwgY2xhc3NOYW1lLCBkdXJhdGlvbiApIHtcblx0XHRpZiAoZHVyYXRpb24gPiAwKSB7XG5cdFx0YWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0cmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcblx0XHRcdH0sIGR1cmF0aW9uKTtcblx0XHR9XG5cdH1cblxuXHQvLyBMaW1pdHMgYSB2YWx1ZSB0byAwIC0gMTAwXG5cdGZ1bmN0aW9uIGxpbWl0ICggYSApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSwgMTAwKSwgMCk7XG5cdH1cblxuXHQvLyBXcmFwcyBhIHZhcmlhYmxlIGFzIGFuIGFycmF5LCBpZiBpdCBpc24ndCBvbmUgeWV0LlxuXHQvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuXHRmdW5jdGlvbiBhc0FycmF5ICggYSApIHtcblx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG5cdH1cblxuXHQvLyBDb3VudHMgZGVjaW1hbHNcblx0ZnVuY3Rpb24gY291bnREZWNpbWFscyAoIG51bVN0ciApIHtcblx0XHRudW1TdHIgPSBTdHJpbmcobnVtU3RyKTtcblx0XHR2YXIgcGllY2VzID0gbnVtU3RyLnNwbGl0KFwiLlwiKTtcblx0XHRyZXR1cm4gcGllY2VzLmxlbmd0aCA+IDEgPyBwaWVjZXNbMV0ubGVuZ3RoIDogMDtcblx0fVxuXG5cdC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNhZGRfY2xhc3Ncblx0ZnVuY3Rpb24gYWRkQ2xhc3MgKCBlbCwgY2xhc3NOYW1lICkge1xuXHRcdGlmICggZWwuY2xhc3NMaXN0ICkge1xuXHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xuXHRcdH1cblx0fVxuXG5cdC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3Ncblx0ZnVuY3Rpb24gcmVtb3ZlQ2xhc3MgKCBlbCwgY2xhc3NOYW1lICkge1xuXHRcdGlmICggZWwuY2xhc3NMaXN0ICkge1xuXHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xuXHRcdH1cblx0fVxuXG5cdC8vIGh0dHBzOi8vcGxhaW5qcy5jb20vamF2YXNjcmlwdC9hdHRyaWJ1dGVzL2FkZGluZy1yZW1vdmluZy1hbmQtdGVzdGluZy1mb3ItY2xhc3Nlcy05L1xuXHRmdW5jdGlvbiBoYXNDbGFzcyAoIGVsLCBjbGFzc05hbWUgKSB7XG5cdFx0cmV0dXJuIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpIDogbmV3IFJlZ0V4cCgnXFxcXGInICsgY2xhc3NOYW1lICsgJ1xcXFxiJykudGVzdChlbC5jbGFzc05hbWUpO1xuXHR9XG5cblx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9zY3JvbGxZI05vdGVzXG5cdGZ1bmN0aW9uIGdldFBhZ2VPZmZzZXQgKCBkb2MgKSB7XG5cblx0XHR2YXIgc3VwcG9ydFBhZ2VPZmZzZXQgPSB3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZDtcblx0XHR2YXIgaXNDU1MxQ29tcGF0ID0gKChkb2MuY29tcGF0TW9kZSB8fCBcIlwiKSA9PT0gXCJDU1MxQ29tcGF0XCIpO1xuXHRcdHZhciB4ID0gc3VwcG9ydFBhZ2VPZmZzZXQgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiBpc0NTUzFDb21wYXQgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOiBkb2MuYm9keS5zY3JvbGxMZWZ0O1xuXHRcdHZhciB5ID0gc3VwcG9ydFBhZ2VPZmZzZXQgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiBpc0NTUzFDb21wYXQgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvYy5ib2R5LnNjcm9sbFRvcDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR4OiB4LFxuXHRcdFx0eTogeVxuXHRcdH07XG5cdH1cblxyXG5cdC8vIHdlIHByb3ZpZGUgYSBmdW5jdGlvbiB0byBjb21wdXRlIGNvbnN0YW50cyBpbnN0ZWFkXHJcblx0Ly8gb2YgYWNjZXNzaW5nIHdpbmRvdy4qIGFzIHNvb24gYXMgdGhlIG1vZHVsZSBuZWVkcyBpdFxyXG5cdC8vIHNvIHRoYXQgd2UgZG8gbm90IGNvbXB1dGUgYW55dGhpbmcgaWYgbm90IG5lZWRlZFxyXG5cdGZ1bmN0aW9uIGdldEFjdGlvbnMgKCApIHtcclxuXHJcblx0XHQvLyBEZXRlcm1pbmUgdGhlIGV2ZW50cyB0byBiaW5kLiBJRTExIGltcGxlbWVudHMgcG9pbnRlckV2ZW50cyB3aXRob3V0XHJcblx0XHQvLyBhIHByZWZpeCwgd2hpY2ggYnJlYWtzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgSUUxMCBpbXBsZW1lbnRhdGlvbi5cclxuXHRcdHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkID8ge1xyXG5cdFx0XHRzdGFydDogJ3BvaW50ZXJkb3duJyxcclxuXHRcdFx0bW92ZTogJ3BvaW50ZXJtb3ZlJyxcclxuXHRcdFx0ZW5kOiAncG9pbnRlcnVwJ1xyXG5cdFx0fSA6IHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCA/IHtcclxuXHRcdFx0c3RhcnQ6ICdNU1BvaW50ZXJEb3duJyxcclxuXHRcdFx0bW92ZTogJ01TUG9pbnRlck1vdmUnLFxyXG5cdFx0XHRlbmQ6ICdNU1BvaW50ZXJVcCdcclxuXHRcdH0gOiB7XHJcblx0XHRcdHN0YXJ0OiAnbW91c2Vkb3duIHRvdWNoc3RhcnQnLFxyXG5cdFx0XHRtb3ZlOiAnbW91c2Vtb3ZlIHRvdWNobW92ZScsXHJcblx0XHRcdGVuZDogJ21vdXNldXAgdG91Y2hlbmQnXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWRcclxuXHQvLyBJc3N1ZSAjNzg1XHJcblx0ZnVuY3Rpb24gZ2V0U3VwcG9ydHNQYXNzaXZlICggKSB7XHJcblxyXG5cdFx0dmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xyXG5cclxuXHRcdHRyeSB7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XHJcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XHJcblxyXG5cdFx0fSBjYXRjaCAoZSkge31cclxuXHJcblx0XHRyZXR1cm4gc3VwcG9ydHNQYXNzaXZlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgKCApIHtcclxuXHRcdHJldHVybiB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsICdub25lJyk7XHJcblx0fVxyXG5cclxuXHJcbi8vIFZhbHVlIGNhbGN1bGF0aW9uXHJcblxyXG5cdC8vIERldGVybWluZSB0aGUgc2l6ZSBvZiBhIHN1Yi1yYW5nZSBpbiByZWxhdGlvbiB0byBhIGZ1bGwgcmFuZ2UuXHJcblx0ZnVuY3Rpb24gc3ViUmFuZ2VSYXRpbyAoIHBhLCBwYiApIHtcclxuXHRcdHJldHVybiAoMTAwIC8gKHBiIC0gcGEpKTtcclxuXHR9XHJcblxyXG5cdC8vIChwZXJjZW50YWdlKSBIb3cgbWFueSBwZXJjZW50IGlzIHRoaXMgdmFsdWUgb2YgdGhpcyByYW5nZT9cclxuXHRmdW5jdGlvbiBmcm9tUGVyY2VudGFnZSAoIHJhbmdlLCB2YWx1ZSApIHtcclxuXHRcdHJldHVybiAodmFsdWUgKiAxMDApIC8gKCByYW5nZVsxXSAtIHJhbmdlWzBdICk7XHJcblx0fVxyXG5cclxuXHQvLyAocGVyY2VudGFnZSkgV2hlcmUgaXMgdGhpcyB2YWx1ZSBvbiB0aGlzIHJhbmdlP1xyXG5cdGZ1bmN0aW9uIHRvUGVyY2VudGFnZSAoIHJhbmdlLCB2YWx1ZSApIHtcclxuXHRcdHJldHVybiBmcm9tUGVyY2VudGFnZSggcmFuZ2UsIHJhbmdlWzBdIDwgMCA/XHJcblx0XHRcdHZhbHVlICsgTWF0aC5hYnMocmFuZ2VbMF0pIDpcclxuXHRcdFx0XHR2YWx1ZSAtIHJhbmdlWzBdICk7XHJcblx0fVxyXG5cclxuXHQvLyAodmFsdWUpIEhvdyBtdWNoIGlzIHRoaXMgcGVyY2VudGFnZSBvbiB0aGlzIHJhbmdlP1xyXG5cdGZ1bmN0aW9uIGlzUGVyY2VudGFnZSAoIHJhbmdlLCB2YWx1ZSApIHtcclxuXHRcdHJldHVybiAoKHZhbHVlICogKCByYW5nZVsxXSAtIHJhbmdlWzBdICkpIC8gMTAwKSArIHJhbmdlWzBdO1xyXG5cdH1cclxuXHJcblxyXG4vLyBSYW5nZSBjb252ZXJzaW9uXHJcblxyXG5cdGZ1bmN0aW9uIGdldEogKCB2YWx1ZSwgYXJyICkge1xyXG5cclxuXHRcdHZhciBqID0gMTtcclxuXHJcblx0XHR3aGlsZSAoIHZhbHVlID49IGFycltqXSApe1xyXG5cdFx0XHRqICs9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGo7XHJcblx0fVxyXG5cclxuXHQvLyAocGVyY2VudGFnZSkgSW5wdXQgYSB2YWx1ZSwgZmluZCB3aGVyZSwgb24gYSBzY2FsZSBvZiAwLTEwMCwgaXQgYXBwbGllcy5cclxuXHRmdW5jdGlvbiB0b1N0ZXBwaW5nICggeFZhbCwgeFBjdCwgdmFsdWUgKSB7XHJcblxyXG5cdFx0aWYgKCB2YWx1ZSA+PSB4VmFsLnNsaWNlKC0xKVswXSApe1xyXG5cdFx0XHRyZXR1cm4gMTAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBqID0gZ2V0SiggdmFsdWUsIHhWYWwgKTtcclxuXHRcdHZhciB2YSA9IHhWYWxbai0xXTtcclxuXHRcdHZhciB2YiA9IHhWYWxbal07XHJcblx0XHR2YXIgcGEgPSB4UGN0W2otMV07XHJcblx0XHR2YXIgcGIgPSB4UGN0W2pdO1xyXG5cclxuXHRcdHJldHVybiBwYSArICh0b1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sIHZhbHVlKSAvIHN1YlJhbmdlUmF0aW8gKHBhLCBwYikpO1xyXG5cdH1cclxuXHJcblx0Ly8gKHZhbHVlKSBJbnB1dCBhIHBlcmNlbnRhZ2UsIGZpbmQgd2hlcmUgaXQgaXMgb24gdGhlIHNwZWNpZmllZCByYW5nZS5cclxuXHRmdW5jdGlvbiBmcm9tU3RlcHBpbmcgKCB4VmFsLCB4UGN0LCB2YWx1ZSApIHtcclxuXHJcblx0XHQvLyBUaGVyZSBpcyBubyByYW5nZSBncm91cCB0aGF0IGZpdHMgMTAwXHJcblx0XHRpZiAoIHZhbHVlID49IDEwMCApe1xyXG5cdFx0XHRyZXR1cm4geFZhbC5zbGljZSgtMSlbMF07XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGogPSBnZXRKKCB2YWx1ZSwgeFBjdCApO1xyXG5cdFx0dmFyIHZhID0geFZhbFtqLTFdO1xyXG5cdFx0dmFyIHZiID0geFZhbFtqXTtcclxuXHRcdHZhciBwYSA9IHhQY3Rbai0xXTtcclxuXHRcdHZhciBwYiA9IHhQY3Rbal07XHJcblxyXG5cdFx0cmV0dXJuIGlzUGVyY2VudGFnZShbdmEsIHZiXSwgKHZhbHVlIC0gcGEpICogc3ViUmFuZ2VSYXRpbyAocGEsIHBiKSk7XHJcblx0fVxyXG5cclxuXHQvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuXHJcblx0ZnVuY3Rpb24gZ2V0U3RlcCAoIHhQY3QsIHhTdGVwcywgc25hcCwgdmFsdWUgKSB7XHJcblxyXG5cdFx0aWYgKCB2YWx1ZSA9PT0gMTAwICkge1xyXG5cdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGogPSBnZXRKKCB2YWx1ZSwgeFBjdCApO1xyXG5cdFx0dmFyIGEgPSB4UGN0W2otMV07XHJcblx0XHR2YXIgYiA9IHhQY3Rbal07XHJcblxyXG5cdFx0Ly8gSWYgJ3NuYXAnIGlzIHNldCwgc3RlcHMgYXJlIHVzZWQgYXMgZml4ZWQgcG9pbnRzIG9uIHRoZSBzbGlkZXIuXHJcblx0XHRpZiAoIHNuYXAgKSB7XHJcblxyXG5cdFx0XHQvLyBGaW5kIHRoZSBjbG9zZXN0IHBvc2l0aW9uLCBhIG9yIGIuXHJcblx0XHRcdGlmICgodmFsdWUgLSBhKSA+ICgoYi1hKS8yKSl7XHJcblx0XHRcdFx0cmV0dXJuIGI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBhO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggIXhTdGVwc1tqLTFdICl7XHJcblx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4geFBjdFtqLTFdICsgY2xvc2VzdChcclxuXHRcdFx0dmFsdWUgLSB4UGN0W2otMV0sXHJcblx0XHRcdHhTdGVwc1tqLTFdXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblxyXG4vLyBFbnRyeSBwYXJzaW5nXHJcblxyXG5cdGZ1bmN0aW9uIGhhbmRsZUVudHJ5UG9pbnQgKCBpbmRleCwgdmFsdWUsIHRoYXQgKSB7XHJcblxyXG5cdFx0dmFyIHBlcmNlbnRhZ2U7XHJcblxyXG5cdFx0Ly8gV3JhcCBudW1lcmljYWwgaW5wdXQgaW4gYW4gYXJyYXkuXHJcblx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiApIHtcclxuXHRcdFx0dmFsdWUgPSBbdmFsdWVdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJlamVjdCBhbnkgaW52YWxpZCBpbnB1dCwgYnkgdGVzdGluZyB3aGV0aGVyIHZhbHVlIGlzIGFuIGFycmF5LlxyXG5cdFx0aWYgKCAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgKXtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGNvbnRhaW5zIGludmFsaWQgdmFsdWUuXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENvdmVydCBtaW4vbWF4IHN5bnRheCB0byAwIGFuZCAxMDAuXHJcblx0XHRpZiAoIGluZGV4ID09PSAnbWluJyApIHtcclxuXHRcdFx0cGVyY2VudGFnZSA9IDA7XHJcblx0XHR9IGVsc2UgaWYgKCBpbmRleCA9PT0gJ21heCcgKSB7XHJcblx0XHRcdHBlcmNlbnRhZ2UgPSAxMDA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwZXJjZW50YWdlID0gcGFyc2VGbG9hdCggaW5kZXggKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGVjayBmb3IgY29ycmVjdCBpbnB1dC5cclxuXHRcdGlmICggIWlzTnVtZXJpYyggcGVyY2VudGFnZSApIHx8ICFpc051bWVyaWMoIHZhbHVlWzBdICkgKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyB2YWx1ZSBpc24ndCBudW1lcmljLlwiKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTdG9yZSB2YWx1ZXMuXHJcblx0XHR0aGF0LnhQY3QucHVzaCggcGVyY2VudGFnZSApO1xyXG5cdFx0dGhhdC54VmFsLnB1c2goIHZhbHVlWzBdICk7XHJcblxyXG5cdFx0Ly8gTmFOIHdpbGwgZXZhbHVhdGUgdG8gZmFsc2UgdG9vLCBidXQgdG8ga2VlcFxyXG5cdFx0Ly8gbG9nZ2luZyBjbGVhciwgc2V0IHN0ZXAgZXhwbGljaXRseS4gTWFrZSBzdXJlXHJcblx0XHQvLyBub3QgdG8gb3ZlcnJpZGUgdGhlICdzdGVwJyBzZXR0aW5nIHdpdGggZmFsc2UuXHJcblx0XHRpZiAoICFwZXJjZW50YWdlICkge1xyXG5cdFx0XHRpZiAoICFpc05hTiggdmFsdWVbMV0gKSApIHtcclxuXHRcdFx0XHR0aGF0LnhTdGVwc1swXSA9IHZhbHVlWzFdO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGF0LnhTdGVwcy5wdXNoKCBpc05hTih2YWx1ZVsxXSkgPyBmYWxzZSA6IHZhbHVlWzFdICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcC5wdXNoKDApO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gaGFuZGxlU3RlcFBvaW50ICggaSwgbiwgdGhhdCApIHtcclxuXHJcblx0XHQvLyBJZ25vcmUgJ2ZhbHNlJyBzdGVwcGluZy5cclxuXHRcdGlmICggIW4gKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZhY3RvciB0byByYW5nZSByYXRpb1xyXG5cdFx0dGhhdC54U3RlcHNbaV0gPSBmcm9tUGVyY2VudGFnZShbdGhhdC54VmFsW2ldLCB0aGF0LnhWYWxbaSsxXV0sIG4pIC8gc3ViUmFuZ2VSYXRpbyh0aGF0LnhQY3RbaV0sIHRoYXQueFBjdFtpKzFdKTtcclxuXHJcblx0XHR2YXIgdG90YWxTdGVwcyA9ICh0aGF0LnhWYWxbaSsxXSAtIHRoYXQueFZhbFtpXSkgLyB0aGF0LnhOdW1TdGVwc1tpXTtcclxuXHRcdHZhciBoaWdoZXN0U3RlcCA9IE1hdGguY2VpbChOdW1iZXIodG90YWxTdGVwcy50b0ZpeGVkKDMpKSAtIDEpO1xyXG5cdFx0dmFyIHN0ZXAgPSB0aGF0LnhWYWxbaV0gKyAodGhhdC54TnVtU3RlcHNbaV0gKiBoaWdoZXN0U3RlcCk7XHJcblxyXG5cdFx0dGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcFtpXSA9IHN0ZXA7XHJcblx0fVxyXG5cclxuXHJcbi8vIEludGVyZmFjZVxyXG5cclxuXHRmdW5jdGlvbiBTcGVjdHJ1bSAoIGVudHJ5LCBzbmFwLCBzaW5nbGVTdGVwICkge1xyXG5cclxuXHRcdHRoaXMueFBjdCA9IFtdO1xyXG5cdFx0dGhpcy54VmFsID0gW107XHJcblx0XHR0aGlzLnhTdGVwcyA9IFsgc2luZ2xlU3RlcCB8fCBmYWxzZSBdO1xyXG5cdFx0dGhpcy54TnVtU3RlcHMgPSBbIGZhbHNlIF07XHJcblx0XHR0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwID0gW107XHJcblxyXG5cdFx0dGhpcy5zbmFwID0gc25hcDtcclxuXHJcblx0XHR2YXIgaW5kZXg7XHJcblx0XHR2YXIgb3JkZXJlZCA9IFtdOyAvLyBbMCwgJ21pbiddLCBbMSwgJzUwJSddLCBbMiwgJ21heCddXHJcblxyXG5cdFx0Ly8gTWFwIHRoZSBvYmplY3Qga2V5cyB0byBhbiBhcnJheS5cclxuXHRcdGZvciAoIGluZGV4IGluIGVudHJ5ICkge1xyXG5cdFx0XHRpZiAoIGVudHJ5Lmhhc093blByb3BlcnR5KGluZGV4KSApIHtcclxuXHRcdFx0XHRvcmRlcmVkLnB1c2goW2VudHJ5W2luZGV4XSwgaW5kZXhdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNvcnQgYWxsIGVudHJpZXMgYnkgdmFsdWUgKG51bWVyaWMgc29ydCkuXHJcblx0XHRpZiAoIG9yZGVyZWQubGVuZ3RoICYmIHR5cGVvZiBvcmRlcmVkWzBdWzBdID09PSBcIm9iamVjdFwiICkge1xyXG5cdFx0XHRvcmRlcmVkLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYVswXVswXSAtIGJbMF1bMF07IH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b3JkZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdOyB9KTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ly8gQ29udmVydCBhbGwgZW50cmllcyB0byBzdWJyYW5nZXMuXHJcblx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgb3JkZXJlZC5sZW5ndGg7IGluZGV4KysgKSB7XHJcblx0XHRcdGhhbmRsZUVudHJ5UG9pbnQob3JkZXJlZFtpbmRleF1bMV0sIG9yZGVyZWRbaW5kZXhdWzBdLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTdG9yZSB0aGUgYWN0dWFsIHN0ZXAgdmFsdWVzLlxyXG5cdFx0Ly8geFN0ZXBzIGlzIHNvcnRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB4UGN0IGFuZCB4VmFsLlxyXG5cdFx0dGhpcy54TnVtU3RlcHMgPSB0aGlzLnhTdGVwcy5zbGljZSgwKTtcclxuXHJcblx0XHQvLyBDb252ZXJ0IGFsbCBudW1lcmljIHN0ZXBzIHRvIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBzdWJyYW5nZSB0aGV5IHJlcHJlc2VudC5cclxuXHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KysgKSB7XHJcblx0XHRcdGhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdLCB0aGlzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5nZXRNYXJnaW4gPSBmdW5jdGlvbiAoIHZhbHVlICkge1xyXG5cclxuXHRcdHZhciBzdGVwID0gdGhpcy54TnVtU3RlcHNbMF07XHJcblxyXG5cdFx0aWYgKCBzdGVwICYmICgodmFsdWUgLyBzdGVwKSAlIDEpICE9PSAwICkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdsaW1pdCcsICdtYXJnaW4nIGFuZCAncGFkZGluZycgbXVzdCBiZSBkaXZpc2libGUgYnkgc3RlcC5cIik7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMueFBjdC5sZW5ndGggPT09IDIgPyBmcm9tUGVyY2VudGFnZSh0aGlzLnhWYWwsIHZhbHVlKSA6IGZhbHNlO1xyXG5cdH07XHJcblxyXG5cdFNwZWN0cnVtLnByb3RvdHlwZS50b1N0ZXBwaW5nID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcclxuXHJcblx0XHR2YWx1ZSA9IHRvU3RlcHBpbmcoIHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSApO1xyXG5cclxuXHRcdHJldHVybiB2YWx1ZTtcclxuXHR9O1xyXG5cclxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuZnJvbVN0ZXBwaW5nID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcclxuXHJcblx0XHRyZXR1cm4gZnJvbVN0ZXBwaW5nKCB0aGlzLnhWYWwsIHRoaXMueFBjdCwgdmFsdWUgKTtcclxuXHR9O1xyXG5cclxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0U3RlcCA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XHJcblxyXG5cdFx0dmFsdWUgPSBnZXRTdGVwKHRoaXMueFBjdCwgdGhpcy54U3RlcHMsIHRoaXMuc25hcCwgdmFsdWUgKTtcclxuXHJcblx0XHRyZXR1cm4gdmFsdWU7XHJcblx0fTtcclxuXHJcblx0U3BlY3RydW0ucHJvdG90eXBlLmdldE5lYXJieVN0ZXBzID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcclxuXHJcblx0XHR2YXIgaiA9IGdldEoodmFsdWUsIHRoaXMueFBjdCk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c3RlcEJlZm9yZTogeyBzdGFydFZhbHVlOiB0aGlzLnhWYWxbai0yXSwgc3RlcDogdGhpcy54TnVtU3RlcHNbai0yXSwgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbai0yXSB9LFxyXG5cdFx0XHR0aGlzU3RlcDogeyBzdGFydFZhbHVlOiB0aGlzLnhWYWxbai0xXSwgc3RlcDogdGhpcy54TnVtU3RlcHNbai0xXSwgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbai0xXSB9LFxyXG5cdFx0XHRzdGVwQWZ0ZXI6IHsgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2otMF0sIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2otMF0sIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2otMF0gfVxyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuY291bnRTdGVwRGVjaW1hbHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgc3RlcERlY2ltYWxzID0gdGhpcy54TnVtU3RlcHMubWFwKGNvdW50RGVjaW1hbHMpO1xyXG5cdFx0cmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHN0ZXBEZWNpbWFscyk7XHJcblx0fTtcclxuXHJcblx0Ly8gT3V0c2lkZSB0ZXN0aW5nXHJcblx0U3BlY3RydW0ucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodmFsdWUpKTtcclxuXHR9O1xyXG5cclxuLypcdEV2ZXJ5IGlucHV0IG9wdGlvbiBpcyB0ZXN0ZWQgYW5kIHBhcnNlZC4gVGhpcydsbCBwcmV2ZW50XG5cdGVuZGxlc3MgdmFsaWRhdGlvbiBpbiBpbnRlcm5hbCBtZXRob2RzLiBUaGVzZSB0ZXN0cyBhcmVcblx0c3RydWN0dXJlZCB3aXRoIGFuIGl0ZW0gZm9yIGV2ZXJ5IG9wdGlvbiBhdmFpbGFibGUuIEFuXG5cdG9wdGlvbiBjYW4gYmUgbWFya2VkIGFzIHJlcXVpcmVkIGJ5IHNldHRpbmcgdGhlICdyJyBmbGFnLlxuXHRUaGUgdGVzdGluZyBmdW5jdGlvbiBpcyBwcm92aWRlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcblx0XHQtIFRoZSBwcm92aWRlZCB2YWx1ZSBmb3IgdGhlIG9wdGlvbjtcblx0XHQtIEEgcmVmZXJlbmNlIHRvIHRoZSBvcHRpb25zIG9iamVjdDtcblx0XHQtIFRoZSBuYW1lIGZvciB0aGUgb3B0aW9uO1xuXG5cdFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIHJldHVybnMgZmFsc2Ugd2hlbiBhbiBlcnJvciBpcyBkZXRlY3RlZCxcblx0b3IgdHJ1ZSB3aGVuIGV2ZXJ5dGhpbmcgaXMgT0suIEl0IGNhbiBhbHNvIG1vZGlmeSB0aGUgb3B0aW9uXG5cdG9iamVjdCwgdG8gbWFrZSBzdXJlIGFsbCB2YWx1ZXMgY2FuIGJlIGNvcnJlY3RseSBsb29wZWQgZWxzZXdoZXJlLiAqL1xuXG5cdHZhciBkZWZhdWx0Rm9ybWF0dGVyID0geyAndG8nOiBmdW5jdGlvbiggdmFsdWUgKXtcblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS50b0ZpeGVkKDIpO1xuXHR9LCAnZnJvbSc6IE51bWJlciB9O1xuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0ICggZW50cnkgKSB7XG5cblx0XHQvLyBBbnkgb2JqZWN0IHdpdGggYSB0byBhbmQgZnJvbSBtZXRob2QgaXMgc3VwcG9ydGVkLlxuXHRcdGlmICggaXNWYWxpZEZvcm1hdHRlcihlbnRyeSkgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmb3JtYXQnIHJlcXVpcmVzICd0bycgYW5kICdmcm9tJyBtZXRob2RzLlwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTdGVwICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyggZW50cnkgKSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHQvLyBUaGUgc3RlcCBvcHRpb24gY2FuIHN0aWxsIGJlIHVzZWQgdG8gc2V0IHN0ZXBwaW5nXG5cdFx0Ly8gZm9yIGxpbmVhciBzbGlkZXJzLiBPdmVyd3JpdHRlbiBpZiBzZXQgaW4gJ3JhbmdlJy5cblx0XHRwYXJzZWQuc2luZ2xlU3RlcCA9IGVudHJ5O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFJhbmdlICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZW50cnkpICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGlzIG5vdCBhbiBvYmplY3QuXCIpO1xuXHRcdH1cblxuXHRcdC8vIENhdGNoIG1pc3Npbmcgc3RhcnQgb3IgZW5kLlxuXHRcdGlmICggZW50cnkubWluID09PSB1bmRlZmluZWQgfHwgZW50cnkubWF4ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IE1pc3NpbmcgJ21pbicgb3IgJ21heCcgaW4gJ3JhbmdlJy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2F0Y2ggZXF1YWwgc3RhcnQgb3IgZW5kLlxuXHRcdGlmICggZW50cnkubWluID09PSBlbnRyeS5tYXggKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgJ21pbicgYW5kICdtYXgnIGNhbm5vdCBiZSBlcXVhbC5cIik7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLnNwZWN0cnVtID0gbmV3IFNwZWN0cnVtKGVudHJ5LCBwYXJzZWQuc25hcCwgcGFyc2VkLnNpbmdsZVN0ZXApO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFN0YXJ0ICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dC4gVmFsdWVzIGFyZW4ndCB0ZXN0ZWQsIGFzIHRoZSBwdWJsaWMgLnZhbCBtZXRob2Rcblx0XHQvLyB3aWxsIGFsd2F5cyBwcm92aWRlIGEgdmFsaWQgbG9jYXRpb24uXG5cdFx0aWYgKCAhQXJyYXkuaXNBcnJheSggZW50cnkgKSB8fCAhZW50cnkubGVuZ3RoICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc3RhcnQnIG9wdGlvbiBpcyBpbmNvcnJlY3QuXCIpO1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIHRoZSBudW1iZXIgb2YgaGFuZGxlcy5cblx0XHRwYXJzZWQuaGFuZGxlcyA9IGVudHJ5Lmxlbmd0aDtcblxuXHRcdC8vIFdoZW4gdGhlIHNsaWRlciBpcyBpbml0aWFsaXplZCwgdGhlIC52YWwgbWV0aG9kIHdpbGxcblx0XHQvLyBiZSBjYWxsZWQgd2l0aCB0aGUgc3RhcnQgb3B0aW9ucy5cblx0XHRwYXJzZWQuc3RhcnQgPSBlbnRyeTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTbmFwICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuXHRcdHBhcnNlZC5zbmFwID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ2Jvb2xlYW4nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdzbmFwJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RBbmltYXRlICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuXHRcdHBhcnNlZC5hbmltYXRlID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ2Jvb2xlYW4nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRlJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RBbmltYXRpb25EdXJhdGlvbiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcblxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnbnVtYmVyJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYW5pbWF0aW9uRHVyYXRpb24nIG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Q29ubmVjdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHR2YXIgY29ubmVjdCA9IFtmYWxzZV07XG5cdFx0dmFyIGk7XG5cblx0XHQvLyBNYXAgbGVnYWN5IG9wdGlvbnNcblx0XHRpZiAoIGVudHJ5ID09PSAnbG93ZXInICkge1xuXHRcdFx0ZW50cnkgPSBbdHJ1ZSwgZmFsc2VdO1xuXHRcdH1cblxuXHRcdGVsc2UgaWYgKCBlbnRyeSA9PT0gJ3VwcGVyJyApIHtcblx0XHRcdGVudHJ5ID0gW2ZhbHNlLCB0cnVlXTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgYm9vbGVhbiBvcHRpb25zXG5cdFx0aWYgKCBlbnRyeSA9PT0gdHJ1ZSB8fCBlbnRyeSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdGZvciAoIGkgPSAxOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdFx0Y29ubmVjdC5wdXNoKGVudHJ5KTtcblx0XHRcdH1cblxuXHRcdFx0Y29ubmVjdC5wdXNoKGZhbHNlKTtcblx0XHR9XG5cblx0XHQvLyBSZWplY3QgaW52YWxpZCBpbnB1dFxuXHRcdGVsc2UgaWYgKCAhQXJyYXkuaXNBcnJheSggZW50cnkgKSB8fCAhZW50cnkubGVuZ3RoIHx8IGVudHJ5Lmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMgKyAxICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LlwiKTtcblx0XHR9XG5cblx0XHRlbHNlIHtcblx0XHRcdGNvbm5lY3QgPSBlbnRyeTtcblx0XHR9XG5cblx0XHRwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0T3JpZW50YXRpb24gKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gU2V0IG9yaWVudGF0aW9uIHRvIGFuIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5XG5cdFx0Ly8gYXJyYXkgc2VsZWN0aW9uLlxuXHRcdHN3aXRjaCAoIGVudHJ5ICl7XG5cdFx0XHRjYXNlICdob3Jpem9udGFsJzpcblx0XHRcdFx0cGFyc2VkLm9ydCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndmVydGljYWwnOlxuXHRcdFx0XHRwYXJzZWQub3J0ID0gMTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdvcmllbnRhdGlvbicgb3B0aW9uIGlzIGludmFsaWQuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RNYXJnaW4gKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCAhaXNOdW1lcmljKGVudHJ5KSApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHQvLyBJc3N1ZSAjNTgyXG5cdFx0aWYgKCBlbnRyeSA9PT0gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRwYXJzZWQubWFyZ2luID0gcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeSk7XG5cblx0XHRpZiAoICFwYXJzZWQubWFyZ2luICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbWFyZ2luJyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RMaW1pdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoICFpc051bWVyaWMoZW50cnkpICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdsaW1pdCcgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLmxpbWl0ID0gcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeSk7XG5cblx0XHRpZiAoICFwYXJzZWQubGltaXQgfHwgcGFyc2VkLmhhbmRsZXMgPCAyICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbGltaXQnIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycyB3aXRoIDIgb3IgbW9yZSBoYW5kbGVzLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0UGFkZGluZyAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoICFpc051bWVyaWMoZW50cnkpICYmICFBcnJheS5pc0FycmF5KGVudHJ5KSApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbnVtZXJpYyBvciBhcnJheSBvZiBleGFjdGx5IDIgbnVtYmVycy5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCBBcnJheS5pc0FycmF5KGVudHJ5KSAmJiAhKGVudHJ5Lmxlbmd0aCA9PT0gMiB8fCBpc051bWVyaWMoZW50cnlbMF0pIHx8IGlzTnVtZXJpYyhlbnRyeVsxXSkpICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbnVtZXJpYyBvciBhcnJheSBvZiBleGFjdGx5IDIgbnVtYmVycy5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCBlbnRyeSA9PT0gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoICFBcnJheS5pc0FycmF5KGVudHJ5KSApIHtcblx0XHRcdGVudHJ5ID0gW2VudHJ5LCBlbnRyeV07XG5cdFx0fVxuXG5cdFx0Ly8gJ2dldE1hcmdpbicgcmV0dXJucyBmYWxzZSBmb3IgaW52YWxpZCB2YWx1ZXMuXG5cdFx0cGFyc2VkLnBhZGRpbmcgPSBbcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeVswXSksIHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnlbMV0pXTtcblxuXHRcdGlmICggcGFyc2VkLnBhZGRpbmdbMF0gPT09IGZhbHNlIHx8IHBhcnNlZC5wYWRkaW5nWzFdID09PSBmYWxzZSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycy5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCBwYXJzZWQucGFkZGluZ1swXSA8IDAgfHwgcGFyc2VkLnBhZGRpbmdbMV0gPCAwICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIocykuXCIpO1xuXHRcdH1cblxuXHRcdGlmICggcGFyc2VkLnBhZGRpbmdbMF0gKyBwYXJzZWQucGFkZGluZ1sxXSA+PSAxMDAgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBub3QgZXhjZWVkIDEwMCUgb2YgdGhlIHJhbmdlLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0RGlyZWN0aW9uICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIFNldCBkaXJlY3Rpb24gYXMgYSBudW1lcmljYWwgdmFsdWUgZm9yIGVhc3kgcGFyc2luZy5cblx0XHQvLyBJbnZlcnQgY29ubmVjdGlvbiBmb3IgUlRMIHNsaWRlcnMsIHNvIHRoYXQgdGhlIHByb3BlclxuXHRcdC8vIGhhbmRsZXMgZ2V0IHRoZSBjb25uZWN0L2JhY2tncm91bmQgY2xhc3Nlcy5cblx0XHRzd2l0Y2ggKCBlbnRyeSApIHtcblx0XHRcdGNhc2UgJ2x0cic6XG5cdFx0XHRcdHBhcnNlZC5kaXIgPSAwO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3J0bCc6XG5cdFx0XHRcdHBhcnNlZC5kaXIgPSAxO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2RpcmVjdGlvbicgb3B0aW9uIHdhcyBub3QgcmVjb2duaXplZC5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdEJlaGF2aW91ciAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhlIGlucHV0IGlzIGEgc3RyaW5nLlxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnc3RyaW5nJyApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2JlaGF2aW91cicgbXVzdCBiZSBhIHN0cmluZyBjb250YWluaW5nIG9wdGlvbnMuXCIpO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIHRoZSBzdHJpbmcgY29udGFpbnMgYW55IGtleXdvcmRzLlxuXHRcdC8vIE5vbmUgYXJlIHJlcXVpcmVkLlxuXHRcdHZhciB0YXAgPSBlbnRyeS5pbmRleE9mKCd0YXAnKSA+PSAwO1xuXHRcdHZhciBkcmFnID0gZW50cnkuaW5kZXhPZignZHJhZycpID49IDA7XG5cdFx0dmFyIGZpeGVkID0gZW50cnkuaW5kZXhPZignZml4ZWQnKSA+PSAwO1xuXHRcdHZhciBzbmFwID0gZW50cnkuaW5kZXhPZignc25hcCcpID49IDA7XG5cdFx0dmFyIGhvdmVyID0gZW50cnkuaW5kZXhPZignaG92ZXInKSA+PSAwO1xuXG5cdFx0aWYgKCBmaXhlZCApIHtcblxuXHRcdFx0aWYgKCBwYXJzZWQuaGFuZGxlcyAhPT0gMiApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZml4ZWQnIGJlaGF2aW91ciBtdXN0IGJlIHVzZWQgd2l0aCAyIGhhbmRsZXNcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVzZSBtYXJnaW4gdG8gZW5mb3JjZSBmaXhlZCBzdGF0ZVxuXHRcdFx0dGVzdE1hcmdpbihwYXJzZWQsIHBhcnNlZC5zdGFydFsxXSAtIHBhcnNlZC5zdGFydFswXSk7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLmV2ZW50cyA9IHtcblx0XHRcdHRhcDogdGFwIHx8IHNuYXAsXG5cdFx0XHRkcmFnOiBkcmFnLFxuXHRcdFx0Zml4ZWQ6IGZpeGVkLFxuXHRcdFx0c25hcDogc25hcCxcblx0XHRcdGhvdmVyOiBob3ZlclxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0VG9vbHRpcHMgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCBlbnRyeSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoIGVudHJ5ID09PSB0cnVlICkge1xuXG5cdFx0XHRwYXJzZWQudG9vbHRpcHMgPSBbXTtcblxuXHRcdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdFx0cGFyc2VkLnRvb2x0aXBzLnB1c2godHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSB7XG5cblx0XHRcdHBhcnNlZC50b29sdGlwcyA9IGFzQXJyYXkoZW50cnkpO1xuXG5cdFx0XHRpZiAoIHBhcnNlZC50b29sdGlwcy5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRwYXJzZWQudG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbihmb3JtYXR0ZXIpe1xuXHRcdFx0XHRpZiAoIHR5cGVvZiBmb3JtYXR0ZXIgIT09ICdib29sZWFuJyAmJiAodHlwZW9mIGZvcm1hdHRlciAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIGZvcm1hdHRlci50byAhPT0gJ2Z1bmN0aW9uJykgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndG9vbHRpcHMnIG11c3QgYmUgcGFzc2VkIGEgZm9ybWF0dGVyIG9yICdmYWxzZScuXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0QXJpYUZvcm1hdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cdFx0cGFyc2VkLmFyaWFGb3JtYXQgPSBlbnRyeTtcblx0XHR2YWxpZGF0ZUZvcm1hdChlbnRyeSk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Rm9ybWF0ICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRwYXJzZWQuZm9ybWF0ID0gZW50cnk7XG5cdFx0dmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdENzc1ByZWZpeCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ3N0cmluZycgJiYgZW50cnkgIT09IGZhbHNlICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnY3NzUHJlZml4JyBtdXN0IGJlIGEgc3RyaW5nIG9yIGBmYWxzZWAuXCIpO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5jc3NQcmVmaXggPSBlbnRyeTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RDc3NDbGFzc2VzICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnb2JqZWN0JyApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc0NsYXNzZXMnIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiBwYXJzZWQuY3NzUHJlZml4ID09PSAnc3RyaW5nJyApIHtcblx0XHRcdHBhcnNlZC5jc3NDbGFzc2VzID0ge307XG5cblx0XHRcdGZvciAoIHZhciBrZXkgaW4gZW50cnkgKSB7XG5cdFx0XHRcdGlmICggIWVudHJ5Lmhhc093blByb3BlcnR5KGtleSkgKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0cGFyc2VkLmNzc0NsYXNzZXNba2V5XSA9IHBhcnNlZC5jc3NQcmVmaXggKyBlbnRyeVtrZXldO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXJzZWQuY3NzQ2xhc3NlcyA9IGVudHJ5O1xuXHRcdH1cblx0fVxuXG5cdC8vIFRlc3QgYWxsIGRldmVsb3BlciBzZXR0aW5ncyBhbmQgcGFyc2UgdG8gYXNzdW1wdGlvbi1zYWZlIHZhbHVlcy5cblx0ZnVuY3Rpb24gdGVzdE9wdGlvbnMgKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gVG8gcHJvdmUgYSBmaXggZm9yICM1MzcsIGZyZWV6ZSBvcHRpb25zIGhlcmUuXG5cdFx0Ly8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG5cdFx0Ly8gT2JqZWN0LmZyZWV6ZShvcHRpb25zKTtcblxuXHRcdHZhciBwYXJzZWQgPSB7XG5cdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRsaW1pdDogMCxcblx0XHRcdHBhZGRpbmc6IDAsXG5cdFx0XHRhbmltYXRlOiB0cnVlLFxuXHRcdFx0YW5pbWF0aW9uRHVyYXRpb246IDMwMCxcblx0XHRcdGFyaWFGb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXIsXG5cdFx0XHRmb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXJcblx0XHR9O1xuXG5cdFx0Ly8gVGVzdHMgYXJlIGV4ZWN1dGVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBwcmVzZW50ZWQgaGVyZS5cblx0XHR2YXIgdGVzdHMgPSB7XG5cdFx0XHQnc3RlcCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RTdGVwIH0sXG5cdFx0XHQnc3RhcnQnOiB7IHI6IHRydWUsIHQ6IHRlc3RTdGFydCB9LFxuXHRcdFx0J2Nvbm5lY3QnOiB7IHI6IHRydWUsIHQ6IHRlc3RDb25uZWN0IH0sXG5cdFx0XHQnZGlyZWN0aW9uJzogeyByOiB0cnVlLCB0OiB0ZXN0RGlyZWN0aW9uIH0sXG5cdFx0XHQnc25hcCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RTbmFwIH0sXG5cdFx0XHQnYW5pbWF0ZSc6IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRlIH0sXG5cdFx0XHQnYW5pbWF0aW9uRHVyYXRpb24nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24gfSxcblx0XHRcdCdyYW5nZSc6IHsgcjogdHJ1ZSwgdDogdGVzdFJhbmdlIH0sXG5cdFx0XHQnb3JpZW50YXRpb24nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0T3JpZW50YXRpb24gfSxcblx0XHRcdCdtYXJnaW4nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0TWFyZ2luIH0sXG5cdFx0XHQnbGltaXQnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0TGltaXQgfSxcblx0XHRcdCdwYWRkaW5nJzogeyByOiBmYWxzZSwgdDogdGVzdFBhZGRpbmcgfSxcblx0XHRcdCdiZWhhdmlvdXInOiB7IHI6IHRydWUsIHQ6IHRlc3RCZWhhdmlvdXIgfSxcblx0XHRcdCdhcmlhRm9ybWF0JzogeyByOiBmYWxzZSwgdDogdGVzdEFyaWFGb3JtYXQgfSxcblx0XHRcdCdmb3JtYXQnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0Rm9ybWF0IH0sXG5cdFx0XHQndG9vbHRpcHMnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0VG9vbHRpcHMgfSxcblx0XHRcdCdjc3NQcmVmaXgnOiB7IHI6IHRydWUsIHQ6IHRlc3RDc3NQcmVmaXggfSxcblx0XHRcdCdjc3NDbGFzc2VzJzogeyByOiB0cnVlLCB0OiB0ZXN0Q3NzQ2xhc3NlcyB9XG5cdFx0fTtcblxuXHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdCdjb25uZWN0JzogZmFsc2UsXG5cdFx0XHQnZGlyZWN0aW9uJzogJ2x0cicsXG5cdFx0XHQnYmVoYXZpb3VyJzogJ3RhcCcsXG5cdFx0XHQnb3JpZW50YXRpb24nOiAnaG9yaXpvbnRhbCcsXG5cdFx0XHQnY3NzUHJlZml4JyA6ICdub1VpLScsXG5cdFx0XHQnY3NzQ2xhc3Nlcyc6IHtcblx0XHRcdFx0dGFyZ2V0OiAndGFyZ2V0Jyxcblx0XHRcdFx0YmFzZTogJ2Jhc2UnLFxuXHRcdFx0XHRvcmlnaW46ICdvcmlnaW4nLFxuXHRcdFx0XHRoYW5kbGU6ICdoYW5kbGUnLFxuXHRcdFx0XHRoYW5kbGVMb3dlcjogJ2hhbmRsZS1sb3dlcicsXG5cdFx0XHRcdGhhbmRsZVVwcGVyOiAnaGFuZGxlLXVwcGVyJyxcblx0XHRcdFx0aG9yaXpvbnRhbDogJ2hvcml6b250YWwnLFxuXHRcdFx0XHR2ZXJ0aWNhbDogJ3ZlcnRpY2FsJyxcblx0XHRcdFx0YmFja2dyb3VuZDogJ2JhY2tncm91bmQnLFxuXHRcdFx0XHRjb25uZWN0OiAnY29ubmVjdCcsXG5cdFx0XHRcdGNvbm5lY3RzOiAnY29ubmVjdHMnLFxuXHRcdFx0XHRsdHI6ICdsdHInLFxuXHRcdFx0XHRydGw6ICdydGwnLFxuXHRcdFx0XHRkcmFnZ2FibGU6ICdkcmFnZ2FibGUnLFxuXHRcdFx0XHRkcmFnOiAnc3RhdGUtZHJhZycsXG5cdFx0XHRcdHRhcDogJ3N0YXRlLXRhcCcsXG5cdFx0XHRcdGFjdGl2ZTogJ2FjdGl2ZScsXG5cdFx0XHRcdHRvb2x0aXA6ICd0b29sdGlwJyxcblx0XHRcdFx0cGlwczogJ3BpcHMnLFxuXHRcdFx0XHRwaXBzSG9yaXpvbnRhbDogJ3BpcHMtaG9yaXpvbnRhbCcsXG5cdFx0XHRcdHBpcHNWZXJ0aWNhbDogJ3BpcHMtdmVydGljYWwnLFxuXHRcdFx0XHRtYXJrZXI6ICdtYXJrZXInLFxuXHRcdFx0XHRtYXJrZXJIb3Jpem9udGFsOiAnbWFya2VyLWhvcml6b250YWwnLFxuXHRcdFx0XHRtYXJrZXJWZXJ0aWNhbDogJ21hcmtlci12ZXJ0aWNhbCcsXG5cdFx0XHRcdG1hcmtlck5vcm1hbDogJ21hcmtlci1ub3JtYWwnLFxuXHRcdFx0XHRtYXJrZXJMYXJnZTogJ21hcmtlci1sYXJnZScsXG5cdFx0XHRcdG1hcmtlclN1YjogJ21hcmtlci1zdWInLFxuXHRcdFx0XHR2YWx1ZTogJ3ZhbHVlJyxcblx0XHRcdFx0dmFsdWVIb3Jpem9udGFsOiAndmFsdWUtaG9yaXpvbnRhbCcsXG5cdFx0XHRcdHZhbHVlVmVydGljYWw6ICd2YWx1ZS12ZXJ0aWNhbCcsXG5cdFx0XHRcdHZhbHVlTm9ybWFsOiAndmFsdWUtbm9ybWFsJyxcblx0XHRcdFx0dmFsdWVMYXJnZTogJ3ZhbHVlLWxhcmdlJyxcblx0XHRcdFx0dmFsdWVTdWI6ICd2YWx1ZS1zdWInXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIEFyaWFGb3JtYXQgZGVmYXVsdHMgdG8gcmVndWxhciBmb3JtYXQsIGlmIGFueS5cblx0XHRpZiAoIG9wdGlvbnMuZm9ybWF0ICYmICFvcHRpb25zLmFyaWFGb3JtYXQgKSB7XG5cdFx0XHRvcHRpb25zLmFyaWFGb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcblx0XHR9XG5cblx0XHQvLyBSdW4gYWxsIG9wdGlvbnMgdGhyb3VnaCBhIHRlc3RpbmcgbWVjaGFuaXNtIHRvIGVuc3VyZSBjb3JyZWN0XG5cdFx0Ly8gaW5wdXQuIEl0IHNob3VsZCBiZSBub3RlZCB0aGF0IG9wdGlvbnMgbWlnaHQgZ2V0IG1vZGlmaWVkIHRvXG5cdFx0Ly8gYmUgaGFuZGxlZCBwcm9wZXJseS4gRS5nLiB3cmFwcGluZyBpbnRlZ2VycyBpbiBhcnJheXMuXG5cdFx0T2JqZWN0LmtleXModGVzdHMpLmZvckVhY2goZnVuY3Rpb24oIG5hbWUgKXtcblxuXHRcdFx0Ly8gSWYgdGhlIG9wdGlvbiBpc24ndCBzZXQsIGJ1dCBpdCBpcyByZXF1aXJlZCwgdGhyb3cgYW4gZXJyb3IuXG5cdFx0XHRpZiAoICFpc1NldChvcHRpb25zW25hbWVdKSAmJiBkZWZhdWx0c1tuYW1lXSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGlmICggdGVzdHNbbmFtZV0uciApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdcIiArIG5hbWUgKyBcIicgaXMgcmVxdWlyZWQuXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHRlc3RzW25hbWVdLnQoIHBhcnNlZCwgIWlzU2V0KG9wdGlvbnNbbmFtZV0pID8gZGVmYXVsdHNbbmFtZV0gOiBvcHRpb25zW25hbWVdICk7XG5cdFx0fSk7XG5cblx0XHQvLyBGb3J3YXJkIHBpcHMgb3B0aW9uc1xuXHRcdHBhcnNlZC5waXBzID0gb3B0aW9ucy5waXBzO1xuXG5cdFx0Ly8gQWxsIHJlY2VudCBicm93c2VycyBhY2NlcHQgdW5wcmVmaXhlZCB0cmFuc2Zvcm0uXG5cdFx0Ly8gV2UgbmVlZCAtbXMtIGZvciBJRTkgYW5kIC13ZWJraXQtIGZvciBvbGRlciBBbmRyb2lkO1xuXHRcdC8vIEFzc3VtZSB1c2Ugb2YgLXdlYmtpdC0gaWYgdW5wcmVmaXhlZCBhbmQgLW1zLSBhcmUgbm90IHN1cHBvcnRlZC5cblx0XHQvLyBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PXRyYW5zZm9ybXMyZFxuXHRcdHZhciBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHR2YXIgbXNQcmVmaXggPSBkLnN0eWxlLm1zVHJhbnNmb3JtICE9PSB1bmRlZmluZWQ7XG5cdFx0dmFyIG5vUHJlZml4ID0gZC5zdHlsZS50cmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcblxuXHRcdHBhcnNlZC50cmFuc2Zvcm1SdWxlID0gbm9QcmVmaXggPyAndHJhbnNmb3JtJyA6IChtc1ByZWZpeCA/ICdtc1RyYW5zZm9ybScgOiAnd2Via2l0VHJhbnNmb3JtJyk7XG5cblx0XHQvLyBQaXBzIGRvbid0IG1vdmUsIHNvIHdlIGNhbiBwbGFjZSB0aGVtIHVzaW5nIGxlZnQvdG9wLlxuXHRcdHZhciBzdHlsZXMgPSBbWydsZWZ0JywgJ3RvcCddLCBbJ3JpZ2h0JywgJ2JvdHRvbSddXTtcblxuXHRcdHBhcnNlZC5zdHlsZSA9IHN0eWxlc1twYXJzZWQuZGlyXVtwYXJzZWQub3J0XTtcblxuXHRcdHJldHVybiBwYXJzZWQ7XG5cdH1cblxyXG5cclxuZnVuY3Rpb24gc2NvcGUgKCB0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucyApe1xyXG5cclxuXHR2YXIgYWN0aW9ucyA9IGdldEFjdGlvbnMoKTtcclxuXHR2YXIgc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpO1xyXG5cdHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBzdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSAmJiBnZXRTdXBwb3J0c1Bhc3NpdmUoKTtcclxuXHJcblx0Ly8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnc2NvcGUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nXHJcblx0dmFyIHNjb3BlX1RhcmdldCA9IHRhcmdldDtcclxuXHR2YXIgc2NvcGVfTG9jYXRpb25zID0gW107XHJcblx0dmFyIHNjb3BlX0Jhc2U7XHJcblx0dmFyIHNjb3BlX0hhbmRsZXM7XHJcblx0dmFyIHNjb3BlX0hhbmRsZU51bWJlcnMgPSBbXTtcclxuXHR2YXIgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID0gMDtcclxuXHR2YXIgc2NvcGVfQ29ubmVjdHM7XHJcblx0dmFyIHNjb3BlX1NwZWN0cnVtID0gb3B0aW9ucy5zcGVjdHJ1bTtcclxuXHR2YXIgc2NvcGVfVmFsdWVzID0gW107XHJcblx0dmFyIHNjb3BlX0V2ZW50cyA9IHt9O1xyXG5cdHZhciBzY29wZV9TZWxmO1xyXG5cdHZhciBzY29wZV9QaXBzO1xyXG5cdHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xyXG5cdHZhciBzY29wZV9Eb2N1bWVudEVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblx0dmFyIHNjb3BlX0JvZHkgPSBzY29wZV9Eb2N1bWVudC5ib2R5O1xyXG5cclxuXHJcblx0Ly8gRm9yIGhvcml6b250YWwgc2xpZGVycyBpbiBzdGFuZGFyZCBsdHIgZG9jdW1lbnRzLFxyXG5cdC8vIG1ha2UgLm5vVWktb3JpZ2luIG92ZXJmbG93IHRvIHRoZSBsZWZ0IHNvIHRoZSBkb2N1bWVudCBkb2Vzbid0IHNjcm9sbC5cclxuXHR2YXIgc2NvcGVfRGlyT2Zmc2V0ID0gKHNjb3BlX0RvY3VtZW50LmRpciA9PT0gJ3J0bCcpIHx8IChvcHRpb25zLm9ydCA9PT0gMSkgPyAwIDogMTAwO1xyXG5cclxuLyohIEluIHRoaXMgZmlsZTogQ29uc3RydWN0aW9uIG9mIERPTSBlbGVtZW50czsgKi9cclxuXHJcblx0Ly8gQ3JlYXRlcyBhIG5vZGUsIGFkZHMgaXQgdG8gdGFyZ2V0LCByZXR1cm5zIHRoZSBuZXcgbm9kZS5cclxuXHRmdW5jdGlvbiBhZGROb2RlVG8gKCBhZGRUYXJnZXQsIGNsYXNzTmFtZSApIHtcclxuXHJcblx0XHR2YXIgZGl2ID0gc2NvcGVfRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdFx0aWYgKCBjbGFzc05hbWUgKSB7XHJcblx0XHRcdGFkZENsYXNzKGRpdiwgY2xhc3NOYW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHRhZGRUYXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcblx0XHRyZXR1cm4gZGl2O1xyXG5cdH1cclxuXHJcblx0Ly8gQXBwZW5kIGEgb3JpZ2luIHRvIHRoZSBiYXNlXHJcblx0ZnVuY3Rpb24gYWRkT3JpZ2luICggYmFzZSwgaGFuZGxlTnVtYmVyICkge1xyXG5cclxuXHRcdHZhciBvcmlnaW4gPSBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLm9yaWdpbik7XHJcblx0XHR2YXIgaGFuZGxlID0gYWRkTm9kZVRvKG9yaWdpbiwgb3B0aW9ucy5jc3NDbGFzc2VzLmhhbmRsZSk7XHJcblxyXG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgnZGF0YS1oYW5kbGUnLCBoYW5kbGVOdW1iZXIpO1xyXG5cclxuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcclxuXHRcdC8vIDAgPSBmb2N1c2FibGUgYW5kIHJlYWNoYWJsZVxyXG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xyXG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgncm9sZScsICdzbGlkZXInKTtcclxuXHRcdGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtb3JpZW50YXRpb24nLCBvcHRpb25zLm9ydCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcpO1xyXG5cclxuXHRcdGlmICggaGFuZGxlTnVtYmVyID09PSAwICkge1xyXG5cdFx0XHRhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVMb3dlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZWxzZSBpZiAoIGhhbmRsZU51bWJlciA9PT0gb3B0aW9ucy5oYW5kbGVzIC0gMSApIHtcclxuXHRcdFx0YWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlVXBwZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvcmlnaW47XHJcblx0fVxyXG5cclxuXHQvLyBJbnNlcnQgbm9kZXMgZm9yIGNvbm5lY3QgZWxlbWVudHNcclxuXHRmdW5jdGlvbiBhZGRDb25uZWN0ICggYmFzZSwgYWRkICkge1xyXG5cclxuXHRcdGlmICggIWFkZCApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmNvbm5lY3QpO1xyXG5cdH1cclxuXHJcblx0Ly8gQWRkIGhhbmRsZXMgdG8gdGhlIHNsaWRlciBiYXNlLlxyXG5cdGZ1bmN0aW9uIGFkZEVsZW1lbnRzICggY29ubmVjdE9wdGlvbnMsIGJhc2UgKSB7XHJcblxyXG5cdFx0dmFyIGNvbm5lY3RCYXNlID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0cyk7XHJcblxyXG5cdFx0c2NvcGVfSGFuZGxlcyA9IFtdO1xyXG5cdFx0c2NvcGVfQ29ubmVjdHMgPSBbXTtcclxuXHJcblx0XHRzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoY29ubmVjdEJhc2UsIGNvbm5lY3RPcHRpb25zWzBdKSk7XHJcblxyXG5cdFx0Ly8gWzo6OjpPPT09PU89PT09Tz09PT1dXHJcblx0XHQvLyBjb25uZWN0T3B0aW9ucyA9IFswLCAxLCAxLCAxXVxyXG5cclxuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IG9wdGlvbnMuaGFuZGxlczsgaSsrICkge1xyXG5cdFx0XHQvLyBLZWVwIGEgbGlzdCBvZiBhbGwgYWRkZWQgaGFuZGxlcy5cclxuXHRcdFx0c2NvcGVfSGFuZGxlcy5wdXNoKGFkZE9yaWdpbihiYXNlLCBpKSk7XHJcblx0XHRcdHNjb3BlX0hhbmRsZU51bWJlcnNbaV0gPSBpO1xyXG5cdFx0XHRzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoY29ubmVjdEJhc2UsIGNvbm5lY3RPcHRpb25zW2kgKyAxXSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gSW5pdGlhbGl6ZSBhIHNpbmdsZSBzbGlkZXIuXHJcblx0ZnVuY3Rpb24gYWRkU2xpZGVyICggYWRkVGFyZ2V0ICkge1xyXG5cclxuXHRcdC8vIEFwcGx5IGNsYXNzZXMgYW5kIGRhdGEgdG8gdGhlIHRhcmdldC5cclxuXHRcdGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcmdldCk7XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLmRpciA9PT0gMCApIHtcclxuXHRcdFx0YWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMubHRyKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnJ0bCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLm9ydCA9PT0gMCApIHtcclxuXHRcdFx0YWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52ZXJ0aWNhbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0c2NvcGVfQmFzZSA9IGFkZE5vZGVUbyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5iYXNlKTtcclxuXHR9XHJcblxyXG5cclxuXHRmdW5jdGlvbiBhZGRUb29sdGlwICggaGFuZGxlLCBoYW5kbGVOdW1iZXIgKSB7XHJcblxyXG5cdFx0aWYgKCAhb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGFkZE5vZGVUbyhoYW5kbGUuZmlyc3RDaGlsZCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRvb2x0aXApO1xyXG5cdH1cclxuXHJcblx0Ly8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxyXG5cdGZ1bmN0aW9uIHRvb2x0aXBzICggKSB7XHJcblxyXG5cdFx0Ly8gVG9vbHRpcHMgYXJlIGFkZGVkIHdpdGggb3B0aW9ucy50b29sdGlwcyBpbiBvcmlnaW5hbCBvcmRlci5cclxuXHRcdHZhciB0aXBzID0gc2NvcGVfSGFuZGxlcy5tYXAoYWRkVG9vbHRpcCk7XHJcblxyXG5cdFx0YmluZEV2ZW50KCd1cGRhdGUnLCBmdW5jdGlvbih2YWx1ZXMsIGhhbmRsZU51bWJlciwgdW5lbmNvZGVkKSB7XHJcblxyXG5cdFx0XHRpZiAoICF0aXBzW2hhbmRsZU51bWJlcl0gKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZXNbaGFuZGxlTnVtYmVyXTtcclxuXHJcblx0XHRcdGlmICggb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICE9PSB0cnVlICkge1xyXG5cdFx0XHRcdGZvcm1hdHRlZFZhbHVlID0gb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdLnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHJcblx0ZnVuY3Rpb24gYXJpYSAoICkge1xyXG5cclxuXHRcdGJpbmRFdmVudCgndXBkYXRlJywgZnVuY3Rpb24gKCB2YWx1ZXMsIGhhbmRsZU51bWJlciwgdW5lbmNvZGVkLCB0YXAsIHBvc2l0aW9ucyApIHtcclxuXHJcblx0XHRcdC8vIFVwZGF0ZSBBcmlhIFZhbHVlcyBmb3IgYWxsIGhhbmRsZXMsIGFzIGEgY2hhbmdlIGluIG9uZSBjaGFuZ2VzIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgdGhlIG5leHQuXHJcblx0XHRcdHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiggaW5kZXggKXtcclxuXHJcblx0XHRcdFx0dmFyIGhhbmRsZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xyXG5cclxuXHRcdFx0XHR2YXIgbWluID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGluZGV4LCAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0XHR2YXIgbWF4ID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGluZGV4LCAxMDAsIHRydWUsIHRydWUsIHRydWUpO1xyXG5cclxuXHRcdFx0XHR2YXIgbm93ID0gcG9zaXRpb25zW2luZGV4XTtcclxuXHRcdFx0XHR2YXIgdGV4dCA9IG9wdGlvbnMuYXJpYUZvcm1hdC50byh1bmVuY29kZWRbaW5kZXhdKTtcclxuXHJcblx0XHRcdFx0aGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1pbicsIG1pbi50b0ZpeGVkKDEpKTtcclxuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JywgbWF4LnRvRml4ZWQoMSkpO1xyXG5cdFx0XHRcdGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCBub3cudG9GaXhlZCgxKSk7XHJcblx0XHRcdFx0aGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZXRleHQnLCB0ZXh0KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHRmdW5jdGlvbiBnZXRHcm91cCAoIG1vZGUsIHZhbHVlcywgc3RlcHBlZCApIHtcclxuXHJcblx0XHQvLyBVc2UgdGhlIHJhbmdlLlxyXG5cdFx0aWYgKCBtb2RlID09PSAncmFuZ2UnIHx8IG1vZGUgPT09ICdzdGVwcycgKSB7XHJcblx0XHRcdHJldHVybiBzY29wZV9TcGVjdHJ1bS54VmFsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbW9kZSA9PT0gJ2NvdW50JyApIHtcclxuXHJcblx0XHRcdGlmICggdmFsdWVzIDwgMiApIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICd2YWx1ZXMnICg+PSAyKSByZXF1aXJlZCBmb3IgbW9kZSAnY291bnQnLlwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gRGl2aWRlIDAgLSAxMDAgaW4gJ2NvdW50JyBwYXJ0cy5cclxuXHRcdFx0dmFyIGludGVydmFsID0gdmFsdWVzIC0gMTtcclxuXHRcdFx0dmFyIHNwcmVhZCA9ICggMTAwIC8gaW50ZXJ2YWwgKTtcclxuXHJcblx0XHRcdHZhbHVlcyA9IFtdO1xyXG5cclxuXHRcdFx0Ly8gTGlzdCB0aGVzZSBwYXJ0cyBhbmQgaGF2ZSB0aGVtIGhhbmRsZWQgYXMgJ3Bvc2l0aW9ucycuXHJcblx0XHRcdHdoaWxlICggaW50ZXJ2YWwtLSApIHtcclxuXHRcdFx0XHR2YWx1ZXNbIGludGVydmFsIF0gPSAoIGludGVydmFsICogc3ByZWFkICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhbHVlcy5wdXNoKDEwMCk7XHJcblxyXG5cdFx0XHRtb2RlID0gJ3Bvc2l0aW9ucyc7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBtb2RlID09PSAncG9zaXRpb25zJyApIHtcclxuXHJcblx0XHRcdC8vIE1hcCBhbGwgcGVyY2VudGFnZXMgdG8gb24tcmFuZ2UgdmFsdWVzLlxyXG5cdFx0XHRyZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbiggdmFsdWUgKXtcclxuXHRcdFx0XHRyZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKCBzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCggdmFsdWUgKSA6IHZhbHVlICk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbW9kZSA9PT0gJ3ZhbHVlcycgKSB7XHJcblxyXG5cdFx0XHQvLyBJZiB0aGUgdmFsdWUgbXVzdCBiZSBzdGVwcGVkLCBpdCBuZWVkcyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBwZXJjZW50YWdlIGZpcnN0LlxyXG5cdFx0XHRpZiAoIHN0ZXBwZWQgKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiB2YWx1ZXMubWFwKGZ1bmN0aW9uKCB2YWx1ZSApe1xyXG5cclxuXHRcdFx0XHRcdC8vIENvbnZlcnQgdG8gcGVyY2VudGFnZSwgYXBwbHkgc3RlcCwgcmV0dXJuIHRvIHZhbHVlLlxyXG5cdFx0XHRcdFx0cmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyggc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCggc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyggdmFsdWUgKSApICk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBPdGhlcndpc2UsIHdlIGNhbiBzaW1wbHkgdXNlIHRoZSB2YWx1ZXMuXHJcblx0XHRcdHJldHVybiB2YWx1ZXM7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZCAoIGRlbnNpdHksIG1vZGUsIGdyb3VwICkge1xyXG5cclxuXHRcdGZ1bmN0aW9uIHNhZmVJbmNyZW1lbnQodmFsdWUsIGluY3JlbWVudCkge1xyXG5cdFx0XHQvLyBBdm9pZCBmbG9hdGluZyBwb2ludCB2YXJpYW5jZSBieSBkcm9wcGluZyB0aGUgc21hbGxlc3QgZGVjaW1hbCBwbGFjZXMuXHJcblx0XHRcdHJldHVybiAodmFsdWUgKyBpbmNyZW1lbnQpLnRvRml4ZWQoNykgLyAxO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpbmRleGVzID0ge307XHJcblx0XHR2YXIgZmlyc3RJblJhbmdlID0gc2NvcGVfU3BlY3RydW0ueFZhbFswXTtcclxuXHRcdHZhciBsYXN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbc2NvcGVfU3BlY3RydW0ueFZhbC5sZW5ndGgtMV07XHJcblx0XHR2YXIgaWdub3JlRmlyc3QgPSBmYWxzZTtcclxuXHRcdHZhciBpZ25vcmVMYXN0ID0gZmFsc2U7XHJcblx0XHR2YXIgcHJldlBjdCA9IDA7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGEgY29weSBvZiB0aGUgZ3JvdXAsIHNvcnQgaXQgYW5kIGZpbHRlciBhd2F5IGFsbCBkdXBsaWNhdGVzLlxyXG5cdFx0Z3JvdXAgPSB1bmlxdWUoZ3JvdXAuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uKGEsIGIpeyByZXR1cm4gYSAtIGI7IH0pKTtcclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgdGhlIHJhbmdlIHN0YXJ0cyB3aXRoIHRoZSBmaXJzdCBlbGVtZW50LlxyXG5cdFx0aWYgKCBncm91cFswXSAhPT0gZmlyc3RJblJhbmdlICkge1xyXG5cdFx0XHRncm91cC51bnNoaWZ0KGZpcnN0SW5SYW5nZSk7XHJcblx0XHRcdGlnbm9yZUZpcnN0ID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBMaWtld2lzZSBmb3IgdGhlIGxhc3Qgb25lLlxyXG5cdFx0aWYgKCBncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UgKSB7XHJcblx0XHRcdGdyb3VwLnB1c2gobGFzdEluUmFuZ2UpO1xyXG5cdFx0XHRpZ25vcmVMYXN0ID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRncm91cC5mb3JFYWNoKGZ1bmN0aW9uICggY3VycmVudCwgaW5kZXggKSB7XHJcblxyXG5cdFx0XHQvLyBHZXQgdGhlIGN1cnJlbnQgc3RlcCBhbmQgdGhlIGxvd2VyICsgdXBwZXIgcG9zaXRpb25zLlxyXG5cdFx0XHR2YXIgc3RlcDtcclxuXHRcdFx0dmFyIGk7XHJcblx0XHRcdHZhciBxO1xyXG5cdFx0XHR2YXIgbG93ID0gY3VycmVudDtcclxuXHRcdFx0dmFyIGhpZ2ggPSBncm91cFtpbmRleCsxXTtcclxuXHRcdFx0dmFyIG5ld1BjdDtcclxuXHRcdFx0dmFyIHBjdERpZmZlcmVuY2U7XHJcblx0XHRcdHZhciBwY3RQb3M7XHJcblx0XHRcdHZhciB0eXBlO1xyXG5cdFx0XHR2YXIgc3RlcHM7XHJcblx0XHRcdHZhciByZWFsU3RlcHM7XHJcblx0XHRcdHZhciBzdGVwc2l6ZTtcclxuXHJcblx0XHRcdC8vIFdoZW4gdXNpbmcgJ3N0ZXBzJyBtb2RlLCB1c2UgdGhlIHByb3ZpZGVkIHN0ZXBzLlxyXG5cdFx0XHQvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXHJcblx0XHRcdGlmICggbW9kZSA9PT0gJ3N0ZXBzJyApIHtcclxuXHRcdFx0XHRzdGVwID0gc2NvcGVfU3BlY3RydW0ueE51bVN0ZXBzWyBpbmRleCBdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBEZWZhdWx0IHRvIGEgJ2Z1bGwnIHN0ZXAuXHJcblx0XHRcdGlmICggIXN0ZXAgKSB7XHJcblx0XHRcdFx0c3RlcCA9IGhpZ2gtbG93O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBMb3cgY2FuIGJlIDAsIHNvIHRlc3QgZm9yIGZhbHNlLiBJZiBoaWdoIGlzIHVuZGVmaW5lZCxcclxuXHRcdFx0Ly8gd2UgYXJlIGF0IHRoZSBsYXN0IHN1YnJhbmdlLiBJbmRleCAwIGlzIGFscmVhZHkgaGFuZGxlZC5cclxuXHRcdFx0aWYgKCBsb3cgPT09IGZhbHNlIHx8IGhpZ2ggPT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE1ha2Ugc3VyZSBzdGVwIGlzbid0IDAsIHdoaWNoIHdvdWxkIGNhdXNlIGFuIGluZmluaXRlIGxvb3AgKCM2NTQpXHJcblx0XHRcdHN0ZXAgPSBNYXRoLm1heChzdGVwLCAwLjAwMDAwMDEpO1xyXG5cclxuXHRcdFx0Ly8gRmluZCBhbGwgc3RlcHMgaW4gdGhlIHN1YnJhbmdlLlxyXG5cdFx0XHRmb3IgKCBpID0gbG93OyBpIDw9IGhpZ2g7IGkgPSBzYWZlSW5jcmVtZW50KGksIHN0ZXApICkge1xyXG5cclxuXHRcdFx0XHQvLyBHZXQgdGhlIHBlcmNlbnRhZ2UgdmFsdWUgZm9yIHRoZSBjdXJyZW50IHN0ZXAsXHJcblx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBzaXplIGZvciB0aGUgc3VicmFuZ2UuXHJcblx0XHRcdFx0bmV3UGN0ID0gc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyggaSApO1xyXG5cdFx0XHRcdHBjdERpZmZlcmVuY2UgPSBuZXdQY3QgLSBwcmV2UGN0O1xyXG5cclxuXHRcdFx0XHRzdGVwcyA9IHBjdERpZmZlcmVuY2UgLyBkZW5zaXR5O1xyXG5cdFx0XHRcdHJlYWxTdGVwcyA9IE1hdGgucm91bmQoc3RlcHMpO1xyXG5cclxuXHRcdFx0XHQvLyBUaGlzIHJhdGlvIHJlcHJlc2VudHMgdGhlIGFtb3VudCBvZiBwZXJjZW50YWdlLXNwYWNlIGEgcG9pbnQgaW5kaWNhdGVzLlxyXG5cdFx0XHRcdC8vIEZvciBhIGRlbnNpdHkgMSB0aGUgcG9pbnRzL3BlcmNlbnRhZ2UgPSAxLiBGb3IgZGVuc2l0eSAyLCB0aGF0IHBlcmNlbnRhZ2UgbmVlZHMgdG8gYmUgcmUtZGV2aWRlZC5cclxuXHRcdFx0XHQvLyBSb3VuZCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgdG8gYW4gZXZlbiBudW1iZXIsIHRoZW4gZGl2aWRlIGJ5IHR3b1xyXG5cdFx0XHRcdC8vIHRvIHNwcmVhZCB0aGUgb2Zmc2V0IG9uIGJvdGggc2lkZXMgb2YgdGhlIHJhbmdlLlxyXG5cdFx0XHRcdHN0ZXBzaXplID0gcGN0RGlmZmVyZW5jZS9yZWFsU3RlcHM7XHJcblxyXG5cdFx0XHRcdC8vIERpdmlkZSBhbGwgcG9pbnRzIGV2ZW5seSwgYWRkaW5nIHRoZSBjb3JyZWN0IG51bWJlciB0byB0aGlzIHN1YnJhbmdlLlxyXG5cdFx0XHRcdC8vIFJ1biB1cCB0byA8PSBzbyB0aGF0IDEwMCUgZ2V0cyBhIHBvaW50LCBldmVudCBpZiBpZ25vcmVMYXN0IGlzIHNldC5cclxuXHRcdFx0XHRmb3IgKCBxID0gMTsgcSA8PSByZWFsU3RlcHM7IHEgKz0gMSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBUaGUgcmF0aW8gYmV0d2VlbiB0aGUgcm91bmRlZCB2YWx1ZSBhbmQgdGhlIGFjdHVhbCBzaXplIG1pZ2h0IGJlIH4xJSBvZmYuXHJcblx0XHRcdFx0XHQvLyBDb3JyZWN0IHRoZSBwZXJjZW50YWdlIG9mZnNldCBieSB0aGUgbnVtYmVyIG9mIHBvaW50c1xyXG5cdFx0XHRcdFx0Ly8gcGVyIHN1YnJhbmdlLiBkZW5zaXR5ID0gMSB3aWxsIHJlc3VsdCBpbiAxMDAgcG9pbnRzIG9uIHRoZVxyXG5cdFx0XHRcdFx0Ly8gZnVsbCByYW5nZSwgMiBmb3IgNTAsIDQgZm9yIDI1LCBldGMuXHJcblx0XHRcdFx0XHRwY3RQb3MgPSBwcmV2UGN0ICsgKCBxICogc3RlcHNpemUgKTtcclxuXHRcdFx0XHRcdGluZGV4ZXNbcGN0UG9zLnRvRml4ZWQoNSldID0gWyd4JywgMF07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBEZXRlcm1pbmUgdGhlIHBvaW50IHR5cGUuXHJcblx0XHRcdFx0dHlwZSA9IChncm91cC5pbmRleE9mKGkpID4gLTEpID8gMSA6ICggbW9kZSA9PT0gJ3N0ZXBzJyA/IDIgOiAwICk7XHJcblxyXG5cdFx0XHRcdC8vIEVuZm9yY2UgdGhlICdpZ25vcmVGaXJzdCcgb3B0aW9uIGJ5IG92ZXJ3cml0aW5nIHRoZSB0eXBlIGZvciAwLlxyXG5cdFx0XHRcdGlmICggIWluZGV4ICYmIGlnbm9yZUZpcnN0ICkge1xyXG5cdFx0XHRcdFx0dHlwZSA9IDA7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoICEoaSA9PT0gaGlnaCAmJiBpZ25vcmVMYXN0KSkge1xyXG5cdFx0XHRcdFx0Ly8gTWFyayB0aGUgJ3R5cGUnIG9mIHRoaXMgcG9pbnQuIDAgPSBwbGFpbiwgMSA9IHJlYWwgdmFsdWUsIDIgPSBzdGVwIHZhbHVlLlxyXG5cdFx0XHRcdFx0aW5kZXhlc1tuZXdQY3QudG9GaXhlZCg1KV0gPSBbaSwgdHlwZV07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuXHJcblx0XHRcdFx0cHJldlBjdCA9IG5ld1BjdDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGluZGV4ZXM7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhZGRNYXJraW5nICggc3ByZWFkLCBmaWx0ZXJGdW5jLCBmb3JtYXR0ZXIgKSB7XHJcblxyXG5cdFx0dmFyIGVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcblx0XHR2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IFtcclxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlTm9ybWFsLFxyXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVMYXJnZSxcclxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlU3ViXHJcblx0XHRdO1xyXG5cdFx0dmFyIG1hcmtlclNpemVDbGFzc2VzID0gW1xyXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTm9ybWFsLFxyXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTGFyZ2UsXHJcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJTdWJcclxuXHRcdF07XHJcblx0XHR2YXIgdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgPSBbXHJcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZUhvcml6b250YWwsXHJcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZVZlcnRpY2FsXHJcblx0XHRdO1xyXG5cdFx0dmFyIG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyA9IFtcclxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlckhvcml6b250YWwsXHJcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJWZXJ0aWNhbFxyXG5cdFx0XTtcclxuXHJcblx0XHRhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLmNzc0NsYXNzZXMucGlwcyk7XHJcblx0XHRhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLm9ydCA9PT0gMCA/IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzSG9yaXpvbnRhbCA6IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzVmVydGljYWwpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENsYXNzZXMoIHR5cGUsIHNvdXJjZSApe1xyXG5cdFx0XHR2YXIgYSA9IHNvdXJjZSA9PT0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlO1xyXG5cdFx0XHR2YXIgb3JpZW50YXRpb25DbGFzc2VzID0gYSA/IHZhbHVlT3JpZW50YXRpb25DbGFzc2VzIDogbWFya2VyT3JpZW50YXRpb25DbGFzc2VzO1xyXG5cdFx0XHR2YXIgc2l6ZUNsYXNzZXMgPSBhID8gdmFsdWVTaXplQ2xhc3NlcyA6IG1hcmtlclNpemVDbGFzc2VzO1xyXG5cclxuXHRcdFx0cmV0dXJuIHNvdXJjZSArICcgJyArIG9yaWVudGF0aW9uQ2xhc3Nlc1tvcHRpb25zLm9ydF0gKyAnICcgKyBzaXplQ2xhc3Nlc1t0eXBlXTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhZGRTcHJlYWQgKCBvZmZzZXQsIHZhbHVlcyApe1xyXG5cclxuXHRcdFx0Ly8gQXBwbHkgdGhlIGZpbHRlciBmdW5jdGlvbiwgaWYgaXQgaXMgc2V0LlxyXG5cdFx0XHR2YWx1ZXNbMV0gPSAodmFsdWVzWzFdICYmIGZpbHRlckZ1bmMpID8gZmlsdGVyRnVuYyh2YWx1ZXNbMF0sIHZhbHVlc1sxXSkgOiB2YWx1ZXNbMV07XHJcblxyXG5cdFx0XHQvLyBBZGQgYSBtYXJrZXIgZm9yIGV2ZXJ5IHBvaW50XHJcblx0XHRcdHZhciBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcclxuXHRcdFx0XHRub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModmFsdWVzWzFdLCBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyKTtcclxuXHRcdFx0XHRub2RlLnN0eWxlW29wdGlvbnMuc3R5bGVdID0gb2Zmc2V0ICsgJyUnO1xyXG5cclxuXHRcdFx0Ly8gVmFsdWVzIGFyZSBvbmx5IGFwcGVuZGVkIGZvciBwb2ludHMgbWFya2VkICcxJyBvciAnMicuXHJcblx0XHRcdGlmICggdmFsdWVzWzFdICkge1xyXG5cdFx0XHRcdG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xyXG5cdFx0XHRcdG5vZGUuY2xhc3NOYW1lID0gZ2V0Q2xhc3Nlcyh2YWx1ZXNbMV0sIG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZSk7XHJcblx0XHRcdFx0bm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCB2YWx1ZXNbMF0pO1xyXG5cdFx0XHRcdG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyAnJSc7XHJcblx0XHRcdFx0bm9kZS5pbm5lclRleHQgPSBmb3JtYXR0ZXIudG8odmFsdWVzWzBdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFwcGVuZCBhbGwgcG9pbnRzLlxyXG5cdFx0T2JqZWN0LmtleXMoc3ByZWFkKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe1xyXG5cdFx0XHRhZGRTcHJlYWQoYSwgc3ByZWFkW2FdKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBlbGVtZW50O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcmVtb3ZlUGlwcyAoICkge1xyXG5cdFx0aWYgKCBzY29wZV9QaXBzICkge1xyXG5cdFx0XHRyZW1vdmVFbGVtZW50KHNjb3BlX1BpcHMpO1xyXG5cdFx0XHRzY29wZV9QaXBzID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHBpcHMgKCBncmlkICkge1xyXG5cclxuXHRcdC8vIEZpeCAjNjY5XHJcblx0XHRyZW1vdmVQaXBzKCk7XHJcblxyXG5cdFx0dmFyIG1vZGUgPSBncmlkLm1vZGU7XHJcblx0XHR2YXIgZGVuc2l0eSA9IGdyaWQuZGVuc2l0eSB8fCAxO1xyXG5cdFx0dmFyIGZpbHRlciA9IGdyaWQuZmlsdGVyIHx8IGZhbHNlO1xyXG5cdFx0dmFyIHZhbHVlcyA9IGdyaWQudmFsdWVzIHx8IGZhbHNlO1xyXG5cdFx0dmFyIHN0ZXBwZWQgPSBncmlkLnN0ZXBwZWQgfHwgZmFsc2U7XHJcblx0XHR2YXIgZ3JvdXAgPSBnZXRHcm91cCggbW9kZSwgdmFsdWVzLCBzdGVwcGVkICk7XHJcblx0XHR2YXIgc3ByZWFkID0gZ2VuZXJhdGVTcHJlYWQoIGRlbnNpdHksIG1vZGUsIGdyb3VwICk7XHJcblx0XHR2YXIgZm9ybWF0ID0gZ3JpZC5mb3JtYXQgfHwge1xyXG5cdFx0XHR0bzogTWF0aC5yb3VuZFxyXG5cdFx0fTtcclxuXHJcblx0XHRzY29wZV9QaXBzID0gc2NvcGVfVGFyZ2V0LmFwcGVuZENoaWxkKGFkZE1hcmtpbmcoXHJcblx0XHRcdHNwcmVhZCxcclxuXHRcdFx0ZmlsdGVyLFxyXG5cdFx0XHRmb3JtYXRcclxuXHRcdCkpO1xyXG5cclxuXHRcdHJldHVybiBzY29wZV9QaXBzO1xyXG5cdH1cclxuXHJcbi8qISBJbiB0aGlzIGZpbGU6IEJyb3dzZXIgZXZlbnRzIChub3Qgc2xpZGVyIGV2ZW50cyBsaWtlIHNsaWRlLCBjaGFuZ2UpOyAqL1xyXG5cclxuXHQvLyBTaG9ydGhhbmQgZm9yIGJhc2UgZGltZW5zaW9ucy5cclxuXHRmdW5jdGlvbiBiYXNlU2l6ZSAoICkge1xyXG5cdFx0dmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdFx0dmFyIGFsdCA9ICdvZmZzZXQnICsgWydXaWR0aCcsICdIZWlnaHQnXVtvcHRpb25zLm9ydF07XHJcblx0XHRyZXR1cm4gb3B0aW9ucy5vcnQgPT09IDAgPyAocmVjdC53aWR0aHx8c2NvcGVfQmFzZVthbHRdKSA6IChyZWN0LmhlaWdodHx8c2NvcGVfQmFzZVthbHRdKTtcclxuXHR9XHJcblxyXG5cdC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXHJcblx0ZnVuY3Rpb24gYXR0YWNoRXZlbnQgKCBldmVudHMsIGVsZW1lbnQsIGNhbGxiYWNrLCBkYXRhICkge1xyXG5cclxuXHRcdC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXHJcblx0XHQvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcclxuXHJcblx0XHR2YXIgbWV0aG9kID0gZnVuY3Rpb24gKCBlICl7XHJcblxyXG5cdFx0XHRlID0gZml4RXZlbnQoZSwgZGF0YS5wYWdlT2Zmc2V0LCBkYXRhLnRhcmdldCB8fCBlbGVtZW50KTtcclxuXHJcblx0XHRcdC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XHJcblx0XHRcdC8vIHdoZW4gaGFuZGxpbmcgKG11bHRpLSkgdG91Y2ggZXZlbnRzO1xyXG5cdFx0XHRpZiAoICFlICkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZG9Ob3RSZWplY3QgaXMgcGFzc2VkIGJ5IGFsbCBlbmQgZXZlbnRzIHRvIG1ha2Ugc3VyZSByZWxlYXNlZCB0b3VjaGVzXHJcblx0XHRcdC8vIGFyZSBub3QgcmVqZWN0ZWQsIGxlYXZpbmcgdGhlIHNsaWRlciBcInN0dWNrXCIgdG8gdGhlIGN1cnNvcjtcclxuXHRcdFx0aWYgKCBzY29wZV9UYXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFkYXRhLmRvTm90UmVqZWN0ICkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU3RvcCBpZiBhbiBhY3RpdmUgJ3RhcCcgdHJhbnNpdGlvbiBpcyB0YWtpbmcgcGxhY2UuXHJcblx0XHRcdGlmICggaGFzQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwKSAmJiAhZGF0YS5kb05vdFJlamVjdCApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcclxuXHRcdFx0aWYgKCBldmVudHMgPT09IGFjdGlvbnMuc3RhcnQgJiYgZS5idXR0b25zICE9PSB1bmRlZmluZWQgJiYgZS5idXR0b25zID4gMSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcclxuXHRcdFx0aWYgKCBkYXRhLmhvdmVyICYmIGUuYnV0dG9ucyApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vICdzdXBwb3J0c1Bhc3NpdmUnIGlzIG9ubHkgdHJ1ZSBpZiBhIGJyb3dzZXIgYWxzbyBzdXBwb3J0cyB0b3VjaC1hY3Rpb246IG5vbmUgaW4gQ1NTLlxyXG5cdFx0XHQvLyBpT1Mgc2FmYXJpIGRvZXMgbm90LCBzbyBpdCBkb2Vzbid0IGdldCB0byBiZW5lZml0IGZyb20gcGFzc2l2ZSBzY3JvbGxpbmcuIGlPUyBkb2VzIHN1cHBvcnRcclxuXHRcdFx0Ly8gdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb24sIGJ1dCB0aGF0IGFsbG93cyBwYW5uaW5nLCB3aGljaCBicmVha3NcclxuXHRcdFx0Ly8gc2xpZGVycyBhZnRlciB6b29taW5nL29uIG5vbi1yZXNwb25zaXZlIHBhZ2VzLlxyXG5cdFx0XHQvLyBTZWU6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzMxMTJcclxuXHRcdFx0aWYgKCAhc3VwcG9ydHNQYXNzaXZlICkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZS5jYWxjUG9pbnQgPSBlLnBvaW50c1sgb3B0aW9ucy5vcnQgXTtcclxuXHJcblx0XHRcdC8vIENhbGwgdGhlIGV2ZW50IGhhbmRsZXIgd2l0aCB0aGUgZXZlbnQgWyBhbmQgYWRkaXRpb25hbCBkYXRhIF0uXHJcblx0XHRcdGNhbGxiYWNrICggZSwgZGF0YSApO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgbWV0aG9kcyA9IFtdO1xyXG5cclxuXHRcdC8vIEJpbmQgYSBjbG9zdXJlIG9uIHRoZSB0YXJnZXQgZm9yIGV2ZXJ5IGV2ZW50IHR5cGUuXHJcblx0XHRldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKCBldmVudE5hbWUgKXtcclxuXHRcdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbWV0aG9kLCBzdXBwb3J0c1Bhc3NpdmUgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlKTtcclxuXHRcdFx0bWV0aG9kcy5wdXNoKFtldmVudE5hbWUsIG1ldGhvZF0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIG1ldGhvZHM7XHJcblx0fVxyXG5cclxuXHQvLyBQcm92aWRlIGEgY2xlYW4gZXZlbnQgd2l0aCBzdGFuZGFyZGl6ZWQgb2Zmc2V0IHZhbHVlcy5cclxuXHRmdW5jdGlvbiBmaXhFdmVudCAoIGUsIHBhZ2VPZmZzZXQsIGV2ZW50VGFyZ2V0ICkge1xyXG5cclxuXHRcdC8vIEZpbHRlciB0aGUgZXZlbnQgdG8gcmVnaXN0ZXIgdGhlIHR5cGUsIHdoaWNoIGNhbiBiZVxyXG5cdFx0Ly8gdG91Y2gsIG1vdXNlIG9yIHBvaW50ZXIuIE9mZnNldCBjaGFuZ2VzIG5lZWQgdG8gYmVcclxuXHRcdC8vIG1hZGUgb24gYW4gZXZlbnQgc3BlY2lmaWMgYmFzaXMuXHJcblx0XHR2YXIgdG91Y2ggPSBlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA9PT0gMDtcclxuXHRcdHZhciBtb3VzZSA9IGUudHlwZS5pbmRleE9mKCdtb3VzZScpID09PSAwO1xyXG5cdFx0dmFyIHBvaW50ZXIgPSBlLnR5cGUuaW5kZXhPZigncG9pbnRlcicpID09PSAwO1xyXG5cclxuXHRcdHZhciB4O1xyXG5cdFx0dmFyIHk7XHJcblxyXG5cdFx0Ly8gSUUxMCBpbXBsZW1lbnRlZCBwb2ludGVyIGV2ZW50cyB3aXRoIGEgcHJlZml4O1xyXG5cdFx0aWYgKCBlLnR5cGUuaW5kZXhPZignTVNQb2ludGVyJykgPT09IDAgKSB7XHJcblx0XHRcdHBvaW50ZXIgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEluIHRoZSBldmVudCB0aGF0IG11bHRpdG91Y2ggaXMgYWN0aXZhdGVkLCB0aGUgb25seSB0aGluZyBvbmUgaGFuZGxlIHNob3VsZCBiZSBjb25jZXJuZWRcclxuXHRcdC8vIGFib3V0IGlzIHRoZSB0b3VjaGVzIHRoYXQgb3JpZ2luYXRlZCBvbiB0b3Agb2YgaXQuXHJcblx0XHRpZiAoIHRvdWNoICkge1xyXG5cclxuXHRcdFx0Ly8gUmV0dXJucyB0cnVlIGlmIGEgdG91Y2ggb3JpZ2luYXRlZCBvbiB0aGUgdGFyZ2V0LlxyXG5cdFx0XHR2YXIgaXNUb3VjaE9uVGFyZ2V0ID0gZnVuY3Rpb24gKGNoZWNrVG91Y2gpIHtcclxuXHRcdFx0XHRyZXR1cm4gY2hlY2tUb3VjaC50YXJnZXQgPT09IGV2ZW50VGFyZ2V0IHx8IGV2ZW50VGFyZ2V0LmNvbnRhaW5zKGNoZWNrVG91Y2gudGFyZ2V0KTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXHJcblx0XHRcdC8vIHRvdWNoIG9uIHRoZSB0YXJnZXQgc28gd2UgbG9vayBhbW9uZ3N0IGFsbCB0b3VjaGVzLlxyXG5cdFx0XHRpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcclxuXHJcblx0XHRcdFx0dmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xyXG5cclxuXHRcdFx0XHQvLyBEbyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gb25lIHRvdWNoIHBlciBoYW5kbGUuXHJcblx0XHRcdFx0aWYgKCB0YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR4ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcclxuXHRcdFx0XHR5ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdC8vIEluIHRoZSBvdGhlciBjYXNlcywgZmluZCBvbiBjaGFuZ2VkVG91Y2hlcyBpcyBlbm91Z2guXHJcblx0XHRcdFx0dmFyIHRhcmdldFRvdWNoID0gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChlLmNoYW5nZWRUb3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xyXG5cclxuXHRcdFx0XHQvLyBDYW5jZWwgaWYgdGhlIHRhcmdldCB0b3VjaCBoYXMgbm90IG1vdmVkLlxyXG5cdFx0XHRcdGlmICggIXRhcmdldFRvdWNoICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0eCA9IHRhcmdldFRvdWNoLnBhZ2VYO1xyXG5cdFx0XHRcdHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0IHx8IGdldFBhZ2VPZmZzZXQoc2NvcGVfRG9jdW1lbnQpO1xyXG5cclxuXHRcdGlmICggbW91c2UgfHwgcG9pbnRlciApIHtcclxuXHRcdFx0eCA9IGUuY2xpZW50WCArIHBhZ2VPZmZzZXQueDtcclxuXHRcdFx0eSA9IGUuY2xpZW50WSArIHBhZ2VPZmZzZXQueTtcclxuXHRcdH1cclxuXHJcblx0XHRlLnBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0O1xyXG5cdFx0ZS5wb2ludHMgPSBbeCwgeV07XHJcblx0XHRlLmN1cnNvciA9IG1vdXNlIHx8IHBvaW50ZXI7IC8vIEZpeCAjNDM1XHJcblxyXG5cdFx0cmV0dXJuIGU7XHJcblx0fVxyXG5cclxuXHQvLyBUcmFuc2xhdGUgYSBjb29yZGluYXRlIGluIHRoZSBkb2N1bWVudCB0byBhIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxyXG5cdGZ1bmN0aW9uIGNhbGNQb2ludFRvUGVyY2VudGFnZSAoIGNhbGNQb2ludCApIHtcclxuXHRcdHZhciBsb2NhdGlvbiA9IGNhbGNQb2ludCAtIG9mZnNldChzY29wZV9CYXNlLCBvcHRpb25zLm9ydCk7XHJcblx0XHR2YXIgcHJvcG9zYWwgPSAoIGxvY2F0aW9uICogMTAwICkgLyBiYXNlU2l6ZSgpO1xyXG5cclxuXHRcdC8vIENsYW1wIHByb3Bvc2FsIGJldHdlZW4gMCUgYW5kIDEwMCVcclxuXHRcdC8vIE91dC1vZi1ib3VuZCBjb29yZGluYXRlcyBtYXkgb2NjdXIgd2hlbiAubm9VaS1iYXNlIHBzZXVkby1lbGVtZW50c1xyXG5cdFx0Ly8gYXJlIHVzZWQgKGUuZy4gY29udGFpbmVkIGhhbmRsZXMgZmVhdHVyZSlcclxuXHRcdHByb3Bvc2FsID0gbGltaXQocHJvcG9zYWwpO1xyXG5cclxuXHRcdHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIHByb3Bvc2FsIDogcHJvcG9zYWw7XHJcblx0fVxyXG5cclxuXHQvLyBGaW5kIGhhbmRsZSBjbG9zZXN0IHRvIGEgY2VydGFpbiBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcclxuXHRmdW5jdGlvbiBnZXRDbG9zZXN0SGFuZGxlICggcHJvcG9zYWwgKSB7XHJcblxyXG5cdFx0dmFyIGNsb3Nlc3QgPSAxMDA7XHJcblx0XHR2YXIgaGFuZGxlTnVtYmVyID0gZmFsc2U7XHJcblxyXG5cdFx0c2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZSwgaW5kZXgpe1xyXG5cclxuXHRcdFx0Ly8gRGlzYWJsZWQgaGFuZGxlcyBhcmUgaWdub3JlZFxyXG5cdFx0XHRpZiAoIGhhbmRsZS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgcG9zID0gTWF0aC5hYnMoc2NvcGVfTG9jYXRpb25zW2luZGV4XSAtIHByb3Bvc2FsKTtcclxuXHJcblx0XHRcdGlmICggcG9zIDwgY2xvc2VzdCB8fCAocG9zID09PSAxMDAgJiYgY2xvc2VzdCA9PT0gMTAwKSApIHtcclxuXHRcdFx0XHRoYW5kbGVOdW1iZXIgPSBpbmRleDtcclxuXHRcdFx0XHRjbG9zZXN0ID0gcG9zO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gaGFuZGxlTnVtYmVyO1xyXG5cdH1cclxuXHJcblx0Ly8gRmlyZSAnZW5kJyB3aGVuIGEgbW91c2Ugb3IgcGVuIGxlYXZlcyB0aGUgZG9jdW1lbnQuXHJcblx0ZnVuY3Rpb24gZG9jdW1lbnRMZWF2ZSAoIGV2ZW50LCBkYXRhICkge1xyXG5cdFx0aWYgKCBldmVudC50eXBlID09PSBcIm1vdXNlb3V0XCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ID09PSBudWxsICl7XHJcblx0XHRcdGV2ZW50RW5kIChldmVudCwgZGF0YSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBIYW5kbGUgbW92ZW1lbnQgb24gZG9jdW1lbnQgZm9yIGhhbmRsZSBhbmQgcmFuZ2UgZHJhZy5cclxuXHRmdW5jdGlvbiBldmVudE1vdmUgKCBldmVudCwgZGF0YSApIHtcclxuXHJcblx0XHQvLyBGaXggIzQ5OFxyXG5cdFx0Ly8gQ2hlY2sgdmFsdWUgb2YgLmJ1dHRvbnMgaW4gJ3N0YXJ0JyB0byB3b3JrIGFyb3VuZCBhIGJ1ZyBpbiBJRTEwIG1vYmlsZSAoZGF0YS5idXR0b25zUHJvcGVydHkpLlxyXG5cdFx0Ly8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy85MjcwMDUvbW9iaWxlLWllMTAtd2luZG93cy1waG9uZS1idXR0b25zLXByb3BlcnR5LW9mLXBvaW50ZXJtb3ZlLWV2ZW50LWFsd2F5cy16ZXJvXHJcblx0XHQvLyBJRTkgaGFzIC5idXR0b25zIGFuZCAud2hpY2ggemVybyBvbiBtb3VzZW1vdmUuXHJcblx0XHQvLyBGaXJlZm94IGJyZWFrcyB0aGUgc3BlYyBNRE4gZGVmaW5lcy5cclxuXHRcdGlmICggbmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCApIHtcclxuXHRcdFx0cmV0dXJuIGV2ZW50RW5kKGV2ZW50LCBkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGVjayBpZiB3ZSBhcmUgbW92aW5nIHVwIG9yIGRvd25cclxuXHRcdHZhciBtb3ZlbWVudCA9IChvcHRpb25zLmRpciA/IC0xIDogMSkgKiAoZXZlbnQuY2FsY1BvaW50IC0gZGF0YS5zdGFydENhbGNQb2ludCk7XHJcblxyXG5cdFx0Ly8gQ29udmVydCB0aGUgbW92ZW1lbnQgaW50byBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHNsaWRlciB3aWR0aC9oZWlnaHRcclxuXHRcdHZhciBwcm9wb3NhbCA9IChtb3ZlbWVudCAqIDEwMCkgLyBkYXRhLmJhc2VTaXplO1xyXG5cclxuXHRcdG1vdmVIYW5kbGVzKG1vdmVtZW50ID4gMCwgcHJvcG9zYWwsIGRhdGEubG9jYXRpb25zLCBkYXRhLmhhbmRsZU51bWJlcnMpO1xyXG5cdH1cclxuXHJcblx0Ly8gVW5iaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LCBjYWxsIGNhbGxiYWNrcy5cclxuXHRmdW5jdGlvbiBldmVudEVuZCAoIGV2ZW50LCBkYXRhICkge1xyXG5cclxuXHRcdC8vIFRoZSBoYW5kbGUgaXMgbm8gbG9uZ2VyIGFjdGl2ZSwgc28gcmVtb3ZlIHRoZSBjbGFzcy5cclxuXHRcdGlmICggZGF0YS5oYW5kbGUgKSB7XHJcblx0XHRcdHJlbW92ZUNsYXNzKGRhdGEuaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcclxuXHRcdFx0c2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVW5iaW5kIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLCB3aGljaCBhcmUgYWRkZWQgb24gJ3N0YXJ0Jy5cclxuXHRcdGRhdGEubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oIGMgKSB7XHJcblx0XHRcdHNjb3BlX0RvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGNbMF0sIGNbMV0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKCBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgPT09IDAgKSB7XHJcblx0XHRcdC8vIFJlbW92ZSBkcmFnZ2luZyBjbGFzcy5cclxuXHRcdFx0cmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZyk7XHJcblx0XHRcdHNldFppbmRleCgpO1xyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIGN1cnNvciBzdHlsZXMgYW5kIHRleHQtc2VsZWN0aW9uIGV2ZW50cyBib3VuZCB0byB0aGUgYm9keS5cclxuXHRcdFx0aWYgKCBldmVudC5jdXJzb3IgKSB7XHJcblx0XHRcdFx0c2NvcGVfQm9keS5zdHlsZS5jdXJzb3IgPSAnJztcclxuXHRcdFx0XHRzY29wZV9Cb2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgcHJldmVudERlZmF1bHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcclxuXHRcdFx0ZmlyZUV2ZW50KCdjaGFuZ2UnLCBoYW5kbGVOdW1iZXIpO1xyXG5cdFx0XHRmaXJlRXZlbnQoJ3NldCcsIGhhbmRsZU51bWJlcik7XHJcblx0XHRcdGZpcmVFdmVudCgnZW5kJywgaGFuZGxlTnVtYmVyKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gQmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudC5cclxuXHRmdW5jdGlvbiBldmVudFN0YXJ0ICggZXZlbnQsIGRhdGEgKSB7XHJcblxyXG5cdFx0dmFyIGhhbmRsZTtcclxuXHRcdGlmICggZGF0YS5oYW5kbGVOdW1iZXJzLmxlbmd0aCA9PT0gMSApIHtcclxuXHJcblx0XHRcdHZhciBoYW5kbGVPcmlnaW4gPSBzY29wZV9IYW5kbGVzW2RhdGEuaGFuZGxlTnVtYmVyc1swXV07XHJcblxyXG5cdFx0XHQvLyBJZ25vcmUgJ2Rpc2FibGVkJyBoYW5kbGVzXHJcblx0XHRcdGlmICggaGFuZGxlT3JpZ2luLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGhhbmRsZSA9IGhhbmRsZU9yaWdpbi5jaGlsZHJlblswXTtcclxuXHRcdFx0c2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ICs9IDE7XHJcblxyXG5cdFx0XHQvLyBNYXJrIHRoZSBoYW5kbGUgYXMgJ2FjdGl2ZScgc28gaXQgY2FuIGJlIHN0eWxlZC5cclxuXHRcdFx0YWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBIGRyYWcgc2hvdWxkIG5ldmVyIHByb3BhZ2F0ZSB1cCB0byB0aGUgJ3RhcCcgZXZlbnQuXHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHQvLyBSZWNvcmQgdGhlIGV2ZW50IGxpc3RlbmVycy5cclxuXHRcdHZhciBsaXN0ZW5lcnMgPSBbXTtcclxuXHJcblx0XHQvLyBBdHRhY2ggdGhlIG1vdmUgYW5kIGVuZCBldmVudHMuXHJcblx0XHR2YXIgbW92ZUV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5tb3ZlLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50TW92ZSwge1xyXG5cdFx0XHQvLyBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcHJvcGFnYXRlIHRoZSBvcmlnaW5hbCBvbmUgc28gdGhhdCB3ZSBrZWVwXHJcblx0XHRcdC8vIHJlbHlpbmcgb24gaXQgdG8gZXh0cmFjdCB0YXJnZXQgdG91Y2hlcy5cclxuXHRcdFx0dGFyZ2V0OiBldmVudC50YXJnZXQsXHJcblx0XHRcdGhhbmRsZTogaGFuZGxlLFxyXG5cdFx0XHRsaXN0ZW5lcnM6IGxpc3RlbmVycyxcclxuXHRcdFx0c3RhcnRDYWxjUG9pbnQ6IGV2ZW50LmNhbGNQb2ludCxcclxuXHRcdFx0YmFzZVNpemU6IGJhc2VTaXplKCksXHJcblx0XHRcdHBhZ2VPZmZzZXQ6IGV2ZW50LnBhZ2VPZmZzZXQsXHJcblx0XHRcdGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVycyxcclxuXHRcdFx0YnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxyXG5cdFx0XHRsb2NhdGlvbnM6IHNjb3BlX0xvY2F0aW9ucy5zbGljZSgpXHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgZW5kRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLmVuZCwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudEVuZCwge1xyXG5cdFx0XHR0YXJnZXQ6IGV2ZW50LnRhcmdldCxcclxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXHJcblx0XHRcdGxpc3RlbmVyczogbGlzdGVuZXJzLFxyXG5cdFx0XHRkb05vdFJlamVjdDogdHJ1ZSxcclxuXHRcdFx0aGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzXHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgb3V0RXZlbnQgPSBhdHRhY2hFdmVudChcIm1vdXNlb3V0XCIsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZG9jdW1lbnRMZWF2ZSwge1xyXG5cdFx0XHR0YXJnZXQ6IGV2ZW50LnRhcmdldCxcclxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXHJcblx0XHRcdGxpc3RlbmVyczogbGlzdGVuZXJzLFxyXG5cdFx0XHRkb05vdFJlamVjdDogdHJ1ZSxcclxuXHRcdFx0aGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBwdXNoZWQgdGhlIGxpc3RlbmVycyBpbiB0aGUgbGlzdGVuZXIgbGlzdCByYXRoZXIgdGhhbiBjcmVhdGluZ1xyXG5cdFx0Ly8gYSBuZXcgb25lIGFzIGl0IGhhcyBhbHJlYWR5IGJlZW4gcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVycy5cclxuXHRcdGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgbW92ZUV2ZW50LmNvbmNhdChlbmRFdmVudCwgb3V0RXZlbnQpKTtcclxuXHJcblx0XHQvLyBUZXh0IHNlbGVjdGlvbiBpc24ndCBhbiBpc3N1ZSBvbiB0b3VjaCBkZXZpY2VzLFxyXG5cdFx0Ly8gc28gYWRkaW5nIGN1cnNvciBzdHlsZXMgY2FuIGJlIHNraXBwZWQuXHJcblx0XHRpZiAoIGV2ZW50LmN1cnNvciApIHtcclxuXHJcblx0XHRcdC8vIFByZXZlbnQgdGhlICdJJyBjdXJzb3IgYW5kIGV4dGVuZCB0aGUgcmFuZ2UtZHJhZyBjdXJzb3IuXHJcblx0XHRcdHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gZ2V0Q29tcHV0ZWRTdHlsZShldmVudC50YXJnZXQpLmN1cnNvcjtcclxuXHJcblx0XHRcdC8vIE1hcmsgdGhlIHRhcmdldCB3aXRoIGEgZHJhZ2dpbmcgc3RhdGUuXHJcblx0XHRcdGlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICkge1xyXG5cdFx0XHRcdGFkZENsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXHJcblx0XHRcdC8vIEluIG5vVWlTbGlkZXIgPD0gOS4yLjAsIHRoaXMgd2FzIGhhbmRsZWQgYnkgY2FsbGluZyBwcmV2ZW50RGVmYXVsdCBvbiBtb3VzZS90b3VjaCBzdGFydC9tb3ZlLFxyXG5cdFx0XHQvLyB3aGljaCBpcyBzY3JvbGwgYmxvY2tpbmcuIFRoZSBzZWxlY3RzdGFydCBldmVudCBpcyBzdXBwb3J0ZWQgYnkgRmlyZUZveCBzdGFydGluZyBmcm9tIHZlcnNpb24gNTIsXHJcblx0XHRcdC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXHJcblx0XHRcdC8vIFRoZSAnY3Vyc29yJyBmbGFnIGlzIGZhbHNlLlxyXG5cdFx0XHQvLyBTZWU6IGh0dHA6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPXNlbGVjdHN0YXJ0XHJcblx0XHRcdHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBwcmV2ZW50RGVmYXVsdCwgZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XHJcblx0XHRcdGZpcmVFdmVudCgnc3RhcnQnLCBoYW5kbGVOdW1iZXIpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBNb3ZlIGNsb3Nlc3QgaGFuZGxlIHRvIHRhcHBlZCBsb2NhdGlvbi5cclxuXHRmdW5jdGlvbiBldmVudFRhcCAoIGV2ZW50ICkge1xyXG5cclxuXHRcdC8vIFRoZSB0YXAgZXZlbnQgc2hvdWxkbid0IHByb3BhZ2F0ZSB1cFxyXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cdFx0dmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XHJcblx0XHR2YXIgaGFuZGxlTnVtYmVyID0gZ2V0Q2xvc2VzdEhhbmRsZShwcm9wb3NhbCk7XHJcblxyXG5cdFx0Ly8gVGFja2xlIHRoZSBjYXNlIHRoYXQgYWxsIGhhbmRsZXMgYXJlICdkaXNhYmxlZCcuXHJcblx0XHRpZiAoIGhhbmRsZU51bWJlciA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGbGFnIHRoZSBzbGlkZXIgYXMgaXQgaXMgbm93IGluIGEgdHJhbnNpdGlvbmFsIHN0YXRlLlxyXG5cdFx0Ly8gVHJhbnNpdGlvbiB0YWtlcyBhIGNvbmZpZ3VyYWJsZSBhbW91bnQgb2YgbXMgKGRlZmF1bHQgMzAwKS4gUmUtZW5hYmxlIHRoZSBzbGlkZXIgYWZ0ZXIgdGhhdC5cclxuXHRcdGlmICggIW9wdGlvbnMuZXZlbnRzLnNuYXAgKSB7XHJcblx0XHRcdGFkZENsYXNzRm9yKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCwgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbik7XHJcblx0XHR9XHJcblxyXG5cdFx0c2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcHJvcG9zYWwsIHRydWUsIHRydWUpO1xyXG5cclxuXHRcdHNldFppbmRleCgpO1xyXG5cclxuXHRcdGZpcmVFdmVudCgnc2xpZGUnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xyXG5cdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xyXG5cdFx0ZmlyZUV2ZW50KCdjaGFuZ2UnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xyXG5cdFx0ZmlyZUV2ZW50KCdzZXQnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xyXG5cclxuXHRcdGlmICggb3B0aW9ucy5ldmVudHMuc25hcCApIHtcclxuXHRcdFx0ZXZlbnRTdGFydChldmVudCwgeyBoYW5kbGVOdW1iZXJzOiBbaGFuZGxlTnVtYmVyXSB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEZpcmVzIGEgJ2hvdmVyJyBldmVudCBmb3IgYSBob3ZlcmVkIG1vdXNlL3BlbiBwb3NpdGlvbi5cclxuXHRmdW5jdGlvbiBldmVudEhvdmVyICggZXZlbnQgKSB7XHJcblxyXG5cdFx0dmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XHJcblxyXG5cdFx0dmFyIHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcChwcm9wb3NhbCk7XHJcblx0XHR2YXIgdmFsdWUgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xyXG5cclxuXHRcdE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiggdGFyZ2V0RXZlbnQgKSB7XHJcblx0XHRcdGlmICggJ2hvdmVyJyA9PT0gdGFyZ2V0RXZlbnQuc3BsaXQoJy4nKVswXSApIHtcclxuXHRcdFx0XHRzY29wZV9FdmVudHNbdGFyZ2V0RXZlbnRdLmZvckVhY2goZnVuY3Rpb24oIGNhbGxiYWNrICkge1xyXG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCggc2NvcGVfU2VsZiwgdmFsdWUgKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBBdHRhY2ggZXZlbnRzIHRvIHNldmVyYWwgc2xpZGVyIHBhcnRzLlxyXG5cdGZ1bmN0aW9uIGJpbmRTbGlkZXJFdmVudHMgKCBiZWhhdmlvdXIgKSB7XHJcblxyXG5cdFx0Ly8gQXR0YWNoIHRoZSBzdGFuZGFyZCBkcmFnIGV2ZW50IHRvIHRoZSBoYW5kbGVzLlxyXG5cdFx0aWYgKCAhYmVoYXZpb3VyLmZpeGVkICkge1xyXG5cclxuXHRcdFx0c2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKCBoYW5kbGUsIGluZGV4ICl7XHJcblxyXG5cdFx0XHRcdC8vIFRoZXNlIGV2ZW50cyBhcmUgb25seSBib3VuZCB0byB0aGUgdmlzdWFsIGhhbmRsZVxyXG5cdFx0XHRcdC8vIGVsZW1lbnQsIG5vdCB0aGUgJ3JlYWwnIG9yaWdpbiBlbGVtZW50LlxyXG5cdFx0XHRcdGF0dGFjaEV2ZW50ICggYWN0aW9ucy5zdGFydCwgaGFuZGxlLmNoaWxkcmVuWzBdLCBldmVudFN0YXJ0LCB7XHJcblx0XHRcdFx0XHRoYW5kbGVOdW1iZXJzOiBbaW5kZXhdXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cclxuXHRcdGlmICggYmVoYXZpb3VyLnRhcCApIHtcclxuXHRcdFx0YXR0YWNoRXZlbnQgKGFjdGlvbnMuc3RhcnQsIHNjb3BlX0Jhc2UsIGV2ZW50VGFwLCB7fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRmlyZSBob3ZlciBldmVudHNcclxuXHRcdGlmICggYmVoYXZpb3VyLmhvdmVyICkge1xyXG5cdFx0XHRhdHRhY2hFdmVudCAoYWN0aW9ucy5tb3ZlLCBzY29wZV9CYXNlLCBldmVudEhvdmVyLCB7IGhvdmVyOiB0cnVlIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1ha2UgdGhlIHJhbmdlIGRyYWdnYWJsZS5cclxuXHRcdGlmICggYmVoYXZpb3VyLmRyYWcgKXtcclxuXHJcblx0XHRcdHNjb3BlX0Nvbm5lY3RzLmZvckVhY2goZnVuY3Rpb24oIGNvbm5lY3QsIGluZGV4ICl7XHJcblxyXG5cdFx0XHRcdGlmICggY29ubmVjdCA9PT0gZmFsc2UgfHwgaW5kZXggPT09IDAgfHwgaW5kZXggPT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgaGFuZGxlQmVmb3JlID0gc2NvcGVfSGFuZGxlc1tpbmRleCAtIDFdO1xyXG5cdFx0XHRcdHZhciBoYW5kbGVBZnRlciA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xyXG5cdFx0XHRcdHZhciBldmVudEhvbGRlcnMgPSBbY29ubmVjdF07XHJcblxyXG5cdFx0XHRcdGFkZENsYXNzKGNvbm5lY3QsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnZ2FibGUpO1xyXG5cclxuXHRcdFx0XHQvLyBXaGVuIHRoZSByYW5nZSBpcyBmaXhlZCwgdGhlIGVudGlyZSByYW5nZSBjYW5cclxuXHRcdFx0XHQvLyBiZSBkcmFnZ2VkIGJ5IHRoZSBoYW5kbGVzLiBUaGUgaGFuZGxlIGluIHRoZSBmaXJzdFxyXG5cdFx0XHRcdC8vIG9yaWdpbiB3aWxsIHByb3BhZ2F0ZSB0aGUgc3RhcnQgZXZlbnQgdXB3YXJkLFxyXG5cdFx0XHRcdC8vIGJ1dCBpdCBuZWVkcyB0byBiZSBib3VuZCBtYW51YWxseSBvbiB0aGUgb3RoZXIuXHJcblx0XHRcdFx0aWYgKCBiZWhhdmlvdXIuZml4ZWQgKSB7XHJcblx0XHRcdFx0XHRldmVudEhvbGRlcnMucHVzaChoYW5kbGVCZWZvcmUuY2hpbGRyZW5bMF0pO1xyXG5cdFx0XHRcdFx0ZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQWZ0ZXIuY2hpbGRyZW5bMF0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZXZlbnRIb2xkZXJzLmZvckVhY2goZnVuY3Rpb24oIGV2ZW50SG9sZGVyICkge1xyXG5cdFx0XHRcdFx0YXR0YWNoRXZlbnQgKCBhY3Rpb25zLnN0YXJ0LCBldmVudEhvbGRlciwgZXZlbnRTdGFydCwge1xyXG5cdFx0XHRcdFx0XHRoYW5kbGVzOiBbaGFuZGxlQmVmb3JlLCBoYW5kbGVBZnRlcl0sXHJcblx0XHRcdFx0XHRcdGhhbmRsZU51bWJlcnM6IFtpbmRleCAtIDEsIGluZGV4XVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbi8qISBJbiB0aGlzIGZpbGU6IFNsaWRlciBldmVudHMgKG5vdCBicm93c2VyIGV2ZW50cyk7ICovXHJcblxyXG5cdC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXHJcblx0ZnVuY3Rpb24gYmluZEV2ZW50ICggbmFtZXNwYWNlZEV2ZW50LCBjYWxsYmFjayApIHtcclxuXHRcdHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdID0gc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0gfHwgW107XHJcblx0XHRzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XS5wdXNoKGNhbGxiYWNrKTtcclxuXHJcblx0XHQvLyBJZiB0aGUgZXZlbnQgYm91bmQgaXMgJ3VwZGF0ZSwnIGZpcmUgaXQgaW1tZWRpYXRlbHkgZm9yIGFsbCBoYW5kbGVzLlxyXG5cdFx0aWYgKCBuYW1lc3BhY2VkRXZlbnQuc3BsaXQoJy4nKVswXSA9PT0gJ3VwZGF0ZScgKSB7XHJcblx0XHRcdHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpbmRleCl7XHJcblx0XHRcdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBpbmRleCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gVW5kbyBhdHRhY2htZW50IG9mIGV2ZW50XHJcblx0ZnVuY3Rpb24gcmVtb3ZlRXZlbnQgKCBuYW1lc3BhY2VkRXZlbnQgKSB7XHJcblxyXG5cdFx0dmFyIGV2ZW50ID0gbmFtZXNwYWNlZEV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zcGxpdCgnLicpWzBdO1xyXG5cdFx0dmFyIG5hbWVzcGFjZSA9IGV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zdWJzdHJpbmcoZXZlbnQubGVuZ3RoKTtcclxuXHJcblx0XHRPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oIGJpbmQgKXtcclxuXHJcblx0XHRcdHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KCcuJylbMF07XHJcblx0XHRcdHZhciB0TmFtZXNwYWNlID0gYmluZC5zdWJzdHJpbmcodEV2ZW50Lmxlbmd0aCk7XHJcblxyXG5cdFx0XHRpZiAoICghZXZlbnQgfHwgZXZlbnQgPT09IHRFdmVudCkgJiYgKCFuYW1lc3BhY2UgfHwgbmFtZXNwYWNlID09PSB0TmFtZXNwYWNlKSApIHtcclxuXHRcdFx0XHRkZWxldGUgc2NvcGVfRXZlbnRzW2JpbmRdO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIEV4dGVybmFsIGV2ZW50IGhhbmRsaW5nXHJcblx0ZnVuY3Rpb24gZmlyZUV2ZW50ICggZXZlbnROYW1lLCBoYW5kbGVOdW1iZXIsIHRhcCApIHtcclxuXHJcblx0XHRPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oIHRhcmdldEV2ZW50ICkge1xyXG5cclxuXHRcdFx0dmFyIGV2ZW50VHlwZSA9IHRhcmdldEV2ZW50LnNwbGl0KCcuJylbMF07XHJcblxyXG5cdFx0XHRpZiAoIGV2ZW50TmFtZSA9PT0gZXZlbnRUeXBlICkge1xyXG5cdFx0XHRcdHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiggY2FsbGJhY2sgKSB7XHJcblxyXG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChcclxuXHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzbGlkZXIgcHVibGljIEFQSSBhcyB0aGUgc2NvcGUgKCd0aGlzJylcclxuXHRcdFx0XHRcdFx0c2NvcGVfU2VsZixcclxuXHRcdFx0XHRcdFx0Ly8gUmV0dXJuIHZhbHVlcyBhcyBhcnJheSwgc28gYXJnXzFbYXJnXzJdIGlzIGFsd2F5cyB2YWxpZC5cclxuXHRcdFx0XHRcdFx0c2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byksXHJcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBpbmRleCwgMCBvciAxXHJcblx0XHRcdFx0XHRcdGhhbmRsZU51bWJlcixcclxuXHRcdFx0XHRcdFx0Ly8gVW5mb3JtYXR0ZWQgc2xpZGVyIHZhbHVlc1xyXG5cdFx0XHRcdFx0XHRzY29wZV9WYWx1ZXMuc2xpY2UoKSxcclxuXHRcdFx0XHRcdFx0Ly8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXHJcblx0XHRcdFx0XHRcdHRhcCB8fCBmYWxzZSxcclxuXHRcdFx0XHRcdFx0Ly8gTGVmdCBvZmZzZXQgb2YgdGhlIGhhbmRsZSwgaW4gcmVsYXRpb24gdG8gdGhlIHNsaWRlclxyXG5cdFx0XHRcdFx0XHRzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuLyohIEluIHRoaXMgZmlsZTogTWVjaGFuaWNzIGZvciBzbGlkZXIgb3BlcmF0aW9uICovXHJcblxyXG5cdGZ1bmN0aW9uIHRvUGN0ICggcGN0ICkge1xyXG5cdFx0cmV0dXJuIHBjdCArICclJztcclxuXHR9XHJcblxyXG5cdC8vIFNwbGl0IG91dCB0aGUgaGFuZGxlIHBvc2l0aW9uaW5nIGxvZ2ljIHNvIHRoZSBNb3ZlIGV2ZW50IGNhbiB1c2UgaXQsIHRvb1xyXG5cdGZ1bmN0aW9uIGNoZWNrSGFuZGxlUG9zaXRpb24gKCByZWZlcmVuY2UsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGdldFZhbHVlICkge1xyXG5cclxuXHRcdC8vIEZvciBzbGlkZXJzIHdpdGggbXVsdGlwbGUgaGFuZGxlcywgbGltaXQgbW92ZW1lbnQgdG8gdGhlIG90aGVyIGhhbmRsZS5cclxuXHRcdC8vIEFwcGx5IHRoZSBtYXJnaW4gb3B0aW9uIGJ5IGFkZGluZyBpdCB0byB0aGUgaGFuZGxlIHBvc2l0aW9ucy5cclxuXHRcdGlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICkge1xyXG5cclxuXHRcdFx0aWYgKCBsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCApIHtcclxuXHRcdFx0XHR0byA9IE1hdGgubWF4KHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0gKyBvcHRpb25zLm1hcmdpbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggbG9va0ZvcndhcmQgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxICkge1xyXG5cdFx0XHRcdHRvID0gTWF0aC5taW4odG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSAtIG9wdGlvbnMubWFyZ2luKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRoZSBsaW1pdCBvcHRpb24gaGFzIHRoZSBvcHBvc2l0ZSBlZmZlY3QsIGxpbWl0aW5nIGhhbmRsZXMgdG8gYVxyXG5cdFx0Ly8gbWF4aW11bSBkaXN0YW5jZSBmcm9tIGFub3RoZXIuIExpbWl0IG11c3QgYmUgPiAwLCBhcyBvdGhlcndpc2VcclxuXHRcdC8vIGhhbmRsZXMgd291bGQgYmUgdW5tb3ZlYWJsZS5cclxuXHRcdGlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmIG9wdGlvbnMubGltaXQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIGxvb2tCYWNrd2FyZCAmJiBoYW5kbGVOdW1iZXIgPiAwICkge1xyXG5cdFx0XHRcdHRvID0gTWF0aC5taW4odG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgLSAxXSArIG9wdGlvbnMubGltaXQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSApIHtcclxuXHRcdFx0XHR0byA9IE1hdGgubWF4KHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyICsgMV0gLSBvcHRpb25zLmxpbWl0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRoZSBwYWRkaW5nIG9wdGlvbiBrZWVwcyB0aGUgaGFuZGxlcyBhIGNlcnRhaW4gZGlzdGFuY2UgZnJvbSB0aGVcclxuXHRcdC8vIGVkZ2VzIG9mIHRoZSBzbGlkZXIuIFBhZGRpbmcgbXVzdCBiZSA+IDAuXHJcblx0XHRpZiAoIG9wdGlvbnMucGFkZGluZyApIHtcclxuXHJcblx0XHRcdGlmICggaGFuZGxlTnVtYmVyID09PSAwICkge1xyXG5cdFx0XHRcdHRvID0gTWF0aC5tYXgodG8sIG9wdGlvbnMucGFkZGluZ1swXSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggaGFuZGxlTnVtYmVyID09PSBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEgKSB7XHJcblx0XHRcdFx0dG8gPSBNYXRoLm1pbih0bywgMTAwIC0gb3B0aW9ucy5wYWRkaW5nWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh0byk7XHJcblxyXG5cdFx0Ly8gTGltaXQgcGVyY2VudGFnZSB0byB0aGUgMCAtIDEwMCByYW5nZVxyXG5cdFx0dG8gPSBsaW1pdCh0byk7XHJcblxyXG5cdFx0Ly8gUmV0dXJuIGZhbHNlIGlmIGhhbmRsZSBjYW4ndCBtb3ZlXHJcblx0XHRpZiAoIHRvID09PSByZWZlcmVuY2VbaGFuZGxlTnVtYmVyXSAmJiAhZ2V0VmFsdWUgKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdG87XHJcblx0fVxyXG5cclxuXHQvLyBVc2VzIHNsaWRlciBvcmllbnRhdGlvbiB0byBjcmVhdGUgQ1NTIHJ1bGVzLiBhID0gYmFzZSB2YWx1ZTtcclxuXHRmdW5jdGlvbiBpblJ1bGVPcmRlciAoIHYsIGEgKSB7XHJcblx0XHR2YXIgbyA9IG9wdGlvbnMub3J0O1xyXG5cdFx0cmV0dXJuIChvP2E6dikgKyAnLCAnICsgKG8/djphKTtcclxuXHR9XHJcblxyXG5cdC8vIE1vdmVzIGhhbmRsZShzKSBieSBhIHBlcmNlbnRhZ2VcclxuXHQvLyAoYm9vbCwgJSB0byBtb3ZlLCBbJSB3aGVyZSBoYW5kbGUgc3RhcnRlZCwgLi4uXSwgW2luZGV4IGluIHNjb3BlX0hhbmRsZXMsIC4uLl0pXHJcblx0ZnVuY3Rpb24gbW92ZUhhbmRsZXMgKCB1cHdhcmQsIHByb3Bvc2FsLCBsb2NhdGlvbnMsIGhhbmRsZU51bWJlcnMgKSB7XHJcblxyXG5cdFx0dmFyIHByb3Bvc2FscyA9IGxvY2F0aW9ucy5zbGljZSgpO1xyXG5cclxuXHRcdHZhciBiID0gWyF1cHdhcmQsIHVwd2FyZF07XHJcblx0XHR2YXIgZiA9IFt1cHdhcmQsICF1cHdhcmRdO1xyXG5cclxuXHRcdC8vIENvcHkgaGFuZGxlTnVtYmVycyBzbyB3ZSBkb24ndCBjaGFuZ2UgdGhlIGRhdGFzZXRcclxuXHRcdGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgdG8gc2VlIHdoaWNoIGhhbmRsZSBpcyAnbGVhZGluZycuXHJcblx0XHQvLyBJZiB0aGF0IG9uZSBjYW4ndCBtb3ZlIHRoZSBzZWNvbmQgY2FuJ3QgZWl0aGVyLlxyXG5cdFx0aWYgKCB1cHdhcmQgKSB7XHJcblx0XHRcdGhhbmRsZU51bWJlcnMucmV2ZXJzZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFN0ZXAgMTogZ2V0IHRoZSBtYXhpbXVtIHBlcmNlbnRhZ2UgdGhhdCBhbnkgb2YgdGhlIGhhbmRsZXMgY2FuIG1vdmVcclxuXHRcdGlmICggaGFuZGxlTnVtYmVycy5sZW5ndGggPiAxICkge1xyXG5cclxuXHRcdFx0aGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlciwgbykge1xyXG5cclxuXHRcdFx0XHR2YXIgdG8gPSBjaGVja0hhbmRsZVBvc2l0aW9uKHByb3Bvc2FscywgaGFuZGxlTnVtYmVyLCBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXSArIHByb3Bvc2FsLCBiW29dLCBmW29dLCBmYWxzZSk7XHJcblxyXG5cdFx0XHRcdC8vIFN0b3AgaWYgb25lIG9mIHRoZSBoYW5kbGVzIGNhbid0IG1vdmUuXHJcblx0XHRcdFx0aWYgKCB0byA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdFx0XHRwcm9wb3NhbCA9IDA7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHByb3Bvc2FsID0gdG8gLSBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXTtcclxuXHRcdFx0XHRcdHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdID0gdG87XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiB1c2luZyBvbmUgaGFuZGxlLCBjaGVjayBiYWNrd2FyZCBBTkQgZm9yd2FyZFxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGIgPSBmID0gW3RydWVdO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzdGF0ZSA9IGZhbHNlO1xyXG5cclxuXHRcdC8vIFN0ZXAgMjogVHJ5IHRvIHNldCB0aGUgaGFuZGxlcyB3aXRoIHRoZSBmb3VuZCBwZXJjZW50YWdlXHJcblx0XHRoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyLCBvKSB7XHJcblx0XHRcdHN0YXRlID0gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgbG9jYXRpb25zW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSkgfHwgc3RhdGU7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTdGVwIDM6IElmIGEgaGFuZGxlIG1vdmVkLCBmaXJlIGV2ZW50c1xyXG5cdFx0aWYgKCBzdGF0ZSApIHtcclxuXHRcdFx0aGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XHJcblx0XHRcdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBoYW5kbGVOdW1iZXIpO1xyXG5cdFx0XHRcdGZpcmVFdmVudCgnc2xpZGUnLCBoYW5kbGVOdW1iZXIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIFRha2VzIGEgYmFzZSB2YWx1ZSBhbmQgYW4gb2Zmc2V0LiBUaGlzIG9mZnNldCBpcyB1c2VkIGZvciB0aGUgY29ubmVjdCBiYXIgc2l6ZS5cclxuXHQvLyBJbiB0aGUgaW5pdGlhbCBkZXNpZ24gZm9yIHRoaXMgZmVhdHVyZSwgdGhlIG9yaWdpbiBlbGVtZW50IHdhcyAxJSB3aWRlLlxyXG5cdC8vIFVuZm9ydHVuYXRlbHksIGEgcm91bmRpbmcgYnVnIGluIENocm9tZSBtYWtlcyBpdCBpbXBvc3NpYmxlIHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmVcclxuXHQvLyBpbiB0aGlzIG1hbm5lcjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Nzk4MjIzXHJcblx0ZnVuY3Rpb24gdHJhbnNmb3JtRGlyZWN0aW9uICggYSwgYiApIHtcclxuXHRcdHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIGEgLSBiIDogYTtcclxuXHR9XHJcblxyXG5cdC8vIFVwZGF0ZXMgc2NvcGVfTG9jYXRpb25zIGFuZCBzY29wZV9WYWx1ZXMsIHVwZGF0ZXMgdmlzdWFsIHN0YXRlXHJcblx0ZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24gKCBoYW5kbGVOdW1iZXIsIHRvICkge1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBsb2NhdGlvbnMuXHJcblx0XHRzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA9IHRvO1xyXG5cclxuXHRcdC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXHJcblx0XHRzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XHJcblxyXG5cdFx0dmFyIHJ1bGUgPSAndHJhbnNsYXRlKCcgKyBpblJ1bGVPcmRlcih0b1BjdCh0cmFuc2Zvcm1EaXJlY3Rpb24odG8sIDApIC0gc2NvcGVfRGlyT2Zmc2V0KSwgJzAnKSArICcpJztcclxuXHRcdHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID0gcnVsZTtcclxuXHJcblx0XHR1cGRhdGVDb25uZWN0KGhhbmRsZU51bWJlcik7XHJcblx0XHR1cGRhdGVDb25uZWN0KGhhbmRsZU51bWJlciArIDEpO1xyXG5cdH1cclxuXHJcblx0Ly8gSGFuZGxlcyBiZWZvcmUgdGhlIHNsaWRlciBtaWRkbGUgYXJlIHN0YWNrZWQgbGF0ZXIgPSBoaWdoZXIsXHJcblx0Ly8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXHJcblx0Ly8gW1s3XSBbOF0gLi4uLi4uLi4uLiB8IC4uLi4uLi4uLi4gWzVdIFs0XVxyXG5cdGZ1bmN0aW9uIHNldFppbmRleCAoICkge1xyXG5cclxuXHRcdHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xyXG5cdFx0XHR2YXIgZGlyID0gKHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID4gNTAgPyAtMSA6IDEpO1xyXG5cdFx0XHR2YXIgekluZGV4ID0gMyArIChzY29wZV9IYW5kbGVzLmxlbmd0aCArIChkaXIgKiBoYW5kbGVOdW1iZXIpKTtcclxuXHRcdFx0c2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLnN0eWxlLnpJbmRleCA9IHpJbmRleDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gVGVzdCBzdWdnZXN0ZWQgdmFsdWVzIGFuZCBhcHBseSBtYXJnaW4sIHN0ZXAuXHJcblx0ZnVuY3Rpb24gc2V0SGFuZGxlICggaGFuZGxlTnVtYmVyLCB0bywgbG9va0JhY2t3YXJkLCBsb29rRm9yd2FyZCApIHtcclxuXHJcblx0XHR0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBmYWxzZSk7XHJcblxyXG5cdFx0aWYgKCB0byA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHR1cGRhdGVIYW5kbGVQb3NpdGlvbihoYW5kbGVOdW1iZXIsIHRvKTtcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8vIFVwZGF0ZXMgc3R5bGUgYXR0cmlidXRlIGZvciBjb25uZWN0IG5vZGVzXHJcblx0ZnVuY3Rpb24gdXBkYXRlQ29ubmVjdCAoIGluZGV4ICkge1xyXG5cclxuXHRcdC8vIFNraXAgY29ubmVjdHMgc2V0IHRvIGZhbHNlXHJcblx0XHRpZiAoICFzY29wZV9Db25uZWN0c1tpbmRleF0gKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbCA9IDA7XHJcblx0XHR2YXIgaCA9IDEwMDtcclxuXHJcblx0XHRpZiAoIGluZGV4ICE9PSAwICkge1xyXG5cdFx0XHRsID0gc2NvcGVfTG9jYXRpb25zW2luZGV4IC0gMV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBpbmRleCAhPT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSApIHtcclxuXHRcdFx0aCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleF07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV2UgdXNlIHR3byBydWxlczpcclxuXHRcdC8vICd0cmFuc2xhdGUnIHRvIGNoYW5nZSB0aGUgbGVmdC90b3Agb2Zmc2V0O1xyXG5cdFx0Ly8gJ3NjYWxlJyB0byBjaGFuZ2UgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50O1xyXG5cdFx0Ly8gQXMgdGhlIGVsZW1lbnQgaGFzIGEgd2lkdGggb2YgMTAwJSwgYSB0cmFuc2xhdGlvbiBvZiAxMDAlIGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIHBhcmVudCAoLm5vVWktYmFzZSlcclxuXHRcdHZhciBjb25uZWN0V2lkdGggPSBoIC0gbDtcclxuXHRcdHZhciB0cmFuc2xhdGVSdWxlID0gJ3RyYW5zbGF0ZSgnICsgaW5SdWxlT3JkZXIodG9QY3QodHJhbnNmb3JtRGlyZWN0aW9uKGwsIGNvbm5lY3RXaWR0aCkpLCAnMCcpICsgJyknO1xyXG5cdFx0dmFyIHNjYWxlUnVsZSA9ICdzY2FsZSgnICsgaW5SdWxlT3JkZXIoY29ubmVjdFdpZHRoIC8gMTAwLCAnMScpICsgJyknO1xyXG5cclxuXHRcdHNjb3BlX0Nvbm5lY3RzW2luZGV4XS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID0gdHJhbnNsYXRlUnVsZSArICcgJyArIHNjYWxlUnVsZTtcclxuXHR9XHJcblxyXG4vKiEgSW4gdGhpcyBmaWxlOiBBbGwgbWV0aG9kcyBldmVudHVhbGx5IGV4cG9zZWQgaW4gc2xpZGVyLm5vVWlTbGlkZXIuLi4gKi9cclxuXHJcblx0Ly8gUGFyc2VzIHZhbHVlIHBhc3NlZCB0byAuc2V0IG1ldGhvZC4gUmV0dXJucyBjdXJyZW50IHZhbHVlIGlmIG5vdCBwYXJzZS1hYmxlLlxyXG5cdGZ1bmN0aW9uIHJlc29sdmVUb1ZhbHVlICggdG8sIGhhbmRsZU51bWJlciApIHtcclxuXHJcblx0XHQvLyBTZXR0aW5nIHdpdGggbnVsbCBpbmRpY2F0ZXMgYW4gJ2lnbm9yZScuXHJcblx0XHQvLyBJbnB1dHRpbmcgJ2ZhbHNlJyBpcyBpbnZhbGlkLlxyXG5cdFx0aWYgKCB0byA9PT0gbnVsbCB8fCB0byA9PT0gZmFsc2UgfHwgdG8gPT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0cmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIGEgZm9ybWF0dGVkIG51bWJlciB3YXMgcGFzc2VkLCBhdHRlbXB0IHRvIGRlY29kZSBpdC5cclxuXHRcdGlmICggdHlwZW9mIHRvID09PSAnbnVtYmVyJyApIHtcclxuXHRcdFx0dG8gPSBTdHJpbmcodG8pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XHJcblx0XHR0byA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pO1xyXG5cclxuXHRcdC8vIElmIHBhcnNpbmcgdGhlIG51bWJlciBmYWlsZWQsIHVzZSB0aGUgY3VycmVudCB2YWx1ZS5cclxuXHRcdGlmICggdG8gPT09IGZhbHNlIHx8IGlzTmFOKHRvKSApIHtcclxuXHRcdFx0cmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0bztcclxuXHR9XHJcblxyXG5cdC8vIFNldCB0aGUgc2xpZGVyIHZhbHVlLlxyXG5cdGZ1bmN0aW9uIHZhbHVlU2V0ICggaW5wdXQsIGZpcmVTZXRFdmVudCApIHtcclxuXHJcblx0XHR2YXIgdmFsdWVzID0gYXNBcnJheShpbnB1dCk7XHJcblx0XHR2YXIgaXNJbml0ID0gc2NvcGVfTG9jYXRpb25zWzBdID09PSB1bmRlZmluZWQ7XHJcblxyXG5cdFx0Ly8gRXZlbnQgZmlyZXMgYnkgZGVmYXVsdFxyXG5cdFx0ZmlyZVNldEV2ZW50ID0gKGZpcmVTZXRFdmVudCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhZmlyZVNldEV2ZW50KTtcclxuXHJcblx0XHQvLyBBbmltYXRpb24gaXMgb3B0aW9uYWwuXHJcblx0XHQvLyBNYWtlIHN1cmUgdGhlIGluaXRpYWwgdmFsdWVzIHdlcmUgc2V0IGJlZm9yZSB1c2luZyBhbmltYXRlZCBwbGFjZW1lbnQuXHJcblx0XHRpZiAoIG9wdGlvbnMuYW5pbWF0ZSAmJiAhaXNJbml0ICkge1xyXG5cdFx0XHRhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZpcnN0IHBhc3MsIHdpdGhvdXQgbG9va0FoZWFkIGJ1dCB3aXRoIGxvb2tCYWNrd2FyZC4gVmFsdWVzIGFyZSBzZXQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxyXG5cdFx0c2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XHJcblx0XHRcdHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCBmYWxzZSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTZWNvbmQgcGFzcy4gTm93IHRoYXQgYWxsIGJhc2UgdmFsdWVzIGFyZSBzZXQsIGFwcGx5IGNvbnN0cmFpbnRzXHJcblx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcclxuXHRcdFx0c2V0SGFuZGxlKGhhbmRsZU51bWJlciwgc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0sIHRydWUsIHRydWUpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0WmluZGV4KCk7XHJcblxyXG5cdFx0c2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XHJcblxyXG5cdFx0XHRmaXJlRXZlbnQoJ3VwZGF0ZScsIGhhbmRsZU51bWJlcik7XHJcblxyXG5cdFx0XHQvLyBGaXJlIHRoZSBldmVudCBvbmx5IGZvciBoYW5kbGVzIHRoYXQgcmVjZWl2ZWQgYSBuZXcgdmFsdWUsIGFzIHBlciAjNTc5XHJcblx0XHRcdGlmICggdmFsdWVzW2hhbmRsZU51bWJlcl0gIT09IG51bGwgJiYgZmlyZVNldEV2ZW50ICkge1xyXG5cdFx0XHRcdGZpcmVFdmVudCgnc2V0JywgaGFuZGxlTnVtYmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBSZXNldCBzbGlkZXIgdG8gaW5pdGlhbCB2YWx1ZXNcclxuXHRmdW5jdGlvbiB2YWx1ZVJlc2V0ICggZmlyZVNldEV2ZW50ICkge1xyXG5cdFx0dmFsdWVTZXQob3B0aW9ucy5zdGFydCwgZmlyZVNldEV2ZW50KTtcclxuXHR9XHJcblxyXG5cdC8vIEdldCB0aGUgc2xpZGVyIHZhbHVlLlxyXG5cdGZ1bmN0aW9uIHZhbHVlR2V0ICggKSB7XHJcblxyXG5cdFx0dmFyIHZhbHVlcyA9IHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pO1xyXG5cclxuXHRcdC8vIElmIG9ubHkgb25lIGhhbmRsZSBpcyB1c2VkLCByZXR1cm4gYSBzaW5nbGUgdmFsdWUuXHJcblx0XHRpZiAoIHZhbHVlcy5sZW5ndGggPT09IDEgKXtcclxuXHRcdFx0cmV0dXJuIHZhbHVlc1swXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdmFsdWVzO1xyXG5cdH1cclxuXHJcblx0Ly8gUmVtb3ZlcyBjbGFzc2VzIGZyb20gdGhlIHJvb3QgYW5kIGVtcHRpZXMgaXQuXHJcblx0ZnVuY3Rpb24gZGVzdHJveSAoICkge1xyXG5cclxuXHRcdGZvciAoIHZhciBrZXkgaW4gb3B0aW9ucy5jc3NDbGFzc2VzICkge1xyXG5cdFx0XHRpZiAoICFvcHRpb25zLmNzc0NsYXNzZXMuaGFzT3duUHJvcGVydHkoa2V5KSApIHsgY29udGludWU7IH1cclxuXHRcdFx0cmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXNba2V5XSk7XHJcblx0XHR9XHJcblxyXG5cdFx0d2hpbGUgKHNjb3BlX1RhcmdldC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHNjb3BlX1RhcmdldC5yZW1vdmVDaGlsZChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGVsZXRlIHNjb3BlX1RhcmdldC5ub1VpU2xpZGVyO1xyXG5cdH1cclxuXHJcblx0Ly8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgc2l6ZSBmb3IgdGhlIHNsaWRlci5cclxuXHRmdW5jdGlvbiBnZXRDdXJyZW50U3RlcCAoICkge1xyXG5cclxuXHRcdC8vIENoZWNrIGFsbCBsb2NhdGlvbnMsIG1hcCB0aGVtIHRvIHRoZWlyIHN0ZXBwaW5nIHBvaW50LlxyXG5cdFx0Ly8gR2V0IHRoZSBzdGVwIHBvaW50LCB0aGVuIGZpbmQgaXQgaW4gdGhlIGlucHV0IGxpc3QuXHJcblx0XHRyZXR1cm4gc2NvcGVfTG9jYXRpb25zLm1hcChmdW5jdGlvbiggbG9jYXRpb24sIGluZGV4ICl7XHJcblxyXG5cdFx0XHR2YXIgbmVhcmJ5U3RlcHMgPSBzY29wZV9TcGVjdHJ1bS5nZXROZWFyYnlTdGVwcyggbG9jYXRpb24gKTtcclxuXHRcdFx0dmFyIHZhbHVlID0gc2NvcGVfVmFsdWVzW2luZGV4XTtcclxuXHRcdFx0dmFyIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XHJcblx0XHRcdHZhciBkZWNyZW1lbnQgPSBudWxsO1xyXG5cclxuXHRcdFx0Ly8gSWYgdGhlIG5leHQgdmFsdWUgaW4gdGhpcyBzdGVwIG1vdmVzIGludG8gdGhlIG5leHQgc3RlcCxcclxuXHRcdFx0Ly8gdGhlIGluY3JlbWVudCBpcyB0aGUgc3RhcnQgb2YgdGhlIG5leHQgc3RlcCAtIHRoZSBjdXJyZW50IHZhbHVlXHJcblx0XHRcdGlmICggaW5jcmVtZW50ICE9PSBmYWxzZSApIHtcclxuXHRcdFx0XHRpZiAoIHZhbHVlICsgaW5jcmVtZW50ID4gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgKSB7XHJcblx0XHRcdFx0XHRpbmNyZW1lbnQgPSBuZWFyYnlTdGVwcy5zdGVwQWZ0ZXIuc3RhcnRWYWx1ZSAtIHZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdC8vIElmIHRoZSB2YWx1ZSBpcyBiZXlvbmQgdGhlIHN0YXJ0aW5nIHBvaW50XHJcblx0XHRcdGlmICggdmFsdWUgPiBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGFydFZhbHVlICkge1xyXG5cdFx0XHRcdGRlY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2UgaWYgKCBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0ZXAgPT09IGZhbHNlICkge1xyXG5cdFx0XHRcdGRlY3JlbWVudCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiBhIGhhbmRsZSBpcyBhdCB0aGUgc3RhcnQgb2YgYSBzdGVwLCBpdCBhbHdheXMgc3RlcHMgYmFjayBpbnRvIHRoZSBwcmV2aW91cyBzdGVwIGZpcnN0XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGRlY3JlbWVudCA9IHZhbHVlIC0gbmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5oaWdoZXN0U3RlcDtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdC8vIE5vdywgaWYgYXQgdGhlIHNsaWRlciBlZGdlcywgdGhlcmUgaXMgbm90IGluL2RlY3JlbWVudFxyXG5cdFx0XHRpZiAoIGxvY2F0aW9uID09PSAxMDAgKSB7XHJcblx0XHRcdFx0aW5jcmVtZW50ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWxzZSBpZiAoIGxvY2F0aW9uID09PSAwICkge1xyXG5cdFx0XHRcdGRlY3JlbWVudCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFzIHBlciAjMzkxLCB0aGUgY29tcGFyaXNvbiBmb3IgdGhlIGRlY3JlbWVudCBzdGVwIGNhbiBoYXZlIHNvbWUgcm91bmRpbmcgaXNzdWVzLlxyXG5cdFx0XHR2YXIgc3RlcERlY2ltYWxzID0gc2NvcGVfU3BlY3RydW0uY291bnRTdGVwRGVjaW1hbHMoKTtcclxuXHJcblx0XHRcdC8vIFJvdW5kIHBlciAjMzkxXHJcblx0XHRcdGlmICggaW5jcmVtZW50ICE9PSBudWxsICYmIGluY3JlbWVudCAhPT0gZmFsc2UgKSB7XHJcblx0XHRcdFx0aW5jcmVtZW50ID0gTnVtYmVyKGluY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIGRlY3JlbWVudCAhPT0gbnVsbCAmJiBkZWNyZW1lbnQgIT09IGZhbHNlICkge1xyXG5cdFx0XHRcdGRlY3JlbWVudCA9IE51bWJlcihkZWNyZW1lbnQudG9GaXhlZChzdGVwRGVjaW1hbHMpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIFtkZWNyZW1lbnQsIGluY3JlbWVudF07XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIFVwZGF0ZWFibGU6IG1hcmdpbiwgbGltaXQsIHBhZGRpbmcsIHN0ZXAsIHJhbmdlLCBhbmltYXRlLCBzbmFwXHJcblx0ZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyAoIG9wdGlvbnNUb1VwZGF0ZSwgZmlyZVNldEV2ZW50ICkge1xyXG5cclxuXHRcdC8vIFNwZWN0cnVtIGlzIGNyZWF0ZWQgdXNpbmcgdGhlIHJhbmdlLCBzbmFwLCBkaXJlY3Rpb24gYW5kIHN0ZXAgb3B0aW9ucy5cclxuXHRcdC8vICdzbmFwJyBhbmQgJ3N0ZXAnIGNhbiBiZSB1cGRhdGVkLlxyXG5cdFx0Ly8gSWYgJ3NuYXAnIGFuZCAnc3RlcCcgYXJlIG5vdCBwYXNzZWQsIHRoZXkgc2hvdWxkIHJlbWFpbiB1bmNoYW5nZWQuXHJcblx0XHR2YXIgdiA9IHZhbHVlR2V0KCk7XHJcblxyXG5cdFx0dmFyIHVwZGF0ZUFibGUgPSBbJ21hcmdpbicsICdsaW1pdCcsICdwYWRkaW5nJywgJ3JhbmdlJywgJ2FuaW1hdGUnLCAnc25hcCcsICdzdGVwJywgJ2Zvcm1hdCddO1xyXG5cclxuXHRcdC8vIE9ubHkgY2hhbmdlIG9wdGlvbnMgdGhhdCB3ZSdyZSBhY3R1YWxseSBwYXNzZWQgdG8gdXBkYXRlLlxyXG5cdFx0dXBkYXRlQWJsZS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe1xyXG5cdFx0XHRpZiAoIG9wdGlvbnNUb1VwZGF0ZVtuYW1lXSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdG9yaWdpbmFsT3B0aW9uc1tuYW1lXSA9IG9wdGlvbnNUb1VwZGF0ZVtuYW1lXTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIG5ld09wdGlvbnMgPSB0ZXN0T3B0aW9ucyhvcmlnaW5hbE9wdGlvbnMpO1xyXG5cclxuXHRcdC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXHJcblx0XHR1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XHJcblx0XHRcdGlmICggb3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0b3B0aW9uc1tuYW1lXSA9IG5ld09wdGlvbnNbbmFtZV07XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHNjb3BlX1NwZWN0cnVtID0gbmV3T3B0aW9ucy5zcGVjdHJ1bTtcclxuXHJcblx0XHQvLyBMaW1pdCwgbWFyZ2luIGFuZCBwYWRkaW5nIGRlcGVuZCBvbiB0aGUgc3BlY3RydW0gYnV0IGFyZSBzdG9yZWQgb3V0c2lkZSBvZiBpdC4gKCM2NzcpXHJcblx0XHRvcHRpb25zLm1hcmdpbiA9IG5ld09wdGlvbnMubWFyZ2luO1xyXG5cdFx0b3B0aW9ucy5saW1pdCA9IG5ld09wdGlvbnMubGltaXQ7XHJcblx0XHRvcHRpb25zLnBhZGRpbmcgPSBuZXdPcHRpb25zLnBhZGRpbmc7XHJcblxyXG5cdFx0Ly8gVXBkYXRlIHBpcHMsIHJlbW92ZXMgZXhpc3RpbmcuXHJcblx0XHRpZiAoIG9wdGlvbnMucGlwcyApIHtcclxuXHRcdFx0cGlwcyhvcHRpb25zLnBpcHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEludmFsaWRhdGUgdGhlIGN1cnJlbnQgcG9zaXRpb25pbmcgc28gdmFsdWVTZXQgZm9yY2VzIGFuIHVwZGF0ZS5cclxuXHRcdHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xyXG5cdFx0dmFsdWVTZXQob3B0aW9uc1RvVXBkYXRlLnN0YXJ0IHx8IHYsIGZpcmVTZXRFdmVudCk7XHJcblx0fVxyXG5cclxuLyohIEluIHRoaXMgZmlsZTogQ2FsbHMgdG8gZnVuY3Rpb25zLiBBbGwgb3RoZXIgc2NvcGVfIGZpbGVzIGRlZmluZSBmdW5jdGlvbnMgb25seTsgKi9cclxuXHJcblx0Ly8gQ3JlYXRlIHRoZSBiYXNlIGVsZW1lbnQsIGluaXRpYWxpemUgSFRNTCBhbmQgc2V0IGNsYXNzZXMuXHJcblx0Ly8gQWRkIGhhbmRsZXMgYW5kIGNvbm5lY3QgZWxlbWVudHMuXHJcblx0YWRkU2xpZGVyKHNjb3BlX1RhcmdldCk7XHJcblx0YWRkRWxlbWVudHMob3B0aW9ucy5jb25uZWN0LCBzY29wZV9CYXNlKTtcclxuXHJcblx0Ly8gQXR0YWNoIHVzZXIgZXZlbnRzLlxyXG5cdGJpbmRTbGlkZXJFdmVudHMob3B0aW9ucy5ldmVudHMpO1xyXG5cclxuXHQvLyBVc2UgdGhlIHB1YmxpYyB2YWx1ZSBtZXRob2QgdG8gc2V0IHRoZSBzdGFydCB2YWx1ZXMuXHJcblx0dmFsdWVTZXQob3B0aW9ucy5zdGFydCk7XHJcblxyXG5cdHNjb3BlX1NlbGYgPSB7XHJcblx0XHRkZXN0cm95OiBkZXN0cm95LFxyXG5cdFx0c3RlcHM6IGdldEN1cnJlbnRTdGVwLFxyXG5cdFx0b246IGJpbmRFdmVudCxcclxuXHRcdG9mZjogcmVtb3ZlRXZlbnQsXHJcblx0XHRnZXQ6IHZhbHVlR2V0LFxyXG5cdFx0c2V0OiB2YWx1ZVNldCxcclxuXHRcdHJlc2V0OiB2YWx1ZVJlc2V0LFxyXG5cdFx0Ly8gRXhwb3NlZCBmb3IgdW5pdCB0ZXN0aW5nLCBkb24ndCB1c2UgdGhpcyBpbiB5b3VyIGFwcGxpY2F0aW9uLlxyXG5cdFx0X19tb3ZlSGFuZGxlczogZnVuY3Rpb24oYSwgYiwgYykgeyBtb3ZlSGFuZGxlcyhhLCBiLCBzY29wZV9Mb2NhdGlvbnMsIGMpOyB9LFxyXG5cdFx0b3B0aW9uczogb3JpZ2luYWxPcHRpb25zLCAvLyBJc3N1ZSAjNjAwLCAjNjc4XHJcblx0XHR1cGRhdGVPcHRpb25zOiB1cGRhdGVPcHRpb25zLFxyXG5cdFx0dGFyZ2V0OiBzY29wZV9UYXJnZXQsIC8vIElzc3VlICM1OTdcclxuXHRcdHJlbW92ZVBpcHM6IHJlbW92ZVBpcHMsXHJcblx0XHRwaXBzOiBwaXBzIC8vIElzc3VlICM1OTRcclxuXHR9O1xyXG5cclxuXHRpZiAoIG9wdGlvbnMucGlwcyApIHtcclxuXHRcdHBpcHMob3B0aW9ucy5waXBzKTtcclxuXHR9XHJcblxyXG5cdGlmICggb3B0aW9ucy50b29sdGlwcyApIHtcclxuXHRcdHRvb2x0aXBzKCk7XHJcblx0fVxyXG5cclxuXHRhcmlhKCk7XHJcblxyXG5cdHJldHVybiBzY29wZV9TZWxmO1xyXG5cclxufVxyXG5cclxuXHJcblx0Ly8gUnVuIHRoZSBzdGFuZGFyZCBpbml0aWFsaXplclxyXG5cdGZ1bmN0aW9uIGluaXRpYWxpemUgKCB0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucyApIHtcclxuXHJcblx0XHRpZiAoICF0YXJnZXQgfHwgIXRhcmdldC5ub2RlTmFtZSApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIHNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC5cclxuXHRcdGlmICggdGFyZ2V0Lm5vVWlTbGlkZXIgKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogU2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUZXN0IHRoZSBvcHRpb25zIGFuZCBjcmVhdGUgdGhlIHNsaWRlciBlbnZpcm9ubWVudDtcclxuXHRcdHZhciBvcHRpb25zID0gdGVzdE9wdGlvbnMoIG9yaWdpbmFsT3B0aW9ucywgdGFyZ2V0ICk7XHJcblx0XHR2YXIgYXBpID0gc2NvcGUoIHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zICk7XHJcblxyXG5cdFx0dGFyZ2V0Lm5vVWlTbGlkZXIgPSBhcGk7XHJcblxyXG5cdFx0cmV0dXJuIGFwaTtcclxuXHR9XHJcblxyXG5cdC8vIFVzZSBhbiBvYmplY3QgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIGZvciBmdXR1cmUgZXhwYW5kYWJpbGl0eTtcclxuXHRyZXR1cm4ge1xyXG5cdFx0dmVyc2lvbjogVkVSU0lPTixcclxuXHRcdGNyZWF0ZTogaW5pdGlhbGl6ZVxyXG5cdH07XHJcblxyXG59KSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L25vdWlzbGlkZXIvZGlzdHJpYnV0ZS9ub3Vpc2xpZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Finder = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Elements = __webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Finder = exports.Finder = function () {\n    function Finder() {\n        var onSelect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (file, fm) {};\n        var title = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'fred.fe.browse_files';\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        _classCallCheck(this, Finder);\n\n        this.wrapper = null;\n\n        if (_Config2.default.lngExists(title)) {\n            title = _Config2.default.lng(title);\n        }\n\n        this.title = title;\n        this.options = _extends({\n            width: '800px',\n            height: '600px'\n        }, options);\n\n        this.onSelect = onSelect.bind(this);\n    }\n\n    _createClass(Finder, [{\n        key: 'render',\n        value: function render() {\n            var _this = this;\n\n            this.wrapper = (0, _Elements.section)(['fred--modal-bg']);\n\n            var modal = (0, _Elements.div)(['fred--modal']);\n            modal.setAttribute('aria-hidden', 'true');\n\n            var header = (0, _Elements.div)(['fred--modal-header']);\n\n            var close = (0, _Elements.button)('<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"20px\" height=\"20px\" viewBox=\"-4 -4 20 20\" enable-background=\"new -4 -4 20 20\" xml:space=\"preserve\"><polygon points=\"16.079,-0.666 12.717,-4.027 6.052,2.637 -0.613,-4.027 -3.975,-0.666 2.69,6 -3.975,12.664 -0.612,16.026 6.052,9.362 12.717,16.027 16.079,12.664 9.414,6 \"></polygon></svg>', 'fred.fe.close', ['button'], this.close.bind(this));\n\n            this.titleEl = (0, _Elements.h4)(this.title);\n\n            this.body = (0, _Elements.div)(['fred--modal-body']);\n\n            modal.style.width = this.options.width || '800px';\n            modal.style.height = this.options.height || '600px';\n            this.body.style.padding = '0';\n\n            var finderOptions = [];\n            if (this.options.mediaSource) {\n                finderOptions.push('mediaSource=' + this.options.mediaSource);\n            }\n\n            var finderOptionsString = '';\n            if (finderOptions.length > 0) {\n                finderOptionsString = '?' + finderOptions.join('&');\n            }\n\n            var finderIframe = (0, _Elements.iFrame)(_Config2.default.config.assetsUrl + 'elfinder/index.html' + finderOptionsString);\n\n            finderIframe.style.width = '100%';\n            finderIframe.style.height = '100%';\n\n            this.body.appendChild(finderIframe);\n\n            header.appendChild(close);\n            header.appendChild(this.titleEl);\n\n            modal.appendChild(header);\n            modal.appendChild(this.body);\n\n            this.wrapper.appendChild(modal);\n\n            window.fredFinderOnChange = function (file, fm) {\n                _this.onSelect(file, fm);\n                _this.close();\n            };\n\n            _EE2.default.emit('fred-wrapper-insert', this.wrapper);\n\n            return this.wrapper;\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            delete window.fredFinderOnChange;\n\n            this.wrapper.remove();\n        }\n    }], [{\n        key: 'getFinderOptionsFromElement',\n        value: function getFinderOptionsFromElement(el) {\n            var imageFinder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            var options = {};\n\n            var mediaSource = '';\n\n            if (el.fredEl.options.mediaSource && el.fredEl.options.mediaSource !== '') {\n                mediaSource = el.fredEl.options.mediaSource;\n            }\n\n            if (imageFinder && el.fredEl.options.imageMediaSource && el.fredEl.options.imageMediaSource !== '') {\n                mediaSource = el.fredEl.options.imageMediaSource;\n            }\n\n            if (el.dataset.fredMediaSource && el.dataset.fredMediaSource !== '') {\n                mediaSource = el.dataset.fredMediaSource;\n            }\n\n            if (imageFinder && el.dataset.fredImageMediaSource && el.dataset.fredImageMediaSource !== '') {\n                mediaSource = el.dataset.fredImageMediaSource;\n            }\n\n            if (mediaSource !== '') {\n                options.mediaSource = mediaSource;\n            }\n\n            return options;\n        }\n    }]);\n\n    return Finder;\n}();\n\nexports.default = Finder;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0ZpbmRlci5qcz9kZTI4Il0sIm5hbWVzIjpbIkZpbmRlciIsIm9uU2VsZWN0IiwiZmlsZSIsImZtIiwidGl0bGUiLCJvcHRpb25zIiwid3JhcHBlciIsImxuZ0V4aXN0cyIsImxuZyIsIndpZHRoIiwiaGVpZ2h0IiwiYmluZCIsIm1vZGFsIiwic2V0QXR0cmlidXRlIiwiaGVhZGVyIiwiY2xvc2UiLCJ0aXRsZUVsIiwiYm9keSIsInN0eWxlIiwicGFkZGluZyIsImZpbmRlck9wdGlvbnMiLCJtZWRpYVNvdXJjZSIsInB1c2giLCJmaW5kZXJPcHRpb25zU3RyaW5nIiwibGVuZ3RoIiwiam9pbiIsImZpbmRlcklmcmFtZSIsImNvbmZpZyIsImFzc2V0c1VybCIsImFwcGVuZENoaWxkIiwid2luZG93IiwiZnJlZEZpbmRlck9uQ2hhbmdlIiwiZW1pdCIsInJlbW92ZSIsImVsIiwiaW1hZ2VGaW5kZXIiLCJmcmVkRWwiLCJpbWFnZU1lZGlhU291cmNlIiwiZGF0YXNldCIsImZyZWRNZWRpYVNvdXJjZSIsImZyZWRJbWFnZU1lZGlhU291cmNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0lBRWFBLE0sV0FBQUEsTTtBQUNULHNCQUF1RjtBQUFBLFlBQTNFQyxRQUEyRSx1RUFBaEUsVUFBQ0MsSUFBRCxFQUFPQyxFQUFQLEVBQWMsQ0FBRSxDQUFnRDtBQUFBLFlBQTlDQyxLQUE4Qyx1RUFBdEMsc0JBQXNDO0FBQUEsWUFBZEMsT0FBYyx1RUFBSixFQUFJOztBQUFBOztBQUNuRixhQUFLQyxPQUFMLEdBQWUsSUFBZjs7QUFFQSxZQUFJLGlCQUFXQyxTQUFYLENBQXFCSCxLQUFyQixDQUFKLEVBQWlDO0FBQzdCQSxvQkFBUSxpQkFBV0ksR0FBWCxDQUFlSixLQUFmLENBQVI7QUFDSDs7QUFFRCxhQUFLQSxLQUFMLEdBQWFBLEtBQWI7QUFDQSxhQUFLQyxPQUFMO0FBQ0lJLG1CQUFPLE9BRFg7QUFFSUMsb0JBQVE7QUFGWixXQUdPTCxPQUhQOztBQU1BLGFBQUtKLFFBQUwsR0FBZ0JBLFNBQVNVLElBQVQsQ0FBYyxJQUFkLENBQWhCO0FBQ0g7Ozs7aUNBRVE7QUFBQTs7QUFDTCxpQkFBS0wsT0FBTCxHQUFlLHVCQUFRLENBQUMsZ0JBQUQsQ0FBUixDQUFmOztBQUVBLGdCQUFNTSxRQUFRLG1CQUFJLENBQUMsYUFBRCxDQUFKLENBQWQ7QUFDQUEsa0JBQU1DLFlBQU4sQ0FBbUIsYUFBbkIsRUFBa0MsTUFBbEM7O0FBRUEsZ0JBQU1DLFNBQVMsbUJBQUksQ0FBQyxvQkFBRCxDQUFKLENBQWY7O0FBRUEsZ0JBQU1DLFFBQVEsc0JBQU8sdVpBQVAsRUFBZ2EsZUFBaGEsRUFBaWIsQ0FBQyxRQUFELENBQWpiLEVBQTZiLEtBQUtBLEtBQUwsQ0FBV0osSUFBWCxDQUFnQixJQUFoQixDQUE3YixDQUFkOztBQUVBLGlCQUFLSyxPQUFMLEdBQWUsa0JBQUcsS0FBS1osS0FBUixDQUFmOztBQUVBLGlCQUFLYSxJQUFMLEdBQVksbUJBQUksQ0FBQyxrQkFBRCxDQUFKLENBQVo7O0FBRUFMLGtCQUFNTSxLQUFOLENBQVlULEtBQVosR0FBb0IsS0FBS0osT0FBTCxDQUFhSSxLQUFiLElBQXNCLE9BQTFDO0FBQ0FHLGtCQUFNTSxLQUFOLENBQVlSLE1BQVosR0FBcUIsS0FBS0wsT0FBTCxDQUFhSyxNQUFiLElBQXVCLE9BQTVDO0FBQ0EsaUJBQUtPLElBQUwsQ0FBVUMsS0FBVixDQUFnQkMsT0FBaEIsR0FBMEIsR0FBMUI7O0FBRUEsZ0JBQU1DLGdCQUFnQixFQUF0QjtBQUNBLGdCQUFJLEtBQUtmLE9BQUwsQ0FBYWdCLFdBQWpCLEVBQThCO0FBQzFCRCw4QkFBY0UsSUFBZCxrQkFBa0MsS0FBS2pCLE9BQUwsQ0FBYWdCLFdBQS9DO0FBQ0g7O0FBRUQsZ0JBQUlFLHNCQUFzQixFQUExQjtBQUNBLGdCQUFJSCxjQUFjSSxNQUFkLEdBQXVCLENBQTNCLEVBQThCO0FBQzFCRCxzQ0FBc0IsTUFBTUgsY0FBY0ssSUFBZCxDQUFtQixHQUFuQixDQUE1QjtBQUNIOztBQUVELGdCQUFNQyxlQUFlLHNCQUFVLGlCQUFXQyxNQUFYLENBQWtCQyxTQUFyQiwyQkFBc0RMLG1CQUE3RCxDQUFyQjs7QUFFQUcseUJBQWFSLEtBQWIsQ0FBbUJULEtBQW5CLEdBQTJCLE1BQTNCO0FBQ0FpQix5QkFBYVIsS0FBYixDQUFtQlIsTUFBbkIsR0FBNEIsTUFBNUI7O0FBRUEsaUJBQUtPLElBQUwsQ0FBVVksV0FBVixDQUFzQkgsWUFBdEI7O0FBRUFaLG1CQUFPZSxXQUFQLENBQW1CZCxLQUFuQjtBQUNBRCxtQkFBT2UsV0FBUCxDQUFtQixLQUFLYixPQUF4Qjs7QUFFQUosa0JBQU1pQixXQUFOLENBQWtCZixNQUFsQjtBQUNBRixrQkFBTWlCLFdBQU4sQ0FBa0IsS0FBS1osSUFBdkI7O0FBRUEsaUJBQUtYLE9BQUwsQ0FBYXVCLFdBQWIsQ0FBeUJqQixLQUF6Qjs7QUFFQWtCLG1CQUFPQyxrQkFBUCxHQUE0QixVQUFDN0IsSUFBRCxFQUFPQyxFQUFQLEVBQWM7QUFDdEMsc0JBQUtGLFFBQUwsQ0FBY0MsSUFBZCxFQUFvQkMsRUFBcEI7QUFDQSxzQkFBS1ksS0FBTDtBQUNILGFBSEQ7O0FBS0EseUJBQVFpQixJQUFSLENBQWEscUJBQWIsRUFBb0MsS0FBSzFCLE9BQXpDOztBQUVBLG1CQUFPLEtBQUtBLE9BQVo7QUFDSDs7O2dDQUVPO0FBQ0osbUJBQU93QixPQUFPQyxrQkFBZDs7QUFFQSxpQkFBS3pCLE9BQUwsQ0FBYTJCLE1BQWI7QUFDSDs7O29EQUVrQ0MsRSxFQUF5QjtBQUFBLGdCQUFyQkMsV0FBcUIsdUVBQVAsS0FBTzs7QUFDeEQsZ0JBQU05QixVQUFVLEVBQWhCOztBQUVBLGdCQUFJZ0IsY0FBYyxFQUFsQjs7QUFFQSxnQkFBSWEsR0FBR0UsTUFBSCxDQUFVL0IsT0FBVixDQUFrQmdCLFdBQWxCLElBQWlDYSxHQUFHRSxNQUFILENBQVUvQixPQUFWLENBQWtCZ0IsV0FBbEIsS0FBa0MsRUFBdkUsRUFBMkU7QUFDdkVBLDhCQUFjYSxHQUFHRSxNQUFILENBQVUvQixPQUFWLENBQWtCZ0IsV0FBaEM7QUFDSDs7QUFFRCxnQkFBSWMsZUFBZUQsR0FBR0UsTUFBSCxDQUFVL0IsT0FBVixDQUFrQmdDLGdCQUFqQyxJQUFxREgsR0FBR0UsTUFBSCxDQUFVL0IsT0FBVixDQUFrQmdDLGdCQUFsQixLQUF1QyxFQUFoRyxFQUFvRztBQUNoR2hCLDhCQUFjYSxHQUFHRSxNQUFILENBQVUvQixPQUFWLENBQWtCZ0MsZ0JBQWhDO0FBQ0g7O0FBRUQsZ0JBQUlILEdBQUdJLE9BQUgsQ0FBV0MsZUFBWCxJQUE4QkwsR0FBR0ksT0FBSCxDQUFXQyxlQUFYLEtBQStCLEVBQWpFLEVBQXFFO0FBQ2pFbEIsOEJBQWNhLEdBQUdJLE9BQUgsQ0FBV0MsZUFBekI7QUFDSDs7QUFFRCxnQkFBSUosZUFBZUQsR0FBR0ksT0FBSCxDQUFXRSxvQkFBMUIsSUFBa0ROLEdBQUdJLE9BQUgsQ0FBV0Usb0JBQVgsS0FBb0MsRUFBMUYsRUFBOEY7QUFDMUZuQiw4QkFBY2EsR0FBR0ksT0FBSCxDQUFXRSxvQkFBekI7QUFDSDs7QUFFRCxnQkFBSW5CLGdCQUFnQixFQUFwQixFQUF3QjtBQUNwQmhCLHdCQUFRZ0IsV0FBUixHQUFzQkEsV0FBdEI7QUFDSDs7QUFFRCxtQkFBT2hCLE9BQVA7QUFDSDs7Ozs7O2tCQUdVTCxNIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVtaXR0ZXIgZnJvbSAnLi9FRSc7XG5pbXBvcnQgZnJlZENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XG5pbXBvcnQgeyBzZWN0aW9uLCBkaXYsIGJ1dHRvbiwgaDQsIGlGcmFtZSB9IGZyb20gJy4vVUkvRWxlbWVudHMnO1xuXG5leHBvcnQgY2xhc3MgRmluZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvblNlbGVjdCA9IChmaWxlLCBmbSkgPT4ge30sIHRpdGxlID0gJ2ZyZWQuZmUuYnJvd3NlX2ZpbGVzJywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICBpZiAoZnJlZENvbmZpZy5sbmdFeGlzdHModGl0bGUpKSB7XG4gICAgICAgICAgICB0aXRsZSA9IGZyZWRDb25maWcubG5nKHRpdGxlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICB3aWR0aDogJzgwMHB4JywgXG4gICAgICAgICAgICBoZWlnaHQ6ICc2MDBweCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLm9uU2VsZWN0ID0gb25TZWxlY3QuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IHNlY3Rpb24oWydmcmVkLS1tb2RhbC1iZyddKTtcblxuICAgICAgICBjb25zdCBtb2RhbCA9IGRpdihbJ2ZyZWQtLW1vZGFsJ10pO1xuICAgICAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICBjb25zdCBoZWFkZXIgPSBkaXYoWydmcmVkLS1tb2RhbC1oZWFkZXInXSk7XG5cbiAgICAgICAgY29uc3QgY2xvc2UgPSBidXR0b24oJzxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIiB2aWV3Qm94PVwiLTQgLTQgMjAgMjBcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAtNCAtNCAyMCAyMFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PHBvbHlnb24gcG9pbnRzPVwiMTYuMDc5LC0wLjY2NiAxMi43MTcsLTQuMDI3IDYuMDUyLDIuNjM3IC0wLjYxMywtNC4wMjcgLTMuOTc1LC0wLjY2NiAyLjY5LDYgLTMuOTc1LDEyLjY2NCAtMC42MTIsMTYuMDI2IDYuMDUyLDkuMzYyIDEyLjcxNywxNi4wMjcgMTYuMDc5LDEyLjY2NCA5LjQxNCw2IFwiPjwvcG9seWdvbj48L3N2Zz4nLCAnZnJlZC5mZS5jbG9zZScsIFsnYnV0dG9uJ10sIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy50aXRsZUVsID0gaDQodGhpcy50aXRsZSk7XG5cbiAgICAgICAgdGhpcy5ib2R5ID0gZGl2KFsnZnJlZC0tbW9kYWwtYm9keSddKTtcblxuICAgICAgICBtb2RhbC5zdHlsZS53aWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aCB8fCAnODAwcHgnO1xuICAgICAgICBtb2RhbC5zdHlsZS5oZWlnaHQgPSB0aGlzLm9wdGlvbnMuaGVpZ2h0IHx8ICc2MDBweCc7XG4gICAgICAgIHRoaXMuYm9keS5zdHlsZS5wYWRkaW5nID0gJzAnO1xuXG4gICAgICAgIGNvbnN0IGZpbmRlck9wdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tZWRpYVNvdXJjZSkge1xuICAgICAgICAgICAgZmluZGVyT3B0aW9ucy5wdXNoKGBtZWRpYVNvdXJjZT0ke3RoaXMub3B0aW9ucy5tZWRpYVNvdXJjZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmaW5kZXJPcHRpb25zU3RyaW5nID0gJyc7XG4gICAgICAgIGlmIChmaW5kZXJPcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZpbmRlck9wdGlvbnNTdHJpbmcgPSAnPycgKyBmaW5kZXJPcHRpb25zLmpvaW4oJyYnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbmRlcklmcmFtZSA9IGlGcmFtZShgJHtmcmVkQ29uZmlnLmNvbmZpZy5hc3NldHNVcmx9ZWxmaW5kZXIvaW5kZXguaHRtbGAgKyBmaW5kZXJPcHRpb25zU3RyaW5nKTtcbiAgICAgICAgXG4gICAgICAgIGZpbmRlcklmcmFtZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgZmluZGVySWZyYW1lLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZChmaW5kZXJJZnJhbWUpO1xuICAgICAgICBcbiAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKGNsb3NlKTtcbiAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHRoaXMudGl0bGVFbCk7XG5cbiAgICAgICAgbW9kYWwuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICAgICAgbW9kYWwuYXBwZW5kQ2hpbGQodGhpcy5ib2R5KTtcblxuICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQobW9kYWwpO1xuXG4gICAgICAgIHdpbmRvdy5mcmVkRmluZGVyT25DaGFuZ2UgPSAoZmlsZSwgZm0pID0+IHtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3QoZmlsZSwgZm0pO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC13cmFwcGVyLWluc2VydCcsIHRoaXMud3JhcHBlcik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgZGVsZXRlIHdpbmRvdy5mcmVkRmluZGVyT25DaGFuZ2U7XG4gICAgICAgIFxuICAgICAgICB0aGlzLndyYXBwZXIucmVtb3ZlKCk7XG4gICAgfVxuICAgIFxuICAgIHN0YXRpYyBnZXRGaW5kZXJPcHRpb25zRnJvbUVsZW1lbnQoZWwsIGltYWdlRmluZGVyID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgIGxldCBtZWRpYVNvdXJjZSA9ICcnO1xuXG4gICAgICAgIGlmIChlbC5mcmVkRWwub3B0aW9ucy5tZWRpYVNvdXJjZSAmJiBlbC5mcmVkRWwub3B0aW9ucy5tZWRpYVNvdXJjZSAhPT0gJycpIHtcbiAgICAgICAgICAgIG1lZGlhU291cmNlID0gZWwuZnJlZEVsLm9wdGlvbnMubWVkaWFTb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1hZ2VGaW5kZXIgJiYgZWwuZnJlZEVsLm9wdGlvbnMuaW1hZ2VNZWRpYVNvdXJjZSAmJiBlbC5mcmVkRWwub3B0aW9ucy5pbWFnZU1lZGlhU291cmNlICE9PSAnJykge1xuICAgICAgICAgICAgbWVkaWFTb3VyY2UgPSBlbC5mcmVkRWwub3B0aW9ucy5pbWFnZU1lZGlhU291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsLmRhdGFzZXQuZnJlZE1lZGlhU291cmNlICYmIGVsLmRhdGFzZXQuZnJlZE1lZGlhU291cmNlICE9PSAnJykge1xuICAgICAgICAgICAgbWVkaWFTb3VyY2UgPSBlbC5kYXRhc2V0LmZyZWRNZWRpYVNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZUZpbmRlciAmJiBlbC5kYXRhc2V0LmZyZWRJbWFnZU1lZGlhU291cmNlICYmIGVsLmRhdGFzZXQuZnJlZEltYWdlTWVkaWFTb3VyY2UgIT09ICcnKSB7XG4gICAgICAgICAgICBtZWRpYVNvdXJjZSA9IGVsLmRhdGFzZXQuZnJlZEltYWdlTWVkaWFTb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVkaWFTb3VyY2UgIT09ICcnKSB7XG4gICAgICAgICAgICBvcHRpb25zLm1lZGlhU291cmNlID0gbWVkaWFTb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbmRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0ZpbmRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.buildBlueprint = exports.loadElements = exports.fixChoices = exports.applyScripts = exports.errorHandler = exports.debounce = undefined;\n\nvar _Elements = __webpack_require__(11);\n\nvar _ContentElement = __webpack_require__(21);\n\nvar _ContentElement2 = _interopRequireDefault(_ContentElement);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar debounce = exports.debounce = function debounce(delay, fn) {\n    var timerId = void 0;\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        if (timerId) {\n            clearTimeout(timerId);\n        }\n        timerId = setTimeout(function () {\n            fn.apply(undefined, args);\n            timerId = null;\n        }, delay);\n    };\n};\n\nvar errorHandler = exports.errorHandler = function errorHandler(response) {\n    if (response.status >= 200 && response.status < 300) {\n        return response.json();\n    }\n\n    return response.json().then(function (json) {\n        var err = new Error(json.message);\n        err.response = json;\n\n        throw err;\n    });\n};\n\nvar applyScripts = exports.applyScripts = function applyScripts(el) {\n    var scripts = el.querySelectorAll('script');\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = scripts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var scriptEl = _step.value;\n\n            var script = document.createElement('script');\n            script.dataset.fredRender = 'false';\n            script.innerHTML = scriptEl.innerHTML;\n\n            scriptEl.parentNode.replaceChild(script, scriptEl);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n};\n\nvar fixChoices = exports.fixChoices = function fixChoices(choices) {\n    var sortByScore = function sortByScore(a, b) {\n        return a.score - b.score;\n    };\n\n    choices.renderChoices = function (choices, fragment) {\n        var _this = this;\n\n        var withinGroup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n        var choicesFragment = fragment || document.createDocumentFragment();\n        var _config = this.config,\n            renderSelectedChoices = _config.renderSelectedChoices,\n            searchResultLimit = _config.searchResultLimit,\n            renderChoiceLimit = _config.renderChoiceLimit;\n\n        var filter = this.isSearching ? sortByScore : this.config.sortFilter;\n        var appendChoice = function appendChoice(choice) {\n            var shouldRender = renderSelectedChoices === 'auto' ? _this.isSelectOneElement || !choice.selected : true;\n            if (shouldRender) {\n                var dropdownItem = _this._getTemplate('choice', choice);\n                choicesFragment.appendChild(dropdownItem);\n            }\n        };\n\n        var rendererableChoices = choices;\n\n        if (renderSelectedChoices === 'auto' && !this.isSelectOneElement) {\n            rendererableChoices = choices.filter(function (choice) {\n                return !choice.selected;\n            });\n        }\n\n        // Split array into placeholders and \"normal\" choices\n\n        var _rendererableChoices$ = rendererableChoices.reduce(function (acc, choice) {\n            if (choice.placeholder) {\n                acc.placeholderChoices.push(choice);\n            } else {\n                acc.normalChoices.push(choice);\n            }\n            return acc;\n        }, { placeholderChoices: [], normalChoices: [] }),\n            placeholderChoices = _rendererableChoices$.placeholderChoices,\n            normalChoices = _rendererableChoices$.normalChoices;\n\n        // If sorting is enabled or the user is searching, filter choices\n\n\n        if (this.config.shouldSort || this.isSearching) {\n            normalChoices.sort(filter);\n        }\n\n        var choiceLimit = rendererableChoices.length;\n\n        // Prepend placeholeder\n        var sortedChoices = [].concat(_toConsumableArray(placeholderChoices), _toConsumableArray(normalChoices));\n\n        if (this.isSearching) {\n            if (searchResultLimit > 0) {\n                choiceLimit = searchResultLimit;\n            }\n        } else if (renderChoiceLimit > 0 && !withinGroup) {\n            choiceLimit = renderChoiceLimit;\n        }\n\n        // Add each choice to dropdown within range\n        for (var i = 0; i < choiceLimit; i++) {\n            if (sortedChoices[i]) {\n                appendChoice(sortedChoices[i]);\n            }\n        }\n\n        return choicesFragment;\n    };\n\n    choices.ajax = function (fn) {\n        var _this2 = this;\n\n        if (this.initialised === true) {\n            if (this.isSelectElement) {\n                // Show loading text\n                requestAnimationFrame(function () {\n                    _this2._handleLoadingState(true);\n\n                    fn(_this2._ajaxCallback());\n                });\n            }\n        }\n        return this;\n    };\n};\n\nvar loadChildren = function loadChildren(zones, parent, elements) {\n    var fireEvents = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    var dzPromises = [];\n\n    var _loop = function _loop(zoneName) {\n        if (zones.hasOwnProperty(zoneName)) {\n            var promises = [];\n\n            zones[zoneName].forEach(function (element) {\n                var chunk = (0, _Elements.div)(['chunk']);\n                chunk.setAttribute('hidden', 'hidden');\n                chunk.dataset.fredElementId = element.widget;\n                chunk.dataset.fredElementTitle = elements[element.widget].title;\n                chunk.elementMarkup = elements[element.widget].html;\n                chunk.elementOptions = elements[element.widget].options || {};\n\n                var contentElement = new _ContentElement2.default(chunk, zoneName, parent, element.values, element.settings || {});\n                promises.push(contentElement.render().then(function () {\n                    parent.addElementToDropZone(zoneName, contentElement);\n\n                    return loadChildren(element.children, contentElement, elements, fireEvents).then(function () {\n                        if (fireEvents === true) {\n                            var event = new CustomEvent('FredElementDrop', { detail: { fredEl: contentElement } });\n                            document.body.dispatchEvent(event);\n\n                            var jsElements = contentElement.wrapper.querySelectorAll('[data-fred-on-drop]');\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                                for (var _iterator2 = jsElements[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                    var jsEl = _step2.value;\n\n                                    if (window[jsEl.dataset.fredOnDrop]) {\n                                        window[jsEl.dataset.fredOnDrop](jsEl);\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError2 = true;\n                                _iteratorError2 = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                        _iterator2.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError2) {\n                                        throw _iteratorError2;\n                                    }\n                                }\n                            }\n                        }\n                    });\n                }));\n            });\n\n            dzPromises.push(Promise.all(promises));\n        }\n    };\n\n    for (var zoneName in zones) {\n        _loop(zoneName);\n    }\n\n    return Promise.all(dzPromises);\n};\n\nvar loadElements = exports.loadElements = function loadElements(data) {\n    var zones = data.data;\n    var dzPromises = [];\n\n    var _loop2 = function _loop2(zoneName) {\n        if (zones.hasOwnProperty(zoneName)) {\n            var zoneEl = document.querySelector(\"[data-fred-dropzone=\\\"\" + zoneName + \"\\\"]\");\n            if (zoneEl) {\n                var promises = [];\n\n                zoneEl.innerHTML = '';\n                zones[zoneName].forEach(function (element) {\n                    var chunk = (0, _Elements.div)(['chunk']);\n                    chunk.setAttribute('hidden', 'hidden');\n                    chunk.dataset.fredElementId = element.widget;\n                    chunk.dataset.fredElementTitle = data.elements[element.widget].title;\n                    chunk.elementMarkup = data.elements[element.widget].html;\n                    chunk.elementOptions = data.elements[element.widget].options || {};\n\n                    var contentElement = new _ContentElement2.default(chunk, zoneName, null, element.values, element.settings || {});\n                    promises.push(contentElement.render().then(function (wrapper) {\n                        loadChildren(element.children, contentElement, data.elements);\n                        return wrapper;\n                    }));\n                });\n\n                dzPromises.push(Promise.all(promises).then(function (wrappers) {\n                    wrappers.forEach(function (wrapper) {\n                        zoneEl.appendChild(wrapper);\n                    });\n                }));\n            }\n        }\n    };\n\n    for (var zoneName in zones) {\n        _loop2(zoneName);\n    }\n\n    return Promise.all(dzPromises);\n};\n\nvar buildBlueprint = exports.buildBlueprint = function buildBlueprint(data, parent, target, sibling) {\n    var complete = data.complete || false;\n    var emptyPage = true;\n\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        for (var _iterator3 = _Config2.default.fred.dropzones[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var dz = _step3.value;\n\n            if (dz.querySelector('.fred--block')) {\n                emptyPage = false;\n                break;\n            }\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                _iterator3.return();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n\n    var elements = [];\n\n    if (complete === false) {\n        elements = data.data;\n    } else {\n        if (emptyPage === true) {\n            var zones = data.data;\n            var dzPromises = [];\n\n            var _loop3 = function _loop3(zoneName) {\n                if (zones.hasOwnProperty(zoneName)) {\n                    var zoneEl = document.querySelector(\"[data-fred-dropzone=\\\"\" + zoneName + \"\\\"]\");\n                    if (zoneEl) {\n                        var _promises = [];\n\n                        zones[zoneName].forEach(function (element) {\n                            var chunk = (0, _Elements.div)(['chunk']);\n                            chunk.setAttribute('hidden', 'hidden');\n                            chunk.dataset.fredElementId = element.widget;\n\n                            chunk.dataset.fredElementTitle = data.elements[element.widget].title;\n                            chunk.elementMarkup = data.elements[element.widget].html;\n                            chunk.elementOptions = data.elements[element.widget].options;\n\n                            var contentElement = new _ContentElement2.default(chunk, zoneName, null, element.values, element.settings || {});\n                            _promises.push(contentElement.render().then(function (wrapper) {\n                                loadChildren(element.children, contentElement, data.elements, true).then(function () {\n                                    var event = new CustomEvent('FredElementDrop', { detail: { fredEl: contentElement } });\n                                    document.body.dispatchEvent(event);\n\n                                    var jsElements = contentElement.wrapper.querySelectorAll('[data-fred-on-drop]');\n                                    var _iteratorNormalCompletion4 = true;\n                                    var _didIteratorError4 = false;\n                                    var _iteratorError4 = undefined;\n\n                                    try {\n                                        for (var _iterator4 = jsElements[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                                            var jsEl = _step4.value;\n\n                                            if (window[jsEl.dataset.fredOnDrop]) {\n                                                window[jsEl.dataset.fredOnDrop](jsEl);\n                                            }\n                                        }\n                                    } catch (err) {\n                                        _didIteratorError4 = true;\n                                        _iteratorError4 = err;\n                                    } finally {\n                                        try {\n                                            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                                                _iterator4.return();\n                                            }\n                                        } finally {\n                                            if (_didIteratorError4) {\n                                                throw _iteratorError4;\n                                            }\n                                        }\n                                    }\n                                });\n\n                                return wrapper;\n                            }));\n                        });\n\n                        dzPromises.push(Promise.all(_promises).then(function (wrappers) {\n                            wrappers.forEach(function (wrapper) {\n                                zoneEl.appendChild(wrapper);\n                            });\n                        }));\n                    }\n                }\n            };\n\n            for (var zoneName in zones) {\n                _loop3(zoneName);\n            }\n\n            return Promise.all(dzPromises);\n        }\n\n        var dzName = '';\n\n        if (parent === null) {\n            if (data.data[target.dataset.fredDropzone]) {\n                dzName = target.dataset.fredDropzone;\n            } else if (data.data['content']) {\n                dzName = 'content';\n            }\n        } else {\n            if (data.data['content']) {\n                dzName = 'content';\n            }\n        }\n\n        if (dzName === '') {\n            console.error('Something wrong happened with blueprint.');\n            return;\n        }\n\n        elements = data.data[dzName];\n    }\n\n    var promises = [];\n\n    elements.forEach(function (element) {\n        var chunk = (0, _Elements.div)(['chunk']);\n        chunk.setAttribute('hidden', 'hidden');\n        chunk.dataset.fredElementId = element.widget;\n\n        chunk.dataset.fredElementTitle = data.elements[element.widget].title;\n        chunk.elementMarkup = data.elements[element.widget].html;\n        chunk.elementOptions = data.elements[element.widget].options || {};\n\n        var contentElement = new _ContentElement2.default(chunk, target.dataset.fredDropzone, parent, element.values, element.settings || {});\n\n        promises.push(contentElement.render().then(function () {\n            if (parent) {\n                if (sibling === null) {\n                    parent.dzs[target.dataset.fredDropzone].children.push(contentElement.wrapper);\n                } else {\n                    parent.dzs[target.dataset.fredDropzone].children.splice(parent.dzs[target.dataset.fredDropzone].children.indexOf(sibling), 0, contentElement.wrapper);\n                }\n            }\n\n            loadChildren(element.children, contentElement, data.elements, true).then(function () {\n                var event = new CustomEvent('FredElementDrop', { detail: { fredEl: contentElement } });\n                document.body.dispatchEvent(event);\n\n                var jsElements = contentElement.wrapper.querySelectorAll('[data-fred-on-drop]');\n                var _iteratorNormalCompletion5 = true;\n                var _didIteratorError5 = false;\n                var _iteratorError5 = undefined;\n\n                try {\n                    for (var _iterator5 = jsElements[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                        var jsEl = _step5.value;\n\n                        if (window[jsEl.dataset.fredOnDrop]) {\n                            window[jsEl.dataset.fredOnDrop](jsEl);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError5 = true;\n                    _iteratorError5 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                            _iterator5.return();\n                        }\n                    } finally {\n                        if (_didIteratorError5) {\n                            throw _iteratorError5;\n                        }\n                    }\n                }\n            });\n\n            if (sibling !== null) {\n                sibling.insertAdjacentElement('beforeBegin', contentElement.wrapper);\n            } else {\n                target.appendChild(contentElement.wrapper);\n            }\n        }));\n    });\n\n    return Promise.all(promises);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL1V0aWxzLmpzP2QzZjMiXSwibmFtZXMiOlsiZGVib3VuY2UiLCJkZWxheSIsImZuIiwidGltZXJJZCIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZXJyb3JIYW5kbGVyIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJqc29uIiwidGhlbiIsImVyciIsIkVycm9yIiwibWVzc2FnZSIsImFwcGx5U2NyaXB0cyIsInNjcmlwdHMiLCJlbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzY3JpcHRFbCIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRhdGFzZXQiLCJmcmVkUmVuZGVyIiwiaW5uZXJIVE1MIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImZpeENob2ljZXMiLCJzb3J0QnlTY29yZSIsImEiLCJiIiwic2NvcmUiLCJjaG9pY2VzIiwicmVuZGVyQ2hvaWNlcyIsImZyYWdtZW50Iiwid2l0aGluR3JvdXAiLCJjaG9pY2VzRnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY29uZmlnIiwicmVuZGVyU2VsZWN0ZWRDaG9pY2VzIiwic2VhcmNoUmVzdWx0TGltaXQiLCJyZW5kZXJDaG9pY2VMaW1pdCIsImZpbHRlciIsImlzU2VhcmNoaW5nIiwic29ydEZpbHRlciIsImFwcGVuZENob2ljZSIsImNob2ljZSIsInNob3VsZFJlbmRlciIsImlzU2VsZWN0T25lRWxlbWVudCIsInNlbGVjdGVkIiwiZHJvcGRvd25JdGVtIiwiX2dldFRlbXBsYXRlIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJlcmFibGVDaG9pY2VzIiwicmVkdWNlIiwiYWNjIiwicGxhY2Vob2xkZXIiLCJwbGFjZWhvbGRlckNob2ljZXMiLCJwdXNoIiwibm9ybWFsQ2hvaWNlcyIsInNob3VsZFNvcnQiLCJzb3J0IiwiY2hvaWNlTGltaXQiLCJsZW5ndGgiLCJzb3J0ZWRDaG9pY2VzIiwiaSIsImFqYXgiLCJpbml0aWFsaXNlZCIsImlzU2VsZWN0RWxlbWVudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9oYW5kbGVMb2FkaW5nU3RhdGUiLCJfYWpheENhbGxiYWNrIiwibG9hZENoaWxkcmVuIiwiem9uZXMiLCJwYXJlbnQiLCJlbGVtZW50cyIsImZpcmVFdmVudHMiLCJkelByb21pc2VzIiwiem9uZU5hbWUiLCJoYXNPd25Qcm9wZXJ0eSIsInByb21pc2VzIiwiZm9yRWFjaCIsImNodW5rIiwic2V0QXR0cmlidXRlIiwiZnJlZEVsZW1lbnRJZCIsImVsZW1lbnQiLCJ3aWRnZXQiLCJmcmVkRWxlbWVudFRpdGxlIiwidGl0bGUiLCJlbGVtZW50TWFya3VwIiwiaHRtbCIsImVsZW1lbnRPcHRpb25zIiwib3B0aW9ucyIsImNvbnRlbnRFbGVtZW50IiwidmFsdWVzIiwic2V0dGluZ3MiLCJyZW5kZXIiLCJhZGRFbGVtZW50VG9Ecm9wWm9uZSIsImNoaWxkcmVuIiwiZXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImZyZWRFbCIsImJvZHkiLCJkaXNwYXRjaEV2ZW50IiwianNFbGVtZW50cyIsIndyYXBwZXIiLCJqc0VsIiwid2luZG93IiwiZnJlZE9uRHJvcCIsIlByb21pc2UiLCJhbGwiLCJsb2FkRWxlbWVudHMiLCJkYXRhIiwiem9uZUVsIiwicXVlcnlTZWxlY3RvciIsIndyYXBwZXJzIiwiYnVpbGRCbHVlcHJpbnQiLCJ0YXJnZXQiLCJzaWJsaW5nIiwiY29tcGxldGUiLCJlbXB0eVBhZ2UiLCJmcmVkIiwiZHJvcHpvbmVzIiwiZHoiLCJkek5hbWUiLCJmcmVkRHJvcHpvbmUiLCJjb25zb2xlIiwiZXJyb3IiLCJkenMiLCJzcGxpY2UiLCJpbmRleE9mIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFTyxJQUFNQSw4QkFBVyxTQUFYQSxRQUFXLENBQUNDLEtBQUQsRUFBUUMsRUFBUixFQUFlO0FB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T0FBZixDQUF1QnpGLGdCQUF2QixDQUF3QyxxQkFBeEMsQ0FBbkI7QUFKMkU7QUFBQTtBQUFBOztBQUFBO0FBSzNFLDBDQUFpQndGLFVBQWpCLG1JQUE2QjtBQUFBLDRCQUFwQkUsSUFBb0I7O0FBQ3pCLDRCQUFJQyxPQUFPRCxLQUFLckYsT0FBTCxDQUFhdUYsVUFBcEIsQ0FBSixFQUFxQztBQUNqQ0QsbUNBQU9ELEtBQUtyRixPQUFMLENBQWF1RixVQUFwQixFQUFnQ0YsSUFBaEM7QUFDSDtBQUNKO0FBVDBFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVOUUsYUFWRDs7QUFZQSxnQkFBSVksWUFBWSxJQUFoQixFQUFzQjtBQUNsQkEsd0JBQVFhLHFCQUFSLENBQThCLGFBQTlCLEVBQTZDdkMsZUFBZWEsT0FBNUQ7QUFDSCxhQUZELE1BRU87QUFDSFksdUJBQU9sRSxXQUFQLENBQW1CeUMsZUFBZWEsT0FBbEM7QUFDSDtBQUNKLFNBMUJhLENBQWQ7QUEyQkgsS0F0Q0Q7O0FBd0NBLFdBQU9JLFFBQVFDLEdBQVIsQ0FBWS9CLFFBQVosQ0FBUDtBQUNILENBcElNIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkaXZ9IGZyb20gXCIuL1VJL0VsZW1lbnRzXCI7XG5pbXBvcnQgQ29udGVudEVsZW1lbnQgZnJvbSBcIi4vQ29tcG9uZW50cy9TaWRlYmFyL0VsZW1lbnRzL0NvbnRlbnRFbGVtZW50XCI7XG5pbXBvcnQgZnJlZENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XG5cbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IChkZWxheSwgZm4pID0+IHtcbiAgICBsZXQgdGltZXJJZDtcbiAgICBcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRpbWVySWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmbiguLi5hcmdzKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBudWxsO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBlcnJvckhhbmRsZXIgPSByZXNwb25zZSA9PiB7XG4gICAgaWYgKChyZXNwb25zZS5zdGF0dXMgPj0gMjAwKSAmJiAocmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbihqc29uID0+IHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGpzb24ubWVzc2FnZSk7XG4gICAgICAgIGVyci5yZXNwb25zZSA9IGpzb247XG5cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH0pICAgIFxufTtcblxuZXhwb3J0IGNvbnN0IGFwcGx5U2NyaXB0cyA9IGVsID0+IHtcbiAgICBjb25zdCBzY3JpcHRzID0gZWwucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0Jyk7XG5cbiAgICBmb3IgKGxldCBzY3JpcHRFbCBvZiBzY3JpcHRzKSB7XG4gICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBzY3JpcHQuZGF0YXNldC5mcmVkUmVuZGVyID0gJ2ZhbHNlJztcbiAgICAgICAgc2NyaXB0LmlubmVySFRNTCA9IHNjcmlwdEVsLmlubmVySFRNTDtcbiAgICAgICAgXG4gICAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHNjcmlwdCwgc2NyaXB0RWwpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmaXhDaG9pY2VzID0gY2hvaWNlcyA9PiB7XG4gICAgY29uc3Qgc29ydEJ5U2NvcmUgPSAoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5zY29yZSAtIGIuc2NvcmU7XG4gICAgfTtcbiAgICBcbiAgICBjaG9pY2VzLnJlbmRlckNob2ljZXMgPSBmdW5jdGlvbihjaG9pY2VzLCBmcmFnbWVudCwgd2l0aGluR3JvdXAgPSBmYWxzZSkge1xuICAgICAgICAvLyBDcmVhdGUgYSBmcmFnbWVudCB0byBzdG9yZSBvdXIgbGlzdCBpdGVtcyAoc28gd2UgZG9uJ3QgaGF2ZSB0byB1cGRhdGUgdGhlIERPTSBmb3IgZWFjaCBpdGVtKVxuICAgICAgICBjb25zdCBjaG9pY2VzRnJhZ21lbnQgPSBmcmFnbWVudCB8fCBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIGNvbnN0IHsgcmVuZGVyU2VsZWN0ZWRDaG9pY2VzLCBzZWFyY2hSZXN1bHRMaW1pdCwgcmVuZGVyQ2hvaWNlTGltaXQgfSA9IHRoaXMuY29uZmlnO1xuICAgICAgICBjb25zdCBmaWx0ZXIgPSB0aGlzLmlzU2VhcmNoaW5nID8gc29ydEJ5U2NvcmUgOiB0aGlzLmNvbmZpZy5zb3J0RmlsdGVyO1xuICAgICAgICBjb25zdCBhcHBlbmRDaG9pY2UgPSAoY2hvaWNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZW5kZXIgPSByZW5kZXJTZWxlY3RlZENob2ljZXMgPT09ICdhdXRvJyA/XG4gICAgICAgICAgICAgICAgKHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50IHx8ICFjaG9pY2Uuc2VsZWN0ZWQpIDpcbiAgICAgICAgICAgICAgICB0cnVlO1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRyb3Bkb3duSXRlbSA9IHRoaXMuX2dldFRlbXBsYXRlKCdjaG9pY2UnLCBjaG9pY2UpO1xuICAgICAgICAgICAgICAgIGNob2ljZXNGcmFnbWVudC5hcHBlbmRDaGlsZChkcm9wZG93bkl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIFxuICAgICAgICBsZXQgcmVuZGVyZXJhYmxlQ2hvaWNlcyA9IGNob2ljZXM7XG4gICAgXG4gICAgICAgIGlmIChyZW5kZXJTZWxlY3RlZENob2ljZXMgPT09ICdhdXRvJyAmJiAhdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyYWJsZUNob2ljZXMgPSBjaG9pY2VzLmZpbHRlcihjaG9pY2UgPT4gIWNob2ljZS5zZWxlY3RlZCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gU3BsaXQgYXJyYXkgaW50byBwbGFjZWhvbGRlcnMgYW5kIFwibm9ybWFsXCIgY2hvaWNlc1xuICAgICAgICBjb25zdCB7IHBsYWNlaG9sZGVyQ2hvaWNlcywgbm9ybWFsQ2hvaWNlcyB9ID0gcmVuZGVyZXJhYmxlQ2hvaWNlcy5yZWR1Y2UoKGFjYywgY2hvaWNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hvaWNlLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgYWNjLnBsYWNlaG9sZGVyQ2hvaWNlcy5wdXNoKGNob2ljZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjYy5ub3JtYWxDaG9pY2VzLnB1c2goY2hvaWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHsgcGxhY2Vob2xkZXJDaG9pY2VzOiBbXSwgbm9ybWFsQ2hvaWNlczogW10gfSk7XG4gICAgXG4gICAgICAgIC8vIElmIHNvcnRpbmcgaXMgZW5hYmxlZCBvciB0aGUgdXNlciBpcyBzZWFyY2hpbmcsIGZpbHRlciBjaG9pY2VzXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zaG91bGRTb3J0IHx8IHRoaXMuaXNTZWFyY2hpbmcpIHtcbiAgICAgICAgICAgIG5vcm1hbENob2ljZXMuc29ydChmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGxldCBjaG9pY2VMaW1pdCA9IHJlbmRlcmVyYWJsZUNob2ljZXMubGVuZ3RoO1xuICAgIFxuICAgICAgICAvLyBQcmVwZW5kIHBsYWNlaG9sZWRlclxuICAgICAgICBjb25zdCBzb3J0ZWRDaG9pY2VzID0gWy4uLnBsYWNlaG9sZGVyQ2hvaWNlcywgLi4ubm9ybWFsQ2hvaWNlc107XG4gICAgXG4gICAgICAgIGlmICh0aGlzLmlzU2VhcmNoaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2VhcmNoUmVzdWx0TGltaXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlTGltaXQgPSBzZWFyY2hSZXN1bHRMaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZW5kZXJDaG9pY2VMaW1pdCA+IDAgJiYgIXdpdGhpbkdyb3VwKSB7XG4gICAgICAgICAgICBjaG9pY2VMaW1pdCA9IHJlbmRlckNob2ljZUxpbWl0O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIEFkZCBlYWNoIGNob2ljZSB0byBkcm9wZG93biB3aXRoaW4gcmFuZ2VcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaG9pY2VMaW1pdDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc29ydGVkQ2hvaWNlc1tpXSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZENob2ljZShzb3J0ZWRDaG9pY2VzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gY2hvaWNlc0ZyYWdtZW50O1xuICAgIH07XG4gICAgXG4gICAgY2hvaWNlcy5hamF4ID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGlzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2VsZWN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIFNob3cgbG9hZGluZyB0ZXh0XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTG9hZGluZ1N0YXRlKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZuKHRoaXMuX2FqYXhDYWxsYmFjaygpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59O1xuXG5jb25zdCBsb2FkQ2hpbGRyZW4gPSAoem9uZXMsIHBhcmVudCwgZWxlbWVudHMsIGZpcmVFdmVudHMgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGR6UHJvbWlzZXMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGxldCB6b25lTmFtZSBpbiB6b25lcykge1xuICAgICAgICBpZiAoem9uZXMuaGFzT3duUHJvcGVydHkoem9uZU5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB6b25lc1t6b25lTmFtZV0uZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IGRpdihbJ2NodW5rJ10pO1xuICAgICAgICAgICAgICAgIGNodW5rLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIGNodW5rLmRhdGFzZXQuZnJlZEVsZW1lbnRJZCA9IGVsZW1lbnQud2lkZ2V0O1xuICAgICAgICAgICAgICAgIGNodW5rLmRhdGFzZXQuZnJlZEVsZW1lbnRUaXRsZSA9IGVsZW1lbnRzW2VsZW1lbnQud2lkZ2V0XS50aXRsZTtcbiAgICAgICAgICAgICAgICBjaHVuay5lbGVtZW50TWFya3VwID0gZWxlbWVudHNbZWxlbWVudC53aWRnZXRdLmh0bWw7XG4gICAgICAgICAgICAgICAgY2h1bmsuZWxlbWVudE9wdGlvbnMgPSBlbGVtZW50c1tlbGVtZW50LndpZGdldF0ub3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gbmV3IENvbnRlbnRFbGVtZW50KGNodW5rLCB6b25lTmFtZSwgcGFyZW50LCBlbGVtZW50LnZhbHVlcywgKGVsZW1lbnQuc2V0dGluZ3MgfHwge30pKTtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGNvbnRlbnRFbGVtZW50LnJlbmRlcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYWRkRWxlbWVudFRvRHJvcFpvbmUoem9uZU5hbWUsIGNvbnRlbnRFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9hZENoaWxkcmVuKGVsZW1lbnQuY2hpbGRyZW4sIGNvbnRlbnRFbGVtZW50LCBlbGVtZW50cywgZmlyZUV2ZW50cykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZUV2ZW50cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdGcmVkRWxlbWVudERyb3AnLCB7ZGV0YWlsOiB7ZnJlZEVsOiBjb250ZW50RWxlbWVudH19KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzRWxlbWVudHMgPSBjb250ZW50RWxlbWVudC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtb24tZHJvcF0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqc0VsIG9mIGpzRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd1tqc0VsLmRhdGFzZXQuZnJlZE9uRHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tqc0VsLmRhdGFzZXQuZnJlZE9uRHJvcF0oanNFbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBkelByb21pc2VzLnB1c2goUHJvbWlzZS5hbGwocHJvbWlzZXMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChkelByb21pc2VzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2FkRWxlbWVudHMgPSBkYXRhID0+IHtcbiAgICBjb25zdCB6b25lcyA9IGRhdGEuZGF0YTtcbiAgICBjb25zdCBkelByb21pc2VzID0gW107XG5cbiAgICBmb3IgKGxldCB6b25lTmFtZSBpbiB6b25lcykge1xuICAgICAgICBpZiAoem9uZXMuaGFzT3duUHJvcGVydHkoem9uZU5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCB6b25lRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mcmVkLWRyb3B6b25lPVwiJHt6b25lTmFtZX1cIl1gKTtcbiAgICAgICAgICAgIGlmICh6b25lRWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgem9uZUVsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgIHpvbmVzW3pvbmVOYW1lXS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IGRpdihbJ2NodW5rJ10pO1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkRWxlbWVudElkID0gZWxlbWVudC53aWRnZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rLmRhdGFzZXQuZnJlZEVsZW1lbnRUaXRsZSA9IGRhdGEuZWxlbWVudHNbZWxlbWVudC53aWRnZXRdLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5lbGVtZW50TWFya3VwID0gZGF0YS5lbGVtZW50c1tlbGVtZW50LndpZGdldF0uaHRtbDtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsuZWxlbWVudE9wdGlvbnMgPSBkYXRhLmVsZW1lbnRzW2VsZW1lbnQud2lkZ2V0XS5vcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gbmV3IENvbnRlbnRFbGVtZW50KGNodW5rLCB6b25lTmFtZSwgbnVsbCwgZWxlbWVudC52YWx1ZXMsIChlbGVtZW50LnNldHRpbmdzIHx8IHt9KSk7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goY29udGVudEVsZW1lbnQucmVuZGVyKCkudGhlbih3cmFwcGVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRDaGlsZHJlbihlbGVtZW50LmNoaWxkcmVuLCBjb250ZW50RWxlbWVudCwgZGF0YS5lbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBkelByb21pc2VzLnB1c2goUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4od3JhcHBlcnMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVycy5mb3JFYWNoKHdyYXBwZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgem9uZUVsLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGR6UHJvbWlzZXMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGJ1aWxkQmx1ZXByaW50ID0gKGRhdGEsIHBhcmVudCwgdGFyZ2V0LCBzaWJsaW5nKSA9PiB7XG4gICAgY29uc3QgY29tcGxldGUgPSBkYXRhLmNvbXBsZXRlIHx8IGZhbHNlO1xuICAgIGxldCBlbXB0eVBhZ2UgPSB0cnVlO1xuICAgIFxuICAgIGZvciAobGV0IGR6IG9mIGZyZWRDb25maWcuZnJlZC5kcm9wem9uZXMpIHtcbiAgICAgICAgaWYgKGR6LnF1ZXJ5U2VsZWN0b3IoJy5mcmVkLS1ibG9jaycpKSB7XG4gICAgICAgICAgICBlbXB0eVBhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGVsZW1lbnRzID0gW107IFxuICAgIFxuICAgIGlmIChjb21wbGV0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZWxlbWVudHMgPSBkYXRhLmRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVtcHR5UGFnZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3Qgem9uZXMgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBkelByb21pc2VzID0gW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IHpvbmVOYW1lIGluIHpvbmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHpvbmVzLmhhc093blByb3BlcnR5KHpvbmVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB6b25lRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mcmVkLWRyb3B6b25lPVwiJHt6b25lTmFtZX1cIl1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHpvbmVFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmVzW3pvbmVOYW1lXS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gZGl2KFsnY2h1bmsnXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkRWxlbWVudElkID0gZWxlbWVudC53aWRnZXQ7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkRWxlbWVudFRpdGxlID0gZGF0YS5lbGVtZW50c1tlbGVtZW50LndpZGdldF0udGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsuZWxlbWVudE1hcmt1cCA9IGRhdGEuZWxlbWVudHNbZWxlbWVudC53aWRnZXRdLmh0bWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsuZWxlbWVudE9wdGlvbnMgPSBkYXRhLmVsZW1lbnRzW2VsZW1lbnQud2lkZ2V0XS5vcHRpb25zO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gbmV3IENvbnRlbnRFbGVtZW50KGNodW5rLCB6b25lTmFtZSwgbnVsbCwgZWxlbWVudC52YWx1ZXMsIChlbGVtZW50LnNldHRpbmdzIHx8IHt9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjb250ZW50RWxlbWVudC5yZW5kZXIoKS50aGVuKHdyYXBwZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ2hpbGRyZW4oZWxlbWVudC5jaGlsZHJlbiwgY29udGVudEVsZW1lbnQsIGRhdGEuZWxlbWVudHMsIHRydWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ0ZyZWRFbGVtZW50RHJvcCcsIHtkZXRhaWw6IHtmcmVkRWw6IGNvbnRlbnRFbGVtZW50fX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzRWxlbWVudHMgPSBjb250ZW50RWxlbWVudC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtb24tZHJvcF0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGpzRWwgb2YganNFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3dbanNFbC5kYXRhc2V0LmZyZWRPbkRyb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tqc0VsLmRhdGFzZXQuZnJlZE9uRHJvcF0oanNFbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZHpQcm9taXNlcy5wdXNoKFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKHdyYXBwZXJzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVycy5mb3JFYWNoKHdyYXBwZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b25lRWwuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZHpQcm9taXNlcyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgbGV0IGR6TmFtZSA9ICcnO1xuICAgICAgICBcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVt0YXJnZXQuZGF0YXNldC5mcmVkRHJvcHpvbmVdKSB7XG4gICAgICAgICAgICAgICAgZHpOYW1lID0gdGFyZ2V0LmRhdGFzZXQuZnJlZERyb3B6b25lO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGFbJ2NvbnRlbnQnXSkge1xuICAgICAgICAgICAgICAgIGR6TmFtZSA9ICdjb250ZW50JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGFbJ2NvbnRlbnQnXSkge1xuICAgICAgICAgICAgICAgIGR6TmFtZSA9ICdjb250ZW50JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAoZHpOYW1lID09PSAnJykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU29tZXRoaW5nIHdyb25nIGhhcHBlbmVkIHdpdGggYmx1ZXByaW50LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBlbGVtZW50cyA9IGRhdGEuZGF0YVtkek5hbWVdO1xuICAgIH1cblxuICAgIGNvbnN0IHByb21pc2VzID0gW107XG5cbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBjaHVuayA9IGRpdihbJ2NodW5rJ10pO1xuICAgICAgICBjaHVuay5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcbiAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkRWxlbWVudElkID0gZWxlbWVudC53aWRnZXQ7XG5cbiAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkRWxlbWVudFRpdGxlID0gZGF0YS5lbGVtZW50c1tlbGVtZW50LndpZGdldF0udGl0bGU7XG4gICAgICAgIGNodW5rLmVsZW1lbnRNYXJrdXAgPSBkYXRhLmVsZW1lbnRzW2VsZW1lbnQud2lkZ2V0XS5odG1sO1xuICAgICAgICBjaHVuay5lbGVtZW50T3B0aW9ucyA9IGRhdGEuZWxlbWVudHNbZWxlbWVudC53aWRnZXRdLm9wdGlvbnMgfHwge307XG5cbiAgICAgICAgY29uc3QgY29udGVudEVsZW1lbnQgPSBuZXcgQ29udGVudEVsZW1lbnQoY2h1bmssIHRhcmdldC5kYXRhc2V0LmZyZWREcm9wem9uZSwgcGFyZW50LCBlbGVtZW50LnZhbHVlcywgKGVsZW1lbnQuc2V0dGluZ3MgfHwge30pKTtcblxuICAgICAgICBwcm9taXNlcy5wdXNoKGNvbnRlbnRFbGVtZW50LnJlbmRlcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5kenNbdGFyZ2V0LmRhdGFzZXQuZnJlZERyb3B6b25lXS5jaGlsZHJlbi5wdXNoKGNvbnRlbnRFbGVtZW50LndyYXBwZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5kenNbdGFyZ2V0LmRhdGFzZXQuZnJlZERyb3B6b25lXS5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmR6c1t0YXJnZXQuZGF0YXNldC5mcmVkRHJvcHpvbmVdLmNoaWxkcmVuLmluZGV4T2Yoc2libGluZyksIDAsIGNvbnRlbnRFbGVtZW50LndyYXBwZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9hZENoaWxkcmVuKGVsZW1lbnQuY2hpbGRyZW4sIGNvbnRlbnRFbGVtZW50LCBkYXRhLmVsZW1lbnRzLCB0cnVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnRnJlZEVsZW1lbnREcm9wJywge2RldGFpbDoge2ZyZWRFbDogY29udGVudEVsZW1lbnR9fSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGpzRWxlbWVudHMgPSBjb250ZW50RWxlbWVudC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtb24tZHJvcF0nKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqc0VsIG9mIGpzRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd1tqc0VsLmRhdGFzZXQuZnJlZE9uRHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tqc0VsLmRhdGFzZXQuZnJlZE9uRHJvcF0oanNFbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzaWJsaW5nLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlQmVnaW4nLCBjb250ZW50RWxlbWVudC53cmFwcGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGNvbnRlbnRFbGVtZW50LndyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL1V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ContentElement = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Drake = __webpack_require__(22);\n\nvar _Drake2 = _interopRequireDefault(_Drake);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _twig = __webpack_require__(40);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Utils = __webpack_require__(20);\n\nvar _mousetrap = __webpack_require__(43);\n\nvar _mousetrap2 = _interopRequireDefault(_mousetrap);\n\nvar _hoverintent = __webpack_require__(44);\n\nvar _hoverintent2 = _interopRequireDefault(_hoverintent);\n\nvar _ElementSettings = __webpack_require__(46);\n\nvar _ElementSettings2 = _interopRequireDefault(_ElementSettings);\n\nvar _PartialBlueprints = __webpack_require__(48);\n\nvar _PartialBlueprints2 = _interopRequireDefault(_PartialBlueprints);\n\nvar _elements = __webpack_require__(106);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ContentElement = exports.ContentElement = function () {\n    function ContentElement(el, dzName) {\n        var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n        var _this = this;\n\n        var content = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        var settings = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n        _classCallCheck(this, ContentElement);\n\n        this.config = _Config2.default.config;\n        this.el = el;\n        this.template = (0, _twig.twig)({ data: this.el.elementMarkup });\n        this.id = parseInt(this.el.dataset.fredElementId);\n        this.title = this.el.dataset.fredElementTitle;\n        this.wrapper = null;\n\n        this.setUpEditors();\n\n        this.render = this.render.bind(this);\n        this.moveUp = this.moveUp.bind(this);\n        this.moveDown = this.moveDown.bind(this);\n\n        this.parent = parent;\n        this.dzName = dzName;\n        this.options = JSON.parse(JSON.stringify(this.el.elementOptions || {}));\n        this.content = JSON.parse(JSON.stringify(content));\n\n        if (Array.isArray(this.content)) this.content = {};\n\n        this.settings = {};\n\n        if (!this.options.rteConfig) {\n            this.options.rteConfig = {};\n        }\n\n        if (this.options.settings) {\n            this.options.settings.forEach(function (setting) {\n                if (setting.group && setting.settings) {\n                    setting.settings.forEach(function (subSetting) {\n                        _this.settings[subSetting.name] = subSetting.value || '';\n                    });\n                } else {\n                    _this.settings[setting.name] = setting.value || '';\n                }\n            });\n        }\n\n        this.settings = _extends({}, this.settings, JSON.parse(JSON.stringify(settings)));\n\n        this.dzs = {};\n\n        this.inEditor = false;\n    }\n\n    _createClass(ContentElement, [{\n        key: 'setUpEditors',\n        value: function setUpEditors() {\n            this.editors = _Config2.default.editors;\n\n            this.iconEditor = this.config.iconEditor || 'IconEditor';\n            this.iconEditor = this.editors[this.iconEditor] || null;\n\n            this.imageEditor = this.config.imageEditor || 'ImageEditor';\n            this.imageEditor = this.editors[this.imageEditor] || null;\n        }\n    }, {\n        key: 'setEl',\n        value: function setEl(el) {\n            if (el.elementMarkup === undefined) {\n                this.el.elementMarkup = el;\n            } else {\n                this.el.elementMarkup = el.elementMarkup;\n            }\n\n            this.template = (0, _twig.twig)({ data: this.el.elementMarkup });\n        }\n    }, {\n        key: 'getContent',\n        value: function getContent() {\n            var _this2 = this;\n\n            var content = {\n                widget: this.id,\n                values: this.content,\n                settings: this.settings,\n                children: {}\n            };\n\n            var _loop = function _loop(dzName) {\n                if (_this2.dzs.hasOwnProperty(dzName)) {\n                    if (_this2.dzs[dzName].children.length > 0) {\n                        content.children[dzName] = [];\n\n                        _this2.dzs[dzName].children.forEach(function (child) {\n                            content.children[dzName].push(child.fredEl.getContent());\n                        });\n                    }\n                }\n            };\n\n            for (var dzName in this.dzs) {\n                _loop(dzName);\n            }\n\n            return content;\n        }\n    }, {\n        key: 'setWrapperActiveState',\n        value: function setWrapperActiveState(wrapper) {\n            var t = this;\n            (0, _hoverintent2.default)(wrapper,\n            //mouseover\n            function (e) {\n\n                var firstSet = false;\n\n                if (e.path) {\n                    e.path.forEach(function (el) {\n                        if (el.classList && el.classList.contains('fred--block')) {\n                            el.classList.add('fred--block-active');\n\n                            if (t.atTop(el)) {\n                                el.classList.add('fred--block-active_top');\n                            }\n\n                            if (firstSet === true) {\n                                el.classList.add('fred--block-active_parent');\n                            }\n\n                            if (firstSet === false && t.options.settings) {\n                                _mousetrap2.default.bind('mod+alt+s', function () {\n                                    _ElementSettings2.default.open(t);\n                                });\n                            }\n\n                            firstSet = true;\n                        }\n                    });\n                } else {\n                    var el = e.target.parentNode;\n                    while (el) {\n                        if (el.classList && el.classList.contains('fred--block')) {\n                            el.classList.add('fred--block-active');\n\n                            if (t.atTop(el)) {\n                                el.classList.add('fred--block-active_top');\n                            }\n\n                            if (firstSet === true) {\n                                el.classList.add('fred--block-active_parent');\n                            }\n\n                            firstSet = true;\n                        }\n\n                        el = el.parentNode;\n                    }\n                }\n            }, //mouseout\n            function (e) {\n                if (t.inEditor === false) {\n                    wrapper.classList.remove('fred--block-active');\n                    wrapper.classList.remove('fred--block-active_top');\n                    wrapper.classList.remove('fred--block-active_parent');\n\n                    var el = e.target.parentNode;\n                    var found = false;\n                    while (el) {\n                        if (el.classList && el.classList.contains('fred--block-active_parent')) {\n                            if (found === false) {\n                                el.classList.remove('fred--block-active_parent');\n                                found = true;\n                            }\n                        }\n\n                        el = el.parentNode;\n                    }\n\n                    if (e.target.hasChildNodes()) {\n                        var children = e.target.childNodes;\n\n                        for (var i = 0; i < children.length; i++) {\n                            if (children[i].classList && children[i].classList.contains('fred--block-active')) {\n                                children[i].classList.remove('fred--block-active');\n                            }\n                        }\n                    }\n\n                    _mousetrap2.default.unbind('mod+alt+s');\n                }\n            }).options({\n                sensitivity: 100,\n                timeout: 250,\n                interval: 250\n            });\n        }\n    }, {\n        key: 'atTop',\n        value: function atTop(element) {\n            this.toTop = 0;\n\n            while (element) {\n                this.toTop += element.offsetTop - element.scrollTop + element.clientTop;\n                element = element.offsetParent;\n            }\n\n            return this.toTop < 38;\n        }\n    }, {\n        key: 'moveDown',\n        value: function moveDown() {\n            var _this3 = this;\n\n            var moveDownRoot = function moveDownRoot() {\n                _this3.wrapper.parentElement.insertBefore(_this3.wrapper.nextElementSibling, _this3.wrapper);\n            };\n\n            var moveDownToDropzone = function moveDownToDropzone(target, dzName) {\n                target.unshiftElementToDropZone(dzName, _this3);\n            };\n\n            var moveDownInDropzone = function moveDownInDropzone(fredEl, index) {\n                fredEl.parent.dzs[fredEl.dzName].children[index + 1].insertAdjacentElement('afterend', fredEl.wrapper);\n                fredEl.parent.dzs[fredEl.dzName].children[index] = fredEl.parent.dzs[fredEl.dzName].children.splice(index + 1, 1, fredEl.parent.dzs[fredEl.dzName].children[index])[0];\n            };\n\n            var moveDownFromDropzone = function moveDownFromDropzone() {\n                if (!_this3.parent.parent) {\n                    if (!_this3.parent.wrapper.nextElementSibling) {\n                        _this3.dzName = _this3.parent.wrapper.parentElement.dataset.fredDropzone;\n                        _this3.parent.wrapper.parentElement.appendChild(_this3.wrapper);\n                        _this3.parent = null;\n                    } else {\n                        _this3.dzName = _this3.parent.wrapper.parentElement.dataset.fredDropzone;\n                        _this3.parent.wrapper.parentElement.insertBefore(_this3.wrapper, _this3.parent.wrapper.nextElementSibling);\n                        _this3.parent = null;\n                    }\n                } else {\n                    var parentPosition = _this3.parent.parent.dzs[_this3.parent.dzName].children.indexOf(_this3.parent.wrapper);\n                    if (parentPosition !== -1) {\n                        if (_this3.parent.parent.dzs[_this3.parent.dzName].children.length - 1 === parentPosition) {\n                            _this3.parent.parent.addElementToDropZone(_this3.parent.dzName, _this3);\n                        } else {\n                            _this3.parent.parent.insertBeforeElementToDropZone(_this3.parent.dzName, _this3.parent.parent.dzs[_this3.parent.dzName].children[parentPosition + 1].fredEl, _this3);\n                        }\n                    }\n                }\n            };\n\n            if (!this.parent) {\n                if (this.wrapper.nextElementSibling) {\n                    var dzList = Object.keys(this.wrapper.nextElementSibling.fredEl.dzs);\n                    if (dzList.length > 0) {\n                        moveDownToDropzone(this.wrapper.nextElementSibling.fredEl, dzList[0]);\n                    } else {\n                        moveDownRoot();\n                    }\n                }\n            } else {\n                var carry = false;\n\n                for (var dzName in this.parent.dzs) {\n                    if (this.parent.dzs.hasOwnProperty(dzName)) {\n                        if (carry === true) {\n                            carry = false;\n                            moveDownToDropzone(this.parent, dzName);\n                            break;\n                        }\n\n                        if (dzName !== this.dzName) continue;\n\n                        var index = this.parent.dzs[dzName].children.indexOf(this.wrapper);\n                        if (index !== -1) {\n                            var nextChild = this.parent.dzs[dzName].children[index + 1];\n                            if (nextChild) {\n                                var _dzList = Object.keys(nextChild.fredEl.dzs);\n                                if (_dzList.length > 0) {\n                                    this.parent.dzs[dzName].children.splice(index, 1);\n                                    moveDownToDropzone(nextChild.fredEl, _dzList[0]);\n                                } else {\n                                    moveDownInDropzone(this, index);\n                                }\n                            } else {\n                                this.parent.dzs[dzName].children.pop();\n                                carry = true;\n                            }\n                        }\n                    }\n                }\n\n                if (carry === true) {\n                    moveDownFromDropzone();\n                }\n            }\n        }\n    }, {\n        key: 'moveUp',\n        value: function moveUp() {\n            var _this4 = this;\n\n            var moveUpRoot = function moveUpRoot() {\n                _this4.wrapper.parentElement.insertBefore(_this4.wrapper, _this4.wrapper.previousElementSibling);\n            };\n\n            var moveUpToDropzone = function moveUpToDropzone(target, dzName) {\n                target.addElementToDropZone(dzName, _this4);\n            };\n\n            var moveUpFromDropzone = function moveUpFromDropzone() {\n                if (!_this4.parent.parent) {\n                    _this4.dzName = _this4.parent.wrapper.parentElement.dataset.fredDropzone;\n                    _this4.parent.wrapper.parentElement.insertBefore(_this4.wrapper, _this4.parent.wrapper);\n                    _this4.parent = null;\n                } else {\n                    var parentPosition = _this4.parent.parent.dzs[_this4.parent.dzName].children.indexOf(_this4.parent.wrapper);\n                    if (parentPosition !== -1) {\n                        if (0 === parentPosition) {\n                            _this4.parent.parent.unshiftElementToDropZone(_this4.parent.dzName, _this4);\n                        } else {\n                            _this4.parent.parent.insertBeforeElementToDropZone(_this4.parent.dzName, _this4.parent, _this4);\n                        }\n                    }\n                }\n            };\n\n            var moveUpInDropzone = function moveUpInDropzone(fredEl, index) {\n                fredEl.parent.dzs[fredEl.dzName].children[index - 1].insertAdjacentElement('beforebegin', fredEl.wrapper);\n                fredEl.parent.dzs[fredEl.dzName].children[index - 1] = fredEl.parent.dzs[fredEl.dzName].children.splice(index, 1, fredEl.parent.dzs[fredEl.dzName].children[index - 1])[0];\n            };\n\n            if (!this.parent) {\n                if (this.wrapper.previousElementSibling) {\n                    var dzList = Object.keys(this.wrapper.previousElementSibling.fredEl.dzs);\n                    if (dzList.length > 0) {\n                        moveUpToDropzone(this.wrapper.previousElementSibling.fredEl, dzList[dzList.length - 1]);\n                    } else {\n                        moveUpRoot();\n                    }\n                }\n            } else {\n                var carry = false;\n                var dropZones = Object.keys(this.parent.dzs);\n                for (var i = dropZones.length; i--;) {\n                    var dzName = dropZones[i];\n\n                    if (carry === true) {\n                        carry = false;\n                        moveUpToDropzone(this.parent, dzName);\n                        break;\n                    }\n\n                    if (dzName !== this.dzName) continue;\n\n                    var index = this.parent.dzs[dzName].children.indexOf(this.wrapper);\n                    if (index !== -1) {\n                        var prevChild = this.parent.dzs[dzName].children[index - 1];\n                        if (prevChild) {\n                            var _dzList2 = Object.keys(prevChild.fredEl.dzs);\n                            if (_dzList2.length > 0) {\n                                this.parent.dzs[dzName].children.splice(index, 1);\n                                moveUpToDropzone(prevChild.fredEl, _dzList2[_dzList2.length - 1]);\n                            } else {\n                                moveUpInDropzone(this, index);\n                            }\n                        } else {\n                            this.parent.dzs[dzName].children.shift();\n                            carry = true;\n                        }\n                    }\n                }\n\n                if (carry === true) {\n                    moveUpFromDropzone();\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var wrapper = (0, _Elements.div)(['fred--block']);\n            wrapper.fredEl = this;\n\n            this.setWrapperActiveState(wrapper);\n\n            var toolbar = (0, _Elements.div)(['fred--toolbar', 'handle']);\n            var moveHandle = (0, _Elements.div)(['fred--toolbar-grip', 'handle']);\n            var duplicate = (0, _Elements.button)('', 'fred.fe.content.duplicate', ['fred--duplicate-icon'], this.duplicate.bind(this));\n            var trashHandle = (0, _Elements.button)('', 'fred.fe.content.delete', ['fred--trash'], this.remove.bind(this));\n\n            toolbar.appendChild(moveHandle);\n\n            var partialBlueprint = (0, _Elements.button)('', 'fred.fe.content.partial_blueprint', ['fred--blueprint'], function () {\n                _PartialBlueprints2.default.open(_this5);\n            });\n            toolbar.appendChild(partialBlueprint);\n\n            if (this.options.settings) {\n                var settings = (0, _Elements.button)('', 'fred.fe.content.settings', ['fred--element-settings'], function () {\n                    _ElementSettings2.default.open(_this5);\n                });\n                toolbar.appendChild(settings);\n            }\n\n            var positionGroup = (0, _Elements.div)(['fred--position-group']);\n\n            var moveUp = (0, _Elements.button)('', 'fred.fe.content.move_up', ['fred--position-up'], this.moveUp);\n            var moveDown = (0, _Elements.button)('', 'fred.fe.content.move_down', ['fred--position-down'], this.moveDown);\n\n            positionGroup.appendChild(moveUp);\n            positionGroup.appendChild(moveDown);\n\n            toolbar.appendChild(duplicate);\n            toolbar.appendChild(trashHandle);\n            toolbar.appendChild(positionGroup);\n\n            wrapper.appendChild(toolbar);\n\n            var content = (0, _Elements.div)(['fred--block_content']);\n            content.dataset.fredElementId = this.el.dataset.fredElementId;\n            content.dataset.fredElementTitle = this.title;\n\n            return this.templateRender().then(function (html) {\n                content.innerHTML = html;\n\n                (0, _Utils.applyScripts)(content);\n\n                var blockClasses = content.querySelectorAll('[data-fred-block-class]');\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = blockClasses[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var blockClass = _step.value;\n\n                        var classes = blockClass.dataset.fredBlockClass.split(' ').filter(function (e) {\n                            return e;\n                        });\n\n                        if (classes.length > 0) {\n                            var _wrapper$classList;\n\n                            (_wrapper$classList = wrapper.classList).add.apply(_wrapper$classList, _toConsumableArray(classes));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                _this5.initElements(wrapper, content);\n                _this5.initDropZones(wrapper, content);\n\n                wrapper.appendChild(content);\n\n                if (_this5.wrapper !== null) {\n                    _this5.wrapper.replaceWith(wrapper);\n                }\n\n                _this5.wrapper = wrapper;\n\n                return wrapper;\n            });\n        }\n    }, {\n        key: 'initDropZones',\n        value: function initDropZones(wrapper, content) {\n            var _this6 = this;\n\n            var dzs = content.querySelectorAll('[data-fred-dropzone]');\n\n            var prev = null;\n\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                var _loop2 = function _loop2() {\n                    var dz = _step2.value;\n\n                    if (prev === null) {\n                        prev = dz;\n                        dz.fredEl = _this6;\n                        if (!_this6.dzs[dz.dataset.fredDropzone]) {\n                            _this6.dzs[dz.dataset.fredDropzone] = {\n                                el: dz,\n                                children: []\n                            };\n                        } else {\n                            _this6.dzs[dz.dataset.fredDropzone].el = dz;\n                            _this6.dzs[dz.dataset.fredDropzone].children.forEach(function (child) {\n                                _this6.dzs[dz.dataset.fredDropzone].el.appendChild(child);\n                            });\n                        }\n                    } else {\n                        if (!prev.contains(dz)) {\n                            dz.fredEl = _this6;\n                            prev = dz;\n                            if (!_this6.dzs[dz.dataset.fredDropzone]) {\n                                _this6.dzs[dz.dataset.fredDropzone] = {\n                                    el: dz,\n                                    children: []\n                                };\n                            } else {\n                                _this6.dzs[dz.dataset.fredDropzone].el = dz;\n                                _this6.dzs[dz.dataset.fredDropzone].children.forEach(function (child) {\n                                    _this6.dzs[dz.dataset.fredDropzone].el.appendChild(child);\n                                });\n                            }\n                        }\n                    }\n                };\n\n                for (var _iterator2 = dzs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    _loop2();\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'onRTEInitFactory',\n        value: function onRTEInitFactory(el) {\n            return function () {\n                el.rteInited = true;\n            };\n        }\n    }, {\n        key: 'onRTEContentChangeFactory',\n        value: function onRTEContentChangeFactory(el, content) {\n            var _this7 = this;\n\n            return function (value) {\n                _this7.setContentValue(el, value, content);\n            };\n        }\n    }, {\n        key: 'onRTEFocusFactory',\n        value: function onRTEFocusFactory(wrapper, el) {\n            var _this8 = this;\n\n            return function () {\n                _this8.inEditor = true;\n            };\n        }\n    }, {\n        key: 'onRTEBlurFactory',\n        value: function onRTEBlurFactory(wrapper, el) {\n            var _this9 = this;\n\n            return function () {\n                _this9.inEditor = false;\n                wrapper.classList.remove('fred--block-active');\n                wrapper.classList.remove('fred--block-active_top');\n                wrapper.classList.remove('fred--block-active_parent');\n            };\n        }\n    }, {\n        key: 'setContentValue',\n        value: function setContentValue(el, value, content) {\n            if (!this.content[el.dataset.fredName]) this.content[el.dataset.fredName] = {};\n            if (!this.content[el.dataset.fredName]._raw) this.content[el.dataset.fredName]._raw = {};\n\n            this.content[el.dataset.fredName]._raw._value = value;\n\n            this.setValueForBindElements(content, el.dataset.fredName, value);\n\n            if (el.dataset.fredTarget) {\n                _EE2.default.emit('fred-page-setting-change', el.dataset.fredTarget, this.content[el.dataset.fredName]._raw._value, el);\n            }\n        }\n    }, {\n        key: 'setValueForBindElements',\n        value: function setValueForBindElements(wrapper, name, value) {\n            var bindElements = wrapper.querySelectorAll('[data-fred-bind=\"' + name + '\"]');\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = bindElements[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var bindEl = _step3.value;\n\n                    switch (bindEl.nodeName.toLowerCase()) {\n                        case 'i':\n                            bindEl.className = value;\n                            break;\n                        case 'img':\n                            bindEl.setAttribute('src', value);\n                            break;\n                        default:\n                            bindEl.innerHTML = value;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'setContentElValue',\n        value: function setContentElValue(el, content) {\n            var _this10 = this;\n\n            var onlyElValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n            var addListeners = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n            switch (el.nodeName.toLowerCase()) {\n                case 'i':\n                    if (this.content[el.dataset.fredName]._raw._value !== undefined) {\n                        el.className = this.content[el.dataset.fredName]._raw._value;\n                    } else {\n                        if (!onlyElValue) {\n                            this.content[el.dataset.fredName]._raw._value = el.className;\n                        }\n                    }\n\n                    this.setValueForBindElements(content, el.dataset.fredName, this.content[el.dataset.fredName]._raw._value);\n\n                    if (addListeners) {\n                        el.addEventListener('click', function (e) {\n                            e.preventDefault();\n                            if (_this10.iconEditor !== null) {\n                                new _this10.iconEditor(el);\n                            } else {\n                                console.log('Editor ' + _this10.config.iconEditor + ' not found');\n                            }\n                        });\n                    }\n\n                    break;\n                case 'img':\n                    if (this.content[el.dataset.fredName]._raw._value !== undefined) {\n                        el.setAttribute('src', this.content[el.dataset.fredName]._raw._value);\n                    } else {\n                        if (!onlyElValue) {\n                            this.content[el.dataset.fredName]._raw._value = el.getAttribute('src');\n                        }\n                    }\n\n                    this.setValueForBindElements(content, el.dataset.fredName, this.content[el.dataset.fredName]._raw._value);\n\n                    if (addListeners) {\n                        el.addEventListener('click', function (e) {\n                            e.preventDefault();\n                            if (_this10.imageEditor !== null) {\n                                new _this10.imageEditor(el);\n                            } else {\n                                console.log('Editor ' + _this10.config.imageEditor + ' not found');\n                            }\n                        });\n                    }\n\n                    break;\n                default:\n                    if (this.content[el.dataset.fredName]._raw._value !== undefined) {\n                        el.innerHTML = this.content[el.dataset.fredName]._raw._value;\n                    } else {\n                        if (!onlyElValue) {\n                            this.content[el.dataset.fredName]._raw._value = el.innerHTML;\n                        }\n                    }\n\n                    this.setValueForBindElements(content, el.dataset.fredName, this.content[el.dataset.fredName]._raw._value);\n            }\n\n            if (el.dataset.fredAttrs) {\n                var attrs = el.dataset.fredAttrs.split(',');\n                attrs.forEach(function (attr) {\n                    if (_this10.content[el.dataset.fredName]._raw[attr] !== undefined) {\n                        el.setAttribute(attr, _this10.content[el.dataset.fredName]._raw[attr]);\n                    } else {\n                        if (onlyElValue) {\n                            _this10.content[el.dataset.fredName]._raw[attr] = el.getAttribute(attr);\n                        }\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'initElements',\n        value: function initElements(wrapper, content) {\n            var _this11 = this;\n\n            var fredElements = content.querySelectorAll('[data-fred-name]');\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                var _loop3 = function _loop3() {\n                    var el = _step4.value;\n\n                    el.fredEl = _this11;\n\n                    var observer = new MutationObserver(function (mutations) {\n                        mutations.forEach(function (mutation) {\n                            if (mutation.type === 'attributes') {\n                                if (el.nodeName.toLowerCase() === 'img' && mutation.attributeName === 'src') {\n                                    _this11.setContentValue(el, el.getAttribute(mutation.attributeName), content);\n                                    return;\n                                }\n\n                                if (el.nodeName.toLowerCase() === 'i' && mutation.attributeName === 'class') {\n                                    _this11.setContentValue(el, el.className, content);\n                                    return;\n                                }\n\n                                if (el.dataset.fredAttrs) {\n                                    var attrs = el.dataset.fredAttrs.split(',');\n                                    if (attrs.indexOf(mutation.attributeName) === -1) return;\n\n                                    if (!_this11.content[el.dataset.fredName]) _this11.content[el.dataset.fredName] = {};\n                                    if (!_this11.content[el.dataset.fredName]._raw) _this11.content[el.dataset.fredName]._raw = {};\n\n                                    _this11.content[el.dataset.fredName]._raw[mutation.attributeName] = el.getAttribute(mutation.attributeName);\n                                }\n                            }\n                        });\n                    });\n\n                    observer.observe(el, {\n                        attributes: true,\n                        characterData: true,\n                        subtree: true\n                    });\n\n                    if (!el.dataset.fredRte || el.dataset.fredRte === 'false' || !el.rteInited) {\n                        el.addEventListener('input', function () {\n                            _this11.setContentValue(el, el.innerHTML, content);\n                        });\n                    }\n\n                    if (!!el.dataset.fredRte && el.dataset.fredRte !== 'false') {\n                        if (_this11.config.rte && _Config2.default.rtes[_this11.config.rte]) {\n                            var rteConfig = {};\n\n                            if (_this11.options.rteConfig.default) {\n                                rteConfig = _this11.options.rteConfig.default;\n                            }\n\n                            if (el.dataset.fredRteConfig && _this11.options.rteConfig[el.dataset.fredRteConfig]) {\n                                rteConfig = _this11.options.rteConfig[el.dataset.fredRteConfig];\n                            }\n\n                            _Config2.default.rtes[_this11.config.rte](el, rteConfig, _this11.onRTEInitFactory(el), _this11.onRTEContentChangeFactory(el, content), _this11.onRTEFocusFactory(wrapper, el), _this11.onRTEBlurFactory(wrapper, el));\n                        }\n                    }\n\n                    if (!_this11.content[el.dataset.fredName]) _this11.content[el.dataset.fredName] = {};\n                    if (!_this11.content[el.dataset.fredName]._raw) _this11.content[el.dataset.fredName]._raw = {};\n\n                    if (el.dataset.fredTarget) {\n                        if (_Config2.default.pageSettings[el.dataset.fredTarget]) {\n                            _this11.content[el.dataset.fredName]._raw._value = _Config2.default.pageSettings[el.dataset.fredTarget];\n                        }\n                    }\n\n                    _this11.setContentElValue(el, content);\n                };\n\n                for (var _iterator4 = fredElements[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    _loop3();\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'setElValue',\n        value: function setElValue(el, value) {\n            if (!this.content[el.dataset.fredName]) this.content[el.dataset.fredName] = {};\n            if (!this.content[el.dataset.fredName]._raw) this.content[el.dataset.fredName]._raw = {};\n\n            this.content[el.dataset.fredName]._raw._value = value;\n\n            switch (el.nodeName.toLowerCase()) {\n                case 'i':\n                    el.className = value;\n                    break;\n                case 'img':\n                    el.setAttribute('src', value);\n                    break;\n                default:\n                    el.innerHTML = value;\n            }\n        }\n    }, {\n        key: 'templateRender',\n        value: function templateRender() {\n            var parseModx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            if (this.options.remote === true) {\n                return this.remoteTemplateRender(parseModx);\n            }\n\n            return Promise.resolve(this.localTemplateRender());\n        }\n    }, {\n        key: 'localTemplateRender',\n        value: function localTemplateRender() {\n            return this.template.render(this.settings);\n        }\n    }, {\n        key: 'remoteTemplateRender',\n        value: function remoteTemplateRender() {\n            var _this12 = this;\n\n            var parseModx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            return (0, _elements.renderElement)(this.id, this.settings, parseModx).then(function (json) {\n                _this12.setEl(json.data.html);\n                return json.data.html;\n            }).catch(function (err) {\n                _EE2.default.emit('fred-loading', err.message);\n                return '';\n            });\n        }\n    }, {\n        key: 'cleanRender',\n        value: function cleanRender() {\n            var _this13 = this;\n\n            var parseModx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            var handleLinks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            var element = (0, _Elements.div)();\n\n            return this.templateRender(parseModx).then(function (html) {\n                element.innerHTML = html;\n\n                var noRenderElements = element.querySelectorAll('[data-fred-render=\"false\"]');\n                var _iteratorNormalCompletion5 = true;\n                var _didIteratorError5 = false;\n                var _iteratorError5 = undefined;\n\n                try {\n                    for (var _iterator5 = noRenderElements[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                        var noRenderElement = _step5.value;\n\n                        noRenderElement.remove();\n                    }\n                } catch (err) {\n                    _didIteratorError5 = true;\n                    _iteratorError5 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                            _iterator5.return();\n                        }\n                    } finally {\n                        if (_didIteratorError5) {\n                            throw _iteratorError5;\n                        }\n                    }\n                }\n\n                var fredElements = element.querySelectorAll('[data-fred-name]');\n                var _iteratorNormalCompletion6 = true;\n                var _didIteratorError6 = false;\n                var _iteratorError6 = undefined;\n\n                try {\n                    for (var _iterator6 = fredElements[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                        var _el = _step6.value;\n\n                        _this13.setContentElValue(_el, element, true, false);\n\n                        _el.removeAttribute('contenteditable');\n                        _el.removeAttribute('data-fred-name');\n                        _el.removeAttribute('data-fred-rte');\n                        _el.removeAttribute('data-fred-rte-config');\n                        _el.removeAttribute('data-fred-target');\n                        _el.removeAttribute('data-fred-attrs');\n                        _el.removeAttribute('data-fred-media-source');\n                        _el.removeAttribute('data-fred-image-media-source');\n                    }\n                } catch (err) {\n                    _didIteratorError6 = true;\n                    _iteratorError6 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                            _iterator6.return();\n                        }\n                    } finally {\n                        if (_didIteratorError6) {\n                            throw _iteratorError6;\n                        }\n                    }\n                }\n\n                if (handleLinks === true) {\n                    var fredLinks = element.querySelectorAll('[data-fred-link-type]');\n                    var _iteratorNormalCompletion7 = true;\n                    var _didIteratorError7 = false;\n                    var _iteratorError7 = undefined;\n\n                    try {\n                        for (var _iterator7 = fredLinks[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                            var fredLink = _step7.value;\n\n                            var linkType = fredLink.dataset.fredLinkType;\n                            fredLink.removeAttribute('data-fred-link-type');\n\n                            if (linkType === 'page') {\n                                var resourceId = parseInt(fredLink.dataset.fredLinkPage);\n                                var anchor = fredLink.dataset.fredLinkAnchor ? '#' + fredLink.dataset.fredLinkAnchor : '';\n\n                                if (resourceId > 0) {\n                                    fredLink.setAttribute('href', '[[~' + resourceId + ']]' + anchor);\n                                } else {\n                                    fredLink.setAttribute('href', anchor);\n                                }\n\n                                fredLink.removeAttribute('data-fred-link-page');\n                                fredLink.removeAttribute('data-fred-link-anchor');\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError7 = true;\n                        _iteratorError7 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                                _iterator7.return();\n                            }\n                        } finally {\n                            if (_didIteratorError7) {\n                                throw _iteratorError7;\n                            }\n                        }\n                    }\n                }\n\n                var blockClasses = element.querySelectorAll('[data-fred-block-class]');\n                var _iteratorNormalCompletion8 = true;\n                var _didIteratorError8 = false;\n                var _iteratorError8 = undefined;\n\n                try {\n                    for (var _iterator8 = blockClasses[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                        var blockClass = _step8.value;\n\n                        var classes = blockClass.dataset.fredBlockClass.split(' ').filter(function (e) {\n                            return e;\n                        });\n\n                        if (classes.length > 0) {\n                            var _blockClass$classList;\n\n                            (_blockClass$classList = blockClass.classList).add.apply(_blockClass$classList, _toConsumableArray(classes));\n                        }\n\n                        blockClass.removeAttribute('data-fred-block-class');\n                    }\n                } catch (err) {\n                    _didIteratorError8 = true;\n                    _iteratorError8 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion8 && _iterator8.return) {\n                            _iterator8.return();\n                        }\n                    } finally {\n                        if (_didIteratorError8) {\n                            throw _iteratorError8;\n                        }\n                    }\n                }\n\n                var fredClasses = element.querySelectorAll('[data-fred-class]');\n                var _iteratorNormalCompletion9 = true;\n                var _didIteratorError9 = false;\n                var _iteratorError9 = undefined;\n\n                try {\n                    for (var _iterator9 = fredClasses[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n                        var fredClass = _step9.value;\n\n                        var _classes = fredClass.dataset.fredClass.split(' ').filter(function (e) {\n                            return e;\n                        });\n\n                        if (_classes.length > 0) {\n                            var _fredClass$classList;\n\n                            (_fredClass$classList = fredClass.classList).add.apply(_fredClass$classList, _toConsumableArray(_classes));\n                        }\n\n                        fredClass.removeAttribute('data-fred-class');\n                    }\n                } catch (err) {\n                    _didIteratorError9 = true;\n                    _iteratorError9 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion9 && _iterator9.return) {\n                            _iterator9.return();\n                        }\n                    } finally {\n                        if (_didIteratorError9) {\n                            throw _iteratorError9;\n                        }\n                    }\n                }\n\n                var bindElements = element.querySelectorAll('[data-fred-bind]');\n                var _iteratorNormalCompletion10 = true;\n                var _didIteratorError10 = false;\n                var _iteratorError10 = undefined;\n\n                try {\n                    for (var _iterator10 = bindElements[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n                        var bindEl = _step10.value;\n\n                        bindEl.removeAttribute('data-fred-bind');\n                    }\n                } catch (err) {\n                    _didIteratorError10 = true;\n                    _iteratorError10 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion10 && _iterator10.return) {\n                            _iterator10.return();\n                        }\n                    } finally {\n                        if (_didIteratorError10) {\n                            throw _iteratorError10;\n                        }\n                    }\n                }\n\n                var fredOnDrop = element.querySelectorAll('[data-fred-on-drop]');\n                var _iteratorNormalCompletion11 = true;\n                var _didIteratorError11 = false;\n                var _iteratorError11 = undefined;\n\n                try {\n                    for (var _iterator11 = fredOnDrop[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n                        var onDrop = _step11.value;\n\n                        onDrop.removeAttribute('data-fred-on-drop');\n                    }\n                } catch (err) {\n                    _didIteratorError11 = true;\n                    _iteratorError11 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion11 && _iterator11.return) {\n                            _iterator11.return();\n                        }\n                    } finally {\n                        if (_didIteratorError11) {\n                            throw _iteratorError11;\n                        }\n                    }\n                }\n\n                var fredOnSettingChange = element.querySelectorAll('[data-fred-on-setting-change]');\n                var _iteratorNormalCompletion12 = true;\n                var _didIteratorError12 = false;\n                var _iteratorError12 = undefined;\n\n                try {\n                    for (var _iterator12 = fredOnSettingChange[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n                        var onSettingChange = _step12.value;\n\n                        onSettingChange.removeAttribute('data-fred-on-setting-change');\n                    }\n                } catch (err) {\n                    _didIteratorError12 = true;\n                    _iteratorError12 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion12 && _iterator12.return) {\n                            _iterator12.return();\n                        }\n                    } finally {\n                        if (_didIteratorError12) {\n                            throw _iteratorError12;\n                        }\n                    }\n                }\n\n                var dzPromises = [];\n\n                for (var dzName in _this13.dzs) {\n                    if (_this13.dzs.hasOwnProperty(dzName)) {\n                        (function () {\n                            var dzEl = element.querySelector('[data-fred-dropzone=\"' + dzName + '\"]');\n                            if (dzEl) {\n                                dzEl.removeAttribute('data-fred-dropzone');\n\n                                if (_this13.dzs[dzName].children.length > 0) {\n\n                                    var cleanedDropZoneContent = '';\n                                    var childPromises = [];\n\n                                    _this13.dzs[dzName].children.forEach(function (child) {\n                                        childPromises.push(child.fredEl.cleanRender(parseModx, handleLinks));\n                                    });\n\n                                    dzPromises.push(Promise.all(childPromises).then(function (values) {\n                                        values.forEach(function (childEl) {\n                                            cleanedDropZoneContent += childEl.innerHTML;\n                                        });\n\n                                        dzEl.innerHTML = cleanedDropZoneContent;\n                                    }));\n                                }\n                            }\n                        })();\n                    }\n                }\n\n                return Promise.all(dzPromises).then(function () {\n                    return element;\n                });\n            });\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.parent) {\n                var index = this.parent.dzs[this.dzName].children.indexOf(this.wrapper);\n                if (index > -1) {\n                    this.parent.dzs[this.dzName].children.splice(index, 1);\n                }\n            }\n\n            this.wrapper.remove();\n        }\n    }, {\n        key: 'duplicateDropZones',\n        value: function duplicateDropZones(dzs) {\n            var _this14 = this;\n\n            var _loop4 = function _loop4(dzName) {\n                if (dzs.hasOwnProperty(dzName)) {\n                    dzs[dzName].children.forEach(function (child) {\n                        if (_this14.dzs[dzName]) {\n                            var clonedChild = new ContentElement(child.fredEl.el, dzName, _this14, child.fredEl.content, child.fredEl.settings);\n                            clonedChild.render().then(function () {\n                                _this14.addElementToDropZone(dzName, clonedChild);\n\n                                clonedChild.duplicateDropZones(child.fredEl.dzs);\n                            });\n                        }\n                    });\n                }\n            };\n\n            for (var dzName in dzs) {\n                _loop4(dzName);\n            }\n        }\n    }, {\n        key: 'duplicate',\n        value: function duplicate() {\n            var _this15 = this;\n\n            var clone = new ContentElement(this.el, this.dzName, this.parent, this.content, this.settings);\n            clone.render().then(function () {\n                clone.duplicateDropZones(_this15.dzs);\n\n                if (_this15.wrapper.nextSibling === null) {\n                    _this15.wrapper.parentNode.appendChild(clone.wrapper);\n                } else {\n                    _this15.wrapper.parentNode.insertBefore(clone.wrapper, _this15.wrapper.nextSibling);\n                }\n\n                if (_this15.parent) {\n                    var index = _this15.parent.dzs[_this15.dzName].children.indexOf(_this15.wrapper);\n                    if (index > -1) {\n                        _this15.parent.dzs[_this15.dzName].children.splice(index + 1, 0, clone.wrapper);\n                    }\n                }\n\n                _Drake2.default.reloadContainers();\n            });\n        }\n    }, {\n        key: 'addElementToDropZone',\n        value: function addElementToDropZone(zoneName, element) {\n            if (!this.dzs[zoneName]) return false;\n            element.dzName = zoneName;\n            element.parent = this;\n\n            this.dzs[zoneName].children.push(element.wrapper);\n            this.dzs[zoneName].el.appendChild(element.wrapper);\n\n            return true;\n        }\n    }, {\n        key: 'unshiftElementToDropZone',\n        value: function unshiftElementToDropZone(zoneName, element) {\n            if (!this.dzs[zoneName]) return false;\n            element.dzName = zoneName;\n            element.parent = this;\n\n            this.dzs[zoneName].children.unshift(element.wrapper);\n\n            if (this.dzs[zoneName].el.firstElementChild) {\n                this.dzs[zoneName].el.insertBefore(element.wrapper, this.dzs[zoneName].el.firstElementChild);\n            } else {\n                this.dzs[zoneName].el.appendChild(element.wrapper);\n            }\n\n            return true;\n        }\n    }, {\n        key: 'insertBeforeElementToDropZone',\n        value: function insertBeforeElementToDropZone(zoneName, before, element) {\n            if (!this.dzs[zoneName]) return false;\n            element.dzName = zoneName;\n            element.parent = this;\n\n            this.dzs[zoneName].children.splice(this.dzs[zoneName].children.indexOf(before.wrapper), 0, element.wrapper);\n            before.wrapper.insertAdjacentElement('beforebegin', element.wrapper);\n        }\n    }]);\n\n    return ContentElement;\n}();\n\nexports.default = ContentElement;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9FbGVtZW50cy9Db250ZW50RWxlbWVudC5qcz83MzlhIl0sIm5hbWVzIjpbIkNvbnRlbnRFbGVtZW50IiwiZWwiLCJkek5hbWUiLCJwYXJlbnQiLCJjb250ZW50Iiwic2V0dGluZ3MiLCJjb25maWciLCJ0ZW1wbGF0ZSIsImRhdGEiLCJlbGVtZW50TWFya3VwIiwiaWQiLCJwYXJzZUludCIsImRhdGFzZXQiLCJmcmVkRWxlbWVudElkIiwidGl0bGUiLCJmcmVkRWxlbWVudFRpdGxlIiwid3JhcHBlciIsInNldFVwRWRpdG9ycyIsInJlbmRlciIsImJpbmQiLCJtb3ZlVXAiLCJtb3ZlRG93biIsIm9wdGlvbnMiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJlbGVtZW50T3B0aW9ucyIsIkFycmF5IiwiaXNBcnJheSIsInJ0ZUNvbmZpZyIsImZvckVhY2giLCJzZXR0aW5nIiwiZ3JvdXAiLCJzdWJTZXR0aW5nIiwibmFtZSIsInZhbHVlIiwiZHpzIiwiaW5FZGl0b3IiLCJlZGl0b3JzIiwiaWNvbkVkaXRvciIsImltYWdlRWRpdG9yIiwidW5kZWZpbmVkIiwid2lkZ2V0IiwidmFsdWVzIiwiY2hpbGRyZW4iLCJoYXNPd25Qcm9wZXJ0eSIsImxlbmd0aCIsInB1c2giLCJjaGlsZCIsImZyZWRFbCIsImdldENvbnRlbnQiLCJ0IiwiZSIsImZpcnN0U2V0IiwicGF0aCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwiYXRUb3AiLCJvcGVuIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsInJlbW92ZSIsImZvdW5kIiwiaGFzQ2hpbGROb2RlcyIsImNoaWxkTm9kZXMiLCJpIiwidW5iaW5kIiwic2Vuc2l0aXZpdHkiLCJ0aW1lb3V0IiwiaW50ZXJ2YWwiLCJlbGVtZW50IiwidG9Ub3AiLCJvZmZzZXRUb3AiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJvZmZzZXRQYXJlbnQiLCJtb3ZlRG93blJvb3QiLCJwYXJlbnRFbGVtZW50IiwiaW5zZXJ0QmVmb3JlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibW92ZURvd25Ub0Ryb3B6b25lIiwidW5zaGlmdEVsZW1lbnRUb0Ryb3Bab25lIiwibW92ZURvd25JbkRyb3B6b25lIiwiaW5kZXgiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJzcGxpY2UiLCJtb3ZlRG93bkZyb21Ecm9wem9uZSIsImZyZWREcm9wem9uZSIsImFwcGVuZENoaWxkIiwicGFyZW50UG9zaXRpb24iLCJpbmRleE9mIiwiYWRkRWxlbWVudFRvRHJvcFpvbmUiLCJpbnNlcnRCZWZvcmVFbGVtZW50VG9Ecm9wWm9uZSIsImR6TGlzdCIsIk9iamVjdCIsImtleXMiLCJjYXJyeSIsIm5leHRDaGlsZCIsInBvcCIsIm1vdmVVcFJvb3QiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwibW92ZVVwVG9Ecm9wem9uZSIsIm1vdmVVcEZyb21Ecm9wem9uZSIsIm1vdmVVcEluRHJvcHpvbmUiLCJkcm9wWm9uZXMiLCJwcmV2Q2hpbGQiLCJzaGlmdCIsInNldFdyYXBwZXJBY3RpdmVTdGF0ZSIsInRvb2xiYXIiLCJtb3ZlSGFuZGxlIiwiZHVwbGljYXRlIiwidHJhc2hIYW5kbGUiLCJwYXJ0aWFsQmx1ZXByaW50IiwicG9zaXRpb25Hcm91cCIsInRlbXBsYXRlUmVuZGVyIiwidGhlbiIsImlubmVySFRNTCIsImh0bWwiLCJibG9ja0NsYXNzZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYmxvY2tDbGFzcyIsImNsYXNzZXMiLCJmcmVkQmxvY2tDbGFzcyIsInNwbGl0IiwiZmlsdGVyIiwiaW5pdEVsZW1lbnRzIiwiaW5pdERyb3Bab25lcyIsInJlcGxhY2VXaXRoIiwicHJldiIsImR6IiwicnRlSW5pdGVkIiwic2V0Q29udGVudFZhbHVlIiwiZnJlZE5hbWUiLCJfcmF3IiwiX3ZhbHVlIiwic2V0VmFsdWVGb3JCaW5kRWxlbWVudHMiLCJmcmVkVGFyZ2V0IiwiZW1pdCIsImJpbmRFbGVtZW50cyIsImJpbmRFbCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJvbmx5RWxWYWx1ZSIsImFkZExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsImNvbnNvbGUiLCJsb2ciLCJnZXRBdHRyaWJ1dGUiLCJmcmVkQXR0cnMiLCJhdHRycyIsImF0dHIiLCJmcmVkRWxlbWVudHMiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJtdXRhdGlvbiIsInR5cGUiLCJhdHRyaWJ1dGVOYW1lIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJjaGFyYWN0ZXJEYXRhIiwic3VidHJlZSIsImZyZWRSdGUiLCJydGUiLCJydGVzIiwiZGVmYXVsdCIsImZyZWRSdGVDb25maWciLCJvblJURUluaXRGYWN0b3J5Iiwib25SVEVDb250ZW50Q2hhbmdlRmFjdG9yeSIsIm9uUlRFRm9jdXNGYWN0b3J5Iiwib25SVEVCbHVyRmFjdG9yeSIsInBhZ2VTZXR0aW5ncyIsInNldENvbnRlbnRFbFZhbHVlIiwicGFyc2VNb2R4IiwicmVtb3RlIiwicmVtb3RlVGVtcGxhdGVSZW5kZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsImxvY2FsVGVtcGxhdGVSZW5kZXIiLCJzZXRFbCIsImpzb24iLCJjYXRjaCIsImVyciIsIm1lc3NhZ2UiLCJoYW5kbGVMaW5rcyIsIm5vUmVuZGVyRWxlbWVudHMiLCJub1JlbmRlckVsZW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmcmVkTGlua3MiLCJmcmVkTGluayIsImxpbmtUeXBlIiwiZnJlZExpbmtUeXBlIiwicmVzb3VyY2VJZCIsImZyZWRMaW5rUGFnZSIsImFuY2hvciIsImZyZWRMaW5rQW5jaG9yIiwiZnJlZENsYXNzZXMiLCJmcmVkQ2xhc3MiLCJmcmVkT25Ecm9wIiwib25Ecm9wIiwiZnJlZE9uU2V0dGluZ0NoYW5nZSIsIm9uU2V0dGluZ0NoYW5nZSIsImR6UHJvbWlzZXMiLCJkekVsIiwicXVlcnlTZWxlY3RvciIsImNsZWFuZWREcm9wWm9uZUNvbnRlbnQiLCJjaGlsZFByb21pc2VzIiwiY2xlYW5SZW5kZXIiLCJhbGwiLCJjaGlsZEVsIiwiY2xvbmVkQ2hpbGQiLCJkdXBsaWNhdGVEcm9wWm9uZXMiLCJjbG9uZSIsIm5leHRTaWJsaW5nIiwicmVsb2FkQ29udGFpbmVycyIsInpvbmVOYW1lIiwidW5zaGlmdCIsImZpcnN0RWxlbWVudENoaWxkIiwiYmVmb3JlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRWFBLGMsV0FBQUEsYztBQUNULDRCQUFZQyxFQUFaLEVBQWdCQyxNQUFoQixFQUFvRTtBQUFBLFlBQTVDQyxNQUE0Qyx1RUFBbkMsSUFBbUM7O0FBQUE7O0FBQUEsWUFBN0JDLE9BQTZCLHVFQUFuQixFQUFtQjtBQUFBLFlBQWZDLFFBQWUsdUVBQUosRUFBSTs7QUFBQTs7QUFDaEUsYUFBS0MsTUFBTCxHQUFjLGlCQUFXQSxNQUF6QjtBQUNBLGFBQUtMLEVBQUwsR0FBVUEsRUFBVjtBQUNBLGFBQUtNLFFBQUwsR0FBZ0IsZ0JBQUssRUFBQ0MsTUFBTSxLQUFLUCxFQUFMLENBQVFRLGFBQWYsRUFBTCxDQUFoQjtBQUNBLGFBQUtDLEVBQUwsR0FBVUMsU0FBUyxLQUFLVixFQUFMLENBQVFXLE9BQVIsQ0FBZ0JDLGFBQXpCLENBQVY7QUFDQSxhQUFLQyxLQUFMLEdBQWEsS0FBS2IsRUFBTCxDQUFRVyxPQUFSLENBQWdCRyxnQkFBN0I7QUFDQSxhQUFLQyxPQUFMLEdBQWUsSUFBZjs7QUFFQSxhQUFLQyxZQUFMOztBQUVBLGFBQUtDLE1BQUwsR0FBYyxLQUFLQSxNQUFMLENBQVlDLElBQVosQ0FBaUIsSUFBakIsQ0FBZDtBQUNBLGFBQUtDLE1BQUwsR0FBYyxLQUFLQSxNQUFMLENBQVlELElBQVosQ0FBaUIs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LE9BQTVDOztBQUVBLGdCQUFJLEtBQUtvQixHQUFMLENBQVN1TCxRQUFULEVBQW1CMU4sRUFBbkIsQ0FBc0I0TixpQkFBMUIsRUFBNkM7QUFDekMscUJBQUt6TCxHQUFMLENBQVN1TCxRQUFULEVBQW1CMU4sRUFBbkIsQ0FBc0I4RSxZQUF0QixDQUFtQ1IsUUFBUXZELE9BQTNDLEVBQW9ELEtBQUtvQixHQUFMLENBQVN1TCxRQUFULEVBQW1CMU4sRUFBbkIsQ0FBc0I0TixpQkFBMUU7QUFDSCxhQUZELE1BRU87QUFDSCxxQkFBS3pMLEdBQUwsQ0FBU3VMLFFBQVQsRUFBbUIxTixFQUFuQixDQUFzQndGLFdBQXRCLENBQWtDbEIsUUFBUXZELE9BQTFDO0FBQ0g7O0FBRUQsbUJBQU8sSUFBUDtBQUNIOzs7c0RBRTZCMk0sUSxFQUFVRyxNLEVBQVF2SixPLEVBQVM7QUFDckQsZ0JBQUksQ0FBQyxLQUFLbkMsR0FBTCxDQUFTdUwsUUFBVCxDQUFMLEVBQXlCLE9BQU8sS0FBUDtBQUN6QnBKLG9CQUFRckUsTUFBUixHQUFpQnlOLFFBQWpCO0FBQ0FwSixvQkFBUXBFLE1BQVIsR0FBaUIsSUFBakI7O0FBRUEsaUJBQUtpQyxHQUFMLENBQVN1TCxRQUFULEVBQW1CL0ssUUFBbkIsQ0FBNEIwQyxNQUE1QixDQUFtQyxLQUFLbEQsR0FBTCxDQUFTdUwsUUFBVCxFQUFtQi9LLFFBQW5CLENBQTRCK0MsT0FBNUIsQ0FBb0NtSSxPQUFPOU0sT0FBM0MsQ0FBbkMsRUFBd0YsQ0FBeEYsRUFBMkZ1RCxRQUFRdkQsT0FBbkc7QUFDQThNLG1CQUFPOU0sT0FBUCxDQUFlcUUscUJBQWYsQ0FBcUMsYUFBckMsRUFBb0RkLFFBQVF2RCxPQUE1RDtBQUNIOzs7Ozs7a0JBR1VoQixjIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRyYWtlIGZyb20gJy4uLy4uLy4uL0RyYWtlJztcbmltcG9ydCBlbWl0dGVyIGZyb20gJy4uLy4uLy4uL0VFJztcbmltcG9ydCB7IHR3aWcgfSBmcm9tICd0d2lnJztcbmltcG9ydCBmcmVkQ29uZmlnIGZyb20gJy4uLy4uLy4uL0NvbmZpZyc7XG5pbXBvcnQgeyBkaXYsIGJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL1VJL0VsZW1lbnRzJztcbmltcG9ydCB7IGFwcGx5U2NyaXB0cyB9IGZyb20gJy4uLy4uLy4uL1V0aWxzJztcbmltcG9ydCBNb3VzZXRyYXAgZnJvbSAnbW91c2V0cmFwJztcbmltcG9ydCBob3ZlcmludGVudCBmcm9tICdob3ZlcmludGVudCc7XG5pbXBvcnQgZWxlbWVudFNldHRpbmdzIGZyb20gJy4vRWxlbWVudFNldHRpbmdzJztcbmltcG9ydCBwYXJ0aWFsQmx1ZXByaW50cyBmcm9tIFwiLi9QYXJ0aWFsQmx1ZXByaW50c1wiO1xuaW1wb3J0IHsgcmVuZGVyRWxlbWVudCB9IGZyb20gJy4uLy4uLy4uL0FjdGlvbnMvZWxlbWVudHMnO1xuXG5leHBvcnQgY2xhc3MgQ29udGVudEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGVsLCBkek5hbWUsIHBhcmVudCA9IG51bGwsIGNvbnRlbnQgPSB7fSwgc2V0dGluZ3MgPSB7fSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGZyZWRDb25maWcuY29uZmlnO1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0d2lnKHtkYXRhOiB0aGlzLmVsLmVsZW1lbnRNYXJrdXB9KTtcbiAgICAgICAgdGhpcy5pZCA9IHBhcnNlSW50KHRoaXMuZWwuZGF0YXNldC5mcmVkRWxlbWVudElkKTtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMuZWwuZGF0YXNldC5mcmVkRWxlbWVudFRpdGxlO1xuICAgICAgICB0aGlzLndyYXBwZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2V0VXBFZGl0b3JzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1vdmVVcCA9IHRoaXMubW92ZVVwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubW92ZURvd24gPSB0aGlzLm1vdmVEb3duLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZHpOYW1lID0gZHpOYW1lO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KCh0aGlzLmVsLmVsZW1lbnRPcHRpb25zIHx8IHt9KSkpO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuY29udGVudCkpIHRoaXMuY29udGVudCA9IHt9O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHt9O1xuICAgICAgICBcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMucnRlQ29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMucnRlQ29uZmlnID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNldHRpbmdzKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0dGluZ3MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5ncm91cCAmJiBzZXR0aW5nLnNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcuc2V0dGluZ3MuZm9yRWFjaChzdWJTZXR0aW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Nbc3ViU2V0dGluZy5uYW1lXSA9IHN1YlNldHRpbmcudmFsdWUgfHwgJyc7ICAgIFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzW3NldHRpbmcubmFtZV0gPSBzZXR0aW5nLnZhbHVlIHx8ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIC4uLih0aGlzLnNldHRpbmdzKSxcbiAgICAgICAgICAgIC4uLkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZHpzID0ge307XG5cbiAgICAgICAgdGhpcy5pbkVkaXRvciA9IGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBzZXRVcEVkaXRvcnMoKSB7XG4gICAgICAgIHRoaXMuZWRpdG9ycyA9IGZyZWRDb25maWcuZWRpdG9ycztcblxuICAgICAgICB0aGlzLmljb25FZGl0b3IgPSB0aGlzLmNvbmZpZy5pY29uRWRpdG9yIHx8ICdJY29uRWRpdG9yJztcbiAgICAgICAgdGhpcy5pY29uRWRpdG9yID0gdGhpcy5lZGl0b3JzW3RoaXMuaWNvbkVkaXRvcl0gfHwgbnVsbDtcblxuICAgICAgICB0aGlzLmltYWdlRWRpdG9yID0gdGhpcy5jb25maWcuaW1hZ2VFZGl0b3IgfHwgJ0ltYWdlRWRpdG9yJztcbiAgICAgICAgdGhpcy5pbWFnZUVkaXRvciA9IHRoaXMuZWRpdG9yc1t0aGlzLmltYWdlRWRpdG9yXSB8fCBudWxsO1xuICAgIH1cbiAgICBcbiAgICBzZXRFbChlbCkge1xuICAgICAgICBpZiAoZWwuZWxlbWVudE1hcmt1cCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVsLmVsZW1lbnRNYXJrdXAgPSBlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWwuZWxlbWVudE1hcmt1cCA9IGVsLmVsZW1lbnRNYXJrdXA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0d2lnKHtkYXRhOiB0aGlzLmVsLmVsZW1lbnRNYXJrdXB9KTtcbiAgICB9XG5cbiAgICBnZXRDb250ZW50KCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0ge1xuICAgICAgICAgICAgd2lkZ2V0OiB0aGlzLmlkLFxuICAgICAgICAgICAgdmFsdWVzOiB0aGlzLmNvbnRlbnQsXG4gICAgICAgICAgICBzZXR0aW5nczogdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGR6TmFtZSBpbiB0aGlzLmR6cykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHpzLmhhc093blByb3BlcnR5KGR6TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kenNbZHpOYW1lXS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuY2hpbGRyZW5bZHpOYW1lXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHpzW2R6TmFtZV0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNoaWxkcmVuW2R6TmFtZV0ucHVzaChjaGlsZC5mcmVkRWwuZ2V0Q29udGVudCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgc2V0V3JhcHBlckFjdGl2ZVN0YXRlKHdyYXBwZXIpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXM7XG4gICAgICAgIGhvdmVyaW50ZW50KCB3cmFwcGVyLFxuICAgICAgICAgICAgLy9tb3VzZW92ZXJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGUpe1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0U2V0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoZS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucGF0aC5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmcmVkLS1ibG9jaycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZnJlZC0tYmxvY2stYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5hdFRvcChlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZnJlZC0tYmxvY2stYWN0aXZlX3RvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdFNldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmcmVkLS1ibG9jay1hY3RpdmVfcGFyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChmaXJzdFNldCA9PT0gZmFsc2UpICYmIHQub3B0aW9ucy5zZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb3VzZXRyYXAuYmluZCgnbW9kK2FsdCtzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFNldHRpbmdzLm9wZW4odClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZWwgPSBlLnRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZShlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZyZWQtLWJsb2NrJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmcmVkLS1ibG9jay1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0LmF0VG9wKGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmcmVkLS1ibG9jay1hY3RpdmVfdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0U2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWJsb2NrLWFjdGl2ZV9wYXJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIC8vbW91c2VvdXRcbiAgICAgICAgICAgIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGlmICh0LmluRWRpdG9yID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWJsb2NrLWFjdGl2ZV90b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdmcmVkLS1ibG9jay1hY3RpdmVfcGFyZW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsID0gZS50YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZnJlZC0tYmxvY2stYWN0aXZlX3BhcmVudCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdmcmVkLS1ibG9jay1hY3RpdmVfcGFyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IGUudGFyZ2V0LmNoaWxkTm9kZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjaGlsZHJlbltpXS5jbGFzc0xpc3QgJiYgY2hpbGRyZW5baV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdmcmVkLS1ibG9jay1hY3RpdmUnKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIE1vdXNldHJhcC51bmJpbmQoJ21vZCthbHQrcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKS5vcHRpb25zKHtcbiAgICAgICAgICAgIHNlbnNpdGl2aXR5OiAxMDAsXG4gICAgICAgICAgICB0aW1lb3V0OiAyNTAsXG4gICAgICAgICAgICBpbnRlcnZhbDogMjUwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGF0VG9wKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50b1RvcCA9IDA7XG5cbiAgICAgICAgd2hpbGUoZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy50b1RvcCArPSAoZWxlbWVudC5vZmZzZXRUb3AgLSBlbGVtZW50LnNjcm9sbFRvcCArIGVsZW1lbnQuY2xpZW50VG9wKTtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy50b1RvcCAgPCAzOCk7XG4gICAgfVxuICAgIFxuICAgIG1vdmVEb3duKCkge1xuICAgICAgICBjb25zdCBtb3ZlRG93blJvb3QgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyLm5leHRFbGVtZW50U2libGluZywgdGhpcy53cmFwcGVyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBtb3ZlRG93blRvRHJvcHpvbmUgPSAodGFyZ2V0LCBkek5hbWUpID0+IHtcbiAgICAgICAgICAgIHRhcmdldC51bnNoaWZ0RWxlbWVudFRvRHJvcFpvbmUoZHpOYW1lLCB0aGlzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBtb3ZlRG93bkluRHJvcHpvbmUgPSAoZnJlZEVsLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZnJlZEVsLnBhcmVudC5kenNbZnJlZEVsLmR6TmFtZV0uY2hpbGRyZW5baW5kZXggKyAxXS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgZnJlZEVsLndyYXBwZXIpO1xuICAgICAgICAgICAgZnJlZEVsLnBhcmVudC5kenNbZnJlZEVsLmR6TmFtZV0uY2hpbGRyZW5baW5kZXhdID0gZnJlZEVsLnBhcmVudC5kenNbZnJlZEVsLmR6TmFtZV0uY2hpbGRyZW4uc3BsaWNlKChpbmRleCArIDEpLCAxLCBmcmVkRWwucGFyZW50LmR6c1tmcmVkRWwuZHpOYW1lXS5jaGlsZHJlbltpbmRleF0pWzBdO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1vdmVEb3duRnJvbURyb3B6b25lID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50LndyYXBwZXIubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHpOYW1lID0gdGhpcy5wYXJlbnQud3JhcHBlci5wYXJlbnRFbGVtZW50LmRhdGFzZXQuZnJlZERyb3B6b25lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC53cmFwcGVyLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHpOYW1lID0gdGhpcy5wYXJlbnQud3JhcHBlci5wYXJlbnRFbGVtZW50LmRhdGFzZXQuZnJlZERyb3B6b25lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC53cmFwcGVyLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMud3JhcHBlciwgdGhpcy5wYXJlbnQud3JhcHBlci5uZXh0RWxlbWVudFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQb3NpdGlvbiA9IHRoaXMucGFyZW50LnBhcmVudC5kenNbdGhpcy5wYXJlbnQuZHpOYW1lXS5jaGlsZHJlbi5pbmRleE9mKHRoaXMucGFyZW50LndyYXBwZXIpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRQb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLnBhcmVudC5wYXJlbnQuZHpzW3RoaXMucGFyZW50LmR6TmFtZV0uY2hpbGRyZW4ubGVuZ3RoIC0gMSkgPT09IHBhcmVudFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5wYXJlbnQuYWRkRWxlbWVudFRvRHJvcFpvbmUodGhpcy5wYXJlbnQuZHpOYW1lLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnBhcmVudC5pbnNlcnRCZWZvcmVFbGVtZW50VG9Ecm9wWm9uZSh0aGlzLnBhcmVudC5kek5hbWUsIHRoaXMucGFyZW50LnBhcmVudC5kenNbdGhpcy5wYXJlbnQuZHpOYW1lXS5jaGlsZHJlbltwYXJlbnRQb3NpdGlvbiArIDFdLmZyZWRFbCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy53cmFwcGVyLm5leHRFbGVtZW50U2libGluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR6TGlzdCA9IE9iamVjdC5rZXlzKHRoaXMud3JhcHBlci5uZXh0RWxlbWVudFNpYmxpbmcuZnJlZEVsLmR6cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR6TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVEb3duVG9Ecm9wem9uZSh0aGlzLndyYXBwZXIubmV4dEVsZW1lbnRTaWJsaW5nLmZyZWRFbCwgZHpMaXN0WzBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlRG93blJvb3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY2FycnkgPSBmYWxzZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgZHpOYW1lIGluIHRoaXMucGFyZW50LmR6cykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5kenMuaGFzT3duUHJvcGVydHkoZHpOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FycnkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnJ5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlRG93blRvRHJvcHpvbmUodGhpcy5wYXJlbnQsIGR6TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkek5hbWUgIT09IHRoaXMuZHpOYW1lKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFyZW50LmR6c1tkek5hbWVdLmNoaWxkcmVuLmluZGV4T2YodGhpcy53cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gdGhpcy5wYXJlbnQuZHpzW2R6TmFtZV0uY2hpbGRyZW5baW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkekxpc3QgPSBPYmplY3Qua2V5cyhuZXh0Q2hpbGQuZnJlZEVsLmR6cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGR6TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmR6c1tkek5hbWVdLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVEb3duVG9Ecm9wem9uZShuZXh0Q2hpbGQuZnJlZEVsLCBkekxpc3RbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVEb3duSW5Ecm9wem9uZSh0aGlzLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5kenNbZHpOYW1lXS5jaGlsZHJlbi5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjYXJyeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG1vdmVEb3duRnJvbURyb3B6b25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgbW92ZVVwKCkge1xuICAgICAgICBjb25zdCBtb3ZlVXBSb290ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMud3JhcHBlciwgdGhpcy53cmFwcGVyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1vdmVVcFRvRHJvcHpvbmUgPSAodGFyZ2V0LCBkek5hbWUpID0+IHtcbiAgICAgICAgICAgIHRhcmdldC5hZGRFbGVtZW50VG9Ecm9wWm9uZShkek5hbWUsIHRoaXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1vdmVVcEZyb21Ecm9wem9uZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kek5hbWUgPSB0aGlzLnBhcmVudC53cmFwcGVyLnBhcmVudEVsZW1lbnQuZGF0YXNldC5mcmVkRHJvcHpvbmU7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQud3JhcHBlci5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLndyYXBwZXIsIHRoaXMucGFyZW50LndyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50UG9zaXRpb24gPSB0aGlzLnBhcmVudC5wYXJlbnQuZHpzW3RoaXMucGFyZW50LmR6TmFtZV0uY2hpbGRyZW4uaW5kZXhPZih0aGlzLnBhcmVudC53cmFwcGVyKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50UG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgwID09PSBwYXJlbnRQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQucGFyZW50LnVuc2hpZnRFbGVtZW50VG9Ecm9wWm9uZSh0aGlzLnBhcmVudC5kek5hbWUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQucGFyZW50Lmluc2VydEJlZm9yZUVsZW1lbnRUb0Ryb3Bab25lKHRoaXMucGFyZW50LmR6TmFtZSwgdGhpcy5wYXJlbnQsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1vdmVVcEluRHJvcHpvbmUgPSAoZnJlZEVsLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZnJlZEVsLnBhcmVudC5kenNbZnJlZEVsLmR6TmFtZV0uY2hpbGRyZW5baW5kZXggLSAxXS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgZnJlZEVsLndyYXBwZXIpO1xuICAgICAgICAgICAgZnJlZEVsLnBhcmVudC5kenNbZnJlZEVsLmR6TmFtZV0uY2hpbGRyZW5baW5kZXggLSAxXSA9IGZyZWRFbC5wYXJlbnQuZHpzW2ZyZWRFbC5kek5hbWVdLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSwgZnJlZEVsLnBhcmVudC5kenNbZnJlZEVsLmR6TmFtZV0uY2hpbGRyZW5baW5kZXggLSAxXSlbMF07XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMud3JhcHBlci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHpMaXN0ID0gT2JqZWN0LmtleXModGhpcy53cmFwcGVyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZnJlZEVsLmR6cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR6TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVVcFRvRHJvcHpvbmUodGhpcy53cmFwcGVyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZnJlZEVsLCBkekxpc3RbZHpMaXN0Lmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlVXBSb290KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNhcnJ5ID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBkcm9wWm9uZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmVudC5kenMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRyb3Bab25lcy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHpOYW1lID0gZHJvcFpvbmVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhcnJ5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcnJ5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVVcFRvRHJvcHpvbmUodGhpcy5wYXJlbnQsIGR6TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkek5hbWUgIT09IHRoaXMuZHpOYW1lKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wYXJlbnQuZHpzW2R6TmFtZV0uY2hpbGRyZW4uaW5kZXhPZih0aGlzLndyYXBwZXIpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkNoaWxkID0gdGhpcy5wYXJlbnQuZHpzW2R6TmFtZV0uY2hpbGRyZW5baW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHpMaXN0ID0gT2JqZWN0LmtleXMocHJldkNoaWxkLmZyZWRFbC5kenMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGR6TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZHpzW2R6TmFtZV0uY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVXBUb0Ryb3B6b25lKHByZXZDaGlsZC5mcmVkRWwsIGR6TGlzdFtkekxpc3QubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVXBJbkRyb3B6b25lKHRoaXMsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmR6c1tkek5hbWVdLmNoaWxkcmVuLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjYXJyeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG1vdmVVcEZyb21Ecm9wem9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkaXYoWydmcmVkLS1ibG9jayddKTtcbiAgICAgICAgd3JhcHBlci5mcmVkRWwgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuc2V0V3JhcHBlckFjdGl2ZVN0YXRlKHdyYXBwZXIpO1xuXG4gICAgICAgIGNvbnN0IHRvb2xiYXIgPSBkaXYoWydmcmVkLS10b29sYmFyJywgJ2hhbmRsZSddKTtcbiAgICAgICAgY29uc3QgbW92ZUhhbmRsZSA9IGRpdihbJ2ZyZWQtLXRvb2xiYXItZ3JpcCcsICdoYW5kbGUnXSk7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZSA9IGJ1dHRvbignJywgJ2ZyZWQuZmUuY29udGVudC5kdXBsaWNhdGUnLCBbJ2ZyZWQtLWR1cGxpY2F0ZS1pY29uJ10sIHRoaXMuZHVwbGljYXRlLmJpbmQodGhpcykpO1xuICAgICAgICBjb25zdCB0cmFzaEhhbmRsZSA9IGJ1dHRvbignJywgJ2ZyZWQuZmUuY29udGVudC5kZWxldGUnLCBbJ2ZyZWQtLXRyYXNoJ10sIHRoaXMucmVtb3ZlLmJpbmQodGhpcykpO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHRvb2xiYXIuYXBwZW5kQ2hpbGQobW92ZUhhbmRsZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwYXJ0aWFsQmx1ZXByaW50ID0gYnV0dG9uKCcnLCAnZnJlZC5mZS5jb250ZW50LnBhcnRpYWxfYmx1ZXByaW50JywgWydmcmVkLS1ibHVlcHJpbnQnXSwgKCkgPT4ge3BhcnRpYWxCbHVlcHJpbnRzLm9wZW4odGhpcyl9KTtcbiAgICAgICAgdG9vbGJhci5hcHBlbmRDaGlsZChwYXJ0aWFsQmx1ZXByaW50KTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNldHRpbmdzKSB7XG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGJ1dHRvbignJywgJ2ZyZWQuZmUuY29udGVudC5zZXR0aW5ncycsIFsnZnJlZC0tZWxlbWVudC1zZXR0aW5ncyddLCAoKSA9PiB7ZWxlbWVudFNldHRpbmdzLm9wZW4odGhpcyl9KTtcbiAgICAgICAgICAgIHRvb2xiYXIuYXBwZW5kQ2hpbGQoc2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25Hcm91cCA9IGRpdihbJ2ZyZWQtLXBvc2l0aW9uLWdyb3VwJ10pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbW92ZVVwID0gYnV0dG9uKCcnLCAnZnJlZC5mZS5jb250ZW50Lm1vdmVfdXAnLCBbJ2ZyZWQtLXBvc2l0aW9uLXVwJ10sIHRoaXMubW92ZVVwKTtcbiAgICAgICAgY29uc3QgbW92ZURvd24gPSBidXR0b24oJycsICdmcmVkLmZlLmNvbnRlbnQubW92ZV9kb3duJywgWydmcmVkLS1wb3NpdGlvbi1kb3duJ10sIHRoaXMubW92ZURvd24pO1xuXG4gICAgICAgIHBvc2l0aW9uR3JvdXAuYXBwZW5kQ2hpbGQobW92ZVVwKTtcbiAgICAgICAgcG9zaXRpb25Hcm91cC5hcHBlbmRDaGlsZChtb3ZlRG93bik7XG4gICAgICAgIFxuICAgICAgICB0b29sYmFyLmFwcGVuZENoaWxkKGR1cGxpY2F0ZSk7XG4gICAgICAgIHRvb2xiYXIuYXBwZW5kQ2hpbGQodHJhc2hIYW5kbGUpO1xuICAgICAgICB0b29sYmFyLmFwcGVuZENoaWxkKHBvc2l0aW9uR3JvdXApO1xuXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodG9vbGJhcik7XG5cbiAgICAgICAgY29uc3QgY29udGVudCA9IGRpdihbJ2ZyZWQtLWJsb2NrX2NvbnRlbnQnXSk7XG4gICAgICAgIGNvbnRlbnQuZGF0YXNldC5mcmVkRWxlbWVudElkID0gdGhpcy5lbC5kYXRhc2V0LmZyZWRFbGVtZW50SWQ7XG4gICAgICAgIGNvbnRlbnQuZGF0YXNldC5mcmVkRWxlbWVudFRpdGxlID0gdGhpcy50aXRsZTtcblxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVJlbmRlcigpLnRoZW4oaHRtbCA9PiB7XG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICAgICAgICAgIGFwcGx5U2NyaXB0cyhjb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgYmxvY2tDbGFzc2VzID0gY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVkLWJsb2NrLWNsYXNzXScpO1xuICAgICAgICAgICAgZm9yIChsZXQgYmxvY2tDbGFzcyBvZiBibG9ja0NsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gYmxvY2tDbGFzcy5kYXRhc2V0LmZyZWRCbG9ja0NsYXNzLnNwbGl0KCcgJykuZmlsdGVyKGUgPT4ge3JldHVybiBlO30pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmluaXRFbGVtZW50cyh3cmFwcGVyLCBjb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMuaW5pdERyb3Bab25lcyh3cmFwcGVyLCBjb250ZW50KTtcblxuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRoaXMud3JhcHBlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlci5yZXBsYWNlV2l0aCh3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMud3JhcHBlciA9IHdyYXBwZXI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgaW5pdERyb3Bab25lcyh3cmFwcGVyLCBjb250ZW50KSB7XG4gICAgICAgIGNvbnN0IGR6cyA9IGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnJlZC1kcm9wem9uZV0nKTtcblxuICAgICAgICBsZXQgcHJldiA9IG51bGw7XG5cbiAgICAgICAgZm9yIChsZXQgZHogb2YgZHpzKSB7XG4gICAgICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHByZXYgPSBkejtcbiAgICAgICAgICAgICAgICBkei5mcmVkRWwgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kenNbZHouZGF0YXNldC5mcmVkRHJvcHpvbmVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHpzW2R6LmRhdGFzZXQuZnJlZERyb3B6b25lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsOiBkeixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHpzW2R6LmRhdGFzZXQuZnJlZERyb3B6b25lXS5lbCA9IGR6O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmR6c1tkei5kYXRhc2V0LmZyZWREcm9wem9uZV0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmR6c1tkei5kYXRhc2V0LmZyZWREcm9wem9uZV0uZWwuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghcHJldi5jb250YWlucyhkeikpIHtcbiAgICAgICAgICAgICAgICAgICAgZHouZnJlZEVsID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgcHJldiA9IGR6O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZHpzW2R6LmRhdGFzZXQuZnJlZERyb3B6b25lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kenNbZHouZGF0YXNldC5mcmVkRHJvcHpvbmVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsOiBkeixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmR6c1tkei5kYXRhc2V0LmZyZWREcm9wem9uZV0uZWwgPSBkejtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHpzW2R6LmRhdGFzZXQuZnJlZERyb3B6b25lXS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmR6c1tkei5kYXRhc2V0LmZyZWREcm9wem9uZV0uZWwuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJURUluaXRGYWN0b3J5IChlbCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZWwucnRlSW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBvblJURUNvbnRlbnRDaGFuZ2VGYWN0b3J5IChlbCwgY29udGVudCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50VmFsdWUoZWwsIHZhbHVlLCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBvblJURUZvY3VzRmFjdG9yeSAod3JhcHBlciwgZWwpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW5FZGl0b3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIG9uUlRFQmx1ckZhY3RvcnkgKHdyYXBwZXIsIGVsKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluRWRpdG9yID0gZmFsc2U7XG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdmcmVkLS1ibG9jay1hY3RpdmVfdG9wJyk7XG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWJsb2NrLWFjdGl2ZV9wYXJlbnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRDb250ZW50VmFsdWUoZWwsIHZhbHVlLCBjb250ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdKSB0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0gPSB7fTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3JhdykgdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcgPSB7fTtcblxuICAgICAgICB0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3Jhdy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2V0VmFsdWVGb3JCaW5kRWxlbWVudHMoY29udGVudCwgZWwuZGF0YXNldC5mcmVkTmFtZSwgdmFsdWUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsLmRhdGFzZXQuZnJlZFRhcmdldCkge1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXBhZ2Utc2V0dGluZy1jaGFuZ2UnLCBlbC5kYXRhc2V0LmZyZWRUYXJnZXQsIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3Ll92YWx1ZSwgZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHNldFZhbHVlRm9yQmluZEVsZW1lbnRzKHdyYXBwZXIsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGJpbmRFbGVtZW50cyA9IHdyYXBwZXIucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtZnJlZC1iaW5kPVwiJHtuYW1lfVwiXWApO1xuICAgICAgICBmb3IgKGxldCBiaW5kRWwgb2YgYmluZEVsZW1lbnRzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGJpbmRFbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaSc6XG4gICAgICAgICAgICAgICAgICAgIGJpbmRFbC5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgICAgICAgICAgICAgYmluZEVsLnNldEF0dHJpYnV0ZSgnc3JjJywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBiaW5kRWwuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0Q29udGVudEVsVmFsdWUoZWwsIGNvbnRlbnQsIG9ubHlFbFZhbHVlID0gZmFsc2UsIGFkZExpc3RlbmVycyA9IHRydWUpIHtcbiAgICAgICAgc3dpdGNoIChlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBjYXNlICdpJzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcuX3ZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcuX3ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb25seUVsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3Ll92YWx1ZSA9IGVsLmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVGb3JCaW5kRWxlbWVudHMoY29udGVudCwgZWwuZGF0YXNldC5mcmVkTmFtZSwgdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcuX3ZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChhZGRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmljb25FZGl0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdGhpcy5pY29uRWRpdG9yKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEVkaXRvciAke3RoaXMuY29uZmlnLmljb25FZGl0b3J9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbWcnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3Jhdy5fdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3Ll92YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvbmx5RWxWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcuX3ZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVGb3JCaW5kRWxlbWVudHMoY29udGVudCwgZWwuZGF0YXNldC5mcmVkTmFtZSwgdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcuX3ZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChhZGRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltYWdlRWRpdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHRoaXMuaW1hZ2VFZGl0b3IoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRWRpdG9yICR7dGhpcy5jb25maWcuaW1hZ2VFZGl0b3J9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3Ll92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3Ll92YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9ubHlFbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3Jhdy5fdmFsdWUgPSBlbC5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlRm9yQmluZEVsZW1lbnRzKGNvbnRlbnQsIGVsLmRhdGFzZXQuZnJlZE5hbWUsIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3Ll92YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWwuZGF0YXNldC5mcmVkQXR0cnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJzID0gZWwuZGF0YXNldC5mcmVkQXR0cnMuc3BsaXQoJywnKTtcbiAgICAgICAgICAgIGF0dHJzLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3W2F0dHJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3W2F0dHJdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAob25seUVsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3W2F0dHJdID0gZWwuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaW5pdEVsZW1lbnRzKHdyYXBwZXIsIGNvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgZnJlZEVsZW1lbnRzID0gY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVkLW5hbWVdJyk7XG4gICAgICAgIGZvciAobGV0IGVsIG9mIGZyZWRFbGVtZW50cykge1xuICAgICAgICAgICAgZWwuZnJlZEVsID0gdGhpcztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gJ2ltZycgJiYgKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdzcmMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudFZhbHVlKGVsLCBlbC5nZXRBdHRyaWJ1dGUobXV0YXRpb24uYXR0cmlidXRlTmFtZSksIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gJ2knICYmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnY2xhc3MnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudFZhbHVlKGVsLCBlbC5jbGFzc05hbWUsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmRhdGFzZXQuZnJlZEF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBlbC5kYXRhc2V0LmZyZWRBdHRycy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5pbmRleE9mKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0pIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcpIHRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3ID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3Jhd1ttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSA9IGVsLmdldEF0dHJpYnV0ZShtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwsIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICgoIWVsLmRhdGFzZXQuZnJlZFJ0ZSB8fCBlbC5kYXRhc2V0LmZyZWRSdGUgPT09ICdmYWxzZScgfHwgIWVsLnJ0ZUluaXRlZCkpIHtcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50VmFsdWUoZWwsIGVsLmlubmVySFRNTCwgY29udGVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghIWVsLmRhdGFzZXQuZnJlZFJ0ZSAmJiAoZWwuZGF0YXNldC5mcmVkUnRlICE9PSAnZmFsc2UnKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5ydGUgJiYgZnJlZENvbmZpZy5ydGVzW3RoaXMuY29uZmlnLnJ0ZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJ0ZUNvbmZpZyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ydGVDb25maWcuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnRlQ29uZmlnID0gdGhpcy5vcHRpb25zLnJ0ZUNvbmZpZy5kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoZWwuZGF0YXNldC5mcmVkUnRlQ29uZmlnICYmIHRoaXMub3B0aW9ucy5ydGVDb25maWdbZWwuZGF0YXNldC5mcmVkUnRlQ29uZmlnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnRlQ29uZmlnID0gdGhpcy5vcHRpb25zLnJ0ZUNvbmZpZ1tlbC5kYXRhc2V0LmZyZWRSdGVDb25maWddO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmcmVkQ29uZmlnLnJ0ZXNbdGhpcy5jb25maWcucnRlXShlbCwgcnRlQ29uZmlnLCB0aGlzLm9uUlRFSW5pdEZhY3RvcnkoZWwpLCB0aGlzLm9uUlRFQ29udGVudENoYW5nZUZhY3RvcnkoZWwsIGNvbnRlbnQpLCB0aGlzLm9uUlRFRm9jdXNGYWN0b3J5KHdyYXBwZXIsIGVsKSwgdGhpcy5vblJURUJsdXJGYWN0b3J5KHdyYXBwZXIsIGVsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXSkgdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdID0ge307XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udGVudFtlbC5kYXRhc2V0LmZyZWROYW1lXS5fcmF3KSB0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3JhdyA9IHt9O1xuXG4gICAgICAgICAgICBpZiAoZWwuZGF0YXNldC5mcmVkVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyZWRDb25maWcucGFnZVNldHRpbmdzW2VsLmRhdGFzZXQuZnJlZFRhcmdldF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcuX3ZhbHVlID0gZnJlZENvbmZpZy5wYWdlU2V0dGluZ3NbZWwuZGF0YXNldC5mcmVkVGFyZ2V0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudEVsVmFsdWUoZWwsIGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHNldEVsVmFsdWUoZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdKSB0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0gPSB7fTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3JhdykgdGhpcy5jb250ZW50W2VsLmRhdGFzZXQuZnJlZE5hbWVdLl9yYXcgPSB7fTtcblxuICAgICAgICB0aGlzLmNvbnRlbnRbZWwuZGF0YXNldC5mcmVkTmFtZV0uX3Jhdy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCAoZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSAnaSc6XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbWcnOlxuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc3JjJywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRlbXBsYXRlUmVuZGVyKHBhcnNlTW9keCA9IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbW90ZVRlbXBsYXRlUmVuZGVyKHBhcnNlTW9keCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5sb2NhbFRlbXBsYXRlUmVuZGVyKCkpO1xuICAgIH1cbiAgICBcbiAgICBsb2NhbFRlbXBsYXRlUmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZS5yZW5kZXIodGhpcy5zZXR0aW5ncyk7XG4gICAgfVxuICAgIFxuICAgIHJlbW90ZVRlbXBsYXRlUmVuZGVyKHBhcnNlTW9keCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckVsZW1lbnQodGhpcy5pZCwgdGhpcy5zZXR0aW5ncywgcGFyc2VNb2R4KS50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRFbChqc29uLmRhdGEuaHRtbCk7XG4gICAgICAgICAgICByZXR1cm4ganNvbi5kYXRhLmh0bWw7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmcnLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBjbGVhblJlbmRlcihwYXJzZU1vZHggPSBmYWxzZSwgaGFuZGxlTGlua3MgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkaXYoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVJlbmRlcihwYXJzZU1vZHgpLnRoZW4oaHRtbCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5vUmVuZGVyRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtcmVuZGVyPVwiZmFsc2VcIl0nKTtcbiAgICAgICAgICAgIGZvciAobGV0IG5vUmVuZGVyRWxlbWVudCBvZiBub1JlbmRlckVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbm9SZW5kZXJFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmcmVkRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtbmFtZV0nKTtcbiAgICAgICAgICAgIGZvciAobGV0IGVsIG9mIGZyZWRFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudEVsVmFsdWUoZWwsIGVsZW1lbnQsIHRydWUsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyk7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZyZWQtbmFtZScpO1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLXJ0ZScpO1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLXJ0ZS1jb25maWcnKTtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZnJlZC10YXJnZXQnKTtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZnJlZC1hdHRycycpO1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLW1lZGlhLXNvdXJjZScpO1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLWltYWdlLW1lZGlhLXNvdXJjZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaGFuZGxlTGlua3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmVkTGlua3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtbGluay10eXBlXScpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGZyZWRMaW5rIG9mIGZyZWRMaW5rcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rVHlwZSA9IGZyZWRMaW5rLmRhdGFzZXQuZnJlZExpbmtUeXBlO1xuICAgICAgICAgICAgICAgICAgICBmcmVkTGluay5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZnJlZC1saW5rLXR5cGUnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlua1R5cGUgPT09ICdwYWdlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VJZCA9IHBhcnNlSW50KGZyZWRMaW5rLmRhdGFzZXQuZnJlZExpbmtQYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGZyZWRMaW5rLmRhdGFzZXQuZnJlZExpbmtBbmNob3IgPyAoJyMnICsgZnJlZExpbmsuZGF0YXNldC5mcmVkTGlua0FuY2hvcikgOiAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlSWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlZExpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgYFtbfiR7cmVzb3VyY2VJZH1dXSR7YW5jaG9yfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVkTGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmVkTGluay5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZnJlZC1saW5rLXBhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyZWRMaW5rLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLWxpbmstYW5jaG9yJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJsb2NrQ2xhc3NlcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnJlZC1ibG9jay1jbGFzc10nKTtcbiAgICAgICAgICAgIGZvciAobGV0IGJsb2NrQ2xhc3Mgb2YgYmxvY2tDbGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IGJsb2NrQ2xhc3MuZGF0YXNldC5mcmVkQmxvY2tDbGFzcy5zcGxpdCgnICcpLmZpbHRlcihlID0+IHtyZXR1cm4gZTt9KTtcblxuICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tDbGFzcy5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJsb2NrQ2xhc3MucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZyZWQtYmxvY2stY2xhc3MnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZnJlZENsYXNzZXMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtY2xhc3NdJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBmcmVkQ2xhc3Mgb2YgZnJlZENsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gZnJlZENsYXNzLmRhdGFzZXQuZnJlZENsYXNzLnNwbGl0KCcgJykuZmlsdGVyKGUgPT4ge3JldHVybiBlO30pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmcmVkQ2xhc3MuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZnJlZENsYXNzLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLWNsYXNzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGJpbmRFbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnJlZC1iaW5kXScpO1xuICAgICAgICAgICAgZm9yIChsZXQgYmluZEVsIG9mIGJpbmRFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGJpbmRFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZnJlZC1iaW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGZyZWRPbkRyb3AgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtb24tZHJvcF0nKTtcbiAgICAgICAgICAgIGZvciAobGV0IG9uRHJvcCBvZiBmcmVkT25Ecm9wKSB7XG4gICAgICAgICAgICAgICAgb25Ecm9wLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLW9uLWRyb3AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZnJlZE9uU2V0dGluZ0NoYW5nZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnJlZC1vbi1zZXR0aW5nLWNoYW5nZV0nKTtcbiAgICAgICAgICAgIGZvciAobGV0IG9uU2V0dGluZ0NoYW5nZSBvZiBmcmVkT25TZXR0aW5nQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25TZXR0aW5nQ2hhbmdlLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLW9uLXNldHRpbmctY2hhbmdlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGR6UHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgZHpOYW1lIGluIHRoaXMuZHpzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZHpzLmhhc093blByb3BlcnR5KGR6TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHpFbCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZnJlZC1kcm9wem9uZT1cIicgKyBkek5hbWUgKyAnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkekVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkekVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mcmVkLWRyb3B6b25lJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmR6c1tkek5hbWVdLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbGVhbmVkRHJvcFpvbmVDb250ZW50ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRQcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHpzW2R6TmFtZV0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkUHJvbWlzZXMucHVzaChjaGlsZC5mcmVkRWwuY2xlYW5SZW5kZXIocGFyc2VNb2R4LCBoYW5kbGVMaW5rcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHpQcm9taXNlcy5wdXNoKFByb21pc2UuYWxsKGNoaWxkUHJvbWlzZXMpLnRoZW4odmFsdWVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goY2hpbGRFbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbmVkRHJvcFpvbmVDb250ZW50ICs9IGNoaWxkRWwuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkekVsLmlubmVySFRNTCA9IGNsZWFuZWREcm9wWm9uZUNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZHpQcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wYXJlbnQuZHpzW3RoaXMuZHpOYW1lXS5jaGlsZHJlbi5pbmRleE9mKHRoaXMud3JhcHBlcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmR6c1t0aGlzLmR6TmFtZV0uY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud3JhcHBlci5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBkdXBsaWNhdGVEcm9wWm9uZXMoZHpzKSB7XG4gICAgICAgIGZvciAobGV0IGR6TmFtZSBpbiBkenMpIHtcbiAgICAgICAgICAgIGlmIChkenMuaGFzT3duUHJvcGVydHkoZHpOYW1lKSkge1xuICAgICAgICAgICAgICAgIGR6c1tkek5hbWVdLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kenNbZHpOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkQ2hpbGQgPSBuZXcgQ29udGVudEVsZW1lbnQoY2hpbGQuZnJlZEVsLmVsLCBkek5hbWUsIHRoaXMsIGNoaWxkLmZyZWRFbC5jb250ZW50LCBjaGlsZC5mcmVkRWwuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkQ2hpbGQucmVuZGVyKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9Ecm9wWm9uZShkek5hbWUsIGNsb25lZENoaWxkKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRDaGlsZC5kdXBsaWNhdGVEcm9wWm9uZXMoY2hpbGQuZnJlZEVsLmR6cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHVwbGljYXRlKCkge1xuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBDb250ZW50RWxlbWVudCh0aGlzLmVsLCB0aGlzLmR6TmFtZSwgdGhpcy5wYXJlbnQsIHRoaXMuY29udGVudCwgdGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIGNsb25lLnJlbmRlcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY2xvbmUuZHVwbGljYXRlRHJvcFpvbmVzKHRoaXMuZHpzKTtcbiAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLndyYXBwZXIubmV4dFNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjbG9uZS53cmFwcGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNsb25lLndyYXBwZXIsIHRoaXMud3JhcHBlci5uZXh0U2libGluZyk7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFyZW50LmR6c1t0aGlzLmR6TmFtZV0uY2hpbGRyZW4uaW5kZXhPZih0aGlzLndyYXBwZXIpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmR6c1t0aGlzLmR6TmFtZV0uY2hpbGRyZW4uc3BsaWNlKGluZGV4ICsgMSwgMCwgY2xvbmUud3JhcHBlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgZHJha2UucmVsb2FkQ29udGFpbmVycygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRFbGVtZW50VG9Ecm9wWm9uZSh6b25lTmFtZSwgZWxlbWVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZHpzW3pvbmVOYW1lXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbGVtZW50LmR6TmFtZSA9IHpvbmVOYW1lO1xuICAgICAgICBlbGVtZW50LnBhcmVudCA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmR6c1t6b25lTmFtZV0uY2hpbGRyZW4ucHVzaChlbGVtZW50LndyYXBwZXIpO1xuICAgICAgICB0aGlzLmR6c1t6b25lTmFtZV0uZWwuYXBwZW5kQ2hpbGQoZWxlbWVudC53cmFwcGVyKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgdW5zaGlmdEVsZW1lbnRUb0Ryb3Bab25lKHpvbmVOYW1lLCBlbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5kenNbem9uZU5hbWVdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuZHpOYW1lID0gem9uZU5hbWU7XG4gICAgICAgIGVsZW1lbnQucGFyZW50ID0gdGhpcztcblxuICAgICAgICB0aGlzLmR6c1t6b25lTmFtZV0uY2hpbGRyZW4udW5zaGlmdChlbGVtZW50LndyYXBwZXIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuZHpzW3pvbmVOYW1lXS5lbC5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5kenNbem9uZU5hbWVdLmVsLmluc2VydEJlZm9yZShlbGVtZW50LndyYXBwZXIsIHRoaXMuZHpzW3pvbmVOYW1lXS5lbC5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmR6c1t6b25lTmFtZV0uZWwuYXBwZW5kQ2hpbGQoZWxlbWVudC53cmFwcGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBpbnNlcnRCZWZvcmVFbGVtZW50VG9Ecm9wWm9uZSh6b25lTmFtZSwgYmVmb3JlLCBlbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5kenNbem9uZU5hbWVdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuZHpOYW1lID0gem9uZU5hbWU7XG4gICAgICAgIGVsZW1lbnQucGFyZW50ID0gdGhpcztcblxuICAgICAgICB0aGlzLmR6c1t6b25lTmFtZV0uY2hpbGRyZW4uc3BsaWNlKHRoaXMuZHpzW3pvbmVOYW1lXS5jaGlsZHJlbi5pbmRleE9mKGJlZm9yZS53cmFwcGVyKSwgMCwgZWxlbWVudC53cmFwcGVyKTtcbiAgICAgICAgYmVmb3JlLndyYXBwZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIGVsZW1lbnQud3JhcHBlcik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZW50RWxlbWVudDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9FbGVtZW50cy9Db250ZW50RWxlbWVudC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _dragula = __webpack_require__(23);\n\nvar _dragula2 = _interopRequireDefault(_dragula);\n\nvar _ContentElement = __webpack_require__(21);\n\nvar _ContentElement2 = _interopRequireDefault(_ContentElement);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Utils = __webpack_require__(20);\n\nvar _blueprints = __webpack_require__(35);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Drake = function () {\n    function Drake() {\n        _classCallCheck(this, Drake);\n\n        this.drake = null;\n\n        this.topScroll = null;\n        this.bottomScroll = null;\n        this.scrollSpeed = null;\n        this.lastPosition = null;\n\n        this.scrollHandler = this.scrollHandler.bind(this);\n    }\n\n    _createClass(Drake, [{\n        key: 'initDrake',\n        value: function initDrake() {\n            var _this = this;\n\n            var containers = [].concat(_toConsumableArray(document.querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=\"\"])')));\n            containers.unshift.apply(containers, _toConsumableArray(document.querySelectorAll('.source')));\n\n            var contains = function contains(a, b) {\n                return a.contains ? a != b && a.contains(b) : !!(a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_CONTAINED_BY);\n            };\n\n            try {\n                this.drake = (0, _dragula2.default)(containers, {\n                    direction: 'horizontal',\n                    copy: function copy(el, source) {\n                        return source.classList.contains('source');\n                    },\n                    accepts: function accepts(el, target) {\n                        if (!contains(el, target) === false) {\n                            return false;\n                        }\n\n                        return !target.classList.contains('source');\n                    },\n                    moves: function moves(el, source, handle, sibling) {\n                        if (source.dataset.fredDropzone !== undefined && source.dataset.fredDropzone !== '') {\n                            return handle.classList.contains('handle');\n                        }\n\n                        return true;\n                    }\n                });\n            } catch (err) {}\n\n            this.drake.on('cloned', function (clone, original, type) {\n                if (type === 'copy') {\n                    clone.lastChild.elementOptions = original.lastChild.elementOptions;\n                    clone.lastChild.elementMarkup = original.lastChild.elementMarkup;\n                }\n            });\n\n            this.drake.on('drop', function (el, target, source, sibling) {\n                //emitter.emit('fred-dragula-drop', el, target, source, sibling);\n\n                if (source.classList.contains('source') && el.parentNode) {\n                    var parent = target.fredEl || null;\n\n                    if (source.classList.contains('elements-source')) {\n                        var contentElement = new _ContentElement2.default(el.lastChild, target.dataset.fredDropzone, parent);\n                        contentElement.render().then(function () {\n                            if (parent) {\n                                if (sibling === null) {\n                                    parent.dzs[target.dataset.fredDropzone].children.push(contentElement.wrapper);\n                                } else {\n                                    parent.dzs[target.dataset.fredDropzone].children.splice(parent.dzs[target.dataset.fredDropzone].children.indexOf(sibling), 0, contentElement.wrapper);\n                                }\n                            }\n\n                            el.parentNode.replaceChild(contentElement.wrapper, el);\n\n                            var event = new CustomEvent('FredElementDrop', { detail: { fredEl: contentElement } });\n                            document.body.dispatchEvent(event);\n\n                            var jsElements = contentElement.wrapper.querySelectorAll('[data-fred-on-drop]');\n                            var _iteratorNormalCompletion = true;\n                            var _didIteratorError = false;\n                            var _iteratorError = undefined;\n\n                            try {\n                                for (var _iterator = jsElements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                    var jsEl = _step.value;\n\n                                    if (window[jsEl.dataset.fredOnDrop]) {\n                                        window[jsEl.dataset.fredOnDrop](contentElement);\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError = true;\n                                _iteratorError = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion && _iterator.return) {\n                                        _iterator.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError) {\n                                        throw _iteratorError;\n                                    }\n                                }\n                            }\n\n                            _this.reloadContainers();\n                        });\n                    }\n\n                    if (source.classList.contains('blueprints-source')) {\n                        _EE2.default.emit('fred-loading', _Config2.default.lng('fred.fe.blueprints.building_content_from_blueprint'));\n\n                        el.remove();\n\n                        (0, _blueprints.loadBlueprint)(el.lastChild.dataset.fredBlueprintId).then(function (json) {\n                            (0, _Utils.buildBlueprint)(json.data, parent, target, sibling).then(function () {\n                                drake.reloadContainers();\n                                _EE2.default.emit('fred-loading-hide');\n                            });\n                        }).catch(function (err) {\n                            console.log(err);\n                        });\n                    }\n                } else {\n                    if (target && el.fredEl) {\n                        if (el.fredEl.parent) {\n                            el.fredEl.parent.dzs[source.dataset.fredDropzone].children.splice(el.fredEl.parent.dzs[source.dataset.fredDropzone].children.indexOf(el), 1);\n                        }\n\n                        var _parent = target.fredEl || null;\n                        if (_parent) {\n                            if (sibling === null) {\n                                _parent.dzs[target.dataset.fredDropzone].children.push(el);\n                            } else {\n                                _parent.dzs[target.dataset.fredDropzone].children.splice(_parent.dzs[target.dataset.fredDropzone].children.indexOf(sibling), 0, el);\n                            }\n                        }\n                        el.fredEl.parent = _parent;\n                        el.fredEl.dzName = target.dataset.fredDropzone;\n                    }\n\n                    _this.reloadContainers();\n                }\n            });\n\n            this.drake.on('drag', function (el, source) {\n                _this.registerScroller();\n\n                var dropZones = document.querySelectorAll('[data-fred-dropzone]');\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = dropZones[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var zone = _step2.value;\n\n                        zone.classList.add('fred--dropzone_highlight');\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n\n                _EE2.default.emit('fred-sidebar-hide', true);\n            });\n\n            this.drake.on('dragend', function (el) {\n                _this.removeScroller();\n\n                var dropZones = document.querySelectorAll('[data-fred-dropzone]');\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                    for (var _iterator3 = dropZones[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                        var zone = _step3.value;\n\n                        zone.classList.remove('fred--dropzone_highlight');\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                            _iterator3.return();\n                        }\n                    } finally {\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n\n                _EE2.default.emit('fred-sidebar-show', true);\n            });\n        }\n    }, {\n        key: 'cancelScroll',\n        value: function cancelScroll(type) {\n            if (this[type + 'Scroll']) {\n                clearInterval(this[type + 'Scroll']);\n                this[type + 'Scroll'] = null;\n                this.scrollSpeed = null;\n                this.lastPosition = null;\n            }\n        }\n    }, {\n        key: 'scrollWindow',\n        value: function scrollWindow(e, type, breakpoints) {\n            var _this2 = this;\n\n            var start = false;\n            var speed = null;\n\n            breakpoints.forEach(function (breakpoint) {\n                if (type === 'top') {\n                    var currentBreakpoint = e.y > window.innerHeight - breakpoint.offset;\n                    start = start || currentBreakpoint;\n\n                    if (currentBreakpoint) {\n                        speed = breakpoint.speed;\n                    }\n                } else {\n                    var _currentBreakpoint = e.y < breakpoint.offset;\n                    start = start || _currentBreakpoint;\n\n                    if (_currentBreakpoint) {\n                        speed = -1 * breakpoint.speed;\n                    }\n                }\n            });\n\n            if (start) {\n                if (this[type + 'Scroll'] && speed !== this.scrollSpeed) {\n                    clearInterval(this[type + 'Scroll']);\n                    this[type + 'Scroll'] = null;\n                }\n\n                if (this[type + 'Scroll'] === null) {\n                    this.lastPosition = window.innerHeight + window.scrollY;\n\n                    this[type + 'Scroll'] = setInterval(function () {\n                        _this2.scrollSpeed = speed;\n                        window.scrollBy(0, speed);\n                        var newPosition = window.innerHeight + window.scrollY;\n\n                        if (_this2.lastPosition === newPosition) {\n                            _this2.cancelScroll(type);\n                        }\n\n                        _this2.lastPosition = newPosition;\n                    }, 5);\n                }\n            } else {\n                this.cancelScroll(type);\n            }\n        }\n    }, {\n        key: 'scrollHandler',\n        value: function scrollHandler(e) {\n            this.scrollWindow(e, 'top', [{ offset: 60, speed: 2 }, { offset: 30, speed: 8 }]);\n            this.scrollWindow(e, 'bottom', [{ offset: 60, speed: 2 }, { offset: 30, speed: 8 }]);\n        }\n    }, {\n        key: 'registerScroller',\n        value: function registerScroller() {\n            this.topScroll = null;\n            this.bottomScroll = null;\n            this.scrollSpeed = null;\n            this.lastPosition = null;\n\n            document.addEventListener('mousemove', this.scrollHandler);\n        }\n    }, {\n        key: 'removeScroller',\n        value: function removeScroller() {\n            document.removeEventListener('mousemove', this.scrollHandler);\n        }\n    }, {\n        key: 'reloadContainers',\n        value: function reloadContainers() {\n            var initContainer = document.querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=\"\"])');\n            var containers = [].concat(_toConsumableArray(initContainer));\n\n            for (var i = 0; i < initContainer.length; i++) {\n                containers.push.apply(containers, _toConsumableArray(initContainer[i].querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=\"\"])')));\n            }\n\n            containers.unshift.apply(containers, _toConsumableArray(document.querySelectorAll('.source')));\n\n            this.drake.containers = containers;\n        }\n    }]);\n\n    return Drake;\n}();\n\nvar drake = new Drake();\n\nexports.default = drake;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0RyYWtlLmpzP2IwNTgiXSwibmFtZXMiOlsiRHJha2UiLCJkcmFrZSIsInRvcFNjcm9sbCIsImJvdHRvbVNjcm9sbCIsInNjcm9sbFNwZWVkIiwibGFzdFBvc2l0aW9uIiwic2Nyb2xsSGFuZGxlciIsImJpbmQiLCJjb250YWluZXJzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwidW5zaGlmdCIsImNvbnRhaW5zIiwiYSIsImIiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkiLCJkaXJlY3Rpb24iLCJjb3B5IiwiZWwiLCJzb3VyY2UiLCJjbGFzc0xpc3QiLCJhY2NlcHRzIiwidGFyZ2V0IiwibW92ZXMiLCJoYW5kbGUiLCJzaWJsaW5nIiwiZGF0YXNldCIsImZyZWREcm9wem9uZSIsInVuZGVmaW5lZCIsImVyciIsIm9uIiwiY2xvbmUiLCJvcmlnaW5hbCIsInR5cGUiLCJsYXN0Q2hpbGQiLCJlbGVtZW50T3B0aW9ucyIsImVsZW1lbnRNYXJrdXAiLCJwYXJlbnROb2RlIiwicGFyZW50IiwiZnJlZEVsIiwiY29udGVudEVsZW1lbnQiLCJyZW5kZXIiLCJ0aGVuIiwiZHpzIiwiY2hpbGRyZW4iLCJwdXNoIiwid3JhcHBlciIsInNwbGljZSIsImluZGV4T2YiLCJyZXBsYWNlQ2hpbGQiLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiYm9keSIsImRpc3BhdGNoRXZlbnQiLCJqc0VsZW1lbnRzIiwianNFbCIsIndpbmRvdyIsImZyZWRPbkRyb3AiLCJyZWxvYWRDb250YWluZXJzIiwiZW1pdCIsImxuZyIsInJlbW92ZSIsImZyZWRCbHVlcHJpbnRJZCIsImpzb24iLCJkYXRhIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZHpOYW1lIiwicmVnaXN0ZXJTY3JvbGxlciIsImRyb3Bab25lcyIsInpvbmUiLCJhZGQiLCJyZW1vdmVTY3JvbGxlciIsImNsZWFySW50ZXJ2YWwiLCJlIiwiYnJlYWtwb2ludHMiLCJzdGFydCIsInNwZWVkIiwiZm9yRWFjaCIsImN1cnJlbnRCcmVha3BvaW50IiwieSIsImlubmVySGVpZ2h0IiwiYnJlYWtwb2ludCIsIm9mZnNldCIsInNjcm9sbFkiLCJzZXRJbnRlcnZhbCIsInNjcm9sbEJ5IiwibmV3UG9zaXRpb24iLCJjYW5jZWxTY3JvbGwiLCJzY3JvbGxXaW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluaXRDb250YWluZXIiLCJpIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0lBRU1BLEs7QUFDRixxQkFBYztBQUFBOztBQUNWLGFBQUtDLEtBQUwsR0FBYSxJQUFiOztBQUVBLGFBQUtDLFNBQUwsR0FBaUIsSUFBakI7QUFDQSxhQUFLQyxZQUFMLEdBQW9CLElBQXBCO0FBQ0EsYUFBS0MsV0FBTCxHQUFtQixJQUFuQjtBQUNBLGFBQUtDLFlBQUwsR0FBb0IsSUFBcEI7O0FBRUEsYUFBS0MsYUFBTCxHQUFxQixLQUFLQSxhQUFMLENBQW1CQyxJQUFuQixDQUF3QixJQUF4QixDQUFyQjtBQUNIOzs7O29DQUVXO0FBQUE7O0FBQ1IsZ0JBQU1DLDBDQUFpQkMsU0FBU0MsZ0JBQVQsQ0FBMEIsbURBQTFCLENBQWpCLEVBQU47QUFDQUYsdUJBQVdHLE9BQVgsc0NBQXVCRixTQUFTQyxnQkFBVCxDQUEwQixTQUExQixDQUF2Qjs7QUFFQSxnQkFBTUUsV0FBVyxTQUFYQSxRQUFXLENBQUNDLENBQUQsRUFBSUMsQ0FBSixFQUFVO0FBQ3ZCLHVCQUFPRCxFQUFFRCxRQUFGLEdBQWFDLEtBQUtDLENBQUwsSUFBVUQsRUFBRUQsUUFBRixDQUFXRSxDQUFYLENBQXZCLEdBQXVDLENBQUMsRUFBRUQsRUFBRUUsdUJBQUYsQ0FBMEJELENBQTFCLElBQStCRSxL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OzsyQ0FFa0I7QUFDZixnQkFBTTBGLGdCQUFnQnZGLFNBQVNDLGdCQUFULENBQTBCLG1EQUExQixDQUF0QjtBQUNBLGdCQUFNRiwwQ0FBaUJ3RixhQUFqQixFQUFOOztBQUVBLGlCQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSUQsY0FBY0UsTUFBbEMsRUFBMENELEdBQTFDLEVBQStDO0FBQzNDekYsMkJBQVd1QyxJQUFYLHNDQUFvQmlELGNBQWNDLENBQWQsRUFBaUJ2RixnQkFBakIsQ0FBa0MsbURBQWxDLENBQXBCO0FBQ0g7O0FBRURGLHVCQUFXRyxPQUFYLHNDQUF1QkYsU0FBU0MsZ0JBQVQsQ0FBMEIsU0FBMUIsQ0FBdkI7O0FBRUEsaUJBQUtULEtBQUwsQ0FBV08sVUFBWCxHQUF3QkEsVUFBeEI7QUFDSDs7Ozs7O0FBR0wsSUFBTVAsUUFBUSxJQUFJRCxLQUFKLEVBQWQ7O2tCQUVlQyxLIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVtaXR0ZXIgZnJvbSAnLi9FRSc7XG5pbXBvcnQgZHJhZ3VsYSBmcm9tICdkcmFndWxhJztcbmltcG9ydCBDb250ZW50RWxlbWVudCBmcm9tICcuL0NvbXBvbmVudHMvU2lkZWJhci9FbGVtZW50cy9Db250ZW50RWxlbWVudCc7XG5pbXBvcnQgZnJlZENvbmZpZyBmcm9tIFwiLi9Db25maWdcIjtcbmltcG9ydCB7IGJ1aWxkQmx1ZXByaW50IH0gZnJvbSBcIi4vVXRpbHNcIjtcbmltcG9ydCB7IGxvYWRCbHVlcHJpbnQgfSBmcm9tICcuL0FjdGlvbnMvYmx1ZXByaW50cyc7XG5cbmNsYXNzIERyYWtlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kcmFrZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50b3BTY3JvbGwgPSBudWxsO1xuICAgICAgICB0aGlzLmJvdHRvbVNjcm9sbCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyID0gdGhpcy5zY3JvbGxIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgaW5pdERyYWtlKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXJzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtZHJvcHpvbmVdOm5vdChbZGF0YS1mcmVkLWRyb3B6b25lPVwiXCJdKScpXTtcbiAgICAgICAgY29udGFpbmVycy51bnNoaWZ0KC4uLihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc291cmNlJykpKTtcblxuICAgICAgICBjb25zdCBjb250YWlucyA9IChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYS5jb250YWlucyA/IGEgIT0gYiAmJiBhLmNvbnRhaW5zKGIpIDogISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kcmFrZSA9IGRyYWd1bGEoY29udGFpbmVycywge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgICAgICAgICAgIGNvcHk6IGZ1bmN0aW9uIChlbCwgc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdzb3VyY2UnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjY2VwdHM6IGZ1bmN0aW9uIChlbCwgdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGFpbnMoZWwsIHRhcmdldCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvdXJjZScpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW92ZXM6IGZ1bmN0aW9uIChlbCwgc291cmNlLCBoYW5kbGUsIHNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChzb3VyY2UuZGF0YXNldC5mcmVkRHJvcHpvbmUgIT09IHVuZGVmaW5lZCkgJiYgKHNvdXJjZS5kYXRhc2V0LmZyZWREcm9wem9uZSAhPT0gJycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlLmNsYXNzTGlzdC5jb250YWlucygnaGFuZGxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYWtlLm9uKCdjbG9uZWQnLCAoY2xvbmUsIG9yaWdpbmFsLCB0eXBlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvcHknKSB7XG4gICAgICAgICAgICAgICAgY2xvbmUubGFzdENoaWxkLmVsZW1lbnRPcHRpb25zID0gb3JpZ2luYWwubGFzdENoaWxkLmVsZW1lbnRPcHRpb25zO1xuICAgICAgICAgICAgICAgIGNsb25lLmxhc3RDaGlsZC5lbGVtZW50TWFya3VwID0gb3JpZ2luYWwubGFzdENoaWxkLmVsZW1lbnRNYXJrdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZHJha2Uub24oJ2Ryb3AnLCAoZWwsIHRhcmdldCwgc291cmNlLCBzaWJsaW5nKSA9PiB7XG4gICAgICAgICAgICAvL2VtaXR0ZXIuZW1pdCgnZnJlZC1kcmFndWxhLWRyb3AnLCBlbCwgdGFyZ2V0LCBzb3VyY2UsIHNpYmxpbmcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoc291cmNlLmNsYXNzTGlzdC5jb250YWlucygnc291cmNlJykgJiYgZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5mcmVkRWwgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudHMtc291cmNlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudEVsZW1lbnQgPSBuZXcgQ29udGVudEVsZW1lbnQoZWwubGFzdENoaWxkLCB0YXJnZXQuZGF0YXNldC5mcmVkRHJvcHpvbmUsIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50LnJlbmRlcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5kenNbdGFyZ2V0LmRhdGFzZXQuZnJlZERyb3B6b25lXS5jaGlsZHJlbi5wdXNoKGNvbnRlbnRFbGVtZW50LndyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5kenNbdGFyZ2V0LmRhdGFzZXQuZnJlZERyb3B6b25lXS5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmR6c1t0YXJnZXQuZGF0YXNldC5mcmVkRHJvcHpvbmVdLmNoaWxkcmVuLmluZGV4T2Yoc2libGluZyksIDAsIGNvbnRlbnRFbGVtZW50LndyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY29udGVudEVsZW1lbnQud3JhcHBlciwgZWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnRnJlZEVsZW1lbnREcm9wJywge2RldGFpbDoge2ZyZWRFbDogY29udGVudEVsZW1lbnR9fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc0VsZW1lbnRzID0gY29udGVudEVsZW1lbnQud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVkLW9uLWRyb3BdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqc0VsIG9mIGpzRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93W2pzRWwuZGF0YXNldC5mcmVkT25Ecm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dbanNFbC5kYXRhc2V0LmZyZWRPbkRyb3BdKGNvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkQ29udGFpbmVycygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmNsYXNzTGlzdC5jb250YWlucygnYmx1ZXByaW50cy1zb3VyY2UnKSkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtbG9hZGluZycsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLmJsdWVwcmludHMuYnVpbGRpbmdfY29udGVudF9mcm9tX2JsdWVwcmludCcpKTtcblxuICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxvYWRCbHVlcHJpbnQoZWwubGFzdENoaWxkLmRhdGFzZXQuZnJlZEJsdWVwcmludElkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRCbHVlcHJpbnQoanNvbi5kYXRhLCBwYXJlbnQsIHRhcmdldCwgc2libGluZykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWtlLnJlbG9hZENvbnRhaW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmctaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgZWwuZnJlZEVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5mcmVkRWwucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5mcmVkRWwucGFyZW50LmR6c1tzb3VyY2UuZGF0YXNldC5mcmVkRHJvcHpvbmVdLmNoaWxkcmVuLnNwbGljZShlbC5mcmVkRWwucGFyZW50LmR6c1tzb3VyY2UuZGF0YXNldC5mcmVkRHJvcHpvbmVdLmNoaWxkcmVuLmluZGV4T2YoZWwpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5mcmVkRWwgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZHpzW3RhcmdldC5kYXRhc2V0LmZyZWREcm9wem9uZV0uY2hpbGRyZW4ucHVzaChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5kenNbdGFyZ2V0LmRhdGFzZXQuZnJlZERyb3B6b25lXS5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmR6c1t0YXJnZXQuZGF0YXNldC5mcmVkRHJvcHpvbmVdLmNoaWxkcmVuLmluZGV4T2Yoc2libGluZyksIDAsIGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbC5mcmVkRWwucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgICAgICAgICBlbC5mcmVkRWwuZHpOYW1lID0gdGFyZ2V0LmRhdGFzZXQuZnJlZERyb3B6b25lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkQ29udGFpbmVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRyYWtlLm9uKCdkcmFnJywgKGVsLCBzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJTY3JvbGxlcigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkcm9wWm9uZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVkLWRyb3B6b25lXScpO1xuICAgICAgICAgICAgZm9yIChsZXQgem9uZSBvZiBkcm9wWm9uZXMpIHtcbiAgICAgICAgICAgICAgICB6b25lLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWRyb3B6b25lX2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtc2lkZWJhci1oaWRlJywgdHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZHJha2Uub24oJ2RyYWdlbmQnLCBlbCA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVNjcm9sbGVyKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGRyb3Bab25lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZyZWQtZHJvcHpvbmVdJyk7XG4gICAgICAgICAgICBmb3IgKGxldCB6b25lIG9mIGRyb3Bab25lcykge1xuICAgICAgICAgICAgICAgIHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0tZHJvcHpvbmVfaGlnaGxpZ2h0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLXNob3cnLCB0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuICAgIFxuICAgIGNhbmNlbFNjcm9sbCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzW3R5cGUgKyAnU2Nyb2xsJ10pIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpc1t0eXBlICsgJ1Njcm9sbCddKTtcbiAgICAgICAgICAgIHRoaXNbdHlwZSArICdTY3JvbGwnXSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFNwZWVkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzY3JvbGxXaW5kb3coZSwgdHlwZSwgYnJlYWtwb2ludHMpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIGxldCBzcGVlZCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICBicmVha3BvaW50cy5mb3JFYWNoKGJyZWFrcG9pbnQgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd0b3AnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEJyZWFrcG9pbnQgPSBlLnkgPiAod2luZG93LmlubmVySGVpZ2h0IC0gYnJlYWtwb2ludC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQgfHwgY3VycmVudEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWVkID0gYnJlYWtwb2ludC5zcGVlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QnJlYWtwb2ludCA9IGUueSA8IGJyZWFrcG9pbnQub2Zmc2V0O1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQgfHwgY3VycmVudEJyZWFrcG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQgPSAtMSAqIGJyZWFrcG9pbnQuc3BlZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdGFydCkge1xuICAgICAgICAgICAgaWYgKHRoaXNbdHlwZSArICdTY3JvbGwnXSAmJiAoc3BlZWQgIT09IHRoaXMuc2Nyb2xsU3BlZWQpKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzW3R5cGUgKyAnU2Nyb2xsJ10pO1xuICAgICAgICAgICAgICAgIHRoaXNbdHlwZSArICdTY3JvbGwnXSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzW3R5cGUgKyAnU2Nyb2xsJ10gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHdpbmRvdy5pbm5lckhlaWdodCArIHdpbmRvdy5zY3JvbGxZO1xuXG4gICAgICAgICAgICAgICAgdGhpc1t0eXBlICsgJ1Njcm9sbCddID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFNwZWVkID0gc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBzcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gd2luZG93LmlubmVySGVpZ2h0ICsgd2luZG93LnNjcm9sbFk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5sYXN0UG9zaXRpb24gPT09IG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFNjcm9sbCh0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gICAgICAgICAgICAgICAgfSwgNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFNjcm9sbCh0eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzY3JvbGxIYW5kbGVyKGUpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxXaW5kb3coZSwgJ3RvcCcsIFt7b2Zmc2V0OiA2MCwgc3BlZWQ6IDJ9LHtvZmZzZXQ6MzAsIHNwZWVkOiA4fV0pO1xuICAgICAgICB0aGlzLnNjcm9sbFdpbmRvdyhlLCAnYm90dG9tJywgW3tvZmZzZXQ6IDYwLCBzcGVlZDogMn0se29mZnNldDozMCwgc3BlZWQ6IDh9XSk7XG4gICAgfVxuICAgIFxuICAgIHJlZ2lzdGVyU2Nyb2xsZXIoKSB7XG4gICAgICAgIHRoaXMudG9wU2Nyb2xsID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3R0b21TY3JvbGwgPSBudWxsO1xuICAgICAgICB0aGlzLnNjcm9sbFNwZWVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSBudWxsO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG4gICAgfVxuICAgIFxuICAgIHJlbW92ZVNjcm9sbGVyKCkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuICAgIH1cblxuICAgIHJlbG9hZENvbnRhaW5lcnMoKSB7XG4gICAgICAgIGNvbnN0IGluaXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVkLWRyb3B6b25lXTpub3QoW2RhdGEtZnJlZC1kcm9wem9uZT1cIlwiXSknKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVycyA9IFsuLi5pbml0Q29udGFpbmVyXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRhaW5lcnMucHVzaCguLi4oaW5pdENvbnRhaW5lcltpXS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVkLWRyb3B6b25lXTpub3QoW2RhdGEtZnJlZC1kcm9wem9uZT1cIlwiXSknKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVycy51bnNoaWZ0KC4uLihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc291cmNlJykpKTtcblxuICAgICAgICB0aGlzLmRyYWtlLmNvbnRhaW5lcnMgPSBjb250YWluZXJzO1xuICAgIH1cbn1cblxuY29uc3QgZHJha2UgPSBuZXcgRHJha2UoKTtcblxuZXhwb3J0IGRlZmF1bHQgZHJha2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9EcmFrZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\nvar emitter = __webpack_require__(24);\nvar crossvent = __webpack_require__(31);\nvar classes = __webpack_require__(34);\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n    // truthy check fixes #239, equality fixes #207\n    if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {\n      return;\n    }\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e);\n      var clientY = getCoord('clientY', e);\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  var p = point || {};\n  var state = p.className;\n  var el;\n  p.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  p.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2RyYWd1bGEvZHJhZ3VsYS5qcz8xYTUzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGNBQWM7QUFDZCxZQUFZO0FBQ1osZUFBZTtBQUNmLGVBQWU7QUFDZixhQUFhO0FBQ2IsYUFBYTtBQUNiLHNCQUFzQjtBQUN0QixzQkFBc0I7QUFDdEIsWUFBWTtBQUNaLG1CQUFtQjtBQUNuQiw2QkFBNkI7QUFDN0IsZUFBZTs7QUFFZjtBQUNBLDJCQUEyQixrQkFBa0I7QUFDN0MsNkJBQTZCLG9CQUFvQjtBQUNqRCw2QkFBNkIsMkJBQTJCO0FBQ3hELGdDQUFnQyx3Q0FBd0M7QUFDeEUsaUNBQWlDLHVCQUF1QjtBQUN4RCwwQkFBMEIsZ0JBQWdCO0FBQzFDLG9DQUFvQywwQkFBMEI7QUFDOUQsbUNBQW1DLHlCQUF5QjtBQUM1RCxtQ0FBbUMseUJBQXlCO0FBQzVELCtCQUErQiwwQkFBMEI7QUFDekQsOENBQThDLG1DQUFtQztBQUNqRixxQ0FBcUMsOEJBQThCOztBQUVuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixxQkFBcUI7QUFDckIsT0FBTztBQUNQLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBlbWl0dGVyID0gcmVxdWlyZSgnY29udHJhL2VtaXR0ZXInKTtcbnZhciBjcm9zc3ZlbnQgPSByZXF1aXJlKCdjcm9zc3ZlbnQnKTtcbnZhciBjbGFzc2VzID0gcmVxdWlyZSgnLi9jbGFzc2VzJyk7XG52YXIgZG9jID0gZG9jdW1lbnQ7XG52YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuZnVuY3Rpb24gZHJhZ3VsYSAoaW5pdGlhbENvbnRhaW5lcnMsIG9wdGlvbnMpIHtcbiAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmIChsZW4gPT09IDEgJiYgQXJyYXkuaXNBcnJheShpbml0aWFsQ29udGFpbmVycykgPT09IGZhbHNlKSB7XG4gICAgb3B0aW9ucyA9IGluaXRpYWxDb250YWluZXJzO1xuICAgIGluaXRpYWxDb250YWluZXJzID0gW107XG4gIH1cbiAgdmFyIF9taXJyb3I7IC8vIG1pcnJvciBpbWFnZVxuICB2YXIgX3NvdXJjZTsgLy8gc291cmNlIGNvbnRhaW5lclxuICB2YXIgX2l0ZW07IC8vIGl0ZW0gYmVpbmcgZHJhZ2dlZFxuICB2YXIgX29mZnNldFg7IC8vIHJlZmVyZW5jZSB4XG4gIHZhciBfb2Zmc2V0WTsgLy8gcmVmZXJlbmNlIHlcbiAgdmFyIF9tb3ZlWDsgLy8gcmVmZXJlbmNlIG1vdmUgeFxuICB2YXIgX21vdmVZOyAvLyByZWZlcmVuY2UgbW92ZSB5XG4gIHZhciBfaW5pdGlhbFNpYmxpbmc7IC8vIHJlZmVyZW5jZSBzaWJsaW5nIHdoZW4gZ3JhYmJlZFxuICB2YXIgX2N1cnJlbnRTaWJsaW5nOyAvLyByZWZlcmVuY2Ugc2libGluZyBub3dcbiAgdmFyIF9jb3B5OyAvLyBpdGVtIHVzZWQgZm9yIGNvcHlpbmdcbiAgdmFyIF9yZW5kZXJUaW1lcjsgLy8gdGltZXIgZm9yIHNldFRpbWVvdXQgcmVuZGVyTWlycm9ySW1hZ2VcbiAgdmFyIF9sYXN0RHJvcFRhcmdldCA9IG51bGw7IC8vIGxhc3QgY29udGFpbmVyIGl0ZW0gd2FzIG92ZXJcbiAgdmFyIF9ncmFiYmVkOyAvLyBob2xkcyBtb3VzZWRvd24gY29udGV4dCB1bnRpbCBmaXJzdCBtb3VzZW1vdmVcblxuICB2YXIgbyA9IG9wdGlvbnMgfHwge307XG4gIGlmIChvLm1vdmVzID09PSB2b2lkIDApIHsgby5tb3ZlcyA9IGFsd2F5czsgfVxuICBpZiAoby5hY2NlcHRzID09PSB2b2lkIDApIHsgby5hY2NlcHRzID0gYWx3YXlzOyB9XG4gIGlmIChvLmludmFsaWQgPT09IHZvaWQgMCkgeyBvLmludmFsaWQgPSBpbnZhbGlkVGFyZ2V0OyB9XG4gIGlmIChvLmNvbnRhaW5lcnMgPT09IHZvaWQgMCkgeyBvLmNvbnRhaW5lcnMgPSBpbml0aWFsQ29udGFpbmVycyB8fCBbXTsgfVxuICBpZiAoby5pc0NvbnRhaW5lciA9PT0gdm9pZCAwKSB7IG8uaXNDb250YWluZXIgPSBuZXZlcjsgfVxuICBpZiAoby5jb3B5ID09PSB2b2lkIDApIHsgby5jb3B5ID0gZmFsc2U7IH1cbiAgaWYgKG8uY29weVNvcnRTb3VyY2UgPT09IHZvaWQgMCkgeyBvLmNvcHlTb3J0U291cmNlID0gZmFsc2U7IH1cbiAgaWYgKG8ucmV2ZXJ0T25TcGlsbCA9PT0gdm9pZCAwKSB7IG8ucmV2ZXJ0T25TcGlsbCA9IGZhbHNlOyB9XG4gIGlmIChvLnJlbW92ZU9uU3BpbGwgPT09IHZvaWQgMCkgeyBvLnJlbW92ZU9uU3BpbGwgPSBmYWxzZTsgfVxuICBpZiAoby5kaXJlY3Rpb24gPT09IHZvaWQgMCkgeyBvLmRpcmVjdGlvbiA9ICd2ZXJ0aWNhbCc7IH1cbiAgaWYgKG8uaWdub3JlSW5wdXRUZXh0U2VsZWN0aW9uID09PSB2b2lkIDApIHsgby5pZ25vcmVJbnB1dFRleHRTZWxlY3Rpb24gPSB0cnVlOyB9XG4gIGlmIChvLm1pcnJvckNvbnRhaW5lciA9PT0gdm9pZCAwKSB7IG8ubWlycm9yQ29udGFpbmVyID0gZG9jLmJvZHk7IH1cblxuICB2YXIgZHJha2UgPSBlbWl0dGVyKHtcbiAgICBjb250YWluZXJzOiBvLmNvbnRhaW5lcnMsXG4gICAgc3RhcnQ6IG1hbnVhbFN0YXJ0LFxuICAgIGVuZDogZW5kLFxuICAgIGNhbmNlbDogY2FuY2VsLFxuICAgIHJlbW92ZTogcmVtb3ZlLFxuICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgY2FuTW92ZTogY2FuTW92ZSxcbiAgICBkcmFnZ2luZzogZmFsc2VcbiAgfSk7XG5cbiAgaWYgKG8ucmVtb3ZlT25TcGlsbCA9PT0gdHJ1ZSkge1xuICAgIGRyYWtlLm9uKCdvdmVyJywgc3BpbGxPdmVyKS5vbignb3V0Jywgc3BpbGxPdXQpO1xuICB9XG5cbiAgZXZlbnRzKCk7XG5cbiAgcmV0dXJuIGRyYWtlO1xuXG4gIGZ1bmN0aW9uIGlzQ29udGFpbmVyIChlbCkge1xuICAgIHJldHVybiBkcmFrZS5jb250YWluZXJzLmluZGV4T2YoZWwpICE9PSAtMSB8fCBvLmlzQ29udGFpbmVyKGVsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV2ZW50cyAocmVtb3ZlKSB7XG4gICAgdmFyIG9wID0gcmVtb3ZlID8gJ3JlbW92ZScgOiAnYWRkJztcbiAgICB0b3VjaHkoZG9jdW1lbnRFbGVtZW50LCBvcCwgJ21vdXNlZG93bicsIGdyYWIpO1xuICAgIHRvdWNoeShkb2N1bWVudEVsZW1lbnQsIG9wLCAnbW91c2V1cCcsIHJlbGVhc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXZlbnR1YWxNb3ZlbWVudHMgKHJlbW92ZSkge1xuICAgIHZhciBvcCA9IHJlbW92ZSA/ICdyZW1vdmUnIDogJ2FkZCc7XG4gICAgdG91Y2h5KGRvY3VtZW50RWxlbWVudCwgb3AsICdtb3VzZW1vdmUnLCBzdGFydEJlY2F1c2VNb3VzZU1vdmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVtZW50cyAocmVtb3ZlKSB7XG4gICAgdmFyIG9wID0gcmVtb3ZlID8gJ3JlbW92ZScgOiAnYWRkJztcbiAgICBjcm9zc3ZlbnRbb3BdKGRvY3VtZW50RWxlbWVudCwgJ3NlbGVjdHN0YXJ0JywgcHJldmVudEdyYWJiZWQpOyAvLyBJRThcbiAgICBjcm9zc3ZlbnRbb3BdKGRvY3VtZW50RWxlbWVudCwgJ2NsaWNrJywgcHJldmVudEdyYWJiZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSAoKSB7XG4gICAgZXZlbnRzKHRydWUpO1xuICAgIHJlbGVhc2Uoe30pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJldmVudEdyYWJiZWQgKGUpIHtcbiAgICBpZiAoX2dyYWJiZWQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBncmFiIChlKSB7XG4gICAgX21vdmVYID0gZS5jbGllbnRYO1xuICAgIF9tb3ZlWSA9IGUuY2xpZW50WTtcblxuICAgIHZhciBpZ25vcmUgPSB3aGljaE1vdXNlQnV0dG9uKGUpICE9PSAxIHx8IGUubWV0YUtleSB8fCBlLmN0cmxLZXk7XG4gICAgaWYgKGlnbm9yZSkge1xuICAgICAgcmV0dXJuOyAvLyB3ZSBvbmx5IGNhcmUgYWJvdXQgaG9uZXN0LXRvLWdvZCBsZWZ0IGNsaWNrcyBhbmQgdG91Y2ggZXZlbnRzXG4gICAgfVxuICAgIHZhciBpdGVtID0gZS50YXJnZXQ7XG4gICAgdmFyIGNvbnRleHQgPSBjYW5TdGFydChpdGVtKTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2dyYWJiZWQgPSBjb250ZXh0O1xuICAgIGV2ZW50dWFsTW92ZW1lbnRzKCk7XG4gICAgaWYgKGUudHlwZSA9PT0gJ21vdXNlZG93bicpIHtcbiAgICAgIGlmIChpc0lucHV0KGl0ZW0pKSB7IC8vIHNlZSBhbHNvOiBodHRwczovL2dpdGh1Yi5jb20vYmV2YWNxdWEvZHJhZ3VsYS9pc3N1ZXMvMjA4XG4gICAgICAgIGl0ZW0uZm9jdXMoKTsgLy8gZml4ZXMgaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEvaXNzdWVzLzE3NlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBmaXhlcyBodHRwczovL2dpdGh1Yi5jb20vYmV2YWNxdWEvZHJhZ3VsYS9pc3N1ZXMvMTU1XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRCZWNhdXNlTW91c2VNb3ZlZCAoZSkge1xuICAgIGlmICghX2dyYWJiZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHdoaWNoTW91c2VCdXR0b24oZSkgPT09IDApIHtcbiAgICAgIHJlbGVhc2Uoe30pO1xuICAgICAgcmV0dXJuOyAvLyB3aGVuIHRleHQgaXMgc2VsZWN0ZWQgb24gYW4gaW5wdXQgYW5kIHRoZW4gZHJhZ2dlZCwgbW91c2V1cCBkb2Vzbid0IGZpcmUuIHRoaXMgaXMgb3VyIG9ubHkgaG9wZVxuICAgIH1cbiAgICAvLyB0cnV0aHkgY2hlY2sgZml4ZXMgIzIzOSwgZXF1YWxpdHkgZml4ZXMgIzIwN1xuICAgIGlmIChlLmNsaWVudFggIT09IHZvaWQgMCAmJiBlLmNsaWVudFggPT09IF9tb3ZlWCAmJiBlLmNsaWVudFkgIT09IHZvaWQgMCAmJiBlLmNsaWVudFkgPT09IF9tb3ZlWSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoby5pZ25vcmVJbnB1dFRleHRTZWxlY3Rpb24pIHtcbiAgICAgIHZhciBjbGllbnRYID0gZ2V0Q29vcmQoJ2NsaWVudFgnLCBlKTtcbiAgICAgIHZhciBjbGllbnRZID0gZ2V0Q29vcmQoJ2NsaWVudFknLCBlKTtcbiAgICAgIHZhciBlbGVtZW50QmVoaW5kQ3Vyc29yID0gZG9jLmVsZW1lbnRGcm9tUG9pbnQoY2xpZW50WCwgY2xpZW50WSk7XG4gICAgICBpZiAoaXNJbnB1dChlbGVtZW50QmVoaW5kQ3Vyc29yKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGdyYWJiZWQgPSBfZ3JhYmJlZDsgLy8gY2FsbCB0byBlbmQoKSB1bnNldHMgX2dyYWJiZWRcbiAgICBldmVudHVhbE1vdmVtZW50cyh0cnVlKTtcbiAgICBtb3ZlbWVudHMoKTtcbiAgICBlbmQoKTtcbiAgICBzdGFydChncmFiYmVkKTtcblxuICAgIHZhciBvZmZzZXQgPSBnZXRPZmZzZXQoX2l0ZW0pO1xuICAgIF9vZmZzZXRYID0gZ2V0Q29vcmQoJ3BhZ2VYJywgZSkgLSBvZmZzZXQubGVmdDtcbiAgICBfb2Zmc2V0WSA9IGdldENvb3JkKCdwYWdlWScsIGUpIC0gb2Zmc2V0LnRvcDtcblxuICAgIGNsYXNzZXMuYWRkKF9jb3B5IHx8IF9pdGVtLCAnZ3UtdHJhbnNpdCcpO1xuICAgIHJlbmRlck1pcnJvckltYWdlKCk7XG4gICAgZHJhZyhlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhblN0YXJ0IChpdGVtKSB7XG4gICAgaWYgKGRyYWtlLmRyYWdnaW5nICYmIF9taXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzQ29udGFpbmVyKGl0ZW0pKSB7XG4gICAgICByZXR1cm47IC8vIGRvbid0IGRyYWcgY29udGFpbmVyIGl0c2VsZlxuICAgIH1cbiAgICB2YXIgaGFuZGxlID0gaXRlbTtcbiAgICB3aGlsZSAoZ2V0UGFyZW50KGl0ZW0pICYmIGlzQ29udGFpbmVyKGdldFBhcmVudChpdGVtKSkgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoby5pbnZhbGlkKGl0ZW0sIGhhbmRsZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbSA9IGdldFBhcmVudChpdGVtKTsgLy8gZHJhZyB0YXJnZXQgc2hvdWxkIGJlIGEgdG9wIGVsZW1lbnRcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBzb3VyY2UgPSBnZXRQYXJlbnQoaXRlbSk7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG8uaW52YWxpZChpdGVtLCBoYW5kbGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1vdmFibGUgPSBvLm1vdmVzKGl0ZW0sIHNvdXJjZSwgaGFuZGxlLCBuZXh0RWwoaXRlbSkpO1xuICAgIGlmICghbW92YWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpdGVtOiBpdGVtLFxuICAgICAgc291cmNlOiBzb3VyY2VcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuTW92ZSAoaXRlbSkge1xuICAgIHJldHVybiAhIWNhblN0YXJ0KGl0ZW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFudWFsU3RhcnQgKGl0ZW0pIHtcbiAgICB2YXIgY29udGV4dCA9IGNhblN0YXJ0KGl0ZW0pO1xuICAgIGlmIChjb250ZXh0KSB7XG4gICAgICBzdGFydChjb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydCAoY29udGV4dCkge1xuICAgIGlmIChpc0NvcHkoY29udGV4dC5pdGVtLCBjb250ZXh0LnNvdXJjZSkpIHtcbiAgICAgIF9jb3B5ID0gY29udGV4dC5pdGVtLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGRyYWtlLmVtaXQoJ2Nsb25lZCcsIF9jb3B5LCBjb250ZXh0Lml0ZW0sICdjb3B5Jyk7XG4gICAgfVxuXG4gICAgX3NvdXJjZSA9IGNvbnRleHQuc291cmNlO1xuICAgIF9pdGVtID0gY29udGV4dC5pdGVtO1xuICAgIF9pbml0aWFsU2libGluZyA9IF9jdXJyZW50U2libGluZyA9IG5leHRFbChjb250ZXh0Lml0ZW0pO1xuXG4gICAgZHJha2UuZHJhZ2dpbmcgPSB0cnVlO1xuICAgIGRyYWtlLmVtaXQoJ2RyYWcnLCBfaXRlbSwgX3NvdXJjZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZhbGlkVGFyZ2V0ICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBlbmQgKCkge1xuICAgIGlmICghZHJha2UuZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGl0ZW0gPSBfY29weSB8fCBfaXRlbTtcbiAgICBkcm9wKGl0ZW0sIGdldFBhcmVudChpdGVtKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1bmdyYWIgKCkge1xuICAgIF9ncmFiYmVkID0gZmFsc2U7XG4gICAgZXZlbnR1YWxNb3ZlbWVudHModHJ1ZSk7XG4gICAgbW92ZW1lbnRzKHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVsZWFzZSAoZSkge1xuICAgIHVuZ3JhYigpO1xuXG4gICAgaWYgKCFkcmFrZS5kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaXRlbSA9IF9jb3B5IHx8IF9pdGVtO1xuICAgIHZhciBjbGllbnRYID0gZ2V0Q29vcmQoJ2NsaWVudFgnLCBlKTtcbiAgICB2YXIgY2xpZW50WSA9IGdldENvb3JkKCdjbGllbnRZJywgZSk7XG4gICAgdmFyIGVsZW1lbnRCZWhpbmRDdXJzb3IgPSBnZXRFbGVtZW50QmVoaW5kUG9pbnQoX21pcnJvciwgY2xpZW50WCwgY2xpZW50WSk7XG4gICAgdmFyIGRyb3BUYXJnZXQgPSBmaW5kRHJvcFRhcmdldChlbGVtZW50QmVoaW5kQ3Vyc29yLCBjbGllbnRYLCBjbGllbnRZKTtcbiAgICBpZiAoZHJvcFRhcmdldCAmJiAoKF9jb3B5ICYmIG8uY29weVNvcnRTb3VyY2UpIHx8ICghX2NvcHkgfHwgZHJvcFRhcmdldCAhPT0gX3NvdXJjZSkpKSB7XG4gICAgICBkcm9wKGl0ZW0sIGRyb3BUYXJnZXQpO1xuICAgIH0gZWxzZSBpZiAoby5yZW1vdmVPblNwaWxsKSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuY2VsKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZHJvcCAoaXRlbSwgdGFyZ2V0KSB7XG4gICAgdmFyIHBhcmVudCA9IGdldFBhcmVudChpdGVtKTtcbiAgICBpZiAoX2NvcHkgJiYgby5jb3B5U29ydFNvdXJjZSAmJiB0YXJnZXQgPT09IF9zb3VyY2UpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChfaXRlbSk7XG4gICAgfVxuICAgIGlmIChpc0luaXRpYWxQbGFjZW1lbnQodGFyZ2V0KSkge1xuICAgICAgZHJha2UuZW1pdCgnY2FuY2VsJywgaXRlbSwgX3NvdXJjZSwgX3NvdXJjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWtlLmVtaXQoJ2Ryb3AnLCBpdGVtLCB0YXJnZXQsIF9zb3VyY2UsIF9jdXJyZW50U2libGluZyk7XG4gICAgfVxuICAgIGNsZWFudXAoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZSAoKSB7XG4gICAgaWYgKCFkcmFrZS5kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaXRlbSA9IF9jb3B5IHx8IF9pdGVtO1xuICAgIHZhciBwYXJlbnQgPSBnZXRQYXJlbnQoaXRlbSk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGl0ZW0pO1xuICAgIH1cbiAgICBkcmFrZS5lbWl0KF9jb3B5ID8gJ2NhbmNlbCcgOiAncmVtb3ZlJywgaXRlbSwgcGFyZW50LCBfc291cmNlKTtcbiAgICBjbGVhbnVwKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwgKHJldmVydCkge1xuICAgIGlmICghZHJha2UuZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJldmVydHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCA/IHJldmVydCA6IG8ucmV2ZXJ0T25TcGlsbDtcbiAgICB2YXIgaXRlbSA9IF9jb3B5IHx8IF9pdGVtO1xuICAgIHZhciBwYXJlbnQgPSBnZXRQYXJlbnQoaXRlbSk7XG4gICAgdmFyIGluaXRpYWwgPSBpc0luaXRpYWxQbGFjZW1lbnQocGFyZW50KTtcbiAgICBpZiAoaW5pdGlhbCA9PT0gZmFsc2UgJiYgcmV2ZXJ0cykge1xuICAgICAgaWYgKF9jb3B5KSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoX2NvcHkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfc291cmNlLmluc2VydEJlZm9yZShpdGVtLCBfaW5pdGlhbFNpYmxpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5pdGlhbCB8fCByZXZlcnRzKSB7XG4gICAgICBkcmFrZS5lbWl0KCdjYW5jZWwnLCBpdGVtLCBfc291cmNlLCBfc291cmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJha2UuZW1pdCgnZHJvcCcsIGl0ZW0sIHBhcmVudCwgX3NvdXJjZSwgX2N1cnJlbnRTaWJsaW5nKTtcbiAgICB9XG4gICAgY2xlYW51cCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYW51cCAoKSB7XG4gICAgdmFyIGl0ZW0gPSBfY29weSB8fCBfaXRlbTtcbiAgICB1bmdyYWIoKTtcbiAgICByZW1vdmVNaXJyb3JJbWFnZSgpO1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjbGFzc2VzLnJtKGl0ZW0sICdndS10cmFuc2l0Jyk7XG4gICAgfVxuICAgIGlmIChfcmVuZGVyVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dChfcmVuZGVyVGltZXIpO1xuICAgIH1cbiAgICBkcmFrZS5kcmFnZ2luZyA9IGZhbHNlO1xuICAgIGlmIChfbGFzdERyb3BUYXJnZXQpIHtcbiAgICAgIGRyYWtlLmVtaXQoJ291dCcsIGl0ZW0sIF9sYXN0RHJvcFRhcmdldCwgX3NvdXJjZSk7XG4gICAgfVxuICAgIGRyYWtlLmVtaXQoJ2RyYWdlbmQnLCBpdGVtKTtcbiAgICBfc291cmNlID0gX2l0ZW0gPSBfY29weSA9IF9pbml0aWFsU2libGluZyA9IF9jdXJyZW50U2libGluZyA9IF9yZW5kZXJUaW1lciA9IF9sYXN0RHJvcFRhcmdldCA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpc0luaXRpYWxQbGFjZW1lbnQgKHRhcmdldCwgcykge1xuICAgIHZhciBzaWJsaW5nO1xuICAgIGlmIChzICE9PSB2b2lkIDApIHtcbiAgICAgIHNpYmxpbmcgPSBzO1xuICAgIH0gZWxzZSBpZiAoX21pcnJvcikge1xuICAgICAgc2libGluZyA9IF9jdXJyZW50U2libGluZztcbiAgICB9IGVsc2Uge1xuICAgICAgc2libGluZyA9IG5leHRFbChfY29weSB8fCBfaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQgPT09IF9zb3VyY2UgJiYgc2libGluZyA9PT0gX2luaXRpYWxTaWJsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZERyb3BUYXJnZXQgKGVsZW1lbnRCZWhpbmRDdXJzb3IsIGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZWxlbWVudEJlaGluZEN1cnNvcjtcbiAgICB3aGlsZSAodGFyZ2V0ICYmICFhY2NlcHRlZCgpKSB7XG4gICAgICB0YXJnZXQgPSBnZXRQYXJlbnQodGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcblxuICAgIGZ1bmN0aW9uIGFjY2VwdGVkICgpIHtcbiAgICAgIHZhciBkcm9wcGFibGUgPSBpc0NvbnRhaW5lcih0YXJnZXQpO1xuICAgICAgaWYgKGRyb3BwYWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1tZWRpYXRlID0gZ2V0SW1tZWRpYXRlQ2hpbGQodGFyZ2V0LCBlbGVtZW50QmVoaW5kQ3Vyc29yKTtcbiAgICAgIHZhciByZWZlcmVuY2UgPSBnZXRSZWZlcmVuY2UodGFyZ2V0LCBpbW1lZGlhdGUsIGNsaWVudFgsIGNsaWVudFkpO1xuICAgICAgdmFyIGluaXRpYWwgPSBpc0luaXRpYWxQbGFjZW1lbnQodGFyZ2V0LCByZWZlcmVuY2UpO1xuICAgICAgaWYgKGluaXRpYWwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIHNob3VsZCBhbHdheXMgYmUgYWJsZSB0byBkcm9wIGl0IHJpZ2h0IGJhY2sgd2hlcmUgaXQgd2FzXG4gICAgICB9XG4gICAgICByZXR1cm4gby5hY2NlcHRzKF9pdGVtLCB0YXJnZXQsIF9zb3VyY2UsIHJlZmVyZW5jZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZHJhZyAoZSkge1xuICAgIGlmICghX21pcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB2YXIgY2xpZW50WCA9IGdldENvb3JkKCdjbGllbnRYJywgZSk7XG4gICAgdmFyIGNsaWVudFkgPSBnZXRDb29yZCgnY2xpZW50WScsIGUpO1xuICAgIHZhciB4ID0gY2xpZW50WCAtIF9vZmZzZXRYO1xuICAgIHZhciB5ID0gY2xpZW50WSAtIF9vZmZzZXRZO1xuXG4gICAgX21pcnJvci5zdHlsZS5sZWZ0ID0geCArICdweCc7XG4gICAgX21pcnJvci5zdHlsZS50b3AgPSB5ICsgJ3B4JztcblxuICAgIHZhciBpdGVtID0gX2NvcHkgfHwgX2l0ZW07XG4gICAgdmFyIGVsZW1lbnRCZWhpbmRDdXJzb3IgPSBnZXRFbGVtZW50QmVoaW5kUG9pbnQoX21pcnJvciwgY2xpZW50WCwgY2xpZW50WSk7XG4gICAgdmFyIGRyb3BUYXJnZXQgPSBmaW5kRHJvcFRhcmdldChlbGVtZW50QmVoaW5kQ3Vyc29yLCBjbGllbnRYLCBjbGllbnRZKTtcbiAgICB2YXIgY2hhbmdlZCA9IGRyb3BUYXJnZXQgIT09IG51bGwgJiYgZHJvcFRhcmdldCAhPT0gX2xhc3REcm9wVGFyZ2V0O1xuICAgIGlmIChjaGFuZ2VkIHx8IGRyb3BUYXJnZXQgPT09IG51bGwpIHtcbiAgICAgIG91dCgpO1xuICAgICAgX2xhc3REcm9wVGFyZ2V0ID0gZHJvcFRhcmdldDtcbiAgICAgIG92ZXIoKTtcbiAgICB9XG4gICAgdmFyIHBhcmVudCA9IGdldFBhcmVudChpdGVtKTtcbiAgICBpZiAoZHJvcFRhcmdldCA9PT0gX3NvdXJjZSAmJiBfY29weSAmJiAhby5jb3B5U29ydFNvdXJjZSkge1xuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZWZlcmVuY2U7XG4gICAgdmFyIGltbWVkaWF0ZSA9IGdldEltbWVkaWF0ZUNoaWxkKGRyb3BUYXJnZXQsIGVsZW1lbnRCZWhpbmRDdXJzb3IpO1xuICAgIGlmIChpbW1lZGlhdGUgIT09IG51bGwpIHtcbiAgICAgIHJlZmVyZW5jZSA9IGdldFJlZmVyZW5jZShkcm9wVGFyZ2V0LCBpbW1lZGlhdGUsIGNsaWVudFgsIGNsaWVudFkpO1xuICAgIH0gZWxzZSBpZiAoby5yZXZlcnRPblNwaWxsID09PSB0cnVlICYmICFfY29weSkge1xuICAgICAgcmVmZXJlbmNlID0gX2luaXRpYWxTaWJsaW5nO1xuICAgICAgZHJvcFRhcmdldCA9IF9zb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChfY29weSAmJiBwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGl0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAocmVmZXJlbmNlID09PSBudWxsICYmIGNoYW5nZWQpIHx8XG4gICAgICByZWZlcmVuY2UgIT09IGl0ZW0gJiZcbiAgICAgIHJlZmVyZW5jZSAhPT0gbmV4dEVsKGl0ZW0pXG4gICAgKSB7XG4gICAgICBfY3VycmVudFNpYmxpbmcgPSByZWZlcmVuY2U7XG4gICAgICBkcm9wVGFyZ2V0Lmluc2VydEJlZm9yZShpdGVtLCByZWZlcmVuY2UpO1xuICAgICAgZHJha2UuZW1pdCgnc2hhZG93JywgaXRlbSwgZHJvcFRhcmdldCwgX3NvdXJjZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdmVkICh0eXBlKSB7IGRyYWtlLmVtaXQodHlwZSwgaXRlbSwgX2xhc3REcm9wVGFyZ2V0LCBfc291cmNlKTsgfVxuICAgIGZ1bmN0aW9uIG92ZXIgKCkgeyBpZiAoY2hhbmdlZCkgeyBtb3ZlZCgnb3ZlcicpOyB9IH1cbiAgICBmdW5jdGlvbiBvdXQgKCkgeyBpZiAoX2xhc3REcm9wVGFyZ2V0KSB7IG1vdmVkKCdvdXQnKTsgfSB9XG4gIH1cblxuICBmdW5jdGlvbiBzcGlsbE92ZXIgKGVsKSB7XG4gICAgY2xhc3Nlcy5ybShlbCwgJ2d1LWhpZGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwaWxsT3V0IChlbCkge1xuICAgIGlmIChkcmFrZS5kcmFnZ2luZykgeyBjbGFzc2VzLmFkZChlbCwgJ2d1LWhpZGUnKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTWlycm9ySW1hZ2UgKCkge1xuICAgIGlmIChfbWlycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZWN0ID0gX2l0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgX21pcnJvciA9IF9pdGVtLmNsb25lTm9kZSh0cnVlKTtcbiAgICBfbWlycm9yLnN0eWxlLndpZHRoID0gZ2V0UmVjdFdpZHRoKHJlY3QpICsgJ3B4JztcbiAgICBfbWlycm9yLnN0eWxlLmhlaWdodCA9IGdldFJlY3RIZWlnaHQocmVjdCkgKyAncHgnO1xuICAgIGNsYXNzZXMucm0oX21pcnJvciwgJ2d1LXRyYW5zaXQnKTtcbiAgICBjbGFzc2VzLmFkZChfbWlycm9yLCAnZ3UtbWlycm9yJyk7XG4gICAgby5taXJyb3JDb250YWluZXIuYXBwZW5kQ2hpbGQoX21pcnJvcik7XG4gICAgdG91Y2h5KGRvY3VtZW50RWxlbWVudCwgJ2FkZCcsICdtb3VzZW1vdmUnLCBkcmFnKTtcbiAgICBjbGFzc2VzLmFkZChvLm1pcnJvckNvbnRhaW5lciwgJ2d1LXVuc2VsZWN0YWJsZScpO1xuICAgIGRyYWtlLmVtaXQoJ2Nsb25lZCcsIF9taXJyb3IsIF9pdGVtLCAnbWlycm9yJyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVNaXJyb3JJbWFnZSAoKSB7XG4gICAgaWYgKF9taXJyb3IpIHtcbiAgICAgIGNsYXNzZXMucm0oby5taXJyb3JDb250YWluZXIsICdndS11bnNlbGVjdGFibGUnKTtcbiAgICAgIHRvdWNoeShkb2N1bWVudEVsZW1lbnQsICdyZW1vdmUnLCAnbW91c2Vtb3ZlJywgZHJhZyk7XG4gICAgICBnZXRQYXJlbnQoX21pcnJvcikucmVtb3ZlQ2hpbGQoX21pcnJvcik7XG4gICAgICBfbWlycm9yID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbW1lZGlhdGVDaGlsZCAoZHJvcFRhcmdldCwgdGFyZ2V0KSB7XG4gICAgdmFyIGltbWVkaWF0ZSA9IHRhcmdldDtcbiAgICB3aGlsZSAoaW1tZWRpYXRlICE9PSBkcm9wVGFyZ2V0ICYmIGdldFBhcmVudChpbW1lZGlhdGUpICE9PSBkcm9wVGFyZ2V0KSB7XG4gICAgICBpbW1lZGlhdGUgPSBnZXRQYXJlbnQoaW1tZWRpYXRlKTtcbiAgICB9XG4gICAgaWYgKGltbWVkaWF0ZSA9PT0gZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGltbWVkaWF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJlZmVyZW5jZSAoZHJvcFRhcmdldCwgdGFyZ2V0LCB4LCB5KSB7XG4gICAgdmFyIGhvcml6b250YWwgPSBvLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgIHZhciByZWZlcmVuY2UgPSB0YXJnZXQgIT09IGRyb3BUYXJnZXQgPyBpbnNpZGUoKSA6IG91dHNpZGUoKTtcbiAgICByZXR1cm4gcmVmZXJlbmNlO1xuXG4gICAgZnVuY3Rpb24gb3V0c2lkZSAoKSB7IC8vIHNsb3dlciwgYnV0IGFibGUgdG8gZmlndXJlIG91dCBhbnkgcG9zaXRpb25cbiAgICAgIHZhciBsZW4gPSBkcm9wVGFyZ2V0LmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGVsO1xuICAgICAgdmFyIHJlY3Q7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZWwgPSBkcm9wVGFyZ2V0LmNoaWxkcmVuW2ldO1xuICAgICAgICByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChob3Jpem9udGFsICYmIChyZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMikgPiB4KSB7IHJldHVybiBlbDsgfVxuICAgICAgICBpZiAoIWhvcml6b250YWwgJiYgKHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyKSA+IHkpIHsgcmV0dXJuIGVsOyB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnNpZGUgKCkgeyAvLyBmYXN0ZXIsIGJ1dCBvbmx5IGF2YWlsYWJsZSBpZiBkcm9wcGVkIGluc2lkZSBhIGNoaWxkIGVsZW1lbnRcbiAgICAgIHZhciByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoeCA+IHJlY3QubGVmdCArIGdldFJlY3RXaWR0aChyZWN0KSAvIDIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc29sdmUoeSA+IHJlY3QudG9wICsgZ2V0UmVjdEhlaWdodChyZWN0KSAvIDIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc29sdmUgKGFmdGVyKSB7XG4gICAgICByZXR1cm4gYWZ0ZXIgPyBuZXh0RWwodGFyZ2V0KSA6IHRhcmdldDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvcHkgKGl0ZW0sIGNvbnRhaW5lcikge1xuICAgIHJldHVybiB0eXBlb2Ygby5jb3B5ID09PSAnYm9vbGVhbicgPyBvLmNvcHkgOiBvLmNvcHkoaXRlbSwgY29udGFpbmVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b3VjaHkgKGVsLCBvcCwgdHlwZSwgZm4pIHtcbiAgdmFyIHRvdWNoID0ge1xuICAgIG1vdXNldXA6ICd0b3VjaGVuZCcsXG4gICAgbW91c2Vkb3duOiAndG91Y2hzdGFydCcsXG4gICAgbW91c2Vtb3ZlOiAndG91Y2htb3ZlJ1xuICB9O1xuICB2YXIgcG9pbnRlcnMgPSB7XG4gICAgbW91c2V1cDogJ3BvaW50ZXJ1cCcsXG4gICAgbW91c2Vkb3duOiAncG9pbnRlcmRvd24nLFxuICAgIG1vdXNlbW92ZTogJ3BvaW50ZXJtb3ZlJ1xuICB9O1xuICB2YXIgbWljcm9zb2Z0ID0ge1xuICAgIG1vdXNldXA6ICdNU1BvaW50ZXJVcCcsXG4gICAgbW91c2Vkb3duOiAnTVNQb2ludGVyRG93bicsXG4gICAgbW91c2Vtb3ZlOiAnTVNQb2ludGVyTW92ZSdcbiAgfTtcbiAgaWYgKGdsb2JhbC5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpIHtcbiAgICBjcm9zc3ZlbnRbb3BdKGVsLCBwb2ludGVyc1t0eXBlXSwgZm4pO1xuICB9IGVsc2UgaWYgKGdsb2JhbC5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgIGNyb3NzdmVudFtvcF0oZWwsIG1pY3Jvc29mdFt0eXBlXSwgZm4pO1xuICB9IGVsc2Uge1xuICAgIGNyb3NzdmVudFtvcF0oZWwsIHRvdWNoW3R5cGVdLCBmbik7XG4gICAgY3Jvc3N2ZW50W29wXShlbCwgdHlwZSwgZm4pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdoaWNoTW91c2VCdXR0b24gKGUpIHtcbiAgaWYgKGUudG91Y2hlcyAhPT0gdm9pZCAwKSB7IHJldHVybiBlLnRvdWNoZXMubGVuZ3RoOyB9XG4gIGlmIChlLndoaWNoICE9PSB2b2lkIDAgJiYgZS53aGljaCAhPT0gMCkgeyByZXR1cm4gZS53aGljaDsgfSAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEvaXNzdWVzLzI2MVxuICBpZiAoZS5idXR0b25zICE9PSB2b2lkIDApIHsgcmV0dXJuIGUuYnV0dG9uczsgfVxuICB2YXIgYnV0dG9uID0gZS5idXR0b247XG4gIGlmIChidXR0b24gIT09IHZvaWQgMCkgeyAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvYmxvYi85OWU4ZmYxYmFhN2FlMzQxZTk0YmI4OWMzZTg0NTcwYzdjM2FkOWVhL3NyYy9ldmVudC5qcyNMNTczLUw1NzVcbiAgICByZXR1cm4gYnV0dG9uICYgMSA/IDEgOiBidXR0b24gJiAyID8gMyA6IChidXR0b24gJiA0ID8gMiA6IDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE9mZnNldCAoZWwpIHtcbiAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiByZWN0LmxlZnQgKyBnZXRTY3JvbGwoJ3Njcm9sbExlZnQnLCAncGFnZVhPZmZzZXQnKSxcbiAgICB0b3A6IHJlY3QudG9wICsgZ2V0U2Nyb2xsKCdzY3JvbGxUb3AnLCAncGFnZVlPZmZzZXQnKVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGwgKHNjcm9sbFByb3AsIG9mZnNldFByb3ApIHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxbb2Zmc2V0UHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGdsb2JhbFtvZmZzZXRQcm9wXTtcbiAgfVxuICBpZiAoZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkge1xuICAgIHJldHVybiBkb2N1bWVudEVsZW1lbnRbc2Nyb2xsUHJvcF07XG4gIH1cbiAgcmV0dXJuIGRvYy5ib2R5W3Njcm9sbFByb3BdO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50QmVoaW5kUG9pbnQgKHBvaW50LCB4LCB5KSB7XG4gIHZhciBwID0gcG9pbnQgfHwge307XG4gIHZhciBzdGF0ZSA9IHAuY2xhc3NOYW1lO1xuICB2YXIgZWw7XG4gIHAuY2xhc3NOYW1lICs9ICcgZ3UtaGlkZSc7XG4gIGVsID0gZG9jLmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gIHAuY2xhc3NOYW1lID0gc3RhdGU7XG4gIHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gbmV2ZXIgKCkgeyByZXR1cm4gZmFsc2U7IH1cbmZ1bmN0aW9uIGFsd2F5cyAoKSB7IHJldHVybiB0cnVlOyB9XG5mdW5jdGlvbiBnZXRSZWN0V2lkdGggKHJlY3QpIHsgcmV0dXJuIHJlY3Qud2lkdGggfHwgKHJlY3QucmlnaHQgLSByZWN0LmxlZnQpOyB9XG5mdW5jdGlvbiBnZXRSZWN0SGVpZ2h0IChyZWN0KSB7IHJldHVybiByZWN0LmhlaWdodCB8fCAocmVjdC5ib3R0b20gLSByZWN0LnRvcCk7IH1cbmZ1bmN0aW9uIGdldFBhcmVudCAoZWwpIHsgcmV0dXJuIGVsLnBhcmVudE5vZGUgPT09IGRvYyA/IG51bGwgOiBlbC5wYXJlbnROb2RlOyB9XG5mdW5jdGlvbiBpc0lucHV0IChlbCkgeyByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ0lOUFVUJyB8fCBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IGVsLnRhZ05hbWUgPT09ICdTRUxFQ1QnIHx8IGlzRWRpdGFibGUoZWwpOyB9XG5mdW5jdGlvbiBpc0VkaXRhYmxlIChlbCkge1xuICBpZiAoIWVsKSB7IHJldHVybiBmYWxzZTsgfSAvLyBubyBwYXJlbnRzIHdlcmUgZWRpdGFibGVcbiAgaWYgKGVsLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ2ZhbHNlJykgeyByZXR1cm4gZmFsc2U7IH0gLy8gc3RvcCB0aGUgbG9va3VwXG4gIGlmIChlbC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykgeyByZXR1cm4gdHJ1ZTsgfSAvLyBmb3VuZCBhIGNvbnRlbnRFZGl0YWJsZSBlbGVtZW50IGluIHRoZSBjaGFpblxuICByZXR1cm4gaXNFZGl0YWJsZShnZXRQYXJlbnQoZWwpKTsgLy8gY29udGVudEVkaXRhYmxlIGlzIHNldCB0byAnaW5oZXJpdCdcbn1cblxuZnVuY3Rpb24gbmV4dEVsIChlbCkge1xuICByZXR1cm4gZWwubmV4dEVsZW1lbnRTaWJsaW5nIHx8IG1hbnVhbGx5KCk7XG4gIGZ1bmN0aW9uIG1hbnVhbGx5ICgpIHtcbiAgICB2YXIgc2libGluZyA9IGVsO1xuICAgIGRvIHtcbiAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLm5leHRTaWJsaW5nO1xuICAgIH0gd2hpbGUgKHNpYmxpbmcgJiYgc2libGluZy5ub2RlVHlwZSAhPT0gMSk7XG4gICAgcmV0dXJuIHNpYmxpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRIb3N0IChlKSB7XG4gIC8vIG9uIHRvdWNoZW5kIGV2ZW50LCB3ZSBoYXZlIHRvIHVzZSBgZS5jaGFuZ2VkVG91Y2hlc2BcbiAgLy8gc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzE5MjU2My90b3VjaGVuZC1ldmVudC1wcm9wZXJ0aWVzXG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vYmV2YWNxdWEvZHJhZ3VsYS9pc3N1ZXMvMzRcbiAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGUudGFyZ2V0VG91Y2hlc1swXTtcbiAgfVxuICBpZiAoZS5jaGFuZ2VkVG91Y2hlcyAmJiBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuICAgIHJldHVybiBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICB9XG4gIHJldHVybiBlO1xufVxuXG5mdW5jdGlvbiBnZXRDb29yZCAoY29vcmQsIGUpIHtcbiAgdmFyIGhvc3QgPSBnZXRFdmVudEhvc3QoZSk7XG4gIHZhciBtaXNzTWFwID0ge1xuICAgIHBhZ2VYOiAnY2xpZW50WCcsIC8vIElFOFxuICAgIHBhZ2VZOiAnY2xpZW50WScgLy8gSUU4XG4gIH07XG4gIGlmIChjb29yZCBpbiBtaXNzTWFwICYmICEoY29vcmQgaW4gaG9zdCkgJiYgbWlzc01hcFtjb29yZF0gaW4gaG9zdCkge1xuICAgIGNvb3JkID0gbWlzc01hcFtjb29yZF07XG4gIH1cbiAgcmV0dXJuIGhvc3RbY29vcmRdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRyYWd1bGE7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZHJhZ3VsYS9kcmFndWxhLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar atoa = __webpack_require__(25);\nvar debounce = __webpack_require__(26);\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2NvbnRyYS9lbWl0dGVyLmpzP2I0MjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsWUFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLDBDQUEwQztBQUM5RztBQUNBLHlCQUF5Qiw2QkFBNkIsRUFBRSxPQUFPLHlCQUF5QjtBQUN4RiwyQkFBMkIseUJBQXlCO0FBQ3BELE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXRvYSA9IHJlcXVpcmUoJ2F0b2EnKTtcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJy4vZGVib3VuY2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbWl0dGVyICh0aGluZywgb3B0aW9ucykge1xuICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBldnQgPSB7fTtcbiAgaWYgKHRoaW5nID09PSB1bmRlZmluZWQpIHsgdGhpbmcgPSB7fTsgfVxuICB0aGluZy5vbiA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICAgIGlmICghZXZ0W3R5cGVdKSB7XG4gICAgICBldnRbdHlwZV0gPSBbZm5dO1xuICAgIH0gZWxzZSB7XG4gICAgICBldnRbdHlwZV0ucHVzaChmbik7XG4gICAgfVxuICAgIHJldHVybiB0aGluZztcbiAgfTtcbiAgdGhpbmcub25jZSA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICAgIGZuLl9vbmNlID0gdHJ1ZTsgLy8gdGhpbmcub2ZmKGZuKSBzdGlsbCB3b3JrcyFcbiAgICB0aGluZy5vbih0eXBlLCBmbik7XG4gICAgcmV0dXJuIHRoaW5nO1xuICB9O1xuICB0aGluZy5vZmYgPSBmdW5jdGlvbiAodHlwZSwgZm4pIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGMgPT09IDEpIHtcbiAgICAgIGRlbGV0ZSBldnRbdHlwZV07XG4gICAgfSBlbHNlIGlmIChjID09PSAwKSB7XG4gICAgICBldnQgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGV0ID0gZXZ0W3R5cGVdO1xuICAgICAgaWYgKCFldCkgeyByZXR1cm4gdGhpbmc7IH1cbiAgICAgIGV0LnNwbGljZShldC5pbmRleE9mKGZuKSwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGluZztcbiAgfTtcbiAgdGhpbmcuZW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IGF0b2EoYXJndW1lbnRzKTtcbiAgICByZXR1cm4gdGhpbmcuZW1pdHRlclNuYXBzaG90KGFyZ3Muc2hpZnQoKSkuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG4gIHRoaW5nLmVtaXR0ZXJTbmFwc2hvdCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIGV0ID0gKGV2dFt0eXBlXSB8fCBbXSkuc2xpY2UoMCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gYXRvYShhcmd1bWVudHMpO1xuICAgICAgdmFyIGN0eCA9IHRoaXMgfHwgdGhpbmc7XG4gICAgICBpZiAodHlwZSA9PT0gJ2Vycm9yJyAmJiBvcHRzLnRocm93cyAhPT0gZmFsc2UgJiYgIWV0Lmxlbmd0aCkgeyB0aHJvdyBhcmdzLmxlbmd0aCA9PT0gMSA/IGFyZ3NbMF0gOiBhcmdzOyB9XG4gICAgICBldC5mb3JFYWNoKGZ1bmN0aW9uIGVtaXR0ZXIgKGxpc3Rlbikge1xuICAgICAgICBpZiAob3B0cy5hc3luYykgeyBkZWJvdW5jZShsaXN0ZW4sIGFyZ3MsIGN0eCk7IH0gZWxzZSB7IGxpc3Rlbi5hcHBseShjdHgsIGFyZ3MpOyB9XG4gICAgICAgIGlmIChsaXN0ZW4uX29uY2UpIHsgdGhpbmcub2ZmKHR5cGUsIGxpc3Rlbik7IH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaW5nO1xuICAgIH07XG4gIH07XG4gIHJldHVybiB0aGluZztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29udHJhL2VtaXR0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 25 */
/***/ (function(module, exports) {

	eval("module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F0b2EvYXRvYS5qcz81MzJiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVDQUF1Qyx5Q0FBeUMiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGF0b2EgKGEsIG4pIHsgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsIG4pOyB9XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXRvYS9hdG9hLmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar ticky = __webpack_require__(27);\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2NvbnRyYS9kZWJvdW5jZS5qcz9hZWMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB0aWNreSA9IHJlcXVpcmUoJ3RpY2t5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVib3VuY2UgKGZuLCBhcmdzLCBjdHgpIHtcbiAgaWYgKCFmbikgeyByZXR1cm47IH1cbiAgdGlja3koZnVuY3Rpb24gcnVuICgpIHtcbiAgICBmbi5hcHBseShjdHggfHwgbnVsbCwgYXJncyB8fCBbXSk7XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb250cmEvZGVib3VuY2UuanNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(setImmediate) {var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(28).setImmediate))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3RpY2t5L3RpY2t5LWJyb3dzZXIuanM/MDFmZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0Esd0JBQXdCLGtCQUFrQjtBQUMxQyxDQUFDO0FBQ0Qsd0JBQXdCLG1CQUFtQjtBQUMzQzs7QUFFQSxzQiIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzaSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicsIHRpY2s7XG5pZiAoc2kpIHtcbiAgdGljayA9IGZ1bmN0aW9uIChmbikgeyBzZXRJbW1lZGlhdGUoZm4pOyB9O1xufSBlbHNlIHtcbiAgdGljayA9IGZ1bmN0aW9uIChmbikgeyBzZXRUaW1lb3V0KGZuLCAwKTsgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0aWNrO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90aWNreS90aWNreS1icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(global) {var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(29);\n// On some exotic environments, it's not clear which object `setimmeidate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3RpbWVycy1icm93c2VyaWZ5L21haW4uanM/YjA4OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWlkYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qc1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(30)))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanM/NGE4MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsc0JBQXNCLEVBQUU7QUFDbEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 30 */
/***/ (function(module, exports) {

	eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcz84MmU0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUM7O0FBRXJDO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVUiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\nvar customEvent = __webpack_require__(32);\nvar eventmap = __webpack_require__(33);\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nyb3NzdmVudC9zcmMvY3Jvc3N2ZW50LmpzPzUzNzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0JBQWdCO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsdUJBQXVCO0FBQzlGLDBFQUEwRSx1QkFBdUI7QUFDakc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsc0JBQXNCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGN1c3RvbUV2ZW50ID0gcmVxdWlyZSgnY3VzdG9tLWV2ZW50Jyk7XG52YXIgZXZlbnRtYXAgPSByZXF1aXJlKCcuL2V2ZW50bWFwJyk7XG52YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xudmFyIGFkZEV2ZW50ID0gYWRkRXZlbnRFYXN5O1xudmFyIHJlbW92ZUV2ZW50ID0gcmVtb3ZlRXZlbnRFYXN5O1xudmFyIGhhcmRDYWNoZSA9IFtdO1xuXG5pZiAoIWdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gIGFkZEV2ZW50ID0gYWRkRXZlbnRIYXJkO1xuICByZW1vdmVFdmVudCA9IHJlbW92ZUV2ZW50SGFyZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZDogYWRkRXZlbnQsXG4gIHJlbW92ZTogcmVtb3ZlRXZlbnQsXG4gIGZhYnJpY2F0ZTogZmFicmljYXRlRXZlbnRcbn07XG5cbmZ1bmN0aW9uIGFkZEV2ZW50RWFzeSAoZWwsIHR5cGUsIGZuLCBjYXB0dXJpbmcpIHtcbiAgcmV0dXJuIGVsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGNhcHR1cmluZyk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50SGFyZCAoZWwsIHR5cGUsIGZuKSB7XG4gIHJldHVybiBlbC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgd3JhcChlbCwgdHlwZSwgZm4pKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRFYXN5IChlbCwgdHlwZSwgZm4sIGNhcHR1cmluZykge1xuICByZXR1cm4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgY2FwdHVyaW5nKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRIYXJkIChlbCwgdHlwZSwgZm4pIHtcbiAgdmFyIGxpc3RlbmVyID0gdW53cmFwKGVsLCB0eXBlLCBmbik7XG4gIGlmIChsaXN0ZW5lcikge1xuICAgIHJldHVybiBlbC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZhYnJpY2F0ZUV2ZW50IChlbCwgdHlwZSwgbW9kZWwpIHtcbiAgdmFyIGUgPSBldmVudG1hcC5pbmRleE9mKHR5cGUpID09PSAtMSA/IG1ha2VDdXN0b21FdmVudCgpIDogbWFrZUNsYXNzaWNFdmVudCgpO1xuICBpZiAoZWwuZGlzcGF0Y2hFdmVudCkge1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuZmlyZUV2ZW50KCdvbicgKyB0eXBlLCBlKTtcbiAgfVxuICBmdW5jdGlvbiBtYWtlQ2xhc3NpY0V2ZW50ICgpIHtcbiAgICB2YXIgZTtcbiAgICBpZiAoZG9jLmNyZWF0ZUV2ZW50KSB7XG4gICAgICBlID0gZG9jLmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChkb2MuY3JlYXRlRXZlbnRPYmplY3QpIHtcbiAgICAgIGUgPSBkb2MuY3JlYXRlRXZlbnRPYmplY3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZUN1c3RvbUV2ZW50ICgpIHtcbiAgICByZXR1cm4gbmV3IGN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsOiBtb2RlbCB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwcGVyRmFjdG9yeSAoZWwsIHR5cGUsIGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwcGVyIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgdmFyIGUgPSBvcmlnaW5hbEV2ZW50IHx8IGdsb2JhbC5ldmVudDtcbiAgICBlLnRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICBlLnByZXZlbnREZWZhdWx0ID0gZS5wcmV2ZW50RGVmYXVsdCB8fCBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCAoKSB7IGUucmV0dXJuVmFsdWUgPSBmYWxzZTsgfTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IGUuc3RvcFByb3BhZ2F0aW9uIHx8IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbiAoKSB7IGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsgfTtcbiAgICBlLndoaWNoID0gZS53aGljaCB8fCBlLmtleUNvZGU7XG4gICAgZm4uY2FsbChlbCwgZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdyYXAgKGVsLCB0eXBlLCBmbikge1xuICB2YXIgd3JhcHBlciA9IHVud3JhcChlbCwgdHlwZSwgZm4pIHx8IHdyYXBwZXJGYWN0b3J5KGVsLCB0eXBlLCBmbik7XG4gIGhhcmRDYWNoZS5wdXNoKHtcbiAgICB3cmFwcGVyOiB3cmFwcGVyLFxuICAgIGVsZW1lbnQ6IGVsLFxuICAgIHR5cGU6IHR5cGUsXG4gICAgZm46IGZuXG4gIH0pO1xuICByZXR1cm4gd3JhcHBlcjtcbn1cblxuZnVuY3Rpb24gdW53cmFwIChlbCwgdHlwZSwgZm4pIHtcbiAgdmFyIGkgPSBmaW5kKGVsLCB0eXBlLCBmbik7XG4gIGlmIChpKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBoYXJkQ2FjaGVbaV0ud3JhcHBlcjtcbiAgICBoYXJkQ2FjaGUuc3BsaWNlKGksIDEpOyAvLyBmcmVlIHVwIGEgdGFkIG9mIG1lbW9yeVxuICAgIHJldHVybiB3cmFwcGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmQgKGVsLCB0eXBlLCBmbikge1xuICB2YXIgaSwgaXRlbTtcbiAgZm9yIChpID0gMDsgaSA8IGhhcmRDYWNoZS5sZW5ndGg7IGkrKykge1xuICAgIGl0ZW0gPSBoYXJkQ2FjaGVbaV07XG4gICAgaWYgKGl0ZW0uZWxlbWVudCA9PT0gZWwgJiYgaXRlbS50eXBlID09PSB0eXBlICYmIGl0ZW0uZm4gPT09IGZuKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jcm9zc3ZlbnQvc3JjL2Nyb3NzdmVudC5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 32 */
/***/ (function(module, exports) {

	eval("/* WEBPACK VAR INJECTION */(function(global) {\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2N1c3RvbS1ldmVudC9pbmRleC5qcz8wNDBkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDLFVBQVUsYUFBYSxFQUFFO0FBQ25FO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBOYXRpdmVDdXN0b21FdmVudCA9IGdsb2JhbC5DdXN0b21FdmVudDtcblxuZnVuY3Rpb24gdXNlTmF0aXZlICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcCA9IG5ldyBOYXRpdmVDdXN0b21FdmVudCgnY2F0JywgeyBkZXRhaWw6IHsgZm9vOiAnYmFyJyB9IH0pO1xuICAgIHJldHVybiAgJ2NhdCcgPT09IHAudHlwZSAmJiAnYmFyJyA9PT0gcC5kZXRhaWwuZm9vO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENyb3NzLWJyb3dzZXIgYEN1c3RvbUV2ZW50YCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQuQ3VzdG9tRXZlbnRcbiAqXG4gKiBAcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSB1c2VOYXRpdmUoKSA/IE5hdGl2ZUN1c3RvbUV2ZW50IDpcblxuLy8gSUUgPj0gOVxuJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gZnVuY3Rpb24gQ3VzdG9tRXZlbnQgKHR5cGUsIHBhcmFtcykge1xuICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICBpZiAocGFyYW1zKSB7XG4gICAgZS5pbml0Q3VzdG9tRXZlbnQodHlwZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgfSBlbHNlIHtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UsIHZvaWQgMCk7XG4gIH1cbiAgcmV0dXJuIGU7XG59IDpcblxuLy8gSUUgPD0gOFxuZnVuY3Rpb24gQ3VzdG9tRXZlbnQgKHR5cGUsIHBhcmFtcykge1xuICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gIGUudHlwZSA9IHR5cGU7XG4gIGlmIChwYXJhbXMpIHtcbiAgICBlLmJ1YmJsZXMgPSBCb29sZWFuKHBhcmFtcy5idWJibGVzKTtcbiAgICBlLmNhbmNlbGFibGUgPSBCb29sZWFuKHBhcmFtcy5jYW5jZWxhYmxlKTtcbiAgICBlLmRldGFpbCA9IHBhcmFtcy5kZXRhaWw7XG4gIH0gZWxzZSB7XG4gICAgZS5idWJibGVzID0gZmFsc2U7XG4gICAgZS5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgZS5kZXRhaWwgPSB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIGU7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3VzdG9tLWV2ZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 33 */
/***/ (function(module, exports) {

	eval("/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nyb3NzdmVudC9zcmMvZXZlbnRtYXAuanM/OTM1NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGV2ZW50bWFwID0gW107XG52YXIgZXZlbnRuYW1lID0gJyc7XG52YXIgcm9uID0gL15vbi87XG5cbmZvciAoZXZlbnRuYW1lIGluIGdsb2JhbCkge1xuICBpZiAocm9uLnRlc3QoZXZlbnRuYW1lKSkge1xuICAgIGV2ZW50bWFwLnB1c2goZXZlbnRuYW1lLnNsaWNlKDIpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV2ZW50bWFwO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nyb3NzdmVudC9zcmMvZXZlbnRtYXAuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 34 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2RyYWd1bGEvY2xhc3Nlcy5qcz9kZmQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FjaGUgPSB7fTtcbnZhciBzdGFydCA9ICcoPzpefFxcXFxzKSc7XG52YXIgZW5kID0gJyg/OlxcXFxzfCQpJztcblxuZnVuY3Rpb24gbG9va3VwQ2xhc3MgKGNsYXNzTmFtZSkge1xuICB2YXIgY2FjaGVkID0gY2FjaGVbY2xhc3NOYW1lXTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIGNhY2hlZC5sYXN0SW5kZXggPSAwO1xuICB9IGVsc2Uge1xuICAgIGNhY2hlW2NsYXNzTmFtZV0gPSBjYWNoZWQgPSBuZXcgUmVnRXhwKHN0YXJ0ICsgY2xhc3NOYW1lICsgZW5kLCAnZycpO1xuICB9XG4gIHJldHVybiBjYWNoZWQ7XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xhc3NOYW1lKSB7XG4gIHZhciBjdXJyZW50ID0gZWwuY2xhc3NOYW1lO1xuICBpZiAoIWN1cnJlbnQubGVuZ3RoKSB7XG4gICAgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICB9IGVsc2UgaWYgKCFsb29rdXBDbGFzcyhjbGFzc05hbWUpLnRlc3QoY3VycmVudCkpIHtcbiAgICBlbC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJtQ2xhc3MgKGVsLCBjbGFzc05hbWUpIHtcbiAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobG9va3VwQ2xhc3MoY2xhc3NOYW1lKSwgJyAnKS50cmltKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhZGQ6IGFkZENsYXNzLFxuICBybTogcm1DbGFzc1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kcmFndWxhL2NsYXNzZXMuanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.loadBlueprint = exports.createBlueprintCategory = exports.createBlueprint = exports.getBlueprints = undefined;\n\nvar _isomorphicFetch = __webpack_require__(36);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _Cache = __webpack_require__(38);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Utils = __webpack_require__(20);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Drake = __webpack_require__(22);\n\nvar _Drake2 = _interopRequireDefault(_Drake);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getBlueprints = exports.getBlueprints = function getBlueprints() {\n    var complete = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    return _Cache2.default.load('blueprints', { name: 'blueprints', complete: complete }, function () {\n        var completeString = complete !== null ? \"&complete=\" + +complete : '';\n\n        return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=get-blueprints\" + completeString, {\n            credentials: 'same-origin'\n        }).then(function (response) {\n            return response.json();\n        }).then(function (response) {\n            return response.data.blueprints;\n        });\n    });\n};\n\nvar createBlueprint = exports.createBlueprint = function createBlueprint(name, description, category, rank, isPublic, data, generatedImage, image, complete) {\n    var body = {\n        name: name,\n        description: description,\n        category: category,\n        rank: rank,\n        public: isPublic,\n        data: data,\n        generatedImage: '',\n        image: image,\n        complete: complete\n    };\n\n    if (image === '') {\n        body.generatedImage = generatedImage;\n    }\n\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=blueprints-create-blueprint\", {\n        method: \"post\",\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n    }).then(_Utils.errorHandler);\n};\n\nvar createBlueprintCategory = exports.createBlueprintCategory = function createBlueprintCategory(name, rank, isPublic) {\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=blueprints-create-category\", {\n        method: \"post\",\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            name: name,\n            rank: rank,\n            public: isPublic\n        })\n    }).then(_Utils.errorHandler);\n};\n\nvar loadBlueprint = exports.loadBlueprint = function loadBlueprint(blueprint) {\n    return _Cache2.default.load('blueprints', { name: 'load-blueprint', blueprint: blueprint }, function () {\n        return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=load-blueprint&blueprint=\" + blueprint, {\n            credentials: 'same-origin'\n        }).then(_Utils.errorHandler).catch(function (err) {\n            console.log(err);\n        });\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0FjdGlvbnMvYmx1ZXByaW50cy5qcz84MzE0Il0sIm5hbWVzIjpbImdldEJsdWVwcmludHMiLCJjb21wbGV0ZSIsImxvYWQiLCJuYW1lIiwiY29tcGxldGVTdHJpbmciLCJjb25maWciLCJhc3NldHNVcmwiLCJjcmVkZW50aWFscyIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwiYmx1ZXByaW50cyIsImNyZWF0ZUJsdWVwcmludCIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJyYW5rIiwiaXNQdWJsaWMiLCJnZW5lcmF0ZWRJbWFnZSIsImltYWdlIiwiYm9keSIsInB1YmxpYyIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiY3JlYXRlQmx1ZXByaW50Q2F0ZWdvcnkiLCJsb2FkQmx1ZXByaW50IiwiYmx1ZXByaW50IiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZXJyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRU8sSUFBTUEsd0NBQWdCLFNBQWhCQSxhQUFnQixHQUFxQjtBQUFBLFFBQXBCQyxRQUFvQix1RUFBVCxJQUFTOztBQUM5QyxXQUFPLGdCQUFNQyxJQUFOLENBQVcsWUFBWCxFQUF5QixFQUFDQyxNQUFNLFlBQVAsRUFBcUJGLGtCQUFyQixFQUF6QixFQUF5RCxZQUFNO0FBQ2xFLFlBQU1HLGlCQUFrQkgsYUFBYSxJQUFkLGtCQUFtQyxDQUFDQSxRQUFwQyxHQUFpRCxFQUF4RTs7QUFFQSxlQUFPLCtCQUFTLGlCQUFXSSxNQUFYLENBQWtCQyxTQUEzQixnREFBK0VGLGNBQS9FLEVBQWlHO0FBQ3BHRyx5QkFBYTtBQUR1RixTQUFqRyxFQUdGQyxJQUhFLENBR0csb0JBQVk7QUFDZCxtQkFBT0MsU0FBU0MsSUFBVCxFQUFQO0FBQ0gsU0FMRSxFQU1GRixJQU5FLENBTUcsb0JBQVk7QUFDZCxtQkFBT0MsU0FBU0UsSUFBVCxDQUFjQyxVQUFyQjtBQUNILFNBUkUsQ0FBUDtBQVNILEtBWk0sQ0FBUDtBQWFILENBZE07O0FBZ0JBLElBQU1DLDRDQUFrQixTQUFsQkEsZUFBa0IsQ0FBQ1YsSUFBRCxFQUFPVyxXQUFQLEVBQW9CQyxRQUFwQixFQUE4QkMsSUFBOUIsRUFBb0NDLFFBQXBDLEVBQThDTixJQUE5QyxFQUFvRE8sY0FBcEQsRUFBb0VDLEtBQXBFLEVBQTJFbEIsUUFBM0UsRUFBd0Y7QUFDbkgsUUFBTW1CLE9BQU87QUFDVGpCLGtCQURTO0FBRVRXLGdDQUZTO0FBR1RDLDBCQUhTO0FBSVRDLGtCQUpTO0FBS1RLLGdCQUFRSixRQUxDO0FBTVROLGtCQU5TO0FBT1RPLHdCQUFnQixFQVBQO0FBUVRDLG9CQVJTO0FBU1RsQjtBQVRTLEtBQWI7O0FBWUEsUUFBSWtCLFVBQVUsRUFBZCxFQUFrQjtBQUNkQyxhQUFLRixjQUFMLEdBQXNCQSxjQUF0QjtBQUNIOztBQUVELFdBQU8sK0JBQVMsaUJBQVdiLE1BQVgsQ0FBa0JDLFNBQTNCLDREQUE2RjtBQUNoR2dCLGdCQUFRLE1BRHdGO0FBRWhHZixxQkFBYSxhQUZtRjtBQUdoR2dCLGlCQUFTO0FBQ0wsNEJBQWdCO0FBRFgsU0FIdUY7QUFNaEdILGNBQU1JLEtBQUtDLFNBQUwsQ0FBZUwsSUFBZjtBQU4wRixLQUE3RixFQU9KWixJQVBJLHFCQUFQO0FBUUgsQ0F6Qk07O0FBMkJBLElBQU1rQiw0REFBMEIsU0FBMUJBLHVCQUEwQixDQUFDdkIsSUFBRCxFQUFPYSxJQUFQLEVBQWFDLFFBQWIsRUFBMEI7QUFDN0QsV0FBTywrQkFBUyxpQkFBV1osTUFBWCxDQUFrQkMsU0FBM0IsMkRBQTRGO0FBQy9GZ0IsZ0JBQVEsTUFEdUY7QUFFL0ZmLHFCQUFhLGFBRmtGO0FBRy9GZ0IsaUJBQVM7QUFDTCw0QkFBZ0I7QUFEWCxTQUhzRjtBQU0vRkgsY0FBTUksS0FBS0MsU0FBTCxDQUFlO0FBQ2pCdEIsc0JBRGlCO0FBRWpCYSxzQkFGaUI7QUFHakJLLG9CQUFRSjtBQUhTLFNBQWY7QUFOeUYsS0FBNUYsRUFXSlQsSUFYSSxxQkFBUDtBQVlILENBYk07O0FBZUEsSUFBTW1CLHdDQUFnQixTQUFoQkEsYUFBZ0IsWUFBYTtBQUN0QyxXQUFPLGdCQUFNekIsSUFBTixDQUFXLFlBQVgsRUFBeUIsRUFBQ0MsTUFBTSxnQkFBUCxFQUF5QnlCLG9CQUF6QixFQUF6QixFQUE4RCxZQUFNO0FBQ3ZFLGVBQU8sK0JBQVMsaUJBQVd2QixNQUFYLENBQWtCQyxTQUEzQiwyREFBMEZzQixTQUExRixFQUF1RztBQUMxR3JCLHlCQUFhO0FBRDZGLFNBQXZHLEVBR0ZDLElBSEUsc0JBSUZxQixLQUpFLENBSUksZUFBTztBQUNWQyxvQkFBUUMsR0FBUixDQUFZQyxHQUFaO0FBQ0gsU0FORSxDQUFQO0FBT0gsS0FSTSxDQUFQO0FBU0gsQ0FWTSIsImZpbGUiOiIzNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy1mZXRjaFwiO1xuaW1wb3J0IGNhY2hlIGZyb20gJy4uL0NhY2hlJztcbmltcG9ydCB7IGVycm9ySGFuZGxlciB9IGZyb20gXCIuLi9VdGlsc1wiO1xuaW1wb3J0IGZyZWRDb25maWcgZnJvbSBcIi4uL0NvbmZpZ1wiO1xuaW1wb3J0IGVtaXR0ZXIgZnJvbSBcIi4uL0VFXCI7XG5pbXBvcnQgZHJha2UgZnJvbSBcIi4uL0RyYWtlXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRCbHVlcHJpbnRzID0gKGNvbXBsZXRlID0gbnVsbCkgPT4ge1xuICAgIHJldHVybiBjYWNoZS5sb2FkKCdibHVlcHJpbnRzJywge25hbWU6ICdibHVlcHJpbnRzJywgY29tcGxldGV9LCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlU3RyaW5nID0gKGNvbXBsZXRlICE9PSBudWxsKSA/IGAmY29tcGxldGU9JHsrY29tcGxldGV9YCA6ICcnO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke2ZyZWRDb25maWcuY29uZmlnLmFzc2V0c1VybH1lbmRwb2ludHMvYWpheC5waHA/YWN0aW9uPWdldC1ibHVlcHJpbnRzJHtjb21wbGV0ZVN0cmluZ31gLCB7XG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmJsdWVwcmludHM7XG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCbHVlcHJpbnQgPSAobmFtZSwgZGVzY3JpcHRpb24sIGNhdGVnb3J5LCByYW5rLCBpc1B1YmxpYywgZGF0YSwgZ2VuZXJhdGVkSW1hZ2UsIGltYWdlLCBjb21wbGV0ZSkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgcmFuayxcbiAgICAgICAgcHVibGljOiBpc1B1YmxpYyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZ2VuZXJhdGVkSW1hZ2U6ICcnLFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgY29tcGxldGVcbiAgICB9O1xuXG4gICAgaWYgKGltYWdlID09PSAnJykge1xuICAgICAgICBib2R5LmdlbmVyYXRlZEltYWdlID0gZ2VuZXJhdGVkSW1hZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZldGNoKGAke2ZyZWRDb25maWcuY29uZmlnLmFzc2V0c1VybH1lbmRwb2ludHMvYWpheC5waHA/YWN0aW9uPWJsdWVwcmludHMtY3JlYXRlLWJsdWVwcmludGAsIHtcbiAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcbiAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGVycm9ySGFuZGxlcik7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQmx1ZXByaW50Q2F0ZWdvcnkgPSAobmFtZSwgcmFuaywgaXNQdWJsaWMpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7ZnJlZENvbmZpZy5jb25maWcuYXNzZXRzVXJsfWVuZHBvaW50cy9hamF4LnBocD9hY3Rpb249Ymx1ZXByaW50cy1jcmVhdGUtY2F0ZWdvcnlgLCB7XG4gICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICByYW5rLFxuICAgICAgICAgICAgcHVibGljOiBpc1B1YmxpY1xuICAgICAgICB9KVxuICAgIH0pLnRoZW4oZXJyb3JIYW5kbGVyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2FkQmx1ZXByaW50ID0gYmx1ZXByaW50ID0+IHtcbiAgICByZXR1cm4gY2FjaGUubG9hZCgnYmx1ZXByaW50cycsIHtuYW1lOiAnbG9hZC1ibHVlcHJpbnQnLCBibHVlcHJpbnR9LCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHtmcmVkQ29uZmlnLmNvbmZpZy5hc3NldHNVcmx9ZW5kcG9pbnRzL2FqYXgucGhwP2FjdGlvbj1sb2FkLWJsdWVwcmludCZibHVlcHJpbnQ9JHtibHVlcHJpbnR9YCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGVycm9ySGFuZGxlcilcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICB9KTsgXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvQWN0aW9ucy9ibHVlcHJpbnRzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	eval("// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\n__webpack_require__(37);\nmodule.exports = self.fetch.bind(self);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanM/NzcyMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG4vLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG4vL1xuLy8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxucmVxdWlyZSgnd2hhdHdnLWZldGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHNlbGYuZmV0Y2guYmluZChzZWxmKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pc29tb3JwaGljLWZldGNoL2ZldGNoLW5wbS1icm93c2VyaWZ5LmpzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 37 */
/***/ (function(module, exports) {

	eval("(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3doYXR3Zy1mZXRjaC9mZXRjaC5qcz8xYzIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsbUJBQW1CO0FBQzNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDLDRCQUE0QjtBQUNwRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsaUJBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1QsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLHVCQUF1QjtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLHVDQUF1QywwQkFBMEI7QUFDakU7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQiwwQkFBMEIsZUFBZTtBQUN4RTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICAgIF1cblxuICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gICAgaWYgKGJ1Zi5zbGljZSkge1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIHJhd0hlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gJ3N0YXR1cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzIDogMjAwXG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jssha = __webpack_require__(39);\n\nvar _jssha2 = _interopRequireDefault(_jssha);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = function () {\n    function Cache() {\n        _classCallCheck(this, Cache);\n\n        this._cache = {};\n    }\n\n    _createClass(Cache, [{\n        key: '_setValue',\n        value: function _setValue(namespace, name, value, expires) {\n            if (!this._cache[namespace]) this._cache[namespace] = {};\n            if (!this._cache[namespace][name]) this._cache[namespace][name] = {};\n\n            this._cache[namespace][name]['value'] = value;\n            this._cache[namespace][name]['expires'] = expires;\n        }\n    }, {\n        key: 'load',\n        value: function load(namespace, properties, loadFn) {\n            var _this = this;\n\n            var expires = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 300;\n\n            var shaObj = new _jssha2.default(\"SHA-256\", \"TEXT\");\n            shaObj.update(JSON.stringify(properties));\n            var name = shaObj.getHash('HEX');\n\n            var now = Math.floor(Date.now() / 1000);\n\n            if (this._cache[namespace] && this._cache[namespace][name] && this._cache[namespace][name]['expires'] > now) {\n                return Promise.resolve(this._cache[namespace][name]['value']);\n            }\n\n            return Promise.resolve(loadFn()).then(function (value) {\n                _this._setValue(namespace, name, value, now + expires);\n                return value;\n            });\n        }\n    }, {\n        key: 'kill',\n        value: function kill(namespace, properties) {\n            var shaObj = new _jssha2.default(\"SHA-256\", \"TEXT\");\n            shaObj.update(JSON.stringify(properties));\n            var name = shaObj.getHash('HEX');\n\n            if (this._cache[namespace] && this._cache[namespace][name]) {\n                delete this._cache[namespace][name];\n            }\n        }\n    }, {\n        key: 'killNamespace',\n        value: function killNamespace(namespace) {\n            if (this._cache[namespace]) {\n                delete this._cache[namespace];\n            }\n        }\n    }]);\n\n    return Cache;\n}();\n\nvar cache = new Cache();\n\nexports.default = cache;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NhY2hlLmpzP2RmMTgiXSwibmFtZXMiOlsiQ2FjaGUiLCJfY2FjaGUiLCJuYW1lc3BhY2UiLCJuYW1lIiwidmFsdWUiLCJleHBpcmVzIiwicHJvcGVydGllcyIsImxvYWRGbiIsInNoYU9iaiIsInVwZGF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRIYXNoIiwibm93IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIl9zZXRWYWx1ZSIsImNhY2hlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7OztJQUVNQSxLO0FBQ0YscUJBQWM7QUFBQTs7QUFDVixhQUFLQyxNQUFMLEdBQWMsRUFBZDtBQUNIOzs7O2tDQUVTQyxTLEVBQVdDLEksRUFBTUMsSyxFQUFPQyxPLEVBQVM7QUFDdkMsZ0JBQUksQ0FBQyxLQUFLSixNQUFMLENBQVlDLFNBQVosQ0FBTCxFQUE2QixLQUFLRCxNQUFMLENBQVlDLFNBQVosSUFBeUIsRUFBekI7QUFDN0IsZ0JBQUksQ0FBQyxLQUFLRCxNQUFMLENBQVlDLFNBQVosRUFBdUJDLElBQXZCLENBQUwsRUFBbUMsS0FBS0YsTUFBTCxDQUFZQyxTQUFaLEVBQXVCQyxJQUF2QixJQUErQixFQUEvQjs7QUFFbkMsaUJBQUtGLE1BQUwsQ0FBWUMsU0FBWixFQUF1QkMsSUFBdkIsRUFBNkIsT0FBN0IsSUFBd0NDLEtBQXhDO0FBQ0EsaUJBQUtILE1BQUwsQ0FBWUMsU0FBWixFQUF1QkMsSUFBdkIsRUFBNkIsU0FBN0IsSUFBMENFLE9BQTFDO0FBQ0g7Ozs2QkFFSUgsUyxFQUFXSSxVLEVBQVlDLE0sRUFBdUI7QUFBQTs7QUFBQSxnQkFBZkYsT0FBZSx1RUFBTCxHQUFLOztBQUMvQyxnQkFBTUcsU0FBUyxvQkFBVSxTQUFWLEVBQXFCLE1BQXJCLENBQWY7QUFDQUEsbUJBQU9DLE1BQVAsQ0FBY0MsS0FBS0MsU0FBTCxDQUFlTCxVQUFmLENBQWQ7QUFDQSxnQkFBTUgsT0FBT0ssT0FBT0ksT0FBUCxDQUFlLEtBQWYsQ0FBYjs7QUFFQSxnQkFBTUMsTUFBTUMsS0FBS0MsS0FBTCxDQUFXQyxLQUFLSCxHQUFMLEtBQWEsSUFBeEIsQ0FBWjs7QUFFQSxnQkFBSSxLQUFLWixNQUFMLENBQVlDLFNBQVosS0FBMEIsS0FBS0QsTUFBTCxDQUFZQyxTQUFaLEVBQXVCQyxJQUF2QixDQUExQixJQUEyRCxLQUFLRixNQUFMLENBQVlDLFNBQVosRUFBdUJDLElBQXZCLEVBQTZCLFNBQTdCLElBQTBDVSxHQUF6RyxFQUErRztBQUMzRyx1QkFBT0ksUUFBUUMsT0FBUixDQUFnQixLQUFLakIsTUFBTCxDQUFZQyxTQUFaLEVBQXVCQyxJQUF2QixFQUE2QixPQUE3QixDQUFoQixDQUFQO0FBQ0g7O0FBRUQsbUJBQU9jLFFBQVFDLE9BQVIsQ0FBZ0JYLFFBQWhCLEVBQTBCWSxJQUExQixDQUErQixpQkFBUztBQUMzQyxzQkFBS0MsU0FBTCxDQUFlbEIsU0FBZixFQUEwQkMsSUFBMUIsRUFBZ0NDLEtBQWhDLEVBQXVDUyxNQUFNUixPQUE3QztBQUNBLHVCQUFPRCxLQUFQO0FBQ0gsYUFITSxDQUFQO0FBSUg7Ozs2QkFFSUYsUyxFQUFXSSxVLEVBQVk7QUFDeEIsZ0JBQU1FLFNBQVMsb0JBQVUsU0FBVixFQUFxQixNQUFyQixDQUFmO0FBQ0FBLG1CQUFPQyxNQUFQLENBQWNDLEtBQUtDLFNBQUwsQ0FBZUwsVUFBZixDQUFkO0FBQ0EsZ0JBQU1ILE9BQU9LLE9BQU9JLE9BQVAsQ0FBZSxLQUFmLENBQWI7O0FBRUEsZ0JBQUksS0FBS1gsTUFBTCxDQUFZQyxTQUFaLEtBQTBCLEtBQUtELE1BQUwsQ0FBWUMsU0FBWixFQUF1QkMsSUFBdkIsQ0FBOUIsRUFBNEQ7QUFDeEQsdUJBQU8sS0FBS0YsTUFBTCxDQUFZQyxTQUFaLEVBQXVCQyxJQUF2QixDQUFQO0FBQ0g7QUFDSjs7O3NDQUVhRCxTLEVBQVc7QUFDckIsZ0JBQUksS0FBS0QsTUFBTCxDQUFZQyxTQUFaLENBQUosRUFBNEI7QUFDeEIsdUJBQU8sS0FBS0QsTUFBTCxDQUFZQyxTQUFaLENBQVA7QUFDSDtBQUNKOzs7Ozs7QUFHTCxJQUFNbUIsUUFBUSxJQUFJckIsS0FBSixFQUFkOztrQkFFZXFCLEsiLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQganNTSEEgZnJvbSAnanNzaGEnO1xuXG5jbGFzcyBDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgfVxuXG4gICAgX3NldFZhbHVlKG5hbWVzcGFjZSwgbmFtZSwgdmFsdWUsIGV4cGlyZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZVtuYW1lc3BhY2VdKSB0aGlzLl9jYWNoZVtuYW1lc3BhY2VdID0ge307XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVbbmFtZXNwYWNlXVtuYW1lXSkgdGhpcy5fY2FjaGVbbmFtZXNwYWNlXVtuYW1lXSA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2NhY2hlW25hbWVzcGFjZV1bbmFtZV1bJ3ZhbHVlJ10gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fY2FjaGVbbmFtZXNwYWNlXVtuYW1lXVsnZXhwaXJlcyddID0gZXhwaXJlcztcbiAgICB9XG4gICAgXG4gICAgbG9hZChuYW1lc3BhY2UsIHByb3BlcnRpZXMsIGxvYWRGbiwgZXhwaXJlcyA9IDMwMCkge1xuICAgICAgICBjb25zdCBzaGFPYmogPSBuZXcganNTSEEoXCJTSEEtMjU2XCIsIFwiVEVYVFwiKTtcbiAgICAgICAgc2hhT2JqLnVwZGF0ZShKU09OLnN0cmluZ2lmeShwcm9wZXJ0aWVzKSk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBzaGFPYmouZ2V0SGFzaCgnSEVYJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl9jYWNoZVtuYW1lc3BhY2VdICYmIHRoaXMuX2NhY2hlW25hbWVzcGFjZV1bbmFtZV0gJiYgKHRoaXMuX2NhY2hlW25hbWVzcGFjZV1bbmFtZV1bJ2V4cGlyZXMnXSA+IG5vdykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fY2FjaGVbbmFtZXNwYWNlXVtuYW1lXVsndmFsdWUnXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvYWRGbigpKS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3NldFZhbHVlKG5hbWVzcGFjZSwgbmFtZSwgdmFsdWUsIG5vdyArIGV4cGlyZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAga2lsbChuYW1lc3BhY2UsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3Qgc2hhT2JqID0gbmV3IGpzU0hBKFwiU0hBLTI1NlwiLCBcIlRFWFRcIik7XG4gICAgICAgIHNoYU9iai51cGRhdGUoSlNPTi5zdHJpbmdpZnkocHJvcGVydGllcykpO1xuICAgICAgICBjb25zdCBuYW1lID0gc2hhT2JqLmdldEhhc2goJ0hFWCcpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jYWNoZVtuYW1lc3BhY2VdICYmIHRoaXMuX2NhY2hlW25hbWVzcGFjZV1bbmFtZV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVtuYW1lc3BhY2VdW25hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGtpbGxOYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZVtuYW1lc3BhY2VdKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVbbmFtZXNwYWNlXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgY2FjaGUgPSBuZXcgQ2FjaGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2FjaGU7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9DYWNoZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*\n A JavaScript implementation of the SHA family of hashes, as\n defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding\n HMAC implementation as defined in FIPS PUB 198a\n\n Copyright Brian Turek 2008-2017\n Distributed under the BSD License\n See http://caligatio.github.com/jsSHA/ for more information\n\n Several functions taken from Paul Johnston\n*/\n'use strict';(function(Y){function C(c,a,b){var e=0,h=[],n=0,g,l,d,f,m,q,u,r,I=!1,v=[],w=[],t,y=!1,z=!1,x=-1;b=b||{};g=b.encoding||\"UTF8\";t=b.numRounds||1;if(t!==parseInt(t,10)||1>t)throw Error(\"numRounds must a integer >= 1\");if(\"SHA-1\"===c)m=512,q=K,u=Z,f=160,r=function(a){return a.slice()};else if(0===c.lastIndexOf(\"SHA-\",0))if(q=function(a,b){return L(a,b,c)},u=function(a,b,h,e){var k,f;if(\"SHA-224\"===c||\"SHA-256\"===c)k=(b+65>>>9<<4)+15,f=16;else if(\"SHA-384\"===c||\"SHA-512\"===c)k=(b+129>>>10<<\n5)+31,f=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=k;)a.push(0);a[b>>>5]|=128<<24-b%32;b=b+h;a[k]=b&4294967295;a[k-1]=b/4294967296|0;h=a.length;for(b=0;b<h;b+=f)e=L(a.slice(b,b+f),e,c);if(\"SHA-224\"===c)a=[e[0],e[1],e[2],e[3],e[4],e[5],e[6]];else if(\"SHA-256\"===c)a=e;else if(\"SHA-384\"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,\ne[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},r=function(a){return a.slice()},\"SHA-224\"===c)m=512,f=224;else if(\"SHA-256\"===c)m=512,f=256;else if(\"SHA-384\"===c)m=1024,f=384;else if(\"SHA-512\"===c)m=1024,f=512;else throw Error(\"Chosen SHA variant is not supported\");else if(0===c.lastIndexOf(\"SHA3-\",0)||0===c.lastIndexOf(\"SHAKE\",0)){var F=6;q=D;r=function(a){var c=[],e;for(e=0;5>e;e+=1)c[e]=a[e].slice();return c};x=1;if(\"SHA3-224\"===\nc)m=1152,f=224;else if(\"SHA3-256\"===c)m=1088,f=256;else if(\"SHA3-384\"===c)m=832,f=384;else if(\"SHA3-512\"===c)m=576,f=512;else if(\"SHAKE128\"===c)m=1344,f=-1,F=31,z=!0;else if(\"SHAKE256\"===c)m=1088,f=-1,F=31,z=!0;else throw Error(\"Chosen SHA variant is not supported\");u=function(a,c,e,b,h){e=m;var k=F,f,g=[],n=e>>>5,l=0,d=c>>>5;for(f=0;f<d&&c>=e;f+=n)b=D(a.slice(f,f+n),b),c-=e;a=a.slice(f);for(c%=e;a.length<n;)a.push(0);f=c>>>3;a[f>>2]^=k<<f%4*8;a[n-1]^=2147483648;for(b=D(a,b);32*g.length<h;){a=b[l%\n5][l/5|0];g.push(a.b);if(32*g.length>=h)break;g.push(a.a);l+=1;0===64*l%e&&D(null,b)}return g}}else throw Error(\"Chosen SHA variant is not supported\");d=M(a,g,x);l=A(c);this.setHMACKey=function(a,b,h){var k;if(!0===I)throw Error(\"HMAC key already set\");if(!0===y)throw Error(\"Cannot set HMAC key after calling update\");if(!0===z)throw Error(\"SHAKE is not supported for HMAC\");g=(h||{}).encoding||\"UTF8\";b=M(b,g,x)(a);a=b.binLen;b=b.value;k=m>>>3;h=k/4-1;if(k<a/8){for(b=u(b,a,0,A(c),f);b.length<=h;)b.push(0);\nb[h]&=4294967040}else if(k>a/8){for(;b.length<=h;)b.push(0);b[h]&=4294967040}for(a=0;a<=h;a+=1)v[a]=b[a]^909522486,w[a]=b[a]^1549556828;l=q(v,l);e=m;I=!0};this.update=function(a){var c,b,k,f=0,g=m>>>5;c=d(a,h,n);a=c.binLen;b=c.value;c=a>>>5;for(k=0;k<c;k+=g)f+m<=a&&(l=q(b.slice(k,k+g),l),f+=m);e+=f;h=b.slice(f>>>5);n=a%m;y=!0};this.getHash=function(a,b){var k,g,d,m;if(!0===I)throw Error(\"Cannot call getHash after setting HMAC key\");d=N(b);if(!0===z){if(-1===d.shakeLen)throw Error(\"shakeLen must be specified in options\");\nf=d.shakeLen}switch(a){case \"HEX\":k=function(a){return O(a,f,x,d)};break;case \"B64\":k=function(a){return P(a,f,x,d)};break;case \"BYTES\":k=function(a){return Q(a,f,x)};break;case \"ARRAYBUFFER\":try{g=new ArrayBuffer(0)}catch(p){throw Error(\"ARRAYBUFFER not supported by this environment\");}k=function(a){return R(a,f,x)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=u(h.slice(),n,e,r(l),f);for(g=1;g<t;g+=1)!0===z&&0!==f%32&&(m[m.length-1]&=16777215>>>24-f%32),m=u(m,f,\n0,A(c),f);return k(m)};this.getHMAC=function(a,b){var k,g,d,p;if(!1===I)throw Error(\"Cannot call getHMAC without first setting HMAC key\");d=N(b);switch(a){case \"HEX\":k=function(a){return O(a,f,x,d)};break;case \"B64\":k=function(a){return P(a,f,x,d)};break;case \"BYTES\":k=function(a){return Q(a,f,x)};break;case \"ARRAYBUFFER\":try{k=new ArrayBuffer(0)}catch(v){throw Error(\"ARRAYBUFFER not supported by this environment\");}k=function(a){return R(a,f,x)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");\n}g=u(h.slice(),n,e,r(l),f);p=q(w,A(c));p=u(g,f,m,p,f);return k(p)}}function b(c,a){this.a=c;this.b=a}function O(c,a,b,e){var h=\"\";a/=8;var n,g,d;d=-1===b?3:0;for(n=0;n<a;n+=1)g=c[n>>>2]>>>8*(d+n%4*b),h+=\"0123456789abcdef\".charAt(g>>>4&15)+\"0123456789abcdef\".charAt(g&15);return e.outputUpper?h.toUpperCase():h}function P(c,a,b,e){var h=\"\",n=a/8,g,d,p,f;f=-1===b?3:0;for(g=0;g<n;g+=3)for(d=g+1<n?c[g+1>>>2]:0,p=g+2<n?c[g+2>>>2]:0,p=(c[g>>>2]>>>8*(f+g%4*b)&255)<<16|(d>>>8*(f+(g+1)%4*b)&255)<<8|p>>>8*(f+\n(g+2)%4*b)&255,d=0;4>d;d+=1)8*g+6*d<=a?h+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(p>>>6*(3-d)&63):h+=e.b64Pad;return h}function Q(c,a,b){var e=\"\";a/=8;var h,d,g;g=-1===b?3:0;for(h=0;h<a;h+=1)d=c[h>>>2]>>>8*(g+h%4*b)&255,e+=String.fromCharCode(d);return e}function R(c,a,b){a/=8;var e,h=new ArrayBuffer(a),d,g;g=new Uint8Array(h);d=-1===b?3:0;for(e=0;e<a;e+=1)g[e]=c[e>>>2]>>>8*(d+e%4*b)&255;return h}function N(c){var a={outputUpper:!1,b64Pad:\"=\",shakeLen:-1};c=c||{};\na.outputUpper=c.outputUpper||!1;!0===c.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=c.b64Pad);if(!0===c.hasOwnProperty(\"shakeLen\")){if(0!==c.shakeLen%8)throw Error(\"shakeLen must be a multiple of 8\");a.shakeLen=c.shakeLen}if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function M(c,a,b){switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");\n}switch(c){case \"HEX\":c=function(a,c,d){var g=a.length,l,p,f,m,q,u;if(0!==g%2)throw Error(\"String of HEX type must be in byte increments\");c=c||[0];d=d||0;q=d>>>3;u=-1===b?3:0;for(l=0;l<g;l+=2){p=parseInt(a.substr(l,2),16);if(isNaN(p))throw Error(\"String of HEX type contains invalid characters\");m=(l>>>1)+q;for(f=m>>>2;c.length<=f;)c.push(0);c[f]|=p<<8*(u+m%4*b)}return{value:c,binLen:4*g+d}};break;case \"TEXT\":c=function(c,h,d){var g,l,p=0,f,m,q,u,r,t;h=h||[0];d=d||0;q=d>>>3;if(\"UTF8\"===a)for(t=-1===\nb?3:0,f=0;f<c.length;f+=1)for(g=c.charCodeAt(f),l=[],128>g?l.push(g):2048>g?(l.push(192|g>>>6),l.push(128|g&63)):55296>g||57344<=g?l.push(224|g>>>12,128|g>>>6&63,128|g&63):(f+=1,g=65536+((g&1023)<<10|c.charCodeAt(f)&1023),l.push(240|g>>>18,128|g>>>12&63,128|g>>>6&63,128|g&63)),m=0;m<l.length;m+=1){r=p+q;for(u=r>>>2;h.length<=u;)h.push(0);h[u]|=l[m]<<8*(t+r%4*b);p+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(t=-1===b?2:0,l=\"UTF16LE\"===a&&1!==b||\"UTF16LE\"!==a&&1===b,f=0;f<c.length;f+=1){g=c.charCodeAt(f);\n!0===l&&(m=g&255,g=m<<8|g>>>8);r=p+q;for(u=r>>>2;h.length<=u;)h.push(0);h[u]|=g<<8*(t+r%4*b);p+=2}return{value:h,binLen:8*p+d}};break;case \"B64\":c=function(a,c,d){var g=0,l,p,f,m,q,u,r,t;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");p=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==p&&p<a.length)throw Error(\"Invalid '=' found in base-64 string\");c=c||[0];d=d||0;u=d>>>3;t=-1===b?3:0;for(p=0;p<a.length;p+=4){q=a.substr(p,4);for(f=m=0;f<q.length;f+=1)l=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(q[f]),\nm|=l<<18-6*f;for(f=0;f<q.length-1;f+=1){r=g+u;for(l=r>>>2;c.length<=l;)c.push(0);c[l]|=(m>>>16-8*f&255)<<8*(t+r%4*b);g+=1}}return{value:c,binLen:8*g+d}};break;case \"BYTES\":c=function(a,c,d){var g,l,p,f,m,q;c=c||[0];d=d||0;p=d>>>3;q=-1===b?3:0;for(l=0;l<a.length;l+=1)g=a.charCodeAt(l),m=l+p,f=m>>>2,c.length<=f&&c.push(0),c[f]|=g<<8*(q+m%4*b);return{value:c,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{c=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}c=\nfunction(a,c,d){var g,l,p,f,m,q;c=c||[0];d=d||0;l=d>>>3;m=-1===b?3:0;q=new Uint8Array(a);for(g=0;g<a.byteLength;g+=1)f=g+l,p=f>>>2,c.length<=p&&c.push(0),c[p]|=q[g]<<8*(m+f%4*b);return{value:c,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return c}function y(c,a){return c<<a|c>>>32-a}function S(c,a){return 32<a?(a-=32,new b(c.b<<a|c.a>>>32-a,c.a<<a|c.b>>>32-a)):0!==a?new b(c.a<<a|c.b>>>32-a,c.b<<a|c.a>>>32-a):c}function w(c,a){return c>>>\na|c<<32-a}function t(c,a){var k=null,k=new b(c.a,c.b);return k=32>=a?new b(k.a>>>a|k.b<<32-a&4294967295,k.b>>>a|k.a<<32-a&4294967295):new b(k.b>>>a-32|k.a<<64-a&4294967295,k.a>>>a-32|k.b<<64-a&4294967295)}function T(c,a){var k=null;return k=32>=a?new b(c.a>>>a,c.b>>>a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function aa(c,a,b){return c&a^~c&b}function ba(c,a,k){return new b(c.a&a.a^~c.a&k.a,c.b&a.b^~c.b&k.b)}function U(c,a,b){return c&a^c&b^a&b}function ca(c,a,k){return new b(c.a&a.a^c.a&k.a^a.a&\nk.a,c.b&a.b^c.b&k.b^a.b&k.b)}function da(c){return w(c,2)^w(c,13)^w(c,22)}function ea(c){var a=t(c,28),k=t(c,34);c=t(c,39);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function fa(c){return w(c,6)^w(c,11)^w(c,25)}function ga(c){var a=t(c,14),k=t(c,18);c=t(c,41);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ha(c){return w(c,7)^w(c,18)^c>>>3}function ia(c){var a=t(c,1),k=t(c,8);c=T(c,7);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ja(c){return w(c,17)^w(c,19)^c>>>10}function ka(c){var a=t(c,19),k=t(c,61);\nc=T(c,6);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function G(c,a){var b=(c&65535)+(a&65535);return((c>>>16)+(a>>>16)+(b>>>16)&65535)<<16|b&65535}function la(c,a,b,e){var h=(c&65535)+(a&65535)+(b&65535)+(e&65535);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)&65535)<<16|h&65535}function H(c,a,b,e,h){var d=(c&65535)+(a&65535)+(b&65535)+(e&65535)+(h&65535);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)+(d>>>16)&65535)<<16|d&65535}function ma(c,a){var d,e,h;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+\n(a.b>>>16)+(d>>>16);h=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,h)}function na(c,a,d,e){var h,n,g;h=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);n=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h>>>16);g=(n&65535)<<16|h&65535;h=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(n>>>16);n=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h>>>16);return new b((n&65535)<<16|h&65535,g)}function oa(c,a,d,e,h){var n,g,l;n=(c.b&\n65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(h.b&65535);g=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h.b>>>16)+(n>>>16);l=(g&65535)<<16|n&65535;n=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(h.a&65535)+(g>>>16);g=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h.a>>>16)+(n>>>16);return new b((g&65535)<<16|n&65535,l)}function B(c,a){return new b(c.a^a.a,c.b^a.b)}function A(c){var a=[],d;if(\"SHA-1\"===c)a=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===c.lastIndexOf(\"SHA-\",0))switch(a=\n[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),\nnew b(d[2],4271175723),new b(d[3],1595750129),new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else if(0===c.lastIndexOf(\"SHA3-\",0)||0===c.lastIndexOf(\"SHAKE\",0))for(c=0;5>c;c+=1)a[c]=[new b(0,0),new b(0,0),new b(0,0),new b(0,0),new b(0,0)];else throw Error(\"No SHA variants supported\");return a}function K(c,a){var b=[],e,d,n,g,l,p,f;e=a[0];d=a[1];n=a[2];g=a[3];l=a[4];for(f=0;80>f;f+=1)b[f]=16>f?c[f]:y(b[f-\n3]^b[f-8]^b[f-14]^b[f-16],1),p=20>f?H(y(e,5),d&n^~d&g,l,1518500249,b[f]):40>f?H(y(e,5),d^n^g,l,1859775393,b[f]):60>f?H(y(e,5),U(d,n,g),l,2400959708,b[f]):H(y(e,5),d^n^g,l,3395469782,b[f]),l=g,g=n,n=y(d,30),d=e,e=p;a[0]=G(e,a[0]);a[1]=G(d,a[1]);a[2]=G(n,a[2]);a[3]=G(g,a[3]);a[4]=G(l,a[4]);return a}function Z(c,a,b,e){var d;for(d=(a+65>>>9<<4)+15;c.length<=d;)c.push(0);c[a>>>5]|=128<<24-a%32;a+=b;c[d]=a&4294967295;c[d-1]=a/4294967296|0;a=c.length;for(d=0;d<a;d+=16)e=K(c.slice(d,d+16),e);return e}function L(c,\na,k){var e,h,n,g,l,p,f,m,q,u,r,t,v,w,y,A,z,x,F,B,C,D,E=[],J;if(\"SHA-224\"===k||\"SHA-256\"===k)u=64,t=1,D=Number,v=G,w=la,y=H,A=ha,z=ja,x=da,F=fa,C=U,B=aa,J=d;else if(\"SHA-384\"===k||\"SHA-512\"===k)u=80,t=2,D=b,v=ma,w=na,y=oa,A=ia,z=ka,x=ea,F=ga,C=ca,B=ba,J=V;else throw Error(\"Unexpected error in SHA-2 implementation\");k=a[0];e=a[1];h=a[2];n=a[3];g=a[4];l=a[5];p=a[6];f=a[7];for(r=0;r<u;r+=1)16>r?(q=r*t,m=c.length<=q?0:c[q],q=c.length<=q+1?0:c[q+1],E[r]=new D(m,q)):E[r]=w(z(E[r-2]),E[r-7],A(E[r-15]),E[r-\n16]),m=y(f,F(g),B(g,l,p),J[r],E[r]),q=v(x(k),C(k,e,h)),f=p,p=l,l=g,g=v(n,m),n=h,h=e,e=k,k=v(m,q);a[0]=v(k,a[0]);a[1]=v(e,a[1]);a[2]=v(h,a[2]);a[3]=v(n,a[3]);a[4]=v(g,a[4]);a[5]=v(l,a[5]);a[6]=v(p,a[6]);a[7]=v(f,a[7]);return a}function D(c,a){var d,e,h,n,g=[],l=[];if(null!==c)for(e=0;e<c.length;e+=2)a[(e>>>1)%5][(e>>>1)/5|0]=B(a[(e>>>1)%5][(e>>>1)/5|0],new b(c[e+1],c[e]));for(d=0;24>d;d+=1){n=A(\"SHA3-\");for(e=0;5>e;e+=1){h=a[e][0];var p=a[e][1],f=a[e][2],m=a[e][3],q=a[e][4];g[e]=new b(h.a^p.a^f.a^\nm.a^q.a,h.b^p.b^f.b^m.b^q.b)}for(e=0;5>e;e+=1)l[e]=B(g[(e+4)%5],S(g[(e+1)%5],1));for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)a[e][h]=B(a[e][h],l[e]);for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)n[h][(2*e+3*h)%5]=S(a[e][h],W[e][h]);for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)a[e][h]=B(n[e][h],new b(~n[(e+1)%5][h].a&n[(e+2)%5][h].a,~n[(e+1)%5][h].b&n[(e+2)%5][h].b));a[0][0]=B(a[0][0],X[d])}return a}var d,V,W,X;d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,\n1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,\n2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];V=[new b(d[0],3609767458),new b(d[1],602891725),new b(d[2],3964484399),new b(d[3],2173295548),new b(d[4],4081628472),new b(d[5],3053834265),new b(d[6],2937671579),new b(d[7],3664609560),new b(d[8],2734883394),new b(d[9],1164996542),new b(d[10],1323610764),new b(d[11],3590304994),new b(d[12],4068182383),new b(d[13],991336113),new b(d[14],633803317),new b(d[15],3479774868),new b(d[16],2666613458),new b(d[17],944711139),new b(d[18],2341262773),\nnew b(d[19],2007800933),new b(d[20],1495990901),new b(d[21],1856431235),new b(d[22],3175218132),new b(d[23],2198950837),new b(d[24],3999719339),new b(d[25],766784016),new b(d[26],2566594879),new b(d[27],3203337956),new b(d[28],1034457026),new b(d[29],2466948901),new b(d[30],3758326383),new b(d[31],168717936),new b(d[32],1188179964),new b(d[33],1546045734),new b(d[34],1522805485),new b(d[35],2643833823),new b(d[36],2343527390),new b(d[37],1014477480),new b(d[38],1206759142),new b(d[39],344077627),\nnew b(d[40],1290863460),new b(d[41],3158454273),new b(d[42],3505952657),new b(d[43],106217008),new b(d[44],3606008344),new b(d[45],1432725776),new b(d[46],1467031594),new b(d[47],851169720),new b(d[48],3100823752),new b(d[49],1363258195),new b(d[50],3750685593),new b(d[51],3785050280),new b(d[52],3318307427),new b(d[53],3812723403),new b(d[54],2003034995),new b(d[55],3602036899),new b(d[56],1575990012),new b(d[57],1125592928),new b(d[58],2716904306),new b(d[59],442776044),new b(d[60],593698344),new b(d[61],\n3733110249),new b(d[62],2999351573),new b(d[63],3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,\n1246189591)];X=[new b(0,1),new b(0,32898),new b(2147483648,32906),new b(2147483648,2147516416),new b(0,32907),new b(0,2147483649),new b(2147483648,2147516545),new b(2147483648,32777),new b(0,138),new b(0,136),new b(0,2147516425),new b(0,2147483658),new b(0,2147516555),new b(2147483648,139),new b(2147483648,32905),new b(2147483648,32771),new b(2147483648,32770),new b(2147483648,128),new b(0,32778),new b(2147483648,2147483658),new b(2147483648,2147516545),new b(2147483648,32896),new b(0,2147483649),\nnew b(2147483648,2147516424)];W=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]]; true?!(__WEBPACK_AMD_DEFINE_RESULT__ = function(){return C}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=C),exports=C):Y.jsSHA=C})(this);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2pzc2hhL3NyYy9zaGEuanM/Y2MwZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsYUFBYSxrQkFBa0IsaUVBQWlFLFFBQVEscUJBQXFCLGlCQUFpQix3RUFBd0UsaURBQWlELGtCQUFrQix1REFBdUQsZ0JBQWdCLHFCQUFxQixRQUFRLHdEQUF3RDtBQUNsYyxXQUFXLDZEQUE2RCxLQUFLLFlBQVksV0FBVyx1QkFBdUIsTUFBTSxrQkFBa0Isc0JBQXNCLFdBQVcsUUFBUSxJQUFJLDZCQUE2Qix3REFBd0QsMEJBQTBCLDhHQUE4RztBQUM3WixrREFBa0QsNkRBQTZELFNBQVMsZUFBZSxpQkFBaUIsMkJBQTJCLGtDQUFrQyxtQ0FBbUMsbUNBQW1DLHdEQUF3RCxvRUFBb0UsUUFBUSxJQUFJLGNBQWMsV0FBVyxRQUFRLElBQUksdUJBQXVCLFVBQVUsSUFBSTtBQUM3ZSxlQUFlLG9DQUFvQyxtQ0FBbUMsbUNBQW1DLDZDQUE2Qyw2Q0FBNkMsd0RBQXdELHNCQUFzQixJQUFJLG1DQUFtQyxRQUFRLFVBQVUsZ0NBQWdDLGFBQWEsU0FBUyxXQUFXLFdBQVcsUUFBUSxrQkFBa0IsbUJBQW1CLGFBQWEsY0FBYyxFQUFFO0FBQ2hmLFVBQVUsWUFBWSx3QkFBd0IsWUFBWSxLQUFLLHNCQUFzQixVQUFVLHdEQUF3RCxXQUFXLE9BQU8sZ0NBQWdDLE1BQU0sOENBQThDLGtFQUFrRSx5REFBeUQsUUFBUSxtQkFBbUIsY0FBYyxXQUFXLFVBQVUsUUFBUSxRQUFRLFVBQVUsc0JBQXNCLFlBQVk7QUFDbGYsaUJBQWlCLGVBQWUsS0FBSyxZQUFZLFdBQVcsaUJBQWlCLFFBQVEsS0FBSyw4Q0FBOEMsU0FBUyxJQUFJLE1BQU0sd0JBQXdCLHNCQUFzQixXQUFXLFdBQVcsVUFBVSxRQUFRLFFBQVEsSUFBSSwwQ0FBMEMsS0FBSyxpQkFBaUIsTUFBTSxNQUFN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dUJBQXVCLFVBQVU7QUFDL2UsdURBQXVELGtFQUFrRSx3QkFBd0IsdUVBQXVFLGtFQUFrRSxzQ0FBc0MsZ0JBQWdCLDhCQUE4QixjQUFjLFdBQVcseUVBQXlFO0FBQ2hkLHNMQUFzTCxxQkFBcUIsbUJBQW1CLE1BQU0sMk1BQTJNLE1BQU07QUFDcmIseUlBQXlJLE1BQU0sNENBQTRDLDJFQUEyRSxJQUFJLG1FQUFtRSw4Q0FBOEMsU0FBUyxnQkFBZ0IsdUJBQXVCLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxRQUFRLEtBQUs7QUFDM2Qsc05BQXNOLGVBQWUsZUFBZSxlQUFlLGVBQWUsZUFBZSxTQUFTLG9CQUFvQixNQUFNLHVCQUF1QixZQUFZLFdBQVcsdUJBQXVCLEtBQUssa0JBQWtCLHNCQUFzQixXQUFXLFFBQVEsSUFBSSw2QkFBNkIsU0FBUztBQUNuZixLQUFLLHVEQUF1RCxnR0FBZ0csbUdBQW1HLDZEQUE2RCxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sUUFBUSxJQUFJO0FBQ2hZLGlHQUFpRyxlQUFlLGVBQWUsZUFBZSxlQUFlLGVBQWUsZUFBZSxlQUFlLGVBQWUsU0FBUyxnQkFBZ0Isc0JBQXNCLG9CQUFvQixXQUFXLCtFQUErRSxRQUFRLEtBQUssTUFBTSxhQUFhLFFBQVEsSUFBSSxNQUFNLFVBQVUsNENBQTRDO0FBQzlkLDZCQUE2QixRQUFRLElBQUksd0NBQXdDLFFBQVEsSUFBSSxhQUFhLElBQUksNkJBQTZCLFFBQVEsSUFBSSxhQUFhLElBQUksMENBQTBDLFFBQVEsSUFBSSxhQUFhLElBQUksaUdBQWlHLHdCQUF3QixTQUFTLFlBQVk7QUFDN1g7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDhCQUE4QixtRkFBbUYsbURBQXlELFNBQVMsMFFBQXFIIiwiZmlsZSI6IjM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNIQSBmYW1pbHkgb2YgaGFzaGVzLCBhc1xuIGRlZmluZWQgaW4gRklQUyBQVUIgMTgwLTQgYW5kIEZJUFMgUFVCIDIwMiwgYXMgd2VsbCBhcyB0aGUgY29ycmVzcG9uZGluZ1xuIEhNQUMgaW1wbGVtZW50YXRpb24gYXMgZGVmaW5lZCBpbiBGSVBTIFBVQiAxOThhXG5cbiBDb3B5cmlnaHQgQnJpYW4gVHVyZWsgMjAwOC0yMDE3XG4gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gU2VlIGh0dHA6Ly9jYWxpZ2F0aW8uZ2l0aHViLmNvbS9qc1NIQS8gZm9yIG1vcmUgaW5mb3JtYXRpb25cblxuIFNldmVyYWwgZnVuY3Rpb25zIHRha2VuIGZyb20gUGF1bCBKb2huc3RvblxuKi9cbid1c2Ugc3RyaWN0JzsoZnVuY3Rpb24oWSl7ZnVuY3Rpb24gQyhjLGEsYil7dmFyIGU9MCxoPVtdLG49MCxnLGwsZCxmLG0scSx1LHIsST0hMSx2PVtdLHc9W10sdCx5PSExLHo9ITEseD0tMTtiPWJ8fHt9O2c9Yi5lbmNvZGluZ3x8XCJVVEY4XCI7dD1iLm51bVJvdW5kc3x8MTtpZih0IT09cGFyc2VJbnQodCwxMCl8fDE+dCl0aHJvdyBFcnJvcihcIm51bVJvdW5kcyBtdXN0IGEgaW50ZWdlciA+PSAxXCIpO2lmKFwiU0hBLTFcIj09PWMpbT01MTIscT1LLHU9WixmPTE2MCxyPWZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9O2Vsc2UgaWYoMD09PWMubGFzdEluZGV4T2YoXCJTSEEtXCIsMCkpaWYocT1mdW5jdGlvbihhLGIpe3JldHVybiBMKGEsYixjKX0sdT1mdW5jdGlvbihhLGIsaCxlKXt2YXIgayxmO2lmKFwiU0hBLTIyNFwiPT09Y3x8XCJTSEEtMjU2XCI9PT1jKWs9KGIrNjU+Pj45PDw0KSsxNSxmPTE2O2Vsc2UgaWYoXCJTSEEtMzg0XCI9PT1jfHxcIlNIQS01MTJcIj09PWMpaz0oYisxMjk+Pj4xMDw8XG41KSszMSxmPTMyO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIGluIFNIQS0yIGltcGxlbWVudGF0aW9uXCIpO2Zvcig7YS5sZW5ndGg8PWs7KWEucHVzaCgwKTthW2I+Pj41XXw9MTI4PDwyNC1iJTMyO2I9YitoO2Fba109YiY0Mjk0OTY3Mjk1O2Fbay0xXT1iLzQyOTQ5NjcyOTZ8MDtoPWEubGVuZ3RoO2ZvcihiPTA7YjxoO2IrPWYpZT1MKGEuc2xpY2UoYixiK2YpLGUsYyk7aWYoXCJTSEEtMjI0XCI9PT1jKWE9W2VbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl1dO2Vsc2UgaWYoXCJTSEEtMjU2XCI9PT1jKWE9ZTtlbHNlIGlmKFwiU0hBLTM4NFwiPT09YylhPVtlWzBdLmEsZVswXS5iLGVbMV0uYSxlWzFdLmIsZVsyXS5hLGVbMl0uYixlWzNdLmEsZVszXS5iLGVbNF0uYSxlWzRdLmIsZVs1XS5hLGVbNV0uYl07ZWxzZSBpZihcIlNIQS01MTJcIj09PWMpYT1bZVswXS5hLGVbMF0uYixlWzFdLmEsZVsxXS5iLGVbMl0uYSxlWzJdLmIsZVszXS5hLGVbM10uYixlWzRdLmEsXG5lWzRdLmIsZVs1XS5hLGVbNV0uYixlWzZdLmEsZVs2XS5iLGVbN10uYSxlWzddLmJdO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIGluIFNIQS0yIGltcGxlbWVudGF0aW9uXCIpO3JldHVybiBhfSxyPWZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LFwiU0hBLTIyNFwiPT09YyltPTUxMixmPTIyNDtlbHNlIGlmKFwiU0hBLTI1NlwiPT09YyltPTUxMixmPTI1NjtlbHNlIGlmKFwiU0hBLTM4NFwiPT09YyltPTEwMjQsZj0zODQ7ZWxzZSBpZihcIlNIQS01MTJcIj09PWMpbT0xMDI0LGY9NTEyO2Vsc2UgdGhyb3cgRXJyb3IoXCJDaG9zZW4gU0hBIHZhcmlhbnQgaXMgbm90IHN1cHBvcnRlZFwiKTtlbHNlIGlmKDA9PT1jLmxhc3RJbmRleE9mKFwiU0hBMy1cIiwwKXx8MD09PWMubGFzdEluZGV4T2YoXCJTSEFLRVwiLDApKXt2YXIgRj02O3E9RDtyPWZ1bmN0aW9uKGEpe3ZhciBjPVtdLGU7Zm9yKGU9MDs1PmU7ZSs9MSljW2VdPWFbZV0uc2xpY2UoKTtyZXR1cm4gY307eD0xO2lmKFwiU0hBMy0yMjRcIj09PVxuYyltPTExNTIsZj0yMjQ7ZWxzZSBpZihcIlNIQTMtMjU2XCI9PT1jKW09MTA4OCxmPTI1NjtlbHNlIGlmKFwiU0hBMy0zODRcIj09PWMpbT04MzIsZj0zODQ7ZWxzZSBpZihcIlNIQTMtNTEyXCI9PT1jKW09NTc2LGY9NTEyO2Vsc2UgaWYoXCJTSEFLRTEyOFwiPT09YyltPTEzNDQsZj0tMSxGPTMxLHo9ITA7ZWxzZSBpZihcIlNIQUtFMjU2XCI9PT1jKW09MTA4OCxmPS0xLEY9MzEsej0hMDtlbHNlIHRocm93IEVycm9yKFwiQ2hvc2VuIFNIQSB2YXJpYW50IGlzIG5vdCBzdXBwb3J0ZWRcIik7dT1mdW5jdGlvbihhLGMsZSxiLGgpe2U9bTt2YXIgaz1GLGYsZz1bXSxuPWU+Pj41LGw9MCxkPWM+Pj41O2ZvcihmPTA7ZjxkJiZjPj1lO2YrPW4pYj1EKGEuc2xpY2UoZixmK24pLGIpLGMtPWU7YT1hLnNsaWNlKGYpO2ZvcihjJT1lO2EubGVuZ3RoPG47KWEucHVzaCgwKTtmPWM+Pj4zO2FbZj4+Ml1ePWs8PGYlNCo4O2Fbbi0xXV49MjE0NzQ4MzY0ODtmb3IoYj1EKGEsYik7MzIqZy5sZW5ndGg8aDspe2E9YltsJVxuNV1bbC81fDBdO2cucHVzaChhLmIpO2lmKDMyKmcubGVuZ3RoPj1oKWJyZWFrO2cucHVzaChhLmEpO2wrPTE7MD09PTY0KmwlZSYmRChudWxsLGIpfXJldHVybiBnfX1lbHNlIHRocm93IEVycm9yKFwiQ2hvc2VuIFNIQSB2YXJpYW50IGlzIG5vdCBzdXBwb3J0ZWRcIik7ZD1NKGEsZyx4KTtsPUEoYyk7dGhpcy5zZXRITUFDS2V5PWZ1bmN0aW9uKGEsYixoKXt2YXIgaztpZighMD09PUkpdGhyb3cgRXJyb3IoXCJITUFDIGtleSBhbHJlYWR5IHNldFwiKTtpZighMD09PXkpdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc2V0IEhNQUMga2V5IGFmdGVyIGNhbGxpbmcgdXBkYXRlXCIpO2lmKCEwPT09eil0aHJvdyBFcnJvcihcIlNIQUtFIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIEhNQUNcIik7Zz0oaHx8e30pLmVuY29kaW5nfHxcIlVURjhcIjtiPU0oYixnLHgpKGEpO2E9Yi5iaW5MZW47Yj1iLnZhbHVlO2s9bT4+PjM7aD1rLzQtMTtpZihrPGEvOCl7Zm9yKGI9dShiLGEsMCxBKGMpLGYpO2IubGVuZ3RoPD1oOyliLnB1c2goMCk7XG5iW2hdJj00Mjk0OTY3MDQwfWVsc2UgaWYoaz5hLzgpe2Zvcig7Yi5sZW5ndGg8PWg7KWIucHVzaCgwKTtiW2hdJj00Mjk0OTY3MDQwfWZvcihhPTA7YTw9aDthKz0xKXZbYV09YlthXV45MDk1MjI0ODYsd1thXT1iW2FdXjE1NDk1NTY4Mjg7bD1xKHYsbCk7ZT1tO0k9ITB9O3RoaXMudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBjLGIsayxmPTAsZz1tPj4+NTtjPWQoYSxoLG4pO2E9Yy5iaW5MZW47Yj1jLnZhbHVlO2M9YT4+PjU7Zm9yKGs9MDtrPGM7ays9ZylmK208PWEmJihsPXEoYi5zbGljZShrLGsrZyksbCksZis9bSk7ZSs9ZjtoPWIuc2xpY2UoZj4+PjUpO249YSVtO3k9ITB9O3RoaXMuZ2V0SGFzaD1mdW5jdGlvbihhLGIpe3ZhciBrLGcsZCxtO2lmKCEwPT09SSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjYWxsIGdldEhhc2ggYWZ0ZXIgc2V0dGluZyBITUFDIGtleVwiKTtkPU4oYik7aWYoITA9PT16KXtpZigtMT09PWQuc2hha2VMZW4pdGhyb3cgRXJyb3IoXCJzaGFrZUxlbiBtdXN0IGJlIHNwZWNpZmllZCBpbiBvcHRpb25zXCIpO1xuZj1kLnNoYWtlTGVufXN3aXRjaChhKXtjYXNlIFwiSEVYXCI6az1mdW5jdGlvbihhKXtyZXR1cm4gTyhhLGYseCxkKX07YnJlYWs7Y2FzZSBcIkI2NFwiOms9ZnVuY3Rpb24oYSl7cmV0dXJuIFAoYSxmLHgsZCl9O2JyZWFrO2Nhc2UgXCJCWVRFU1wiOms9ZnVuY3Rpb24oYSl7cmV0dXJuIFEoYSxmLHgpfTticmVhaztjYXNlIFwiQVJSQVlCVUZGRVJcIjp0cnl7Zz1uZXcgQXJyYXlCdWZmZXIoMCl9Y2F0Y2gocCl7dGhyb3cgRXJyb3IoXCJBUlJBWUJVRkZFUiBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZW52aXJvbm1lbnRcIik7fWs9ZnVuY3Rpb24oYSl7cmV0dXJuIFIoYSxmLHgpfTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiZm9ybWF0IG11c3QgYmUgSEVYLCBCNjQsIEJZVEVTLCBvciBBUlJBWUJVRkZFUlwiKTt9bT11KGguc2xpY2UoKSxuLGUscihsKSxmKTtmb3IoZz0xO2c8dDtnKz0xKSEwPT09eiYmMCE9PWYlMzImJihtW20ubGVuZ3RoLTFdJj0xNjc3NzIxNT4+PjI0LWYlMzIpLG09dShtLGYsXG4wLEEoYyksZik7cmV0dXJuIGsobSl9O3RoaXMuZ2V0SE1BQz1mdW5jdGlvbihhLGIpe3ZhciBrLGcsZCxwO2lmKCExPT09SSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjYWxsIGdldEhNQUMgd2l0aG91dCBmaXJzdCBzZXR0aW5nIEhNQUMga2V5XCIpO2Q9TihiKTtzd2l0Y2goYSl7Y2FzZSBcIkhFWFwiOms9ZnVuY3Rpb24oYSl7cmV0dXJuIE8oYSxmLHgsZCl9O2JyZWFrO2Nhc2UgXCJCNjRcIjprPWZ1bmN0aW9uKGEpe3JldHVybiBQKGEsZix4LGQpfTticmVhaztjYXNlIFwiQllURVNcIjprPWZ1bmN0aW9uKGEpe3JldHVybiBRKGEsZix4KX07YnJlYWs7Y2FzZSBcIkFSUkFZQlVGRkVSXCI6dHJ5e2s9bmV3IEFycmF5QnVmZmVyKDApfWNhdGNoKHYpe3Rocm93IEVycm9yKFwiQVJSQVlCVUZGRVIgbm90IHN1cHBvcnRlZCBieSB0aGlzIGVudmlyb25tZW50XCIpO31rPWZ1bmN0aW9uKGEpe3JldHVybiBSKGEsZix4KX07YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIm91dHB1dEZvcm1hdCBtdXN0IGJlIEhFWCwgQjY0LCBCWVRFUywgb3IgQVJSQVlCVUZGRVJcIik7XG59Zz11KGguc2xpY2UoKSxuLGUscihsKSxmKTtwPXEodyxBKGMpKTtwPXUoZyxmLG0scCxmKTtyZXR1cm4gayhwKX19ZnVuY3Rpb24gYihjLGEpe3RoaXMuYT1jO3RoaXMuYj1hfWZ1bmN0aW9uIE8oYyxhLGIsZSl7dmFyIGg9XCJcIjthLz04O3ZhciBuLGcsZDtkPS0xPT09Yj8zOjA7Zm9yKG49MDtuPGE7bis9MSlnPWNbbj4+PjJdPj4+OCooZCtuJTQqYiksaCs9XCIwMTIzNDU2Nzg5YWJjZGVmXCIuY2hhckF0KGc+Pj40JjE1KStcIjAxMjM0NTY3ODlhYmNkZWZcIi5jaGFyQXQoZyYxNSk7cmV0dXJuIGUub3V0cHV0VXBwZXI/aC50b1VwcGVyQ2FzZSgpOmh9ZnVuY3Rpb24gUChjLGEsYixlKXt2YXIgaD1cIlwiLG49YS84LGcsZCxwLGY7Zj0tMT09PWI/MzowO2ZvcihnPTA7ZzxuO2crPTMpZm9yKGQ9ZysxPG4/Y1tnKzE+Pj4yXTowLHA9ZysyPG4/Y1tnKzI+Pj4yXTowLHA9KGNbZz4+PjJdPj4+OCooZitnJTQqYikmMjU1KTw8MTZ8KGQ+Pj44KihmKyhnKzEpJTQqYikmMjU1KTw8OHxwPj4+OCooZitcbihnKzIpJTQqYikmMjU1LGQ9MDs0PmQ7ZCs9MSk4KmcrNipkPD1hP2grPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLmNoYXJBdChwPj4+NiooMy1kKSY2Myk6aCs9ZS5iNjRQYWQ7cmV0dXJuIGh9ZnVuY3Rpb24gUShjLGEsYil7dmFyIGU9XCJcIjthLz04O3ZhciBoLGQsZztnPS0xPT09Yj8zOjA7Zm9yKGg9MDtoPGE7aCs9MSlkPWNbaD4+PjJdPj4+OCooZytoJTQqYikmMjU1LGUrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCk7cmV0dXJuIGV9ZnVuY3Rpb24gUihjLGEsYil7YS89ODt2YXIgZSxoPW5ldyBBcnJheUJ1ZmZlcihhKSxkLGc7Zz1uZXcgVWludDhBcnJheShoKTtkPS0xPT09Yj8zOjA7Zm9yKGU9MDtlPGE7ZSs9MSlnW2VdPWNbZT4+PjJdPj4+OCooZCtlJTQqYikmMjU1O3JldHVybiBofWZ1bmN0aW9uIE4oYyl7dmFyIGE9e291dHB1dFVwcGVyOiExLGI2NFBhZDpcIj1cIixzaGFrZUxlbjotMX07Yz1jfHx7fTtcbmEub3V0cHV0VXBwZXI9Yy5vdXRwdXRVcHBlcnx8ITE7ITA9PT1jLmhhc093blByb3BlcnR5KFwiYjY0UGFkXCIpJiYoYS5iNjRQYWQ9Yy5iNjRQYWQpO2lmKCEwPT09Yy5oYXNPd25Qcm9wZXJ0eShcInNoYWtlTGVuXCIpKXtpZigwIT09Yy5zaGFrZUxlbiU4KXRocm93IEVycm9yKFwic2hha2VMZW4gbXVzdCBiZSBhIG11bHRpcGxlIG9mIDhcIik7YS5zaGFrZUxlbj1jLnNoYWtlTGVufWlmKFwiYm9vbGVhblwiIT09dHlwZW9mIGEub3V0cHV0VXBwZXIpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIG91dHB1dFVwcGVyIGZvcm1hdHRpbmcgb3B0aW9uXCIpO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYS5iNjRQYWQpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGI2NFBhZCBmb3JtYXR0aW5nIG9wdGlvblwiKTtyZXR1cm4gYX1mdW5jdGlvbiBNKGMsYSxiKXtzd2l0Y2goYSl7Y2FzZSBcIlVURjhcIjpjYXNlIFwiVVRGMTZCRVwiOmNhc2UgXCJVVEYxNkxFXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImVuY29kaW5nIG11c3QgYmUgVVRGOCwgVVRGMTZCRSwgb3IgVVRGMTZMRVwiKTtcbn1zd2l0Y2goYyl7Y2FzZSBcIkhFWFwiOmM9ZnVuY3Rpb24oYSxjLGQpe3ZhciBnPWEubGVuZ3RoLGwscCxmLG0scSx1O2lmKDAhPT1nJTIpdGhyb3cgRXJyb3IoXCJTdHJpbmcgb2YgSEVYIHR5cGUgbXVzdCBiZSBpbiBieXRlIGluY3JlbWVudHNcIik7Yz1jfHxbMF07ZD1kfHwwO3E9ZD4+PjM7dT0tMT09PWI/MzowO2ZvcihsPTA7bDxnO2wrPTIpe3A9cGFyc2VJbnQoYS5zdWJzdHIobCwyKSwxNik7aWYoaXNOYU4ocCkpdGhyb3cgRXJyb3IoXCJTdHJpbmcgb2YgSEVYIHR5cGUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzXCIpO209KGw+Pj4xKStxO2ZvcihmPW0+Pj4yO2MubGVuZ3RoPD1mOyljLnB1c2goMCk7Y1tmXXw9cDw8OCoodSttJTQqYil9cmV0dXJue3ZhbHVlOmMsYmluTGVuOjQqZytkfX07YnJlYWs7Y2FzZSBcIlRFWFRcIjpjPWZ1bmN0aW9uKGMsaCxkKXt2YXIgZyxsLHA9MCxmLG0scSx1LHIsdDtoPWh8fFswXTtkPWR8fDA7cT1kPj4+MztpZihcIlVURjhcIj09PWEpZm9yKHQ9LTE9PT1cbmI/MzowLGY9MDtmPGMubGVuZ3RoO2YrPTEpZm9yKGc9Yy5jaGFyQ29kZUF0KGYpLGw9W10sMTI4Pmc/bC5wdXNoKGcpOjIwNDg+Zz8obC5wdXNoKDE5MnxnPj4+NiksbC5wdXNoKDEyOHxnJjYzKSk6NTUyOTY+Z3x8NTczNDQ8PWc/bC5wdXNoKDIyNHxnPj4+MTIsMTI4fGc+Pj42JjYzLDEyOHxnJjYzKTooZis9MSxnPTY1NTM2KygoZyYxMDIzKTw8MTB8Yy5jaGFyQ29kZUF0KGYpJjEwMjMpLGwucHVzaCgyNDB8Zz4+PjE4LDEyOHxnPj4+MTImNjMsMTI4fGc+Pj42JjYzLDEyOHxnJjYzKSksbT0wO208bC5sZW5ndGg7bSs9MSl7cj1wK3E7Zm9yKHU9cj4+PjI7aC5sZW5ndGg8PXU7KWgucHVzaCgwKTtoW3VdfD1sW21dPDw4Kih0K3IlNCpiKTtwKz0xfWVsc2UgaWYoXCJVVEYxNkJFXCI9PT1hfHxcIlVURjE2TEVcIj09PWEpZm9yKHQ9LTE9PT1iPzI6MCxsPVwiVVRGMTZMRVwiPT09YSYmMSE9PWJ8fFwiVVRGMTZMRVwiIT09YSYmMT09PWIsZj0wO2Y8Yy5sZW5ndGg7Zis9MSl7Zz1jLmNoYXJDb2RlQXQoZik7XG4hMD09PWwmJihtPWcmMjU1LGc9bTw8OHxnPj4+OCk7cj1wK3E7Zm9yKHU9cj4+PjI7aC5sZW5ndGg8PXU7KWgucHVzaCgwKTtoW3VdfD1nPDw4Kih0K3IlNCpiKTtwKz0yfXJldHVybnt2YWx1ZTpoLGJpbkxlbjo4KnArZH19O2JyZWFrO2Nhc2UgXCJCNjRcIjpjPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZz0wLGwscCxmLG0scSx1LHIsdDtpZigtMT09PWEuc2VhcmNoKC9eW2EtekEtWjAtOT0rXFwvXSskLykpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNoYXJhY3RlciBpbiBiYXNlLTY0IHN0cmluZ1wiKTtwPWEuaW5kZXhPZihcIj1cIik7YT1hLnJlcGxhY2UoL1xcPS9nLFwiXCIpO2lmKC0xIT09cCYmcDxhLmxlbmd0aCl0aHJvdyBFcnJvcihcIkludmFsaWQgJz0nIGZvdW5kIGluIGJhc2UtNjQgc3RyaW5nXCIpO2M9Y3x8WzBdO2Q9ZHx8MDt1PWQ+Pj4zO3Q9LTE9PT1iPzM6MDtmb3IocD0wO3A8YS5sZW5ndGg7cCs9NCl7cT1hLnN1YnN0cihwLDQpO2ZvcihmPW09MDtmPHEubGVuZ3RoO2YrPTEpbD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIi5pbmRleE9mKHFbZl0pLFxubXw9bDw8MTgtNipmO2ZvcihmPTA7ZjxxLmxlbmd0aC0xO2YrPTEpe3I9Zyt1O2ZvcihsPXI+Pj4yO2MubGVuZ3RoPD1sOyljLnB1c2goMCk7Y1tsXXw9KG0+Pj4xNi04KmYmMjU1KTw8OCoodCtyJTQqYik7Zys9MX19cmV0dXJue3ZhbHVlOmMsYmluTGVuOjgqZytkfX07YnJlYWs7Y2FzZSBcIkJZVEVTXCI6Yz1mdW5jdGlvbihhLGMsZCl7dmFyIGcsbCxwLGYsbSxxO2M9Y3x8WzBdO2Q9ZHx8MDtwPWQ+Pj4zO3E9LTE9PT1iPzM6MDtmb3IobD0wO2w8YS5sZW5ndGg7bCs9MSlnPWEuY2hhckNvZGVBdChsKSxtPWwrcCxmPW0+Pj4yLGMubGVuZ3RoPD1mJiZjLnB1c2goMCksY1tmXXw9Zzw8OCoocSttJTQqYik7cmV0dXJue3ZhbHVlOmMsYmluTGVuOjgqYS5sZW5ndGgrZH19O2JyZWFrO2Nhc2UgXCJBUlJBWUJVRkZFUlwiOnRyeXtjPW5ldyBBcnJheUJ1ZmZlcigwKX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIkFSUkFZQlVGRkVSIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBlbnZpcm9ubWVudFwiKTt9Yz1cbmZ1bmN0aW9uKGEsYyxkKXt2YXIgZyxsLHAsZixtLHE7Yz1jfHxbMF07ZD1kfHwwO2w9ZD4+PjM7bT0tMT09PWI/MzowO3E9bmV3IFVpbnQ4QXJyYXkoYSk7Zm9yKGc9MDtnPGEuYnl0ZUxlbmd0aDtnKz0xKWY9ZytsLHA9Zj4+PjIsYy5sZW5ndGg8PXAmJmMucHVzaCgwKSxjW3BdfD1xW2ddPDw4KihtK2YlNCpiKTtyZXR1cm57dmFsdWU6YyxiaW5MZW46OCphLmJ5dGVMZW5ndGgrZH19O2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJmb3JtYXQgbXVzdCBiZSBIRVgsIFRFWFQsIEI2NCwgQllURVMsIG9yIEFSUkFZQlVGRkVSXCIpO31yZXR1cm4gY31mdW5jdGlvbiB5KGMsYSl7cmV0dXJuIGM8PGF8Yz4+PjMyLWF9ZnVuY3Rpb24gUyhjLGEpe3JldHVybiAzMjxhPyhhLT0zMixuZXcgYihjLmI8PGF8Yy5hPj4+MzItYSxjLmE8PGF8Yy5iPj4+MzItYSkpOjAhPT1hP25ldyBiKGMuYTw8YXxjLmI+Pj4zMi1hLGMuYjw8YXxjLmE+Pj4zMi1hKTpjfWZ1bmN0aW9uIHcoYyxhKXtyZXR1cm4gYz4+PlxuYXxjPDwzMi1hfWZ1bmN0aW9uIHQoYyxhKXt2YXIgaz1udWxsLGs9bmV3IGIoYy5hLGMuYik7cmV0dXJuIGs9MzI+PWE/bmV3IGIoay5hPj4+YXxrLmI8PDMyLWEmNDI5NDk2NzI5NSxrLmI+Pj5hfGsuYTw8MzItYSY0Mjk0OTY3Mjk1KTpuZXcgYihrLmI+Pj5hLTMyfGsuYTw8NjQtYSY0Mjk0OTY3Mjk1LGsuYT4+PmEtMzJ8ay5iPDw2NC1hJjQyOTQ5NjcyOTUpfWZ1bmN0aW9uIFQoYyxhKXt2YXIgaz1udWxsO3JldHVybiBrPTMyPj1hP25ldyBiKGMuYT4+PmEsYy5iPj4+YXxjLmE8PDMyLWEmNDI5NDk2NzI5NSk6bmV3IGIoMCxjLmE+Pj5hLTMyKX1mdW5jdGlvbiBhYShjLGEsYil7cmV0dXJuIGMmYV5+YyZifWZ1bmN0aW9uIGJhKGMsYSxrKXtyZXR1cm4gbmV3IGIoYy5hJmEuYV5+Yy5hJmsuYSxjLmImYS5iXn5jLmImay5iKX1mdW5jdGlvbiBVKGMsYSxiKXtyZXR1cm4gYyZhXmMmYl5hJmJ9ZnVuY3Rpb24gY2EoYyxhLGspe3JldHVybiBuZXcgYihjLmEmYS5hXmMuYSZrLmFeYS5hJlxuay5hLGMuYiZhLmJeYy5iJmsuYl5hLmImay5iKX1mdW5jdGlvbiBkYShjKXtyZXR1cm4gdyhjLDIpXncoYywxMyledyhjLDIyKX1mdW5jdGlvbiBlYShjKXt2YXIgYT10KGMsMjgpLGs9dChjLDM0KTtjPXQoYywzOSk7cmV0dXJuIG5ldyBiKGEuYV5rLmFeYy5hLGEuYl5rLmJeYy5iKX1mdW5jdGlvbiBmYShjKXtyZXR1cm4gdyhjLDYpXncoYywxMSledyhjLDI1KX1mdW5jdGlvbiBnYShjKXt2YXIgYT10KGMsMTQpLGs9dChjLDE4KTtjPXQoYyw0MSk7cmV0dXJuIG5ldyBiKGEuYV5rLmFeYy5hLGEuYl5rLmJeYy5iKX1mdW5jdGlvbiBoYShjKXtyZXR1cm4gdyhjLDcpXncoYywxOCleYz4+PjN9ZnVuY3Rpb24gaWEoYyl7dmFyIGE9dChjLDEpLGs9dChjLDgpO2M9VChjLDcpO3JldHVybiBuZXcgYihhLmFeay5hXmMuYSxhLmJeay5iXmMuYil9ZnVuY3Rpb24gamEoYyl7cmV0dXJuIHcoYywxNyledyhjLDE5KV5jPj4+MTB9ZnVuY3Rpb24ga2EoYyl7dmFyIGE9dChjLDE5KSxrPXQoYyw2MSk7XG5jPVQoYyw2KTtyZXR1cm4gbmV3IGIoYS5hXmsuYV5jLmEsYS5iXmsuYl5jLmIpfWZ1bmN0aW9uIEcoYyxhKXt2YXIgYj0oYyY2NTUzNSkrKGEmNjU1MzUpO3JldHVybigoYz4+PjE2KSsoYT4+PjE2KSsoYj4+PjE2KSY2NTUzNSk8PDE2fGImNjU1MzV9ZnVuY3Rpb24gbGEoYyxhLGIsZSl7dmFyIGg9KGMmNjU1MzUpKyhhJjY1NTM1KSsoYiY2NTUzNSkrKGUmNjU1MzUpO3JldHVybigoYz4+PjE2KSsoYT4+PjE2KSsoYj4+PjE2KSsoZT4+PjE2KSsoaD4+PjE2KSY2NTUzNSk8PDE2fGgmNjU1MzV9ZnVuY3Rpb24gSChjLGEsYixlLGgpe3ZhciBkPShjJjY1NTM1KSsoYSY2NTUzNSkrKGImNjU1MzUpKyhlJjY1NTM1KSsoaCY2NTUzNSk7cmV0dXJuKChjPj4+MTYpKyhhPj4+MTYpKyhiPj4+MTYpKyhlPj4+MTYpKyhoPj4+MTYpKyhkPj4+MTYpJjY1NTM1KTw8MTZ8ZCY2NTUzNX1mdW5jdGlvbiBtYShjLGEpe3ZhciBkLGUsaDtkPShjLmImNjU1MzUpKyhhLmImNjU1MzUpO2U9KGMuYj4+PjE2KStcbihhLmI+Pj4xNikrKGQ+Pj4xNik7aD0oZSY2NTUzNSk8PDE2fGQmNjU1MzU7ZD0oYy5hJjY1NTM1KSsoYS5hJjY1NTM1KSsoZT4+PjE2KTtlPShjLmE+Pj4xNikrKGEuYT4+PjE2KSsoZD4+PjE2KTtyZXR1cm4gbmV3IGIoKGUmNjU1MzUpPDwxNnxkJjY1NTM1LGgpfWZ1bmN0aW9uIG5hKGMsYSxkLGUpe3ZhciBoLG4sZztoPShjLmImNjU1MzUpKyhhLmImNjU1MzUpKyhkLmImNjU1MzUpKyhlLmImNjU1MzUpO249KGMuYj4+PjE2KSsoYS5iPj4+MTYpKyhkLmI+Pj4xNikrKGUuYj4+PjE2KSsoaD4+PjE2KTtnPShuJjY1NTM1KTw8MTZ8aCY2NTUzNTtoPShjLmEmNjU1MzUpKyhhLmEmNjU1MzUpKyhkLmEmNjU1MzUpKyhlLmEmNjU1MzUpKyhuPj4+MTYpO249KGMuYT4+PjE2KSsoYS5hPj4+MTYpKyhkLmE+Pj4xNikrKGUuYT4+PjE2KSsoaD4+PjE2KTtyZXR1cm4gbmV3IGIoKG4mNjU1MzUpPDwxNnxoJjY1NTM1LGcpfWZ1bmN0aW9uIG9hKGMsYSxkLGUsaCl7dmFyIG4sZyxsO249KGMuYiZcbjY1NTM1KSsoYS5iJjY1NTM1KSsoZC5iJjY1NTM1KSsoZS5iJjY1NTM1KSsoaC5iJjY1NTM1KTtnPShjLmI+Pj4xNikrKGEuYj4+PjE2KSsoZC5iPj4+MTYpKyhlLmI+Pj4xNikrKGguYj4+PjE2KSsobj4+PjE2KTtsPShnJjY1NTM1KTw8MTZ8biY2NTUzNTtuPShjLmEmNjU1MzUpKyhhLmEmNjU1MzUpKyhkLmEmNjU1MzUpKyhlLmEmNjU1MzUpKyhoLmEmNjU1MzUpKyhnPj4+MTYpO2c9KGMuYT4+PjE2KSsoYS5hPj4+MTYpKyhkLmE+Pj4xNikrKGUuYT4+PjE2KSsoaC5hPj4+MTYpKyhuPj4+MTYpO3JldHVybiBuZXcgYigoZyY2NTUzNSk8PDE2fG4mNjU1MzUsbCl9ZnVuY3Rpb24gQihjLGEpe3JldHVybiBuZXcgYihjLmFeYS5hLGMuYl5hLmIpfWZ1bmN0aW9uIEEoYyl7dmFyIGE9W10sZDtpZihcIlNIQS0xXCI9PT1jKWE9WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXTtlbHNlIGlmKDA9PT1jLmxhc3RJbmRleE9mKFwiU0hBLVwiLDApKXN3aXRjaChhPVxuWzMyMzgzNzEwMzIsOTE0MTUwNjYzLDgxMjcwMjk5OSw0MTQ0OTEyNjk3LDQyOTA3NzU4NTcsMTc1MDYwMzAyNSwxNjk0MDc2ODM5LDMyMDQwNzU0MjhdLGQ9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSxjKXtjYXNlIFwiU0hBLTIyNFwiOmJyZWFrO2Nhc2UgXCJTSEEtMjU2XCI6YT1kO2JyZWFrO2Nhc2UgXCJTSEEtMzg0XCI6YT1bbmV3IGIoMzQxODA3MDM2NSxhWzBdKSxuZXcgYigxNjU0MjcwMjUwLGFbMV0pLG5ldyBiKDI0Mzg1MjkzNzAsYVsyXSksbmV3IGIoMzU1NDYyMzYwLGFbM10pLG5ldyBiKDE3MzE0MDU0MTUsYVs0XSksbmV3IGIoNDEwNDg4ODU4OTUsYVs1XSksbmV3IGIoMzY3NTAwODUyNSxhWzZdKSxuZXcgYigxMjAzMDYyODEzLGFbN10pXTticmVhaztjYXNlIFwiU0hBLTUxMlwiOmE9W25ldyBiKGRbMF0sNDA4OTIzNTcyMCksbmV3IGIoZFsxXSwyMjI3ODczNTk1KSxcbm5ldyBiKGRbMl0sNDI3MTE3NTcyMyksbmV3IGIoZFszXSwxNTk1NzUwMTI5KSxuZXcgYihkWzRdLDI5MTc1NjUxMzcpLG5ldyBiKGRbNV0sNzI1NTExMTk5KSxuZXcgYihkWzZdLDQyMTUzODk1NDcpLG5ldyBiKGRbN10sMzI3MDMzMjA5KV07YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gU0hBIHZhcmlhbnRcIik7fWVsc2UgaWYoMD09PWMubGFzdEluZGV4T2YoXCJTSEEzLVwiLDApfHwwPT09Yy5sYXN0SW5kZXhPZihcIlNIQUtFXCIsMCkpZm9yKGM9MDs1PmM7Yys9MSlhW2NdPVtuZXcgYigwLDApLG5ldyBiKDAsMCksbmV3IGIoMCwwKSxuZXcgYigwLDApLG5ldyBiKDAsMCldO2Vsc2UgdGhyb3cgRXJyb3IoXCJObyBTSEEgdmFyaWFudHMgc3VwcG9ydGVkXCIpO3JldHVybiBhfWZ1bmN0aW9uIEsoYyxhKXt2YXIgYj1bXSxlLGQsbixnLGwscCxmO2U9YVswXTtkPWFbMV07bj1hWzJdO2c9YVszXTtsPWFbNF07Zm9yKGY9MDs4MD5mO2YrPTEpYltmXT0xNj5mP2NbZl06eShiW2YtXG4zXV5iW2YtOF1eYltmLTE0XV5iW2YtMTZdLDEpLHA9MjA+Zj9IKHkoZSw1KSxkJm5efmQmZyxsLDE1MTg1MDAyNDksYltmXSk6NDA+Zj9IKHkoZSw1KSxkXm5eZyxsLDE4NTk3NzUzOTMsYltmXSk6NjA+Zj9IKHkoZSw1KSxVKGQsbixnKSxsLDI0MDA5NTk3MDgsYltmXSk6SCh5KGUsNSksZF5uXmcsbCwzMzk1NDY5NzgyLGJbZl0pLGw9ZyxnPW4sbj15KGQsMzApLGQ9ZSxlPXA7YVswXT1HKGUsYVswXSk7YVsxXT1HKGQsYVsxXSk7YVsyXT1HKG4sYVsyXSk7YVszXT1HKGcsYVszXSk7YVs0XT1HKGwsYVs0XSk7cmV0dXJuIGF9ZnVuY3Rpb24gWihjLGEsYixlKXt2YXIgZDtmb3IoZD0oYSs2NT4+Pjk8PDQpKzE1O2MubGVuZ3RoPD1kOyljLnB1c2goMCk7Y1thPj4+NV18PTEyODw8MjQtYSUzMjthKz1iO2NbZF09YSY0Mjk0OTY3Mjk1O2NbZC0xXT1hLzQyOTQ5NjcyOTZ8MDthPWMubGVuZ3RoO2ZvcihkPTA7ZDxhO2QrPTE2KWU9SyhjLnNsaWNlKGQsZCsxNiksZSk7cmV0dXJuIGV9ZnVuY3Rpb24gTChjLFxuYSxrKXt2YXIgZSxoLG4sZyxsLHAsZixtLHEsdSxyLHQsdix3LHksQSx6LHgsRixCLEMsRCxFPVtdLEo7aWYoXCJTSEEtMjI0XCI9PT1rfHxcIlNIQS0yNTZcIj09PWspdT02NCx0PTEsRD1OdW1iZXIsdj1HLHc9bGEseT1ILEE9aGEsej1qYSx4PWRhLEY9ZmEsQz1VLEI9YWEsSj1kO2Vsc2UgaWYoXCJTSEEtMzg0XCI9PT1rfHxcIlNIQS01MTJcIj09PWspdT04MCx0PTIsRD1iLHY9bWEsdz1uYSx5PW9hLEE9aWEsej1rYSx4PWVhLEY9Z2EsQz1jYSxCPWJhLEo9VjtlbHNlIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBpbiBTSEEtMiBpbXBsZW1lbnRhdGlvblwiKTtrPWFbMF07ZT1hWzFdO2g9YVsyXTtuPWFbM107Zz1hWzRdO2w9YVs1XTtwPWFbNl07Zj1hWzddO2ZvcihyPTA7cjx1O3IrPTEpMTY+cj8ocT1yKnQsbT1jLmxlbmd0aDw9cT8wOmNbcV0scT1jLmxlbmd0aDw9cSsxPzA6Y1txKzFdLEVbcl09bmV3IEQobSxxKSk6RVtyXT13KHooRVtyLTJdKSxFW3ItN10sQShFW3ItMTVdKSxFW3ItXG4xNl0pLG09eShmLEYoZyksQihnLGwscCksSltyXSxFW3JdKSxxPXYoeChrKSxDKGssZSxoKSksZj1wLHA9bCxsPWcsZz12KG4sbSksbj1oLGg9ZSxlPWssaz12KG0scSk7YVswXT12KGssYVswXSk7YVsxXT12KGUsYVsxXSk7YVsyXT12KGgsYVsyXSk7YVszXT12KG4sYVszXSk7YVs0XT12KGcsYVs0XSk7YVs1XT12KGwsYVs1XSk7YVs2XT12KHAsYVs2XSk7YVs3XT12KGYsYVs3XSk7cmV0dXJuIGF9ZnVuY3Rpb24gRChjLGEpe3ZhciBkLGUsaCxuLGc9W10sbD1bXTtpZihudWxsIT09Yylmb3IoZT0wO2U8Yy5sZW5ndGg7ZSs9MilhWyhlPj4+MSklNV1bKGU+Pj4xKS81fDBdPUIoYVsoZT4+PjEpJTVdWyhlPj4+MSkvNXwwXSxuZXcgYihjW2UrMV0sY1tlXSkpO2ZvcihkPTA7MjQ+ZDtkKz0xKXtuPUEoXCJTSEEzLVwiKTtmb3IoZT0wOzU+ZTtlKz0xKXtoPWFbZV1bMF07dmFyIHA9YVtlXVsxXSxmPWFbZV1bMl0sbT1hW2VdWzNdLHE9YVtlXVs0XTtnW2VdPW5ldyBiKGguYV5wLmFeZi5hXlxubS5hXnEuYSxoLmJecC5iXmYuYl5tLmJecS5iKX1mb3IoZT0wOzU+ZTtlKz0xKWxbZV09QihnWyhlKzQpJTVdLFMoZ1soZSsxKSU1XSwxKSk7Zm9yKGU9MDs1PmU7ZSs9MSlmb3IoaD0wOzU+aDtoKz0xKWFbZV1baF09QihhW2VdW2hdLGxbZV0pO2ZvcihlPTA7NT5lO2UrPTEpZm9yKGg9MDs1Pmg7aCs9MSluW2hdWygyKmUrMypoKSU1XT1TKGFbZV1baF0sV1tlXVtoXSk7Zm9yKGU9MDs1PmU7ZSs9MSlmb3IoaD0wOzU+aDtoKz0xKWFbZV1baF09QihuW2VdW2hdLG5ldyBiKH5uWyhlKzEpJTVdW2hdLmEmblsoZSsyKSU1XVtoXS5hLH5uWyhlKzEpJTVdW2hdLmImblsoZSsyKSU1XVtoXS5iKSk7YVswXVswXT1CKGFbMF1bMF0sWFtkXSl9cmV0dXJuIGF9dmFyIGQsVixXLFg7ZD1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LFxuMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsXG4yMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF07Vj1bbmV3IGIoZFswXSwzNjA5NzY3NDU4KSxuZXcgYihkWzFdLDYwMjg5MTcyNSksbmV3IGIoZFsyXSwzOTY0NDg0Mzk5KSxuZXcgYihkWzNdLDIxNzMyOTU1NDgpLG5ldyBiKGRbNF0sNDA4MTYyODQ3MiksbmV3IGIoZFs1XSwzMDUzODM0MjY1KSxuZXcgYihkWzZdLDI5Mzc2NzE1NzkpLG5ldyBiKGRbN10sMzY2NDYwOTU2MCksbmV3IGIoZFs4XSwyNzM0ODgzMzk0KSxuZXcgYihkWzldLDExNjQ5OTY1NDIpLG5ldyBiKGRbMTBdLDEzMjM2MTA3NjQpLG5ldyBiKGRbMTFdLDM1OTAzMDQ5OTQpLG5ldyBiKGRbMTJdLDQwNjgxODIzODMpLG5ldyBiKGRbMTNdLDk5MTMzNjExMyksbmV3IGIoZFsxNF0sNjMzODAzMzE3KSxuZXcgYihkWzE1XSwzNDc5Nzc0ODY4KSxuZXcgYihkWzE2XSwyNjY2NjEzNDU4KSxuZXcgYihkWzE3XSw5NDQ3MTExMzkpLG5ldyBiKGRbMThdLDIzNDEyNjI3NzMpLFxubmV3IGIoZFsxOV0sMjAwNzgwMDkzMyksbmV3IGIoZFsyMF0sMTQ5NTk5MDkwMSksbmV3IGIoZFsyMV0sMTg1NjQzMTIzNSksbmV3IGIoZFsyMl0sMzE3NTIxODEzMiksbmV3IGIoZFsyM10sMjE5ODk1MDgzNyksbmV3IGIoZFsyNF0sMzk5OTcxOTMzOSksbmV3IGIoZFsyNV0sNzY2Nzg0MDE2KSxuZXcgYihkWzI2XSwyNTY2NTk0ODc5KSxuZXcgYihkWzI3XSwzMjAzMzM3OTU2KSxuZXcgYihkWzI4XSwxMDM0NDU3MDI2KSxuZXcgYihkWzI5XSwyNDY2OTQ4OTAxKSxuZXcgYihkWzMwXSwzNzU4MzI2MzgzKSxuZXcgYihkWzMxXSwxNjg3MTc5MzYpLG5ldyBiKGRbMzJdLDExODgxNzk5NjQpLG5ldyBiKGRbMzNdLDE1NDYwNDU3MzQpLG5ldyBiKGRbMzRdLDE1MjI4MDU0ODUpLG5ldyBiKGRbMzVdLDI2NDM4MzM4MjMpLG5ldyBiKGRbMzZdLDIzNDM1MjczOTApLG5ldyBiKGRbMzddLDEwMTQ0Nzc0ODApLG5ldyBiKGRbMzhdLDEyMDY3NTkxNDIpLG5ldyBiKGRbMzldLDM0NDA3NzYyNyksXG5uZXcgYihkWzQwXSwxMjkwODYzNDYwKSxuZXcgYihkWzQxXSwzMTU4NDU0MjczKSxuZXcgYihkWzQyXSwzNTA1OTUyNjU3KSxuZXcgYihkWzQzXSwxMDYyMTcwMDgpLG5ldyBiKGRbNDRdLDM2MDYwMDgzNDQpLG5ldyBiKGRbNDVdLDE0MzI3MjU3NzYpLG5ldyBiKGRbNDZdLDE0NjcwMzE1OTQpLG5ldyBiKGRbNDddLDg1MTE2OTcyMCksbmV3IGIoZFs0OF0sMzEwMDgyMzc1MiksbmV3IGIoZFs0OV0sMTM2MzI1ODE5NSksbmV3IGIoZFs1MF0sMzc1MDY4NTU5MyksbmV3IGIoZFs1MV0sMzc4NTA1MDI4MCksbmV3IGIoZFs1Ml0sMzMxODMwNzQyNyksbmV3IGIoZFs1M10sMzgxMjcyMzQwMyksbmV3IGIoZFs1NF0sMjAwMzAzNDk5NSksbmV3IGIoZFs1NV0sMzYwMjAzNjg5OSksbmV3IGIoZFs1Nl0sMTU3NTk5MDAxMiksbmV3IGIoZFs1N10sMTEyNTU5MjkyOCksbmV3IGIoZFs1OF0sMjcxNjkwNDMwNiksbmV3IGIoZFs1OV0sNDQyNzc2MDQ0KSxuZXcgYihkWzYwXSw1OTM2OTgzNDQpLG5ldyBiKGRbNjFdLFxuMzczMzExMDI0OSksbmV3IGIoZFs2Ml0sMjk5OTM1MTU3MyksbmV3IGIoZFs2M10sMzgxNTkyMDQyNyksbmV3IGIoMzM5MTU2OTYxNCwzOTI4MzgzOTAwKSxuZXcgYigzNTE1MjY3MjcxLDU2NjI4MDcxMSksbmV3IGIoMzk0MDE4NzYwNiwzNDU0MDY5NTM0KSxuZXcgYig0MTE4NjMwMjcxLDQwMDAyMzk5OTIpLG5ldyBiKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxuZXcgYigxNzQyOTI0MjEsMjczMTA1NTI3MCksbmV3IGIoMjg5MzgwMzU2LDMyMDM5OTMwMDYpLG5ldyBiKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLG5ldyBiKDY4NTQ3MTczMyw1ODc0OTY4MzYpLG5ldyBiKDg1MjE0Mjk3MSwxMDg2NzkyODUxKSxuZXcgYigxMDE3MDM2Mjk4LDM2NTU0MzEwMCksbmV3IGIoMTEyNjAwMDU4MCwyNjE4Mjk3Njc2KSxuZXcgYigxMjg4MDMzNDcwLDM0MDk4NTUxNTgpLG5ldyBiKDE1MDE1MDU5NDgsNDIzNDUwOTg2NiksbmV3IGIoMTYwNzE2NzkxNSw5ODcxNjc0NjgpLG5ldyBiKDE4MTY0MDIzMTYsXG4xMjQ2MTg5NTkxKV07WD1bbmV3IGIoMCwxKSxuZXcgYigwLDMyODk4KSxuZXcgYigyMTQ3NDgzNjQ4LDMyOTA2KSxuZXcgYigyMTQ3NDgzNjQ4LDIxNDc1MTY0MTYpLG5ldyBiKDAsMzI5MDcpLG5ldyBiKDAsMjE0NzQ4MzY0OSksbmV3IGIoMjE0NzQ4MzY0OCwyMTQ3NTE2NTQ1KSxuZXcgYigyMTQ3NDgzNjQ4LDMyNzc3KSxuZXcgYigwLDEzOCksbmV3IGIoMCwxMzYpLG5ldyBiKDAsMjE0NzUxNjQyNSksbmV3IGIoMCwyMTQ3NDgzNjU4KSxuZXcgYigwLDIxNDc1MTY1NTUpLG5ldyBiKDIxNDc0ODM2NDgsMTM5KSxuZXcgYigyMTQ3NDgzNjQ4LDMyOTA1KSxuZXcgYigyMTQ3NDgzNjQ4LDMyNzcxKSxuZXcgYigyMTQ3NDgzNjQ4LDMyNzcwKSxuZXcgYigyMTQ3NDgzNjQ4LDEyOCksbmV3IGIoMCwzMjc3OCksbmV3IGIoMjE0NzQ4MzY0OCwyMTQ3NDgzNjU4KSxuZXcgYigyMTQ3NDgzNjQ4LDIxNDc1MTY1NDUpLG5ldyBiKDIxNDc0ODM2NDgsMzI4OTYpLG5ldyBiKDAsMjE0NzQ4MzY0OSksXG5uZXcgYigyMTQ3NDgzNjQ4LDIxNDc1MTY0MjQpXTtXPVtbMCwzNiwzLDQxLDE4XSxbMSw0NCwxMCw0NSwyXSxbNjIsNiw0MywxNSw2MV0sWzI4LDU1LDI1LDIxLDU2XSxbMjcsMjAsMzksOCwxNF1dO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPUMpLGV4cG9ydHM9Qyk6WS5qc1NIQT1DfSkodGhpcyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vanNzaGEvc3JjL3NoYS5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(__dirname) {(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory((function webpackLoadOptionalExternalModule() { try { return __webpack_require__(41); } catch(e) {} }()), __webpack_require__(42));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"fs\", \"path\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Twig\"] = factory((function webpackLoadOptionalExternalModule() { try { return require(\"fs\"); } catch(e) {} }()), require(\"path\"));\n\telse\n\t\troot[\"Twig\"] = factory(root[\"fs\"], root[\"path\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Twig.js\n\t *\n\t * @copyright 2011-2016 John Roepke and the Twig.js Contributors\n\t * @license   Available under the BSD 2-Clause License\n\t * @link      https://github.com/twigjs/twig.js\n\t */\n\n\tvar Twig = {\n\t    VERSION: '0.10.2'\n\t};\n\n\t__webpack_require__(1)(Twig);\n\t__webpack_require__(2)(Twig);\n\t__webpack_require__(3)(Twig);\n\t__webpack_require__(5)(Twig);\n\t__webpack_require__(6)(Twig);\n\t__webpack_require__(7)(Twig);\n\t__webpack_require__(17)(Twig);\n\t__webpack_require__(18)(Twig);\n\t__webpack_require__(21)(Twig);\n\t__webpack_require__(22)(Twig);\n\t__webpack_require__(23)(Twig);\n\t__webpack_require__(24)(Twig);\n\t__webpack_require__(25)(Twig);\n\t__webpack_require__(26)(Twig);\n\t__webpack_require__(27)(Twig);\n\n\tmodule.exports = Twig.exports;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// ## twig.core.js\n\t//\n\t// This file handles template level tokenizing, compiling and parsing.\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\n\t    Twig.trace = false;\n\t    Twig.debug = false;\n\n\t    // Default caching to true for the improved performance it offers\n\t    Twig.cache = true;\n\n\t    Twig.noop = function() {};\n\n\t    Twig.placeholders = {\n\t        parent: \"{{|PARENT|}}\"\n\t    };\n\n\t    /**\n\t     * Fallback for Array.indexOf for IE8 et al\n\t     */\n\t    Twig.indexOf = function (arr, searchElement /*, fromIndex */ ) {\n\t        if (Array.prototype.hasOwnProperty(\"indexOf\")) {\n\t            return arr.indexOf(searchElement);\n\t        }\n\t        if (arr === void 0 || arr === null) {\n\t            throw new TypeError();\n\t        }\n\t        var t = Object(arr);\n\t        var len = t.length >>> 0;\n\t        if (len === 0) {\n\t            return -1;\n\t        }\n\t        var n = 0;\n\t        if (arguments.length > 0) {\n\t            n = Number(arguments[1]);\n\t            if (n !== n) { // shortcut for verifying if it's NaN\n\t                n = 0;\n\t            } else if (n !== 0 && n !== Infinity && n !== -Infinity) {\n\t                n = (n > 0 || -1) * Math.floor(Math.abs(n));\n\t            }\n\t        }\n\t        if (n >= len) {\n\t            // console.log(\"indexOf not found1 \", JSON.stringify(searchElement), JSON.stringify(arr));\n\t            return -1;\n\t        }\n\t        var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n\t        for (; k < len; k++) {\n\t            if (k in t && t[k] === searchElement) {\n\t                return k;\n\t            }\n\t        }\n\t        if (arr == searchElement) {\n\t            return 0;\n\t        }\n\t        // console.log(\"indexOf not found2 \", JSON.stringify(searchElement), JSON.stringify(arr));\n\n\t        return -1;\n\t    }\n\n\t    Twig.forEach = function (arr, callback, thisArg) {\n\t        if (Array.prototype.forEach ) {\n\t            return arr.forEach(callback, thisArg);\n\t        }\n\n\t        var T, k;\n\n\t        if ( arr == null ) {\n\t          throw new TypeError( \" this is null or not defined\" );\n\t        }\n\n\t        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n\t        var O = Object(arr);\n\n\t        // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n\t        // 3. Let len be ToUint32(lenValue).\n\t        var len = O.length >>> 0; // Hack to convert O.length to a UInt32\n\n\t        // 4. If IsCallable(callback) is false, throw a TypeError exception.\n\t        // See: http://es5.github.com/#x9.11\n\t        if ( {}.toString.call(callback) != \"[object Function]\" ) {\n\t          throw new TypeError( callback + \" is not a function\" );\n\t        }\n\n\t        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\t        if ( thisArg ) {\n\t          T = thisArg;\n\t        }\n\n\t        // 6. Let k be 0\n\t        k = 0;\n\n\t        // 7. Repeat, while k < len\n\t        while( k < len ) {\n\n\t          var kValue;\n\n\t          // a. Let Pk be ToString(k).\n\t          //   This is implicit for LHS operands of the in operator\n\t          // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n\t          //   This step can be combined with c\n\t          // c. If kPresent is true, then\n\t          if ( k in O ) {\n\n\t            // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n\t            kValue = O[ k ];\n\n\t            // ii. Call the Call internal method of callback with T as the this value and\n\t            // argument list containing kValue, k, and O.\n\t            callback.call( T, kValue, k, O );\n\t          }\n\t          // d. Increase k by 1.\n\t          k++;\n\t        }\n\t        // 8. return undefined\n\t    };\n\n\t    Twig.merge = function(target, source, onlyChanged) {\n\t        Twig.forEach(Object.keys(source), function (key) {\n\t            if (onlyChanged && !(key in target)) {\n\t                return;\n\t            }\n\n\t            target[key] = source[key]\n\t        });\n\n\t        return target;\n\t    };\n\n\t    /**\n\t     * Exception thrown by twig.js.\n\t     */\n\t    Twig.Error = function(message, file) {\n\t       this.message = message;\n\t       this.name = \"TwigException\";\n\t       this.type = \"TwigException\";\n\t       this.file = file;\n\t    };\n\n\t    /**\n\t     * Get the string representation of a Twig error.\n\t     */\n\t    Twig.Error.prototype.toString = function() {\n\t        var output = this.name + \": \" + this.message;\n\n\t        return output;\n\t    };\n\n\t    /**\n\t     * Wrapper for logging to the console.\n\t     */\n\t    Twig.log = {\n\t        trace: function() {if (Twig.trace && console) {console.log(Array.prototype.slice.call(arguments));}},\n\t        debug: function() {if (Twig.debug && console) {console.log(Array.prototype.slice.call(arguments));}}\n\t    };\n\n\n\t    if (typeof console !== \"undefined\") {\n\t        if (typeof console.error !== \"undefined\") {\n\t            Twig.log.error = function() {\n\t                console.error.apply(console, arguments);\n\t            }\n\t        } else if (typeof console.log !== \"undefined\") {\n\t            Twig.log.error = function() {\n\t                console.log.apply(console, arguments);\n\t            }\n\t        }\n\t    } else {\n\t        Twig.log.error = function(){};\n\t    }\n\n\t    /**\n\t     * Wrapper for child context objects in Twig.\n\t     *\n\t     * @param {Object} context Values to initialize the context with.\n\t     */\n\t    Twig.ChildContext = function(context) {\n\t        var ChildContext = function ChildContext() {};\n\t        ChildContext.prototype = context;\n\t        return new ChildContext();\n\t    };\n\n\t    /**\n\t     * Container for methods related to handling high level template tokens\n\t     *      (for example: {{ expression }}, {% logic %}, {# comment #}, raw data)\n\t     */\n\t    Twig.token = {};\n\n\t    /**\n\t     * Token types.\n\t     */\n\t    Twig.token.type = {\n\t        output:                 'output',\n\t        logic:                  'logic',\n\t        comment:                'comment',\n\t        raw:                    'raw',\n\t        output_whitespace_pre:  'output_whitespace_pre',\n\t        output_whitespace_post: 'output_whitespace_post',\n\t        output_whitespace_both: 'output_whitespace_both',\n\t        logic_whitespace_pre:   'logic_whitespace_pre',\n\t        logic_whitespace_post:  'logic_whitespace_post',\n\t        logic_whitespace_both:  'logic_whitespace_both'\n\t    };\n\n\t    /**\n\t     * Token syntax definitions.\n\t     */\n\t    Twig.token.definitions = [\n\t        {\n\t            type: Twig.token.type.raw,\n\t            open: '{% raw %}',\n\t            close: '{% endraw %}'\n\t        },\n\t        {\n\t            type: Twig.token.type.raw,\n\t            open: '{% verbatim %}',\n\t            close: '{% endverbatim %}'\n\t        },\n\t        // *Whitespace type tokens*\n\t        //\n\t        // These typically take the form `{{- expression -}}` or `{{- expression }}` or `{{ expression -}}`.\n\t        {\n\t            type: Twig.token.type.output_whitespace_pre,\n\t            open: '{{-',\n\t            close: '}}'\n\t        },\n\t        {\n\t            type: Twig.token.type.output_whitespace_post,\n\t            open: '{{',\n\t            close: '-}}'\n\t        },\n\t        {\n\t            type: Twig.token.type.output_whitespace_both,\n\t            open: '{{-',\n\t            close: '-}}'\n\t        },\n\t        {\n\t            type: Twig.token.type.logic_whitespace_pre,\n\t            open: '{%-',\n\t            close: '%}'\n\t        },\n\t        {\n\t            type: Twig.token.type.logic_whitespace_post,\n\t            open: '{%',\n\t            close: '-%}'\n\t        },\n\t        {\n\t            type: Twig.token.type.logic_whitespace_both,\n\t            open: '{%-',\n\t            close: '-%}'\n\t        },\n\t        // *Output type tokens*\n\t        //\n\t        // These typically take the form `{{ expression }}`.\n\t        {\n\t            type: Twig.token.type.output,\n\t            open: '{{',\n\t            close: '}}'\n\t        },\n\t        // *Logic type tokens*\n\t        //\n\t        // These typically take a form like `{% if expression %}` or `{% endif %}`\n\t        {\n\t            type: Twig.token.type.logic,\n\t            open: '{%',\n\t            close: '%}'\n\t        },\n\t        // *Comment type tokens*\n\t        //\n\t        // These take the form `{# anything #}`\n\t        {\n\t            type: Twig.token.type.comment,\n\t            open: '{#',\n\t            close: '#}'\n\t        }\n\t    ];\n\n\n\t    /**\n\t     * What characters start \"strings\" in token definitions. We need this to ignore token close\n\t     * strings inside an expression.\n\t     */\n\t    Twig.token.strings = ['\"', \"'\"];\n\n\t    Twig.token.findStart = function (template) {\n\t        var output = {\n\t                position: null,\n\t                close_position: null,\n\t                def: null\n\t            },\n\t            i,\n\t            token_template,\n\t            first_key_position,\n\t            close_key_position;\n\n\t        for (i=0;i<Twig.token.definitions.length;i++) {\n\t            token_template = Twig.token.definitions[i];\n\t            first_key_position = template.indexOf(token_template.open);\n\t            close_key_position = template.indexOf(token_template.close);\n\n\t            Twig.log.trace(\"Twig.token.findStart: \", \"Searching for \", token_template.open, \" found at \", first_key_position);\n\n\t            //Special handling for mismatched tokens\n\t            if (first_key_position >= 0) {\n\t                //This token matches the template\n\t                if (token_template.open.length !== token_template.close.length) {\n\t                    //This token has mismatched closing and opening tags\n\t                    if (close_key_position < 0) {\n\t                        //This token's closing tag does not match the template\n\t                        continue;\n\t                    }\n\t                }\n\t            }\n\t            // Does this token occur before any other types?\n\t            if (first_key_position >= 0 && (output.position === null || first_key_position < output.position)) {\n\t                output.position = first_key_position;\n\t                output.def = token_template;\n\t                output.close_position = close_key_position;\n\t            } else if (first_key_position >= 0 && output.position !== null && first_key_position === output.position) {\n\t                /*This token exactly matches another token,\n\t                greedily match to check if this token has a greater specificity*/\n\t                if (token_template.open.length > output.def.open.length) {\n\t                    //This token's opening tag is more specific than the previous match\n\t                    output.position = first_key_position;\n\t                    output.def = token_template;\n\t                    output.close_position = close_key_position;\n\t                } else if (token_template.open.length === output.def.open.length) {\n\t                    if (token_template.close.length > output.def.close.length) {\n\t                        //This token's opening tag is as specific as the previous match,\n\t                        //but the closing tag has greater specificity\n\t                        if (close_key_position >= 0 && close_key_position < output.close_position) {\n\t                            //This token's closing tag exists in the template,\n\t                            //and it occurs sooner than the previous match\n\t                            output.position = first_key_position;\n\t                            output.def = token_template;\n\t                            output.close_position = close_key_position;\n\t                        }\n\t                    } else if (close_key_position >= 0 && close_key_position < output.close_position) {\n\t                        //This token's closing tag is not more specific than the previous match,\n\t                        //but it occurs sooner than the previous match\n\t                        output.position = first_key_position;\n\t                        output.def = token_template;\n\t                        output.close_position = close_key_position;\n\t                    }\n\t                }\n\t            }\n\t        }\n\n\t        delete output['close_position'];\n\n\t        return output;\n\t    };\n\n\t    Twig.token.findEnd = function (template, token_def, start) {\n\t        var end = null,\n\t            found = false,\n\t            offset = 0,\n\n\t            // String position variables\n\t            str_pos = null,\n\t            str_found = null,\n\t            pos = null,\n\t            end_offset = null,\n\t            this_str_pos = null,\n\t            end_str_pos = null,\n\n\t            // For loop variables\n\t            i,\n\t            l;\n\n\t        while (!found) {\n\t            str_pos = null;\n\t            str_found = null;\n\t            pos = template.indexOf(token_def.close, offset);\n\n\t            if (pos >= 0) {\n\t                end = pos;\n\t                found = true;\n\t            } else {\n\t                // throw an exception\n\t                throw new Twig.Error(\"Unable to find closing bracket '\" + token_def.close +\n\t                                \"'\" + \" opened near template position \" + start);\n\t            }\n\n\t            // Ignore quotes within comments; just look for the next comment close sequence,\n\t            // regardless of what comes before it. https://github.com/justjohn/twig.js/issues/95\n\t            if (token_def.type === Twig.token.type.comment) {\n\t              break;\n\t            }\n\t            // Ignore quotes within raw tag\n\t            // Fixes #283\n\t            if (token_def.type === Twig.token.type.raw) {\n\t                break;\n\t            }\n\n\t            l = Twig.token.strings.length;\n\t            for (i = 0; i < l; i += 1) {\n\t                this_str_pos = template.indexOf(Twig.token.strings[i], offset);\n\n\t                if (this_str_pos > 0 && this_str_pos < pos &&\n\t                        (str_pos === null || this_str_pos < str_pos)) {\n\t                    str_pos = this_str_pos;\n\t                    str_found = Twig.token.strings[i];\n\t                }\n\t            }\n\n\t            // We found a string before the end of the token, now find the string's end and set the search offset to it\n\t            if (str_pos !== null) {\n\t                end_offset = str_pos + 1;\n\t                end = null;\n\t                found = false;\n\t                while (true) {\n\t                    end_str_pos = template.indexOf(str_found, end_offset);\n\t                    if (end_str_pos < 0) {\n\t                        throw \"Unclosed string in template\";\n\t                    }\n\t                    // Ignore escaped quotes\n\t                    if (template.substr(end_str_pos - 1, 1) !== \"\\\\\") {\n\t                        offset = end_str_pos + 1;\n\t                        break;\n\t                    } else {\n\t                        end_offset = end_str_pos + 1;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        return end;\n\t    };\n\n\t    /**\n\t     * Convert a template into high-level tokens.\n\t     */\n\t    Twig.tokenize = function (template) {\n\t        var tokens = [],\n\t            // An offset for reporting errors locations in the template.\n\t            error_offset = 0,\n\n\t            // The start and type of the first token found in the template.\n\t            found_token = null,\n\t            // The end position of the matched token.\n\t            end = null;\n\n\t        while (template.length > 0) {\n\t            // Find the first occurance of any token type in the template\n\t            found_token = Twig.token.findStart(template);\n\n\t            Twig.log.trace(\"Twig.tokenize: \", \"Found token: \", found_token);\n\n\t            if (found_token.position !== null) {\n\t                // Add a raw type token for anything before the start of the token\n\t                if (found_token.position > 0) {\n\t                    tokens.push({\n\t                        type: Twig.token.type.raw,\n\t                        value: template.substring(0, found_token.position)\n\t                    });\n\t                }\n\t                template = template.substr(found_token.position + found_token.def.open.length);\n\t                error_offset += found_token.position + found_token.def.open.length;\n\n\t                // Find the end of the token\n\t                end = Twig.token.findEnd(template, found_token.def, error_offset);\n\n\t                Twig.log.trace(\"Twig.tokenize: \", \"Token ends at \", end);\n\n\t                tokens.push({\n\t                    type:  found_token.def.type,\n\t                    value: template.substring(0, end).trim()\n\t                });\n\n\t                if (template.substr( end + found_token.def.close.length, 1 ) === \"\\n\") {\n\t                    switch (found_token.def.type) {\n\t                        case \"logic_whitespace_pre\":\n\t                        case \"logic_whitespace_post\":\n\t                        case \"logic_whitespace_both\":\n\t                        case \"logic\":\n\t                            // Newlines directly after logic tokens are ignored\n\t                            end += 1;\n\t                            break;\n\t                    }\n\t                }\n\n\t                template = template.substr(end + found_token.def.close.length);\n\n\t                // Increment the position in the template\n\t                error_offset += end + found_token.def.close.length;\n\n\t            } else {\n\t                // No more tokens -> add the rest of the template as a raw-type token\n\t                tokens.push({\n\t                    type: Twig.token.type.raw,\n\t                    value: template\n\t                });\n\t                template = '';\n\t            }\n\t        }\n\n\t        return tokens;\n\t    };\n\n\n\t    Twig.compile = function (tokens) {\n\t        try {\n\n\t            // Output and intermediate stacks\n\t            var output = [],\n\t                stack = [],\n\t                // The tokens between open and close tags\n\t                intermediate_output = [],\n\n\t                token = null,\n\t                logic_token = null,\n\t                unclosed_token = null,\n\t                // Temporary previous token.\n\t                prev_token = null,\n\t                // Temporary previous output.\n\t                prev_output = null,\n\t                // Temporary previous intermediate output.\n\t                prev_intermediate_output = null,\n\t                // The previous token's template\n\t                prev_template = null,\n\t                // Token lookahead\n\t                next_token = null,\n\t                // The output token\n\t                tok_output = null,\n\n\t                // Logic Token values\n\t                type = null,\n\t                open = null,\n\t                next = null;\n\n\t            var compile_output = function(token) {\n\t                Twig.expression.compile.apply(this, [token]);\n\t                if (stack.length > 0) {\n\t                    intermediate_output.push(token);\n\t                } else {\n\t                    output.push(token);\n\t                }\n\t            };\n\n\t            var compile_logic = function(token) {\n\t                // Compile the logic token\n\t                logic_token = Twig.logic.compile.apply(this, [token]);\n\n\t                type = logic_token.type;\n\t                open = Twig.logic.handler[type].open;\n\t                next = Twig.logic.handler[type].next;\n\n\t                Twig.log.trace(\"Twig.compile: \", \"Compiled logic token to \", logic_token,\n\t                                                 \" next is: \", next, \" open is : \", open);\n\n\t                // Not a standalone token, check logic stack to see if this is expected\n\t                if (open !== undefined && !open) {\n\t                    prev_token = stack.pop();\n\t                    prev_template = Twig.logic.handler[prev_token.type];\n\n\t                    if (Twig.indexOf(prev_template.next, type) < 0) {\n\t                        throw new Error(type + \" not expected after a \" + prev_token.type);\n\t                    }\n\n\t                    prev_token.output = prev_token.output || [];\n\n\t                    prev_token.output = prev_token.output.concat(intermediate_output);\n\t                    intermediate_output = [];\n\n\t                    tok_output = {\n\t                        type: Twig.token.type.logic,\n\t                        token: prev_token\n\t                    };\n\t                    if (stack.length > 0) {\n\t                        intermediate_output.push(tok_output);\n\t                    } else {\n\t                        output.push(tok_output);\n\t                    }\n\t                }\n\n\t                // This token requires additional tokens to complete the logic structure.\n\t                if (next !== undefined && next.length > 0) {\n\t                    Twig.log.trace(\"Twig.compile: \", \"Pushing \", logic_token, \" to logic stack.\");\n\n\t                    if (stack.length > 0) {\n\t                        // Put any currently held output into the output list of the logic operator\n\t                        // currently at the head of the stack before we push a new one on.\n\t                        prev_token = stack.pop();\n\t                        prev_token.output = prev_token.output || [];\n\t                        prev_token.output = prev_token.output.concat(intermediate_output);\n\t                        stack.push(prev_token);\n\t                        intermediate_output = [];\n\t                    }\n\n\t                    // Push the new logic token onto the logic stack\n\t                    stack.push(logic_token);\n\n\t                } else if (open !== undefined && open) {\n\t                    tok_output = {\n\t                        type: Twig.token.type.logic,\n\t                        token: logic_token\n\t                    };\n\t                    // Standalone token (like {% set ... %}\n\t                    if (stack.length > 0) {\n\t                        intermediate_output.push(tok_output);\n\t                    } else {\n\t                        output.push(tok_output);\n\t                    }\n\t                }\n\t            };\n\n\t            while (tokens.length > 0) {\n\t                token = tokens.shift();\n\t                prev_output = output[output.length - 1];\n\t                prev_intermediate_output = intermediate_output[intermediate_output.length - 1];\n\t                next_token = tokens[0];\n\t                Twig.log.trace(\"Compiling token \", token);\n\t                switch (token.type) {\n\t                    case Twig.token.type.raw:\n\t                        if (stack.length > 0) {\n\t                            intermediate_output.push(token);\n\t                        } else {\n\t                            output.push(token);\n\t                        }\n\t                        break;\n\n\t                    case Twig.token.type.logic:\n\t                        compile_logic.call(this, token);\n\t                        break;\n\n\t                    // Do nothing, comments should be ignored\n\t                    case Twig.token.type.comment:\n\t                        break;\n\n\t                    case Twig.token.type.output:\n\t                        compile_output.call(this, token);\n\t                        break;\n\n\t                    //Kill whitespace ahead and behind this token\n\t                    case Twig.token.type.logic_whitespace_pre:\n\t                    case Twig.token.type.logic_whitespace_post:\n\t                    case Twig.token.type.logic_whitespace_both:\n\t                    case Twig.token.type.output_whitespace_pre:\n\t                    case Twig.token.type.output_whitespace_post:\n\t                    case Twig.token.type.output_whitespace_both:\n\t                        if (token.type !== Twig.token.type.output_whitespace_post && token.type !== Twig.token.type.logic_whitespace_post) {\n\t                            if (prev_output) {\n\t                                //If the previous output is raw, pop it off\n\t                                if (prev_output.type === Twig.token.type.raw) {\n\t                                    output.pop();\n\n\t                                    //If the previous output is not just whitespace, trim it\n\t                                    if (prev_output.value.match(/^\\s*$/) === null) {\n\t                                        prev_output.value = prev_output.value.trim();\n\t                                        //Repush the previous output\n\t                                        output.push(prev_output);\n\t                                    }\n\t                                }\n\t                            }\n\n\t                            if (prev_intermediate_output) {\n\t                                //If the previous intermediate output is raw, pop it off\n\t                                if (prev_intermediate_output.type === Twig.token.type.raw) {\n\t                                    intermediate_output.pop();\n\n\t                                    //If the previous output is not just whitespace, trim it\n\t                                    if (prev_intermediate_output.value.match(/^\\s*$/) === null) {\n\t                                        prev_intermediate_output.value = prev_intermediate_output.value.trim();\n\t                                        //Repush the previous intermediate output\n\t                                        intermediate_output.push(prev_intermediate_output);\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\n\t                        //Compile this token\n\t                        switch (token.type) {\n\t                            case Twig.token.type.output_whitespace_pre:\n\t                            case Twig.token.type.output_whitespace_post:\n\t                            case Twig.token.type.output_whitespace_both:\n\t                                compile_output.call(this, token);\n\t                                break;\n\t                            case Twig.token.type.logic_whitespace_pre:\n\t                            case Twig.token.type.logic_whitespace_post:\n\t                            case Twig.token.type.logic_whitespace_both:\n\t                                compile_logic.call(this, token);\n\t                                break;\n\t                        }\n\n\t                        if (token.type !== Twig.token.type.output_whitespace_pre && token.type !== Twig.token.type.logic_whitespace_pre) {\n\t                            if (next_token) {\n\t                                //If the next token is raw, shift it out\n\t                                if (next_token.type === Twig.token.type.raw) {\n\t                                    tokens.shift();\n\n\t                                    //If the next token is not just whitespace, trim it\n\t                                    if (next_token.value.match(/^\\s*$/) === null) {\n\t                                        next_token.value = next_token.value.trim();\n\t                                        //Unshift the next token\n\t                                        tokens.unshift(next_token);\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\n\t                        break;\n\t                }\n\n\t                Twig.log.trace(\"Twig.compile: \", \" Output: \", output,\n\t                                                 \" Logic Stack: \", stack,\n\t                                                 \" Pending Output: \", intermediate_output );\n\t            }\n\n\t            // Verify that there are no logic tokens left in the stack.\n\t            if (stack.length > 0) {\n\t                unclosed_token = stack.pop();\n\t                throw new Error(\"Unable to find an end tag for \" + unclosed_token.type +\n\t                                \", expecting one of \" + unclosed_token.next);\n\t            }\n\t            return output;\n\t        } catch (ex) {\n\t            if (this.options.rethrow) {\n\t                if (ex.type == 'TwigException' && !ex.file) {\n\t                    ex.file = this.id;\n\t                }\n\n\t                throw ex\n\t            }\n\t            else {\n\t                Twig.log.error(\"Error compiling twig template \" + this.id + \": \");\n\t                if (ex.stack) {\n\t                    Twig.log.error(ex.stack);\n\t                } else {\n\t                    Twig.log.error(ex.toString());\n\t                }\n\t            }\n\t        }\n\t    };\n\n\t    /**\n\t     * Parse a compiled template.\n\t     *\n\t     * @param {Array} tokens The compiled tokens.\n\t     * @param {Object} context The render context.\n\t     *\n\t     * @return {string} The parsed template.\n\t     */\n\t    Twig.parse = function (tokens, context, allow_async) {\n\t        var that = this,\n\t            output = [],\n\n\t            // Store any error that might be thrown by the promise chain.\n\t            err = null,\n\n\t            // This will be set to is_async if template renders synchronously\n\t            is_async = true,\n\t            promise = null,\n\n\t            // Track logic chains\n\t            chain = true;\n\n\n\t        function handleException(ex) {\n\t            if (that.options.rethrow) {\n\t                if (typeof ex === 'string') {\n\t                    ex = new Twig.Error(ex)\n\t                }\n\n\t                if (ex.type == 'TwigException' && !ex.file) {\n\t                    ex.file = that.id;\n\t                }\n\n\t                throw ex;\n\t            }\n\t            else {\n\t                Twig.log.error(\"Error parsing twig template \" + that.id + \": \");\n\t                if (ex.stack) {\n\t                    Twig.log.error(ex.stack);\n\t                } else {\n\t                    Twig.log.error(ex.toString());\n\t                }\n\n\t                if (Twig.debug) {\n\t                    return ex.toString();\n\t                }\n\t            }\n\t        }\n\n\t        promise = Twig.async.forEach(tokens, function parseToken(token) {\n\t            Twig.log.debug(\"Twig.parse: \", \"Parsing token: \", token);\n\n\t            switch (token.type) {\n\t                case Twig.token.type.raw:\n\t                    output.push(Twig.filters.raw(token.value));\n\t                    break;\n\n\t                case Twig.token.type.logic:\n\t                    var logic_token = token.token;\n\n\t                    return Twig.logic.parseAsync.apply(that, [logic_token, context, chain])\n\t                    .then(function(logic) {\n\t                        if (logic.chain !== undefined) {\n\t                            chain = logic.chain;\n\t                        }\n\t                        if (logic.context !== undefined) {\n\t                            context = logic.context;\n\t                        }\n\t                        if (logic.output !== undefined) {\n\t                            output.push(logic.output);\n\t                        }\n\t                    });\n\t                    break;\n\n\t                case Twig.token.type.comment:\n\t                    // Do nothing, comments should be ignored\n\t                    break;\n\n\t                //Fall through whitespace to output\n\t                case Twig.token.type.output_whitespace_pre:\n\t                case Twig.token.type.output_whitespace_post:\n\t                case Twig.token.type.output_whitespace_both:\n\t                case Twig.token.type.output:\n\t                    Twig.log.debug(\"Twig.parse: \", \"Output token: \", token.stack);\n\t                    // Parse the given expression in the given context\n\t                    return Twig.expression.parseAsync.apply(that, [token.stack, context])\n\t                    .then(function(o) {\n\t                        output.push(o);\n\t                    });\n\t            }\n\t        })\n\t        .then(function() {\n\t            output = Twig.output.apply(that, [output]);\n\t            is_async = false;\n\t            return output;\n\t        })\n\t        .catch(function(e) {\n\t            if (allow_async)\n\t                handleException(e);\n\n\t            err = e;\n\t        });\n\n\t        // If `allow_async` we will always return a promise since we do not\n\t        // know in advance if we are going to run asynchronously or not.\n\t        if (allow_async)\n\t            return promise;\n\n\t        // Handle errors here if we fail synchronously.\n\t        if (err !== null)\n\t            return handleException(err);\n\n\t        // If `allow_async` is not true we should not allow the user\n\t        // to use asynchronous functions or filters.\n\t        if (is_async)\n\t            throw new Twig.Error('You are using Twig.js in sync mode in combination with async extensions.');\n\n\t        return output;\n\t    };\n\n\t    /**\n\t     * Tokenize and compile a string template.\n\t     *\n\t     * @param {string} data The template.\n\t     *\n\t     * @return {Array} The compiled tokens.\n\t     */\n\t    Twig.prepare = function(data) {\n\t        var tokens, raw_tokens;\n\n\t        // Tokenize\n\t        Twig.log.debug(\"Twig.prepare: \", \"Tokenizing \", data);\n\t        raw_tokens = Twig.tokenize.apply(this, [data]);\n\n\t        // Compile\n\t        Twig.log.debug(\"Twig.prepare: \", \"Compiling \", raw_tokens);\n\t        tokens = Twig.compile.apply(this, [raw_tokens]);\n\n\t        Twig.log.debug(\"Twig.prepare: \", \"Compiled \", tokens);\n\n\t        return tokens;\n\t    };\n\n\t    /**\n\t     * Join the output token's stack and escape it if needed\n\t     *\n\t     * @param {Array} Output token's stack\n\t     *\n\t     * @return {string|String} Autoescaped output\n\t     */\n\t    Twig.output = function(output) {\n\t        if (!this.options.autoescape) {\n\t            return output.join(\"\");\n\t        }\n\n\t        var strategy = 'html';\n\t        if(typeof this.options.autoescape == 'string')\n\t            strategy = this.options.autoescape;\n\n\t        // [].map would be better but it's not supported by IE8-\n\t        var escaped_output = [];\n\t        Twig.forEach(output, function (str) {\n\t            if (str && (str.twig_markup !== true && str.twig_markup != strategy)) {\n\t                str = Twig.filters.escape(str, [ strategy ]);\n\t            }\n\t            escaped_output.push(str);\n\t        });\n\t        return Twig.Markup(escaped_output.join(\"\"));\n\t    }\n\n\t    // Namespace for template storage and retrieval\n\t    Twig.Templates = {\n\t        /**\n\t         * Registered template loaders - use Twig.Templates.registerLoader to add supported loaders\n\t         * @type {Object}\n\t         */\n\t        loaders: {},\n\n\t        /**\n\t         * Registered template parsers - use Twig.Templates.registerParser to add supported parsers\n\t         * @type {Object}\n\t         */\n\t        parsers: {},\n\n\t        /**\n\t         * Cached / loaded templates\n\t         * @type {Object}\n\t         */\n\t        registry: {}\n\t    };\n\n\t    /**\n\t     * Is this id valid for a twig template?\n\t     *\n\t     * @param {string} id The ID to check.\n\t     *\n\t     * @throws {Twig.Error} If the ID is invalid or used.\n\t     * @return {boolean} True if the ID is valid.\n\t     */\n\t    Twig.validateId = function(id) {\n\t        if (id === \"prototype\") {\n\t            throw new Twig.Error(id + \" is not a valid twig identifier\");\n\t        } else if (Twig.cache && Twig.Templates.registry.hasOwnProperty(id)) {\n\t            throw new Twig.Error(\"There is already a template with the ID \" + id);\n\t        }\n\t        return true;\n\t    }\n\n\t    /**\n\t     * Register a template loader\n\t     *\n\t     * @example\n\t     * Twig.extend(function(Twig) {\n\t     *    Twig.Templates.registerLoader('custom_loader', function(location, params, callback, error_callback) {\n\t     *        // ... load the template ...\n\t     *        params.data = loadedTemplateData;\n\t     *        // create and return the template\n\t     *        var template = new Twig.Template(params);\n\t     *        if (typeof callback === 'function') {\n\t     *            callback(template);\n\t     *        }\n\t     *        return template;\n\t     *    });\n\t     * });\n\t     *\n\t     * @param {String} method_name The method this loader is intended for (ajax, fs)\n\t     * @param {Function} func The function to execute when loading the template\n\t     * @param {Object|undefined} scope Optional scope parameter to bind func to\n\t     *\n\t     * @throws Twig.Error\n\t     *\n\t     * @return {void}\n\t     */\n\t    Twig.Templates.registerLoader = function(method_name, func, scope) {\n\t        if (typeof func !== 'function') {\n\t            throw new Twig.Error('Unable to add loader for ' + method_name + ': Invalid function reference given.');\n\t        }\n\t        if (scope) {\n\t            func = func.bind(scope);\n\t        }\n\t        this.loaders[method_name] = func;\n\t    };\n\n\t    /**\n\t     * Remove a registered loader\n\t     *\n\t     * @param {String} method_name The method name for the loader you wish to remove\n\t     *\n\t     * @return {void}\n\t     */\n\t    Twig.Templates.unRegisterLoader = function(method_name) {\n\t        if (this.isRegisteredLoader(method_name)) {\n\t            delete this.loaders[method_name];\n\t        }\n\t    };\n\n\t    /**\n\t     * See if a loader is registered by its method name\n\t     *\n\t     * @param {String} method_name The name of the loader you are looking for\n\t     *\n\t     * @return {boolean}\n\t     */\n\t    Twig.Templates.isRegisteredLoader = function(method_name) {\n\t        return this.loaders.hasOwnProperty(method_name);\n\t    };\n\n\t    /**\n\t     * Register a template parser\n\t     *\n\t     * @example\n\t     * Twig.extend(function(Twig) {\n\t     *    Twig.Templates.registerParser('custom_parser', function(params) {\n\t     *        // this template source can be accessed in params.data\n\t     *        var template = params.data\n\t     *\n\t     *        // ... custom process that modifies the template\n\t     *\n\t     *        // return the parsed template\n\t     *        return template;\n\t     *    });\n\t     * });\n\t     *\n\t     * @param {String} method_name The method this parser is intended for (twig, source)\n\t     * @param {Function} func The function to execute when parsing the template\n\t     * @param {Object|undefined} scope Optional scope parameter to bind func to\n\t     *\n\t     * @throws Twig.Error\n\t     *\n\t     * @return {void}\n\t     */\n\t    Twig.Templates.registerParser = function(method_name, func, scope) {\n\t        if (typeof func !== 'function') {\n\t            throw new Twig.Error('Unable to add parser for ' + method_name + ': Invalid function regerence given.');\n\t        }\n\n\t        if (scope) {\n\t            func = func.bind(scope);\n\t        }\n\n\t        this.parsers[method_name] = func;\n\t    };\n\n\t    /**\n\t     * Remove a registered parser\n\t     *\n\t     * @param {String} method_name The method name for the parser you wish to remove\n\t     *\n\t     * @return {void}\n\t     */\n\t    Twig.Templates.unRegisterParser = function(method_name) {\n\t        if (this.isRegisteredParser(method_name)) {\n\t            delete this.parsers[method_name];\n\t        }\n\t    };\n\n\t    /**\n\t     * See if a parser is registered by its method name\n\t     *\n\t     * @param {String} method_name The name of the parser you are looking for\n\t     *\n\t     * @return {boolean}\n\t     */\n\t    Twig.Templates.isRegisteredParser = function(method_name) {\n\t        return this.parsers.hasOwnProperty(method_name);\n\t    };\n\n\t    /**\n\t     * Save a template object to the store.\n\t     *\n\t     * @param {Twig.Template} template   The twig.js template to store.\n\t     */\n\t    Twig.Templates.save = function(template) {\n\t        if (template.id === undefined) {\n\t            throw new Twig.Error(\"Unable to save template with no id\");\n\t        }\n\t        Twig.Templates.registry[template.id] = template;\n\t    };\n\n\t    /**\n\t     * Load a previously saved template from the store.\n\t     *\n\t     * @param {string} id   The ID of the template to load.\n\t     *\n\t     * @return {Twig.Template} A twig.js template stored with the provided ID.\n\t     */\n\t    Twig.Templates.load = function(id) {\n\t        if (!Twig.Templates.registry.hasOwnProperty(id)) {\n\t            return null;\n\t        }\n\t        return Twig.Templates.registry[id];\n\t    };\n\n\t    /**\n\t     * Load a template from a remote location using AJAX and saves in with the given ID.\n\t     *\n\t     * Available parameters:\n\t     *\n\t     *      async:       Should the HTTP request be performed asynchronously.\n\t     *                      Defaults to true.\n\t     *      method:      What method should be used to load the template\n\t     *                      (fs or ajax)\n\t     *      parser:      What method should be used to parse the template\n\t     *                      (twig or source)\n\t     *      precompiled: Has the template already been compiled.\n\t     *\n\t     * @param {string} location  The remote URL to load as a template.\n\t     * @param {Object} params The template parameters.\n\t     * @param {function} callback  A callback triggered when the template finishes loading.\n\t     * @param {function} error_callback  A callback triggered if an error occurs loading the template.\n\t     *\n\t     *\n\t     */\n\t    Twig.Templates.loadRemote = function(location, params, callback, error_callback) {\n\t        var loader;\n\n\t        // Default to async\n\t        if (params.async === undefined) {\n\t            params.async = true;\n\t        }\n\n\t        // Default to the URL so the template is cached.\n\t        if (params.id === undefined) {\n\t            params.id = location;\n\t        }\n\n\t        // Check for existing template\n\t        if (Twig.cache && Twig.Templates.registry.hasOwnProperty(params.id)) {\n\t            // A template is already saved with the given id.\n\t            if (typeof callback === 'function') {\n\t                callback(Twig.Templates.registry[params.id]);\n\t            }\n\t            // TODO: if async, return deferred promise\n\t            return Twig.Templates.registry[params.id];\n\t        }\n\n\t        //if the parser name hasn't been set, default it to twig\n\t        params.parser = params.parser || 'twig';\n\n\t        // Assume 'fs' if the loader is not defined\n\t        loader = this.loaders[params.method] || this.loaders.fs;\n\t        return loader.apply(this, arguments);\n\t    };\n\n\t    // Determine object type\n\t    function is(type, obj) {\n\t        var clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t        return obj !== undefined && obj !== null && clas === type;\n\t    }\n\n\t    /**\n\t     * Create a new twig.js template.\n\t     *\n\t     * Parameters: {\n\t     *      data:   The template, either pre-compiled tokens or a string template\n\t     *      id:     The name of this template\n\t     *      blocks: Any pre-existing block from a child template\n\t     * }\n\t     *\n\t     * @param {Object} params The template parameters.\n\t     */\n\t    Twig.Template = function ( params ) {\n\t        var data = params.data,\n\t            id = params.id,\n\t            blocks = params.blocks,\n\t            macros = params.macros || {},\n\t            base = params.base,\n\t            path = params.path,\n\t            url = params.url,\n\t            name = params.name,\n\t            method = params.method,\n\t            // parser options\n\t            options = params.options;\n\n\t        // # What is stored in a Twig.Template\n\t        //\n\t        // The Twig Template hold several chucks of data.\n\t        //\n\t        //     {\n\t        //          id:     The token ID (if any)\n\t        //          tokens: The list of tokens that makes up this template.\n\t        //          blocks: The list of block this template contains.\n\t        //          base:   The base template (if any)\n\t        //            options:  {\n\t        //                Compiler/parser options\n\t        //\n\t        //                strict_variables: true/false\n\t        //                    Should missing variable/keys emit an error message. If false, they default to null.\n\t        //            }\n\t        //     }\n\t        //\n\n\t        this.id     = id;\n\t        this.method = method;\n\t        this.base   = base;\n\t        this.path   = path;\n\t        this.url    = url;\n\t        this.name   = name;\n\t        this.macros = macros;\n\t        this.options = options;\n\n\t        this.reset(blocks);\n\n\t        if (is('String', data)) {\n\t            this.tokens = Twig.prepare.apply(this, [data]);\n\t        } else {\n\t            this.tokens = data;\n\t        }\n\n\t        if (id !== undefined) {\n\t            Twig.Templates.save(this);\n\t        }\n\t    };\n\n\t    Twig.Template.prototype.reset = function(blocks) {\n\t        Twig.log.debug(\"Twig.Template.reset\", \"Reseting template \" + this.id);\n\t        this.blocks = {};\n\t        this.importedBlocks = [];\n\t        this.originalBlockTokens = {};\n\t        this.child = {\n\t            blocks: blocks || {}\n\t        };\n\t        this.extend = null;\n\t    };\n\n\t    Twig.Template.prototype.render = function (context, params, allow_async) {\n\t        params = params || {};\n\n\t        var that = this,\n\n\t            // Store any error that might be thrown by the promise chain.\n\t            err = null,\n\n\t            // This will be set to is_async if template renders synchronously\n\t            is_async = true,\n\t            promise = null,\n\n\t            result,\n\t            url;\n\n\t        this.context = context || {};\n\n\t        // Clear any previous state\n\t        this.reset();\n\t        if (params.blocks) {\n\t            this.blocks = params.blocks;\n\t        }\n\t        if (params.macros) {\n\t            this.macros = params.macros;\n\t        }\n\n\t        var cb = function(output) {\n\t            // Does this template extend another\n\t            if (that.extend) {\n\t                var ext_template;\n\n\t                // check if the template is provided inline\n\t                if ( that.options.allowInlineIncludes ) {\n\t                    ext_template = Twig.Templates.load(that.extend);\n\t                    if ( ext_template ) {\n\t                        ext_template.options = that.options;\n\t                    }\n\t                }\n\n\t                // check for the template file via include\n\t                if (!ext_template) {\n\t                    url = Twig.path.parsePath(that, that.extend);\n\n\t                    ext_template = Twig.Templates.loadRemote(url, {\n\t                        method: that.getLoaderMethod(),\n\t                        base: that.base,\n\t                        async:  false,\n\t                        id:     url,\n\t                        options: that.options\n\t                    });\n\t                }\n\n\t                that.parent = ext_template;\n\n\t                return that.parent.renderAsync(that.context, {\n\t                    blocks: that.blocks\n\t                });\n\t            }\n\n\t            if (params.output == 'blocks') {\n\t                return that.blocks;\n\t            } else if (params.output == 'macros') {\n\t                return that.macros;\n\t            } else {\n\t                return output;\n\t            }\n\t        };\n\n\t        promise = Twig.parseAsync.apply(this, [this.tokens, this.context])\n\t        .then(cb)\n\t        .then(function(v) {\n\t            is_async = false;\n\t            result = v;\n\t            return v;\n\t        })\n\t        .catch(function(e) {\n\t            if (allow_async)\n\t                throw e;\n\n\t            err = e;\n\t        })\n\n\t        // If `allow_async` we will always return a promise since we do not\n\t        // know in advance if we are going to run asynchronously or not.\n\t        if (allow_async)\n\t            return promise;\n\n\t        // Handle errors here if we fail synchronously.\n\t        if (err !== null)\n\t            throw err;\n\n\t        // If `allow_async` is not true we should not allow the user\n\t        // to use asynchronous functions or filters.\n\t        if (is_async)\n\t            throw new Twig.Error('You are using Twig.js in sync mode in combination with async extensions.');\n\n\t        return result;\n\t    };\n\n\t    Twig.Template.prototype.importFile = function(file) {\n\t        var url, sub_template;\n\t        if (!this.url && this.options.allowInlineIncludes) {\n\t            file = this.path ? Twig.path.parsePath(this, file) : file;\n\t            sub_template = Twig.Templates.load(file);\n\n\t            if (!sub_template) {\n\t                sub_template = Twig.Templates.loadRemote(url, {\n\t                    id: file,\n\t                    method: this.getLoaderMethod(),\n\t                    async: false,\n\t                    path: file,\n\t                    options: this.options\n\t                });\n\n\t                if (!sub_template) {\n\t                    throw new Twig.Error(\"Unable to find the template \" + file);\n\t                }\n\t            }\n\n\t            sub_template.options = this.options;\n\n\t            return sub_template;\n\t        }\n\n\t        url = Twig.path.parsePath(this, file);\n\n\t        // Load blocks from an external file\n\t        sub_template = Twig.Templates.loadRemote(url, {\n\t            method: this.getLoaderMethod(),\n\t            base: this.base,\n\t            async: false,\n\t            options: this.options,\n\t            id: url\n\t        });\n\n\t        return sub_template;\n\t    };\n\n\t    Twig.Template.prototype.importBlocks = function(file, override) {\n\t        var sub_template = this.importFile(file),\n\t            context = this.context,\n\t            that = this,\n\t            key;\n\n\t        override = override || false;\n\n\t        sub_template.render(context);\n\n\t        // Mixin blocks\n\t        Twig.forEach(Object.keys(sub_template.blocks), function(key) {\n\t            if (override || that.blocks[key] === undefined) {\n\t                that.blocks[key] = sub_template.blocks[key];\n\t                that.importedBlocks.push(key);\n\t            }\n\t        });\n\t    };\n\n\t    Twig.Template.prototype.importMacros = function(file) {\n\t        var url = Twig.path.parsePath(this, file);\n\n\t        // load remote template\n\t        var remoteTemplate = Twig.Templates.loadRemote(url, {\n\t            method: this.getLoaderMethod(),\n\t            async: false,\n\t            id: url\n\t        });\n\n\t        return remoteTemplate;\n\t    };\n\n\t    Twig.Template.prototype.getLoaderMethod = function() {\n\t        if (this.path) {\n\t            return 'fs';\n\t        }\n\t        if (this.url) {\n\t            return 'ajax';\n\t        }\n\t        return this.method || 'fs';\n\t    };\n\n\t    Twig.Template.prototype.compile = function(options) {\n\t        // compile the template into raw JS\n\t        return Twig.compiler.compile(this, options);\n\t    };\n\n\t    /**\n\t     * Create safe output\n\t     *\n\t     * @param {string} Content safe to output\n\t     *\n\t     * @return {String} Content wrapped into a String\n\t     */\n\n\t    Twig.Markup = function(content, strategy) {\n\t        if(typeof strategy == 'undefined') {\n\t            strategy = true;\n\t        }\n\n\t        if (typeof content === 'string' && content.length > 0) {\n\t            content = new String(content);\n\t            content.twig_markup = strategy;\n\t        }\n\t        return content;\n\t    };\n\n\t    return Twig;\n\n\t};\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// ## twig.compiler.js\n\t//\n\t// This file handles compiling templates into JS\n\tmodule.exports = function (Twig) {\n\t    /**\n\t     * Namespace for compilation.\n\t     */\n\t    Twig.compiler = {\n\t        module: {}\n\t    };\n\n\t    // Compile a Twig Template to output.\n\t    Twig.compiler.compile = function(template, options) {\n\t        // Get tokens\n\t        var tokens = JSON.stringify(template.tokens)\n\t            , id = template.id\n\t            , output;\n\n\t        if (options.module) {\n\t            if (Twig.compiler.module[options.module] === undefined) {\n\t                throw new Twig.Error(\"Unable to find module type \" + options.module);\n\t            }\n\t            output = Twig.compiler.module[options.module](id, tokens, options.twig);\n\t        } else {\n\t            output = Twig.compiler.wrap(id, tokens);\n\t        }\n\t        return output;\n\t    };\n\n\t    Twig.compiler.module = {\n\t        amd: function(id, tokens, pathToTwig) {\n\t            return 'define([\"' + pathToTwig + '\"], function (Twig) {\\n\\tvar twig, templates;\\ntwig = Twig.twig;\\ntemplates = ' + Twig.compiler.wrap(id, tokens) + '\\n\\treturn templates;\\n});';\n\t        }\n\t        , node: function(id, tokens) {\n\t            return 'var twig = require(\"twig\").twig;\\n'\n\t                + 'exports.template = ' + Twig.compiler.wrap(id, tokens)\n\t        }\n\t        , cjs2: function(id, tokens, pathToTwig) {\n\t            return 'module.declare([{ twig: \"' + pathToTwig + '\" }], function (require, exports, module) {\\n'\n\t                        + '\\tvar twig = require(\"twig\").twig;\\n'\n\t                        + '\\texports.template = ' + Twig.compiler.wrap(id, tokens)\n\t                    + '\\n});'\n\t        }\n\t    };\n\n\t    Twig.compiler.wrap = function(id, tokens) {\n\t        return 'twig({id:\"'+id.replace('\"', '\\\\\"')+'\", data:'+tokens+', precompiled: true});\\n';\n\t    };\n\n\t    return Twig;\n\t};\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ## twig.expression.js\n\t//\n\t// This file handles tokenizing, compiling and parsing expressions.\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\n\t    function parseParams(thisArg, params, context) {\n\t        if (params)\n\t            return Twig.expression.parseAsync.apply(thisArg, [params, context]);\n\n\t        return Twig.Promise.resolve(false);\n\t    }\n\n\t    /**\n\t     * Namespace for expression handling.\n\t     */\n\t    Twig.expression = { };\n\n\t    __webpack_require__(4)(Twig);\n\n\t    /**\n\t     * Reserved word that can't be used as variable names.\n\t     */\n\t    Twig.expression.reservedWords = [\n\t        \"true\", \"false\", \"null\", \"TRUE\", \"FALSE\", \"NULL\", \"_context\", \"and\", \"b-and\", \"or\", \"b-or\", \"b-xor\", \"in\", \"not in\", \"if\"\n\t    ];\n\n\t    /**\n\t     * The type of tokens used in expressions.\n\t     */\n\t    Twig.expression.type = {\n\t        comma:      'Twig.expression.type.comma',\n\t        operator: {\n\t            unary:  'Twig.expression.type.operator.unary',\n\t            binary: 'Twig.expression.type.operator.binary'\n\t        },\n\t        string:     'Twig.expression.type.string',\n\t        bool:       'Twig.expression.type.bool',\n\t        slice:      'Twig.expression.type.slice',\n\t        array: {\n\t            start:  'Twig.expression.type.array.start',\n\t            end:    'Twig.expression.type.array.end'\n\t        },\n\t        object: {\n\t            start:  'Twig.expression.type.object.start',\n\t            end:    'Twig.expression.type.object.end'\n\t        },\n\t        parameter: {\n\t            start:  'Twig.expression.type.parameter.start',\n\t            end:    'Twig.expression.type.parameter.end'\n\t        },\n\t        subexpression: {\n\t            start:  'Twig.expression.type.subexpression.start',\n\t            end:    'Twig.expression.type.subexpression.end'\n\t        },\n\t        key: {\n\t            period:   'Twig.expression.type.key.period',\n\t            brackets: 'Twig.expression.type.key.brackets'\n\t        },\n\t        filter:     'Twig.expression.type.filter',\n\t        _function:  'Twig.expression.type._function',\n\t        variable:   'Twig.expression.type.variable',\n\t        number:     'Twig.expression.type.number',\n\t        _null:     'Twig.expression.type.null',\n\t        context:    'Twig.expression.type.context',\n\t        test:       'Twig.expression.type.test'\n\t    };\n\n\t    Twig.expression.set = {\n\t        // What can follow an expression (in general)\n\t        operations: [\n\t            Twig.expression.type.filter,\n\t            Twig.expression.type.operator.unary,\n\t            Twig.expression.type.operator.binary,\n\t            Twig.expression.type.array.end,\n\t            Twig.expression.type.object.end,\n\t            Twig.expression.type.parameter.end,\n\t            Twig.expression.type.subexpression.end,\n\t            Twig.expression.type.comma,\n\t            Twig.expression.type.test\n\t        ],\n\t        expressions: [\n\t            Twig.expression.type._function,\n\t            Twig.expression.type.bool,\n\t            Twig.expression.type.string,\n\t            Twig.expression.type.variable,\n\t            Twig.expression.type.number,\n\t            Twig.expression.type._null,\n\t            Twig.expression.type.context,\n\t            Twig.expression.type.parameter.start,\n\t            Twig.expression.type.array.start,\n\t            Twig.expression.type.object.start,\n\t            Twig.expression.type.subexpression.start,\n\t            Twig.expression.type.operator.unary\n\t        ]\n\t    };\n\n\t    // Most expressions allow a '.' or '[' after them, so we provide a convenience set\n\t    Twig.expression.set.operations_extended = Twig.expression.set.operations.concat([\n\t                    Twig.expression.type.key.period,\n\t                    Twig.expression.type.key.brackets,\n\t                    Twig.expression.type.slice]);\n\n\t    // Some commonly used compile and parse functions.\n\t    Twig.expression.fn = {\n\t        compile: {\n\t            push: function(token, stack, output) {\n\t                output.push(token);\n\t            },\n\t            push_both: function(token, stack, output) {\n\t                output.push(token);\n\t                stack.push(token);\n\t            }\n\t        },\n\t        parse: {\n\t            push: function(token, stack, context) {\n\t                stack.push(token);\n\t            },\n\t            push_value: function(token, stack, context) {\n\t                stack.push(token.value);\n\t            }\n\t        }\n\t    };\n\n\t    // The regular expressions and compile/parse logic used to match tokens in expressions.\n\t    //\n\t    // Properties:\n\t    //\n\t    //      type:  The type of expression this matches\n\t    //\n\t    //      regex: One or more regular expressions that matche the format of the token.\n\t    //\n\t    //      next:  Valid tokens that can occur next in the expression.\n\t    //\n\t    // Functions:\n\t    //\n\t    //      compile: A function that compiles the raw regular expression match into a token.\n\t    //\n\t    //      parse:   A function that parses the compiled token into output.\n\t    //\n\t    Twig.expression.definitions = [\n\t        {\n\t            type: Twig.expression.type.test,\n\t            regex: /^is\\s+(not)?\\s*([a-zA-Z_][a-zA-Z0-9_]*(\\s?as)?)/,\n\t            next: Twig.expression.set.operations.concat([Twig.expression.type.parameter.start]),\n\t            compile: function(token, stack, output) {\n\t                token.filter   = token.match[2];\n\t                token.modifier = token.match[1];\n\t                delete token.match;\n\t                delete token.value;\n\t                output.push(token);\n\t            },\n\t            parse: function(token, stack, context) {\n\t                var value = stack.pop();\n\n\t                return parseParams(this, token.params, context)\n\t                .then(function(params) {\n\t                    var result = Twig.test(token.filter, value, params);\n\n\t                    if (token.modifier == 'not') {\n\t                        stack.push(!result);\n\t                    } else {\n\t                        stack.push(result);\n\t                    }\n\t                });\n\t            }\n\t        },\n\t        {\n\t            type: Twig.expression.type.comma,\n\t            // Match a comma\n\t            regex: /^,/,\n\t            next: Twig.expression.set.expressions.concat([Twig.expression.type.array.end, Twig.expression.type.object.end]),\n\t            compile: function(token, stack, output) {\n\t                var i = stack.length - 1,\n\t                    stack_token;\n\n\t                delete token.match;\n\t                delete token.value;\n\n\t                // pop tokens off the stack until the start of the object\n\t                for(;i >= 0; i--) {\n\t                    stack_token = stack.pop();\n\t                    if (stack_token.type === Twig.expression.type.object.start\n\t                            || stack_token.type === Twig.expression.type.parameter.start\n\t                            || stack_token.type === Twig.expression.type.array.start) {\n\t                        stack.push(stack_token);\n\t                        break;\n\t                    }\n\t                    output.push(stack_token);\n\t                }\n\t                output.push(token);\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Match a number (integer or decimal)\n\t             */\n\t            type: Twig.expression.type.number,\n\t            // match a number\n\t            regex: /^\\-?\\d+(\\.\\d+)?/,\n\t            next: Twig.expression.set.operations,\n\t            compile: function(token, stack, output) {\n\t                token.value = Number(token.value);\n\t                output.push(token);\n\t            },\n\t            parse: Twig.expression.fn.parse.push_value\n\t        },\n\t        {\n\t            type: Twig.expression.type.operator.binary,\n\t            // Match any of ?:, +, *, /, -, %, ~, <, <=, >, >=, !=, ==, **, ?, :, and, b-and, or, b-or, b-xor, in, not in\n\t            // and, or, in, not in can be followed by a space or parenthesis\n\t            regex: /(^\\?\\:|^(b\\-and)|^(b\\-or)|^(b\\-xor)|^[\\+\\-~%\\?]|^[\\:](?!\\d\\])|^[!=]==?|^[!<>]=?|^\\*\\*?|^\\/\\/?|^(and)[\\(|\\s+]|^(or)[\\(|\\s+]|^(in)[\\(|\\s+]|^(not in)[\\(|\\s+]|^\\.\\.)/,\n\t            next: Twig.expression.set.expressions,\n\t            transform: function(match, tokens) {\n\t                switch(match[0]) {\n\t                    case 'and(':\n\t                    case 'or(':\n\t                    case 'in(':\n\t                    case 'not in(':\n\t                        //Strip off the ( if it exists\n\t                        tokens[tokens.length - 1].value = match[2];\n\t                        return match[0];\n\t                        break;\n\t                    default:\n\t                        return '';\n\t                }\n\t            },\n\t            compile: function(token, stack, output) {\n\t                delete token.match;\n\n\t                token.value = token.value.trim();\n\t                var value = token.value,\n\t                    operator = Twig.expression.operator.lookup(value, token);\n\n\t                Twig.log.trace(\"Twig.expression.compile: \", \"Operator: \", operator, \" from \", value);\n\n\t                while (stack.length > 0 &&\n\t                       (stack[stack.length-1].type == Twig.expression.type.operator.unary || stack[stack.length-1].type == Twig.expression.type.operator.binary) &&\n\t                            (\n\t                                (operator.associativity === Twig.expression.operator.leftToRight &&\n\t                                 operator.precidence    >= stack[stack.length-1].precidence) ||\n\n\t                                (operator.associativity === Twig.expression.operator.rightToLeft &&\n\t                                 operator.precidence    >  stack[stack.length-1].precidence)\n\t                            )\n\t                       ) {\n\t                     var temp = stack.pop();\n\t                     output.push(temp);\n\t                }\n\n\t                if (value === \":\") {\n\t                    // Check if this is a ternary or object key being set\n\t                    if (stack[stack.length - 1] && stack[stack.length-1].value === \"?\") {\n\t                        // Continue as normal for a ternary\n\t                    } else {\n\t                        // This is not a ternary so we push the token to the output where it can be handled\n\t                        //   when the assocated object is closed.\n\t                        var key_token = output.pop();\n\n\t                        if (key_token.type === Twig.expression.type.string ||\n\t                                key_token.type === Twig.expression.type.variable) {\n\t                            token.key = key_token.value;\n\t                        } else if (key_token.type === Twig.expression.type.number) {\n\t                            // Convert integer keys into string keys\n\t                            token.key = key_token.value.toString();\n\t                        } else if (key_token.expression &&\n\t                            (key_token.type === Twig.expression.type.parameter.end ||\n\t                            key_token.type == Twig.expression.type.subexpression.end)) {\n\t                            token.params = key_token.params;\n\t                        } else {\n\t                            throw new Twig.Error(\"Unexpected value before ':' of \" + key_token.type + \" = \" + key_token.value);\n\t                        }\n\n\t                        output.push(token);\n\t                        return;\n\t                    }\n\t                } else {\n\t                    stack.push(operator);\n\t                }\n\t            },\n\t            parse: function(token, stack, context) {\n\t                if (token.key) {\n\t                    // handle ternary ':' operator\n\t                    stack.push(token);\n\t                } else if (token.params) {\n\t                    // handle \"{(expression):value}\"\n\t                    return Twig.expression.parseAsync.apply(this, [token.params, context])\n\t                    .then(function(key) {\n\t                        token.key = key;\n\t                        stack.push(token);\n\n\t                        //If we're in a loop, we might need token.params later, especially in this form of \"(expression):value\"\n\t                        if (!context.loop) {\n\t                            delete(token.params);\n\t                        }\n\t                    });\n\t                } else {\n\t                    Twig.expression.operator.parse(token.value, stack);\n\t                }\n\t            }\n\t        },\n\t        {\n\t            type: Twig.expression.type.operator.unary,\n\t            // Match any of not\n\t            regex: /(^not\\s+)/,\n\t            next: Twig.expression.set.expressions,\n\t            compile: function(token, stack, output) {\n\t                delete token.match;\n\n\t                token.value = token.value.trim();\n\t                var value = token.value,\n\t                    operator = Twig.expression.operator.lookup(value, token);\n\n\t                Twig.log.trace(\"Twig.expression.compile: \", \"Operator: \", operator, \" from \", value);\n\n\t                while (stack.length > 0 &&\n\t                       (stack[stack.length-1].type == Twig.expression.type.operator.unary || stack[stack.length-1].type == Twig.expression.type.operator.binary) &&\n\t                            (\n\t                                (operator.associativity === Twig.expression.operator.leftToRight &&\n\t                                 operator.precidence    >= stack[stack.length-1].precidence) ||\n\n\t                                (operator.associativity === Twig.expression.operator.rightToLeft &&\n\t                                 operator.precidence    >  stack[stack.length-1].precidence)\n\t                            )\n\t                       ) {\n\t                     var temp = stack.pop();\n\t                     output.push(temp);\n\t                }\n\n\t                stack.push(operator);\n\t            },\n\t            parse: function(token, stack, context) {\n\t                Twig.expression.operator.parse(token.value, stack);\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Match a string. This is anything between a pair of single or double quotes.\n\t             */\n\t            type: Twig.expression.type.string,\n\t            // See: http://blog.stevenlevithan.com/archives/match-quoted-string\n\t            regex: /^([\"'])(?:(?=(\\\\?))\\2[\\s\\S])*?\\1/,\n\t            next: Twig.expression.set.operations_extended,\n\t            compile: function(token, stack, output) {\n\t                var value = token.value;\n\t                delete token.match\n\n\t                // Remove the quotes from the string\n\t                if (value.substring(0, 1) === '\"') {\n\t                    value = value.replace('\\\\\"', '\"');\n\t                } else {\n\t                    value = value.replace(\"\\\\'\", \"'\");\n\t                }\n\t                token.value = value.substring(1, value.length-1).replace( /\\\\n/g, \"\\n\" ).replace( /\\\\r/g, \"\\r\" );\n\t                Twig.log.trace(\"Twig.expression.compile: \", \"String value: \", token.value);\n\t                output.push(token);\n\t            },\n\t            parse: Twig.expression.fn.parse.push_value\n\t        },\n\t        {\n\t            /**\n\t             * Match a subexpression set start.\n\t             */\n\t            type: Twig.expression.type.subexpression.start,\n\t            regex: /^\\(/,\n\t            next: Twig.expression.set.expressions.concat([Twig.expression.type.subexpression.end]),\n\t            compile: function(token, stack, output) {\n\t                token.value = '(';\n\t                output.push(token);\n\t                stack.push(token);\n\t            },\n\t            parse: Twig.expression.fn.parse.push\n\t        },\n\t        {\n\t            /**\n\t             * Match a subexpression set end.\n\t             */\n\t            type: Twig.expression.type.subexpression.end,\n\t            regex: /^\\)/,\n\t            next: Twig.expression.set.operations_extended,\n\t            validate: function(match, tokens) {\n\t                // Iterate back through previous tokens to ensure we follow a subexpression start\n\t                var i = tokens.length - 1,\n\t                    found_subexpression_start = false,\n\t                    next_subexpression_start_invalid = false,\n\t                    unclosed_parameter_count = 0;\n\n\t                while(!found_subexpression_start && i >= 0) {\n\t                    var token = tokens[i];\n\n\t                    found_subexpression_start = token.type === Twig.expression.type.subexpression.start;\n\n\t                    // If we have previously found a subexpression end, then this subexpression start is the start of\n\t                    // that subexpression, not the subexpression we are searching for\n\t                    if (found_subexpression_start && next_subexpression_start_invalid) {\n\t                        next_subexpression_start_invalid = false;\n\t                        found_subexpression_start = false;\n\t                    }\n\n\t                    // Count parameter tokens to ensure we dont return truthy for a parameter opener\n\t                    if (token.type === Twig.expression.type.parameter.start) {\n\t                        unclosed_parameter_count++;\n\t                    } else if (token.type === Twig.expression.type.parameter.end) {\n\t                        unclosed_parameter_count--;\n\t                    } else if (token.type === Twig.expression.type.subexpression.end) {\n\t                        next_subexpression_start_invalid = true;\n\t                    }\n\n\t                    i--;\n\t                }\n\n\t                // If we found unclosed parameters, return false\n\t                // If we didnt find subexpression start, return false\n\t                // Otherwise return true\n\n\t                return (found_subexpression_start && (unclosed_parameter_count === 0));\n\t            },\n\t            compile: function(token, stack, output) {\n\t                // This is basically a copy of parameter end compilation\n\t                var stack_token,\n\t                    end_token = token;\n\n\t                stack_token = stack.pop();\n\t                while(stack.length > 0 && stack_token.type != Twig.expression.type.subexpression.start) {\n\t                    output.push(stack_token);\n\t                    stack_token = stack.pop();\n\t                }\n\n\t                // Move contents of parens into preceding filter\n\t                var param_stack = [];\n\t                while(token.type !== Twig.expression.type.subexpression.start) {\n\t                    // Add token to arguments stack\n\t                    param_stack.unshift(token);\n\t                    token = output.pop();\n\t                }\n\n\t                param_stack.unshift(token);\n\n\t                var is_expression = false;\n\n\t                //If the token at the top of the *stack* is a function token, pop it onto the output queue.\n\t                // Get the token preceding the parameters\n\t                stack_token = stack[stack.length-1];\n\n\t                if (stack_token === undefined ||\n\t                    (stack_token.type !== Twig.expression.type._function &&\n\t                    stack_token.type !== Twig.expression.type.filter &&\n\t                    stack_token.type !== Twig.expression.type.test &&\n\t                    stack_token.type !== Twig.expression.type.key.brackets)) {\n\n\t                    end_token.expression = true;\n\n\t                    // remove start and end token from stack\n\t                    param_stack.pop();\n\t                    param_stack.shift();\n\n\t                    end_token.params = param_stack;\n\n\t                    output.push(end_token);\n\t                } else {\n\t                    // This should never be hit\n\t                    end_token.expression = false;\n\t                    stack_token.params = param_stack;\n\t                }\n\t            },\n\t            parse: function(token, stack, context) {\n\t                var new_array = [],\n\t                    array_ended = false,\n\t                    value = null;\n\n\t                if (token.expression) {\n\t                    return Twig.expression.parseAsync.apply(this, [token.params, context])\n\t                    .then(function(value) {\n\t                        stack.push(value);\n\t                    });\n\t                } else {\n\t                    throw new Twig.Error(\"Unexpected subexpression end when token is not marked as an expression\");\n\t                }\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Match a parameter set start.\n\t             */\n\t            type: Twig.expression.type.parameter.start,\n\t            regex: /^\\(/,\n\t            next: Twig.expression.set.expressions.concat([Twig.expression.type.parameter.end]),\n\t            validate: function(match, tokens) {\n\t                var last_token = tokens[tokens.length - 1];\n\t                // We can't use the regex to test if we follow a space because expression is trimmed\n\t                return last_token && (Twig.indexOf(Twig.expression.reservedWords, last_token.value.trim()) < 0);\n\t            },\n\t            compile: Twig.expression.fn.compile.push_both,\n\t            parse: Twig.expression.fn.parse.push\n\t        },\n\t        {\n\t            /**\n\t             * Match a parameter set end.\n\t             */\n\t            type: Twig.expression.type.parameter.end,\n\t            regex: /^\\)/,\n\t            next: Twig.expression.set.operations_extended,\n\t            compile: function(token, stack, output) {\n\t                var stack_token,\n\t                    end_token = token;\n\n\t                stack_token = stack.pop();\n\t                while(stack.length > 0 && stack_token.type != Twig.expression.type.parameter.start) {\n\t                    output.push(stack_token);\n\t                    stack_token = stack.pop();\n\t                }\n\n\t                // Move contents of parens into preceding filter\n\t                var param_stack = [];\n\t                while(token.type !== Twig.expression.type.parameter.start) {\n\t                    // Add token to arguments stack\n\t                    param_stack.unshift(token);\n\t                    token = output.pop();\n\t                }\n\t                param_stack.unshift(token);\n\n\t                var is_expression = false;\n\n\t                // Get the token preceding the parameters\n\t                token = output[output.length-1];\n\n\t                if (token === undefined ||\n\t                    (token.type !== Twig.expression.type._function &&\n\t                    token.type !== Twig.expression.type.filter &&\n\t                    token.type !== Twig.expression.type.test &&\n\t                    token.type !== Twig.expression.type.key.brackets)) {\n\n\t                    end_token.expression = true;\n\n\t                    // remove start and end token from stack\n\t                    param_stack.pop();\n\t                    param_stack.shift();\n\n\t                    end_token.params = param_stack;\n\n\t                    output.push(end_token);\n\n\t                } else {\n\t                    end_token.expression = false;\n\t                    token.params = param_stack;\n\t                }\n\t            },\n\t            parse: function(token, stack, context) {\n\t                var new_array = [],\n\t                    array_ended = false,\n\t                    value = null;\n\n\t                if (token.expression) {\n\t                    return Twig.expression.parseAsync.apply(this, [token.params, context])\n\t                    .then(function(value) {\n\t                        stack.push(value);\n\t                    });\n\t                } else {\n\n\t                    while (stack.length > 0) {\n\t                        value = stack.pop();\n\t                        // Push values into the array until the start of the array\n\t                        if (value && value.type && value.type == Twig.expression.type.parameter.start) {\n\t                            array_ended = true;\n\t                            break;\n\t                        }\n\t                        new_array.unshift(value);\n\t                    }\n\n\t                    if (!array_ended) {\n\t                        throw new Twig.Error(\"Expected end of parameter set.\");\n\t                    }\n\n\t                    stack.push(new_array);\n\t                }\n\t            }\n\t        },\n\t        {\n\t            type: Twig.expression.type.slice,\n\t            regex: /^\\[(\\d*\\:\\d*)\\]/,\n\t            next: Twig.expression.set.operations_extended,\n\t            compile: function(token, stack, output) {\n\t                var sliceRange = token.match[1].split(':');\n\n\t                //sliceStart can be undefined when we pass parameters to the slice filter later\n\t                var sliceStart = (sliceRange[0]) ? parseInt(sliceRange[0]) : undefined;\n\t                var sliceEnd = (sliceRange[1]) ? parseInt(sliceRange[1]) : undefined;\n\n\t                token.value = 'slice';\n\t                token.params = [sliceStart, sliceEnd];\n\n\t                //sliceEnd can't be undefined as the slice filter doesn't check for this, but it does check the length\n\t                //of the params array, so just shorten it.\n\t                if (!sliceEnd) {\n\t                    token.params = [sliceStart];\n\t                }\n\n\t                output.push(token);\n\t            },\n\t            parse: function(token, stack, context) {\n\t                var input = stack.pop(),\n\t                    params = token.params;\n\n\t                stack.push(Twig.filter.apply(this, [token.value, input, params]));\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Match an array start.\n\t             */\n\t            type: Twig.expression.type.array.start,\n\t            regex: /^\\[/,\n\t            next: Twig.expression.set.expressions.concat([Twig.expression.type.array.end]),\n\t            compile: Twig.expression.fn.compile.push_both,\n\t            parse: Twig.expression.fn.parse.push\n\t        },\n\t        {\n\t            /**\n\t             * Match an array end.\n\t             */\n\t            type: Twig.expression.type.array.end,\n\t            regex: /^\\]/,\n\t            next: Twig.expression.set.operations_extended,\n\t            compile: function(token, stack, output) {\n\t                var i = stack.length - 1,\n\t                    stack_token;\n\t                // pop tokens off the stack until the start of the object\n\t                for(;i >= 0; i--) {\n\t                    stack_token = stack.pop();\n\t                    if (stack_token.type === Twig.expression.type.array.start) {\n\t                        break;\n\t                    }\n\t                    output.push(stack_token);\n\t                }\n\t                output.push(token);\n\t            },\n\t            parse: function(token, stack, context) {\n\t                var new_array = [],\n\t                    array_ended = false,\n\t                    value = null;\n\n\t                while (stack.length > 0) {\n\t                    value = stack.pop();\n\t                    // Push values into the array until the start of the array\n\t                    if (value.type && value.type == Twig.expression.type.array.start) {\n\t                        array_ended = true;\n\t                        break;\n\t                    }\n\t                    new_array.unshift(value);\n\t                }\n\t                if (!array_ended) {\n\t                    throw new Twig.Error(\"Expected end of array.\");\n\t                }\n\n\t                stack.push(new_array);\n\t            }\n\t        },\n\t        // Token that represents the start of a hash map '}'\n\t        //\n\t        // Hash maps take the form:\n\t        //    { \"key\": 'value', \"another_key\": item }\n\t        //\n\t        // Keys must be quoted (either single or double) and values can be any expression.\n\t        {\n\t            type: Twig.expression.type.object.start,\n\t            regex: /^\\{/,\n\t            next: Twig.expression.set.expressions.concat([Twig.expression.type.object.end]),\n\t            compile: Twig.expression.fn.compile.push_both,\n\t            parse: Twig.expression.fn.parse.push\n\t        },\n\n\t        // Token that represents the end of a Hash Map '}'\n\t        //\n\t        // This is where the logic for building the internal\n\t        // representation of a hash map is defined.\n\t        {\n\t            type: Twig.expression.type.object.end,\n\t            regex: /^\\}/,\n\t            next: Twig.expression.set.operations_extended,\n\t            compile: function(token, stack, output) {\n\t                var i = stack.length-1,\n\t                    stack_token;\n\n\t                // pop tokens off the stack until the start of the object\n\t                for(;i >= 0; i--) {\n\t                    stack_token = stack.pop();\n\t                    if (stack_token && stack_token.type === Twig.expression.type.object.start) {\n\t                        break;\n\t                    }\n\t                    output.push(stack_token);\n\t                }\n\t                output.push(token);\n\t            },\n\t            parse: function(end_token, stack, context) {\n\t                var new_object = {},\n\t                    object_ended = false,\n\t                    token = null,\n\t                    token_key = null,\n\t                    has_value = false,\n\t                    value = null;\n\n\t                while (stack.length > 0) {\n\t                    token = stack.pop();\n\t                    // Push values into the array until the start of the object\n\t                    if (token && token.type && token.type === Twig.expression.type.object.start) {\n\t                        object_ended = true;\n\t                        break;\n\t                    }\n\t                    if (token && token.type && (token.type === Twig.expression.type.operator.binary || token.type === Twig.expression.type.operator.unary) && token.key) {\n\t                        if (!has_value) {\n\t                            throw new Twig.Error(\"Missing value for key '\" + token.key + \"' in object definition.\");\n\t                        }\n\t                        new_object[token.key] = value;\n\n\t                        // Preserve the order that elements are added to the map\n\t                        // This is necessary since JavaScript objects don't\n\t                        // guarantee the order of keys\n\t                        if (new_object._keys === undefined) new_object._keys = [];\n\t                        new_object._keys.unshift(token.key);\n\n\t                        // reset value check\n\t                        value = null;\n\t                        has_value = false;\n\n\t                    } else {\n\t                        has_value = true;\n\t                        value = token;\n\t                    }\n\t                }\n\t                if (!object_ended) {\n\t                    throw new Twig.Error(\"Unexpected end of object.\");\n\t                }\n\n\t                stack.push(new_object);\n\t            }\n\t        },\n\n\t        // Token representing a filter\n\t        //\n\t        // Filters can follow any expression and take the form:\n\t        //    expression|filter(optional, args)\n\t        //\n\t        // Filter parsing is done in the Twig.filters namespace.\n\t        {\n\t            type: Twig.expression.type.filter,\n\t            // match a | then a letter or _, then any number of letters, numbers, _ or -\n\t            regex: /^\\|\\s?([a-zA-Z_][a-zA-Z0-9_\\-]*)/,\n\t            next: Twig.expression.set.operations_extended.concat([\n\t                    Twig.expression.type.parameter.start]),\n\t            compile: function(token, stack, output) {\n\t                token.value = token.match[1];\n\t                output.push(token);\n\t            },\n\t            parse: function(token, stack, context) {\n\t                var that = this,\n\t                    input = stack.pop();\n\n\t                return parseParams(this, token.params, context)\n\t                .then(function(params) {\n\t                    return Twig.filter.apply(that, [token.value, input, params]);\n\t                })\n\t                .then(function(value) {\n\t                    stack.push(value);\n\t                });\n\t            }\n\t        },\n\t        {\n\t            type: Twig.expression.type._function,\n\t            // match any letter or _, then any number of letters, numbers, _ or - followed by (\n\t            regex: /^([a-zA-Z_][a-zA-Z0-9_]*)\\s*\\(/,\n\t            next: Twig.expression.type.parameter.start,\n\t            validate: function(match, tokens) {\n\t                // Make sure this function is not a reserved word\n\t                return match[1] && (Twig.indexOf(Twig.expression.reservedWords, match[1]) < 0);\n\t            },\n\t            transform: function(match, tokens) {\n\t                return '(';\n\t            },\n\t            compile: function(token, stack, output) {\n\t                var fn = token.match[1];\n\t                token.fn = fn;\n\t                // cleanup token\n\t                delete token.match;\n\t                delete token.value;\n\n\t                output.push(token);\n\t            },\n\t            parse: function(token, stack, context) {\n\n\t                var that = this,\n\t                    fn = token.fn,\n\t                    value;\n\n\t                return parseParams(this, token.params, context)\n\t                .then(function(params) {\n\t                    if (Twig.functions[fn]) {\n\t                        // Get the function from the built-in functions\n\t                        value = Twig.functions[fn].apply(that, params);\n\n\t                    } else if (typeof context[fn] == 'function') {\n\t                        // Get the function from the user/context defined functions\n\t                        value = context[fn].apply(context, params);\n\n\t                    } else {\n\t                        throw new Twig.Error(fn + ' function does not exist and is not defined in the context');\n\t                    }\n\n\t                    return value;\n\t                })\n\t                .then(function(result) {\n\t                    stack.push(result);\n\t                });\n\t            }\n\t        },\n\n\t        // Token representing a variable.\n\t        //\n\t        // Variables can contain letters, numbers, underscores and\n\t        // dashes, but must start with a letter or underscore.\n\t        //\n\t        // Variables are retrieved from the render context and take\n\t        // the value of 'undefined' if the given variable doesn't\n\t        // exist in the context.\n\t        {\n\t            type: Twig.expression.type.variable,\n\t            // match any letter or _, then any number of letters, numbers, _ or -\n\t            regex: /^[a-zA-Z_][a-zA-Z0-9_]*/,\n\t            next: Twig.expression.set.operations_extended.concat([\n\t                    Twig.expression.type.parameter.start]),\n\t            compile: Twig.expression.fn.compile.push,\n\t            validate: function(match, tokens) {\n\t                return (Twig.indexOf(Twig.expression.reservedWords, match[0]) < 0);\n\t            },\n\t            parse: function(token, stack, context) {\n\t                // Get the variable from the context\n\t                return Twig.expression.resolveAsync.apply(this, [context[token.value], context])\n\t                .then(function(value) {\n\t                    stack.push(value);\n\t                });\n\t            }\n\t        },\n\t        {\n\t            type: Twig.expression.type.key.period,\n\t            regex: /^\\.([a-zA-Z0-9_]+)/,\n\t            next: Twig.expression.set.operations_extended.concat([\n\t                    Twig.expression.type.parameter.start]),\n\t            compile: function(token, stack, output) {\n\t                token.key = token.match[1];\n\t                delete token.match;\n\t                delete token.value;\n\n\t                output.push(token);\n\t            },\n\t            parse: function(token, stack, context, next_token) {\n\t                var that = this,\n\t                    key = token.key,\n\t                    object = stack.pop(),\n\t                    value;\n\n\t                return parseParams(this, token.params, context)\n\t                .then(function(params) {\n\t                    if (object === null || object === undefined) {\n\t                        if (that.options.strict_variables) {\n\t                            throw new Twig.Error(\"Can't access a key \" + key + \" on an null or undefined object.\");\n\t                        } else {\n\t                            value = undefined;\n\t                        }\n\t                    } else {\n\t                        var capitalize = function (value) {\n\t                            return value.substr(0, 1).toUpperCase() + value.substr(1);\n\t                        };\n\n\t                        // Get the variable from the context\n\t                        if (typeof object === 'object' && key in object) {\n\t                            value = object[key];\n\t                        } else if (object[\"get\" + capitalize(key)] !== undefined) {\n\t                            value = object[\"get\" + capitalize(key)];\n\t                        } else if (object[\"is\" + capitalize(key)] !== undefined) {\n\t                            value = object[\"is\" + capitalize(key)];\n\t                        } else {\n\t                            value = undefined;\n\t                        }\n\t                    }\n\n\t                    // When resolving an expression we need to pass next_token in case the expression is a function\n\t                    return Twig.expression.resolveAsync.apply(that, [value, context, params, next_token, object]);\n\t                })\n\t                .then(function(result) {\n\t                    stack.push(result);\n\t                });\n\t            }\n\t        },\n\t        {\n\t            type: Twig.expression.type.key.brackets,\n\t            regex: /^\\[([^\\]\\:]*)\\]/,\n\t            next: Twig.expression.set.operations_extended.concat([\n\t                    Twig.expression.type.parameter.start]),\n\t            compile: function(token, stack, output) {\n\t                var match = token.match[1];\n\t                delete token.value;\n\t                delete token.match;\n\n\t                // The expression stack for the key\n\t                token.stack = Twig.expression.compile({\n\t                    value: match\n\t                }).stack;\n\n\t                output.push(token);\n\t            },\n\t            parse: function(token, stack, context, next_token) {\n\t                // Evaluate key\n\t                var that = this,\n\t                    params = null,\n\t                    object,\n\t                    value;\n\n\t                return parseParams(this, token.params, context)\n\t                .then(function(parameters) {\n\t                    params = parameters;\n\t                    return Twig.expression.parseAsync.apply(that, [token.stack, context]);\n\t                })\n\t                .then(function(key) {\n\t                    object = stack.pop();\n\n\t                    if (object === null || object === undefined) {\n\t                        if (that.options.strict_variables) {\n\t                            throw new Twig.Error(\"Can't access a key \" + key + \" on an null or undefined object.\");\n\t                        } else {\n\t                            return null;\n\t                        }\n\t                    }\n\n\t                    // Get the variable from the context\n\t                    if (typeof object === 'object' && key in object) {\n\t                        value = object[key];\n\t                    } else {\n\t                        value = null;\n\t                    }\n\n\t                    // When resolving an expression we need to pass next_token in case the expression is a function\n\t                    return Twig.expression.resolveAsync.apply(that, [value, object, params, next_token]);\n\t                })\n\t                .then(function(result) {\n\t                    stack.push(result);\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Match a null value.\n\t             */\n\t            type: Twig.expression.type._null,\n\t            // match a number\n\t            regex: /^(null|NULL|none|NONE)/,\n\t            next: Twig.expression.set.operations,\n\t            compile: function(token, stack, output) {\n\t                delete token.match;\n\t                token.value = null;\n\t                output.push(token);\n\t            },\n\t            parse: Twig.expression.fn.parse.push_value\n\t        },\n\t        {\n\t            /**\n\t             * Match the context\n\t             */\n\t            type: Twig.expression.type.context,\n\t            regex: /^_context/,\n\t            next: Twig.expression.set.operations_extended.concat([\n\t                    Twig.expression.type.parameter.start]),\n\t            compile: Twig.expression.fn.compile.push,\n\t            parse: function(token, stack, context) {\n\t                stack.push(context);\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Match a boolean\n\t             */\n\t            type: Twig.expression.type.bool,\n\t            regex: /^(true|TRUE|false|FALSE)/,\n\t            next: Twig.expression.set.operations,\n\t            compile: function(token, stack, output) {\n\t                token.value = (token.match[0].toLowerCase( ) === \"true\");\n\t                delete token.match;\n\t                output.push(token);\n\t            },\n\t            parse: Twig.expression.fn.parse.push_value\n\t        }\n\t    ];\n\n\t    /**\n\t     * Resolve a context value.\n\t     *\n\t     * If the value is a function, it is executed with a context parameter.\n\t     *\n\t     * @param {string} key The context object key.\n\t     * @param {Object} context The render context.\n\t     */\n\t    Twig.expression.resolveAsync = function(value, context, params, next_token, object) {\n\t        if (typeof value == 'function') {\n\t            var promise = Twig.Promise.resolve(params);\n\n\t            /*\n\t            If value is a function, it will have been impossible during the compile stage to determine that a following\n\t            set of parentheses were parameters for this function.\n\n\t            Those parentheses will have therefore been marked as an expression, with their own parameters, which really\n\t            belong to this function.\n\n\t            Those parameters will also need parsing in case they are actually an expression to pass as parameters.\n\t             */\n\t            if (next_token && next_token.type === Twig.expression.type.parameter.end) {\n\t                //When parsing these parameters, we need to get them all back, not just the last item on the stack.\n\t                var tokens_are_parameters = true;\n\n\t                promise = promise.then(function() {\n\t                    return next_token.params && Twig.expression.parseAsync.apply(this, [next_token.params, context, tokens_are_parameters]);\n\t                })\n\t                .then(function(p) {\n\t                    //Clean up the parentheses tokens on the next loop\n\t                    next_token.cleanup = true;\n\n\t                    return p;\n\t                });\n\t            }\n\n\t            return promise.then(function(params) {\n\t                return value.apply(object || context, params || []);\n\t            });\n\t        } else {\n\t            return Twig.Promise.resolve(value);\n\t        }\n\t    };\n\n\t    Twig.expression.resolve = function(value, context, params, next_token, object) {\n\t        var is_async = true,\n\t            result;\n\n\t        Twig.expression.resolveAsync.apply(this, [value, context, params, next_token, object])\n\t        .then(function(r) {\n\t            is_async = false;\n\t            result = r;\n\t        });\n\n\t        if (is_async)\n\t            throw new Twig.Error('You are using Twig.js in sync mode in combination with async extensions.');\n\n\t        return result;\n\t    }\n\n\t    /**\n\t     * Registry for logic handlers.\n\t     */\n\t    Twig.expression.handler = {};\n\n\t    /**\n\t     * Define a new expression type, available at Twig.logic.type.{type}\n\t     *\n\t     * @param {string} type The name of the new type.\n\t     */\n\t    Twig.expression.extendType = function (type) {\n\t        Twig.expression.type[type] = \"Twig.expression.type.\" + type;\n\t    };\n\n\t    /**\n\t     * Extend the expression parsing functionality with a new definition.\n\t     *\n\t     * Token definitions follow this format:\n\t     *  {\n\t     *      type:     One of Twig.expression.type.[type], either pre-defined or added using\n\t     *                    Twig.expression.extendType\n\t     *\n\t     *      next:     Array of types from Twig.expression.type that can follow this token,\n\t     *\n\t     *      regex:    A regex or array of regex's that should match the token.\n\t     *\n\t     *      compile: function(token, stack, output) called when this token is being compiled.\n\t     *                   Should return an object with stack and output set.\n\t     *\n\t     *      parse:   function(token, stack, context) called when this token is being parsed.\n\t     *                   Should return an object with stack and context set.\n\t     *  }\n\t     *\n\t     * @param {Object} definition A token definition.\n\t     */\n\t    Twig.expression.extend = function (definition) {\n\t        if (!definition.type) {\n\t            throw new Twig.Error(\"Unable to extend logic definition. No type provided for \" + definition);\n\t        }\n\t        Twig.expression.handler[definition.type] = definition;\n\t    };\n\n\t    // Extend with built-in expressions\n\t    while (Twig.expression.definitions.length > 0) {\n\t        Twig.expression.extend(Twig.expression.definitions.shift());\n\t    }\n\n\t    /**\n\t     * Break an expression into tokens defined in Twig.expression.definitions.\n\t     *\n\t     * @param {string} expression The string to tokenize.\n\t     *\n\t     * @return {Array} An array of tokens.\n\t     */\n\t    Twig.expression.tokenize = function (expression) {\n\t        var tokens = [],\n\t            // Keep an offset of the location in the expression for error messages.\n\t            exp_offset = 0,\n\t            // The valid next tokens of the previous token\n\t            next = null,\n\t            // Match information\n\t            type, regex, regex_array,\n\t            // The possible next token for the match\n\t            token_next,\n\t            // Has a match been found from the definitions\n\t            match_found, invalid_matches = [], match_function;\n\n\t        match_function = function () {\n\t            var match = Array.prototype.slice.apply(arguments),\n\t                string = match.pop(),\n\t                offset = match.pop();\n\n\t            Twig.log.trace(\"Twig.expression.tokenize\",\n\t                           \"Matched a \", type, \" regular expression of \", match);\n\n\t            if (next && Twig.indexOf(next, type) < 0) {\n\t                invalid_matches.push(\n\t                    type + \" cannot follow a \" + tokens[tokens.length - 1].type +\n\t                           \" at template:\" + exp_offset + \" near '\" + match[0].substring(0, 20) +\n\t                           \"...'\"\n\t                );\n\t                // Not a match, don't change the expression\n\t                return match[0];\n\t            }\n\n\t            // Validate the token if a validation function is provided\n\t            if (Twig.expression.handler[type].validate &&\n\t                    !Twig.expression.handler[type].validate(match, tokens)) {\n\t                return match[0];\n\t            }\n\n\t            invalid_matches = [];\n\n\t            tokens.push({\n\t                type:  type,\n\t                value: match[0],\n\t                match: match\n\t            });\n\n\t            match_found = true;\n\t            next = token_next;\n\t            exp_offset += match[0].length;\n\n\t            // Does the token need to return output back to the expression string\n\t            // e.g. a function match of cycle( might return the '(' back to the expression\n\t            // This allows look-ahead to differentiate between token types (e.g. functions and variable names)\n\t            if (Twig.expression.handler[type].transform) {\n\t                return Twig.expression.handler[type].transform(match, tokens);\n\t            }\n\t            return '';\n\t        };\n\n\t        Twig.log.debug(\"Twig.expression.tokenize\", \"Tokenizing expression \", expression);\n\n\t        while (expression.length > 0) {\n\t            expression = expression.trim();\n\t            for (type in Twig.expression.handler) {\n\t                if (Twig.expression.handler.hasOwnProperty(type)) {\n\t                    token_next = Twig.expression.handler[type].next;\n\t                    regex = Twig.expression.handler[type].regex;\n\t                    Twig.log.trace(\"Checking type \", type, \" on \", expression);\n\t                    if (regex instanceof Array) {\n\t                        regex_array = regex;\n\t                    } else {\n\t                        regex_array = [regex];\n\t                    }\n\n\t                    match_found = false;\n\t                    while (regex_array.length > 0) {\n\t                        regex = regex_array.pop();\n\t                        expression = expression.replace(regex, match_function);\n\t                    }\n\t                    // An expression token has been matched. Break the for loop and start trying to\n\t                    //  match the next template (if expression isn't empty.)\n\t                    if (match_found) {\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t            if (!match_found) {\n\t                if (invalid_matches.length > 0) {\n\t                    throw new Twig.Error(invalid_matches.join(\" OR \"));\n\t                } else {\n\t                    throw new Twig.Error(\"Unable to parse '\" + expression + \"' at template position\" + exp_offset);\n\t                }\n\t            }\n\t        }\n\n\t        Twig.log.trace(\"Twig.expression.tokenize\", \"Tokenized to \", tokens);\n\t        return tokens;\n\t    };\n\n\t    /**\n\t     * Compile an expression token.\n\t     *\n\t     * @param {Object} raw_token The uncompiled token.\n\t     *\n\t     * @return {Object} The compiled token.\n\t     */\n\t    Twig.expression.compile = function (raw_token) {\n\t        var expression = raw_token.value,\n\t            // Tokenize expression\n\t            tokens = Twig.expression.tokenize(expression),\n\t            token = null,\n\t            output = [],\n\t            stack = [],\n\t            token_template = null;\n\n\t        Twig.log.trace(\"Twig.expression.compile: \", \"Compiling \", expression);\n\n\t        // Push tokens into RPN stack using the Shunting-yard algorithm\n\t        // See http://en.wikipedia.org/wiki/Shunting_yard_algorithm\n\n\t        while (tokens.length > 0) {\n\t            token = tokens.shift();\n\t            token_template = Twig.expression.handler[token.type];\n\n\t            Twig.log.trace(\"Twig.expression.compile: \", \"Compiling \", token);\n\n\t            // Compile the template\n\t            token_template.compile && token_template.compile(token, stack, output);\n\n\t            Twig.log.trace(\"Twig.expression.compile: \", \"Stack is\", stack);\n\t            Twig.log.trace(\"Twig.expression.compile: \", \"Output is\", output);\n\t        }\n\n\t        while(stack.length > 0) {\n\t            output.push(stack.pop());\n\t        }\n\n\t        Twig.log.trace(\"Twig.expression.compile: \", \"Final output is\", output);\n\n\t        raw_token.stack = output;\n\t        delete raw_token.value;\n\n\t        return raw_token;\n\t    };\n\n\n\t    /**\n\t     * Parse an RPN expression stack within a context.\n\t     *\n\t     * @param {Array} tokens An array of compiled expression tokens.\n\t     * @param {Object} context The render context to parse the tokens with.\n\t     *\n\t     * @return {Object} The result of parsing all the tokens. The result\n\t     *                  can be anything, String, Array, Object, etc... based on\n\t     *                  the given expression.\n\t     */\n\t    Twig.expression.parse = function (tokens, context, tokens_are_parameters, allow_async) {\n\t        var that = this;\n\n\t        // If the token isn't an array, make it one.\n\t        if (!(tokens instanceof Array)) {\n\t            tokens = [tokens];\n\t        }\n\n\t        // The output stack\n\t        var stack = [],\n\t            next_token,\n\t            output = null,\n\t            promise = null,\n\t            is_async = true,\n\t            token_template = null,\n\t            loop_token_fixups = [];\n\n\t        promise = Twig.async.forEach(tokens, function (token, index) {\n\t            //If the token is marked for cleanup, we don't need to parse it\n\t            if (token.cleanup) {\n\t                return;\n\t            }\n\n\t            var result = null;\n\n\t            //Determine the token that follows this one so that we can pass it to the parser\n\t            if (tokens.length > index + 1) {\n\t                next_token = tokens[index + 1];\n\t            }\n\n\t            token_template = Twig.expression.handler[token.type];\n\n\t            if (token_template.parse)\n\t                result = token_template.parse.apply(that, [token, stack, context, next_token]);\n\n\t            //Store any binary tokens for later if we are in a loop.\n\t            if (context.loop && token.type === Twig.expression.type.operator.binary) {\n\t                loop_token_fixups.push(token);\n\t            }\n\n\t            return result;\n\t        })\n\t        .then(function() {\n\t            //Check every fixup and remove \"key\" as long as they still have \"params\". This covers the use case where\n\t            //a \":\" operator is used in a loop with a \"(expression):\" statement. We need to be able to evaluate the expression\n\t            Twig.forEach(loop_token_fixups, function (loop_token_fixup) {\n\t                if (loop_token_fixup.params && loop_token_fixup.key) {\n\t                    delete loop_token_fixup[\"key\"];\n\t                }\n\t            });\n\n\t            //If parse has been called with a set of tokens that are parameters, we need to return the whole stack,\n\t            //wrapped in an Array.\n\t            if (tokens_are_parameters) {\n\t                var params = [];\n\t                while (stack.length > 0) {\n\t                    params.unshift(stack.pop());\n\t                }\n\n\t                stack.push(params);\n\t            }\n\n\t            if (allow_async)\n\t                return Twig.Promise.resolve(stack.pop());\n\t        })\n\t        .then(function(v) {\n\t            is_async = false;\n\t            return v;\n\t        });\n\n\t        if (allow_async)\n\t            return promise;\n\n\t        if (is_async)\n\t            throw new Twig.Error('You are using Twig.js in sync mode in combination with async extensions.');\n\n\t        // Pop the final value off the stack\n\t        return stack.pop();\n\t    };\n\n\t    return Twig;\n\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t// ## twig.expression.operator.js\n\t//\n\t// This file handles operator lookups and parsing.\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\n\t    /**\n\t     * Operator associativity constants.\n\t     */\n\t    Twig.expression.operator = {\n\t        leftToRight: 'leftToRight',\n\t        rightToLeft: 'rightToLeft'\n\t    };\n\n\t    var containment = function(a, b) {\n\t        if (b === undefined || b === null) {\n\t            return null;\n\t        } else if (b.indexOf !== undefined) {\n\t            // String\n\t            return a === b || a !== '' && b.indexOf(a) > -1;\n\t        } else {\n\t            var el;\n\t            for (el in b) {\n\t                if (b.hasOwnProperty(el) && b[el] === a) {\n\t                    return true;\n\t                }\n\t            }\n\t            return false;\n\t        }\n\t    };\n\n\t    /**\n\t     * Get the precidence and associativity of an operator. These follow the order that C/C++ use.\n\t     * See http://en.wikipedia.org/wiki/Operators_in_C_and_C++ for the table of values.\n\t     */\n\t    Twig.expression.operator.lookup = function (operator, token) {\n\t        switch (operator) {\n\t            case \"..\":\n\t                token.precidence = 20;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case ',':\n\t                token.precidence = 18;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            // Ternary\n\t            case '?:':\n\t            case '?':\n\t            case ':':\n\t                token.precidence = 16;\n\t                token.associativity = Twig.expression.operator.rightToLeft;\n\t                break;\n\n\t            case 'or':\n\t                token.precidence = 14;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case 'and':\n\t                token.precidence = 13;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case 'b-or':\n\t                token.precidence = 12;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case 'b-xor':\n\t                token.precidence = 11;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case 'b-and':\n\t                token.precidence = 10;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case '==':\n\t            case '!=':\n\t                token.precidence = 9;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case '<':\n\t            case '<=':\n\t            case '>':\n\t            case '>=':\n\t            case 'not in':\n\t            case 'in':\n\t                token.precidence = 8;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case '~': // String concatination\n\t            case '+':\n\t            case '-':\n\t                token.precidence = 6;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case '//':\n\t            case '**':\n\t            case '*':\n\t            case '/':\n\t            case '%':\n\t                token.precidence = 5;\n\t                token.associativity = Twig.expression.operator.leftToRight;\n\t                break;\n\n\t            case 'not':\n\t                token.precidence = 3;\n\t                token.associativity = Twig.expression.operator.rightToLeft;\n\t                break;\n\n\t            default:\n\t                throw new Twig.Error(\"Failed to lookup operator: \" + operator + \" is an unknown operator.\");\n\t        }\n\t        token.operator = operator;\n\t        return token;\n\t    };\n\n\t    /**\n\t     * Handle operations on the RPN stack.\n\t     *\n\t     * Returns the updated stack.\n\t     */\n\t    Twig.expression.operator.parse = function (operator, stack) {\n\t        Twig.log.trace(\"Twig.expression.operator.parse: \", \"Handling \", operator);\n\t        var a, b, c;\n\n\t        if (operator === '?') {\n\t            c = stack.pop();\n\t        }\n\n\t        b = stack.pop();\n\t        if (operator !== 'not') {\n\t            a = stack.pop();\n\t        }\n\n\t        if (operator !== 'in' && operator !== 'not in') {\n\t            if (a && Array.isArray(a)) {\n\t                a = a.length;\n\t            }\n\n\t            if (b && Array.isArray(b)) {\n\t                b = b.length;\n\t            }\n\t        }\n\n\t        switch (operator) {\n\t            case ':':\n\t                // Ignore\n\t                break;\n\n\t            case '?:':\n\t                if (Twig.lib.boolval(a)) {\n\t                    stack.push(a);\n\t                } else {\n\t                    stack.push(b);\n\t                }\n\t                break;\n\t            case '?':\n\t                if (a === undefined) {\n\t                    //An extended ternary.\n\t                    a = b;\n\t                    b = c;\n\t                    c = undefined;\n\t                }\n\n\t                if (Twig.lib.boolval(a)) {\n\t                    stack.push(b);\n\t                } else {\n\t                    stack.push(c);\n\t                }\n\t                break;\n\n\t            case '+':\n\t                b = parseFloat(b);\n\t                a = parseFloat(a);\n\t                stack.push(a + b);\n\t                break;\n\n\t            case '-':\n\t                b = parseFloat(b);\n\t                a = parseFloat(a);\n\t                stack.push(a - b);\n\t                break;\n\n\t            case '*':\n\t                b = parseFloat(b);\n\t                a = parseFloat(a);\n\t                stack.push(a * b);\n\t                break;\n\n\t            case '/':\n\t                b = parseFloat(b);\n\t                a = parseFloat(a);\n\t                stack.push(a / b);\n\t                break;\n\n\t            case '//':\n\t                b = parseFloat(b);\n\t                a = parseFloat(a);\n\t                stack.push(Math.floor(a / b));\n\t                break;\n\n\t            case '%':\n\t                b = parseFloat(b);\n\t                a = parseFloat(a);\n\t                stack.push(a % b);\n\t                break;\n\n\t            case '~':\n\t                stack.push( (a != null ? a.toString() : \"\")\n\t                          + (b != null ? b.toString() : \"\") );\n\t                break;\n\n\t            case 'not':\n\t            case '!':\n\t                stack.push(!Twig.lib.boolval(b));\n\t                break;\n\n\t            case '<':\n\t                stack.push(a < b);\n\t                break;\n\n\t            case '<=':\n\t                stack.push(a <= b);\n\t                break;\n\n\t            case '>':\n\t                stack.push(a > b);\n\t                break;\n\n\t            case '>=':\n\t                stack.push(a >= b);\n\t                break;\n\n\t            case '===':\n\t                stack.push(a === b);\n\t                break;\n\n\t            case '==':\n\t                stack.push(a == b);\n\t                break;\n\n\t            case '!==':\n\t                stack.push(a !== b);\n\t                break;\n\n\t            case '!=':\n\t                stack.push(a != b);\n\t                break;\n\n\t            case 'or':\n\t                stack.push(a || b);\n\t                break;\n\n\t            case 'b-or':\n\t                stack.push(a | b);\n\t                break;\n\n\t            case 'b-xor':\n\t                stack.push(a ^ b);\n\t                break;\n\n\t            case 'and':\n\t                stack.push(a && b);\n\t                break;\n\n\t            case 'b-and':\n\t                stack.push(a & b);\n\t                break;\n\n\t            case '**':\n\t                stack.push(Math.pow(a, b));\n\t                break;\n\n\t            case 'not in':\n\t                stack.push( !containment(a, b) );\n\t                break;\n\n\t            case 'in':\n\t                stack.push( containment(a, b) );\n\t                break;\n\n\t            case '..':\n\t                stack.push( Twig.functions.range(a, b) );\n\t                break;\n\n\t            default:\n\t                debugger;\n\t                throw new Twig.Error(\"Failed to parse operator: \" + operator + \" is an unknown operator.\");\n\t        }\n\t    };\n\n\t    return Twig;\n\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t// ## twig.filters.js\n\t//\n\t// This file handles parsing filters.\n\tmodule.exports = function (Twig) {\n\n\t    // Determine object type\n\t    function is(type, obj) {\n\t        var clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t        return obj !== undefined && obj !== null && clas === type;\n\t    }\n\n\t    Twig.filters = {\n\t        // String Filters\n\t        upper:  function(value) {\n\t            if ( typeof value !== \"string\" ) {\n\t               return value;\n\t            }\n\n\t            return value.toUpperCase();\n\t        },\n\t        lower: function(value) {\n\t            if ( typeof value !== \"string\" ) {\n\t               return value;\n\t            }\n\n\t            return value.toLowerCase();\n\t        },\n\t        capitalize: function(value) {\n\t            if ( typeof value !== \"string\" ) {\n\t                 return value;\n\t            }\n\n\t            return value.substr(0, 1).toUpperCase() + value.toLowerCase().substr(1);\n\t        },\n\t        title: function(value) {\n\t            if ( typeof value !== \"string\" ) {\n\t               return value;\n\t            }\n\n\t            return value.toLowerCase().replace( /(^|\\s)([a-z])/g , function(m, p1, p2){\n\t                return p1 + p2.toUpperCase();\n\t            });\n\t        },\n\t        length: function(value) {\n\t            if (Twig.lib.is(\"Array\", value) || typeof value === \"string\") {\n\t                return value.length;\n\t            } else if (Twig.lib.is(\"Object\", value)) {\n\t                if (value._keys === undefined) {\n\t                    return Object.keys(value).length;\n\t                } else {\n\t                    return value._keys.length;\n\t                }\n\t            } else {\n\t                return 0;\n\t            }\n\t        },\n\n\t        // Array/Object Filters\n\t        reverse: function(value) {\n\t            if (is(\"Array\", value)) {\n\t                return value.reverse();\n\t            } else if (is(\"String\", value)) {\n\t                return value.split(\"\").reverse().join(\"\");\n\t            } else if (is(\"Object\", value)) {\n\t                var keys = value._keys || Object.keys(value).reverse();\n\t                value._keys = keys;\n\t                return value;\n\t            }\n\t        },\n\t        sort: function(value) {\n\t            if (is(\"Array\", value)) {\n\t                return value.sort();\n\t            } else if (is('Object', value)) {\n\t                // Sorting objects isn't obvious since the order of\n\t                // returned keys isn't guaranteed in JavaScript.\n\t                // Because of this we use a \"hidden\" key called _keys to\n\t                // store the keys in the order we want to return them.\n\n\t                delete value._keys;\n\t                var keys = Object.keys(value),\n\t                    sorted_keys = keys.sort(function(a, b) {\n\t                        var a1, a2;\n\n\t                        // if a and b are comparable, we're fine :-)\n\t                        if((value[a] > value[b]) == !(value[a] <= value[b])) {\n\t                            return value[a] > value[b] ? 1 :\n\t\t\t\t           value[a] < value[b] ? -1 :\n\t\t\t\t\t   0;\n\t                        }\n\t                        // if a and b can be parsed as numbers, we can compare\n\t                        // their numeric value\n\t                        else if(!isNaN(a1 = parseFloat(value[a])) &&\n\t                                !isNaN(b1 = parseFloat(value[b]))) {\n\t                            return a1 > b1 ? 1 :\n\t\t\t\t           a1 < b1 ? -1 :\n\t\t\t\t\t   0;\n\t                        }\n\t                        // if one of the values is a string, we convert the\n\t                        // other value to string as well\n\t                        else if(typeof value[a] == 'string') {\n\t                            return value[a] > value[b].toString() ? 1 :\n\t                                   value[a] < value[b].toString() ? -1 :\n\t\t\t\t\t   0;\n\t                        }\n\t                        else if(typeof value[b] == 'string') {\n\t                            return value[a].toString() > value[b] ? 1 :\n\t                                   value[a].toString() < value[b] ? -1 :\n\t\t\t\t\t   0;\n\t                        }\n\t                        // everything failed - return 'null' as sign, that\n\t                        // the values are not comparable\n\t                        else {\n\t                            return null;\n\t                        }\n\t                    });\n\t                value._keys = sorted_keys;\n\t                return value;\n\t            }\n\t        },\n\t        keys: function(value) {\n\t            if (value === undefined || value === null){\n\t                return;\n\t           }\n\n\t            var keyset = value._keys || Object.keys(value),\n\t                output = [];\n\n\t            Twig.forEach(keyset, function(key) {\n\t                if (key === \"_keys\") return; // Ignore the _keys property\n\t                if (value.hasOwnProperty(key)) {\n\t                    output.push(key);\n\t                }\n\t            });\n\t            return output;\n\t        },\n\t        url_encode: function(value) {\n\t            if (value === undefined || value === null){\n\t                return;\n\t            }\n\n\t            var result = encodeURIComponent(value);\n\t            result = result.replace(\"'\", \"%27\");\n\t            return result;\n\t        },\n\t        join: function(value, params) {\n\t            if (value === undefined || value === null){\n\t                return;\n\t            }\n\n\t            var join_str = \"\",\n\t                output = [],\n\t                keyset = null;\n\n\t            if (params && params[0]) {\n\t                join_str = params[0];\n\t            }\n\t            if (is(\"Array\", value)) {\n\t                output = value;\n\t            } else {\n\t                keyset = value._keys || Object.keys(value);\n\t                Twig.forEach(keyset, function(key) {\n\t                    if (key === \"_keys\") return; // Ignore the _keys property\n\t                    if (value.hasOwnProperty(key)) {\n\t                        output.push(value[key]);\n\t                    }\n\t                });\n\t            }\n\t            return output.join(join_str);\n\t        },\n\t        \"default\": function(value, params) {\n\t            if (params !== undefined && params.length > 1) {\n\t                throw new Twig.Error(\"default filter expects one argument\");\n\t            }\n\t            if (value === undefined || value === null || value === '' ) {\n\t                if (params === undefined) {\n\t                    return '';\n\t                }\n\n\t                return params[0];\n\t            } else {\n\t                return value;\n\t            }\n\t        },\n\t        json_encode: function(value) {\n\t            if(value === undefined || value === null) {\n\t                return \"null\";\n\t            }\n\t            else if ((typeof value == 'object') && (is(\"Array\", value))) {\n\t                output = [];\n\n\t                Twig.forEach(value, function(v) {\n\t                    output.push(Twig.filters.json_encode(v));\n\t                });\n\n\t                return \"[\" + output.join(\",\") + \"]\";\n\t            }\n\t            else if (typeof value == 'object') {\n\t                var keyset = value._keys || Object.keys(value),\n\t                output = [];\n\n\t                Twig.forEach(keyset, function(key) {\n\t                    output.push(JSON.stringify(key) + \":\" + Twig.filters.json_encode(value[key]));\n\t                });\n\n\t                return \"{\" + output.join(\",\") + \"}\";\n\t            }\n\t            else {\n\t                return JSON.stringify(value);\n\t            }\n\t        },\n\t        merge: function(value, params) {\n\t            var obj = [],\n\t                arr_index = 0,\n\t                keyset = [];\n\n\t            // Check to see if all the objects being merged are arrays\n\t            if (!is(\"Array\", value)) {\n\t                // Create obj as an Object\n\t                obj = { };\n\t            } else {\n\t                Twig.forEach(params, function(param) {\n\t                    if (!is(\"Array\", param)) {\n\t                        obj = { };\n\t                    }\n\t                });\n\t            }\n\t            if (!is(\"Array\", obj)) {\n\t                obj._keys = [];\n\t            }\n\n\t            if (is(\"Array\", value)) {\n\t                Twig.forEach(value, function(val) {\n\t                    if (obj._keys) obj._keys.push(arr_index);\n\t                    obj[arr_index] = val;\n\t                    arr_index++;\n\t                });\n\t            } else {\n\t                keyset = value._keys || Object.keys(value);\n\t                Twig.forEach(keyset, function(key) {\n\t                    obj[key] = value[key];\n\t                    obj._keys.push(key);\n\n\t                    // Handle edge case where a number index in an object is greater than\n\t                    //   the array counter. In such a case, the array counter is increased\n\t                    //   one past the index.\n\t                    //\n\t                    // Example {{ [\"a\", \"b\"]|merge({\"4\":\"value\"}, [\"c\", \"d\"])\n\t                    // Without this, d would have an index of \"4\" and overwrite the value\n\t                    //   of \"value\"\n\t                    var int_key = parseInt(key, 10);\n\t                    if (!isNaN(int_key) && int_key >= arr_index) {\n\t                        arr_index = int_key + 1;\n\t                    }\n\t                });\n\t            }\n\n\t            // mixin the merge arrays\n\t            Twig.forEach(params, function(param) {\n\t                if (is(\"Array\", param)) {\n\t                    Twig.forEach(param, function(val) {\n\t                        if (obj._keys) obj._keys.push(arr_index);\n\t                        obj[arr_index] = val;\n\t                        arr_index++;\n\t                    });\n\t                } else {\n\t                    keyset = param._keys || Object.keys(param);\n\t                    Twig.forEach(keyset, function(key) {\n\t                        if (!obj[key]) obj._keys.push(key);\n\t                        obj[key] = param[key];\n\n\t                        var int_key = parseInt(key, 10);\n\t                        if (!isNaN(int_key) && int_key >= arr_index) {\n\t                            arr_index = int_key + 1;\n\t                        }\n\t                    });\n\t                }\n\t            });\n\t            if (params.length === 0) {\n\t                throw new Twig.Error(\"Filter merge expects at least one parameter\");\n\t            }\n\n\t            return obj;\n\t        },\n\t        date: function(value, params) {\n\t            var date = Twig.functions.date(value);\n\t            var format = params && params.length ? params[0] : 'F j, Y H:i';\n\t            return Twig.lib.date(format, date);\n\t        },\n\n\t        date_modify: function(value, params) {\n\t            if (value === undefined || value === null) {\n\t                return;\n\t            }\n\t            if (params === undefined || params.length !== 1) {\n\t                throw new Twig.Error(\"date_modify filter expects 1 argument\");\n\t            }\n\n\t            var modifyText = params[0], time;\n\n\t            if (Twig.lib.is(\"Date\", value)) {\n\t                time = Twig.lib.strtotime(modifyText, value.getTime() / 1000);\n\t            }\n\t            if (Twig.lib.is(\"String\", value)) {\n\t                time = Twig.lib.strtotime(modifyText, Twig.lib.strtotime(value));\n\t            }\n\t            if (Twig.lib.is(\"Number\", value)) {\n\t                time = Twig.lib.strtotime(modifyText, value);\n\t            }\n\n\t            return new Date(time * 1000);\n\t        },\n\n\t        replace: function(value, params) {\n\t            if (value === undefined||value === null){\n\t                return;\n\t            }\n\n\t            var pairs = params[0],\n\t                tag;\n\t            for (tag in pairs) {\n\t                if (pairs.hasOwnProperty(tag) && tag !== \"_keys\") {\n\t                    value = Twig.lib.replaceAll(value, tag, pairs[tag]);\n\t                }\n\t            }\n\t            return value;\n\t        },\n\n\t        format: function(value, params) {\n\t            if (value === undefined || value === null){\n\t                return;\n\t            }\n\n\t            return Twig.lib.vsprintf(value, params);\n\t        },\n\n\t        striptags: function(value) {\n\t            if (value === undefined || value === null){\n\t                return;\n\t            }\n\n\t            return Twig.lib.strip_tags(value);\n\t        },\n\n\t        escape: function(value, params) {\n\t            if (value === undefined|| value === null){\n\t                return;\n\t            }\n\n\t            var strategy = \"html\";\n\t            if(params && params.length && params[0] !== true)\n\t                strategy = params[0];\n\n\t            if(strategy == \"html\") {\n\t                var raw_value = value.toString().replace(/&/g, \"&amp;\")\n\t                            .replace(/</g, \"&lt;\")\n\t                            .replace(/>/g, \"&gt;\")\n\t                            .replace(/\"/g, \"&quot;\")\n\t                            .replace(/'/g, \"&#039;\");\n\t                return Twig.Markup(raw_value, 'html');\n\t            } else if(strategy == \"js\") {\n\t                var raw_value = value.toString();\n\t                var result = \"\";\n\n\t                for(var i = 0; i < raw_value.length; i++) {\n\t                    if(raw_value[i].match(/^[a-zA-Z0-9,\\._]$/))\n\t                        result += raw_value[i];\n\t                    else {\n\t                        var char_code = raw_value.charCodeAt(i);\n\n\t                        if(char_code < 0x80)\n\t                            result += \"\\\\x\" + char_code.toString(16).toUpperCase();\n\t                        else\n\t                            result += Twig.lib.sprintf(\"\\\\u%04s\", char_code.toString(16).toUpperCase());\n\t                    }\n\t                }\n\n\t                return Twig.Markup(result, 'js');\n\t            } else if(strategy == \"css\") {\n\t                var raw_value = value.toString();\n\t                var result = \"\";\n\n\t                for(var i = 0; i < raw_value.length; i++) {\n\t                    if(raw_value[i].match(/^[a-zA-Z0-9]$/))\n\t                        result += raw_value[i];\n\t                    else {\n\t                        var char_code = raw_value.charCodeAt(i);\n\t                        result += \"\\\\\" + char_code.toString(16).toUpperCase() + \" \";\n\t                    }\n\t                }\n\n\t                return Twig.Markup(result, 'css');\n\t            } else if(strategy == \"url\") {\n\t                var result = Twig.filters.url_encode(value);\n\t                return Twig.Markup(result, 'url');\n\t            } else if(strategy == \"html_attr\") {\n\t                var raw_value = value.toString();\n\t                var result = \"\";\n\n\t                for(var i = 0; i < raw_value.length; i++) {\n\t                    if(raw_value[i].match(/^[a-zA-Z0-9,\\.\\-_]$/))\n\t                        result += raw_value[i];\n\t                    else if(raw_value[i].match(/^[&<>\"]$/))\n\t                        result += raw_value[i].replace(/&/g, \"&amp;\")\n\t                                .replace(/</g, \"&lt;\")\n\t                                .replace(/>/g, \"&gt;\")\n\t                                .replace(/\"/g, \"&quot;\");\n\t                    else {\n\t                        var char_code = raw_value.charCodeAt(i);\n\n\t                        // The following replaces characters undefined in HTML with\n\t                        // the hex entity for the Unicode replacement character.\n\t                        if(char_code <= 0x1f && char_code != 0x09 && char_code != 0x0a && char_code != 0x0d)\n\t                            result += \"&#xFFFD;\";\n\t                        else if(char_code < 0x80)\n\t                            result += Twig.lib.sprintf(\"&#x%02s;\", char_code.toString(16).toUpperCase());\n\t                        else\n\t                            result += Twig.lib.sprintf(\"&#x%04s;\", char_code.toString(16).toUpperCase());\n\t                    }\n\t                }\n\n\t                return Twig.Markup(result, 'html_attr');\n\t            } else {\n\t                throw new Twig.Error(\"escape strategy unsupported\");\n\t            }\n\t        },\n\n\t        /* Alias of escape */\n\t        \"e\": function(value, params) {\n\t            return Twig.filters.escape(value, params);\n\t        },\n\n\t        nl2br: function(value) {\n\t            if (value === undefined || value === null){\n\t                return;\n\t            }\n\t            var linebreak_tag = \"BACKSLASH_n_replace\",\n\t                br = \"<br />\" + linebreak_tag;\n\n\t            value = Twig.filters.escape(value)\n\t                        .replace(/\\r\\n/g, br)\n\t                        .replace(/\\r/g, br)\n\t                        .replace(/\\n/g, br);\n\n\t            value = Twig.lib.replaceAll(value, linebreak_tag, \"\\n\");\n\n\t            return Twig.Markup(value);\n\t        },\n\n\t        /**\n\t         * Adapted from: http://phpjs.org/functions/number_format:481\n\t         */\n\t        number_format: function(value, params) {\n\t            var number = value,\n\t                decimals = (params && params[0]) ? params[0] : undefined,\n\t                dec      = (params && params[1] !== undefined) ? params[1] : \".\",\n\t                sep      = (params && params[2] !== undefined) ? params[2] : \",\";\n\n\t            number = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\n\t            var n = !isFinite(+number) ? 0 : +number,\n\t                prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\n\t                s = '',\n\t                toFixedFix = function (n, prec) {\n\t                    var k = Math.pow(10, prec);\n\t                    return '' + Math.round(n * k) / k;\n\t                };\n\t            // Fix for IE parseFloat(0.55).toFixed(0) = 0;\n\t            s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\n\t            if (s[0].length > 3) {\n\t                s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n\t            }\n\t            if ((s[1] || '').length < prec) {\n\t                s[1] = s[1] || '';\n\t                s[1] += new Array(prec - s[1].length + 1).join('0');\n\t            }\n\t            return s.join(dec);\n\t        },\n\n\t        trim: function(value, params) {\n\t            if (value === undefined|| value === null){\n\t                return;\n\t            }\n\n\t            var str = Twig.filters.escape( '' + value ),\n\t                whitespace;\n\t            if ( params && params[0] ) {\n\t                whitespace = '' + params[0];\n\t            } else {\n\t                whitespace = ' \\n\\r\\t\\f\\x0b\\xa0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u200b\\u2028\\u2029\\u3000';\n\t            }\n\t            for (var i = 0; i < str.length; i++) {\n\t                if (whitespace.indexOf(str.charAt(i)) === -1) {\n\t                    str = str.substring(i);\n\t                    break;\n\t                }\n\t            }\n\t            for (i = str.length - 1; i >= 0; i--) {\n\t                if (whitespace.indexOf(str.charAt(i)) === -1) {\n\t                    str = str.substring(0, i + 1);\n\t                    break;\n\t                }\n\t            }\n\t            return whitespace.indexOf(str.charAt(0)) === -1 ? str : '';\n\t        },\n\n\t        truncate: function (value, params) {\n\t            var length = 30,\n\t                preserve = false,\n\t                separator = '...';\n\n\t            value =  value + '';\n\t            if (params) {\n\t                if (params[0]) {\n\t                    length = params[0];\n\t                }\n\t                if (params[1]) {\n\t                    preserve = params[1];\n\t                }\n\t                if (params[2]) {\n\t                    separator = params[2];\n\t                }\n\t            }\n\n\t            if (value.length > length) {\n\n\t                if (preserve) {\n\t                    length = value.indexOf(' ', length);\n\t                    if (length === -1) {\n\t                        return value;\n\t                    }\n\t                }\n\n\t                value =  value.substr(0, length) + separator;\n\t            }\n\n\t            return value;\n\t        },\n\n\t        slice: function(value, params) {\n\t            if (value === undefined || value === null) {\n\t                return;\n\t            }\n\t            if (params === undefined || params.length < 1) {\n\t                throw new Twig.Error(\"slice filter expects at least 1 argument\");\n\t            }\n\n\t            // default to start of string\n\t            var start = params[0] || 0;\n\t            // default to length of string\n\t            var length = params.length > 1 ? params[1] : value.length;\n\t            // handle negative start values\n\t            var startIndex = start >= 0 ? start : Math.max( value.length + start, 0 );\n\n\t            if (Twig.lib.is(\"Array\", value)) {\n\t                var output = [];\n\t                for (var i = startIndex; i < startIndex + length && i < value.length; i++) {\n\t                    output.push(value[i]);\n\t                }\n\t                return output;\n\t            } else if (Twig.lib.is(\"String\", value)) {\n\t                return value.substr(startIndex, length);\n\t            } else {\n\t                throw new Twig.Error(\"slice filter expects value to be an array or string\");\n\t            }\n\t        },\n\n\t        abs: function(value) {\n\t            if (value === undefined || value === null) {\n\t                return;\n\t            }\n\n\t            return Math.abs(value);\n\t        },\n\n\t        first: function(value) {\n\t            if (is(\"Array\", value)) {\n\t                return value[0];\n\t            } else if (is(\"Object\", value)) {\n\t                if ('_keys' in value) {\n\t                    return value[value._keys[0]];\n\t                }\n\t            } else if ( typeof value === \"string\" ) {\n\t                return value.substr(0, 1);\n\t            }\n\n\t            return;\n\t        },\n\n\t        split: function(value, params) {\n\t            if (value === undefined || value === null) {\n\t                return;\n\t            }\n\t            if (params === undefined || params.length < 1 || params.length > 2) {\n\t                throw new Twig.Error(\"split filter expects 1 or 2 argument\");\n\t            }\n\t            if (Twig.lib.is(\"String\", value)) {\n\t                var delimiter = params[0],\n\t                    limit = params[1],\n\t                    split = value.split(delimiter);\n\n\t                if (limit === undefined) {\n\n\t                    return split;\n\n\t                } else if (limit < 0) {\n\n\t                    return value.split(delimiter, split.length + limit);\n\n\t                } else {\n\n\t                    var limitedSplit = [];\n\n\t                    if (delimiter == '') {\n\t                        // empty delimiter\n\t                        // \"aabbcc\"|split('', 2)\n\t                        //     -> ['aa', 'bb', 'cc']\n\n\t                        while(split.length > 0) {\n\t                            var temp = \"\";\n\t                            for (var i=0; i<limit && split.length > 0; i++) {\n\t                                temp += split.shift();\n\t                            }\n\t                            limitedSplit.push(temp);\n\t                        }\n\n\t                    } else {\n\t                        // non-empty delimiter\n\t                        // \"one,two,three,four,five\"|split(',', 3)\n\t                        //     -> ['one', 'two', 'three,four,five']\n\n\t                        for (var i=0; i<limit-1 && split.length > 0; i++) {\n\t                            limitedSplit.push(split.shift());\n\t                        }\n\n\t                        if (split.length > 0) {\n\t                            limitedSplit.push(split.join(delimiter));\n\t                        }\n\t                    }\n\n\t                    return limitedSplit;\n\t                }\n\n\t            } else {\n\t                throw new Twig.Error(\"split filter expects value to be a string\");\n\t            }\n\t        },\n\t        last: function(value) {\n\t            if (Twig.lib.is('Object', value)) {\n\t                var keys;\n\n\t                if (value._keys === undefined) {\n\t                    keys = Object.keys(value);\n\t                } else {\n\t                    keys = value._keys;\n\t                }\n\n\t                return value[keys[keys.length - 1]];\n\t            }\n\n\t            // string|array\n\t            return value[value.length - 1];\n\t        },\n\t        raw: function(value) {\n\t            return Twig.Markup(value);\n\t        },\n\t        batch: function(items, params) {\n\t            var size = params.shift(),\n\t                fill = params.shift(),\n\t                result,\n\t                last,\n\t                missing;\n\n\t            if (!Twig.lib.is(\"Array\", items)) {\n\t                throw new Twig.Error(\"batch filter expects items to be an array\");\n\t            }\n\n\t            if (!Twig.lib.is(\"Number\", size)) {\n\t                throw new Twig.Error(\"batch filter expects size to be a number\");\n\t            }\n\n\t            size = Math.ceil(size);\n\n\t            result = Twig.lib.chunkArray(items, size);\n\n\t            if (fill && items.length % size != 0) {\n\t                last = result.pop();\n\t                missing = size - last.length;\n\n\t                while (missing--) {\n\t                    last.push(fill);\n\t                }\n\n\t                result.push(last);\n\t            }\n\n\t            return result;\n\t        },\n\t        round: function(value, params) {\n\t            params = params || [];\n\n\t            var precision = params.length > 0 ? params[0] : 0,\n\t                method = params.length > 1 ? params[1] : \"common\";\n\n\t            value = parseFloat(value);\n\n\t            if(precision && !Twig.lib.is(\"Number\", precision)) {\n\t                throw new Twig.Error(\"round filter expects precision to be a number\");\n\t            }\n\n\t            if (method === \"common\") {\n\t                return Twig.lib.round(value, precision);\n\t            }\n\n\t            if(!Twig.lib.is(\"Function\", Math[method])) {\n\t                throw new Twig.Error(\"round filter expects method to be 'floor', 'ceil', or 'common'\");\n\t            }\n\n\t            return Math[method](value * Math.pow(10, precision)) / Math.pow(10, precision);\n\t        }\n\t    };\n\n\t    Twig.filter = function(filter, value, params) {\n\t        if (!Twig.filters[filter]) {\n\t            throw \"Unable to find filter \" + filter;\n\t        }\n\t        return Twig.filters[filter].apply(this, [value, params]);\n\t    };\n\n\t    Twig.filter.extend = function(filter, definition) {\n\t        Twig.filters[filter] = definition;\n\t    };\n\n\t    return Twig;\n\n\t};\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t// ## twig.functions.js\n\t//\n\t// This file handles parsing filters.\n\tmodule.exports = function (Twig) {\n\t    /**\n\t     * @constant\n\t     * @type {string}\n\t     */\n\t    var TEMPLATE_NOT_FOUND_MESSAGE = 'Template \"{name}\" is not defined.';\n\n\t    // Determine object type\n\t    function is(type, obj) {\n\t        var clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t        return obj !== undefined && obj !== null && clas === type;\n\t    }\n\n\t    Twig.functions = {\n\t        //  attribute, block, constant, date, dump, parent, random,.\n\n\t        // Range function from http://phpjs.org/functions/range:499\n\t        // Used under an MIT License\n\t        range: function (low, high, step) {\n\t            // http://kevin.vanzonneveld.net\n\t            // +   original by: Waldo Malqui Silva\n\t            // *     example 1: range ( 0, 12 );\n\t            // *     returns 1: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n\t            // *     example 2: range( 0, 100, 10 );\n\t            // *     returns 2: [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]\n\t            // *     example 3: range( 'a', 'i' );\n\t            // *     returns 3: ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i']\n\t            // *     example 4: range( 'c', 'a' );\n\t            // *     returns 4: ['c', 'b', 'a']\n\t            var matrix = [];\n\t            var inival, endval, plus;\n\t            var walker = step || 1;\n\t            var chars = false;\n\n\t            if (!isNaN(low) && !isNaN(high)) {\n\t                inival = parseInt(low, 10);\n\t                endval = parseInt(high, 10);\n\t            } else if (isNaN(low) && isNaN(high)) {\n\t                chars = true;\n\t                inival = low.charCodeAt(0);\n\t                endval = high.charCodeAt(0);\n\t            } else {\n\t                inival = (isNaN(low) ? 0 : low);\n\t                endval = (isNaN(high) ? 0 : high);\n\t            }\n\n\t            plus = ((inival > endval) ? false : true);\n\t            if (plus) {\n\t                while (inival <= endval) {\n\t                    matrix.push(((chars) ? String.fromCharCode(inival) : inival));\n\t                    inival += walker;\n\t                }\n\t            } else {\n\t                while (inival >= endval) {\n\t                    matrix.push(((chars) ? String.fromCharCode(inival) : inival));\n\t                    inival -= walker;\n\t                }\n\t            }\n\n\t            return matrix;\n\t        },\n\t        cycle: function(arr, i) {\n\t            var pos = i % arr.length;\n\t            return arr[pos];\n\t        },\n\t        dump: function() {\n\t            var EOL = '\\n',\n\t                indentChar = '  ',\n\t                indentTimes = 0,\n\t                out = '',\n\t                args = Array.prototype.slice.call(arguments),\n\t                indent = function(times) {\n\t                    var ind  = '';\n\t                    while (times > 0) {\n\t                        times--;\n\t                        ind += indentChar;\n\t                    }\n\t                    return ind;\n\t                },\n\t                displayVar = function(variable) {\n\t                    out += indent(indentTimes);\n\t                    if (typeof(variable) === 'object') {\n\t                        dumpVar(variable);\n\t                    } else if (typeof(variable) === 'function') {\n\t                        out += 'function()' + EOL;\n\t                    } else if (typeof(variable) === 'string') {\n\t                        out += 'string(' + variable.length + ') \"' + variable + '\"' + EOL;\n\t                    } else if (typeof(variable) === 'number') {\n\t                        out += 'number(' + variable + ')' + EOL;\n\t                    } else if (typeof(variable) === 'boolean') {\n\t                        out += 'bool(' + variable + ')' + EOL;\n\t                    }\n\t                },\n\t                dumpVar = function(variable) {\n\t                    var i;\n\t                    if (variable === null) {\n\t                        out += 'NULL' + EOL;\n\t                    } else if (variable === undefined) {\n\t                        out += 'undefined' + EOL;\n\t                    } else if (typeof variable === 'object') {\n\t                        out += indent(indentTimes) + typeof(variable);\n\t                        indentTimes++;\n\t                        out += '(' + (function(obj) {\n\t                            var size = 0, key;\n\t                            for (key in obj) {\n\t                                if (obj.hasOwnProperty(key)) {\n\t                                    size++;\n\t                                }\n\t                            }\n\t                            return size;\n\t                        })(variable) + ') {' + EOL;\n\t                        for (i in variable) {\n\t                            out += indent(indentTimes) + '[' + i + ']=> ' + EOL;\n\t                            displayVar(variable[i]);\n\t                        }\n\t                        indentTimes--;\n\t                        out += indent(indentTimes) + '}' + EOL;\n\t                    } else {\n\t                        displayVar(variable);\n\t                    }\n\t                };\n\n\t            // handle no argument case by dumping the entire render context\n\t            if (args.length == 0) args.push(this.context);\n\n\t            Twig.forEach(args, function(variable) {\n\t                dumpVar(variable);\n\t            });\n\n\t            return out;\n\t        },\n\t        date: function(date, time) {\n\t            var dateObj;\n\t            if (date === undefined || date === null || date === \"\") {\n\t                dateObj = new Date();\n\t            } else if (Twig.lib.is(\"Date\", date)) {\n\t                dateObj = date;\n\t            } else if (Twig.lib.is(\"String\", date)) {\n\t                if (date.match(/^[0-9]+$/)) {\n\t                    dateObj = new Date(date * 1000);\n\t                }\n\t                else {\n\t                    dateObj = new Date(Twig.lib.strtotime(date) * 1000);\n\t                }\n\t            } else if (Twig.lib.is(\"Number\", date)) {\n\t                // timestamp\n\t                dateObj = new Date(date * 1000);\n\t            } else {\n\t                throw new Twig.Error(\"Unable to parse date \" + date);\n\t            }\n\t            return dateObj;\n\t        },\n\t        block: function(block) {\n\t            if (this.originalBlockTokens[block]) {\n\t                return Twig.logic.parse.apply(this, [this.originalBlockTokens[block], this.context]).output;\n\t            } else {\n\t                return this.blocks[block];\n\t            }\n\t        },\n\t        parent: function() {\n\t            // Add a placeholder\n\t            return Twig.placeholders.parent;\n\t        },\n\t        attribute: function(object, method, params) {\n\t            if (Twig.lib.is('Object', object)) {\n\t                if (object.hasOwnProperty(method)) {\n\t                    if (typeof object[method] === \"function\") {\n\t                        return object[method].apply(undefined, params);\n\t                    }\n\t                    else {\n\t                        return object[method];\n\t                    }\n\t                }\n\t            }\n\t            // Array will return element 0-index\n\t            return object[method] || undefined;\n\t        },\n\t        max: function(values) {\n\t            if(Twig.lib.is(\"Object\", values)) {\n\t                delete values[\"_keys\"];\n\t                return Twig.lib.max(values);\n\t            }\n\n\t            return Twig.lib.max.apply(null, arguments);\n\t        },\n\t        min: function(values) {\n\t            if(Twig.lib.is(\"Object\", values)) {\n\t                delete values[\"_keys\"];\n\t                return Twig.lib.min(values);\n\t            }\n\n\t            return Twig.lib.min.apply(null, arguments);\n\t        },\n\t        template_from_string: function(template) {\n\t            if (template === undefined) {\n\t                template = '';\n\t            }\n\t            return Twig.Templates.parsers.twig({\n\t                options: this.options,\n\t                data: template\n\t            });\n\t        },\n\t        random: function(value) {\n\t            var LIMIT_INT31 = 0x80000000;\n\n\t            function getRandomNumber(n) {\n\t                var random = Math.floor(Math.random() * LIMIT_INT31);\n\t                var limits = [0, n];\n\t                var min = Math.min.apply(null, limits),\n\t                    max = Math.max.apply(null, limits);\n\t                return min + Math.floor((max - min + 1) * random / LIMIT_INT31);\n\t            }\n\n\t            if(Twig.lib.is(\"Number\", value)) {\n\t                return getRandomNumber(value);\n\t            }\n\n\t            if(Twig.lib.is(\"String\", value)) {\n\t                return value.charAt(getRandomNumber(value.length-1));\n\t            }\n\n\t            if(Twig.lib.is(\"Array\", value)) {\n\t                return value[getRandomNumber(value.length-1)];\n\t            }\n\n\t            if(Twig.lib.is(\"Object\", value)) {\n\t                var keys = Object.keys(value);\n\t                return value[keys[getRandomNumber(keys.length-1)]];\n\t            }\n\n\t            return getRandomNumber(LIMIT_INT31-1);\n\t        },\n\n\t        /**\n\t         * Returns the content of a template without rendering it\n\t         * @param {string} name\n\t         * @param {boolean} [ignore_missing=false]\n\t         * @returns {string}\n\t         */\n\t        source: function(name, ignore_missing) {\n\t            var templateSource;\n\t            var templateFound = false;\n\t            var isNodeEnvironment = typeof module !== 'undefined' && typeof module.exports !== 'undefined' && typeof window === 'undefined';\n\t            var loader;\n\t            var path;\n\n\t            //if we are running in a node.js environment, set the loader to 'fs' and ensure the\n\t            // path is relative to the CWD of the running script\n\t            //else, set the loader to 'ajax' and set the path to the value of name\n\t            if (isNodeEnvironment) {\n\t                loader = 'fs';\n\t                path = __dirname + '/' + name;\n\t            } else {\n\t                loader = 'ajax';\n\t                path = name;\n\t            }\n\n\t            //build the params object\n\t            var params = {\n\t                id: name,\n\t                path: path,\n\t                method: loader,\n\t                parser: 'source',\n\t                async: false,\n\t                fetchTemplateSource: true\n\t            };\n\n\t            //default ignore_missing to false\n\t            if (typeof ignore_missing === 'undefined') {\n\t                ignore_missing = false;\n\t            }\n\n\t            //try to load the remote template\n\t            //\n\t            //on exception, log it\n\t            try {\n\t                templateSource = Twig.Templates.loadRemote(name, params);\n\n\t                //if the template is undefined or null, set the template to an empty string and do NOT flip the\n\t                // boolean indicating we found the template\n\t                //\n\t                //else, all is good! flip the boolean indicating we found the template\n\t                if (typeof templateSource === 'undefined' || templateSource === null) {\n\t                    templateSource = '';\n\t                } else {\n\t                    templateFound = true;\n\t                }\n\t            } catch (e) {\n\t                Twig.log.debug('Twig.functions.source: ', 'Problem loading template  ', e);\n\t            }\n\n\t            //if the template was NOT found AND we are not ignoring missing templates, return the same message\n\t            // that is returned by the PHP implementation of the twig source() function\n\t            //\n\t            //else, return the template source\n\t            if (!templateFound && !ignore_missing) {\n\t                return TEMPLATE_NOT_FOUND_MESSAGE.replace('{name}', name);\n\t            } else {\n\t                return templateSource;\n\t            }\n\t        }\n\t    };\n\n\t    Twig._function = function(_function, value, params) {\n\t        if (!Twig.functions[_function]) {\n\t            throw \"Unable to find function \" + _function;\n\t        }\n\t        return Twig.functions[_function](value, params);\n\t    };\n\n\t    Twig._function.extend = function(_function, definition) {\n\t        Twig.functions[_function] = definition;\n\t    };\n\n\t    return Twig;\n\n\t};\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ## twig.lib.js\n\t//\n\t// This file contains 3rd party libraries used within twig.\n\t//\n\t// Copies of the licenses for the code included here can be found in the\n\t// LICENSES.md file.\n\t//\n\n\tmodule.exports = function(Twig) {\n\n\t    // Namespace for libraries\n\t    Twig.lib = { };\n\n\t    Twig.lib.sprintf = __webpack_require__(8);\n\t    Twig.lib.vsprintf = __webpack_require__(9);\n\t    Twig.lib.round = __webpack_require__(10);\n\t    Twig.lib.max = __webpack_require__(11);\n\t    Twig.lib.min = __webpack_require__(12);\n\t    Twig.lib.strip_tags = __webpack_require__(13);\n\t    Twig.lib.strtotime = __webpack_require__(14);\n\t    Twig.lib.date = __webpack_require__(15);\n\t    Twig.lib.boolval = __webpack_require__(16);\n\n\t    Twig.lib.is = function(type, obj) {\n\t        var clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t        return obj !== undefined && obj !== null && clas === type;\n\t    };\n\n\t    // shallow-copy an object\n\t    Twig.lib.copy = function(src) {\n\t        var target = {},\n\t            key;\n\t        for (key in src)\n\t            target[key] = src[key];\n\n\t        return target;\n\t    };\n\n\t    Twig.lib.extend = function (src, add) {\n\t        var keys = Object.keys(add),\n\t            i;\n\n\t        i = keys.length;\n\n\t        while (i--) {\n\t            src[keys[i]] = add[keys[i]];\n\t        }\n\n\t        return src;\n\t    };\n\n\t    Twig.lib.replaceAll = function(string, search, replace) {\n\t        return string.split(search).join(replace);\n\t    };\n\n\t    // chunk an array (arr) into arrays of (size) items, returns an array of arrays, or an empty array on invalid input\n\t    Twig.lib.chunkArray = function (arr, size) {\n\t        var returnVal = [],\n\t            x = 0,\n\t            len = arr.length;\n\n\t        if (size < 1 || !Twig.lib.is(\"Array\", arr)) {\n\t            return [];\n\t        }\n\n\t        while (x < len) {\n\t            returnVal.push(arr.slice(x, x += size));\n\t        }\n\n\t        return returnVal;\n\t    };\n\n\t    return Twig;\n\t};\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function sprintf() {\n\t  //  discuss at: http://locutus.io/php/sprintf/\n\t  // original by: Ash Searle (http://hexmen.com/blog/)\n\t  // improved by: Michael White (http://getsprink.com)\n\t  // improved by: Jack\n\t  // improved by: Kevin van Zonneveld (http://kvz.io)\n\t  // improved by: Kevin van Zonneveld (http://kvz.io)\n\t  // improved by: Kevin van Zonneveld (http://kvz.io)\n\t  // improved by: Dj\n\t  // improved by: Allidylls\n\t  //    input by: Paulo Freitas\n\t  //    input by: Brett Zamir (http://brett-zamir.me)\n\t  //   example 1: sprintf(\"%01.2f\", 123.1)\n\t  //   returns 1: '123.10'\n\t  //   example 2: sprintf(\"[%10s]\", 'monkey')\n\t  //   returns 2: '[    monkey]'\n\t  //   example 3: sprintf(\"[%'#10s]\", 'monkey')\n\t  //   returns 3: '[####monkey]'\n\t  //   example 4: sprintf(\"%d\", 123456789012345)\n\t  //   returns 4: '123456789012345'\n\t  //   example 5: sprintf('%-03s', 'E')\n\t  //   returns 5: 'E00'\n\n\t  var regex = /%%|%(\\d+\\$)?([-+'#0 ]*)(\\*\\d+\\$|\\*|\\d+)?(?:\\.(\\*\\d+\\$|\\*|\\d+))?([scboxXuideEfFgG])/g;\n\t  var a = arguments;\n\t  var i = 0;\n\t  var format = a[i++];\n\n\t  var _pad = function _pad(str, len, chr, leftJustify) {\n\t    if (!chr) {\n\t      chr = ' ';\n\t    }\n\t    var padding = str.length >= len ? '' : new Array(1 + len - str.length >>> 0).join(chr);\n\t    return leftJustify ? str + padding : padding + str;\n\t  };\n\n\t  var justify = function justify(value, prefix, leftJustify, minWidth, zeroPad, customPadChar) {\n\t    var diff = minWidth - value.length;\n\t    if (diff > 0) {\n\t      if (leftJustify || !zeroPad) {\n\t        value = _pad(value, minWidth, customPadChar, leftJustify);\n\t      } else {\n\t        value = [value.slice(0, prefix.length), _pad('', diff, '0', true), value.slice(prefix.length)].join('');\n\t      }\n\t    }\n\t    return value;\n\t  };\n\n\t  var _formatBaseX = function _formatBaseX(value, base, prefix, leftJustify, minWidth, precision, zeroPad) {\n\t    // Note: casts negative numbers to positive ones\n\t    var number = value >>> 0;\n\t    prefix = prefix && number && {\n\t      '2': '0b',\n\t      '8': '0',\n\t      '16': '0x'\n\t    }[base] || '';\n\t    value = prefix + _pad(number.toString(base), precision || 0, '0', false);\n\t    return justify(value, prefix, leftJustify, minWidth, zeroPad);\n\t  };\n\n\t  // _formatString()\n\t  var _formatString = function _formatString(value, leftJustify, minWidth, precision, zeroPad, customPadChar) {\n\t    if (precision !== null && precision !== undefined) {\n\t      value = value.slice(0, precision);\n\t    }\n\t    return justify(value, '', leftJustify, minWidth, zeroPad, customPadChar);\n\t  };\n\n\t  // doFormat()\n\t  var doFormat = function doFormat(substring, valueIndex, flags, minWidth, precision, type) {\n\t    var number, prefix, method, textTransform, value;\n\n\t    if (substring === '%%') {\n\t      return '%';\n\t    }\n\n\t    // parse flags\n\t    var leftJustify = false;\n\t    var positivePrefix = '';\n\t    var zeroPad = false;\n\t    var prefixBaseX = false;\n\t    var customPadChar = ' ';\n\t    var flagsl = flags.length;\n\t    var j;\n\t    for (j = 0; j < flagsl; j++) {\n\t      switch (flags.charAt(j)) {\n\t        case ' ':\n\t          positivePrefix = ' ';\n\t          break;\n\t        case '+':\n\t          positivePrefix = '+';\n\t          break;\n\t        case '-':\n\t          leftJustify = true;\n\t          break;\n\t        case \"'\":\n\t          customPadChar = flags.charAt(j + 1);\n\t          break;\n\t        case '0':\n\t          zeroPad = true;\n\t          customPadChar = '0';\n\t          break;\n\t        case '#':\n\t          prefixBaseX = true;\n\t          break;\n\t      }\n\t    }\n\n\t    // parameters may be null, undefined, empty-string or real valued\n\t    // we want to ignore null, undefined and empty-string values\n\t    if (!minWidth) {\n\t      minWidth = 0;\n\t    } else if (minWidth === '*') {\n\t      minWidth = +a[i++];\n\t    } else if (minWidth.charAt(0) === '*') {\n\t      minWidth = +a[minWidth.slice(1, -1)];\n\t    } else {\n\t      minWidth = +minWidth;\n\t    }\n\n\t    // Note: undocumented perl feature:\n\t    if (minWidth < 0) {\n\t      minWidth = -minWidth;\n\t      leftJustify = true;\n\t    }\n\n\t    if (!isFinite(minWidth)) {\n\t      throw new Error('sprintf: (minimum-)width must be finite');\n\t    }\n\n\t    if (!precision) {\n\t      precision = 'fFeE'.indexOf(type) > -1 ? 6 : type === 'd' ? 0 : undefined;\n\t    } else if (precision === '*') {\n\t      precision = +a[i++];\n\t    } else if (precision.charAt(0) === '*') {\n\t      precision = +a[precision.slice(1, -1)];\n\t    } else {\n\t      precision = +precision;\n\t    }\n\n\t    // grab value using valueIndex if required?\n\t    value = valueIndex ? a[valueIndex.slice(0, -1)] : a[i++];\n\n\t    switch (type) {\n\t      case 's':\n\t        return _formatString(value + '', leftJustify, minWidth, precision, zeroPad, customPadChar);\n\t      case 'c':\n\t        return _formatString(String.fromCharCode(+value), leftJustify, minWidth, precision, zeroPad);\n\t      case 'b':\n\t        return _formatBaseX(value, 2, prefixBaseX, leftJustify, minWidth, precision, zeroPad);\n\t      case 'o':\n\t        return _formatBaseX(value, 8, prefixBaseX, leftJustify, minWidth, precision, zeroPad);\n\t      case 'x':\n\t        return _formatBaseX(value, 16, prefixBaseX, leftJustify, minWidth, precision, zeroPad);\n\t      case 'X':\n\t        return _formatBaseX(value, 16, prefixBaseX, leftJustify, minWidth, precision, zeroPad).toUpperCase();\n\t      case 'u':\n\t        return _formatBaseX(value, 10, prefixBaseX, leftJustify, minWidth, precision, zeroPad);\n\t      case 'i':\n\t      case 'd':\n\t        number = +value || 0;\n\t        // Plain Math.round doesn't just truncate\n\t        number = Math.round(number - number % 1);\n\t        prefix = number < 0 ? '-' : positivePrefix;\n\t        value = prefix + _pad(String(Math.abs(number)), precision, '0', false);\n\t        return justify(value, prefix, leftJustify, minWidth, zeroPad);\n\t      case 'e':\n\t      case 'E':\n\t      case 'f': // @todo: Should handle locales (as per setlocale)\n\t      case 'F':\n\t      case 'g':\n\t      case 'G':\n\t        number = +value;\n\t        prefix = number < 0 ? '-' : positivePrefix;\n\t        method = ['toExponential', 'toFixed', 'toPrecision']['efg'.indexOf(type.toLowerCase())];\n\t        textTransform = ['toString', 'toUpperCase']['eEfFgG'.indexOf(type) % 2];\n\t        value = prefix + Math.abs(number)[method](precision);\n\t        return justify(value, prefix, leftJustify, minWidth, zeroPad)[textTransform]();\n\t      default:\n\t        return substring;\n\t    }\n\t  };\n\n\t  return format.replace(regex, doFormat);\n\t};\n\t//# sourceMappingURL=sprintf.js.map\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tmodule.exports = function vsprintf(format, args) {\n\t  //  discuss at: http://locutus.io/php/vsprintf/\n\t  // original by: ejsanders\n\t  //   example 1: vsprintf('%04d-%02d-%02d', [1988, 8, 1])\n\t  //   returns 1: '1988-08-01'\n\n\t  var sprintf = __webpack_require__(8);\n\n\t  return sprintf.apply(this, [format].concat(args));\n\t};\n\t//# sourceMappingURL=vsprintf.js.map\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function round(value, precision, mode) {\n\t  //  discuss at: http://locutus.io/php/round/\n\t  // original by: Philip Peterson\n\t  //  revised by: Onno Marsman (https://twitter.com/onnomarsman)\n\t  //  revised by: T.Wild\n\t  //  revised by: Rafa Kukawski (http://blog.kukawski.pl)\n\t  //    input by: Greenseed\n\t  //    input by: meo\n\t  //    input by: William\n\t  //    input by: Josep Sanz (http://www.ws3.es/)\n\t  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n\t  //      note 1: Great work. Ideas for improvement:\n\t  //      note 1: - code more compliant with developer guidelines\n\t  //      note 1: - for implementing PHP constant arguments look at\n\t  //      note 1: the pathinfo() function, it offers the greatest\n\t  //      note 1: flexibility & compatibility possible\n\t  //   example 1: round(1241757, -3)\n\t  //   returns 1: 1242000\n\t  //   example 2: round(3.6)\n\t  //   returns 2: 4\n\t  //   example 3: round(2.835, 2)\n\t  //   returns 3: 2.84\n\t  //   example 4: round(1.1749999999999, 2)\n\t  //   returns 4: 1.17\n\t  //   example 5: round(58551.799999999996, 2)\n\t  //   returns 5: 58551.8\n\n\t  var m, f, isHalf, sgn; // helper variables\n\t  // making sure precision is integer\n\t  precision |= 0;\n\t  m = Math.pow(10, precision);\n\t  value *= m;\n\t  // sign of the number\n\t  sgn = value > 0 | -(value < 0);\n\t  isHalf = value % 1 === 0.5 * sgn;\n\t  f = Math.floor(value);\n\n\t  if (isHalf) {\n\t    switch (mode) {\n\t      case 'PHP_ROUND_HALF_DOWN':\n\t        // rounds .5 toward zero\n\t        value = f + (sgn < 0);\n\t        break;\n\t      case 'PHP_ROUND_HALF_EVEN':\n\t        // rouds .5 towards the next even integer\n\t        value = f + f % 2 * sgn;\n\t        break;\n\t      case 'PHP_ROUND_HALF_ODD':\n\t        // rounds .5 towards the next odd integer\n\t        value = f + !(f % 2);\n\t        break;\n\t      default:\n\t        // rounds .5 away from zero\n\t        value = f + (sgn > 0);\n\t    }\n\t  }\n\n\t  return (isHalf ? value : Math.round(value)) / m;\n\t};\n\t//# sourceMappingURL=round.js.map\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\tmodule.exports = function max() {\n\t  //  discuss at: http://locutus.io/php/max/\n\t  // original by: Onno Marsman (https://twitter.com/onnomarsman)\n\t  //  revised by: Onno Marsman (https://twitter.com/onnomarsman)\n\t  // improved by: Jack\n\t  //      note 1: Long code cause we're aiming for maximum PHP compatibility\n\t  //   example 1: max(1, 3, 5, 6, 7)\n\t  //   returns 1: 7\n\t  //   example 2: max([2, 4, 5])\n\t  //   returns 2: 5\n\t  //   example 3: max(0, 'hello')\n\t  //   returns 3: 0\n\t  //   example 4: max('hello', 0)\n\t  //   returns 4: 'hello'\n\t  //   example 5: max(-1, 'hello')\n\t  //   returns 5: 'hello'\n\t  //   example 6: max([2, 4, 8], [2, 5, 7])\n\t  //   returns 6: [2, 5, 7]\n\n\t  var ar;\n\t  var retVal;\n\t  var i = 0;\n\t  var n = 0;\n\t  var argv = arguments;\n\t  var argc = argv.length;\n\t  var _obj2Array = function _obj2Array(obj) {\n\t    if (Object.prototype.toString.call(obj) === '[object Array]') {\n\t      return obj;\n\t    } else {\n\t      var ar = [];\n\t      for (var i in obj) {\n\t        if (obj.hasOwnProperty(i)) {\n\t          ar.push(obj[i]);\n\t        }\n\t      }\n\t      return ar;\n\t    }\n\t  };\n\t  var _compare = function _compare(current, next) {\n\t    var i = 0;\n\t    var n = 0;\n\t    var tmp = 0;\n\t    var nl = 0;\n\t    var cl = 0;\n\n\t    if (current === next) {\n\t      return 0;\n\t    } else if ((typeof current === 'undefined' ? 'undefined' : _typeof(current)) === 'object') {\n\t      if ((typeof next === 'undefined' ? 'undefined' : _typeof(next)) === 'object') {\n\t        current = _obj2Array(current);\n\t        next = _obj2Array(next);\n\t        cl = current.length;\n\t        nl = next.length;\n\t        if (nl > cl) {\n\t          return 1;\n\t        } else if (nl < cl) {\n\t          return -1;\n\t        }\n\t        for (i = 0, n = cl; i < n; ++i) {\n\t          tmp = _compare(current[i], next[i]);\n\t          if (tmp === 1) {\n\t            return 1;\n\t          } else if (tmp === -1) {\n\t            return -1;\n\t          }\n\t        }\n\t        return 0;\n\t      }\n\t      return -1;\n\t    } else if ((typeof next === 'undefined' ? 'undefined' : _typeof(next)) === 'object') {\n\t      return 1;\n\t    } else if (isNaN(next) && !isNaN(current)) {\n\t      if (current === 0) {\n\t        return 0;\n\t      }\n\t      return current < 0 ? 1 : -1;\n\t    } else if (isNaN(current) && !isNaN(next)) {\n\t      if (next === 0) {\n\t        return 0;\n\t      }\n\t      return next > 0 ? 1 : -1;\n\t    }\n\n\t    if (next === current) {\n\t      return 0;\n\t    }\n\n\t    return next > current ? 1 : -1;\n\t  };\n\n\t  if (argc === 0) {\n\t    throw new Error('At least one value should be passed to max()');\n\t  } else if (argc === 1) {\n\t    if (_typeof(argv[0]) === 'object') {\n\t      ar = _obj2Array(argv[0]);\n\t    } else {\n\t      throw new Error('Wrong parameter count for max()');\n\t    }\n\t    if (ar.length === 0) {\n\t      throw new Error('Array must contain at least one element for max()');\n\t    }\n\t  } else {\n\t    ar = argv;\n\t  }\n\n\t  retVal = ar[0];\n\t  for (i = 1, n = ar.length; i < n; ++i) {\n\t    if (_compare(retVal, ar[i]) === 1) {\n\t      retVal = ar[i];\n\t    }\n\t  }\n\n\t  return retVal;\n\t};\n\t//# sourceMappingURL=max.js.map\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\tmodule.exports = function min() {\n\t  //  discuss at: http://locutus.io/php/min/\n\t  // original by: Onno Marsman (https://twitter.com/onnomarsman)\n\t  //  revised by: Onno Marsman (https://twitter.com/onnomarsman)\n\t  // improved by: Jack\n\t  //      note 1: Long code cause we're aiming for maximum PHP compatibility\n\t  //   example 1: min(1, 3, 5, 6, 7)\n\t  //   returns 1: 1\n\t  //   example 2: min([2, 4, 5])\n\t  //   returns 2: 2\n\t  //   example 3: min(0, 'hello')\n\t  //   returns 3: 0\n\t  //   example 4: min('hello', 0)\n\t  //   returns 4: 'hello'\n\t  //   example 5: min(-1, 'hello')\n\t  //   returns 5: -1\n\t  //   example 6: min([2, 4, 8], [2, 5, 7])\n\t  //   returns 6: [2, 4, 8]\n\n\t  var ar;\n\t  var retVal;\n\t  var i = 0;\n\t  var n = 0;\n\t  var argv = arguments;\n\t  var argc = argv.length;\n\t  var _obj2Array = function _obj2Array(obj) {\n\t    if (Object.prototype.toString.call(obj) === '[object Array]') {\n\t      return obj;\n\t    }\n\t    var ar = [];\n\t    for (var i in obj) {\n\t      if (obj.hasOwnProperty(i)) {\n\t        ar.push(obj[i]);\n\t      }\n\t    }\n\t    return ar;\n\t  };\n\n\t  var _compare = function _compare(current, next) {\n\t    var i = 0;\n\t    var n = 0;\n\t    var tmp = 0;\n\t    var nl = 0;\n\t    var cl = 0;\n\n\t    if (current === next) {\n\t      return 0;\n\t    } else if ((typeof current === 'undefined' ? 'undefined' : _typeof(current)) === 'object') {\n\t      if ((typeof next === 'undefined' ? 'undefined' : _typeof(next)) === 'object') {\n\t        current = _obj2Array(current);\n\t        next = _obj2Array(next);\n\t        cl = current.length;\n\t        nl = next.length;\n\t        if (nl > cl) {\n\t          return 1;\n\t        } else if (nl < cl) {\n\t          return -1;\n\t        }\n\t        for (i = 0, n = cl; i < n; ++i) {\n\t          tmp = _compare(current[i], next[i]);\n\t          if (tmp === 1) {\n\t            return 1;\n\t          } else if (tmp === -1) {\n\t            return -1;\n\t          }\n\t        }\n\t        return 0;\n\t      }\n\t      return -1;\n\t    } else if ((typeof next === 'undefined' ? 'undefined' : _typeof(next)) === 'object') {\n\t      return 1;\n\t    } else if (isNaN(next) && !isNaN(current)) {\n\t      if (current === 0) {\n\t        return 0;\n\t      }\n\t      return current < 0 ? 1 : -1;\n\t    } else if (isNaN(current) && !isNaN(next)) {\n\t      if (next === 0) {\n\t        return 0;\n\t      }\n\t      return next > 0 ? 1 : -1;\n\t    }\n\n\t    if (next === current) {\n\t      return 0;\n\t    }\n\n\t    return next > current ? 1 : -1;\n\t  };\n\n\t  if (argc === 0) {\n\t    throw new Error('At least one value should be passed to min()');\n\t  } else if (argc === 1) {\n\t    if (_typeof(argv[0]) === 'object') {\n\t      ar = _obj2Array(argv[0]);\n\t    } else {\n\t      throw new Error('Wrong parameter count for min()');\n\t    }\n\n\t    if (ar.length === 0) {\n\t      throw new Error('Array must contain at least one element for min()');\n\t    }\n\t  } else {\n\t    ar = argv;\n\t  }\n\n\t  retVal = ar[0];\n\n\t  for (i = 1, n = ar.length; i < n; ++i) {\n\t    if (_compare(retVal, ar[i]) === -1) {\n\t      retVal = ar[i];\n\t    }\n\t  }\n\n\t  return retVal;\n\t};\n\t//# sourceMappingURL=min.js.map\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function strip_tags(input, allowed) {\n\t  // eslint-disable-line camelcase\n\t  //  discuss at: http://locutus.io/php/strip_tags/\n\t  // original by: Kevin van Zonneveld (http://kvz.io)\n\t  // improved by: Luke Godfrey\n\t  // improved by: Kevin van Zonneveld (http://kvz.io)\n\t  //    input by: Pul\n\t  //    input by: Alex\n\t  //    input by: Marc Palau\n\t  //    input by: Brett Zamir (http://brett-zamir.me)\n\t  //    input by: Bobby Drake\n\t  //    input by: Evertjan Garretsen\n\t  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\n\t  // bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)\n\t  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\n\t  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\n\t  // bugfixed by: Eric Nagel\n\t  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\n\t  // bugfixed by: Tomasz Wesolowski\n\t  //  revised by: Rafa Kukawski (http://blog.kukawski.pl)\n\t  //   example 1: strip_tags('<p>Kevin</p> <br /><b>van</b> <i>Zonneveld</i>', '<i><b>')\n\t  //   returns 1: 'Kevin <b>van</b> <i>Zonneveld</i>'\n\t  //   example 2: strip_tags('<p>Kevin <img src=\"someimage.png\" onmouseover=\"someFunction()\">van <i>Zonneveld</i></p>', '<p>')\n\t  //   returns 2: '<p>Kevin van Zonneveld</p>'\n\t  //   example 3: strip_tags(\"<a href='http://kvz.io'>Kevin van Zonneveld</a>\", \"<a>\")\n\t  //   returns 3: \"<a href='http://kvz.io'>Kevin van Zonneveld</a>\"\n\t  //   example 4: strip_tags('1 < 5 5 > 1')\n\t  //   returns 4: '1 < 5 5 > 1'\n\t  //   example 5: strip_tags('1 <br/> 1')\n\t  //   returns 5: '1  1'\n\t  //   example 6: strip_tags('1 <br/> 1', '<br>')\n\t  //   returns 6: '1 <br/> 1'\n\t  //   example 7: strip_tags('1 <br/> 1', '<br><br/>')\n\t  //   returns 7: '1 <br/> 1'\n\n\t  // making sure the allowed arg is a string containing only tags in lowercase (<a><b><c>)\n\t  allowed = (((allowed || '') + '').toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join('');\n\n\t  var tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi;\n\t  var commentsAndPhpTags = /<!--[\\s\\S]*?-->|<\\?(?:php)?[\\s\\S]*?\\?>/gi;\n\n\t  return input.replace(commentsAndPhpTags, '').replace(tags, function ($0, $1) {\n\t    return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';\n\t  });\n\t};\n\t//# sourceMappingURL=strip_tags.js.map\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function strtotime(text, now) {\n\t  //  discuss at: http://locutus.io/php/strtotime/\n\t  // original by: Caio Ariede (http://caioariede.com)\n\t  // improved by: Kevin van Zonneveld (http://kvz.io)\n\t  // improved by: Caio Ariede (http://caioariede.com)\n\t  // improved by: A. Matas Quezada (http://amatiasq.com)\n\t  // improved by: preuter\n\t  // improved by: Brett Zamir (http://brett-zamir.me)\n\t  // improved by: Mirko Faber\n\t  //    input by: David\n\t  // bugfixed by: Wagner B. Soares\n\t  // bugfixed by: Artur Tchernychev\n\t  // bugfixed by: Stephan Bsch-Plepelits (http://github.com/plepe)\n\t  //      note 1: Examples all have a fixed timestamp to prevent\n\t  //      note 1: tests to fail because of variable time(zones)\n\t  //   example 1: strtotime('+1 day', 1129633200)\n\t  //   returns 1: 1129719600\n\t  //   example 2: strtotime('+1 week 2 days 4 hours 2 seconds', 1129633200)\n\t  //   returns 2: 1130425202\n\t  //   example 3: strtotime('last month', 1129633200)\n\t  //   returns 3: 1127041200\n\t  //   example 4: strtotime('2009-05-04 08:30:00 GMT')\n\t  //   returns 4: 1241425800\n\t  //   example 5: strtotime('2009-05-04 08:30:00+00')\n\t  //   returns 5: 1241425800\n\t  //   example 6: strtotime('2009-05-04 08:30:00+02:00')\n\t  //   returns 6: 1241418600\n\t  //   example 7: strtotime('2009-05-04T08:30:00Z')\n\t  //   returns 7: 1241425800\n\n\t  var parsed;\n\t  var match;\n\t  var today;\n\t  var year;\n\t  var date;\n\t  var days;\n\t  var ranges;\n\t  var len;\n\t  var times;\n\t  var regex;\n\t  var i;\n\t  var fail = false;\n\n\t  if (!text) {\n\t    return fail;\n\t  }\n\n\t  // Unecessary spaces\n\t  text = text.replace(/^\\s+|\\s+$/g, '').replace(/\\s{2,}/g, ' ').replace(/[\\t\\r\\n]/g, '').toLowerCase();\n\n\t  // in contrast to php, js Date.parse function interprets:\n\t  // dates given as yyyy-mm-dd as in timezone: UTC,\n\t  // dates with \".\" or \"-\" as MDY instead of DMY\n\t  // dates with two-digit years differently\n\t  // etc...etc...\n\t  // ...therefore we manually parse lots of common date formats\n\t  var pattern = new RegExp(['^(\\\\d{1,4})', '([\\\\-\\\\.\\\\/:])', '(\\\\d{1,2})', '([\\\\-\\\\.\\\\/:])', '(\\\\d{1,4})', '(?:\\\\s(\\\\d{1,2}):(\\\\d{2})?:?(\\\\d{2})?)?', '(?:\\\\s([A-Z]+)?)?$'].join(''));\n\t  match = text.match(pattern);\n\n\t  if (match && match[2] === match[4]) {\n\t    if (match[1] > 1901) {\n\t      switch (match[2]) {\n\t        case '-':\n\t          // YYYY-M-D\n\t          if (match[3] > 12 || match[5] > 31) {\n\t            return fail;\n\t          }\n\n\t          return new Date(match[1], parseInt(match[3], 10) - 1, match[5], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t        case '.':\n\t          // YYYY.M.D is not parsed by strtotime()\n\t          return fail;\n\t        case '/':\n\t          // YYYY/M/D\n\t          if (match[3] > 12 || match[5] > 31) {\n\t            return fail;\n\t          }\n\n\t          return new Date(match[1], parseInt(match[3], 10) - 1, match[5], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t      }\n\t    } else if (match[5] > 1901) {\n\t      switch (match[2]) {\n\t        case '-':\n\t          // D-M-YYYY\n\t          if (match[3] > 12 || match[1] > 31) {\n\t            return fail;\n\t          }\n\n\t          return new Date(match[5], parseInt(match[3], 10) - 1, match[1], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t        case '.':\n\t          // D.M.YYYY\n\t          if (match[3] > 12 || match[1] > 31) {\n\t            return fail;\n\t          }\n\n\t          return new Date(match[5], parseInt(match[3], 10) - 1, match[1], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t        case '/':\n\t          // M/D/YYYY\n\t          if (match[1] > 12 || match[3] > 31) {\n\t            return fail;\n\t          }\n\n\t          return new Date(match[5], parseInt(match[1], 10) - 1, match[3], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t      }\n\t    } else {\n\t      switch (match[2]) {\n\t        case '-':\n\t          // YY-M-D\n\t          if (match[3] > 12 || match[5] > 31 || match[1] < 70 && match[1] > 38) {\n\t            return fail;\n\t          }\n\n\t          year = match[1] >= 0 && match[1] <= 38 ? +match[1] + 2000 : match[1];\n\t          return new Date(year, parseInt(match[3], 10) - 1, match[5], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t        case '.':\n\t          // D.M.YY or H.MM.SS\n\t          if (match[5] >= 70) {\n\t            // D.M.YY\n\t            if (match[3] > 12 || match[1] > 31) {\n\t              return fail;\n\t            }\n\n\t            return new Date(match[5], parseInt(match[3], 10) - 1, match[1], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t          }\n\t          if (match[5] < 60 && !match[6]) {\n\t            // H.MM.SS\n\t            if (match[1] > 23 || match[3] > 59) {\n\t              return fail;\n\t            }\n\n\t            today = new Date();\n\t            return new Date(today.getFullYear(), today.getMonth(), today.getDate(), match[1] || 0, match[3] || 0, match[5] || 0, match[9] || 0) / 1000;\n\t          }\n\n\t          // invalid format, cannot be parsed\n\t          return fail;\n\t        case '/':\n\t          // M/D/YY\n\t          if (match[1] > 12 || match[3] > 31 || match[5] < 70 && match[5] > 38) {\n\t            return fail;\n\t          }\n\n\t          year = match[5] >= 0 && match[5] <= 38 ? +match[5] + 2000 : match[5];\n\t          return new Date(year, parseInt(match[1], 10) - 1, match[3], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t        case ':':\n\t          // HH:MM:SS\n\t          if (match[1] > 23 || match[3] > 59 || match[5] > 59) {\n\t            return fail;\n\t          }\n\n\t          today = new Date();\n\t          return new Date(today.getFullYear(), today.getMonth(), today.getDate(), match[1] || 0, match[3] || 0, match[5] || 0) / 1000;\n\t      }\n\t    }\n\t  }\n\n\t  // other formats and \"now\" should be parsed by Date.parse()\n\t  if (text === 'now') {\n\t    return now === null || isNaN(now) ? new Date().getTime() / 1000 | 0 : now | 0;\n\t  }\n\t  if (!isNaN(parsed = Date.parse(text))) {\n\t    return parsed / 1000 | 0;\n\t  }\n\t  // Browsers !== Chrome have problems parsing ISO 8601 date strings, as they do\n\t  // not accept lower case characters, space, or shortened time zones.\n\t  // Therefore, fix these problems and try again.\n\t  // Examples:\n\t  //   2015-04-15 20:33:59+02\n\t  //   2015-04-15 20:33:59z\n\t  //   2015-04-15t20:33:59+02:00\n\t  pattern = new RegExp(['^([0-9]{4}-[0-9]{2}-[0-9]{2})', '[ t]', '([0-9]{2}:[0-9]{2}:[0-9]{2}(\\\\.[0-9]+)?)', '([\\\\+-][0-9]{2}(:[0-9]{2})?|z)'].join(''));\n\t  match = text.match(pattern);\n\t  if (match) {\n\t    // @todo: time zone information\n\t    if (match[4] === 'z') {\n\t      match[4] = 'Z';\n\t    } else if (match[4].match(/^([+-][0-9]{2})$/)) {\n\t      match[4] = match[4] + ':00';\n\t    }\n\n\t    if (!isNaN(parsed = Date.parse(match[1] + 'T' + match[2] + match[4]))) {\n\t      return parsed / 1000 | 0;\n\t    }\n\t  }\n\n\t  date = now ? new Date(now * 1000) : new Date();\n\t  days = {\n\t    'sun': 0,\n\t    'mon': 1,\n\t    'tue': 2,\n\t    'wed': 3,\n\t    'thu': 4,\n\t    'fri': 5,\n\t    'sat': 6\n\t  };\n\t  ranges = {\n\t    'yea': 'FullYear',\n\t    'mon': 'Month',\n\t    'day': 'Date',\n\t    'hou': 'Hours',\n\t    'min': 'Minutes',\n\t    'sec': 'Seconds'\n\t  };\n\n\t  function lastNext(type, range, modifier) {\n\t    var diff;\n\t    var day = days[range];\n\n\t    if (typeof day !== 'undefined') {\n\t      diff = day - date.getDay();\n\n\t      if (diff === 0) {\n\t        diff = 7 * modifier;\n\t      } else if (diff > 0 && type === 'last') {\n\t        diff -= 7;\n\t      } else if (diff < 0 && type === 'next') {\n\t        diff += 7;\n\t      }\n\n\t      date.setDate(date.getDate() + diff);\n\t    }\n\t  }\n\n\t  function process(val) {\n\t    // @todo: Reconcile this with regex using \\s, taking into account\n\t    // browser issues with split and regexes\n\t    var splt = val.split(' ');\n\t    var type = splt[0];\n\t    var range = splt[1].substring(0, 3);\n\t    var typeIsNumber = /\\d+/.test(type);\n\t    var ago = splt[2] === 'ago';\n\t    var num = (type === 'last' ? -1 : 1) * (ago ? -1 : 1);\n\n\t    if (typeIsNumber) {\n\t      num *= parseInt(type, 10);\n\t    }\n\n\t    if (ranges.hasOwnProperty(range) && !splt[1].match(/^mon(day|\\.)?$/i)) {\n\t      return date['set' + ranges[range]](date['get' + ranges[range]]() + num);\n\t    }\n\n\t    if (range === 'wee') {\n\t      return date.setDate(date.getDate() + num * 7);\n\t    }\n\n\t    if (type === 'next' || type === 'last') {\n\t      lastNext(type, range, num);\n\t    } else if (!typeIsNumber) {\n\t      return false;\n\t    }\n\n\t    return true;\n\t  }\n\n\t  times = '(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec' + '|sunday|sun\\\\.?|monday|mon\\\\.?|tuesday|tue\\\\.?|wednesday|wed\\\\.?' + '|thursday|thu\\\\.?|friday|fri\\\\.?|saturday|sat\\\\.?)';\n\t  regex = '([+-]?\\\\d+\\\\s' + times + '|' + '(last|next)\\\\s' + times + ')(\\\\sago)?';\n\n\t  match = text.match(new RegExp(regex, 'gi'));\n\t  if (!match) {\n\t    return fail;\n\t  }\n\n\t  for (i = 0, len = match.length; i < len; i++) {\n\t    if (!process(match[i])) {\n\t      return fail;\n\t    }\n\t  }\n\n\t  return date.getTime() / 1000;\n\t};\n\t//# sourceMappingURL=strtotime.js.map\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function date(format, timestamp) {\n\t  //  discuss at: http://locutus.io/php/date/\n\t  // original by: Carlos R. L. Rodrigues (http://www.jsfromhell.com)\n\t  // original by: gettimeofday\n\t  //    parts by: Peter-Paul Koch (http://www.quirksmode.org/js/beat.html)\n\t  // improved by: Kevin van Zonneveld (http://kvz.io)\n\t  // improved by: MeEtc (http://yass.meetcweb.com)\n\t  // improved by: Brad Touesnard\n\t  // improved by: Tim Wiel\n\t  // improved by: Bryan Elliott\n\t  // improved by: David Randall\n\t  // improved by: Theriault (https://github.com/Theriault)\n\t  // improved by: Theriault (https://github.com/Theriault)\n\t  // improved by: Brett Zamir (http://brett-zamir.me)\n\t  // improved by: Theriault (https://github.com/Theriault)\n\t  // improved by: Thomas Beaucourt (http://www.webapp.fr)\n\t  // improved by: JT\n\t  // improved by: Theriault (https://github.com/Theriault)\n\t  // improved by: Rafa Kukawski (http://blog.kukawski.pl)\n\t  // improved by: Theriault (https://github.com/Theriault)\n\t  //    input by: Brett Zamir (http://brett-zamir.me)\n\t  //    input by: majak\n\t  //    input by: Alex\n\t  //    input by: Martin\n\t  //    input by: Alex Wilson\n\t  //    input by: Haravikk\n\t  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\n\t  // bugfixed by: majak\n\t  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\n\t  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n\t  // bugfixed by: omid (http://locutus.io/php/380:380#comment_137122)\n\t  // bugfixed by: Chris (http://www.devotis.nl/)\n\t  //      note 1: Uses global: locutus to store the default timezone\n\t  //      note 1: Although the function potentially allows timezone info\n\t  //      note 1: (see notes), it currently does not set\n\t  //      note 1: per a timezone specified by date_default_timezone_set(). Implementers might use\n\t  //      note 1: $locutus.currentTimezoneOffset and\n\t  //      note 1: $locutus.currentTimezoneDST set by that function\n\t  //      note 1: in order to adjust the dates in this function\n\t  //      note 1: (or our other date functions!) accordingly\n\t  //   example 1: date('H:m:s \\\\m \\\\i\\\\s \\\\m\\\\o\\\\n\\\\t\\\\h', 1062402400)\n\t  //   returns 1: '07:09:40 m is month'\n\t  //   example 2: date('F j, Y, g:i a', 1062462400)\n\t  //   returns 2: 'September 2, 2003, 12:26 am'\n\t  //   example 3: date('Y W o', 1062462400)\n\t  //   returns 3: '2003 36 2003'\n\t  //   example 4: var $x = date('Y m d', (new Date()).getTime() / 1000)\n\t  //   example 4: $x = $x + ''\n\t  //   example 4: var $result = $x.length // 2009 01 09\n\t  //   returns 4: 10\n\t  //   example 5: date('W', 1104534000)\n\t  //   returns 5: '52'\n\t  //   example 6: date('B t', 1104534000)\n\t  //   returns 6: '999 31'\n\t  //   example 7: date('W U', 1293750000.82); // 2010-12-31\n\t  //   returns 7: '52 1293750000'\n\t  //   example 8: date('W', 1293836400); // 2011-01-01\n\t  //   returns 8: '52'\n\t  //   example 9: date('W Y-m-d', 1293974054); // 2011-01-02\n\t  //   returns 9: '52 2011-01-02'\n\t  //        test: skip-1 skip-2 skip-5\n\n\t  var jsdate, f;\n\t  // Keep this here (works, but for code commented-out below for file size reasons)\n\t  // var tal= [];\n\t  var txtWords = ['Sun', 'Mon', 'Tues', 'Wednes', 'Thurs', 'Fri', 'Satur', 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\t  // trailing backslash -> (dropped)\n\t  // a backslash followed by any character (including backslash) -> the character\n\t  // empty string -> empty string\n\t  var formatChr = /\\\\?(.?)/gi;\n\t  var formatChrCb = function formatChrCb(t, s) {\n\t    return f[t] ? f[t]() : s;\n\t  };\n\t  var _pad = function _pad(n, c) {\n\t    n = String(n);\n\t    while (n.length < c) {\n\t      n = '0' + n;\n\t    }\n\t    return n;\n\t  };\n\t  f = {\n\t    // Day\n\t    d: function d() {\n\t      // Day of month w/leading 0; 01..31\n\t      return _pad(f.j(), 2);\n\t    },\n\t    D: function D() {\n\t      // Shorthand day name; Mon...Sun\n\t      return f.l().slice(0, 3);\n\t    },\n\t    j: function j() {\n\t      // Day of month; 1..31\n\t      return jsdate.getDate();\n\t    },\n\t    l: function l() {\n\t      // Full day name; Monday...Sunday\n\t      return txtWords[f.w()] + 'day';\n\t    },\n\t    N: function N() {\n\t      // ISO-8601 day of week; 1[Mon]..7[Sun]\n\t      return f.w() || 7;\n\t    },\n\t    S: function S() {\n\t      // Ordinal suffix for day of month; st, nd, rd, th\n\t      var j = f.j();\n\t      var i = j % 10;\n\t      if (i <= 3 && parseInt(j % 100 / 10, 10) === 1) {\n\t        i = 0;\n\t      }\n\t      return ['st', 'nd', 'rd'][i - 1] || 'th';\n\t    },\n\t    w: function w() {\n\t      // Day of week; 0[Sun]..6[Sat]\n\t      return jsdate.getDay();\n\t    },\n\t    z: function z() {\n\t      // Day of year; 0..365\n\t      var a = new Date(f.Y(), f.n() - 1, f.j());\n\t      var b = new Date(f.Y(), 0, 1);\n\t      return Math.round((a - b) / 864e5);\n\t    },\n\n\t    // Week\n\t    W: function W() {\n\t      // ISO-8601 week number\n\t      var a = new Date(f.Y(), f.n() - 1, f.j() - f.N() + 3);\n\t      var b = new Date(a.getFullYear(), 0, 4);\n\t      return _pad(1 + Math.round((a - b) / 864e5 / 7), 2);\n\t    },\n\n\t    // Month\n\t    F: function F() {\n\t      // Full month name; January...December\n\t      return txtWords[6 + f.n()];\n\t    },\n\t    m: function m() {\n\t      // Month w/leading 0; 01...12\n\t      return _pad(f.n(), 2);\n\t    },\n\t    M: function M() {\n\t      // Shorthand month name; Jan...Dec\n\t      return f.F().slice(0, 3);\n\t    },\n\t    n: function n() {\n\t      // Month; 1...12\n\t      return jsdate.getMonth() + 1;\n\t    },\n\t    t: function t() {\n\t      // Days in month; 28...31\n\t      return new Date(f.Y(), f.n(), 0).getDate();\n\t    },\n\n\t    // Year\n\t    L: function L() {\n\t      // Is leap year?; 0 or 1\n\t      var j = f.Y();\n\t      return j % 4 === 0 & j % 100 !== 0 | j % 400 === 0;\n\t    },\n\t    o: function o() {\n\t      // ISO-8601 year\n\t      var n = f.n();\n\t      var W = f.W();\n\t      var Y = f.Y();\n\t      return Y + (n === 12 && W < 9 ? 1 : n === 1 && W > 9 ? -1 : 0);\n\t    },\n\t    Y: function Y() {\n\t      // Full year; e.g. 1980...2010\n\t      return jsdate.getFullYear();\n\t    },\n\t    y: function y() {\n\t      // Last two digits of year; 00...99\n\t      return f.Y().toString().slice(-2);\n\t    },\n\n\t    // Time\n\t    a: function a() {\n\t      // am or pm\n\t      return jsdate.getHours() > 11 ? 'pm' : 'am';\n\t    },\n\t    A: function A() {\n\t      // AM or PM\n\t      return f.a().toUpperCase();\n\t    },\n\t    B: function B() {\n\t      // Swatch Internet time; 000..999\n\t      var H = jsdate.getUTCHours() * 36e2;\n\t      // Hours\n\t      var i = jsdate.getUTCMinutes() * 60;\n\t      // Minutes\n\t      // Seconds\n\t      var s = jsdate.getUTCSeconds();\n\t      return _pad(Math.floor((H + i + s + 36e2) / 86.4) % 1e3, 3);\n\t    },\n\t    g: function g() {\n\t      // 12-Hours; 1..12\n\t      return f.G() % 12 || 12;\n\t    },\n\t    G: function G() {\n\t      // 24-Hours; 0..23\n\t      return jsdate.getHours();\n\t    },\n\t    h: function h() {\n\t      // 12-Hours w/leading 0; 01..12\n\t      return _pad(f.g(), 2);\n\t    },\n\t    H: function H() {\n\t      // 24-Hours w/leading 0; 00..23\n\t      return _pad(f.G(), 2);\n\t    },\n\t    i: function i() {\n\t      // Minutes w/leading 0; 00..59\n\t      return _pad(jsdate.getMinutes(), 2);\n\t    },\n\t    s: function s() {\n\t      // Seconds w/leading 0; 00..59\n\t      return _pad(jsdate.getSeconds(), 2);\n\t    },\n\t    u: function u() {\n\t      // Microseconds; 000000-999000\n\t      return _pad(jsdate.getMilliseconds() * 1000, 6);\n\t    },\n\n\t    // Timezone\n\t    e: function e() {\n\t      // Timezone identifier; e.g. Atlantic/Azores, ...\n\t      // The following works, but requires inclusion of the very large\n\t      // timezone_abbreviations_list() function.\n\t      /*              return that.date_default_timezone_get();\n\t       */\n\t      var msg = 'Not supported (see source code of date() for timezone on how to add support)';\n\t      throw new Error(msg);\n\t    },\n\t    I: function I() {\n\t      // DST observed?; 0 or 1\n\t      // Compares Jan 1 minus Jan 1 UTC to Jul 1 minus Jul 1 UTC.\n\t      // If they are not equal, then DST is observed.\n\t      var a = new Date(f.Y(), 0);\n\t      // Jan 1\n\t      var c = Date.UTC(f.Y(), 0);\n\t      // Jan 1 UTC\n\t      var b = new Date(f.Y(), 6);\n\t      // Jul 1\n\t      // Jul 1 UTC\n\t      var d = Date.UTC(f.Y(), 6);\n\t      return a - c !== b - d ? 1 : 0;\n\t    },\n\t    O: function O() {\n\t      // Difference to GMT in hour format; e.g. +0200\n\t      var tzo = jsdate.getTimezoneOffset();\n\t      var a = Math.abs(tzo);\n\t      return (tzo > 0 ? '-' : '+') + _pad(Math.floor(a / 60) * 100 + a % 60, 4);\n\t    },\n\t    P: function P() {\n\t      // Difference to GMT w/colon; e.g. +02:00\n\t      var O = f.O();\n\t      return O.substr(0, 3) + ':' + O.substr(3, 2);\n\t    },\n\t    T: function T() {\n\t      // The following works, but requires inclusion of the very\n\t      // large timezone_abbreviations_list() function.\n\t      /*              var abbr, i, os, _default;\n\t      if (!tal.length) {\n\t        tal = that.timezone_abbreviations_list();\n\t      }\n\t      if ($locutus && $locutus.default_timezone) {\n\t        _default = $locutus.default_timezone;\n\t        for (abbr in tal) {\n\t          for (i = 0; i < tal[abbr].length; i++) {\n\t            if (tal[abbr][i].timezone_id === _default) {\n\t              return abbr.toUpperCase();\n\t            }\n\t          }\n\t        }\n\t      }\n\t      for (abbr in tal) {\n\t        for (i = 0; i < tal[abbr].length; i++) {\n\t          os = -jsdate.getTimezoneOffset() * 60;\n\t          if (tal[abbr][i].offset === os) {\n\t            return abbr.toUpperCase();\n\t          }\n\t        }\n\t      }\n\t      */\n\t      return 'UTC';\n\t    },\n\t    Z: function Z() {\n\t      // Timezone offset in seconds (-43200...50400)\n\t      return -jsdate.getTimezoneOffset() * 60;\n\t    },\n\n\t    // Full Date/Time\n\t    c: function c() {\n\t      // ISO-8601 date.\n\t      return 'Y-m-d\\\\TH:i:sP'.replace(formatChr, formatChrCb);\n\t    },\n\t    r: function r() {\n\t      // RFC 2822\n\t      return 'D, d M Y H:i:s O'.replace(formatChr, formatChrCb);\n\t    },\n\t    U: function U() {\n\t      // Seconds since UNIX epoch\n\t      return jsdate / 1000 | 0;\n\t    }\n\t  };\n\n\t  var _date = function _date(format, timestamp) {\n\t    jsdate = timestamp === undefined ? new Date() // Not provided\n\t    : timestamp instanceof Date ? new Date(timestamp) // JS Date()\n\t    : new Date(timestamp * 1000) // UNIX timestamp (auto-convert to int)\n\t    ;\n\t    return format.replace(formatChr, formatChrCb);\n\t  };\n\n\t  return _date(format, timestamp);\n\t};\n\t//# sourceMappingURL=date.js.map\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function boolval(mixedVar) {\n\t  // original by: Will Rowe\n\t  //   example 1: boolval(true)\n\t  //   returns 1: true\n\t  //   example 2: boolval(false)\n\t  //   returns 2: false\n\t  //   example 3: boolval(0)\n\t  //   returns 3: false\n\t  //   example 4: boolval(0.0)\n\t  //   returns 4: false\n\t  //   example 5: boolval('')\n\t  //   returns 5: false\n\t  //   example 6: boolval('0')\n\t  //   returns 6: false\n\t  //   example 7: boolval([])\n\t  //   returns 7: false\n\t  //   example 8: boolval('')\n\t  //   returns 8: false\n\t  //   example 9: boolval(null)\n\t  //   returns 9: false\n\t  //   example 10: boolval(undefined)\n\t  //   returns 10: false\n\t  //   example 11: boolval('true')\n\t  //   returns 11: true\n\n\t  if (mixedVar === false) {\n\t    return false;\n\t  }\n\n\t  if (mixedVar === 0 || mixedVar === 0.0) {\n\t    return false;\n\t  }\n\n\t  if (mixedVar === '' || mixedVar === '0') {\n\t    return false;\n\t  }\n\n\t  if (Array.isArray(mixedVar) && mixedVar.length === 0) {\n\t    return false;\n\t  }\n\n\t  if (mixedVar === null || mixedVar === undefined) {\n\t    return false;\n\t  }\n\n\t  return true;\n\t};\n\t//# sourceMappingURL=boolval.js.map\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(Twig) {\n\t    'use strict';\n\n\t    Twig.Templates.registerLoader('ajax', function(location, params, callback, error_callback) {\n\t        var template,\n\t            xmlhttp,\n\t            precompiled = params.precompiled,\n\t            parser = this.parsers[params.parser] || this.parser.twig;\n\n\t        if (typeof XMLHttpRequest === \"undefined\") {\n\t            throw new Twig.Error('Unsupported platform: Unable to do ajax requests ' +\n\t                                 'because there is no \"XMLHTTPRequest\" implementation');\n\t        }\n\n\t        xmlhttp = new XMLHttpRequest();\n\t        xmlhttp.onreadystatechange = function() {\n\t            var data = null;\n\n\t            if(xmlhttp.readyState === 4) {\n\t                if (xmlhttp.status === 200 || (window.cordova && xmlhttp.status == 0)) {\n\t                    Twig.log.debug(\"Got template \", xmlhttp.responseText);\n\n\t                    if (precompiled === true) {\n\t                        data = JSON.parse(xmlhttp.responseText);\n\t                    } else {\n\t                        data = xmlhttp.responseText;\n\t                    }\n\n\t                    params.url = location;\n\t                    params.data = data;\n\n\t                    template = parser.call(this, params);\n\n\t                    if (typeof callback === 'function') {\n\t                        callback(template);\n\t                    }\n\t                } else {\n\t                    if (typeof error_callback === 'function') {\n\t                        error_callback(xmlhttp);\n\t                    }\n\t                }\n\t            }\n\t        };\n\t        xmlhttp.open(\"GET\", location, !!params.async);\n\t        xmlhttp.send();\n\n\t        if (params.async) {\n\t            // TODO: return deferred promise\n\t            return true;\n\t        } else {\n\t            return template;\n\t        }\n\t    });\n\n\t};\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function(Twig) {\n\t    'use strict';\n\n\t    var fs, path;\n\n\t    try {\n\t    \t// require lib dependencies at runtime\n\t    \tfs = __webpack_require__(19);\n\t    \tpath = __webpack_require__(20);\n\t    } catch (e) {\n\t    \t// NOTE: this is in a try/catch to avoid errors cross platform\n\t    }\n\n\t    Twig.Templates.registerLoader('fs', function(location, params, callback, error_callback) {\n\t        var template,\n\t            data = null,\n\t            precompiled = params.precompiled,\n\t            parser = this.parsers[params.parser] || this.parser.twig;\n\n\t        if (!fs || !path) {\n\t            throw new Twig.Error('Unsupported platform: Unable to load from file ' +\n\t                                 'because there is no \"fs\" or \"path\" implementation');\n\t        }\n\n\t        var loadTemplateFn = function(err, data) {\n\t            if (err) {\n\t                if (typeof error_callback === 'function') {\n\t                    error_callback(err);\n\t                }\n\t                return;\n\t            }\n\n\t            if (precompiled === true) {\n\t                data = JSON.parse(data);\n\t            }\n\n\t            params.data = data;\n\t            params.path = params.path || location;\n\n\t            // template is in data\n\t            template = parser.call(this, params);\n\n\t            if (typeof callback === 'function') {\n\t                callback(template);\n\t            }\n\t        };\n\t        params.path = params.path || location;\n\n\t        if (params.async) {\n\t            fs.stat(params.path, function (err, stats) {\n\t                if (err || !stats.isFile()) {\n\t                    if (typeof error_callback === 'function') {\n\t                        error_callback(new Twig.Error('Unable to find template file ' + params.path));\n\t                    }\n\t                    return;\n\t                }\n\t                fs.readFile(params.path, 'utf8', loadTemplateFn);\n\t            });\n\t            // TODO: return deferred promise\n\t            return true;\n\t        } else {\n\t            try {\n\t                if (!fs.statSync(params.path).isFile()) {\n\t                    throw new Twig.Error('Unable to find template file ' + params.path);\n\t                }\n\t            } catch (err) {\n\t                throw new Twig.Error('Unable to find template file ' + params.path);\n\t            }\n\t            data = fs.readFileSync(params.path, 'utf8');\n\t            loadTemplateFn(undefined, data);\n\t            return template\n\t        }\n\t    });\n\n\t};\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __webpack_require__(41);\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __webpack_require__(42);\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t// ## twig.logic.js\n\t//\n\t// This file handles tokenizing, compiling and parsing logic tokens. {% ... %}\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\n\t    /**\n\t     * Namespace for logic handling.\n\t     */\n\t    Twig.logic = {};\n\n\t    /**\n\t     * Logic token types.\n\t     */\n\t    Twig.logic.type = {\n\t        if_:       'Twig.logic.type.if',\n\t        endif:     'Twig.logic.type.endif',\n\t        for_:      'Twig.logic.type.for',\n\t        endfor:    'Twig.logic.type.endfor',\n\t        else_:     'Twig.logic.type.else',\n\t        elseif:    'Twig.logic.type.elseif',\n\t        set:       'Twig.logic.type.set',\n\t        setcapture:'Twig.logic.type.setcapture',\n\t        endset:    'Twig.logic.type.endset',\n\t        filter:    'Twig.logic.type.filter',\n\t        endfilter: 'Twig.logic.type.endfilter',\n\t        shortblock: 'Twig.logic.type.shortblock',\n\t        block:     'Twig.logic.type.block',\n\t        endblock:  'Twig.logic.type.endblock',\n\t        extends_:  'Twig.logic.type.extends',\n\t        use:       'Twig.logic.type.use',\n\t        include:   'Twig.logic.type.include',\n\t        spaceless: 'Twig.logic.type.spaceless',\n\t        endspaceless: 'Twig.logic.type.endspaceless',\n\t        macro:     'Twig.logic.type.macro',\n\t        endmacro:  'Twig.logic.type.endmacro',\n\t        import_:   'Twig.logic.type.import',\n\t        from:      'Twig.logic.type.from',\n\t        embed:     'Twig.logic.type.embed',\n\t        endembed:  'Twig.logic.type.endembed'\n\t    };\n\n\n\t    // Regular expressions for handling logic tokens.\n\t    //\n\t    // Properties:\n\t    //\n\t    //      type:  The type of expression this matches\n\t    //\n\t    //      regex: A regular expression that matches the format of the token\n\t    //\n\t    //      next:  What logic tokens (if any) pop this token off the logic stack. If empty, the\n\t    //             logic token is assumed to not require an end tag and isn't push onto the stack.\n\t    //\n\t    //      open:  Does this tag open a logic expression or is it standalone. For example,\n\t    //             {% endif %} cannot exist without an opening {% if ... %} tag, so open = false.\n\t    //\n\t    //  Functions:\n\t    //\n\t    //      compile: A function that handles compiling the token into an output token ready for\n\t    //               parsing with the parse function.\n\t    //\n\t    //      parse:   A function that parses the compiled token into output (HTML / whatever the\n\t    //               template represents).\n\t    Twig.logic.definitions = [\n\t        {\n\t            /**\n\t             * If type logic tokens.\n\t             *\n\t             *  Format: {% if expression %}\n\t             */\n\t            type: Twig.logic.type.if_,\n\t            regex: /^if\\s+([\\s\\S]+)$/,\n\t            next: [\n\t                Twig.logic.type.else_,\n\t                Twig.logic.type.elseif,\n\t                Twig.logic.type.endif\n\t            ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var expression = token.match[1];\n\t                // Compile the expression.\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var that = this;\n\n\t                return Twig.expression.parseAsync.apply(this, [token.stack, context])\n\t                .then(function(result) {\n\t                    chain = true;\n\n\t                    if (Twig.lib.boolval(result)) {\n\t                        chain = false;\n\n\t                        return Twig.parseAsync.apply(that, [token.output, context]);\n\t                    }\n\n\t                    return '';\n\t                })\n\t                .then(function(output) {\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Else if type logic tokens.\n\t             *\n\t             *  Format: {% elseif expression %}\n\t             */\n\t            type: Twig.logic.type.elseif,\n\t            regex: /^elseif\\s+([^\\s].*)$/,\n\t            next: [\n\t                Twig.logic.type.else_,\n\t                Twig.logic.type.elseif,\n\t                Twig.logic.type.endif\n\t            ],\n\t            open: false,\n\t            compile: function (token) {\n\t                var expression = token.match[1];\n\t                // Compile the expression.\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var that = this;\n\n\t                return Twig.expression.parseAsync.apply(this, [token.stack, context])\n\t                .then(function(result) {\n\t                    if (chain && Twig.lib.boolval(result)) {\n\t                        chain = false;\n\n\t                        return Twig.parseAsync.apply(that, [token.output, context]);\n\t                    }\n\n\t                    return '';\n\t                })\n\t                .then(function(output) {\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    }\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Else if type logic tokens.\n\t             *\n\t             *  Format: {% elseif expression %}\n\t             */\n\t            type: Twig.logic.type.else_,\n\t            regex: /^else$/,\n\t            next: [\n\t                Twig.logic.type.endif,\n\t                Twig.logic.type.endfor\n\t            ],\n\t            open: false,\n\t            parse: function (token, context, chain) {\n\t                var promise = Twig.Promise.resolve('');\n\n\t                if (chain) {\n\t                    promise = Twig.parseAsync.apply(this, [token.output, context]);\n\t                }\n\n\t                return promise.then(function(output) {\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * End if type logic tokens.\n\t             *\n\t             *  Format: {% endif %}\n\t             */\n\t            type: Twig.logic.type.endif,\n\t            regex: /^endif$/,\n\t            next: [ ],\n\t            open: false\n\t        },\n\t        {\n\t            /**\n\t             * For type logic tokens.\n\t             *\n\t             *  Format: {% for expression %}\n\t             */\n\t            type: Twig.logic.type.for_,\n\t            regex: /^for\\s+([a-zA-Z0-9_,\\s]+)\\s+in\\s+([^\\s].*?)(?:\\s+if\\s+([^\\s].*))?$/,\n\t            next: [\n\t                Twig.logic.type.else_,\n\t                Twig.logic.type.endfor\n\t            ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var key_value = token.match[1],\n\t                    expression = token.match[2],\n\t                    conditional = token.match[3],\n\t                    kv_split = null;\n\n\t                token.key_var = null;\n\t                token.value_var = null;\n\n\t                if (key_value.indexOf(\",\") >= 0) {\n\t                    kv_split = key_value.split(',');\n\t                    if (kv_split.length === 2) {\n\t                        token.key_var = kv_split[0].trim();\n\t                        token.value_var = kv_split[1].trim();\n\t                    } else {\n\t                        throw new Twig.Error(\"Invalid expression in for loop: \" + key_value);\n\t                    }\n\t                } else {\n\t                    token.value_var = key_value;\n\t                }\n\n\t                // Valid expressions for a for loop\n\t                //   for item     in expression\n\t                //   for key,item in expression\n\n\t                // Compile the expression.\n\t                token.expression = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\n\t                // Compile the conditional (if available)\n\t                if (conditional) {\n\t                    token.conditional = Twig.expression.compile.apply(this, [{\n\t                        type:  Twig.expression.type.expression,\n\t                        value: conditional\n\t                    }]).stack;\n\t                }\n\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, continue_chain) {\n\t                // Parse expression\n\t                var output = [],\n\t                    len,\n\t                    index = 0,\n\t                    keyset,\n\t                    that = this,\n\t                    conditional = token.conditional,\n\t                    buildLoop = function(index, len) {\n\t                        var isConditional = conditional !== undefined;\n\t                        return {\n\t                            index: index+1,\n\t                            index0: index,\n\t                            revindex: isConditional?undefined:len-index,\n\t                            revindex0: isConditional?undefined:len-index-1,\n\t                            first: (index === 0),\n\t                            last: isConditional?undefined:(index === len-1),\n\t                            length: isConditional?undefined:len,\n\t                            parent: context\n\t                        };\n\t                    },\n\t                    // run once for each iteration of the loop\n\t                    loop = function(key, value) {\n\t                        var inner_context = Twig.ChildContext(context);\n\n\t                        inner_context[token.value_var] = value;\n\n\t                        if (token.key_var) {\n\t                            inner_context[token.key_var] = key;\n\t                        }\n\n\t                        // Loop object\n\t                        inner_context.loop = buildLoop(index, len);\n\n\t                        var promise = conditional === undefined ?\n\t                            Twig.Promise.resolve(true) :\n\t                            Twig.expression.parseAsync.apply(that, [conditional, inner_context]);\n\n\t                        promise.then(function(condition) {\n\t                            if (!condition)\n\t                                return;\n\n\t                            return Twig.parseAsync.apply(that, [token.output, inner_context])\n\t                            .then(function(o) {\n\t                                output.push(o);\n\t                                index += 1;\n\t                            });\n\t                        })\n\t                        .then(function() {\n\t                            // Delete loop-related variables from the context\n\t                            delete inner_context['loop'];\n\t                            delete inner_context[token.value_var];\n\t                            delete inner_context[token.key_var];\n\n\t                            // Merge in values that exist in context but have changed\n\t                            // in inner_context.\n\t                            Twig.merge(context, inner_context, true);\n\t                        });\n\t                    };\n\n\n\t                return Twig.expression.parseAsync.apply(this, [token.expression, context])\n\t                .then(function(result) {\n\t                    if (Twig.lib.is('Array', result)) {\n\t                        len = result.length;\n\t                        Twig.async.forEach(result, function (value) {\n\t                            var key = index;\n\n\t                            return loop(key, value);\n\t                        });\n\t                    } else if (Twig.lib.is('Object', result)) {\n\t                        if (result._keys !== undefined) {\n\t                            keyset = result._keys;\n\t                        } else {\n\t                            keyset = Object.keys(result);\n\t                        }\n\t                        len = keyset.length;\n\t                        Twig.forEach(keyset, function(key) {\n\t                            // Ignore the _keys property, it's internal to twig.js\n\t                            if (key === \"_keys\") return;\n\n\t                            loop(key,  result[key]);\n\t                        });\n\t                    }\n\n\t                    // Only allow else statements if no output was generated\n\t                    continue_chain = (output.length === 0);\n\n\t                    return {\n\t                        chain: continue_chain,\n\t                        output: Twig.output.apply(that, [output])\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * End if type logic tokens.\n\t             *\n\t             *  Format: {% endif %}\n\t             */\n\t            type: Twig.logic.type.endfor,\n\t            regex: /^endfor$/,\n\t            next: [ ],\n\t            open: false\n\t        },\n\t        {\n\t            /**\n\t             * Set type logic tokens.\n\t             *\n\t             *  Format: {% set key = expression %}\n\t             */\n\t            type: Twig.logic.type.set,\n\t            regex: /^set\\s+([a-zA-Z0-9_,\\s]+)\\s*=\\s*([\\s\\S]+)$/,\n\t            next: [ ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var key = token.match[1].trim(),\n\t                    expression = token.match[2],\n\t                    // Compile the expression.\n\t                    expression_stack  = Twig.expression.compile.apply(this, [{\n\t                        type:  Twig.expression.type.expression,\n\t                        value: expression\n\t                    }]).stack;\n\n\t                token.key = key;\n\t                token.expression = expression_stack;\n\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, continue_chain) {\n\t                var key = token.key;\n\n\t                return Twig.expression.parseAsync.apply(this, [token.expression, context])\n\t                .then(function(value) {\n\t                    if (value === context) {\n\t                        /*  If storing the context in a variable, it needs to be a clone of the current state of context.\n\t                            Otherwise we have a context with infinite recursion.\n\t                            Fixes #341\n\t                        */\n\t                        value = Twig.lib.copy(value);\n\t                    }\n\n\t                    context[key] = value;\n\n\t                    return {\n\t                        chain: continue_chain,\n\t                        context: context\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Set capture type logic tokens.\n\t             *\n\t             *  Format: {% set key %}\n\t             */\n\t            type: Twig.logic.type.setcapture,\n\t            regex: /^set\\s+([a-zA-Z0-9_,\\s]+)$/,\n\t            next: [\n\t                Twig.logic.type.endset\n\t            ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var key = token.match[1].trim();\n\n\t                token.key = key;\n\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, continue_chain) {\n\t                var that = this,\n\t                    key = token.key;\n\n\t                return Twig.parseAsync.apply(this, [token.output, context])\n\t                .then(function(value) {\n\t                    // set on both the global and local context\n\t                    that.context[key] = value;\n\t                    context[key] = value;\n\n\t                    return {\n\t                        chain: continue_chain,\n\t                        context: context\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * End set type block logic tokens.\n\t             *\n\t             *  Format: {% endset %}\n\t             */\n\t            type: Twig.logic.type.endset,\n\t            regex: /^endset$/,\n\t            next: [ ],\n\t            open: false\n\t        },\n\t        {\n\t            /**\n\t             * Filter logic tokens.\n\t             *\n\t             *  Format: {% filter upper %} or {% filter lower|escape %}\n\t             */\n\t            type: Twig.logic.type.filter,\n\t            regex: /^filter\\s+(.+)$/,\n\t            next: [\n\t                Twig.logic.type.endfilter\n\t            ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var expression = \"|\" + token.match[1].trim();\n\t                // Compile the expression.\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                return Twig.parseAsync.apply(this, [token.output, context])\n\t                .then(function(unfiltered) {\n\t                    var stack = [{\n\t                        type: Twig.expression.type.string,\n\t                        value: unfiltered\n\t                    }].concat(token.stack);\n\n\t                    return Twig.expression.parseAsync.apply(that, [stack, context]);\n\t                })\n\t                .then(function(output) {\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    }\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * End filter logic tokens.\n\t             *\n\t             *  Format: {% endfilter %}\n\t             */\n\t            type: Twig.logic.type.endfilter,\n\t            regex: /^endfilter$/,\n\t            next: [ ],\n\t            open: false\n\t        },\n\t        {\n\t            /**\n\t             * Block logic tokens.\n\t             *\n\t             *  Format: {% block title %}\n\t             */\n\t            type: Twig.logic.type.block,\n\t            regex: /^block\\s+([a-zA-Z0-9_]+)$/,\n\t            next: [\n\t                Twig.logic.type.endblock\n\t            ],\n\t            open: true,\n\t            compile: function (token) {\n\t                token.block = token.match[1].trim();\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var that = this,\n\t                    block_output,\n\t                    output,\n\t                    promise = Twig.Promise.resolve(),\n\t                    isImported = Twig.indexOf(this.importedBlocks, token.block) > -1,\n\t                    hasParent = this.blocks[token.block] && Twig.indexOf(this.blocks[token.block], Twig.placeholders.parent) > -1;\n\n\t                // Don't override previous blocks unless they're imported with \"use\"\n\t                // Loops should be exempted as well.\n\t                if (this.blocks[token.block] === undefined || isImported || hasParent || context.loop || token.overwrite) {\n\t                    if (token.expression) {\n\t                        promise = Twig.expression.parseAsync.apply(this, [token.output, context])\n\t                        .then(function(value) {\n\t                            return Twig.expression.parseAsync.apply(that, [{\n\t                                type: Twig.expression.type.string,\n\t                                value: value\n\t                            }, context]);\n\t                        });\n\t                    } else {\n\t                        promise = Twig.parseAsync.apply(this, [token.output, context])\n\t                        .then(function(value) {\n\t                            return Twig.expression.parseAsync.apply(that, [{\n\t                                type: Twig.expression.type.string,\n\t                                value: value\n\t                            }, context]);\n\t                        });\n\t                    }\n\n\t                    promise = promise.then(function(block_output) {\n\t                        if (isImported) {\n\t                            // once the block is overridden, remove it from the list of imported blocks\n\t                            that.importedBlocks.splice(that.importedBlocks.indexOf(token.block), 1);\n\t                        }\n\n\t                        if (hasParent) {\n\t                            that.blocks[token.block] = Twig.Markup(that.blocks[token.block].replace(Twig.placeholders.parent, block_output));\n\t                        } else {\n\t                            that.blocks[token.block] = block_output;\n\t                        }\n\n\t                        that.originalBlockTokens[token.block] = {\n\t                            type: token.type,\n\t                            block: token.block,\n\t                            output: token.output,\n\t                            overwrite: true\n\t                        };\n\t                    });\n\t                }\n\n\t                return promise.then(function() {\n\t                    // Check if a child block has been set from a template extending this one.\n\t                    if (that.child.blocks[token.block]) {\n\t                        output = that.child.blocks[token.block];\n\t                    } else {\n\t                        output = that.blocks[token.block];\n\t                    }\n\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Block shorthand logic tokens.\n\t             *\n\t             *  Format: {% block title expression %}\n\t             */\n\t            type: Twig.logic.type.shortblock,\n\t            regex: /^block\\s+([a-zA-Z0-9_]+)\\s+(.+)$/,\n\t            next: [ ],\n\t            open: true,\n\t            compile: function (token) {\n\t                token.expression = token.match[2].trim();\n\n\t                token.output = Twig.expression.compile({\n\t                    type: Twig.expression.type.expression,\n\t                    value: token.expression\n\t                }).stack;\n\n\t                token.block = token.match[1].trim();\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                return Twig.logic.handler[Twig.logic.type.block].parse.apply(this, arguments);\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * End block logic tokens.\n\t             *\n\t             *  Format: {% endblock %}\n\t             */\n\t            type: Twig.logic.type.endblock,\n\t            regex: /^endblock(?:\\s+([a-zA-Z0-9_]+))?$/,\n\t            next: [ ],\n\t            open: false\n\t        },\n\t        {\n\t            /**\n\t             * Block logic tokens.\n\t             *\n\t             *  Format: {% extends \"template.twig\" %}\n\t             */\n\t            type: Twig.logic.type.extends_,\n\t            regex: /^extends\\s+(.+)$/,\n\t            next: [ ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var expression = token.match[1].trim();\n\t                delete token.match;\n\n\t                token.stack   = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var template,\n\t                    that = this,\n\t                    innerContext = Twig.ChildContext(context);\n\n\t                // Resolve filename\n\t                return Twig.expression.parseAsync.apply(this, [token.stack, context])\n\t                .then(function(file) {\n\t                    // Set parent template\n\t                    that.extend = file;\n\n\t                    if (file instanceof Twig.Template) {\n\t                        template = file;\n\t                    } else {\n\t                        // Import file\n\t                        template = that.importFile(file);\n\t                    }\n\n\t                    // Render the template in case it puts anything in its context\n\t                    return template.renderAsync(innerContext);\n\t                })\n\t                .then(function() {\n\t                    // Extend the parent context with the extended context\n\t                    Twig.lib.extend(context, innerContext);\n\n\t                    return {\n\t                        chain: chain,\n\t                        output: ''\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Block logic tokens.\n\t             *\n\t             *  Format: {% use \"template.twig\" %}\n\t             */\n\t            type: Twig.logic.type.use,\n\t            regex: /^use\\s+(.+)$/,\n\t            next: [ ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var expression = token.match[1].trim();\n\t                delete token.match;\n\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var that = this;\n\n\t                // Resolve filename\n\t                return Twig.expression.parseAsync.apply(this, [token.stack, context])\n\t                .then(function(file) {\n\t                    // Import blocks\n\t                    that.importBlocks(file);\n\n\t                    return {\n\t                        chain: chain,\n\t                        output: ''\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * Block logic tokens.\n\t             *\n\t             *  Format: {% includes \"template.twig\" [with {some: 'values'} only] %}\n\t             */\n\t            type: Twig.logic.type.include,\n\t            regex: /^include\\s+(.+?)(?:\\s|$)(ignore missing(?:\\s|$))?(?:with\\s+([\\S\\s]+?))?(?:\\s|$)(only)?$/,\n\t            next: [ ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var match = token.match,\n\t                    expression = match[1].trim(),\n\t                    ignoreMissing = match[2] !== undefined,\n\t                    withContext = match[3],\n\t                    only = ((match[4] !== undefined) && match[4].length);\n\n\t                delete token.match;\n\n\t                token.only = only;\n\t                token.ignoreMissing = ignoreMissing;\n\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\n\t                if (withContext !== undefined) {\n\t                    token.withStack = Twig.expression.compile.apply(this, [{\n\t                        type:  Twig.expression.type.expression,\n\t                        value: withContext.trim()\n\t                    }]).stack;\n\t                }\n\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                // Resolve filename\n\t                var innerContext = {},\n\t                    i,\n\t                    template,\n\t                    that = this,\n\t                    promise = Twig.Promise.resolve();\n\n\t                if (!token.only) {\n\t                    innerContext = Twig.ChildContext(context);\n\t                }\n\n\t                if (token.withStack !== undefined) {\n\t                    promise = Twig.expression.parseAsync.apply(this, [token.withStack, context])\n\t                    .then(function(withContext) {\n\t                        for (i in withContext) {\n\t                            if (withContext.hasOwnProperty(i))\n\t                                innerContext[i] = withContext[i];\n\t                        }\n\t                    });\n\t                }\n\n\t                return promise\n\t                .then(function() {\n\t                    return Twig.expression.parseAsync.apply(that, [token.stack, context]);\n\t                })\n\t                .then(function(file) {\n\t                    if (file instanceof Twig.Template) {\n\t                        template = file;\n\t                    } else {\n\t                        // Import file\n\t                        try {\n\t                            template = that.importFile(file);\n\t                        } catch (err) {\n\t                            if (token.ignoreMissing) {\n\t                                return '';\n\t                            }\n\n\t                            throw err;\n\t                        }\n\t                    }\n\n\t                    return template.renderAsync(innerContext);\n\t                })\n\t                .then(function(output) {\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        {\n\t            type: Twig.logic.type.spaceless,\n\t            regex: /^spaceless$/,\n\t            next: [\n\t                Twig.logic.type.endspaceless\n\t            ],\n\t            open: true,\n\n\t            // Parse the html and return it without any spaces between tags\n\t            parse: function (token, context, chain) {\n\t                // Parse the output without any filter\n\t                return Twig.parseAsync.apply(this, [token.output, context])\n\t                .then(function(unfiltered) {\n\t                    var // A regular expression to find closing and opening tags with spaces between them\n\t                        rBetweenTagSpaces = />\\s+</g,\n\t                        // Replace all space between closing and opening html tags\n\t                        output = unfiltered.replace(rBetweenTagSpaces,'><').trim();\n\t                        // Rewrap output as a Twig.Markup\n\t                        output = Twig.Markup(output);\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    };\n\t                });\n\t            }\n\t        },\n\n\t        // Add the {% endspaceless %} token\n\t        {\n\t            type: Twig.logic.type.endspaceless,\n\t            regex: /^endspaceless$/,\n\t            next: [ ],\n\t            open: false\n\t        },\n\t        {\n\t            /**\n\t             * Macro logic tokens.\n\t             *\n\t             * Format: {% maro input(name, value, type, size) %}\n\t             *\n\t             */\n\t            type: Twig.logic.type.macro,\n\t            regex: /^macro\\s+([a-zA-Z0-9_]+)\\s*\\(\\s*((?:[a-zA-Z0-9_]+(?:,\\s*)?)*)\\s*\\)$/,\n\t            next: [\n\t                Twig.logic.type.endmacro\n\t            ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var macroName = token.match[1],\n\t                    parameters = token.match[2].split(/[\\s,]+/);\n\n\t                //TODO: Clean up duplicate check\n\t                for (var i=0; i<parameters.length; i++) {\n\t                    for (var j=0; j<parameters.length; j++){\n\t                        if (parameters[i] === parameters[j] && i !== j) {\n\t                            throw new Twig.Error(\"Duplicate arguments for parameter: \"+ parameters[i]);\n\t                        }\n\t                    }\n\t                }\n\n\t                token.macroName = macroName;\n\t                token.parameters = parameters;\n\n\t                delete token.match;\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var template = this;\n\t                this.macros[token.macroName] = function() {\n\t                    // Pass global context and other macros\n\t                    var macroContext = {\n\t                        _self: template.macros\n\t                    }\n\t                    // Add parameters from context to macroContext\n\t                    for (var i=0; i<token.parameters.length; i++) {\n\t                        var prop = token.parameters[i];\n\t                        if(typeof arguments[i] !== 'undefined') {\n\t                            macroContext[prop] = arguments[i];\n\t                        } else {\n\t                            macroContext[prop] = undefined;\n\t                        }\n\t                    }\n\n\t                    // Render\n\t                    return Twig.parseAsync.apply(template, [token.output, macroContext]);\n\t                };\n\n\t                return {\n\t                    chain: chain,\n\t                    output: ''\n\t                };\n\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * End macro logic tokens.\n\t             *\n\t             * Format: {% endmacro %}\n\t             */\n\t             type: Twig.logic.type.endmacro,\n\t             regex: /^endmacro$/,\n\t             next: [ ],\n\t             open: false\n\t        },\n\t        {\n\t            /*\n\t            * import logic tokens.\n\t            *\n\t            * Format: {% import \"template.twig\" as form %}\n\t            */\n\t            type: Twig.logic.type.import_,\n\t            regex: /^import\\s+(.+)\\s+as\\s+([a-zA-Z0-9_]+)$/,\n\t            next: [ ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var expression = token.match[1].trim(),\n\t                    contextName = token.match[2].trim();\n\t                delete token.match;\n\n\t                token.expression = expression;\n\t                token.contextName = contextName;\n\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type: Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var that = this,\n\t                    output = { chain: chain, output: '' };\n\n\t                if (token.expression === '_self') {\n\t                    context[token.contextName] = this.macros;\n\t                    return Twig.Promise.resolve(output);\n\t                }\n\n\t                return Twig.expression.parseAsync.apply(this, [token.stack, context])\n\t                .then(function(file) {\n\t                    return that.importFile(file || token.expression);\n\t                })\n\t                .then(function(template) {\n\t                    context[token.contextName] = template.renderAsync({}, {output: 'macros'});\n\n\t                    return output;\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /*\n\t            * from logic tokens.\n\t            *\n\t            * Format: {% from \"template.twig\" import func as form %}\n\t            */\n\t            type: Twig.logic.type.from,\n\t            regex: /^from\\s+(.+)\\s+import\\s+([a-zA-Z0-9_, ]+)$/,\n\t            next: [ ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var expression = token.match[1].trim(),\n\t                    macroExpressions = token.match[2].trim().split(/\\s*,\\s*/),\n\t                    macroNames = {};\n\n\t                for (var i=0; i<macroExpressions.length; i++) {\n\t                    var res = macroExpressions[i];\n\n\t                    // match function as variable\n\t                    var macroMatch = res.match(/^([a-zA-Z0-9_]+)\\s+as\\s+([a-zA-Z0-9_]+)$/);\n\t                    if (macroMatch) {\n\t                        macroNames[macroMatch[1].trim()] = macroMatch[2].trim();\n\t                    }\n\t                    else if (res.match(/^([a-zA-Z0-9_]+)$/)) {\n\t                        macroNames[res] = res;\n\t                    }\n\t                    else {\n\t                        // ignore import\n\t                    }\n\n\t                }\n\n\t                delete token.match;\n\n\t                token.expression = expression;\n\t                token.macroNames = macroNames;\n\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type: Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                var that = this,\n\t                    promise = Twig.Promise.resolve(this.macros);\n\n\t                if (token.expression !== \"_self\") {\n\t                    promise = Twig.expression.parseAsync.apply(this, [token.stack, context])\n\t                    .then(function(file) {\n\t                        return that.importFile(file || token.expression);\n\t                    })\n\t                    .then(function(template) {\n\t                        return template.renderAsync({}, {output: 'macros'});\n\t                    });\n\t                }\n\n\t                return promise\n\t                .then(function(macros) {\n\t                    for (var macroName in token.macroNames) {\n\t                        if (macros.hasOwnProperty(macroName)) {\n\t                            context[token.macroNames[macroName]] = macros[macroName];\n\t                        }\n\t                    }\n\n\t                    return {\n\t                        chain: chain,\n\t                        output: ''\n\t                    }\n\t                });\n\t            }\n\t        },\n\t        {\n\t            /**\n\t             * The embed tag combines the behaviour of include and extends.\n\t             * It allows you to include another template's contents, just like include does.\n\t             *\n\t             *  Format: {% embed \"template.twig\" [with {some: 'values'} only] %}\n\t             */\n\t            type: Twig.logic.type.embed,\n\t            regex: /^embed\\s+(.+?)(?:\\s|$)(ignore missing(?:\\s|$))?(?:with\\s+([\\S\\s]+?))?(?:\\s|$)(only)?$/,\n\t            next: [\n\t                Twig.logic.type.endembed\n\t            ],\n\t            open: true,\n\t            compile: function (token) {\n\t                var match = token.match,\n\t                    expression = match[1].trim(),\n\t                    ignoreMissing = match[2] !== undefined,\n\t                    withContext = match[3],\n\t                    only = ((match[4] !== undefined) && match[4].length);\n\n\t                delete token.match;\n\n\t                token.only = only;\n\t                token.ignoreMissing = ignoreMissing;\n\n\t                token.stack = Twig.expression.compile.apply(this, [{\n\t                    type:  Twig.expression.type.expression,\n\t                    value: expression\n\t                }]).stack;\n\n\t                if (withContext !== undefined) {\n\t                    token.withStack = Twig.expression.compile.apply(this, [{\n\t                        type:  Twig.expression.type.expression,\n\t                        value: withContext.trim()\n\t                    }]).stack;\n\t                }\n\n\t                return token;\n\t            },\n\t            parse: function (token, context, chain) {\n\t                // Resolve filename\n\t                var innerContext = {},\n\t                    that = this,\n\t                    i,\n\t                    template,\n\t                    promise = Twig.Promise.resolve();\n\n\t                if (!token.only) {\n\t                    for (i in context) {\n\t                        if (context.hasOwnProperty(i))\n\t                            innerContext[i] = context[i];\n\t                    }\n\t                }\n\n\t                if (token.withStack !== undefined) {\n\t                    promise = Twig.expression.parseAsync.apply(this, [token.withStack, context])\n\t                    .then(function(withContext) {\n\t                        for (i in withContext) {\n\t                            if (withContext.hasOwnProperty(i))\n\t                                innerContext[i] = withContext[i];\n\t                        }\n\t                    });\n\t                }\n\n\t                return promise.then(function() {\n\t                    return Twig.expression.parseAsync.apply(that, [token.stack, innerContext]);\n\t                })\n\t                .then(function(file) {\n\t                    if (file instanceof Twig.Template) {\n\t                        template = file;\n\t                    } else {\n\t                        // Import file\n\t                        try {\n\t                            template = that.importFile(file);\n\t                        } catch (err) {\n\t                            if (token.ignoreMissing) {\n\t                                return '';\n\t                            }\n\n\t                            throw err;\n\t                        }\n\t                    }\n\n\t                    // reset previous blocks\n\t                    that.blocks = {};\n\n\t                    // parse tokens. output will be not used\n\t                    return Twig.parseAsync.apply(that, [token.output, innerContext])\n\t                    .then(function() {\n\t                        // render tempalte with blocks defined in embed block\n\t                        return template.renderAsync(innerContext, {'blocks':that.blocks});\n\t                    });\n\t                })\n\t                .then(function(output) {\n\t                    return {\n\t                        chain: chain,\n\t                        output: output\n\t                    };\n\t                });\n\t            }\n\t        },\n\t        /* Add the {% endembed %} token\n\t         *\n\t         */\n\t        {\n\t            type: Twig.logic.type.endembed,\n\t            regex: /^endembed$/,\n\t            next: [ ],\n\t            open: false\n\t        }\n\n\t    ];\n\n\n\t    /**\n\t     * Registry for logic handlers.\n\t     */\n\t    Twig.logic.handler = {};\n\n\t    /**\n\t     * Define a new token type, available at Twig.logic.type.{type}\n\t     */\n\t    Twig.logic.extendType = function (type, value) {\n\t        value = value || (\"Twig.logic.type\" + type);\n\t        Twig.logic.type[type] = value;\n\t    };\n\n\t    /**\n\t     * Extend the logic parsing functionality with a new token definition.\n\t     *\n\t     * // Define a new tag\n\t     * Twig.logic.extend({\n\t     *     type: Twig.logic.type.{type},\n\t     *     // The pattern to match for this token\n\t     *     regex: ...,\n\t     *     // What token types can follow this token, leave blank if any.\n\t     *     next: [ ... ]\n\t     *     // Create and return compiled version of the token\n\t     *     compile: function(token) { ... }\n\t     *     // Parse the compiled token with the context provided by the render call\n\t     *     //   and whether this token chain is complete.\n\t     *     parse: function(token, context, chain) { ... }\n\t     * });\n\t     *\n\t     * @param {Object} definition The new logic expression.\n\t     */\n\t    Twig.logic.extend = function (definition) {\n\n\t        if (!definition.type) {\n\t            throw new Twig.Error(\"Unable to extend logic definition. No type provided for \" + definition);\n\t        } else {\n\t            Twig.logic.extendType(definition.type);\n\t        }\n\t        Twig.logic.handler[definition.type] = definition;\n\t    };\n\n\t    // Extend with built-in expressions\n\t    while (Twig.logic.definitions.length > 0) {\n\t        Twig.logic.extend(Twig.logic.definitions.shift());\n\t    }\n\n\t    /**\n\t     * Compile a logic token into an object ready for parsing.\n\t     *\n\t     * @param {Object} raw_token An uncompiled logic token.\n\t     *\n\t     * @return {Object} A compiled logic token, ready for parsing.\n\t     */\n\t    Twig.logic.compile = function (raw_token) {\n\t        var expression = raw_token.value.trim(),\n\t            token = Twig.logic.tokenize.apply(this, [expression]),\n\t            token_template = Twig.logic.handler[token.type];\n\n\t        // Check if the token needs compiling\n\t        if (token_template.compile) {\n\t            token = token_template.compile.apply(this, [token]);\n\t            Twig.log.trace(\"Twig.logic.compile: \", \"Compiled logic token to \", token);\n\t        }\n\n\t        return token;\n\t    };\n\n\t    /**\n\t     * Tokenize logic expressions. This function matches token expressions against regular\n\t     * expressions provided in token definitions provided with Twig.logic.extend.\n\t     *\n\t     * @param {string} expression the logic token expression to tokenize\n\t     *                (i.e. what's between {% and %})\n\t     *\n\t     * @return {Object} The matched token with type set to the token type and match to the regex match.\n\t     */\n\t    Twig.logic.tokenize = function (expression) {\n\t        var token = {},\n\t            token_template_type = null,\n\t            token_type = null,\n\t            token_regex = null,\n\t            regex_array = null,\n\t            regex = null,\n\t            match = null;\n\n\t        // Ignore whitespace around expressions.\n\t        expression = expression.trim();\n\n\t        for (token_template_type in Twig.logic.handler) {\n\t            if (Twig.logic.handler.hasOwnProperty(token_template_type)) {\n\t                // Get the type and regex for this template type\n\t                token_type = Twig.logic.handler[token_template_type].type;\n\t                token_regex = Twig.logic.handler[token_template_type].regex;\n\n\t                // Handle multiple regular expressions per type.\n\t                regex_array = [];\n\t                if (token_regex instanceof Array) {\n\t                    regex_array = token_regex;\n\t                } else {\n\t                    regex_array.push(token_regex);\n\t                }\n\n\t                // Check regular expressions in the order they were specified in the definition.\n\t                while (regex_array.length > 0) {\n\t                    regex = regex_array.shift();\n\t                    match = regex.exec(expression.trim());\n\t                    if (match !== null) {\n\t                        token.type  = token_type;\n\t                        token.match = match;\n\t                        Twig.log.trace(\"Twig.logic.tokenize: \", \"Matched a \", token_type, \" regular expression of \", match);\n\t                        return token;\n\t                    }\n\t                }\n\t            }\n\t        }\n\n\t        // No regex matches\n\t        throw new Twig.Error(\"Unable to parse '\" + expression.trim() + \"'\");\n\t    };\n\n\t    /**\n\t     * Parse a logic token within a given context.\n\t     *\n\t     * What are logic chains?\n\t     *      Logic chains represent a series of tokens that are connected,\n\t     *          for example:\n\t     *          {% if ... %} {% else %} {% endif %}\n\t     *\n\t     *      The chain parameter is used to signify if a chain is open of closed.\n\t     *      open:\n\t     *          More tokens in this chain should be parsed.\n\t     *      closed:\n\t     *          This token chain has completed parsing and any additional\n\t     *          tokens (else, elseif, etc...) should be ignored.\n\t     *\n\t     * @param {Object} token The compiled token.\n\t     * @param {Object} context The render context.\n\t     * @param {boolean} chain Is this an open logic chain. If false, that means a\n\t     *                        chain is closed and no further cases should be parsed.\n\t     */\n\t    Twig.logic.parse = function (token, context, chain, allow_async) {\n\t        var output = '',\n\t            promise,\n\t            is_async = true,\n\t            token_template;\n\n\t        context = context || { };\n\n\t        Twig.log.debug(\"Twig.logic.parse: \", \"Parsing logic token \", token);\n\n\t        token_template = Twig.logic.handler[token.type];\n\n\t        if (token_template.parse) {\n\t            output = token_template.parse.apply(this, [token, context, chain]);\n\t        }\n\n\t        promise = Twig.isPromise(output) ? output : Twig.Promise.resolve(output);\n\n\t        promise.then(function(o) {\n\t            is_async = false;\n\t            output = o;\n\t        });\n\n\t        if (allow_async)\n\t            return promise || Twig.Promise.resolve(output);\n\n\t        if (is_async)\n\t            throw new Twig.Error('You are using Twig.js in sync mode in combination with async extensions.');\n\n\t        return output;\n\t    };\n\n\t    return Twig;\n\n\t};\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(Twig) {\n\t    'use strict';\n\n\t    Twig.Templates.registerParser('source', function(params) {\n\t        return params.data || '';\n\t    });\n\t};\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(Twig) {\n\t    'use strict';\n\n\t    Twig.Templates.registerParser('twig', function(params) {\n\t        return new Twig.Template(params);\n\t    });\n\t};\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ## twig.path.js\n\t//\n\t// This file handles path parsing\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\n\t    /**\n\t     * Namespace for path handling.\n\t     */\n\t    Twig.path = {};\n\n\t    /**\n\t     * Generate the canonical version of a url based on the given base path and file path and in\n\t     * the previously registered namespaces.\n\t     *\n\t     * @param  {string} template The Twig Template\n\t     * @param  {string} file     The file path, may be relative and may contain namespaces.\n\t     *\n\t     * @return {string}          The canonical version of the path\n\t     */\n\t     Twig.path.parsePath = function(template, file) {\n\t        var namespaces = null,\n\t            file = file || \"\";\n\n\t        if (typeof template === 'object' && typeof template.options === 'object') {\n\t            namespaces = template.options.namespaces;\n\t        }\n\n\t        if (typeof namespaces === 'object' && (file.indexOf('::') > 0) || file.indexOf('@') >= 0){\n\t            for (var k in namespaces){\n\t                if (namespaces.hasOwnProperty(k)) {\n\t                    file = file.replace(k + '::', namespaces[k]);\n\t                    file = file.replace('@' + k, namespaces[k]);\n\t                }\n\t            }\n\n\t            return file;\n\t        }\n\n\t        return Twig.path.relativePath(template, file);\n\t    };\n\n\t    /**\n\t     * Generate the relative canonical version of a url based on the given base path and file path.\n\t     *\n\t     * @param {Twig.Template} template The Twig.Template.\n\t     * @param {string} file The file path, relative to the base path.\n\t     *\n\t     * @return {string} The canonical version of the path.\n\t     */\n\t    Twig.path.relativePath = function(template, file) {\n\t        var base,\n\t            base_path,\n\t            sep_chr = \"/\",\n\t            new_path = [],\n\t            file = file || \"\",\n\t            val;\n\n\t        if (template.url) {\n\t            if (typeof template.base !== 'undefined') {\n\t                base = template.base + ((template.base.charAt(template.base.length-1) === '/') ? '' : '/');\n\t            } else {\n\t                base = template.url;\n\t            }\n\t        } else if (template.path) {\n\t            // Get the system-specific path separator\n\t            var path = __webpack_require__(20),\n\t                sep = path.sep || sep_chr,\n\t                relative = new RegExp(\"^\\\\.{1,2}\" + sep.replace(\"\\\\\", \"\\\\\\\\\"));\n\t            file = file.replace(/\\//g, sep);\n\n\t            if (template.base !== undefined && file.match(relative) == null) {\n\t                file = file.replace(template.base, '');\n\t                base = template.base + sep;\n\t            } else {\n\t                base = path.normalize(template.path);\n\t            }\n\n\t            base = base.replace(sep+sep, sep);\n\t            sep_chr = sep;\n\t        } else if ((template.name || template.id) && template.method && template.method !== 'fs' && template.method !== 'ajax') {\n\t            // Custom registered loader\n\t            base = template.base || template.name || template.id;\n\t        } else {\n\t            throw new Twig.Error(\"Cannot extend an inline template.\");\n\t        }\n\n\t        base_path = base.split(sep_chr);\n\n\t        // Remove file from url\n\t        base_path.pop();\n\t        base_path = base_path.concat(file.split(sep_chr));\n\n\t        while (base_path.length > 0) {\n\t            val = base_path.shift();\n\t            if (val == \".\") {\n\t                // Ignore\n\t            } else if (val == \"..\" && new_path.length > 0 && new_path[new_path.length-1] != \"..\") {\n\t                new_path.pop();\n\t            } else {\n\t                new_path.push(val);\n\t            }\n\t        }\n\n\t        return new_path.join(sep_chr);\n\t    };\n\n\t    return Twig;\n\t};\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t// ## twig.tests.js\n\t//\n\t// This file handles expression tests. (is empty, is not defined, etc...)\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\t    Twig.tests = {\n\t        empty: function(value) {\n\t            if (value === null || value === undefined) return true;\n\t            // Handler numbers\n\t            if (typeof value === \"number\") return false; // numbers are never \"empty\"\n\t            // Handle strings and arrays\n\t            if (value.length && value.length > 0) return false;\n\t            // Handle objects\n\t            for (var key in value) {\n\t                if (value.hasOwnProperty(key)) return false;\n\t            }\n\t            return true;\n\t        },\n\t        odd: function(value) {\n\t            return value % 2 === 1;\n\t        },\n\t        even: function(value) {\n\t            return value % 2 === 0;\n\t        },\n\t        divisibleby: function(value, params) {\n\t            return value % params[0] === 0;\n\t        },\n\t        defined: function(value) {\n\t            return value !== undefined;\n\t        },\n\t        none: function(value) {\n\t            return value === null;\n\t        },\n\t        'null': function(value) {\n\t            return this.none(value); // Alias of none\n\t        },\n\t        'same as': function(value, params) {\n\t            return value === params[0];\n\t        },\n\t        sameas: function(value, params) {\n\t            console.warn('`sameas` is deprecated use `same as`');\n\t            return Twig.tests['same as'](value, params);\n\t        },\n\t        iterable: function(value) {\n\t            return value && (Twig.lib.is(\"Array\", value) || Twig.lib.is(\"Object\", value));\n\t        }\n\t        /*\n\t        constant ?\n\t         */\n\t    };\n\n\t    Twig.test = function(test, value, params) {\n\t        if (!Twig.tests[test]) {\n\t            throw \"Test \" + test + \" is not defined.\";\n\t        }\n\t        return Twig.tests[test](value, params);\n\t    };\n\n\t    Twig.test.extend = function(test, definition) {\n\t        Twig.tests[test] = definition;\n\t    };\n\n\t    return Twig;\n\t};\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t// ## twig.async.js\n\t//\n\t// This file handles asynchronous tasks within twig.\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\n\t    Twig.parseAsync = function (tokens, context) {\n\t        return Twig.parse.apply(this, [tokens, context, true]);\n\t    }\n\n\t    Twig.expression.parseAsync = function (tokens, context, tokens_are_parameters) {\n\t        return Twig.expression.parse.apply(this, [tokens, context, tokens_are_parameters, true]);\n\t    }\n\n\t    Twig.logic.parseAsync = function (token, context, chain) {\n\t        return Twig.logic.parse.apply(this, [token, context, chain, true]);\n\t    }\n\n\t    Twig.Template.prototype.renderAsync = function (context, params) {\n\t        return this.render(context, params, true);\n\t    }\n\n\t    Twig.async = {};\n\n\t    /**\n\t     * Checks for `thenable` objects\n\t     */\n\t    Twig.isPromise = function(obj) {\n\t        return obj && (typeof obj.then == 'function');\n\t    }\n\n\t    /**\n\t     * An alternate implementation of a Promise that does not fully follow\n\t     * the spec, but instead works fully synchronous while still being\n\t     * thenable.\n\t     *\n\t     * These promises can be mixed with regular promises at which point\n\t     * the synchronous behaviour is lost.\n\t     */\n\t    Twig.Promise = function(executor) {\n\t        // State\n\t        var state = 'unknown';\n\t        var value = null;\n\t        var handlers = null;\n\n\t        function changeState(newState, v) {\n\t            state = newState;\n\t            value = v;\n\t            notify();\n\t        };\n\t        function onResolve(v) { changeState('resolve', v); }\n\t        function onReject(e) { changeState('reject', e); }\n\n\t        function notify() {\n\t            if (!handlers) return;\n\n\t            Twig.forEach(handlers, function(h) {\n\t                append(h.resolve, h.reject);\n\t            });\n\t            handlers = null;\n\t        }\n\n\t        function append(onResolved, onRejected) {\n\t            var h = {\n\t                resolve: onResolved,\n\t                reject: onRejected\n\t            };\n\n\t            // The promise has yet to be rejected or resolved.\n\t            if (state == 'unknown') {\n\t                handlers = handlers || [];\n\t                return handlers.push(h);\n\t            }\n\n\t            // The state has been changed to either resolve, or reject\n\t            // which means we should call the handler.\n\t            if (h[state])\n\t                h[state](value);\n\t        }\n\n\t        function run(fn, resolve, reject) {\n\t            var done = false;\n\t            try {\n\t                fn(function(v) {\n\t                    if (done) return;\n\t                    done = true;\n\t                    resolve(v);\n\t                }, function(e) {\n\t                    if (done) return;\n\t                    done = true;\n\t                    reject(e);\n\t                });\n\t            } catch(e) {\n\t                done = true;\n\t                reject(e);\n\t            }\n\t        }\n\n\t        function ready(result) {\n\t            try {\n\t                if (!Twig.isPromise(result)) {\n\t                    return onResolve(result);\n\t                }\n\n\t                run(result.then.bind(result), ready, onReject);\n\t            } catch (e) {\n\t                onReject(e);\n\t            }\n\t        }\n\n\t        run(executor, ready, onReject);\n\n\t        return {\n\t            then: function(onResolved, onRejected) {\n\t                var hasResolved = typeof onResolved == 'function';\n\t                var hasRejected = typeof onRejected == 'function';\n\n\t                return new Twig.Promise(function(resolve, reject) {\n\t                    append(function(result) {\n\t                        if (hasResolved) {\n\t                            try {\n\t                                resolve(onResolved(result));\n\t                            } catch (e) {\n\t                                reject(e);\n\t                            }\n\t                        } else {\n\t                            resolve(result);\n\t                        }\n\t                    }, function(err) {\n\t                        if (hasRejected) {\n\t                            try {\n\t                                resolve(onRejected(err));\n\t                            } catch (e) {\n\t                                reject(e);\n\t                            }\n\t                        } else {\n\t                            reject(err);\n\t                        }\n\t                    });\n\t                });\n\t            },\n\t            catch: function(onRejected) {\n\t                return this.then(null, onRejected);\n\t            }\n\t        };\n\t    }\n\n\t    Twig.Promise.resolve = function(value) {\n\t        return new Twig.Promise(function(resolve) {\n\t            resolve(value);\n\t        });\n\t    };\n\n\t    Twig.Promise.reject = function(e) {\n\t        return new Twig.Promise(function(resolve, reject) {\n\t            reject(e);\n\t        });\n\t    };\n\n\t    Twig.Promise.all = function(promises) {\n\t        var results = [];\n\n\t        return Twig.async.forEach(promises, function(p, index) {\n\t            if (!Twig.isPromise(p)) {\n\t                results[index] = p;\n\t                return;\n\t            }\n\n\t            return p.then(function(v) {\n\t                results[index] = v;\n\t            });\n\t        })\n\t        .then(function() {\n\t            return results;\n\t        });\n\t    };\n\n\t    /**\n\t    * Go over each item in a fashion compatible with Twig.forEach,\n\t    * allow the function to return a promise or call the third argument\n\t    * to signal it is finished.\n\t    *\n\t    * Each item in the array will be called sequentially.\n\t    */\n\t    Twig.async.forEach = function forEachAsync(arr, callback) {\n\t        var arg_index = 0;\n\t        var callbacks = {};\n\t        var promise = new Twig.Promise(function(resolve, reject) {\n\t            callbacks = {\n\t                resolve: resolve,\n\t                reject: reject\n\t            };\n\t        });\n\n\t        function fail(err) {\n\t            callbacks.reject(err);\n\t        }\n\n\t        function next(value) {\n\t            if (!Twig.isPromise(value))\n\t                return iterate();\n\n\t            value.then(next, fail);\n\t        }\n\n\t        function iterate() {\n\t            var index = arg_index++;\n\n\t            if (index == arr.length) {\n\t                callbacks.resolve();\n\t                return;\n\t            }\n\n\t            next(callback(arr[index], index));\n\t        }\n\n\t        iterate();\n\n\t        return promise;\n\t    };\n\n\t    return Twig;\n\n\t};\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t// ## twig.exports.js\n\t//\n\t// This file provides extension points and other hooks into the twig functionality.\n\n\tmodule.exports = function (Twig) {\n\t    \"use strict\";\n\t    Twig.exports = {\n\t        VERSION: Twig.VERSION\n\t    };\n\n\t    /**\n\t     * Create and compile a twig.js template.\n\t     *\n\t     * @param {Object} param Paramteres for creating a Twig template.\n\t     *\n\t     * @return {Twig.Template} A Twig template ready for rendering.\n\t     */\n\t    Twig.exports.twig = function twig(params) {\n\t        'use strict';\n\t        var id = params.id,\n\t            options = {\n\t                strict_variables: params.strict_variables || false,\n\t                // TODO: turn autoscape on in the next major version\n\t                autoescape: params.autoescape != null && params.autoescape || false,\n\t                allowInlineIncludes: params.allowInlineIncludes || false,\n\t                rethrow: params.rethrow || false,\n\t                namespaces: params.namespaces\n\t            };\n\n\t        if (Twig.cache && id) {\n\t            Twig.validateId(id);\n\t        }\n\n\t        if (params.debug !== undefined) {\n\t            Twig.debug = params.debug;\n\t        }\n\t        if (params.trace !== undefined) {\n\t            Twig.trace = params.trace;\n\t        }\n\n\t        if (params.data !== undefined) {\n\t            return Twig.Templates.parsers.twig({\n\t                data: params.data,\n\t                path: params.hasOwnProperty('path') ? params.path : undefined,\n\t                module: params.module,\n\t                id:   id,\n\t                options: options\n\t            });\n\n\t        } else if (params.ref !== undefined) {\n\t            if (params.id !== undefined) {\n\t                throw new Twig.Error(\"Both ref and id cannot be set on a twig.js template.\");\n\t            }\n\t            return Twig.Templates.load(params.ref);\n\t        \n\t        } else if (params.method !== undefined) {\n\t            if (!Twig.Templates.isRegisteredLoader(params.method)) {\n\t                throw new Twig.Error('Loader for \"' + params.method + '\" is not defined.');\n\t            }\n\t            return Twig.Templates.loadRemote(params.name || params.href || params.path || id || undefined, {\n\t                id: id,\n\t                method: params.method,\n\t                parser: params.parser || 'twig',\n\t                base: params.base,\n\t                module: params.module,\n\t                precompiled: params.precompiled,\n\t                async: params.async,\n\t                options: options\n\n\t            }, params.load, params.error);\n\n\t        } else if (params.href !== undefined) {\n\t            return Twig.Templates.loadRemote(params.href, {\n\t                id: id,\n\t                method: 'ajax',\n\t                parser: params.parser || 'twig',\n\t                base: params.base,\n\t                module: params.module,\n\t                precompiled: params.precompiled,\n\t                async: params.async,\n\t                options: options\n\n\t            }, params.load, params.error);\n\n\t        } else if (params.path !== undefined) {\n\t            return Twig.Templates.loadRemote(params.path, {\n\t                id: id,\n\t                method: 'fs',\n\t                parser: params.parser || 'twig',\n\t                base: params.base,\n\t                module: params.module,\n\t                precompiled: params.precompiled,\n\t                async: params.async,\n\t                options: options\n\n\t            }, params.load, params.error);\n\t        }\n\t    };\n\n\t    // Extend Twig with a new filter.\n\t    Twig.exports.extendFilter = function(filter, definition) {\n\t        Twig.filter.extend(filter, definition);\n\t    };\n\n\t    // Extend Twig with a new function.\n\t    Twig.exports.extendFunction = function(fn, definition) {\n\t        Twig._function.extend(fn, definition);\n\t    };\n\n\t    // Extend Twig with a new test.\n\t    Twig.exports.extendTest = function(test, definition) {\n\t        Twig.test.extend(test, definition);\n\t    };\n\n\t    // Extend Twig with a new definition.\n\t    Twig.exports.extendTag = function(definition) {\n\t        Twig.logic.extend(definition);\n\t    };\n\n\t    // Provide an environment for extending Twig core.\n\t    // Calls fn with the internal Twig object.\n\t    Twig.exports.extend = function(fn) {\n\t        fn(Twig);\n\t    };\n\n\n\t    /**\n\t     * Provide an extension for use with express 2.\n\t     *\n\t     * @param {string} markup The template markup.\n\t     * @param {array} options The express options.\n\t     *\n\t     * @return {string} The rendered template.\n\t     */\n\t    Twig.exports.compile = function(markup, options) {\n\t        var id = options.filename,\n\t            path = options.filename,\n\t            template;\n\n\t        // Try to load the template from the cache\n\t        template = new Twig.Template({\n\t            data: markup,\n\t            path: path,\n\t            id: id,\n\t            options: options.settings['twig options']\n\t        }); // Twig.Templates.load(id) ||\n\n\t        return function(context) {\n\t            return template.render(context);\n\t        };\n\t    };\n\n\t    /**\n\t     * Provide an extension for use with express 3.\n\t     *\n\t     * @param {string} path The location of the template file on disk.\n\t     * @param {Object|Function} The options or callback.\n\t     * @param {Function} fn callback.\n\t     * \n\t     * @throws Twig.Error\n\t     */\n\t    Twig.exports.renderFile = function(path, options, fn) {\n\t        // handle callback in options\n\t        if (typeof options === 'function') {\n\t            fn = options;\n\t            options = {};\n\t        }\n\n\t        options = options || {};\n\n\t        var settings = options.settings || {};\n\n\t        var params = {\n\t            path: path,\n\t            base: settings.views,\n\t            load: function(template) {\n\t                // render and return template as a simple string, see https://github.com/twigjs/twig.js/pull/348 for more information\n\t                fn(null, '' + template.render(options));\n\t            }\n\t        };\n\n\t        // mixin any options provided to the express app.\n\t        var view_options = settings['twig options'];\n\n\t        if (view_options) {\n\t            for (var option in view_options) {\n\t                if (view_options.hasOwnProperty(option)) {\n\t                    params[option] = view_options[option];\n\t                }\n\t            }\n\t        }\n\n\t        Twig.exports.twig(params);\n\t    };\n\n\t    // Express 3 handler\n\t    Twig.exports.__express = Twig.exports.renderFile;\n\n\t    /**\n\t     * Shoud Twig.js cache templates.\n\t     * Disable during development to see changes to templates without\n\t     * reloading, and disable in production to improve performance.\n\t     *\n\t     * @param {boolean} cache\n\t     */\n\t    Twig.exports.cache = function(cache) {\n\t        Twig.cache = cache;\n\t    };\n\n\t    //We need to export the path module so we can effectively test it\n\t    Twig.exports.path = Twig.path;\n\n\t    //Export our filters.\n\t    //Resolves #307\n\t    Twig.exports.filters = Twig.filters;\n\n\t    return Twig;\n\t};\n\n\n/***/ }\n/******/ ])\n});\n;\n/* WEBPACK VAR INJECTION */}.call(exports, \"/\"))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3R3aWcvdHdpZy5qcz9iNGE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSwwRUFBMEUsTUFBTSxnQ0FBc0IsRUFBRSxZQUFZLEVBQUU7QUFDdEg7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLE1BQU0sc0JBQXNCLEVBQUUsWUFBWSxFQUFFO0FBQ3ZIO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsb0NBQW9DO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFF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OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxRUFBcUUsd0JBQXdCLG1CQUFtQix5RUFBeUUsR0FBRyxFQUFFO0FBQzlMO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDZCQUE2Qix3Q0FBd0M7QUFDM0csOERBQThEO0FBQzlEO0FBQ0EsMkJBQTJCLEVBQUU7QUFDN0I7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixvRUFBb0UsRUFBRTtBQUM3Rjs7QUFFQTtBQUNBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixpQ0FBaUMsbUJBQW1CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDViw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxVQUFVOztBQUVWLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0I7QUFDdEI7QUFDQTs7QUFFQSxzQkFBc0I7QUFDdEI7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7O0FBR0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FB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QUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7O0FBR0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0Esa0RBQWtELEtBQUs7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FB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QUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQSxxR0FBcUcsbUJBQW1CLEVBQUUsbUJBQW1CLDhIQUE4SDs7QUFFM1E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIsT0FBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUEscUdBQXFHLG1CQUFtQixFQUFFLG1CQUFtQiw4SEFBOEg7O0FBRTNRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQSw2QkFBNkIsT0FBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxREFBcUQsR0FBRzs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLElBQUksNEJBQTRCLElBQUksNEJBQTRCLElBQUksZ0JBQWdCLElBQUksT0FBTyxFQUFFLFNBQVMsRUFBRTtBQUNoSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLEVBQUUsT0FB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O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsVUFBVSxrQ0FBa0MsV0FBVztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0NBQWtDLGVBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLFVBQVU7O0FBRVYscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIscUJBQXFCO0FBQ25ELGtDQUFrQyxxQkFBcUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyQkFBMkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7O0FBRWxCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSwrQkFBK0I7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLHlFQUF5RSxHQUFHLGlCQUFpQjs7QUFFN0Y7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhCQUE4QiwyQkFBMkI7QUFDekQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsdURBQXVELEdBQUcsaUJBQWlCO0FBQzNFLHNCQUFzQjtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtCQUErQixlQUFlO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qjs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHFCQUFxQjtBQUN6RixzQkFBc0I7QUFDdEIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxVQUFVO0FBQ1YscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BELFNBQVM7QUFDVDtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFdBQVcsRUFBRSxTQUFTLEVBQUU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCLGdCQUFnQixPQUFPO0FBQ3ZCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQjs7QUFFL0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjs7O0FBR0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEIsaUJBQWlCLE9BQU87QUFDeEI7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsSUFBSTtBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLHFDQUFxQztBQUNyQyxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywyQkFBMkI7QUFDM0QsK0JBQStCLDBCQUEwQjs7QUFFekQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGtCQUFrQjtBQUNsQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjOztBQUVkLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYzs7QUFFZCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEVBQUU7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQyxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDIiwiZmlsZSI6IjQwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgoZnVuY3Rpb24gd2VicGFja0xvYWRPcHRpb25hbEV4dGVybmFsTW9kdWxlKCkgeyB0cnkgeyByZXR1cm4gcmVxdWlyZShcImZzXCIpOyB9IGNhdGNoKGUpIHt9IH0oKSksIHJlcXVpcmUoXCJwYXRoXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImZzXCIsIFwicGF0aFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJUd2lnXCJdID0gZmFjdG9yeSgoZnVuY3Rpb24gd2VicGFja0xvYWRPcHRpb25hbEV4dGVybmFsTW9kdWxlKCkgeyB0cnkgeyByZXR1cm4gcmVxdWlyZShcImZzXCIpOyB9IGNhdGNoKGUpIHt9IH0oKSksIHJlcXVpcmUoXCJwYXRoXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJUd2lnXCJdID0gZmFjdG9yeShyb290W1wiZnNcIl0sIHJvb3RbXCJwYXRoXCJdKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yMF9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cblxuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBUd2lnLmpzXG5cdCAqXG5cdCAqIEBjb3B5cmlnaHQgMjAxMS0yMDE2IEpvaG4gUm9lcGtlIGFuZCB0aGUgVHdpZy5qcyBDb250cmlidXRvcnNcblx0ICogQGxpY2Vuc2UgICBBdmFpbGFibGUgdW5kZXIgdGhlIEJTRCAyLUNsYXVzZSBMaWNlbnNlXG5cdCAqIEBsaW5rICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3R3aWdqcy90d2lnLmpzXG5cdCAqL1xuXG5cdHZhciBUd2lnID0ge1xuXHQgICAgVkVSU0lPTjogJzAuMTAuMidcblx0fTtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KShUd2lnKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxOCkoVHdpZyk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjEpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKShUd2lnKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyMykoVHdpZyk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjQpKFR3aWcpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KShUd2lnKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNikoVHdpZyk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjcpKFR3aWcpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gVHdpZy5leHBvcnRzO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyAjIyB0d2lnLmNvcmUuanNcblx0Ly9cblx0Ly8gVGhpcyBmaWxlIGhhbmRsZXMgdGVtcGxhdGUgbGV2ZWwgdG9rZW5pemluZywgY29tcGlsaW5nIGFuZCBwYXJzaW5nLlxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUd2lnKSB7XG5cdCAgICBcInVzZSBzdHJpY3RcIjtcblxuXHQgICAgVHdpZy50cmFjZSA9IGZhbHNlO1xuXHQgICAgVHdpZy5kZWJ1ZyA9IGZhbHNlO1xuXG5cdCAgICAvLyBEZWZhdWx0IGNhY2hpbmcgdG8gdHJ1ZSBmb3IgdGhlIGltcHJvdmVkIHBlcmZvcm1hbmNlIGl0IG9mZmVyc1xuXHQgICAgVHdpZy5jYWNoZSA9IHRydWU7XG5cblx0ICAgIFR3aWcubm9vcCA9IGZ1bmN0aW9uKCkge307XG5cblx0ICAgIFR3aWcucGxhY2Vob2xkZXJzID0ge1xuXHQgICAgICAgIHBhcmVudDogXCJ7e3xQQVJFTlR8fX1cIlxuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBGYWxsYmFjayBmb3IgQXJyYXkuaW5kZXhPZiBmb3IgSUU4IGV0IGFsXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuaW5kZXhPZiA9IGZ1bmN0aW9uIChhcnIsIHNlYXJjaEVsZW1lbnQgLyosIGZyb21JbmRleCAqLyApIHtcblx0ICAgICAgICBpZiAoQXJyYXkucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwiaW5kZXhPZlwiKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gYXJyLmluZGV4T2Yoc2VhcmNoRWxlbWVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChhcnIgPT09IHZvaWQgMCB8fCBhcnIgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdCA9IE9iamVjdChhcnIpO1xuXHQgICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblx0ICAgICAgICBpZiAobGVuID09PSAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAtMTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG4gPSAwO1xuXHQgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICBuID0gTnVtYmVyKGFyZ3VtZW50c1sxXSk7XG5cdCAgICAgICAgICAgIGlmIChuICE9PSBuKSB7IC8vIHNob3J0Y3V0IGZvciB2ZXJpZnlpbmcgaWYgaXQncyBOYU5cblx0ICAgICAgICAgICAgICAgIG4gPSAwO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKG4gIT09IDAgJiYgbiAhPT0gSW5maW5pdHkgJiYgbiAhPT0gLUluZmluaXR5KSB7XG5cdCAgICAgICAgICAgICAgICBuID0gKG4gPiAwIHx8IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobikpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChuID49IGxlbikge1xuXHQgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImluZGV4T2Ygbm90IGZvdW5kMSBcIiwgSlNPTi5zdHJpbmdpZnkoc2VhcmNoRWxlbWVudCksIEpTT04uc3RyaW5naWZ5KGFycikpO1xuXHQgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBrID0gbiA+PSAwID8gbiA6IE1hdGgubWF4KGxlbiAtIE1hdGguYWJzKG4pLCAwKTtcblx0ICAgICAgICBmb3IgKDsgayA8IGxlbjsgaysrKSB7XG5cdCAgICAgICAgICAgIGlmIChrIGluIHQgJiYgdFtrXSA9PT0gc2VhcmNoRWxlbWVudCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGFyciA9PSBzZWFyY2hFbGVtZW50KSB7XG5cdCAgICAgICAgICAgIHJldHVybiAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBjb25zb2xlLmxvZyhcImluZGV4T2Ygbm90IGZvdW5kMiBcIiwgSlNPTi5zdHJpbmdpZnkoc2VhcmNoRWxlbWVudCksIEpTT04uc3RyaW5naWZ5KGFycikpO1xuXG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfVxuXG5cdCAgICBUd2lnLmZvckVhY2ggPSBmdW5jdGlvbiAoYXJyLCBjYWxsYmFjaywgdGhpc0FyZykge1xuXHQgICAgICAgIGlmIChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCApIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGFyci5mb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgVCwgaztcblxuXHQgICAgICAgIGlmICggYXJyID09IG51bGwgKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCBcIiB0aGlzIGlzIG51bGwgb3Igbm90IGRlZmluZWRcIiApO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIDEuIExldCBPIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyBUb09iamVjdCBwYXNzaW5nIHRoZSB8dGhpc3wgdmFsdWUgYXMgdGhlIGFyZ3VtZW50LlxuXHQgICAgICAgIHZhciBPID0gT2JqZWN0KGFycik7XG5cblx0ICAgICAgICAvLyAyLiBMZXQgbGVuVmFsdWUgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBHZXQgaW50ZXJuYWwgbWV0aG9kIG9mIE8gd2l0aCB0aGUgYXJndW1lbnQgXCJsZW5ndGhcIi5cblx0ICAgICAgICAvLyAzLiBMZXQgbGVuIGJlIFRvVWludDMyKGxlblZhbHVlKS5cblx0ICAgICAgICB2YXIgbGVuID0gTy5sZW5ndGggPj4+IDA7IC8vIEhhY2sgdG8gY29udmVydCBPLmxlbmd0aCB0byBhIFVJbnQzMlxuXG5cdCAgICAgICAgLy8gNC4gSWYgSXNDYWxsYWJsZShjYWxsYmFjaykgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0ICAgICAgICAvLyBTZWU6IGh0dHA6Ly9lczUuZ2l0aHViLmNvbS8jeDkuMTFcblx0ICAgICAgICBpZiAoIHt9LnRvU3RyaW5nLmNhbGwoY2FsbGJhY2spICE9IFwiW29iamVjdCBGdW5jdGlvbl1cIiApIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIGNhbGxiYWNrICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIiApO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIDUuIElmIHRoaXNBcmcgd2FzIHN1cHBsaWVkLCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cblx0ICAgICAgICBpZiAoIHRoaXNBcmcgKSB7XG5cdCAgICAgICAgICBUID0gdGhpc0FyZztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyA2LiBMZXQgayBiZSAwXG5cdCAgICAgICAgayA9IDA7XG5cblx0ICAgICAgICAvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cblx0ICAgICAgICB3aGlsZSggayA8IGxlbiApIHtcblxuXHQgICAgICAgICAgdmFyIGtWYWx1ZTtcblxuXHQgICAgICAgICAgLy8gYS4gTGV0IFBrIGJlIFRvU3RyaW5nKGspLlxuXHQgICAgICAgICAgLy8gICBUaGlzIGlzIGltcGxpY2l0IGZvciBMSFMgb3BlcmFuZHMgb2YgdGhlIGluIG9wZXJhdG9yXG5cdCAgICAgICAgICAvLyBiLiBMZXQga1ByZXNlbnQgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBIYXNQcm9wZXJ0eSBpbnRlcm5hbCBtZXRob2Qgb2YgTyB3aXRoIGFyZ3VtZW50IFBrLlxuXHQgICAgICAgICAgLy8gICBUaGlzIHN0ZXAgY2FuIGJlIGNvbWJpbmVkIHdpdGggY1xuXHQgICAgICAgICAgLy8gYy4gSWYga1ByZXNlbnQgaXMgdHJ1ZSwgdGhlblxuXHQgICAgICAgICAgaWYgKCBrIGluIE8gKSB7XG5cblx0ICAgICAgICAgICAgLy8gaS4gTGV0IGtWYWx1ZSBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIEdldCBpbnRlcm5hbCBtZXRob2Qgb2YgTyB3aXRoIGFyZ3VtZW50IFBrLlxuXHQgICAgICAgICAgICBrVmFsdWUgPSBPWyBrIF07XG5cblx0ICAgICAgICAgICAgLy8gaWkuIENhbGwgdGhlIENhbGwgaW50ZXJuYWwgbWV0aG9kIG9mIGNhbGxiYWNrIHdpdGggVCBhcyB0aGUgdGhpcyB2YWx1ZSBhbmRcblx0ICAgICAgICAgICAgLy8gYXJndW1lbnQgbGlzdCBjb250YWluaW5nIGtWYWx1ZSwgaywgYW5kIE8uXG5cdCAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoIFQsIGtWYWx1ZSwgaywgTyApO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgLy8gZC4gSW5jcmVhc2UgayBieSAxLlxuXHQgICAgICAgICAgaysrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyA4LiByZXR1cm4gdW5kZWZpbmVkXG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLm1lcmdlID0gZnVuY3Rpb24odGFyZ2V0LCBzb3VyY2UsIG9ubHlDaGFuZ2VkKSB7XG5cdCAgICAgICAgVHdpZy5mb3JFYWNoKE9iamVjdC5rZXlzKHNvdXJjZSksIGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgaWYgKG9ubHlDaGFuZ2VkICYmICEoa2V5IGluIHRhcmdldCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV1cblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIHJldHVybiB0YXJnZXQ7XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEV4Y2VwdGlvbiB0aHJvd24gYnkgdHdpZy5qcy5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5FcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUpIHtcblx0ICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdCAgICAgICB0aGlzLm5hbWUgPSBcIlR3aWdFeGNlcHRpb25cIjtcblx0ICAgICAgIHRoaXMudHlwZSA9IFwiVHdpZ0V4Y2VwdGlvblwiO1xuXHQgICAgICAgdGhpcy5maWxlID0gZmlsZTtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogR2V0IHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBUd2lnIGVycm9yLlxuXHQgICAgICovXG5cdCAgICBUd2lnLkVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLm5hbWUgKyBcIjogXCIgKyB0aGlzLm1lc3NhZ2U7XG5cblx0ICAgICAgICByZXR1cm4gb3V0cHV0O1xuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBXcmFwcGVyIGZvciBsb2dnaW5nIHRvIHRoZSBjb25zb2xlLlxuXHQgICAgICovXG5cdCAgICBUd2lnLmxvZyA9IHtcblx0ICAgICAgICB0cmFjZTogZnVuY3Rpb24oKSB7aWYgKFR3aWcudHJhY2UgJiYgY29uc29sZSkge2NvbnNvbGUubG9nKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO319LFxuXHQgICAgICAgIGRlYnVnOiBmdW5jdGlvbigpIHtpZiAoVHdpZy5kZWJ1ZyAmJiBjb25zb2xlKSB7Y29uc29sZS5sb2coQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7fX1cblx0ICAgIH07XG5cblxuXHQgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLmVycm9yICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgICAgIFR3aWcubG9nLmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zb2xlLmxvZyAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgICAgICBUd2lnLmxvZy5lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgVHdpZy5sb2cuZXJyb3IgPSBmdW5jdGlvbigpe307XG5cdCAgICB9XG5cblx0ICAgIC8qKlxuXHQgICAgICogV3JhcHBlciBmb3IgY2hpbGQgY29udGV4dCBvYmplY3RzIGluIFR3aWcuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgVmFsdWVzIHRvIGluaXRpYWxpemUgdGhlIGNvbnRleHQgd2l0aC5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5DaGlsZENvbnRleHQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdCAgICAgICAgdmFyIENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIENoaWxkQ29udGV4dCgpIHt9O1xuXHQgICAgICAgIENoaWxkQ29udGV4dC5wcm90b3R5cGUgPSBjb250ZXh0O1xuXHQgICAgICAgIHJldHVybiBuZXcgQ2hpbGRDb250ZXh0KCk7XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIENvbnRhaW5lciBmb3IgbWV0aG9kcyByZWxhdGVkIHRvIGhhbmRsaW5nIGhpZ2ggbGV2ZWwgdGVtcGxhdGUgdG9rZW5zXG5cdCAgICAgKiAgICAgIChmb3IgZXhhbXBsZToge3sgZXhwcmVzc2lvbiB9fSwgeyUgbG9naWMgJX0sIHsjIGNvbW1lbnQgI30sIHJhdyBkYXRhKVxuXHQgICAgICovXG5cdCAgICBUd2lnLnRva2VuID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogVG9rZW4gdHlwZXMuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcudG9rZW4udHlwZSA9IHtcblx0ICAgICAgICBvdXRwdXQ6ICAgICAgICAgICAgICAgICAnb3V0cHV0Jyxcblx0ICAgICAgICBsb2dpYzogICAgICAgICAgICAgICAgICAnbG9naWMnLFxuXHQgICAgICAgIGNvbW1lbnQ6ICAgICAgICAgICAgICAgICdjb21tZW50Jyxcblx0ICAgICAgICByYXc6ICAgICAgICAgICAgICAgICAgICAncmF3Jyxcblx0ICAgICAgICBvdXRwdXRfd2hpdGVzcGFjZV9wcmU6ICAnb3V0cHV0X3doaXRlc3BhY2VfcHJlJyxcblx0ICAgICAgICBvdXRwdXRfd2hpdGVzcGFjZV9wb3N0OiAnb3V0cHV0X3doaXRlc3BhY2VfcG9zdCcsXG5cdCAgICAgICAgb3V0cHV0X3doaXRlc3BhY2VfYm90aDogJ291dHB1dF93aGl0ZXNwYWNlX2JvdGgnLFxuXHQgICAgICAgIGxvZ2ljX3doaXRlc3BhY2VfcHJlOiAgICdsb2dpY193aGl0ZXNwYWNlX3ByZScsXG5cdCAgICAgICAgbG9naWNfd2hpdGVzcGFjZV9wb3N0OiAgJ2xvZ2ljX3doaXRlc3BhY2VfcG9zdCcsXG5cdCAgICAgICAgbG9naWNfd2hpdGVzcGFjZV9ib3RoOiAgJ2xvZ2ljX3doaXRlc3BhY2VfYm90aCdcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogVG9rZW4gc3ludGF4IGRlZmluaXRpb25zLlxuXHQgICAgICovXG5cdCAgICBUd2lnLnRva2VuLmRlZmluaXRpb25zID0gW1xuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy50b2tlbi50eXBlLnJhdyxcblx0ICAgICAgICAgICAgb3BlbjogJ3slIHJhdyAlfScsXG5cdCAgICAgICAgICAgIGNsb3NlOiAneyUgZW5kcmF3ICV9J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLnRva2VuLnR5cGUucmF3LFxuXHQgICAgICAgICAgICBvcGVuOiAneyUgdmVyYmF0aW0gJX0nLFxuXHQgICAgICAgICAgICBjbG9zZTogJ3slIGVuZHZlcmJhdGltICV9J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgLy8gKldoaXRlc3BhY2UgdHlwZSB0b2tlbnMqXG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyBUaGVzZSB0eXBpY2FsbHkgdGFrZSB0aGUgZm9ybSBge3stIGV4cHJlc3Npb24gLX19YCBvciBge3stIGV4cHJlc3Npb24gfX1gIG9yIGB7eyBleHByZXNzaW9uIC19fWAuXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLnRva2VuLnR5cGUub3V0cHV0X3doaXRlc3BhY2VfcHJlLFxuXHQgICAgICAgICAgICBvcGVuOiAne3stJyxcblx0ICAgICAgICAgICAgY2xvc2U6ICd9fSdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy50b2tlbi50eXBlLm91dHB1dF93aGl0ZXNwYWNlX3Bvc3QsXG5cdCAgICAgICAgICAgIG9wZW46ICd7eycsXG5cdCAgICAgICAgICAgIGNsb3NlOiAnLX19J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLnRva2VuLnR5cGUub3V0cHV0X3doaXRlc3BhY2VfYm90aCxcblx0ICAgICAgICAgICAgb3BlbjogJ3t7LScsXG5cdCAgICAgICAgICAgIGNsb3NlOiAnLX19J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLnRva2VuLnR5cGUubG9naWNfd2hpdGVzcGFjZV9wcmUsXG5cdCAgICAgICAgICAgIG9wZW46ICd7JS0nLFxuXHQgICAgICAgICAgICBjbG9zZTogJyV9J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLnRva2VuLnR5cGUubG9naWNfd2hpdGVzcGFjZV9wb3N0LFxuXHQgICAgICAgICAgICBvcGVuOiAneyUnLFxuXHQgICAgICAgICAgICBjbG9zZTogJy0lfSdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy50b2tlbi50eXBlLmxvZ2ljX3doaXRlc3BhY2VfYm90aCxcblx0ICAgICAgICAgICAgb3BlbjogJ3slLScsXG5cdCAgICAgICAgICAgIGNsb3NlOiAnLSV9J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgLy8gKk91dHB1dCB0eXBlIHRva2Vucypcblx0ICAgICAgICAvL1xuXHQgICAgICAgIC8vIFRoZXNlIHR5cGljYWxseSB0YWtlIHRoZSBmb3JtIGB7eyBleHByZXNzaW9uIH19YC5cblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcudG9rZW4udHlwZS5vdXRwdXQsXG5cdCAgICAgICAgICAgIG9wZW46ICd7eycsXG5cdCAgICAgICAgICAgIGNsb3NlOiAnfX0nXG5cdCAgICAgICAgfSxcblx0ICAgICAgICAvLyAqTG9naWMgdHlwZSB0b2tlbnMqXG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyBUaGVzZSB0eXBpY2FsbHkgdGFrZSBhIGZvcm0gbGlrZSBgeyUgaWYgZXhwcmVzc2lvbiAlfWAgb3IgYHslIGVuZGlmICV9YFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy50b2tlbi50eXBlLmxvZ2ljLFxuXHQgICAgICAgICAgICBvcGVuOiAneyUnLFxuXHQgICAgICAgICAgICBjbG9zZTogJyV9J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgLy8gKkNvbW1lbnQgdHlwZSB0b2tlbnMqXG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyBUaGVzZSB0YWtlIHRoZSBmb3JtIGB7IyBhbnl0aGluZyAjfWBcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcudG9rZW4udHlwZS5jb21tZW50LFxuXHQgICAgICAgICAgICBvcGVuOiAneyMnLFxuXHQgICAgICAgICAgICBjbG9zZTogJyN9J1xuXHQgICAgICAgIH1cblx0ICAgIF07XG5cblxuXHQgICAgLyoqXG5cdCAgICAgKiBXaGF0IGNoYXJhY3RlcnMgc3RhcnQgXCJzdHJpbmdzXCIgaW4gdG9rZW4gZGVmaW5pdGlvbnMuIFdlIG5lZWQgdGhpcyB0byBpZ25vcmUgdG9rZW4gY2xvc2Vcblx0ICAgICAqIHN0cmluZ3MgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG5cdCAgICAgKi9cblx0ICAgIFR3aWcudG9rZW4uc3RyaW5ncyA9IFsnXCInLCBcIidcIl07XG5cblx0ICAgIFR3aWcudG9rZW4uZmluZFN0YXJ0ID0gZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG5cdCAgICAgICAgdmFyIG91dHB1dCA9IHtcblx0ICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBudWxsLFxuXHQgICAgICAgICAgICAgICAgY2xvc2VfcG9zaXRpb246IG51bGwsXG5cdCAgICAgICAgICAgICAgICBkZWY6IG51bGxcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgaSxcblx0ICAgICAgICAgICAgdG9rZW5fdGVtcGxhdGUsXG5cdCAgICAgICAgICAgIGZpcnN0X2tleV9wb3NpdGlvbixcblx0ICAgICAgICAgICAgY2xvc2Vfa2V5X3Bvc2l0aW9uO1xuXG5cdCAgICAgICAgZm9yIChpPTA7aTxUd2lnLnRva2VuLmRlZmluaXRpb25zLmxlbmd0aDtpKyspIHtcblx0ICAgICAgICAgICAgdG9rZW5fdGVtcGxhdGUgPSBUd2lnLnRva2VuLmRlZmluaXRpb25zW2ldO1xuXHQgICAgICAgICAgICBmaXJzdF9rZXlfcG9zaXRpb24gPSB0ZW1wbGF0ZS5pbmRleE9mKHRva2VuX3RlbXBsYXRlLm9wZW4pO1xuXHQgICAgICAgICAgICBjbG9zZV9rZXlfcG9zaXRpb24gPSB0ZW1wbGF0ZS5pbmRleE9mKHRva2VuX3RlbXBsYXRlLmNsb3NlKTtcblxuXHQgICAgICAgICAgICBUd2lnLmxvZy50cmFjZShcIlR3aWcudG9rZW4uZmluZFN0YXJ0OiBcIiwgXCJTZWFyY2hpbmcgZm9yIFwiLCB0b2tlbl90ZW1wbGF0ZS5vcGVuLCBcIiBmb3VuZCBhdCBcIiwgZmlyc3Rfa2V5X3Bvc2l0aW9uKTtcblxuXHQgICAgICAgICAgICAvL1NwZWNpYWwgaGFuZGxpbmcgZm9yIG1pc21hdGNoZWQgdG9rZW5zXG5cdCAgICAgICAgICAgIGlmIChmaXJzdF9rZXlfcG9zaXRpb24gPj0gMCkge1xuXHQgICAgICAgICAgICAgICAgLy9UaGlzIHRva2VuIG1hdGNoZXMgdGhlIHRlbXBsYXRlXG5cdCAgICAgICAgICAgICAgICBpZiAodG9rZW5fdGVtcGxhdGUub3Blbi5sZW5ndGggIT09IHRva2VuX3RlbXBsYXRlLmNsb3NlLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vVGhpcyB0b2tlbiBoYXMgbWlzbWF0Y2hlZCBjbG9zaW5nIGFuZCBvcGVuaW5nIHRhZ3Ncblx0ICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2Vfa2V5X3Bvc2l0aW9uIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL1RoaXMgdG9rZW4ncyBjbG9zaW5nIHRhZyBkb2VzIG5vdCBtYXRjaCB0aGUgdGVtcGxhdGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIERvZXMgdGhpcyB0b2tlbiBvY2N1ciBiZWZvcmUgYW55IG90aGVyIHR5cGVzP1xuXHQgICAgICAgICAgICBpZiAoZmlyc3Rfa2V5X3Bvc2l0aW9uID49IDAgJiYgKG91dHB1dC5wb3NpdGlvbiA9PT0gbnVsbCB8fCBmaXJzdF9rZXlfcG9zaXRpb24gPCBvdXRwdXQucG9zaXRpb24pKSB7XG5cdCAgICAgICAgICAgICAgICBvdXRwdXQucG9zaXRpb24gPSBmaXJzdF9rZXlfcG9zaXRpb247XG5cdCAgICAgICAgICAgICAgICBvdXRwdXQuZGVmID0gdG9rZW5fdGVtcGxhdGU7XG5cdCAgICAgICAgICAgICAgICBvdXRwdXQuY2xvc2VfcG9zaXRpb24gPSBjbG9zZV9rZXlfcG9zaXRpb247XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3Rfa2V5X3Bvc2l0aW9uID49IDAgJiYgb3V0cHV0LnBvc2l0aW9uICE9PSBudWxsICYmIGZpcnN0X2tleV9wb3NpdGlvbiA9PT0gb3V0cHV0LnBvc2l0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAvKlRoaXMgdG9rZW4gZXhhY3RseSBtYXRjaGVzIGFub3RoZXIgdG9rZW4sXG5cdCAgICAgICAgICAgICAgICBncmVlZGlseSBtYXRjaCB0byBjaGVjayBpZiB0aGlzIHRva2VuIGhhcyBhIGdyZWF0ZXIgc3BlY2lmaWNpdHkqL1xuXHQgICAgICAgICAgICAgICAgaWYgKHRva2VuX3RlbXBsYXRlLm9wZW4ubGVuZ3RoID4gb3V0cHV0LmRlZi5vcGVuLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vVGhpcyB0b2tlbidzIG9wZW5pbmcgdGFnIGlzIG1vcmUgc3BlY2lmaWMgdGhhbiB0aGUgcHJldmlvdXMgbWF0Y2hcblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQucG9zaXRpb24gPSBmaXJzdF9rZXlfcG9zaXRpb247XG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmRlZiA9IHRva2VuX3RlbXBsYXRlO1xuXHQgICAgICAgICAgICAgICAgICAgIG91dHB1dC5jbG9zZV9wb3NpdGlvbiA9IGNsb3NlX2tleV9wb3NpdGlvbjtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW5fdGVtcGxhdGUub3Blbi5sZW5ndGggPT09IG91dHB1dC5kZWYub3Blbi5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5fdGVtcGxhdGUuY2xvc2UubGVuZ3RoID4gb3V0cHV0LmRlZi5jbG9zZS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy9UaGlzIHRva2VuJ3Mgb3BlbmluZyB0YWcgaXMgYXMgc3BlY2lmaWMgYXMgdGhlIHByZXZpb3VzIG1hdGNoLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL2J1dCB0aGUgY2xvc2luZyB0YWcgaGFzIGdyZWF0ZXIgc3BlY2lmaWNpdHlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlX2tleV9wb3NpdGlvbiA+PSAwICYmIGNsb3NlX2tleV9wb3NpdGlvbiA8IG91dHB1dC5jbG9zZV9wb3NpdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UaGlzIHRva2VuJ3MgY2xvc2luZyB0YWcgZXhpc3RzIGluIHRoZSB0ZW1wbGF0ZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYW5kIGl0IG9jY3VycyBzb29uZXIgdGhhbiB0aGUgcHJldmlvdXMgbWF0Y2hcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wb3NpdGlvbiA9IGZpcnN0X2tleV9wb3NpdGlvbjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5kZWYgPSB0b2tlbl90ZW1wbGF0ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5jbG9zZV9wb3NpdGlvbiA9IGNsb3NlX2tleV9wb3NpdGlvbjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvc2Vfa2V5X3Bvc2l0aW9uID49IDAgJiYgY2xvc2Vfa2V5X3Bvc2l0aW9uIDwgb3V0cHV0LmNsb3NlX3Bvc2l0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vVGhpcyB0b2tlbidzIGNsb3NpbmcgdGFnIGlzIG5vdCBtb3JlIHNwZWNpZmljIHRoYW4gdGhlIHByZXZpb3VzIG1hdGNoLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL2J1dCBpdCBvY2N1cnMgc29vbmVyIHRoYW4gdGhlIHByZXZpb3VzIG1hdGNoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wb3NpdGlvbiA9IGZpcnN0X2tleV9wb3NpdGlvbjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmRlZiA9IHRva2VuX3RlbXBsYXRlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuY2xvc2VfcG9zaXRpb24gPSBjbG9zZV9rZXlfcG9zaXRpb247XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgZGVsZXRlIG91dHB1dFsnY2xvc2VfcG9zaXRpb24nXTtcblxuXHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLnRva2VuLmZpbmRFbmQgPSBmdW5jdGlvbiAodGVtcGxhdGUsIHRva2VuX2RlZiwgc3RhcnQpIHtcblx0ICAgICAgICB2YXIgZW5kID0gbnVsbCxcblx0ICAgICAgICAgICAgZm91bmQgPSBmYWxzZSxcblx0ICAgICAgICAgICAgb2Zmc2V0ID0gMCxcblxuXHQgICAgICAgICAgICAvLyBTdHJpbmcgcG9zaXRpb24gdmFyaWFibGVzXG5cdCAgICAgICAgICAgIHN0cl9wb3MgPSBudWxsLFxuXHQgICAgICAgICAgICBzdHJfZm91bmQgPSBudWxsLFxuXHQgICAgICAgICAgICBwb3MgPSBudWxsLFxuXHQgICAgICAgICAgICBlbmRfb2Zmc2V0ID0gbnVsbCxcblx0ICAgICAgICAgICAgdGhpc19zdHJfcG9zID0gbnVsbCxcblx0ICAgICAgICAgICAgZW5kX3N0cl9wb3MgPSBudWxsLFxuXG5cdCAgICAgICAgICAgIC8vIEZvciBsb29wIHZhcmlhYmxlc1xuXHQgICAgICAgICAgICBpLFxuXHQgICAgICAgICAgICBsO1xuXG5cdCAgICAgICAgd2hpbGUgKCFmb3VuZCkge1xuXHQgICAgICAgICAgICBzdHJfcG9zID0gbnVsbDtcblx0ICAgICAgICAgICAgc3RyX2ZvdW5kID0gbnVsbDtcblx0ICAgICAgICAgICAgcG9zID0gdGVtcGxhdGUuaW5kZXhPZih0b2tlbl9kZWYuY2xvc2UsIG9mZnNldCk7XG5cblx0ICAgICAgICAgICAgaWYgKHBvcyA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgICBlbmQgPSBwb3M7XG5cdCAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAvLyB0aHJvdyBhbiBleGNlcHRpb25cblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiVW5hYmxlIHRvIGZpbmQgY2xvc2luZyBicmFja2V0ICdcIiArIHRva2VuX2RlZi5jbG9zZSArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCInXCIgKyBcIiBvcGVuZWQgbmVhciB0ZW1wbGF0ZSBwb3NpdGlvbiBcIiArIHN0YXJ0KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIElnbm9yZSBxdW90ZXMgd2l0aGluIGNvbW1lbnRzOyBqdXN0IGxvb2sgZm9yIHRoZSBuZXh0IGNvbW1lbnQgY2xvc2Ugc2VxdWVuY2UsXG5cdCAgICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCBjb21lcyBiZWZvcmUgaXQuIGh0dHBzOi8vZ2l0aHViLmNvbS9qdXN0am9obi90d2lnLmpzL2lzc3Vlcy85NVxuXHQgICAgICAgICAgICBpZiAodG9rZW5fZGVmLnR5cGUgPT09IFR3aWcudG9rZW4udHlwZS5jb21tZW50KSB7XG5cdCAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gSWdub3JlIHF1b3RlcyB3aXRoaW4gcmF3IHRhZ1xuXHQgICAgICAgICAgICAvLyBGaXhlcyAjMjgzXG5cdCAgICAgICAgICAgIGlmICh0b2tlbl9kZWYudHlwZSA9PT0gVHdpZy50b2tlbi50eXBlLnJhdykge1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBsID0gVHdpZy50b2tlbi5zdHJpbmdzLmxlbmd0aDtcblx0ICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkgKz0gMSkge1xuXHQgICAgICAgICAgICAgICAgdGhpc19zdHJfcG9zID0gdGVtcGxhdGUuaW5kZXhPZihUd2lnLnRva2VuLnN0cmluZ3NbaV0sIG9mZnNldCk7XG5cblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzX3N0cl9wb3MgPiAwICYmIHRoaXNfc3RyX3BvcyA8IHBvcyAmJlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAoc3RyX3BvcyA9PT0gbnVsbCB8fCB0aGlzX3N0cl9wb3MgPCBzdHJfcG9zKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0cl9wb3MgPSB0aGlzX3N0cl9wb3M7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RyX2ZvdW5kID0gVHdpZy50b2tlbi5zdHJpbmdzW2ldO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBzdHJpbmcgYmVmb3JlIHRoZSBlbmQgb2YgdGhlIHRva2VuLCBub3cgZmluZCB0aGUgc3RyaW5nJ3MgZW5kIGFuZCBzZXQgdGhlIHNlYXJjaCBvZmZzZXQgdG8gaXRcblx0ICAgICAgICAgICAgaWYgKHN0cl9wb3MgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGVuZF9vZmZzZXQgPSBzdHJfcG9zICsgMTtcblx0ICAgICAgICAgICAgICAgIGVuZCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBlbmRfc3RyX3BvcyA9IHRlbXBsYXRlLmluZGV4T2Yoc3RyX2ZvdW5kLCBlbmRfb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZW5kX3N0cl9wb3MgPCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwiVW5jbG9zZWQgc3RyaW5nIGluIHRlbXBsYXRlXCI7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlc2NhcGVkIHF1b3Rlc1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5zdWJzdHIoZW5kX3N0cl9wb3MgLSAxLCAxKSAhPT0gXCJcXFxcXCIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZW5kX3N0cl9wb3MgKyAxO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbmRfb2Zmc2V0ID0gZW5kX3N0cl9wb3MgKyAxO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZW5kO1xuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0IGEgdGVtcGxhdGUgaW50byBoaWdoLWxldmVsIHRva2Vucy5cblx0ICAgICAqL1xuXHQgICAgVHdpZy50b2tlbml6ZSA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuXHQgICAgICAgIHZhciB0b2tlbnMgPSBbXSxcblx0ICAgICAgICAgICAgLy8gQW4gb2Zmc2V0IGZvciByZXBvcnRpbmcgZXJyb3JzIGxvY2F0aW9ucyBpbiB0aGUgdGVtcGxhdGUuXG5cdCAgICAgICAgICAgIGVycm9yX29mZnNldCA9IDAsXG5cblx0ICAgICAgICAgICAgLy8gVGhlIHN0YXJ0IGFuZCB0eXBlIG9mIHRoZSBmaXJzdCB0b2tlbiBmb3VuZCBpbiB0aGUgdGVtcGxhdGUuXG5cdCAgICAgICAgICAgIGZvdW5kX3Rva2VuID0gbnVsbCxcblx0ICAgICAgICAgICAgLy8gVGhlIGVuZCBwb3NpdGlvbiBvZiB0aGUgbWF0Y2hlZCB0b2tlbi5cblx0ICAgICAgICAgICAgZW5kID0gbnVsbDtcblxuXHQgICAgICAgIHdoaWxlICh0ZW1wbGF0ZS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IG9jY3VyYW5jZSBvZiBhbnkgdG9rZW4gdHlwZSBpbiB0aGUgdGVtcGxhdGVcblx0ICAgICAgICAgICAgZm91bmRfdG9rZW4gPSBUd2lnLnRva2VuLmZpbmRTdGFydCh0ZW1wbGF0ZSk7XG5cblx0ICAgICAgICAgICAgVHdpZy5sb2cudHJhY2UoXCJUd2lnLnRva2VuaXplOiBcIiwgXCJGb3VuZCB0b2tlbjogXCIsIGZvdW5kX3Rva2VuKTtcblxuXHQgICAgICAgICAgICBpZiAoZm91bmRfdG9rZW4ucG9zaXRpb24gIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIC8vIEFkZCBhIHJhdyB0eXBlIHRva2VuIGZvciBhbnl0aGluZyBiZWZvcmUgdGhlIHN0YXJ0IG9mIHRoZSB0b2tlblxuXHQgICAgICAgICAgICAgICAgaWYgKGZvdW5kX3Rva2VuLnBvc2l0aW9uID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVHdpZy50b2tlbi50eXBlLnJhdyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRlbXBsYXRlLnN1YnN0cmluZygwLCBmb3VuZF90b2tlbi5wb3NpdGlvbilcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuc3Vic3RyKGZvdW5kX3Rva2VuLnBvc2l0aW9uICsgZm91bmRfdG9rZW4uZGVmLm9wZW4ubGVuZ3RoKTtcblx0ICAgICAgICAgICAgICAgIGVycm9yX29mZnNldCArPSBmb3VuZF90b2tlbi5wb3NpdGlvbiArIGZvdW5kX3Rva2VuLmRlZi5vcGVuLmxlbmd0aDtcblxuXHQgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuXHQgICAgICAgICAgICAgICAgZW5kID0gVHdpZy50b2tlbi5maW5kRW5kKHRlbXBsYXRlLCBmb3VuZF90b2tlbi5kZWYsIGVycm9yX29mZnNldCk7XG5cblx0ICAgICAgICAgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy50b2tlbml6ZTogXCIsIFwiVG9rZW4gZW5kcyBhdCBcIiwgZW5kKTtcblxuXHQgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6ICBmb3VuZF90b2tlbi5kZWYudHlwZSxcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGVtcGxhdGUuc3Vic3RyaW5nKDAsIGVuZCkudHJpbSgpXG5cdCAgICAgICAgICAgICAgICB9KTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlLnN1YnN0ciggZW5kICsgZm91bmRfdG9rZW4uZGVmLmNsb3NlLmxlbmd0aCwgMSApID09PSBcIlxcblwiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmb3VuZF90b2tlbi5kZWYudHlwZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9naWNfd2hpdGVzcGFjZV9wcmVcIjpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxvZ2ljX3doaXRlc3BhY2VfcG9zdFwiOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9naWNfd2hpdGVzcGFjZV9ib3RoXCI6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsb2dpY1wiOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV3bGluZXMgZGlyZWN0bHkgYWZ0ZXIgbG9naWMgdG9rZW5zIGFyZSBpZ25vcmVkXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgKz0gMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5zdWJzdHIoZW5kICsgZm91bmRfdG9rZW4uZGVmLmNsb3NlLmxlbmd0aCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudCB0aGUgcG9zaXRpb24gaW4gdGhlIHRlbXBsYXRlXG5cdCAgICAgICAgICAgICAgICBlcnJvcl9vZmZzZXQgKz0gZW5kICsgZm91bmRfdG9rZW4uZGVmLmNsb3NlLmxlbmd0aDtcblxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gTm8gbW9yZSB0b2tlbnMgLT4gYWRkIHRoZSByZXN0IG9mIHRoZSB0ZW1wbGF0ZSBhcyBhIHJhdy10eXBlIHRva2VuXG5cdCAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XG5cdCAgICAgICAgICAgICAgICAgICAgdHlwZTogVHdpZy50b2tlbi50eXBlLnJhdyxcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGVtcGxhdGVcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSAnJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiB0b2tlbnM7XG5cdCAgICB9O1xuXG5cblx0ICAgIFR3aWcuY29tcGlsZSA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcblx0ICAgICAgICB0cnkge1xuXG5cdCAgICAgICAgICAgIC8vIE91dHB1dCBhbmQgaW50ZXJtZWRpYXRlIHN0YWNrc1xuXHQgICAgICAgICAgICB2YXIgb3V0cHV0ID0gW10sXG5cdCAgICAgICAgICAgICAgICBzdGFjayA9IFtdLFxuXHQgICAgICAgICAgICAgICAgLy8gVGhlIHRva2VucyBiZXR3ZWVuIG9wZW4gYW5kIGNsb3NlIHRhZ3Ncblx0ICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9vdXRwdXQgPSBbXSxcblxuXHQgICAgICAgICAgICAgICAgdG9rZW4gPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgbG9naWNfdG9rZW4gPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgdW5jbG9zZWRfdG9rZW4gPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgLy8gVGVtcG9yYXJ5IHByZXZpb3VzIHRva2VuLlxuXHQgICAgICAgICAgICAgICAgcHJldl90b2tlbiA9IG51bGwsXG5cdCAgICAgICAgICAgICAgICAvLyBUZW1wb3JhcnkgcHJldmlvdXMgb3V0cHV0LlxuXHQgICAgICAgICAgICAgICAgcHJldl9vdXRwdXQgPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgLy8gVGVtcG9yYXJ5IHByZXZpb3VzIGludGVybWVkaWF0ZSBvdXRwdXQuXG5cdCAgICAgICAgICAgICAgICBwcmV2X2ludGVybWVkaWF0ZV9vdXRwdXQgPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgLy8gVGhlIHByZXZpb3VzIHRva2VuJ3MgdGVtcGxhdGVcblx0ICAgICAgICAgICAgICAgIHByZXZfdGVtcGxhdGUgPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgLy8gVG9rZW4gbG9va2FoZWFkXG5cdCAgICAgICAgICAgICAgICBuZXh0X3Rva2VuID0gbnVsbCxcblx0ICAgICAgICAgICAgICAgIC8vIFRoZSBvdXRwdXQgdG9rZW5cblx0ICAgICAgICAgICAgICAgIHRva19vdXRwdXQgPSBudWxsLFxuXG5cdCAgICAgICAgICAgICAgICAvLyBMb2dpYyBUb2tlbiB2YWx1ZXNcblx0ICAgICAgICAgICAgICAgIHR5cGUgPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgb3BlbiA9IG51bGwsXG5cdCAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbDtcblxuXHQgICAgICAgICAgICB2YXIgY29tcGlsZV9vdXRwdXQgPSBmdW5jdGlvbih0b2tlbikge1xuXHQgICAgICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLmNvbXBpbGUuYXBwbHkodGhpcywgW3Rva2VuXSk7XG5cdCAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9vdXRwdXQucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICB2YXIgY29tcGlsZV9sb2dpYyA9IGZ1bmN0aW9uKHRva2VuKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBDb21waWxlIHRoZSBsb2dpYyB0b2tlblxuXHQgICAgICAgICAgICAgICAgbG9naWNfdG9rZW4gPSBUd2lnLmxvZ2ljLmNvbXBpbGUuYXBwbHkodGhpcywgW3Rva2VuXSk7XG5cblx0ICAgICAgICAgICAgICAgIHR5cGUgPSBsb2dpY190b2tlbi50eXBlO1xuXHQgICAgICAgICAgICAgICAgb3BlbiA9IFR3aWcubG9naWMuaGFuZGxlclt0eXBlXS5vcGVuO1xuXHQgICAgICAgICAgICAgICAgbmV4dCA9IFR3aWcubG9naWMuaGFuZGxlclt0eXBlXS5uZXh0O1xuXG5cdCAgICAgICAgICAgICAgICBUd2lnLmxvZy50cmFjZShcIlR3aWcuY29tcGlsZTogXCIsIFwiQ29tcGlsZWQgbG9naWMgdG9rZW4gdG8gXCIsIGxvZ2ljX3Rva2VuLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgbmV4dCBpczogXCIsIG5leHQsIFwiIG9wZW4gaXMgOiBcIiwgb3Blbik7XG5cblx0ICAgICAgICAgICAgICAgIC8vIE5vdCBhIHN0YW5kYWxvbmUgdG9rZW4sIGNoZWNrIGxvZ2ljIHN0YWNrIHRvIHNlZSBpZiB0aGlzIGlzIGV4cGVjdGVkXG5cdCAgICAgICAgICAgICAgICBpZiAob3BlbiAhPT0gdW5kZWZpbmVkICYmICFvcGVuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcHJldl90b2tlbiA9IHN0YWNrLnBvcCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHByZXZfdGVtcGxhdGUgPSBUd2lnLmxvZ2ljLmhhbmRsZXJbcHJldl90b2tlbi50eXBlXTtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChUd2lnLmluZGV4T2YocHJldl90ZW1wbGF0ZS5uZXh0LCB0eXBlKSA8IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBub3QgZXhwZWN0ZWQgYWZ0ZXIgYSBcIiArIHByZXZfdG9rZW4udHlwZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcHJldl90b2tlbi5vdXRwdXQgPSBwcmV2X3Rva2VuLm91dHB1dCB8fCBbXTtcblxuXHQgICAgICAgICAgICAgICAgICAgIHByZXZfdG9rZW4ub3V0cHV0ID0gcHJldl90b2tlbi5vdXRwdXQuY29uY2F0KGludGVybWVkaWF0ZV9vdXRwdXQpO1xuXHQgICAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9vdXRwdXQgPSBbXTtcblxuXHQgICAgICAgICAgICAgICAgICAgIHRva19vdXRwdXQgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR3aWcudG9rZW4udHlwZS5sb2dpYyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHByZXZfdG9rZW5cblx0ICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9vdXRwdXQucHVzaCh0b2tfb3V0cHV0KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh0b2tfb3V0cHV0KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIFRoaXMgdG9rZW4gcmVxdWlyZXMgYWRkaXRpb25hbCB0b2tlbnMgdG8gY29tcGxldGUgdGhlIGxvZ2ljIHN0cnVjdHVyZS5cblx0ICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgbmV4dC5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgVHdpZy5sb2cudHJhY2UoXCJUd2lnLmNvbXBpbGU6IFwiLCBcIlB1c2hpbmcgXCIsIGxvZ2ljX3Rva2VuLCBcIiB0byBsb2dpYyBzdGFjay5cIik7XG5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBQdXQgYW55IGN1cnJlbnRseSBoZWxkIG91dHB1dCBpbnRvIHRoZSBvdXRwdXQgbGlzdCBvZiB0aGUgbG9naWMgb3BlcmF0b3Jcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VycmVudGx5IGF0IHRoZSBoZWFkIG9mIHRoZSBzdGFjayBiZWZvcmUgd2UgcHVzaCBhIG5ldyBvbmUgb24uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHByZXZfdG9rZW4gPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJldl90b2tlbi5vdXRwdXQgPSBwcmV2X3Rva2VuLm91dHB1dCB8fCBbXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJldl90b2tlbi5vdXRwdXQgPSBwcmV2X3Rva2VuLm91dHB1dC5jb25jYXQoaW50ZXJtZWRpYXRlX291dHB1dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocHJldl90b2tlbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9vdXRwdXQgPSBbXTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBQdXNoIHRoZSBuZXcgbG9naWMgdG9rZW4gb250byB0aGUgbG9naWMgc3RhY2tcblx0ICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGxvZ2ljX3Rva2VuKTtcblxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcGVuICE9PSB1bmRlZmluZWQgJiYgb3Blbikge1xuXHQgICAgICAgICAgICAgICAgICAgIHRva19vdXRwdXQgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR3aWcudG9rZW4udHlwZS5sb2dpYyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IGxvZ2ljX3Rva2VuXG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBTdGFuZGFsb25lIHRva2VuIChsaWtlIHslIHNldCAuLi4gJX1cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfb3V0cHV0LnB1c2godG9rX291dHB1dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rX291dHB1dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgIHdoaWxlICh0b2tlbnMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKTtcblx0ICAgICAgICAgICAgICAgIHByZXZfb3V0cHV0ID0gb3V0cHV0W291dHB1dC5sZW5ndGggLSAxXTtcblx0ICAgICAgICAgICAgICAgIHByZXZfaW50ZXJtZWRpYXRlX291dHB1dCA9IGludGVybWVkaWF0ZV9vdXRwdXRbaW50ZXJtZWRpYXRlX291dHB1dC5sZW5ndGggLSAxXTtcblx0ICAgICAgICAgICAgICAgIG5leHRfdG9rZW4gPSB0b2tlbnNbMF07XG5cdCAgICAgICAgICAgICAgICBUd2lnLmxvZy50cmFjZShcIkNvbXBpbGluZyB0b2tlbiBcIiwgdG9rZW4pO1xuXHQgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUucmF3OlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX291dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLmxvZ2ljOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxlX2xvZ2ljLmNhbGwodGhpcywgdG9rZW4pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcsIGNvbW1lbnRzIHNob3VsZCBiZSBpZ25vcmVkXG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUuY29tbWVudDpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFR3aWcudG9rZW4udHlwZS5vdXRwdXQ6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGVfb3V0cHV0LmNhbGwodGhpcywgdG9rZW4pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vS2lsbCB3aGl0ZXNwYWNlIGFoZWFkIGFuZCBiZWhpbmQgdGhpcyB0b2tlblxuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLmxvZ2ljX3doaXRlc3BhY2VfcHJlOlxuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLmxvZ2ljX3doaXRlc3BhY2VfcG9zdDpcblx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFR3aWcudG9rZW4udHlwZS5sb2dpY193aGl0ZXNwYWNlX2JvdGg6XG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUub3V0cHV0X3doaXRlc3BhY2VfcHJlOlxuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLm91dHB1dF93aGl0ZXNwYWNlX3Bvc3Q6XG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUub3V0cHV0X3doaXRlc3BhY2VfYm90aDpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09IFR3aWcudG9rZW4udHlwZS5vdXRwdXRfd2hpdGVzcGFjZV9wb3N0ICYmIHRva2VuLnR5cGUgIT09IFR3aWcudG9rZW4udHlwZS5sb2dpY193aGl0ZXNwYWNlX3Bvc3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2X291dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgdGhlIHByZXZpb3VzIG91dHB1dCBpcyByYXcsIHBvcCBpdCBvZmZcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldl9vdXRwdXQudHlwZSA9PT0gVHdpZy50b2tlbi50eXBlLnJhdykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucG9wKCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGUgcHJldmlvdXMgb3V0cHV0IGlzIG5vdCBqdXN0IHdoaXRlc3BhY2UsIHRyaW0gaXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZfb3V0cHV0LnZhbHVlLm1hdGNoKC9eXFxzKiQvKSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldl9vdXRwdXQudmFsdWUgPSBwcmV2X291dHB1dC52YWx1ZS50cmltKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1JlcHVzaCB0aGUgcHJldmlvdXMgb3V0cHV0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChwcmV2X291dHB1dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2X2ludGVybWVkaWF0ZV9vdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lmIHRoZSBwcmV2aW91cyBpbnRlcm1lZGlhdGUgb3V0cHV0IGlzIHJhdywgcG9wIGl0IG9mZlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2X2ludGVybWVkaWF0ZV9vdXRwdXQudHlwZSA9PT0gVHdpZy50b2tlbi50eXBlLnJhdykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfb3V0cHV0LnBvcCgpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgdGhlIHByZXZpb3VzIG91dHB1dCBpcyBub3QganVzdCB3aGl0ZXNwYWNlLCB0cmltIGl0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2X2ludGVybWVkaWF0ZV9vdXRwdXQudmFsdWUubWF0Y2goL15cXHMqJC8pID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2X2ludGVybWVkaWF0ZV9vdXRwdXQudmFsdWUgPSBwcmV2X2ludGVybWVkaWF0ZV9vdXRwdXQudmFsdWUudHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SZXB1c2ggdGhlIHByZXZpb3VzIGludGVybWVkaWF0ZSBvdXRwdXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9vdXRwdXQucHVzaChwcmV2X2ludGVybWVkaWF0ZV9vdXRwdXQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy9Db21waWxlIHRoaXMgdG9rZW5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFR3aWcudG9rZW4udHlwZS5vdXRwdXRfd2hpdGVzcGFjZV9wcmU6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFR3aWcudG9rZW4udHlwZS5vdXRwdXRfd2hpdGVzcGFjZV9wb3N0OlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUub3V0cHV0X3doaXRlc3BhY2VfYm90aDpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxlX291dHB1dC5jYWxsKHRoaXMsIHRva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLmxvZ2ljX3doaXRlc3BhY2VfcHJlOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUubG9naWNfd2hpdGVzcGFjZV9wb3N0OlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUubG9naWNfd2hpdGVzcGFjZV9ib3RoOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGVfbG9naWMuY2FsbCh0aGlzLCB0b2tlbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gVHdpZy50b2tlbi50eXBlLm91dHB1dF93aGl0ZXNwYWNlX3ByZSAmJiB0b2tlbi50eXBlICE9PSBUd2lnLnRva2VuLnR5cGUubG9naWNfd2hpdGVzcGFjZV9wcmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0X3Rva2VuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGUgbmV4dCB0b2tlbiBpcyByYXcsIHNoaWZ0IGl0IG91dFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0X3Rva2VuLnR5cGUgPT09IFR3aWcudG9rZW4udHlwZS5yYXcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNoaWZ0KCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGUgbmV4dCB0b2tlbiBpcyBub3QganVzdCB3aGl0ZXNwYWNlLCB0cmltIGl0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0X3Rva2VuLnZhbHVlLm1hdGNoKC9eXFxzKiQvKSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dF90b2tlbi52YWx1ZSA9IG5leHRfdG9rZW4udmFsdWUudHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9VbnNoaWZ0IHRoZSBuZXh0IHRva2VuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMudW5zaGlmdChuZXh0X3Rva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBUd2lnLmxvZy50cmFjZShcIlR3aWcuY29tcGlsZTogXCIsIFwiIE91dHB1dDogXCIsIG91dHB1dCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIExvZ2ljIFN0YWNrOiBcIiwgc3RhY2ssXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBQZW5kaW5nIE91dHB1dDogXCIsIGludGVybWVkaWF0ZV9vdXRwdXQgKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFZlcmlmeSB0aGF0IHRoZXJlIGFyZSBubyBsb2dpYyB0b2tlbnMgbGVmdCBpbiB0aGUgc3RhY2suXG5cdCAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICB1bmNsb3NlZF90b2tlbiA9IHN0YWNrLnBvcCgpO1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgYW4gZW5kIHRhZyBmb3IgXCIgKyB1bmNsb3NlZF90b2tlbi50eXBlICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiwgZXhwZWN0aW5nIG9uZSBvZiBcIiArIHVuY2xvc2VkX3Rva2VuLm5leHQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXRocm93KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZXgudHlwZSA9PSAnVHdpZ0V4Y2VwdGlvbicgJiYgIWV4LmZpbGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBleC5maWxlID0gdGhpcy5pZDtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdGhyb3cgZXhcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9nLmVycm9yKFwiRXJyb3IgY29tcGlsaW5nIHR3aWcgdGVtcGxhdGUgXCIgKyB0aGlzLmlkICsgXCI6IFwiKTtcblx0ICAgICAgICAgICAgICAgIGlmIChleC5zdGFjaykge1xuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcubG9nLmVycm9yKGV4LnN0YWNrKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgVHdpZy5sb2cuZXJyb3IoZXgudG9TdHJpbmcoKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFBhcnNlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gdG9rZW5zIFRoZSBjb21waWxlZCB0b2tlbnMuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCBUaGUgcmVuZGVyIGNvbnRleHQuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcGFyc2VkIHRlbXBsYXRlLlxuXHQgICAgICovXG5cdCAgICBUd2lnLnBhcnNlID0gZnVuY3Rpb24gKHRva2VucywgY29udGV4dCwgYWxsb3dfYXN5bmMpIHtcblx0ICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG5cdCAgICAgICAgICAgIG91dHB1dCA9IFtdLFxuXG5cdCAgICAgICAgICAgIC8vIFN0b3JlIGFueSBlcnJvciB0aGF0IG1pZ2h0IGJlIHRocm93biBieSB0aGUgcHJvbWlzZSBjaGFpbi5cblx0ICAgICAgICAgICAgZXJyID0gbnVsbCxcblxuXHQgICAgICAgICAgICAvLyBUaGlzIHdpbGwgYmUgc2V0IHRvIGlzX2FzeW5jIGlmIHRlbXBsYXRlIHJlbmRlcnMgc3luY2hyb25vdXNseVxuXHQgICAgICAgICAgICBpc19hc3luYyA9IHRydWUsXG5cdCAgICAgICAgICAgIHByb21pc2UgPSBudWxsLFxuXG5cdCAgICAgICAgICAgIC8vIFRyYWNrIGxvZ2ljIGNoYWluc1xuXHQgICAgICAgICAgICBjaGFpbiA9IHRydWU7XG5cblxuXHQgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUV4Y2VwdGlvbihleCkge1xuXHQgICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnJldGhyb3cpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXggPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZXggPSBuZXcgVHdpZy5FcnJvcihleClcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgaWYgKGV4LnR5cGUgPT0gJ1R3aWdFeGNlcHRpb24nICYmICFleC5maWxlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZXguZmlsZSA9IHRoYXQuaWQ7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHRocm93IGV4O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2cuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHR3aWcgdGVtcGxhdGUgXCIgKyB0aGF0LmlkICsgXCI6IFwiKTtcblx0ICAgICAgICAgICAgICAgIGlmIChleC5zdGFjaykge1xuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcubG9nLmVycm9yKGV4LnN0YWNrKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgVHdpZy5sb2cuZXJyb3IoZXgudG9TdHJpbmcoKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIGlmIChUd2lnLmRlYnVnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4LnRvU3RyaW5nKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICBwcm9taXNlID0gVHdpZy5hc3luYy5mb3JFYWNoKHRva2VucywgZnVuY3Rpb24gcGFyc2VUb2tlbih0b2tlbikge1xuXHQgICAgICAgICAgICBUd2lnLmxvZy5kZWJ1ZyhcIlR3aWcucGFyc2U6IFwiLCBcIlBhcnNpbmcgdG9rZW46IFwiLCB0b2tlbik7XG5cblx0ICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdCAgICAgICAgICAgICAgICBjYXNlIFR3aWcudG9rZW4udHlwZS5yYXc6XG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goVHdpZy5maWx0ZXJzLnJhdyh0b2tlbi52YWx1ZSkpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgICAgICBjYXNlIFR3aWcudG9rZW4udHlwZS5sb2dpYzpcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbG9naWNfdG9rZW4gPSB0b2tlbi50b2tlbjtcblxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmxvZ2ljLnBhcnNlQXN5bmMuYXBwbHkodGhhdCwgW2xvZ2ljX3Rva2VuLCBjb250ZXh0LCBjaGFpbl0pXG5cdCAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24obG9naWMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2ljLmNoYWluICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluID0gbG9naWMuY2hhaW47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2ljLmNvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGxvZ2ljLmNvbnRleHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2ljLm91dHB1dCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChsb2dpYy5vdXRwdXQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLmNvbW1lbnQ6XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZywgY29tbWVudHMgc2hvdWxkIGJlIGlnbm9yZWRcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICAgICAgLy9GYWxsIHRocm91Z2ggd2hpdGVzcGFjZSB0byBvdXRwdXRcblx0ICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLm91dHB1dF93aGl0ZXNwYWNlX3ByZTpcblx0ICAgICAgICAgICAgICAgIGNhc2UgVHdpZy50b2tlbi50eXBlLm91dHB1dF93aGl0ZXNwYWNlX3Bvc3Q6XG5cdCAgICAgICAgICAgICAgICBjYXNlIFR3aWcudG9rZW4udHlwZS5vdXRwdXRfd2hpdGVzcGFjZV9ib3RoOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBUd2lnLnRva2VuLnR5cGUub3V0cHV0OlxuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcubG9nLmRlYnVnKFwiVHdpZy5wYXJzZTogXCIsIFwiT3V0cHV0IHRva2VuOiBcIiwgdG9rZW4uc3RhY2spO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBnaXZlbiBleHByZXNzaW9uIGluIHRoZSBnaXZlbiBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoYXQsIFt0b2tlbi5zdGFjaywgY29udGV4dF0pXG5cdCAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24obykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9IFR3aWcub3V0cHV0LmFwcGx5KHRoYXQsIFtvdXRwdXRdKTtcblx0ICAgICAgICAgICAgaXNfYXN5bmMgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgICAgICB9KVxuXHQgICAgICAgIC5jYXRjaChmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgIGlmIChhbGxvd19hc3luYylcblx0ICAgICAgICAgICAgICAgIGhhbmRsZUV4Y2VwdGlvbihlKTtcblxuXHQgICAgICAgICAgICBlcnIgPSBlO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgLy8gSWYgYGFsbG93X2FzeW5jYCB3ZSB3aWxsIGFsd2F5cyByZXR1cm4gYSBwcm9taXNlIHNpbmNlIHdlIGRvIG5vdFxuXHQgICAgICAgIC8vIGtub3cgaW4gYWR2YW5jZSBpZiB3ZSBhcmUgZ29pbmcgdG8gcnVuIGFzeW5jaHJvbm91c2x5IG9yIG5vdC5cblx0ICAgICAgICBpZiAoYWxsb3dfYXN5bmMpXG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXG5cdCAgICAgICAgLy8gSGFuZGxlIGVycm9ycyBoZXJlIGlmIHdlIGZhaWwgc3luY2hyb25vdXNseS5cblx0ICAgICAgICBpZiAoZXJyICE9PSBudWxsKVxuXHQgICAgICAgICAgICByZXR1cm4gaGFuZGxlRXhjZXB0aW9uKGVycik7XG5cblx0ICAgICAgICAvLyBJZiBgYWxsb3dfYXN5bmNgIGlzIG5vdCB0cnVlIHdlIHNob3VsZCBub3QgYWxsb3cgdGhlIHVzZXJcblx0ICAgICAgICAvLyB0byB1c2UgYXN5bmNocm9ub3VzIGZ1bmN0aW9ucyBvciBmaWx0ZXJzLlxuXHQgICAgICAgIGlmIChpc19hc3luYylcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoJ1lvdSBhcmUgdXNpbmcgVHdpZy5qcyBpbiBzeW5jIG1vZGUgaW4gY29tYmluYXRpb24gd2l0aCBhc3luYyBleHRlbnNpb25zLicpO1xuXG5cdCAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogVG9rZW5pemUgYW5kIGNvbXBpbGUgYSBzdHJpbmcgdGVtcGxhdGUuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgVGhlIHRlbXBsYXRlLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgY29tcGlsZWQgdG9rZW5zLlxuXHQgICAgICovXG5cdCAgICBUd2lnLnByZXBhcmUgPSBmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgICAgdmFyIHRva2VucywgcmF3X3Rva2VucztcblxuXHQgICAgICAgIC8vIFRva2VuaXplXG5cdCAgICAgICAgVHdpZy5sb2cuZGVidWcoXCJUd2lnLnByZXBhcmU6IFwiLCBcIlRva2VuaXppbmcgXCIsIGRhdGEpO1xuXHQgICAgICAgIHJhd190b2tlbnMgPSBUd2lnLnRva2VuaXplLmFwcGx5KHRoaXMsIFtkYXRhXSk7XG5cblx0ICAgICAgICAvLyBDb21waWxlXG5cdCAgICAgICAgVHdpZy5sb2cuZGVidWcoXCJUd2lnLnByZXBhcmU6IFwiLCBcIkNvbXBpbGluZyBcIiwgcmF3X3Rva2Vucyk7XG5cdCAgICAgICAgdG9rZW5zID0gVHdpZy5jb21waWxlLmFwcGx5KHRoaXMsIFtyYXdfdG9rZW5zXSk7XG5cblx0ICAgICAgICBUd2lnLmxvZy5kZWJ1ZyhcIlR3aWcucHJlcGFyZTogXCIsIFwiQ29tcGlsZWQgXCIsIHRva2Vucyk7XG5cblx0ICAgICAgICByZXR1cm4gdG9rZW5zO1xuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBKb2luIHRoZSBvdXRwdXQgdG9rZW4ncyBzdGFjayBhbmQgZXNjYXBlIGl0IGlmIG5lZWRlZFxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IE91dHB1dCB0b2tlbidzIHN0YWNrXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7c3RyaW5nfFN0cmluZ30gQXV0b2VzY2FwZWQgb3V0cHV0XG5cdCAgICAgKi9cblx0ICAgIFR3aWcub3V0cHV0ID0gZnVuY3Rpb24ob3V0cHV0KSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYXV0b2VzY2FwZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHN0cmF0ZWd5ID0gJ2h0bWwnO1xuXHQgICAgICAgIGlmKHR5cGVvZiB0aGlzLm9wdGlvbnMuYXV0b2VzY2FwZSA9PSAnc3RyaW5nJylcblx0ICAgICAgICAgICAgc3RyYXRlZ3kgPSB0aGlzLm9wdGlvbnMuYXV0b2VzY2FwZTtcblxuXHQgICAgICAgIC8vIFtdLm1hcCB3b3VsZCBiZSBiZXR0ZXIgYnV0IGl0J3Mgbm90IHN1cHBvcnRlZCBieSBJRTgtXG5cdCAgICAgICAgdmFyIGVzY2FwZWRfb3V0cHV0ID0gW107XG5cdCAgICAgICAgVHdpZy5mb3JFYWNoKG91dHB1dCwgZnVuY3Rpb24gKHN0cikge1xuXHQgICAgICAgICAgICBpZiAoc3RyICYmIChzdHIudHdpZ19tYXJrdXAgIT09IHRydWUgJiYgc3RyLnR3aWdfbWFya3VwICE9IHN0cmF0ZWd5KSkge1xuXHQgICAgICAgICAgICAgICAgc3RyID0gVHdpZy5maWx0ZXJzLmVzY2FwZShzdHIsIFsgc3RyYXRlZ3kgXSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZXNjYXBlZF9vdXRwdXQucHVzaChzdHIpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBUd2lnLk1hcmt1cChlc2NhcGVkX291dHB1dC5qb2luKFwiXCIpKTtcblx0ICAgIH1cblxuXHQgICAgLy8gTmFtZXNwYWNlIGZvciB0ZW1wbGF0ZSBzdG9yYWdlIGFuZCByZXRyaWV2YWxcblx0ICAgIFR3aWcuVGVtcGxhdGVzID0ge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFJlZ2lzdGVyZWQgdGVtcGxhdGUgbG9hZGVycyAtIHVzZSBUd2lnLlRlbXBsYXRlcy5yZWdpc3RlckxvYWRlciB0byBhZGQgc3VwcG9ydGVkIGxvYWRlcnNcblx0ICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGxvYWRlcnM6IHt9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUmVnaXN0ZXJlZCB0ZW1wbGF0ZSBwYXJzZXJzIC0gdXNlIFR3aWcuVGVtcGxhdGVzLnJlZ2lzdGVyUGFyc2VyIHRvIGFkZCBzdXBwb3J0ZWQgcGFyc2Vyc1xuXHQgICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcGFyc2Vyczoge30sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDYWNoZWQgLyBsb2FkZWQgdGVtcGxhdGVzXG5cdCAgICAgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAgICAgKi9cblx0ICAgICAgICByZWdpc3RyeToge31cblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogSXMgdGhpcyBpZCB2YWxpZCBmb3IgYSB0d2lnIHRlbXBsYXRlP1xuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgdG8gY2hlY2suXG5cdCAgICAgKlxuXHQgICAgICogQHRocm93cyB7VHdpZy5FcnJvcn0gSWYgdGhlIElEIGlzIGludmFsaWQgb3IgdXNlZC5cblx0ICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIElEIGlzIHZhbGlkLlxuXHQgICAgICovXG5cdCAgICBUd2lnLnZhbGlkYXRlSWQgPSBmdW5jdGlvbihpZCkge1xuXHQgICAgICAgIGlmIChpZCA9PT0gXCJwcm90b3R5cGVcIikge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihpZCArIFwiIGlzIG5vdCBhIHZhbGlkIHR3aWcgaWRlbnRpZmllclwiKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKFR3aWcuY2FjaGUgJiYgVHdpZy5UZW1wbGF0ZXMucmVnaXN0cnkuaGFzT3duUHJvcGVydHkoaWQpKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiVGhlcmUgaXMgYWxyZWFkeSBhIHRlbXBsYXRlIHdpdGggdGhlIElEIFwiICsgaWQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBSZWdpc3RlciBhIHRlbXBsYXRlIGxvYWRlclxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiBUd2lnLmV4dGVuZChmdW5jdGlvbihUd2lnKSB7XG5cdCAgICAgKiAgICBUd2lnLlRlbXBsYXRlcy5yZWdpc3RlckxvYWRlcignY3VzdG9tX2xvYWRlcicsIGZ1bmN0aW9uKGxvY2F0aW9uLCBwYXJhbXMsIGNhbGxiYWNrLCBlcnJvcl9jYWxsYmFjaykge1xuXHQgICAgICogICAgICAgIC8vIC4uLiBsb2FkIHRoZSB0ZW1wbGF0ZSAuLi5cblx0ICAgICAqICAgICAgICBwYXJhbXMuZGF0YSA9IGxvYWRlZFRlbXBsYXRlRGF0YTtcblx0ICAgICAqICAgICAgICAvLyBjcmVhdGUgYW5kIHJldHVybiB0aGUgdGVtcGxhdGVcblx0ICAgICAqICAgICAgICB2YXIgdGVtcGxhdGUgPSBuZXcgVHdpZy5UZW1wbGF0ZShwYXJhbXMpO1xuXHQgICAgICogICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAqICAgICAgICAgICAgY2FsbGJhY2sodGVtcGxhdGUpO1xuXHQgICAgICogICAgICAgIH1cblx0ICAgICAqICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG5cdCAgICAgKiAgICB9KTtcblx0ICAgICAqIH0pO1xuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RfbmFtZSBUaGUgbWV0aG9kIHRoaXMgbG9hZGVyIGlzIGludGVuZGVkIGZvciAoYWpheCwgZnMpXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gbG9hZGluZyB0aGUgdGVtcGxhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fHVuZGVmaW5lZH0gc2NvcGUgT3B0aW9uYWwgc2NvcGUgcGFyYW1ldGVyIHRvIGJpbmQgZnVuYyB0b1xuXHQgICAgICpcblx0ICAgICAqIEB0aHJvd3MgVHdpZy5FcnJvclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge3ZvaWR9XG5cdCAgICAgKi9cblx0ICAgIFR3aWcuVGVtcGxhdGVzLnJlZ2lzdGVyTG9hZGVyID0gZnVuY3Rpb24obWV0aG9kX25hbWUsIGZ1bmMsIHNjb3BlKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKCdVbmFibGUgdG8gYWRkIGxvYWRlciBmb3IgJyArIG1ldGhvZF9uYW1lICsgJzogSW52YWxpZCBmdW5jdGlvbiByZWZlcmVuY2UgZ2l2ZW4uJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChzY29wZSkge1xuXHQgICAgICAgICAgICBmdW5jID0gZnVuYy5iaW5kKHNjb3BlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5sb2FkZXJzW21ldGhvZF9uYW1lXSA9IGZ1bmM7XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZSBhIHJlZ2lzdGVyZWQgbG9hZGVyXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZF9uYW1lIFRoZSBtZXRob2QgbmFtZSBmb3IgdGhlIGxvYWRlciB5b3Ugd2lzaCB0byByZW1vdmVcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHt2b2lkfVxuXHQgICAgICovXG5cdCAgICBUd2lnLlRlbXBsYXRlcy51blJlZ2lzdGVyTG9hZGVyID0gZnVuY3Rpb24obWV0aG9kX25hbWUpIHtcblx0ICAgICAgICBpZiAodGhpcy5pc1JlZ2lzdGVyZWRMb2FkZXIobWV0aG9kX25hbWUpKSB7XG5cdCAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxvYWRlcnNbbWV0aG9kX25hbWVdO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2VlIGlmIGEgbG9hZGVyIGlzIHJlZ2lzdGVyZWQgYnkgaXRzIG1ldGhvZCBuYW1lXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBsb2FkZXIgeW91IGFyZSBsb29raW5nIGZvclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIFR3aWcuVGVtcGxhdGVzLmlzUmVnaXN0ZXJlZExvYWRlciA9IGZ1bmN0aW9uKG1ldGhvZF9uYW1lKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVycy5oYXNPd25Qcm9wZXJ0eShtZXRob2RfbmFtZSk7XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFJlZ2lzdGVyIGEgdGVtcGxhdGUgcGFyc2VyXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqIFR3aWcuZXh0ZW5kKGZ1bmN0aW9uKFR3aWcpIHtcblx0ICAgICAqICAgIFR3aWcuVGVtcGxhdGVzLnJlZ2lzdGVyUGFyc2VyKCdjdXN0b21fcGFyc2VyJywgZnVuY3Rpb24ocGFyYW1zKSB7XG5cdCAgICAgKiAgICAgICAgLy8gdGhpcyB0ZW1wbGF0ZSBzb3VyY2UgY2FuIGJlIGFjY2Vzc2VkIGluIHBhcmFtcy5kYXRhXG5cdCAgICAgKiAgICAgICAgdmFyIHRlbXBsYXRlID0gcGFyYW1zLmRhdGFcblx0ICAgICAqXG5cdCAgICAgKiAgICAgICAgLy8gLi4uIGN1c3RvbSBwcm9jZXNzIHRoYXQgbW9kaWZpZXMgdGhlIHRlbXBsYXRlXG5cdCAgICAgKlxuXHQgICAgICogICAgICAgIC8vIHJldHVybiB0aGUgcGFyc2VkIHRlbXBsYXRlXG5cdCAgICAgKiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuXHQgICAgICogICAgfSk7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kX25hbWUgVGhlIG1ldGhvZCB0aGlzIHBhcnNlciBpcyBpbnRlbmRlZCBmb3IgKHR3aWcsIHNvdXJjZSlcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBwYXJzaW5nIHRoZSB0ZW1wbGF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R8dW5kZWZpbmVkfSBzY29wZSBPcHRpb25hbCBzY29wZSBwYXJhbWV0ZXIgdG8gYmluZCBmdW5jIHRvXG5cdCAgICAgKlxuXHQgICAgICogQHRocm93cyBUd2lnLkVycm9yXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7dm9pZH1cblx0ICAgICAqL1xuXHQgICAgVHdpZy5UZW1wbGF0ZXMucmVnaXN0ZXJQYXJzZXIgPSBmdW5jdGlvbihtZXRob2RfbmFtZSwgZnVuYywgc2NvcGUpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoJ1VuYWJsZSB0byBhZGQgcGFyc2VyIGZvciAnICsgbWV0aG9kX25hbWUgKyAnOiBJbnZhbGlkIGZ1bmN0aW9uIHJlZ2VyZW5jZSBnaXZlbi4nKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoc2NvcGUpIHtcblx0ICAgICAgICAgICAgZnVuYyA9IGZ1bmMuYmluZChzY29wZSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdGhpcy5wYXJzZXJzW21ldGhvZF9uYW1lXSA9IGZ1bmM7XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZSBhIHJlZ2lzdGVyZWQgcGFyc2VyXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZF9uYW1lIFRoZSBtZXRob2QgbmFtZSBmb3IgdGhlIHBhcnNlciB5b3Ugd2lzaCB0byByZW1vdmVcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHt2b2lkfVxuXHQgICAgICovXG5cdCAgICBUd2lnLlRlbXBsYXRlcy51blJlZ2lzdGVyUGFyc2VyID0gZnVuY3Rpb24obWV0aG9kX25hbWUpIHtcblx0ICAgICAgICBpZiAodGhpcy5pc1JlZ2lzdGVyZWRQYXJzZXIobWV0aG9kX25hbWUpKSB7XG5cdCAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhcnNlcnNbbWV0aG9kX25hbWVdO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2VlIGlmIGEgcGFyc2VyIGlzIHJlZ2lzdGVyZWQgYnkgaXRzIG1ldGhvZCBuYW1lXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBwYXJzZXIgeW91IGFyZSBsb29raW5nIGZvclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIFR3aWcuVGVtcGxhdGVzLmlzUmVnaXN0ZXJlZFBhcnNlciA9IGZ1bmN0aW9uKG1ldGhvZF9uYW1lKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucGFyc2Vycy5oYXNPd25Qcm9wZXJ0eShtZXRob2RfbmFtZSk7XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNhdmUgYSB0ZW1wbGF0ZSBvYmplY3QgdG8gdGhlIHN0b3JlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7VHdpZy5UZW1wbGF0ZX0gdGVtcGxhdGUgICBUaGUgdHdpZy5qcyB0ZW1wbGF0ZSB0byBzdG9yZS5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5UZW1wbGF0ZXMuc2F2ZSA9IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG5cdCAgICAgICAgaWYgKHRlbXBsYXRlLmlkID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJVbmFibGUgdG8gc2F2ZSB0ZW1wbGF0ZSB3aXRoIG5vIGlkXCIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBUd2lnLlRlbXBsYXRlcy5yZWdpc3RyeVt0ZW1wbGF0ZS5pZF0gPSB0ZW1wbGF0ZTtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogTG9hZCBhIHByZXZpb3VzbHkgc2F2ZWQgdGVtcGxhdGUgZnJvbSB0aGUgc3RvcmUuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkICAgVGhlIElEIG9mIHRoZSB0ZW1wbGF0ZSB0byBsb2FkLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1R3aWcuVGVtcGxhdGV9IEEgdHdpZy5qcyB0ZW1wbGF0ZSBzdG9yZWQgd2l0aCB0aGUgcHJvdmlkZWQgSUQuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuVGVtcGxhdGVzLmxvYWQgPSBmdW5jdGlvbihpZCkge1xuXHQgICAgICAgIGlmICghVHdpZy5UZW1wbGF0ZXMucmVnaXN0cnkuaGFzT3duUHJvcGVydHkoaWQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gVHdpZy5UZW1wbGF0ZXMucmVnaXN0cnlbaWRdO1xuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBMb2FkIGEgdGVtcGxhdGUgZnJvbSBhIHJlbW90ZSBsb2NhdGlvbiB1c2luZyBBSkFYIGFuZCBzYXZlcyBpbiB3aXRoIHRoZSBnaXZlbiBJRC5cblx0ICAgICAqXG5cdCAgICAgKiBBdmFpbGFibGUgcGFyYW1ldGVyczpcblx0ICAgICAqXG5cdCAgICAgKiAgICAgIGFzeW5jOiAgICAgICBTaG91bGQgdGhlIEhUVFAgcmVxdWVzdCBiZSBwZXJmb3JtZWQgYXN5bmNocm9ub3VzbHkuXG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0cyB0byB0cnVlLlxuXHQgICAgICogICAgICBtZXRob2Q6ICAgICAgV2hhdCBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgdG8gbG9hZCB0aGUgdGVtcGxhdGVcblx0ICAgICAqICAgICAgICAgICAgICAgICAgICAgIChmcyBvciBhamF4KVxuXHQgICAgICogICAgICBwYXJzZXI6ICAgICAgV2hhdCBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgdG8gcGFyc2UgdGhlIHRlbXBsYXRlXG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICAodHdpZyBvciBzb3VyY2UpXG5cdCAgICAgKiAgICAgIHByZWNvbXBpbGVkOiBIYXMgdGhlIHRlbXBsYXRlIGFscmVhZHkgYmVlbiBjb21waWxlZC5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gIFRoZSByZW1vdGUgVVJMIHRvIGxvYWQgYXMgYSB0ZW1wbGF0ZS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgVGhlIHRlbXBsYXRlIHBhcmFtZXRlcnMuXG5cdCAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgQSBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiB0aGUgdGVtcGxhdGUgZmluaXNoZXMgbG9hZGluZy5cblx0ICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yX2NhbGxiYWNrICBBIGNhbGxiYWNrIHRyaWdnZXJlZCBpZiBhbiBlcnJvciBvY2N1cnMgbG9hZGluZyB0aGUgdGVtcGxhdGUuXG5cdCAgICAgKlxuXHQgICAgICpcblx0ICAgICAqL1xuXHQgICAgVHdpZy5UZW1wbGF0ZXMubG9hZFJlbW90ZSA9IGZ1bmN0aW9uKGxvY2F0aW9uLCBwYXJhbXMsIGNhbGxiYWNrLCBlcnJvcl9jYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBsb2FkZXI7XG5cblx0ICAgICAgICAvLyBEZWZhdWx0IHRvIGFzeW5jXG5cdCAgICAgICAgaWYgKHBhcmFtcy5hc3luYyA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHBhcmFtcy5hc3luYyA9IHRydWU7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gRGVmYXVsdCB0byB0aGUgVVJMIHNvIHRoZSB0ZW1wbGF0ZSBpcyBjYWNoZWQuXG5cdCAgICAgICAgaWYgKHBhcmFtcy5pZCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHBhcmFtcy5pZCA9IGxvY2F0aW9uO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIENoZWNrIGZvciBleGlzdGluZyB0ZW1wbGF0ZVxuXHQgICAgICAgIGlmIChUd2lnLmNhY2hlICYmIFR3aWcuVGVtcGxhdGVzLnJlZ2lzdHJ5Lmhhc093blByb3BlcnR5KHBhcmFtcy5pZCkpIHtcblx0ICAgICAgICAgICAgLy8gQSB0ZW1wbGF0ZSBpcyBhbHJlYWR5IHNhdmVkIHdpdGggdGhlIGdpdmVuIGlkLlxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhUd2lnLlRlbXBsYXRlcy5yZWdpc3RyeVtwYXJhbXMuaWRdKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAvLyBUT0RPOiBpZiBhc3luYywgcmV0dXJuIGRlZmVycmVkIHByb21pc2Vcblx0ICAgICAgICAgICAgcmV0dXJuIFR3aWcuVGVtcGxhdGVzLnJlZ2lzdHJ5W3BhcmFtcy5pZF07XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy9pZiB0aGUgcGFyc2VyIG5hbWUgaGFzbid0IGJlZW4gc2V0LCBkZWZhdWx0IGl0IHRvIHR3aWdcblx0ICAgICAgICBwYXJhbXMucGFyc2VyID0gcGFyYW1zLnBhcnNlciB8fCAndHdpZyc7XG5cblx0ICAgICAgICAvLyBBc3N1bWUgJ2ZzJyBpZiB0aGUgbG9hZGVyIGlzIG5vdCBkZWZpbmVkXG5cdCAgICAgICAgbG9hZGVyID0gdGhpcy5sb2FkZXJzW3BhcmFtcy5tZXRob2RdIHx8IHRoaXMubG9hZGVycy5mcztcblx0ICAgICAgICByZXR1cm4gbG9hZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9O1xuXG5cdCAgICAvLyBEZXRlcm1pbmUgb2JqZWN0IHR5cGVcblx0ICAgIGZ1bmN0aW9uIGlzKHR5cGUsIG9iaikge1xuXHQgICAgICAgIHZhciBjbGFzID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikuc2xpY2UoOCwgLTEpO1xuXHQgICAgICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGwgJiYgY2xhcyA9PT0gdHlwZTtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGUgYSBuZXcgdHdpZy5qcyB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBQYXJhbWV0ZXJzOiB7XG5cdCAgICAgKiAgICAgIGRhdGE6ICAgVGhlIHRlbXBsYXRlLCBlaXRoZXIgcHJlLWNvbXBpbGVkIHRva2VucyBvciBhIHN0cmluZyB0ZW1wbGF0ZVxuXHQgICAgICogICAgICBpZDogICAgIFRoZSBuYW1lIG9mIHRoaXMgdGVtcGxhdGVcblx0ICAgICAqICAgICAgYmxvY2tzOiBBbnkgcHJlLWV4aXN0aW5nIGJsb2NrIGZyb20gYSBjaGlsZCB0ZW1wbGF0ZVxuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgVGhlIHRlbXBsYXRlIHBhcmFtZXRlcnMuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuVGVtcGxhdGUgPSBmdW5jdGlvbiAoIHBhcmFtcyApIHtcblx0ICAgICAgICB2YXIgZGF0YSA9IHBhcmFtcy5kYXRhLFxuXHQgICAgICAgICAgICBpZCA9IHBhcmFtcy5pZCxcblx0ICAgICAgICAgICAgYmxvY2tzID0gcGFyYW1zLmJsb2Nrcyxcblx0ICAgICAgICAgICAgbWFjcm9zID0gcGFyYW1zLm1hY3JvcyB8fCB7fSxcblx0ICAgICAgICAgICAgYmFzZSA9IHBhcmFtcy5iYXNlLFxuXHQgICAgICAgICAgICBwYXRoID0gcGFyYW1zLnBhdGgsXG5cdCAgICAgICAgICAgIHVybCA9IHBhcmFtcy51cmwsXG5cdCAgICAgICAgICAgIG5hbWUgPSBwYXJhbXMubmFtZSxcblx0ICAgICAgICAgICAgbWV0aG9kID0gcGFyYW1zLm1ldGhvZCxcblx0ICAgICAgICAgICAgLy8gcGFyc2VyIG9wdGlvbnNcblx0ICAgICAgICAgICAgb3B0aW9ucyA9IHBhcmFtcy5vcHRpb25zO1xuXG5cdCAgICAgICAgLy8gIyBXaGF0IGlzIHN0b3JlZCBpbiBhIFR3aWcuVGVtcGxhdGVcblx0ICAgICAgICAvL1xuXHQgICAgICAgIC8vIFRoZSBUd2lnIFRlbXBsYXRlIGhvbGQgc2V2ZXJhbCBjaHVja3Mgb2YgZGF0YS5cblx0ICAgICAgICAvL1xuXHQgICAgICAgIC8vICAgICB7XG5cdCAgICAgICAgLy8gICAgICAgICAgaWQ6ICAgICBUaGUgdG9rZW4gSUQgKGlmIGFueSlcblx0ICAgICAgICAvLyAgICAgICAgICB0b2tlbnM6IFRoZSBsaXN0IG9mIHRva2VucyB0aGF0IG1ha2VzIHVwIHRoaXMgdGVtcGxhdGUuXG5cdCAgICAgICAgLy8gICAgICAgICAgYmxvY2tzOiBUaGUgbGlzdCBvZiBibG9jayB0aGlzIHRlbXBsYXRlIGNvbnRhaW5zLlxuXHQgICAgICAgIC8vICAgICAgICAgIGJhc2U6ICAgVGhlIGJhc2UgdGVtcGxhdGUgKGlmIGFueSlcblx0ICAgICAgICAvLyAgICAgICAgICAgIG9wdGlvbnM6ICB7XG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICAgQ29tcGlsZXIvcGFyc2VyIG9wdGlvbnNcblx0ICAgICAgICAvL1xuXHQgICAgICAgIC8vICAgICAgICAgICAgICAgIHN0cmljdF92YXJpYWJsZXM6IHRydWUvZmFsc2Vcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgU2hvdWxkIG1pc3NpbmcgdmFyaWFibGUva2V5cyBlbWl0IGFuIGVycm9yIG1lc3NhZ2UuIElmIGZhbHNlLCB0aGV5IGRlZmF1bHQgdG8gbnVsbC5cblx0ICAgICAgICAvLyAgICAgICAgICAgIH1cblx0ICAgICAgICAvLyAgICAgfVxuXHQgICAgICAgIC8vXG5cblx0ICAgICAgICB0aGlzLmlkICAgICA9IGlkO1xuXHQgICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuXHQgICAgICAgIHRoaXMuYmFzZSAgID0gYmFzZTtcblx0ICAgICAgICB0aGlzLnBhdGggICA9IHBhdGg7XG5cdCAgICAgICAgdGhpcy51cmwgICAgPSB1cmw7XG5cdCAgICAgICAgdGhpcy5uYW1lICAgPSBuYW1lO1xuXHQgICAgICAgIHRoaXMubWFjcm9zID0gbWFjcm9zO1xuXHQgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cblx0ICAgICAgICB0aGlzLnJlc2V0KGJsb2Nrcyk7XG5cblx0ICAgICAgICBpZiAoaXMoJ1N0cmluZycsIGRhdGEpKSB7XG5cdCAgICAgICAgICAgIHRoaXMudG9rZW5zID0gVHdpZy5wcmVwYXJlLmFwcGx5KHRoaXMsIFtkYXRhXSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy50b2tlbnMgPSBkYXRhO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIFR3aWcuVGVtcGxhdGVzLnNhdmUodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgVHdpZy5UZW1wbGF0ZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbihibG9ja3MpIHtcblx0ICAgICAgICBUd2lnLmxvZy5kZWJ1ZyhcIlR3aWcuVGVtcGxhdGUucmVzZXRcIiwgXCJSZXNldGluZyB0ZW1wbGF0ZSBcIiArIHRoaXMuaWQpO1xuXHQgICAgICAgIHRoaXMuYmxvY2tzID0ge307XG5cdCAgICAgICAgdGhpcy5pbXBvcnRlZEJsb2NrcyA9IFtdO1xuXHQgICAgICAgIHRoaXMub3JpZ2luYWxCbG9ja1Rva2VucyA9IHt9O1xuXHQgICAgICAgIHRoaXMuY2hpbGQgPSB7XG5cdCAgICAgICAgICAgIGJsb2NrczogYmxvY2tzIHx8IHt9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB0aGlzLmV4dGVuZCA9IG51bGw7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLlRlbXBsYXRlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY29udGV4dCwgcGFyYW1zLCBhbGxvd19hc3luYykge1xuXHQgICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcblxuXHQgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcblxuXHQgICAgICAgICAgICAvLyBTdG9yZSBhbnkgZXJyb3IgdGhhdCBtaWdodCBiZSB0aHJvd24gYnkgdGhlIHByb21pc2UgY2hhaW4uXG5cdCAgICAgICAgICAgIGVyciA9IG51bGwsXG5cblx0ICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHNldCB0byBpc19hc3luYyBpZiB0ZW1wbGF0ZSByZW5kZXJzIHN5bmNocm9ub3VzbHlcblx0ICAgICAgICAgICAgaXNfYXN5bmMgPSB0cnVlLFxuXHQgICAgICAgICAgICBwcm9taXNlID0gbnVsbCxcblxuXHQgICAgICAgICAgICByZXN1bHQsXG5cdCAgICAgICAgICAgIHVybDtcblxuXHQgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge307XG5cblx0ICAgICAgICAvLyBDbGVhciBhbnkgcHJldmlvdXMgc3RhdGVcblx0ICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdCAgICAgICAgaWYgKHBhcmFtcy5ibG9ja3MpIHtcblx0ICAgICAgICAgICAgdGhpcy5ibG9ja3MgPSBwYXJhbXMuYmxvY2tzO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocGFyYW1zLm1hY3Jvcykge1xuXHQgICAgICAgICAgICB0aGlzLm1hY3JvcyA9IHBhcmFtcy5tYWNyb3M7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24ob3V0cHV0KSB7XG5cdCAgICAgICAgICAgIC8vIERvZXMgdGhpcyB0ZW1wbGF0ZSBleHRlbmQgYW5vdGhlclxuXHQgICAgICAgICAgICBpZiAodGhhdC5leHRlbmQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBleHRfdGVtcGxhdGU7XG5cblx0ICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSB0ZW1wbGF0ZSBpcyBwcm92aWRlZCBpbmxpbmVcblx0ICAgICAgICAgICAgICAgIGlmICggdGhhdC5vcHRpb25zLmFsbG93SW5saW5lSW5jbHVkZXMgKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZXh0X3RlbXBsYXRlID0gVHdpZy5UZW1wbGF0ZXMubG9hZCh0aGF0LmV4dGVuZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCBleHRfdGVtcGxhdGUgKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGV4dF90ZW1wbGF0ZS5vcHRpb25zID0gdGhhdC5vcHRpb25zO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHRoZSB0ZW1wbGF0ZSBmaWxlIHZpYSBpbmNsdWRlXG5cdCAgICAgICAgICAgICAgICBpZiAoIWV4dF90ZW1wbGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHVybCA9IFR3aWcucGF0aC5wYXJzZVBhdGgodGhhdCwgdGhhdC5leHRlbmQpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgZXh0X3RlbXBsYXRlID0gVHdpZy5UZW1wbGF0ZXMubG9hZFJlbW90ZSh1cmwsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiB0aGF0LmdldExvYWRlck1ldGhvZCgpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiB0aGF0LmJhc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jOiAgZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAgICAgdXJsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGF0Lm9wdGlvbnNcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdGhhdC5wYXJlbnQgPSBleHRfdGVtcGxhdGU7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnBhcmVudC5yZW5kZXJBc3luYyh0aGF0LmNvbnRleHQsIHtcblx0ICAgICAgICAgICAgICAgICAgICBibG9ja3M6IHRoYXQuYmxvY2tzXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmIChwYXJhbXMub3V0cHV0ID09ICdibG9ja3MnKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5ibG9ja3M7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLm91dHB1dCA9PSAnbWFjcm9zJykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQubWFjcm9zO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBwcm9taXNlID0gVHdpZy5wYXJzZUFzeW5jLmFwcGx5KHRoaXMsIFt0aGlzLnRva2VucywgdGhpcy5jb250ZXh0XSlcblx0ICAgICAgICAudGhlbihjYilcblx0ICAgICAgICAudGhlbihmdW5jdGlvbih2KSB7XG5cdCAgICAgICAgICAgIGlzX2FzeW5jID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHJlc3VsdCA9IHY7XG5cdCAgICAgICAgICAgIHJldHVybiB2O1xuXHQgICAgICAgIH0pXG5cdCAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGFsbG93X2FzeW5jKVxuXHQgICAgICAgICAgICAgICAgdGhyb3cgZTtcblxuXHQgICAgICAgICAgICBlcnIgPSBlO1xuXHQgICAgICAgIH0pXG5cblx0ICAgICAgICAvLyBJZiBgYWxsb3dfYXN5bmNgIHdlIHdpbGwgYWx3YXlzIHJldHVybiBhIHByb21pc2Ugc2luY2Ugd2UgZG8gbm90XG5cdCAgICAgICAgLy8ga25vdyBpbiBhZHZhbmNlIGlmIHdlIGFyZSBnb2luZyB0byBydW4gYXN5bmNocm9ub3VzbHkgb3Igbm90LlxuXHQgICAgICAgIGlmIChhbGxvd19hc3luYylcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cblx0ICAgICAgICAvLyBIYW5kbGUgZXJyb3JzIGhlcmUgaWYgd2UgZmFpbCBzeW5jaHJvbm91c2x5LlxuXHQgICAgICAgIGlmIChlcnIgIT09IG51bGwpXG5cdCAgICAgICAgICAgIHRocm93IGVycjtcblxuXHQgICAgICAgIC8vIElmIGBhbGxvd19hc3luY2AgaXMgbm90IHRydWUgd2Ugc2hvdWxkIG5vdCBhbGxvdyB0aGUgdXNlclxuXHQgICAgICAgIC8vIHRvIHVzZSBhc3luY2hyb25vdXMgZnVuY3Rpb25zIG9yIGZpbHRlcnMuXG5cdCAgICAgICAgaWYgKGlzX2FzeW5jKVxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcignWW91IGFyZSB1c2luZyBUd2lnLmpzIGluIHN5bmMgbW9kZSBpbiBjb21iaW5hdGlvbiB3aXRoIGFzeW5jIGV4dGVuc2lvbnMuJyk7XG5cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfTtcblxuXHQgICAgVHdpZy5UZW1wbGF0ZS5wcm90b3R5cGUuaW1wb3J0RmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHtcblx0ICAgICAgICB2YXIgdXJsLCBzdWJfdGVtcGxhdGU7XG5cdCAgICAgICAgaWYgKCF0aGlzLnVybCAmJiB0aGlzLm9wdGlvbnMuYWxsb3dJbmxpbmVJbmNsdWRlcykge1xuXHQgICAgICAgICAgICBmaWxlID0gdGhpcy5wYXRoID8gVHdpZy5wYXRoLnBhcnNlUGF0aCh0aGlzLCBmaWxlKSA6IGZpbGU7XG5cdCAgICAgICAgICAgIHN1Yl90ZW1wbGF0ZSA9IFR3aWcuVGVtcGxhdGVzLmxvYWQoZmlsZSk7XG5cblx0ICAgICAgICAgICAgaWYgKCFzdWJfdGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHN1Yl90ZW1wbGF0ZSA9IFR3aWcuVGVtcGxhdGVzLmxvYWRSZW1vdGUodXJsLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbGUsXG5cdCAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiB0aGlzLmdldExvYWRlck1ldGhvZCgpLFxuXHQgICAgICAgICAgICAgICAgICAgIGFzeW5jOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLFxuXHQgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9uc1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgICAgIGlmICghc3ViX3RlbXBsYXRlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJVbmFibGUgdG8gZmluZCB0aGUgdGVtcGxhdGUgXCIgKyBmaWxlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHN1Yl90ZW1wbGF0ZS5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBzdWJfdGVtcGxhdGU7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdXJsID0gVHdpZy5wYXRoLnBhcnNlUGF0aCh0aGlzLCBmaWxlKTtcblxuXHQgICAgICAgIC8vIExvYWQgYmxvY2tzIGZyb20gYW4gZXh0ZXJuYWwgZmlsZVxuXHQgICAgICAgIHN1Yl90ZW1wbGF0ZSA9IFR3aWcuVGVtcGxhdGVzLmxvYWRSZW1vdGUodXJsLCB7XG5cdCAgICAgICAgICAgIG1ldGhvZDogdGhpcy5nZXRMb2FkZXJNZXRob2QoKSxcblx0ICAgICAgICAgICAgYmFzZTogdGhpcy5iYXNlLFxuXHQgICAgICAgICAgICBhc3luYzogZmFsc2UsXG5cdCAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcblx0ICAgICAgICAgICAgaWQ6IHVybFxuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgcmV0dXJuIHN1Yl90ZW1wbGF0ZTtcblx0ICAgIH07XG5cblx0ICAgIFR3aWcuVGVtcGxhdGUucHJvdG90eXBlLmltcG9ydEJsb2NrcyA9IGZ1bmN0aW9uKGZpbGUsIG92ZXJyaWRlKSB7XG5cdCAgICAgICAgdmFyIHN1Yl90ZW1wbGF0ZSA9IHRoaXMuaW1wb3J0RmlsZShmaWxlKSxcblx0ICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuY29udGV4dCxcblx0ICAgICAgICAgICAgdGhhdCA9IHRoaXMsXG5cdCAgICAgICAgICAgIGtleTtcblxuXHQgICAgICAgIG92ZXJyaWRlID0gb3ZlcnJpZGUgfHwgZmFsc2U7XG5cblx0ICAgICAgICBzdWJfdGVtcGxhdGUucmVuZGVyKGNvbnRleHQpO1xuXG5cdCAgICAgICAgLy8gTWl4aW4gYmxvY2tzXG5cdCAgICAgICAgVHdpZy5mb3JFYWNoKE9iamVjdC5rZXlzKHN1Yl90ZW1wbGF0ZS5ibG9ja3MpLCBmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICAgICAgaWYgKG92ZXJyaWRlIHx8IHRoYXQuYmxvY2tzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgdGhhdC5ibG9ja3Nba2V5XSA9IHN1Yl90ZW1wbGF0ZS5ibG9ja3Nba2V5XTtcblx0ICAgICAgICAgICAgICAgIHRoYXQuaW1wb3J0ZWRCbG9ja3MucHVzaChrZXkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLlRlbXBsYXRlLnByb3RvdHlwZS5pbXBvcnRNYWNyb3MgPSBmdW5jdGlvbihmaWxlKSB7XG5cdCAgICAgICAgdmFyIHVybCA9IFR3aWcucGF0aC5wYXJzZVBhdGgodGhpcywgZmlsZSk7XG5cblx0ICAgICAgICAvLyBsb2FkIHJlbW90ZSB0ZW1wbGF0ZVxuXHQgICAgICAgIHZhciByZW1vdGVUZW1wbGF0ZSA9IFR3aWcuVGVtcGxhdGVzLmxvYWRSZW1vdGUodXJsLCB7XG5cdCAgICAgICAgICAgIG1ldGhvZDogdGhpcy5nZXRMb2FkZXJNZXRob2QoKSxcblx0ICAgICAgICAgICAgYXN5bmM6IGZhbHNlLFxuXHQgICAgICAgICAgICBpZDogdXJsXG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICByZXR1cm4gcmVtb3RlVGVtcGxhdGU7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLlRlbXBsYXRlLnByb3RvdHlwZS5nZXRMb2FkZXJNZXRob2QgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAodGhpcy5wYXRoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnZnMnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodGhpcy51cmwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICdhamF4Jztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kIHx8ICdmcyc7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLlRlbXBsYXRlLnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIC8vIGNvbXBpbGUgdGhlIHRlbXBsYXRlIGludG8gcmF3IEpTXG5cdCAgICAgICAgcmV0dXJuIFR3aWcuY29tcGlsZXIuY29tcGlsZSh0aGlzLCBvcHRpb25zKTtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlIHNhZmUgb3V0cHV0XG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IENvbnRlbnQgc2FmZSB0byBvdXRwdXRcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IENvbnRlbnQgd3JhcHBlZCBpbnRvIGEgU3RyaW5nXG5cdCAgICAgKi9cblxuXHQgICAgVHdpZy5NYXJrdXAgPSBmdW5jdGlvbihjb250ZW50LCBzdHJhdGVneSkge1xuXHQgICAgICAgIGlmKHR5cGVvZiBzdHJhdGVneSA9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICBzdHJhdGVneSA9IHRydWU7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyAmJiBjb250ZW50Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgY29udGVudCA9IG5ldyBTdHJpbmcoY29udGVudCk7XG5cdCAgICAgICAgICAgIGNvbnRlbnQudHdpZ19tYXJrdXAgPSBzdHJhdGVneTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG5cdCAgICB9O1xuXG5cdCAgICByZXR1cm4gVHdpZztcblxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyAjIyB0d2lnLmNvbXBpbGVyLmpzXG5cdC8vXG5cdC8vIFRoaXMgZmlsZSBoYW5kbGVzIGNvbXBpbGluZyB0ZW1wbGF0ZXMgaW50byBKU1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUd2lnKSB7XG5cdCAgICAvKipcblx0ICAgICAqIE5hbWVzcGFjZSBmb3IgY29tcGlsYXRpb24uXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuY29tcGlsZXIgPSB7XG5cdCAgICAgICAgbW9kdWxlOiB7fVxuXHQgICAgfTtcblxuXHQgICAgLy8gQ29tcGlsZSBhIFR3aWcgVGVtcGxhdGUgdG8gb3V0cHV0LlxuXHQgICAgVHdpZy5jb21waWxlci5jb21waWxlID0gZnVuY3Rpb24odGVtcGxhdGUsIG9wdGlvbnMpIHtcblx0ICAgICAgICAvLyBHZXQgdG9rZW5zXG5cdCAgICAgICAgdmFyIHRva2VucyA9IEpTT04uc3RyaW5naWZ5KHRlbXBsYXRlLnRva2Vucylcblx0ICAgICAgICAgICAgLCBpZCA9IHRlbXBsYXRlLmlkXG5cdCAgICAgICAgICAgICwgb3V0cHV0O1xuXG5cdCAgICAgICAgaWYgKG9wdGlvbnMubW9kdWxlKSB7XG5cdCAgICAgICAgICAgIGlmIChUd2lnLmNvbXBpbGVyLm1vZHVsZVtvcHRpb25zLm1vZHVsZV0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJVbmFibGUgdG8gZmluZCBtb2R1bGUgdHlwZSBcIiArIG9wdGlvbnMubW9kdWxlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBvdXRwdXQgPSBUd2lnLmNvbXBpbGVyLm1vZHVsZVtvcHRpb25zLm1vZHVsZV0oaWQsIHRva2Vucywgb3B0aW9ucy50d2lnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBvdXRwdXQgPSBUd2lnLmNvbXBpbGVyLndyYXAoaWQsIHRva2Vucyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLmNvbXBpbGVyLm1vZHVsZSA9IHtcblx0ICAgICAgICBhbWQ6IGZ1bmN0aW9uKGlkLCB0b2tlbnMsIHBhdGhUb1R3aWcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICdkZWZpbmUoW1wiJyArIHBhdGhUb1R3aWcgKyAnXCJdLCBmdW5jdGlvbiAoVHdpZykge1xcblxcdHZhciB0d2lnLCB0ZW1wbGF0ZXM7XFxudHdpZyA9IFR3aWcudHdpZztcXG50ZW1wbGF0ZXMgPSAnICsgVHdpZy5jb21waWxlci53cmFwKGlkLCB0b2tlbnMpICsgJ1xcblxcdHJldHVybiB0ZW1wbGF0ZXM7XFxufSk7Jztcblx0ICAgICAgICB9XG5cdCAgICAgICAgLCBub2RlOiBmdW5jdGlvbihpZCwgdG9rZW5zKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAndmFyIHR3aWcgPSByZXF1aXJlKFwidHdpZ1wiKS50d2lnO1xcbidcblx0ICAgICAgICAgICAgICAgICsgJ2V4cG9ydHMudGVtcGxhdGUgPSAnICsgVHdpZy5jb21waWxlci53cmFwKGlkLCB0b2tlbnMpXG5cdCAgICAgICAgfVxuXHQgICAgICAgICwgY2pzMjogZnVuY3Rpb24oaWQsIHRva2VucywgcGF0aFRvVHdpZykge1xuXHQgICAgICAgICAgICByZXR1cm4gJ21vZHVsZS5kZWNsYXJlKFt7IHR3aWc6IFwiJyArIHBhdGhUb1R3aWcgKyAnXCIgfV0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcXG4nXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICsgJ1xcdHZhciB0d2lnID0gcmVxdWlyZShcInR3aWdcIikudHdpZztcXG4nXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICsgJ1xcdGV4cG9ydHMudGVtcGxhdGUgPSAnICsgVHdpZy5jb21waWxlci53cmFwKGlkLCB0b2tlbnMpXG5cdCAgICAgICAgICAgICAgICAgICAgKyAnXFxufSk7J1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIFR3aWcuY29tcGlsZXIud3JhcCA9IGZ1bmN0aW9uKGlkLCB0b2tlbnMpIHtcblx0ICAgICAgICByZXR1cm4gJ3R3aWcoe2lkOlwiJytpZC5yZXBsYWNlKCdcIicsICdcXFxcXCInKSsnXCIsIGRhdGE6Jyt0b2tlbnMrJywgcHJlY29tcGlsZWQ6IHRydWV9KTtcXG4nO1xuXHQgICAgfTtcblxuXHQgICAgcmV0dXJuIFR3aWc7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vICMjIHR3aWcuZXhwcmVzc2lvbi5qc1xuXHQvL1xuXHQvLyBUaGlzIGZpbGUgaGFuZGxlcyB0b2tlbml6aW5nLCBjb21waWxpbmcgYW5kIHBhcnNpbmcgZXhwcmVzc2lvbnMuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFR3aWcpIHtcblx0ICAgIFwidXNlIHN0cmljdFwiO1xuXG5cdCAgICBmdW5jdGlvbiBwYXJzZVBhcmFtcyh0aGlzQXJnLCBwYXJhbXMsIGNvbnRleHQpIHtcblx0ICAgICAgICBpZiAocGFyYW1zKVxuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhpc0FyZywgW3BhcmFtcywgY29udGV4dF0pO1xuXG5cdCAgICAgICAgcmV0dXJuIFR3aWcuUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBOYW1lc3BhY2UgZm9yIGV4cHJlc3Npb24gaGFuZGxpbmcuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuZXhwcmVzc2lvbiA9IHsgfTtcblxuXHQgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0KShUd2lnKTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXNlcnZlZCB3b3JkIHRoYXQgY2FuJ3QgYmUgdXNlZCBhcyB2YXJpYWJsZSBuYW1lcy5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5leHByZXNzaW9uLnJlc2VydmVkV29yZHMgPSBbXG5cdCAgICAgICAgXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJudWxsXCIsIFwiVFJVRVwiLCBcIkZBTFNFXCIsIFwiTlVMTFwiLCBcIl9jb250ZXh0XCIsIFwiYW5kXCIsIFwiYi1hbmRcIiwgXCJvclwiLCBcImItb3JcIiwgXCJiLXhvclwiLCBcImluXCIsIFwibm90IGluXCIsIFwiaWZcIlxuXHQgICAgXTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgdHlwZSBvZiB0b2tlbnMgdXNlZCBpbiBleHByZXNzaW9ucy5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5leHByZXNzaW9uLnR5cGUgPSB7XG5cdCAgICAgICAgY29tbWE6ICAgICAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLmNvbW1hJyxcblx0ICAgICAgICBvcGVyYXRvcjoge1xuXHQgICAgICAgICAgICB1bmFyeTogICdUd2lnLmV4cHJlc3Npb24udHlwZS5vcGVyYXRvci51bmFyeScsXG5cdCAgICAgICAgICAgIGJpbmFyeTogJ1R3aWcuZXhwcmVzc2lvbi50eXBlLm9wZXJhdG9yLmJpbmFyeSdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHN0cmluZzogICAgICdUd2lnLmV4cHJlc3Npb24udHlwZS5zdHJpbmcnLFxuXHQgICAgICAgIGJvb2w6ICAgICAgICdUd2lnLmV4cHJlc3Npb24udHlwZS5ib29sJyxcblx0ICAgICAgICBzbGljZTogICAgICAnVHdpZy5leHByZXNzaW9uLnR5cGUuc2xpY2UnLFxuXHQgICAgICAgIGFycmF5OiB7XG5cdCAgICAgICAgICAgIHN0YXJ0OiAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLmFycmF5LnN0YXJ0Jyxcblx0ICAgICAgICAgICAgZW5kOiAgICAnVHdpZy5leHByZXNzaW9uLnR5cGUuYXJyYXkuZW5kJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgb2JqZWN0OiB7XG5cdCAgICAgICAgICAgIHN0YXJ0OiAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLm9iamVjdC5zdGFydCcsXG5cdCAgICAgICAgICAgIGVuZDogICAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLm9iamVjdC5lbmQnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBwYXJhbWV0ZXI6IHtcblx0ICAgICAgICAgICAgc3RhcnQ6ICAnVHdpZy5leHByZXNzaW9uLnR5cGUucGFyYW1ldGVyLnN0YXJ0Jyxcblx0ICAgICAgICAgICAgZW5kOiAgICAnVHdpZy5leHByZXNzaW9uLnR5cGUucGFyYW1ldGVyLmVuZCdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHN1YmV4cHJlc3Npb246IHtcblx0ICAgICAgICAgICAgc3RhcnQ6ICAnVHdpZy5leHByZXNzaW9uLnR5cGUuc3ViZXhwcmVzc2lvbi5zdGFydCcsXG5cdCAgICAgICAgICAgIGVuZDogICAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLnN1YmV4cHJlc3Npb24uZW5kJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAga2V5OiB7XG5cdCAgICAgICAgICAgIHBlcmlvZDogICAnVHdpZy5leHByZXNzaW9uLnR5cGUua2V5LnBlcmlvZCcsXG5cdCAgICAgICAgICAgIGJyYWNrZXRzOiAnVHdpZy5leHByZXNzaW9uLnR5cGUua2V5LmJyYWNrZXRzJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZmlsdGVyOiAgICAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLmZpbHRlcicsXG5cdCAgICAgICAgX2Z1bmN0aW9uOiAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLl9mdW5jdGlvbicsXG5cdCAgICAgICAgdmFyaWFibGU6ICAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLnZhcmlhYmxlJyxcblx0ICAgICAgICBudW1iZXI6ICAgICAnVHdpZy5leHByZXNzaW9uLnR5cGUubnVtYmVyJyxcblx0ICAgICAgICBfbnVsbDogICAgICdUd2lnLmV4cHJlc3Npb24udHlwZS5udWxsJyxcblx0ICAgICAgICBjb250ZXh0OiAgICAnVHdpZy5leHByZXNzaW9uLnR5cGUuY29udGV4dCcsXG5cdCAgICAgICAgdGVzdDogICAgICAgJ1R3aWcuZXhwcmVzc2lvbi50eXBlLnRlc3QnXG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLmV4cHJlc3Npb24uc2V0ID0ge1xuXHQgICAgICAgIC8vIFdoYXQgY2FuIGZvbGxvdyBhbiBleHByZXNzaW9uIChpbiBnZW5lcmFsKVxuXHQgICAgICAgIG9wZXJhdGlvbnM6IFtcblx0ICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLnR5cGUuZmlsdGVyLFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5vcGVyYXRvci51bmFyeSxcblx0ICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLnR5cGUub3BlcmF0b3IuYmluYXJ5LFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5hcnJheS5lbmQsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLm9iamVjdC5lbmQsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5lbmQsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLnN1YmV4cHJlc3Npb24uZW5kLFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5jb21tYSxcblx0ICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLnR5cGUudGVzdFxuXHQgICAgICAgIF0sXG5cdCAgICAgICAgZXhwcmVzc2lvbnM6IFtcblx0ICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLnR5cGUuX2Z1bmN0aW9uLFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5ib29sLFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5zdHJpbmcsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLnZhcmlhYmxlLFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5udW1iZXIsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLl9udWxsLFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5jb250ZXh0LFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuc3RhcnQsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLmFycmF5LnN0YXJ0LFxuXHQgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5vYmplY3Quc3RhcnQsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLnN1YmV4cHJlc3Npb24uc3RhcnQsXG5cdCAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLm9wZXJhdG9yLnVuYXJ5XG5cdCAgICAgICAgXVxuXHQgICAgfTtcblxuXHQgICAgLy8gTW9zdCBleHByZXNzaW9ucyBhbGxvdyBhICcuJyBvciAnWycgYWZ0ZXIgdGhlbSwgc28gd2UgcHJvdmlkZSBhIGNvbnZlbmllbmNlIHNldFxuXHQgICAgVHdpZy5leHByZXNzaW9uLnNldC5vcGVyYXRpb25zX2V4dGVuZGVkID0gVHdpZy5leHByZXNzaW9uLnNldC5vcGVyYXRpb25zLmNvbmNhdChbXG5cdCAgICAgICAgICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLnR5cGUua2V5LnBlcmlvZCxcblx0ICAgICAgICAgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5rZXkuYnJhY2tldHMsXG5cdCAgICAgICAgICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLnR5cGUuc2xpY2VdKTtcblxuXHQgICAgLy8gU29tZSBjb21tb25seSB1c2VkIGNvbXBpbGUgYW5kIHBhcnNlIGZ1bmN0aW9ucy5cblx0ICAgIFR3aWcuZXhwcmVzc2lvbi5mbiA9IHtcblx0ICAgICAgICBjb21waWxlOiB7XG5cdCAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uKHRva2VuLCBzdGFjaywgb3V0cHV0KSB7XG5cdCAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHB1c2hfYm90aDogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBwYXJzZToge1xuXHQgICAgICAgICAgICBwdXNoOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwdXNoX3ZhbHVlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godG9rZW4udmFsdWUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgLy8gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYW5kIGNvbXBpbGUvcGFyc2UgbG9naWMgdXNlZCB0byBtYXRjaCB0b2tlbnMgaW4gZXhwcmVzc2lvbnMuXG5cdCAgICAvL1xuXHQgICAgLy8gUHJvcGVydGllczpcblx0ICAgIC8vXG5cdCAgICAvLyAgICAgIHR5cGU6ICBUaGUgdHlwZSBvZiBleHByZXNzaW9uIHRoaXMgbWF0Y2hlc1xuXHQgICAgLy9cblx0ICAgIC8vICAgICAgcmVnZXg6IE9uZSBvciBtb3JlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBtYXRjaGUgdGhlIGZvcm1hdCBvZiB0aGUgdG9rZW4uXG5cdCAgICAvL1xuXHQgICAgLy8gICAgICBuZXh0OiAgVmFsaWQgdG9rZW5zIHRoYXQgY2FuIG9jY3VyIG5leHQgaW4gdGhlIGV4cHJlc3Npb24uXG5cdCAgICAvL1xuXHQgICAgLy8gRnVuY3Rpb25zOlxuXHQgICAgLy9cblx0ICAgIC8vICAgICAgY29tcGlsZTogQSBmdW5jdGlvbiB0aGF0IGNvbXBpbGVzIHRoZSByYXcgcmVndWxhciBleHByZXNzaW9uIG1hdGNoIGludG8gYSB0b2tlbi5cblx0ICAgIC8vXG5cdCAgICAvLyAgICAgIHBhcnNlOiAgIEEgZnVuY3Rpb24gdGhhdCBwYXJzZXMgdGhlIGNvbXBpbGVkIHRva2VuIGludG8gb3V0cHV0LlxuXHQgICAgLy9cblx0ICAgIFR3aWcuZXhwcmVzc2lvbi5kZWZpbml0aW9ucyA9IFtcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLnRlc3QsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXmlzXFxzKyhub3QpP1xccyooW2EtekEtWl9dW2EtekEtWjAtOV9dKihcXHM/YXMpPykvLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0Lm9wZXJhdGlvbnMuY29uY2F0KFtUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuc3RhcnRdKSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmZpbHRlciAgID0gdG9rZW4ubWF0Y2hbMl07XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5tb2RpZmllciA9IHRva2VuLm1hdGNoWzFdO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBjb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBzdGFjay5wb3AoKTtcblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGFyYW1zKHRoaXMsIHRva2VuLnBhcmFtcywgY29udGV4dClcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBhcmFtcykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBUd2lnLnRlc3QodG9rZW4uZmlsdGVyLCB2YWx1ZSwgcGFyYW1zKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5tb2RpZmllciA9PSAnbm90Jykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKCFyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5jb21tYSxcblx0ICAgICAgICAgICAgLy8gTWF0Y2ggYSBjb21tYVxuXHQgICAgICAgICAgICByZWdleDogL14sLyxcblx0ICAgICAgICAgICAgbmV4dDogVHdpZy5leHByZXNzaW9uLnNldC5leHByZXNzaW9ucy5jb25jYXQoW1R3aWcuZXhwcmVzc2lvbi50eXBlLmFycmF5LmVuZCwgVHdpZy5leHByZXNzaW9uLnR5cGUub2JqZWN0LmVuZF0pLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIG91dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGkgPSBzdGFjay5sZW5ndGggLSAxLFxuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrX3Rva2VuO1xuXG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4udmFsdWU7XG5cblx0ICAgICAgICAgICAgICAgIC8vIHBvcCB0b2tlbnMgb2ZmIHRoZSBzdGFjayB1bnRpbCB0aGUgc3RhcnQgb2YgdGhlIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgZm9yKDtpID49IDA7IGktLSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrX3Rva2VuID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrX3Rva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLm9iamVjdC5zdGFydFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc3RhY2tfdG9rZW4udHlwZSA9PT0gVHdpZy5leHByZXNzaW9uLnR5cGUucGFyYW1ldGVyLnN0YXJ0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzdGFja190b2tlbi50eXBlID09PSBUd2lnLmV4cHJlc3Npb24udHlwZS5hcnJheS5zdGFydCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHN0YWNrX3Rva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHN0YWNrX3Rva2VuKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogTWF0Y2ggYSBudW1iZXIgKGludGVnZXIgb3IgZGVjaW1hbClcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLm51bWJlcixcblx0ICAgICAgICAgICAgLy8gbWF0Y2ggYSBudW1iZXJcblx0ICAgICAgICAgICAgcmVnZXg6IC9eXFwtP1xcZCsoXFwuXFxkKyk/Lyxcblx0ICAgICAgICAgICAgbmV4dDogVHdpZy5leHByZXNzaW9uLnNldC5vcGVyYXRpb25zLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIG91dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBOdW1iZXIodG9rZW4udmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogVHdpZy5leHByZXNzaW9uLmZuLnBhcnNlLnB1c2hfdmFsdWVcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUub3BlcmF0b3IuYmluYXJ5LFxuXHQgICAgICAgICAgICAvLyBNYXRjaCBhbnkgb2YgPzosICssICosIC8sIC0sICUsIH4sIDwsIDw9LCA+LCA+PSwgIT0sID09LCAqKiwgPywgOiwgYW5kLCBiLWFuZCwgb3IsIGItb3IsIGIteG9yLCBpbiwgbm90IGluXG5cdCAgICAgICAgICAgIC8vIGFuZCwgb3IsIGluLCBub3QgaW4gY2FuIGJlIGZvbGxvd2VkIGJ5IGEgc3BhY2Ugb3IgcGFyZW50aGVzaXNcblx0ICAgICAgICAgICAgcmVnZXg6IC8oXlxcP1xcOnxeKGJcXC1hbmQpfF4oYlxcLW9yKXxeKGJcXC14b3IpfF5bXFwrXFwtfiVcXD9dfF5bXFw6XSg/IVxcZFxcXSl8XlshPV09PT98XlshPD5dPT98XlxcKlxcKj98XlxcL1xcLz98XihhbmQpW1xcKHxcXHMrXXxeKG9yKVtcXCh8XFxzK118XihpbilbXFwofFxccytdfF4obm90IGluKVtcXCh8XFxzK118XlxcLlxcLikvLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0LmV4cHJlc3Npb25zLFxuXHQgICAgICAgICAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uKG1hdGNoLCB0b2tlbnMpIHtcblx0ICAgICAgICAgICAgICAgIHN3aXRjaChtYXRjaFswXSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FuZCgnOlxuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgJ29yKCc6XG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW4oJzpcblx0ICAgICAgICAgICAgICAgICAgICBjYXNlICdub3QgaW4oJzpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy9TdHJpcCBvZmYgdGhlICggaWYgaXQgZXhpc3RzXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0udmFsdWUgPSBtYXRjaFsyXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzBdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRva2VuLCBzdGFjaywgb3V0cHV0KSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cblx0ICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gdG9rZW4udmFsdWUudHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWUsXG5cdCAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubG9va3VwKHZhbHVlLCB0b2tlbik7XG5cblx0ICAgICAgICAgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5leHByZXNzaW9uLmNvbXBpbGU6IFwiLCBcIk9wZXJhdG9yOiBcIiwgb3BlcmF0b3IsIFwiIGZyb20gXCIsIHZhbHVlKTtcblxuXHQgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDAgJiZcblx0ICAgICAgICAgICAgICAgICAgICAgICAoc3RhY2tbc3RhY2subGVuZ3RoLTFdLnR5cGUgPT0gVHdpZy5leHByZXNzaW9uLnR5cGUub3BlcmF0b3IudW5hcnkgfHwgc3RhY2tbc3RhY2subGVuZ3RoLTFdLnR5cGUgPT0gVHdpZy5leHByZXNzaW9uLnR5cGUub3BlcmF0b3IuYmluYXJ5KSAmJlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcGVyYXRvci5hc3NvY2lhdGl2aXR5ID09PSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQgJiZcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IucHJlY2lkZW5jZSAgICA+PSBzdGFja1tzdGFjay5sZW5ndGgtMV0ucHJlY2lkZW5jZSkgfHxcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcGVyYXRvci5hc3NvY2lhdGl2aXR5ID09PSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IucmlnaHRUb0xlZnQgJiZcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IucHJlY2lkZW5jZSAgICA+ICBzdGFja1tzdGFjay5sZW5ndGgtMV0ucHJlY2lkZW5jZSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godGVtcCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCI6XCIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgdGVybmFyeSBvciBvYmplY3Qga2V5IGJlaW5nIHNldFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSAmJiBzdGFja1tzdGFjay5sZW5ndGgtMV0udmFsdWUgPT09IFwiP1wiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIGFzIG5vcm1hbCBmb3IgYSB0ZXJuYXJ5XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBub3QgYSB0ZXJuYXJ5IHNvIHdlIHB1c2ggdGhlIHRva2VuIHRvIHRoZSBvdXRwdXQgd2hlcmUgaXQgY2FuIGJlIGhhbmRsZWRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB3aGVuIHRoZSBhc3NvY2F0ZWQgb2JqZWN0IGlzIGNsb3NlZC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleV90b2tlbiA9IG91dHB1dC5wb3AoKTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5X3Rva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLnN0cmluZyB8fFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleV90b2tlbi50eXBlID09PSBUd2lnLmV4cHJlc3Npb24udHlwZS52YXJpYWJsZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4ua2V5ID0ga2V5X3Rva2VuLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleV90b2tlbi50eXBlID09PSBUd2lnLmV4cHJlc3Npb24udHlwZS5udW1iZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgaW50ZWdlciBrZXlzIGludG8gc3RyaW5nIGtleXNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLmtleSA9IGtleV90b2tlbi52YWx1ZS50b1N0cmluZygpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleV90b2tlbi5leHByZXNzaW9uICYmXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAoa2V5X3Rva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5lbmQgfHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleV90b2tlbi50eXBlID09IFR3aWcuZXhwcmVzc2lvbi50eXBlLnN1YmV4cHJlc3Npb24uZW5kKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4ucGFyYW1zID0ga2V5X3Rva2VuLnBhcmFtcztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiVW5leHBlY3RlZCB2YWx1ZSBiZWZvcmUgJzonIG9mIFwiICsga2V5X3Rva2VuLnR5cGUgKyBcIiA9IFwiICsga2V5X3Rva2VuLnZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChvcGVyYXRvcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0b2tlbi5rZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGVybmFyeSAnOicgb3BlcmF0b3Jcblx0ICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4ucGFyYW1zKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIFwieyhleHByZXNzaW9uKTp2YWx1ZX1cIlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4ucGFyYW1zLCBjb250ZXh0XSlcblx0ICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4ua2V5ID0ga2V5O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHRva2VuKTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL0lmIHdlJ3JlIGluIGEgbG9vcCwgd2UgbWlnaHQgbmVlZCB0b2tlbi5wYXJhbXMgbGF0ZXIsIGVzcGVjaWFsbHkgaW4gdGhpcyBmb3JtIG9mIFwiKGV4cHJlc3Npb24pOnZhbHVlXCJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0Lmxvb3ApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSh0b2tlbi5wYXJhbXMpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi5vcGVyYXRvci5wYXJzZSh0b2tlbi52YWx1ZSwgc3RhY2spO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLm9wZXJhdG9yLnVuYXJ5LFxuXHQgICAgICAgICAgICAvLyBNYXRjaCBhbnkgb2Ygbm90XG5cdCAgICAgICAgICAgIHJlZ2V4OiAvKF5ub3RcXHMrKS8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQuZXhwcmVzc2lvbnMsXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRva2VuLCBzdGFjaywgb3V0cHV0KSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cblx0ICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gdG9rZW4udmFsdWUudHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWUsXG5cdCAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubG9va3VwKHZhbHVlLCB0b2tlbik7XG5cblx0ICAgICAgICAgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5leHByZXNzaW9uLmNvbXBpbGU6IFwiLCBcIk9wZXJhdG9yOiBcIiwgb3BlcmF0b3IsIFwiIGZyb20gXCIsIHZhbHVlKTtcblxuXHQgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDAgJiZcblx0ICAgICAgICAgICAgICAgICAgICAgICAoc3RhY2tbc3RhY2subGVuZ3RoLTFdLnR5cGUgPT0gVHdpZy5leHByZXNzaW9uLnR5cGUub3BlcmF0b3IudW5hcnkgfHwgc3RhY2tbc3RhY2subGVuZ3RoLTFdLnR5cGUgPT0gVHdpZy5leHByZXNzaW9uLnR5cGUub3BlcmF0b3IuYmluYXJ5KSAmJlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcGVyYXRvci5hc3NvY2lhdGl2aXR5ID09PSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQgJiZcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IucHJlY2lkZW5jZSAgICA+PSBzdGFja1tzdGFjay5sZW5ndGgtMV0ucHJlY2lkZW5jZSkgfHxcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcGVyYXRvci5hc3NvY2lhdGl2aXR5ID09PSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IucmlnaHRUb0xlZnQgJiZcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IucHJlY2lkZW5jZSAgICA+ICBzdGFja1tzdGFjay5sZW5ndGgtMV0ucHJlY2lkZW5jZSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICAgICApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godGVtcCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gob3BlcmF0b3IpO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBjb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IucGFyc2UodG9rZW4udmFsdWUsIHN0YWNrKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogTWF0Y2ggYSBzdHJpbmcuIFRoaXMgaXMgYW55dGhpbmcgYmV0d2VlbiBhIHBhaXIgb2Ygc2luZ2xlIG9yIGRvdWJsZSBxdW90ZXMuXG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5zdHJpbmcsXG5cdCAgICAgICAgICAgIC8vIFNlZTogaHR0cDovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL21hdGNoLXF1b3RlZC1zdHJpbmdcblx0ICAgICAgICAgICAgcmVnZXg6IC9eKFtcIiddKSg/Oig/PShcXFxcPykpXFwyW1xcc1xcU10pKj9cXDEvLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0Lm9wZXJhdGlvbnNfZXh0ZW5kZWQsXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRva2VuLCBzdGFjaywgb3V0cHV0KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbi52YWx1ZTtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5tYXRjaFxuXG5cdCAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHF1b3RlcyBmcm9tIHRoZSBzdHJpbmdcblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zdWJzdHJpbmcoMCwgMSkgPT09ICdcIicpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJ1xcXFxcIicsICdcIicpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCJcXFxcJ1wiLCBcIidcIik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxLCB2YWx1ZS5sZW5ndGgtMSkucmVwbGFjZSggL1xcXFxuL2csIFwiXFxuXCIgKS5yZXBsYWNlKCAvXFxcXHIvZywgXCJcXHJcIiApO1xuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2cudHJhY2UoXCJUd2lnLmV4cHJlc3Npb24uY29tcGlsZTogXCIsIFwiU3RyaW5nIHZhbHVlOiBcIiwgdG9rZW4udmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogVHdpZy5leHByZXNzaW9uLmZuLnBhcnNlLnB1c2hfdmFsdWVcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIE1hdGNoIGEgc3ViZXhwcmVzc2lvbiBzZXQgc3RhcnQuXG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5zdWJleHByZXNzaW9uLnN0YXJ0LFxuXHQgICAgICAgICAgICByZWdleDogL15cXCgvLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0LmV4cHJlc3Npb25zLmNvbmNhdChbVHdpZy5leHByZXNzaW9uLnR5cGUuc3ViZXhwcmVzc2lvbi5lbmRdKSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gJygnO1xuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBUd2lnLmV4cHJlc3Npb24uZm4ucGFyc2UucHVzaFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogTWF0Y2ggYSBzdWJleHByZXNzaW9uIHNldCBlbmQuXG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5zdWJleHByZXNzaW9uLmVuZCxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eXFwpLyxcblx0ICAgICAgICAgICAgbmV4dDogVHdpZy5leHByZXNzaW9uLnNldC5vcGVyYXRpb25zX2V4dGVuZGVkLFxuXHQgICAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24obWF0Y2gsIHRva2Vucykge1xuXHQgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSBiYWNrIHRocm91Z2ggcHJldmlvdXMgdG9rZW5zIHRvIGVuc3VyZSB3ZSBmb2xsb3cgYSBzdWJleHByZXNzaW9uIHN0YXJ0XG5cdCAgICAgICAgICAgICAgICB2YXIgaSA9IHRva2Vucy5sZW5ndGggLSAxLFxuXHQgICAgICAgICAgICAgICAgICAgIGZvdW5kX3N1YmV4cHJlc3Npb25fc3RhcnQgPSBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBuZXh0X3N1YmV4cHJlc3Npb25fc3RhcnRfaW52YWxpZCA9IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgIHVuY2xvc2VkX3BhcmFtZXRlcl9jb3VudCA9IDA7XG5cblx0ICAgICAgICAgICAgICAgIHdoaWxlKCFmb3VuZF9zdWJleHByZXNzaW9uX3N0YXJ0ICYmIGkgPj0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblxuXHQgICAgICAgICAgICAgICAgICAgIGZvdW5kX3N1YmV4cHJlc3Npb25fc3RhcnQgPSB0b2tlbi50eXBlID09PSBUd2lnLmV4cHJlc3Npb24udHlwZS5zdWJleHByZXNzaW9uLnN0YXJ0O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBwcmV2aW91c2x5IGZvdW5kIGEgc3ViZXhwcmVzc2lvbiBlbmQsIHRoZW4gdGhpcyBzdWJleHByZXNzaW9uIHN0YXJ0IGlzIHRoZSBzdGFydCBvZlxuXHQgICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgc3ViZXhwcmVzc2lvbiwgbm90IHRoZSBzdWJleHByZXNzaW9uIHdlIGFyZSBzZWFyY2hpbmcgZm9yXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kX3N1YmV4cHJlc3Npb25fc3RhcnQgJiYgbmV4dF9zdWJleHByZXNzaW9uX3N0YXJ0X2ludmFsaWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmV4dF9zdWJleHByZXNzaW9uX3N0YXJ0X2ludmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRfc3ViZXhwcmVzc2lvbl9zdGFydCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIENvdW50IHBhcmFtZXRlciB0b2tlbnMgdG8gZW5zdXJlIHdlIGRvbnQgcmV0dXJuIHRydXRoeSBmb3IgYSBwYXJhbWV0ZXIgb3BlbmVyXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5zdGFydCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB1bmNsb3NlZF9wYXJhbWV0ZXJfY291bnQrKztcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5lbmQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdW5jbG9zZWRfcGFyYW1ldGVyX2NvdW50LS07XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUd2lnLmV4cHJlc3Npb24udHlwZS5zdWJleHByZXNzaW9uLmVuZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBuZXh0X3N1YmV4cHJlc3Npb25fc3RhcnRfaW52YWxpZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgaS0tO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCB1bmNsb3NlZCBwYXJhbWV0ZXJzLCByZXR1cm4gZmFsc2Vcblx0ICAgICAgICAgICAgICAgIC8vIElmIHdlIGRpZG50IGZpbmQgc3ViZXhwcmVzc2lvbiBzdGFydCwgcmV0dXJuIGZhbHNlXG5cdCAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRydWVcblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIChmb3VuZF9zdWJleHByZXNzaW9uX3N0YXJ0ICYmICh1bmNsb3NlZF9wYXJhbWV0ZXJfY291bnQgPT09IDApKTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYmFzaWNhbGx5IGEgY29weSBvZiBwYXJhbWV0ZXIgZW5kIGNvbXBpbGF0aW9uXG5cdCAgICAgICAgICAgICAgICB2YXIgc3RhY2tfdG9rZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgZW5kX3Rva2VuID0gdG9rZW47XG5cblx0ICAgICAgICAgICAgICAgIHN0YWNrX3Rva2VuID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgICAgICAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrX3Rva2VuLnR5cGUgIT0gVHdpZy5leHByZXNzaW9uLnR5cGUuc3ViZXhwcmVzc2lvbi5zdGFydCkge1xuXHQgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHN0YWNrX3Rva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICBzdGFja190b2tlbiA9IHN0YWNrLnBvcCgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBNb3ZlIGNvbnRlbnRzIG9mIHBhcmVucyBpbnRvIHByZWNlZGluZyBmaWx0ZXJcblx0ICAgICAgICAgICAgICAgIHZhciBwYXJhbV9zdGFjayA9IFtdO1xuXHQgICAgICAgICAgICAgICAgd2hpbGUodG9rZW4udHlwZSAhPT0gVHdpZy5leHByZXNzaW9uLnR5cGUuc3ViZXhwcmVzc2lvbi5zdGFydCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0b2tlbiB0byBhcmd1bWVudHMgc3RhY2tcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbV9zdGFjay51bnNoaWZ0KHRva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IG91dHB1dC5wb3AoKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcGFyYW1fc3RhY2sudW5zaGlmdCh0b2tlbik7XG5cblx0ICAgICAgICAgICAgICAgIHZhciBpc19leHByZXNzaW9uID0gZmFsc2U7XG5cblx0ICAgICAgICAgICAgICAgIC8vSWYgdGhlIHRva2VuIGF0IHRoZSB0b3Agb2YgdGhlICpzdGFjayogaXMgYSBmdW5jdGlvbiB0b2tlbiwgcG9wIGl0IG9udG8gdGhlIG91dHB1dCBxdWV1ZS5cblx0ICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdG9rZW4gcHJlY2VkaW5nIHRoZSBwYXJhbWV0ZXJzXG5cdCAgICAgICAgICAgICAgICBzdGFja190b2tlbiA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHN0YWNrX3Rva2VuID09PSB1bmRlZmluZWQgfHxcblx0ICAgICAgICAgICAgICAgICAgICAoc3RhY2tfdG9rZW4udHlwZSAhPT0gVHdpZy5leHByZXNzaW9uLnR5cGUuX2Z1bmN0aW9uICYmXG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2tfdG9rZW4udHlwZSAhPT0gVHdpZy5leHByZXNzaW9uLnR5cGUuZmlsdGVyICYmXG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2tfdG9rZW4udHlwZSAhPT0gVHdpZy5leHByZXNzaW9uLnR5cGUudGVzdCAmJlxuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrX3Rva2VuLnR5cGUgIT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLmtleS5icmFja2V0cykpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgIGVuZF90b2tlbi5leHByZXNzaW9uID0gdHJ1ZTtcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBzdGFydCBhbmQgZW5kIHRva2VuIGZyb20gc3RhY2tcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbV9zdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbV9zdGFjay5zaGlmdCgpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgZW5kX3Rva2VuLnBhcmFtcyA9IHBhcmFtX3N0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goZW5kX3Rva2VuKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgYmUgaGl0XG5cdCAgICAgICAgICAgICAgICAgICAgZW5kX3Rva2VuLmV4cHJlc3Npb24gPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICBzdGFja190b2tlbi5wYXJhbXMgPSBwYXJhbV9zdGFjaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uKHRva2VuLCBzdGFjaywgY29udGV4dCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIG5ld19hcnJheSA9IFtdLFxuXHQgICAgICAgICAgICAgICAgICAgIGFycmF5X2VuZGVkID0gZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAodG9rZW4uZXhwcmVzc2lvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4ucGFyYW1zLCBjb250ZXh0XSlcblx0ICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJVbmV4cGVjdGVkIHN1YmV4cHJlc3Npb24gZW5kIHdoZW4gdG9rZW4gaXMgbm90IG1hcmtlZCBhcyBhbiBleHByZXNzaW9uXCIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBNYXRjaCBhIHBhcmFtZXRlciBzZXQgc3RhcnQuXG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuc3RhcnQsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXlxcKC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQuZXhwcmVzc2lvbnMuY29uY2F0KFtUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuZW5kXSksXG5cdCAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbihtYXRjaCwgdG9rZW5zKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbGFzdF90b2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG5cdCAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCB1c2UgdGhlIHJlZ2V4IHRvIHRlc3QgaWYgd2UgZm9sbG93IGEgc3BhY2UgYmVjYXVzZSBleHByZXNzaW9uIGlzIHRyaW1tZWRcblx0ICAgICAgICAgICAgICAgIHJldHVybiBsYXN0X3Rva2VuICYmIChUd2lnLmluZGV4T2YoVHdpZy5leHByZXNzaW9uLnJlc2VydmVkV29yZHMsIGxhc3RfdG9rZW4udmFsdWUudHJpbSgpKSA8IDApO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBjb21waWxlOiBUd2lnLmV4cHJlc3Npb24uZm4uY29tcGlsZS5wdXNoX2JvdGgsXG5cdCAgICAgICAgICAgIHBhcnNlOiBUd2lnLmV4cHJlc3Npb24uZm4ucGFyc2UucHVzaFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogTWF0Y2ggYSBwYXJhbWV0ZXIgc2V0IGVuZC5cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5lbmQsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXlxcKS8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQub3BlcmF0aW9uc19leHRlbmRlZCxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBzdGFja190b2tlbixcblx0ICAgICAgICAgICAgICAgICAgICBlbmRfdG9rZW4gPSB0b2tlbjtcblxuXHQgICAgICAgICAgICAgICAgc3RhY2tfdG9rZW4gPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgIHdoaWxlKHN0YWNrLmxlbmd0aCA+IDAgJiYgc3RhY2tfdG9rZW4udHlwZSAhPSBUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuc3RhcnQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChzdGFja190b2tlbik7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2tfdG9rZW4gPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gTW92ZSBjb250ZW50cyBvZiBwYXJlbnMgaW50byBwcmVjZWRpbmcgZmlsdGVyXG5cdCAgICAgICAgICAgICAgICB2YXIgcGFyYW1fc3RhY2sgPSBbXTtcblx0ICAgICAgICAgICAgICAgIHdoaWxlKHRva2VuLnR5cGUgIT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5zdGFydCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0b2tlbiB0byBhcmd1bWVudHMgc3RhY2tcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbV9zdGFjay51bnNoaWZ0KHRva2VuKTtcblx0ICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IG91dHB1dC5wb3AoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHBhcmFtX3N0YWNrLnVuc2hpZnQodG9rZW4pO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgaXNfZXhwcmVzc2lvbiA9IGZhbHNlO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHRva2VuIHByZWNlZGluZyB0aGUgcGFyYW1ldGVyc1xuXHQgICAgICAgICAgICAgICAgdG9rZW4gPSBvdXRwdXRbb3V0cHV0Lmxlbmd0aC0xXTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHRva2VuID09PSB1bmRlZmluZWQgfHxcblx0ICAgICAgICAgICAgICAgICAgICAodG9rZW4udHlwZSAhPT0gVHdpZy5leHByZXNzaW9uLnR5cGUuX2Z1bmN0aW9uICYmXG5cdCAgICAgICAgICAgICAgICAgICAgdG9rZW4udHlwZSAhPT0gVHdpZy5leHByZXNzaW9uLnR5cGUuZmlsdGVyICYmXG5cdCAgICAgICAgICAgICAgICAgICAgdG9rZW4udHlwZSAhPT0gVHdpZy5leHByZXNzaW9uLnR5cGUudGVzdCAmJlxuXHQgICAgICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgIT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLmtleS5icmFja2V0cykpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgIGVuZF90b2tlbi5leHByZXNzaW9uID0gdHJ1ZTtcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBzdGFydCBhbmQgZW5kIHRva2VuIGZyb20gc3RhY2tcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbV9zdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbV9zdGFjay5zaGlmdCgpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgZW5kX3Rva2VuLnBhcmFtcyA9IHBhcmFtX3N0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goZW5kX3Rva2VuKTtcblxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBlbmRfdG9rZW4uZXhwcmVzc2lvbiA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgIHRva2VuLnBhcmFtcyA9IHBhcmFtX3N0YWNrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBjb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbmV3X2FycmF5ID0gW10sXG5cdCAgICAgICAgICAgICAgICAgICAgYXJyYXlfZW5kZWQgPSBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgICAgIGlmICh0b2tlbi5leHByZXNzaW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoaXMsIFt0b2tlbi5wYXJhbXMsIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuXHQgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFB1c2ggdmFsdWVzIGludG8gdGhlIGFycmF5IHVudGlsIHRoZSBzdGFydCBvZiB0aGUgYXJyYXlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLnR5cGUgJiYgdmFsdWUudHlwZSA9PSBUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuc3RhcnQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5X2VuZGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5ld19hcnJheS51bnNoaWZ0KHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWFycmF5X2VuZGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiRXhwZWN0ZWQgZW5kIG9mIHBhcmFtZXRlciBzZXQuXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobmV3X2FycmF5KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5zbGljZSxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eXFxbKFxcZCpcXDpcXGQqKVxcXS8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQub3BlcmF0aW9uc19leHRlbmRlZCxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBzbGljZVJhbmdlID0gdG9rZW4ubWF0Y2hbMV0uc3BsaXQoJzonKTtcblxuXHQgICAgICAgICAgICAgICAgLy9zbGljZVN0YXJ0IGNhbiBiZSB1bmRlZmluZWQgd2hlbiB3ZSBwYXNzIHBhcmFtZXRlcnMgdG8gdGhlIHNsaWNlIGZpbHRlciBsYXRlclxuXHQgICAgICAgICAgICAgICAgdmFyIHNsaWNlU3RhcnQgPSAoc2xpY2VSYW5nZVswXSkgPyBwYXJzZUludChzbGljZVJhbmdlWzBdKSA6IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgICAgIHZhciBzbGljZUVuZCA9IChzbGljZVJhbmdlWzFdKSA/IHBhcnNlSW50KHNsaWNlUmFuZ2VbMV0pIDogdW5kZWZpbmVkO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9ICdzbGljZSc7XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5wYXJhbXMgPSBbc2xpY2VTdGFydCwgc2xpY2VFbmRdO1xuXG5cdCAgICAgICAgICAgICAgICAvL3NsaWNlRW5kIGNhbid0IGJlIHVuZGVmaW5lZCBhcyB0aGUgc2xpY2UgZmlsdGVyIGRvZXNuJ3QgY2hlY2sgZm9yIHRoaXMsIGJ1dCBpdCBkb2VzIGNoZWNrIHRoZSBsZW5ndGhcblx0ICAgICAgICAgICAgICAgIC8vb2YgdGhlIHBhcmFtcyBhcnJheSwgc28ganVzdCBzaG9ydGVuIGl0LlxuXHQgICAgICAgICAgICAgICAgaWYgKCFzbGljZUVuZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRva2VuLnBhcmFtcyA9IFtzbGljZVN0YXJ0XTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBjb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBzdGFjay5wb3AoKSxcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB0b2tlbi5wYXJhbXM7XG5cblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goVHdpZy5maWx0ZXIuYXBwbHkodGhpcywgW3Rva2VuLnZhbHVlLCBpbnB1dCwgcGFyYW1zXSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBNYXRjaCBhbiBhcnJheSBzdGFydC5cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLmFycmF5LnN0YXJ0LFxuXHQgICAgICAgICAgICByZWdleDogL15cXFsvLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0LmV4cHJlc3Npb25zLmNvbmNhdChbVHdpZy5leHByZXNzaW9uLnR5cGUuYXJyYXkuZW5kXSksXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IFR3aWcuZXhwcmVzc2lvbi5mbi5jb21waWxlLnB1c2hfYm90aCxcblx0ICAgICAgICAgICAgcGFyc2U6IFR3aWcuZXhwcmVzc2lvbi5mbi5wYXJzZS5wdXNoXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBNYXRjaCBhbiBhcnJheSBlbmQuXG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5hcnJheS5lbmQsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXlxcXS8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQub3BlcmF0aW9uc19leHRlbmRlZCxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpID0gc3RhY2subGVuZ3RoIC0gMSxcblx0ICAgICAgICAgICAgICAgICAgICBzdGFja190b2tlbjtcblx0ICAgICAgICAgICAgICAgIC8vIHBvcCB0b2tlbnMgb2ZmIHRoZSBzdGFjayB1bnRpbCB0aGUgc3RhcnQgb2YgdGhlIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgZm9yKDtpID49IDA7IGktLSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrX3Rva2VuID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrX3Rva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLmFycmF5LnN0YXJ0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChzdGFja190b2tlbik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBuZXdfYXJyYXkgPSBbXSxcblx0ICAgICAgICAgICAgICAgICAgICBhcnJheV9lbmRlZCA9IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcblxuXHQgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHN0YWNrLnBvcCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFB1c2ggdmFsdWVzIGludG8gdGhlIGFycmF5IHVudGlsIHRoZSBzdGFydCBvZiB0aGUgYXJyYXlcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUudHlwZSAmJiB2YWx1ZS50eXBlID09IFR3aWcuZXhwcmVzc2lvbi50eXBlLmFycmF5LnN0YXJ0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5X2VuZGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIG5ld19hcnJheS51bnNoaWZ0KHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmICghYXJyYXlfZW5kZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIkV4cGVjdGVkIGVuZCBvZiBhcnJheS5cIik7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobmV3X2FycmF5KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgLy8gVG9rZW4gdGhhdCByZXByZXNlbnRzIHRoZSBzdGFydCBvZiBhIGhhc2ggbWFwICd9J1xuXHQgICAgICAgIC8vXG5cdCAgICAgICAgLy8gSGFzaCBtYXBzIHRha2UgdGhlIGZvcm06XG5cdCAgICAgICAgLy8gICAgeyBcImtleVwiOiAndmFsdWUnLCBcImFub3RoZXJfa2V5XCI6IGl0ZW0gfVxuXHQgICAgICAgIC8vXG5cdCAgICAgICAgLy8gS2V5cyBtdXN0IGJlIHF1b3RlZCAoZWl0aGVyIHNpbmdsZSBvciBkb3VibGUpIGFuZCB2YWx1ZXMgY2FuIGJlIGFueSBleHByZXNzaW9uLlxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUub2JqZWN0LnN0YXJ0LFxuXHQgICAgICAgICAgICByZWdleDogL15cXHsvLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0LmV4cHJlc3Npb25zLmNvbmNhdChbVHdpZy5leHByZXNzaW9uLnR5cGUub2JqZWN0LmVuZF0pLFxuXHQgICAgICAgICAgICBjb21waWxlOiBUd2lnLmV4cHJlc3Npb24uZm4uY29tcGlsZS5wdXNoX2JvdGgsXG5cdCAgICAgICAgICAgIHBhcnNlOiBUd2lnLmV4cHJlc3Npb24uZm4ucGFyc2UucHVzaFxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvLyBUb2tlbiB0aGF0IHJlcHJlc2VudHMgdGhlIGVuZCBvZiBhIEhhc2ggTWFwICd9J1xuXHQgICAgICAgIC8vXG5cdCAgICAgICAgLy8gVGhpcyBpcyB3aGVyZSB0aGUgbG9naWMgZm9yIGJ1aWxkaW5nIHRoZSBpbnRlcm5hbFxuXHQgICAgICAgIC8vIHJlcHJlc2VudGF0aW9uIG9mIGEgaGFzaCBtYXAgaXMgZGVmaW5lZC5cblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLm9iamVjdC5lbmQsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXlxcfS8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQub3BlcmF0aW9uc19leHRlbmRlZCxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpID0gc3RhY2subGVuZ3RoLTEsXG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2tfdG9rZW47XG5cblx0ICAgICAgICAgICAgICAgIC8vIHBvcCB0b2tlbnMgb2ZmIHRoZSBzdGFjayB1bnRpbCB0aGUgc3RhcnQgb2YgdGhlIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgZm9yKDtpID49IDA7IGktLSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrX3Rva2VuID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrX3Rva2VuICYmIHN0YWNrX3Rva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLm9iamVjdC5zdGFydCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goc3RhY2tfdG9rZW4pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24oZW5kX3Rva2VuLCBzdGFjaywgY29udGV4dCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIG5ld19vYmplY3QgPSB7fSxcblx0ICAgICAgICAgICAgICAgICAgICBvYmplY3RfZW5kZWQgPSBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgdG9rZW5fa2V5ID0gbnVsbCxcblx0ICAgICAgICAgICAgICAgICAgICBoYXNfdmFsdWUgPSBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQdXNoIHZhbHVlcyBpbnRvIHRoZSBhcnJheSB1bnRpbCB0aGUgc3RhcnQgb2YgdGhlIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbi50eXBlICYmIHRva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLm9iamVjdC5zdGFydCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RfZW5kZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuLnR5cGUgJiYgKHRva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLm9wZXJhdG9yLmJpbmFyeSB8fCB0b2tlbi50eXBlID09PSBUd2lnLmV4cHJlc3Npb24udHlwZS5vcGVyYXRvci51bmFyeSkgJiYgdG9rZW4ua2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzX3ZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIk1pc3NpbmcgdmFsdWUgZm9yIGtleSAnXCIgKyB0b2tlbi5rZXkgKyBcIicgaW4gb2JqZWN0IGRlZmluaXRpb24uXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5ld19vYmplY3RbdG9rZW4ua2V5XSA9IHZhbHVlO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHRoZSBvcmRlciB0aGF0IGVsZW1lbnRzIGFyZSBhZGRlZCB0byB0aGUgbWFwXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IHNpbmNlIEphdmFTY3JpcHQgb2JqZWN0cyBkb24ndFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBndWFyYW50ZWUgdGhlIG9yZGVyIG9mIGtleXNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld19vYmplY3QuX2tleXMgPT09IHVuZGVmaW5lZCkgbmV3X29iamVjdC5fa2V5cyA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBuZXdfb2JqZWN0Ll9rZXlzLnVuc2hpZnQodG9rZW4ua2V5KTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXNldCB2YWx1ZSBjaGVja1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGhhc192YWx1ZSA9IGZhbHNlO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaGFzX3ZhbHVlID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0b2tlbjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAoIW9iamVjdF9lbmRlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2Ygb2JqZWN0LlwiKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXdfb2JqZWN0KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvLyBUb2tlbiByZXByZXNlbnRpbmcgYSBmaWx0ZXJcblx0ICAgICAgICAvL1xuXHQgICAgICAgIC8vIEZpbHRlcnMgY2FuIGZvbGxvdyBhbnkgZXhwcmVzc2lvbiBhbmQgdGFrZSB0aGUgZm9ybTpcblx0ICAgICAgICAvLyAgICBleHByZXNzaW9ufGZpbHRlcihvcHRpb25hbCwgYXJncylcblx0ICAgICAgICAvL1xuXHQgICAgICAgIC8vIEZpbHRlciBwYXJzaW5nIGlzIGRvbmUgaW4gdGhlIFR3aWcuZmlsdGVycyBuYW1lc3BhY2UuXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5maWx0ZXIsXG5cdCAgICAgICAgICAgIC8vIG1hdGNoIGEgfCB0aGVuIGEgbGV0dGVyIG9yIF8sIHRoZW4gYW55IG51bWJlciBvZiBsZXR0ZXJzLCBudW1iZXJzLCBfIG9yIC1cblx0ICAgICAgICAgICAgcmVnZXg6IC9eXFx8XFxzPyhbYS16QS1aX11bYS16QS1aMC05X1xcLV0qKS8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQub3BlcmF0aW9uc19leHRlbmRlZC5jb25jYXQoW1xuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5zdGFydF0pLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIG91dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgPSB0b2tlbi5tYXRjaFsxXTtcblx0ICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uKHRva2VuLCBzdGFjaywgY29udGV4dCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgICAgIGlucHV0ID0gc3RhY2sucG9wKCk7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVBhcmFtcyh0aGlzLCB0b2tlbi5wYXJhbXMsIGNvbnRleHQpXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihwYXJhbXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5maWx0ZXIuYXBwbHkodGhhdCwgW3Rva2VuLnZhbHVlLCBpbnB1dCwgcGFyYW1zXSk7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLl9mdW5jdGlvbixcblx0ICAgICAgICAgICAgLy8gbWF0Y2ggYW55IGxldHRlciBvciBfLCB0aGVuIGFueSBudW1iZXIgb2YgbGV0dGVycywgbnVtYmVycywgXyBvciAtIGZvbGxvd2VkIGJ5IChcblx0ICAgICAgICAgICAgcmVnZXg6IC9eKFthLXpBLVpfXVthLXpBLVowLTlfXSopXFxzKlxcKC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5zdGFydCxcblx0ICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKG1hdGNoLCB0b2tlbnMpIHtcblx0ICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBhIHJlc2VydmVkIHdvcmRcblx0ICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXSAmJiAoVHdpZy5pbmRleE9mKFR3aWcuZXhwcmVzc2lvbi5yZXNlcnZlZFdvcmRzLCBtYXRjaFsxXSkgPCAwKTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbihtYXRjaCwgdG9rZW5zKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gJygnO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIG91dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGZuID0gdG9rZW4ubWF0Y2hbMV07XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5mbiA9IGZuO1xuXHQgICAgICAgICAgICAgICAgLy8gY2xlYW51cCB0b2tlblxuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLnZhbHVlO1xuXG5cdCAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQpIHtcblxuXHQgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgICAgIGZuID0gdG9rZW4uZm4sXG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVBhcmFtcyh0aGlzLCB0b2tlbi5wYXJhbXMsIGNvbnRleHQpXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihwYXJhbXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoVHdpZy5mdW5jdGlvbnNbZm5dKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZnVuY3Rpb24gZnJvbSB0aGUgYnVpbHQtaW4gZnVuY3Rpb25zXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gVHdpZy5mdW5jdGlvbnNbZm5dLmFwcGx5KHRoYXQsIHBhcmFtcyk7XG5cblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0W2ZuXSA9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZnVuY3Rpb24gZnJvbSB0aGUgdXNlci9jb250ZXh0IGRlZmluZWQgZnVuY3Rpb25zXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY29udGV4dFtmbl0uYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKGZuICsgJyBmdW5jdGlvbiBkb2VzIG5vdCBleGlzdCBhbmQgaXMgbm90IGRlZmluZWQgaW4gdGhlIGNvbnRleHQnKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLy8gVG9rZW4gcmVwcmVzZW50aW5nIGEgdmFyaWFibGUuXG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyBWYXJpYWJsZXMgY2FuIGNvbnRhaW4gbGV0dGVycywgbnVtYmVycywgdW5kZXJzY29yZXMgYW5kXG5cdCAgICAgICAgLy8gZGFzaGVzLCBidXQgbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyIG9yIHVuZGVyc2NvcmUuXG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyBWYXJpYWJsZXMgYXJlIHJldHJpZXZlZCBmcm9tIHRoZSByZW5kZXIgY29udGV4dCBhbmQgdGFrZVxuXHQgICAgICAgIC8vIHRoZSB2YWx1ZSBvZiAndW5kZWZpbmVkJyBpZiB0aGUgZ2l2ZW4gdmFyaWFibGUgZG9lc24ndFxuXHQgICAgICAgIC8vIGV4aXN0IGluIHRoZSBjb250ZXh0LlxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUudmFyaWFibGUsXG5cdCAgICAgICAgICAgIC8vIG1hdGNoIGFueSBsZXR0ZXIgb3IgXywgdGhlbiBhbnkgbnVtYmVyIG9mIGxldHRlcnMsIG51bWJlcnMsIF8gb3IgLVxuXHQgICAgICAgICAgICByZWdleDogL15bYS16QS1aX11bYS16QS1aMC05X10qLyxcblx0ICAgICAgICAgICAgbmV4dDogVHdpZy5leHByZXNzaW9uLnNldC5vcGVyYXRpb25zX2V4dGVuZGVkLmNvbmNhdChbXG5cdCAgICAgICAgICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLnR5cGUucGFyYW1ldGVyLnN0YXJ0XSksXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IFR3aWcuZXhwcmVzc2lvbi5mbi5jb21waWxlLnB1c2gsXG5cdCAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbihtYXRjaCwgdG9rZW5zKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKFR3aWcuaW5kZXhPZihUd2lnLmV4cHJlc3Npb24ucmVzZXJ2ZWRXb3JkcywgbWF0Y2hbMF0pIDwgMCk7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdmFyaWFibGUgZnJvbSB0aGUgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5yZXNvbHZlQXN5bmMuYXBwbHkodGhpcywgW2NvbnRleHRbdG9rZW4udmFsdWVdLCBjb250ZXh0XSlcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5rZXkucGVyaW9kLFxuXHQgICAgICAgICAgICByZWdleDogL15cXC4oW2EtekEtWjAtOV9dKykvLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0Lm9wZXJhdGlvbnNfZXh0ZW5kZWQuY29uY2F0KFtcblx0ICAgICAgICAgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuc3RhcnRdKSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmtleSA9IHRva2VuLm1hdGNoWzFdO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLnZhbHVlO1xuXG5cdCAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQsIG5leHRfdG9rZW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgICAgICBrZXkgPSB0b2tlbi5rZXksXG5cdCAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gc3RhY2sucG9wKCksXG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVBhcmFtcyh0aGlzLCB0b2tlbi5wYXJhbXMsIGNvbnRleHQpXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihwYXJhbXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSBudWxsIHx8IG9iamVjdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuc3RyaWN0X3ZhcmlhYmxlcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJDYW4ndCBhY2Nlc3MgYSBrZXkgXCIgKyBrZXkgKyBcIiBvbiBhbiBudWxsIG9yIHVuZGVmaW5lZCBvYmplY3QuXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc3Vic3RyKDEpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdmFyaWFibGUgZnJvbSB0aGUgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYga2V5IGluIG9iamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmplY3RbXCJnZXRcIiArIGNhcGl0YWxpemUoa2V5KV0gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvYmplY3RbXCJnZXRcIiArIGNhcGl0YWxpemUoa2V5KV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqZWN0W1wiaXNcIiArIGNhcGl0YWxpemUoa2V5KV0gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvYmplY3RbXCJpc1wiICsgY2FwaXRhbGl6ZShrZXkpXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiByZXNvbHZpbmcgYW4gZXhwcmVzc2lvbiB3ZSBuZWVkIHRvIHBhc3MgbmV4dF90b2tlbiBpbiBjYXNlIHRoZSBleHByZXNzaW9uIGlzIGEgZnVuY3Rpb25cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLnJlc29sdmVBc3luYy5hcHBseSh0aGF0LCBbdmFsdWUsIGNvbnRleHQsIHBhcmFtcywgbmV4dF90b2tlbiwgb2JqZWN0XSk7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUua2V5LmJyYWNrZXRzLFxuXHQgICAgICAgICAgICByZWdleDogL15cXFsoW15cXF1cXDpdKilcXF0vLFxuXHQgICAgICAgICAgICBuZXh0OiBUd2lnLmV4cHJlc3Npb24uc2V0Lm9wZXJhdGlvbnNfZXh0ZW5kZWQuY29uY2F0KFtcblx0ICAgICAgICAgICAgICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZS5wYXJhbWV0ZXIuc3RhcnRdKSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHRva2VuLm1hdGNoWzFdO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBUaGUgZXhwcmVzc2lvbiBzdGFjayBmb3IgdGhlIGtleVxuXHQgICAgICAgICAgICAgICAgdG9rZW4uc3RhY2sgPSBUd2lnLmV4cHJlc3Npb24uY29tcGlsZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hdGNoXG5cdCAgICAgICAgICAgICAgICB9KS5zdGFjaztcblxuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBjb250ZXh0LCBuZXh0X3Rva2VuKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBFdmFsdWF0ZSBrZXlcblx0ICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgIG9iamVjdCxcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTtcblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGFyYW1zKHRoaXMsIHRva2VuLnBhcmFtcywgY29udGV4dClcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBwYXJhbWV0ZXJzO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGF0LCBbdG9rZW4uc3RhY2ssIGNvbnRleHRdKTtcblx0ICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBzdGFjay5wb3AoKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgPT09IG51bGwgfHwgb2JqZWN0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5zdHJpY3RfdmFyaWFibGVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIkNhbid0IGFjY2VzcyBhIGtleSBcIiArIGtleSArIFwiIG9uIGFuIG51bGwgb3IgdW5kZWZpbmVkIG9iamVjdC5cIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdmFyaWFibGUgZnJvbSB0aGUgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBrZXkgaW4gb2JqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gcmVzb2x2aW5nIGFuIGV4cHJlc3Npb24gd2UgbmVlZCB0byBwYXNzIG5leHRfdG9rZW4gaW4gY2FzZSB0aGUgZXhwcmVzc2lvbiBpcyBhIGZ1bmN0aW9uXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5yZXNvbHZlQXN5bmMuYXBwbHkodGhhdCwgW3ZhbHVlLCBvYmplY3QsIHBhcmFtcywgbmV4dF90b2tlbl0pO1xuXHQgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBNYXRjaCBhIG51bGwgdmFsdWUuXG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5fbnVsbCxcblx0ICAgICAgICAgICAgLy8gbWF0Y2ggYSBudW1iZXJcblx0ICAgICAgICAgICAgcmVnZXg6IC9eKG51bGx8TlVMTHxub25lfE5PTkUpLyxcblx0ICAgICAgICAgICAgbmV4dDogVHdpZy5leHByZXNzaW9uLnNldC5vcGVyYXRpb25zLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIG91dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogVHdpZy5leHByZXNzaW9uLmZuLnBhcnNlLnB1c2hfdmFsdWVcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIE1hdGNoIHRoZSBjb250ZXh0XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmV4cHJlc3Npb24udHlwZS5jb250ZXh0LFxuXHQgICAgICAgICAgICByZWdleDogL15fY29udGV4dC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFR3aWcuZXhwcmVzc2lvbi5zZXQub3BlcmF0aW9uc19leHRlbmRlZC5jb25jYXQoW1xuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi50eXBlLnBhcmFtZXRlci5zdGFydF0pLFxuXHQgICAgICAgICAgICBjb21waWxlOiBUd2lnLmV4cHJlc3Npb24uZm4uY29tcGlsZS5wdXNoLFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odG9rZW4sIHN0YWNrLCBjb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGNvbnRleHQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBNYXRjaCBhIGJvb2xlYW5cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLmJvb2wsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXih0cnVlfFRSVUV8ZmFsc2V8RkFMU0UpLyxcblx0ICAgICAgICAgICAgbmV4dDogVHdpZy5leHByZXNzaW9uLnNldC5vcGVyYXRpb25zLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIG91dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgPSAodG9rZW4ubWF0Y2hbMF0udG9Mb3dlckNhc2UoICkgPT09IFwidHJ1ZVwiKTtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5tYXRjaDtcblx0ICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgcGFyc2U6IFR3aWcuZXhwcmVzc2lvbi5mbi5wYXJzZS5wdXNoX3ZhbHVlXG5cdCAgICAgICAgfVxuXHQgICAgXTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXNvbHZlIGEgY29udGV4dCB2YWx1ZS5cblx0ICAgICAqXG5cdCAgICAgKiBJZiB0aGUgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaXQgaXMgZXhlY3V0ZWQgd2l0aCBhIGNvbnRleHQgcGFyYW1ldGVyLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGNvbnRleHQgb2JqZWN0IGtleS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IFRoZSByZW5kZXIgY29udGV4dC5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5leHByZXNzaW9uLnJlc29sdmVBc3luYyA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBwYXJhbXMsIG5leHRfdG9rZW4sIG9iamVjdCkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IFR3aWcuUHJvbWlzZS5yZXNvbHZlKHBhcmFtcyk7XG5cblx0ICAgICAgICAgICAgLypcblx0ICAgICAgICAgICAgSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBoYXZlIGJlZW4gaW1wb3NzaWJsZSBkdXJpbmcgdGhlIGNvbXBpbGUgc3RhZ2UgdG8gZGV0ZXJtaW5lIHRoYXQgYSBmb2xsb3dpbmdcblx0ICAgICAgICAgICAgc2V0IG9mIHBhcmVudGhlc2VzIHdlcmUgcGFyYW1ldGVycyBmb3IgdGhpcyBmdW5jdGlvbi5cblxuXHQgICAgICAgICAgICBUaG9zZSBwYXJlbnRoZXNlcyB3aWxsIGhhdmUgdGhlcmVmb3JlIGJlZW4gbWFya2VkIGFzIGFuIGV4cHJlc3Npb24sIHdpdGggdGhlaXIgb3duIHBhcmFtZXRlcnMsIHdoaWNoIHJlYWxseVxuXHQgICAgICAgICAgICBiZWxvbmcgdG8gdGhpcyBmdW5jdGlvbi5cblxuXHQgICAgICAgICAgICBUaG9zZSBwYXJhbWV0ZXJzIHdpbGwgYWxzbyBuZWVkIHBhcnNpbmcgaW4gY2FzZSB0aGV5IGFyZSBhY3R1YWxseSBhbiBleHByZXNzaW9uIHRvIHBhc3MgYXMgcGFyYW1ldGVycy5cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIGlmIChuZXh0X3Rva2VuICYmIG5leHRfdG9rZW4udHlwZSA9PT0gVHdpZy5leHByZXNzaW9uLnR5cGUucGFyYW1ldGVyLmVuZCkge1xuXHQgICAgICAgICAgICAgICAgLy9XaGVuIHBhcnNpbmcgdGhlc2UgcGFyYW1ldGVycywgd2UgbmVlZCB0byBnZXQgdGhlbSBhbGwgYmFjaywgbm90IGp1c3QgdGhlIGxhc3QgaXRlbSBvbiB0aGUgc3RhY2suXG5cdCAgICAgICAgICAgICAgICB2YXIgdG9rZW5zX2FyZV9wYXJhbWV0ZXJzID0gdHJ1ZTtcblxuXHQgICAgICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dF90b2tlbi5wYXJhbXMgJiYgVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW25leHRfdG9rZW4ucGFyYW1zLCBjb250ZXh0LCB0b2tlbnNfYXJlX3BhcmFtZXRlcnNdKTtcblx0ICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy9DbGVhbiB1cCB0aGUgcGFyZW50aGVzZXMgdG9rZW5zIG9uIHRoZSBuZXh0IGxvb3Bcblx0ICAgICAgICAgICAgICAgICAgICBuZXh0X3Rva2VuLmNsZWFudXAgPSB0cnVlO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHA7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocGFyYW1zKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkob2JqZWN0IHx8IGNvbnRleHQsIHBhcmFtcyB8fCBbXSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBUd2lnLlByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgVHdpZy5leHByZXNzaW9uLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCwgcGFyYW1zLCBuZXh0X3Rva2VuLCBvYmplY3QpIHtcblx0ICAgICAgICB2YXIgaXNfYXN5bmMgPSB0cnVlLFxuXHQgICAgICAgICAgICByZXN1bHQ7XG5cblx0ICAgICAgICBUd2lnLmV4cHJlc3Npb24ucmVzb2x2ZUFzeW5jLmFwcGx5KHRoaXMsIFt2YWx1ZSwgY29udGV4dCwgcGFyYW1zLCBuZXh0X3Rva2VuLCBvYmplY3RdKVxuXHQgICAgICAgIC50aGVuKGZ1bmN0aW9uKHIpIHtcblx0ICAgICAgICAgICAgaXNfYXN5bmMgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmVzdWx0ID0gcjtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGlmIChpc19hc3luYylcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoJ1lvdSBhcmUgdXNpbmcgVHdpZy5qcyBpbiBzeW5jIG1vZGUgaW4gY29tYmluYXRpb24gd2l0aCBhc3luYyBleHRlbnNpb25zLicpO1xuXG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBSZWdpc3RyeSBmb3IgbG9naWMgaGFuZGxlcnMuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuZXhwcmVzc2lvbi5oYW5kbGVyID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogRGVmaW5lIGEgbmV3IGV4cHJlc3Npb24gdHlwZSwgYXZhaWxhYmxlIGF0IFR3aWcubG9naWMudHlwZS57dHlwZX1cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgbmFtZSBvZiB0aGUgbmV3IHR5cGUuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuZXhwcmVzc2lvbi5leHRlbmRUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcblx0ICAgICAgICBUd2lnLmV4cHJlc3Npb24udHlwZVt0eXBlXSA9IFwiVHdpZy5leHByZXNzaW9uLnR5cGUuXCIgKyB0eXBlO1xuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBFeHRlbmQgdGhlIGV4cHJlc3Npb24gcGFyc2luZyBmdW5jdGlvbmFsaXR5IHdpdGggYSBuZXcgZGVmaW5pdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBUb2tlbiBkZWZpbml0aW9ucyBmb2xsb3cgdGhpcyBmb3JtYXQ6XG5cdCAgICAgKiAge1xuXHQgICAgICogICAgICB0eXBlOiAgICAgT25lIG9mIFR3aWcuZXhwcmVzc2lvbi50eXBlLlt0eXBlXSwgZWl0aGVyIHByZS1kZWZpbmVkIG9yIGFkZGVkIHVzaW5nXG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgVHdpZy5leHByZXNzaW9uLmV4dGVuZFR5cGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgIG5leHQ6ICAgICBBcnJheSBvZiB0eXBlcyBmcm9tIFR3aWcuZXhwcmVzc2lvbi50eXBlIHRoYXQgY2FuIGZvbGxvdyB0aGlzIHRva2VuLFxuXHQgICAgICpcblx0ICAgICAqICAgICAgcmVnZXg6ICAgIEEgcmVnZXggb3IgYXJyYXkgb2YgcmVnZXgncyB0aGF0IHNob3VsZCBtYXRjaCB0aGUgdG9rZW4uXG5cdCAgICAgKlxuXHQgICAgICogICAgICBjb21waWxlOiBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIG91dHB1dCkgY2FsbGVkIHdoZW4gdGhpcyB0b2tlbiBpcyBiZWluZyBjb21waWxlZC5cblx0ICAgICAqICAgICAgICAgICAgICAgICAgIFNob3VsZCByZXR1cm4gYW4gb2JqZWN0IHdpdGggc3RhY2sgYW5kIG91dHB1dCBzZXQuXG5cdCAgICAgKlxuXHQgICAgICogICAgICBwYXJzZTogICBmdW5jdGlvbih0b2tlbiwgc3RhY2ssIGNvbnRleHQpIGNhbGxlZCB3aGVuIHRoaXMgdG9rZW4gaXMgYmVpbmcgcGFyc2VkLlxuXHQgICAgICogICAgICAgICAgICAgICAgICAgU2hvdWxkIHJldHVybiBhbiBvYmplY3Qgd2l0aCBzdGFjayBhbmQgY29udGV4dCBzZXQuXG5cdCAgICAgKiAgfVxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIEEgdG9rZW4gZGVmaW5pdGlvbi5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5leHByZXNzaW9uLmV4dGVuZCA9IGZ1bmN0aW9uIChkZWZpbml0aW9uKSB7XG5cdCAgICAgICAgaWYgKCFkZWZpbml0aW9uLnR5cGUpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJVbmFibGUgdG8gZXh0ZW5kIGxvZ2ljIGRlZmluaXRpb24uIE5vIHR5cGUgcHJvdmlkZWQgZm9yIFwiICsgZGVmaW5pdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIFR3aWcuZXhwcmVzc2lvbi5oYW5kbGVyW2RlZmluaXRpb24udHlwZV0gPSBkZWZpbml0aW9uO1xuXHQgICAgfTtcblxuXHQgICAgLy8gRXh0ZW5kIHdpdGggYnVpbHQtaW4gZXhwcmVzc2lvbnNcblx0ICAgIHdoaWxlIChUd2lnLmV4cHJlc3Npb24uZGVmaW5pdGlvbnMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIFR3aWcuZXhwcmVzc2lvbi5leHRlbmQoVHdpZy5leHByZXNzaW9uLmRlZmluaXRpb25zLnNoaWZ0KCkpO1xuXHQgICAgfVxuXG5cdCAgICAvKipcblx0ICAgICAqIEJyZWFrIGFuIGV4cHJlc3Npb24gaW50byB0b2tlbnMgZGVmaW5lZCBpbiBUd2lnLmV4cHJlc3Npb24uZGVmaW5pdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIHN0cmluZyB0byB0b2tlbml6ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdG9rZW5zLlxuXHQgICAgICovXG5cdCAgICBUd2lnLmV4cHJlc3Npb24udG9rZW5pemUgPSBmdW5jdGlvbiAoZXhwcmVzc2lvbikge1xuXHQgICAgICAgIHZhciB0b2tlbnMgPSBbXSxcblx0ICAgICAgICAgICAgLy8gS2VlcCBhbiBvZmZzZXQgb2YgdGhlIGxvY2F0aW9uIGluIHRoZSBleHByZXNzaW9uIGZvciBlcnJvciBtZXNzYWdlcy5cblx0ICAgICAgICAgICAgZXhwX29mZnNldCA9IDAsXG5cdCAgICAgICAgICAgIC8vIFRoZSB2YWxpZCBuZXh0IHRva2VucyBvZiB0aGUgcHJldmlvdXMgdG9rZW5cblx0ICAgICAgICAgICAgbmV4dCA9IG51bGwsXG5cdCAgICAgICAgICAgIC8vIE1hdGNoIGluZm9ybWF0aW9uXG5cdCAgICAgICAgICAgIHR5cGUsIHJlZ2V4LCByZWdleF9hcnJheSxcblx0ICAgICAgICAgICAgLy8gVGhlIHBvc3NpYmxlIG5leHQgdG9rZW4gZm9yIHRoZSBtYXRjaFxuXHQgICAgICAgICAgICB0b2tlbl9uZXh0LFxuXHQgICAgICAgICAgICAvLyBIYXMgYSBtYXRjaCBiZWVuIGZvdW5kIGZyb20gdGhlIGRlZmluaXRpb25zXG5cdCAgICAgICAgICAgIG1hdGNoX2ZvdW5kLCBpbnZhbGlkX21hdGNoZXMgPSBbXSwgbWF0Y2hfZnVuY3Rpb247XG5cblx0ICAgICAgICBtYXRjaF9mdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIG1hdGNoID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyksXG5cdCAgICAgICAgICAgICAgICBzdHJpbmcgPSBtYXRjaC5wb3AoKSxcblx0ICAgICAgICAgICAgICAgIG9mZnNldCA9IG1hdGNoLnBvcCgpO1xuXG5cdCAgICAgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5leHByZXNzaW9uLnRva2VuaXplXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTWF0Y2hlZCBhIFwiLCB0eXBlLCBcIiByZWd1bGFyIGV4cHJlc3Npb24gb2YgXCIsIG1hdGNoKTtcblxuXHQgICAgICAgICAgICBpZiAobmV4dCAmJiBUd2lnLmluZGV4T2YobmV4dCwgdHlwZSkgPCAwKSB7XG5cdCAgICAgICAgICAgICAgICBpbnZhbGlkX21hdGNoZXMucHVzaChcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlICsgXCIgY2Fubm90IGZvbGxvdyBhIFwiICsgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXS50eXBlICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgdGVtcGxhdGU6XCIgKyBleHBfb2Zmc2V0ICsgXCIgbmVhciAnXCIgKyBtYXRjaFswXS5zdWJzdHJpbmcoMCwgMjApICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuLi4nXCJcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgICAgICAvLyBOb3QgYSBtYXRjaCwgZG9uJ3QgY2hhbmdlIHRoZSBleHByZXNzaW9uXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbMF07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gaWYgYSB2YWxpZGF0aW9uIGZ1bmN0aW9uIGlzIHByb3ZpZGVkXG5cdCAgICAgICAgICAgIGlmIChUd2lnLmV4cHJlc3Npb24uaGFuZGxlclt0eXBlXS52YWxpZGF0ZSAmJlxuXHQgICAgICAgICAgICAgICAgICAgICFUd2lnLmV4cHJlc3Npb24uaGFuZGxlclt0eXBlXS52YWxpZGF0ZShtYXRjaCwgdG9rZW5zKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzBdO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaW52YWxpZF9tYXRjaGVzID0gW107XG5cblx0ICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogIHR5cGUsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogbWF0Y2hbMF0sXG5cdCAgICAgICAgICAgICAgICBtYXRjaDogbWF0Y2hcblx0ICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgbWF0Y2hfZm91bmQgPSB0cnVlO1xuXHQgICAgICAgICAgICBuZXh0ID0gdG9rZW5fbmV4dDtcblx0ICAgICAgICAgICAgZXhwX29mZnNldCArPSBtYXRjaFswXS5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gRG9lcyB0aGUgdG9rZW4gbmVlZCB0byByZXR1cm4gb3V0cHV0IGJhY2sgdG8gdGhlIGV4cHJlc3Npb24gc3RyaW5nXG5cdCAgICAgICAgICAgIC8vIGUuZy4gYSBmdW5jdGlvbiBtYXRjaCBvZiBjeWNsZSggbWlnaHQgcmV0dXJuIHRoZSAnKCcgYmFjayB0byB0aGUgZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAvLyBUaGlzIGFsbG93cyBsb29rLWFoZWFkIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiB0b2tlbiB0eXBlcyAoZS5nLiBmdW5jdGlvbnMgYW5kIHZhcmlhYmxlIG5hbWVzKVxuXHQgICAgICAgICAgICBpZiAoVHdpZy5leHByZXNzaW9uLmhhbmRsZXJbdHlwZV0udHJhbnNmb3JtKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLmhhbmRsZXJbdHlwZV0udHJhbnNmb3JtKG1hdGNoLCB0b2tlbnMpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiAnJztcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgVHdpZy5sb2cuZGVidWcoXCJUd2lnLmV4cHJlc3Npb24udG9rZW5pemVcIiwgXCJUb2tlbml6aW5nIGV4cHJlc3Npb24gXCIsIGV4cHJlc3Npb24pO1xuXG5cdCAgICAgICAgd2hpbGUgKGV4cHJlc3Npb24ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi50cmltKCk7XG5cdCAgICAgICAgICAgIGZvciAodHlwZSBpbiBUd2lnLmV4cHJlc3Npb24uaGFuZGxlcikge1xuXHQgICAgICAgICAgICAgICAgaWYgKFR3aWcuZXhwcmVzc2lvbi5oYW5kbGVyLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdG9rZW5fbmV4dCA9IFR3aWcuZXhwcmVzc2lvbi5oYW5kbGVyW3R5cGVdLm5leHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVnZXggPSBUd2lnLmV4cHJlc3Npb24uaGFuZGxlclt0eXBlXS5yZWdleDtcblx0ICAgICAgICAgICAgICAgICAgICBUd2lnLmxvZy50cmFjZShcIkNoZWNraW5nIHR5cGUgXCIsIHR5cGUsIFwiIG9uIFwiLCBleHByZXNzaW9uKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXggaW5zdGFuY2VvZiBBcnJheSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWdleF9hcnJheSA9IHJlZ2V4O1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4X2FycmF5ID0gW3JlZ2V4XTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICBtYXRjaF9mb3VuZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWdleF9hcnJheS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gcmVnZXhfYXJyYXkucG9wKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UocmVnZXgsIG1hdGNoX2Z1bmN0aW9uKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQW4gZXhwcmVzc2lvbiB0b2tlbiBoYXMgYmVlbiBtYXRjaGVkLiBCcmVhayB0aGUgZm9yIGxvb3AgYW5kIHN0YXJ0IHRyeWluZyB0b1xuXHQgICAgICAgICAgICAgICAgICAgIC8vICBtYXRjaCB0aGUgbmV4dCB0ZW1wbGF0ZSAoaWYgZXhwcmVzc2lvbiBpc24ndCBlbXB0eS4pXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoX2ZvdW5kKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIW1hdGNoX2ZvdW5kKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaW52YWxpZF9tYXRjaGVzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihpbnZhbGlkX21hdGNoZXMuam9pbihcIiBPUiBcIikpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIlVuYWJsZSB0byBwYXJzZSAnXCIgKyBleHByZXNzaW9uICsgXCInIGF0IHRlbXBsYXRlIHBvc2l0aW9uXCIgKyBleHBfb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5leHByZXNzaW9uLnRva2VuaXplXCIsIFwiVG9rZW5pemVkIHRvIFwiLCB0b2tlbnMpO1xuXHQgICAgICAgIHJldHVybiB0b2tlbnM7XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIENvbXBpbGUgYW4gZXhwcmVzc2lvbiB0b2tlbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gcmF3X3Rva2VuIFRoZSB1bmNvbXBpbGVkIHRva2VuLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbXBpbGVkIHRva2VuLlxuXHQgICAgICovXG5cdCAgICBUd2lnLmV4cHJlc3Npb24uY29tcGlsZSA9IGZ1bmN0aW9uIChyYXdfdG9rZW4pIHtcblx0ICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IHJhd190b2tlbi52YWx1ZSxcblx0ICAgICAgICAgICAgLy8gVG9rZW5pemUgZXhwcmVzc2lvblxuXHQgICAgICAgICAgICB0b2tlbnMgPSBUd2lnLmV4cHJlc3Npb24udG9rZW5pemUoZXhwcmVzc2lvbiksXG5cdCAgICAgICAgICAgIHRva2VuID0gbnVsbCxcblx0ICAgICAgICAgICAgb3V0cHV0ID0gW10sXG5cdCAgICAgICAgICAgIHN0YWNrID0gW10sXG5cdCAgICAgICAgICAgIHRva2VuX3RlbXBsYXRlID0gbnVsbDtcblxuXHQgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5leHByZXNzaW9uLmNvbXBpbGU6IFwiLCBcIkNvbXBpbGluZyBcIiwgZXhwcmVzc2lvbik7XG5cblx0ICAgICAgICAvLyBQdXNoIHRva2VucyBpbnRvIFJQTiBzdGFjayB1c2luZyB0aGUgU2h1bnRpbmcteWFyZCBhbGdvcml0aG1cblx0ICAgICAgICAvLyBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TaHVudGluZ195YXJkX2FsZ29yaXRobVxuXG5cdCAgICAgICAgd2hpbGUgKHRva2Vucy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHRva2VuID0gdG9rZW5zLnNoaWZ0KCk7XG5cdCAgICAgICAgICAgIHRva2VuX3RlbXBsYXRlID0gVHdpZy5leHByZXNzaW9uLmhhbmRsZXJbdG9rZW4udHlwZV07XG5cblx0ICAgICAgICAgICAgVHdpZy5sb2cudHJhY2UoXCJUd2lnLmV4cHJlc3Npb24uY29tcGlsZTogXCIsIFwiQ29tcGlsaW5nIFwiLCB0b2tlbik7XG5cblx0ICAgICAgICAgICAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGVcblx0ICAgICAgICAgICAgdG9rZW5fdGVtcGxhdGUuY29tcGlsZSAmJiB0b2tlbl90ZW1wbGF0ZS5jb21waWxlKHRva2VuLCBzdGFjaywgb3V0cHV0KTtcblxuXHQgICAgICAgICAgICBUd2lnLmxvZy50cmFjZShcIlR3aWcuZXhwcmVzc2lvbi5jb21waWxlOiBcIiwgXCJTdGFjayBpc1wiLCBzdGFjayk7XG5cdCAgICAgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5leHByZXNzaW9uLmNvbXBpbGU6IFwiLCBcIk91dHB1dCBpc1wiLCBvdXRwdXQpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgb3V0cHV0LnB1c2goc3RhY2sucG9wKCkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5leHByZXNzaW9uLmNvbXBpbGU6IFwiLCBcIkZpbmFsIG91dHB1dCBpc1wiLCBvdXRwdXQpO1xuXG5cdCAgICAgICAgcmF3X3Rva2VuLnN0YWNrID0gb3V0cHV0O1xuXHQgICAgICAgIGRlbGV0ZSByYXdfdG9rZW4udmFsdWU7XG5cblx0ICAgICAgICByZXR1cm4gcmF3X3Rva2VuO1xuXHQgICAgfTtcblxuXG5cdCAgICAvKipcblx0ICAgICAqIFBhcnNlIGFuIFJQTiBleHByZXNzaW9uIHN0YWNrIHdpdGhpbiBhIGNvbnRleHQuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gdG9rZW5zIEFuIGFycmF5IG9mIGNvbXBpbGVkIGV4cHJlc3Npb24gdG9rZW5zLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgVGhlIHJlbmRlciBjb250ZXh0IHRvIHBhcnNlIHRoZSB0b2tlbnMgd2l0aC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHQgb2YgcGFyc2luZyBhbGwgdGhlIHRva2Vucy4gVGhlIHJlc3VsdFxuXHQgICAgICogICAgICAgICAgICAgICAgICBjYW4gYmUgYW55dGhpbmcsIFN0cmluZywgQXJyYXksIE9iamVjdCwgZXRjLi4uIGJhc2VkIG9uXG5cdCAgICAgKiAgICAgICAgICAgICAgICAgIHRoZSBnaXZlbiBleHByZXNzaW9uLlxuXHQgICAgICovXG5cdCAgICBUd2lnLmV4cHJlc3Npb24ucGFyc2UgPSBmdW5jdGlvbiAodG9rZW5zLCBjb250ZXh0LCB0b2tlbnNfYXJlX3BhcmFtZXRlcnMsIGFsbG93X2FzeW5jKSB7XG5cdCAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gSWYgdGhlIHRva2VuIGlzbid0IGFuIGFycmF5LCBtYWtlIGl0IG9uZS5cblx0ICAgICAgICBpZiAoISh0b2tlbnMgaW5zdGFuY2VvZiBBcnJheSkpIHtcblx0ICAgICAgICAgICAgdG9rZW5zID0gW3Rva2Vuc107XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gVGhlIG91dHB1dCBzdGFja1xuXHQgICAgICAgIHZhciBzdGFjayA9IFtdLFxuXHQgICAgICAgICAgICBuZXh0X3Rva2VuLFxuXHQgICAgICAgICAgICBvdXRwdXQgPSBudWxsLFxuXHQgICAgICAgICAgICBwcm9taXNlID0gbnVsbCxcblx0ICAgICAgICAgICAgaXNfYXN5bmMgPSB0cnVlLFxuXHQgICAgICAgICAgICB0b2tlbl90ZW1wbGF0ZSA9IG51bGwsXG5cdCAgICAgICAgICAgIGxvb3BfdG9rZW5fZml4dXBzID0gW107XG5cblx0ICAgICAgICBwcm9taXNlID0gVHdpZy5hc3luYy5mb3JFYWNoKHRva2VucywgZnVuY3Rpb24gKHRva2VuLCBpbmRleCkge1xuXHQgICAgICAgICAgICAvL0lmIHRoZSB0b2tlbiBpcyBtYXJrZWQgZm9yIGNsZWFudXAsIHdlIGRvbid0IG5lZWQgdG8gcGFyc2UgaXRcblx0ICAgICAgICAgICAgaWYgKHRva2VuLmNsZWFudXApIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuXG5cdCAgICAgICAgICAgIC8vRGV0ZXJtaW5lIHRoZSB0b2tlbiB0aGF0IGZvbGxvd3MgdGhpcyBvbmUgc28gdGhhdCB3ZSBjYW4gcGFzcyBpdCB0byB0aGUgcGFyc2VyXG5cdCAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID4gaW5kZXggKyAxKSB7XG5cdCAgICAgICAgICAgICAgICBuZXh0X3Rva2VuID0gdG9rZW5zW2luZGV4ICsgMV07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB0b2tlbl90ZW1wbGF0ZSA9IFR3aWcuZXhwcmVzc2lvbi5oYW5kbGVyW3Rva2VuLnR5cGVdO1xuXG5cdCAgICAgICAgICAgIGlmICh0b2tlbl90ZW1wbGF0ZS5wYXJzZSlcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRva2VuX3RlbXBsYXRlLnBhcnNlLmFwcGx5KHRoYXQsIFt0b2tlbiwgc3RhY2ssIGNvbnRleHQsIG5leHRfdG9rZW5dKTtcblxuXHQgICAgICAgICAgICAvL1N0b3JlIGFueSBiaW5hcnkgdG9rZW5zIGZvciBsYXRlciBpZiB3ZSBhcmUgaW4gYSBsb29wLlxuXHQgICAgICAgICAgICBpZiAoY29udGV4dC5sb29wICYmIHRva2VuLnR5cGUgPT09IFR3aWcuZXhwcmVzc2lvbi50eXBlLm9wZXJhdG9yLmJpbmFyeSkge1xuXHQgICAgICAgICAgICAgICAgbG9vcF90b2tlbl9maXh1cHMucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0pXG5cdCAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIC8vQ2hlY2sgZXZlcnkgZml4dXAgYW5kIHJlbW92ZSBcImtleVwiIGFzIGxvbmcgYXMgdGhleSBzdGlsbCBoYXZlIFwicGFyYW1zXCIuIFRoaXMgY292ZXJzIHRoZSB1c2UgY2FzZSB3aGVyZVxuXHQgICAgICAgICAgICAvL2EgXCI6XCIgb3BlcmF0b3IgaXMgdXNlZCBpbiBhIGxvb3Agd2l0aCBhIFwiKGV4cHJlc3Npb24pOlwiIHN0YXRlbWVudC4gV2UgbmVlZCB0byBiZSBhYmxlIHRvIGV2YWx1YXRlIHRoZSBleHByZXNzaW9uXG5cdCAgICAgICAgICAgIFR3aWcuZm9yRWFjaChsb29wX3Rva2VuX2ZpeHVwcywgZnVuY3Rpb24gKGxvb3BfdG9rZW5fZml4dXApIHtcblx0ICAgICAgICAgICAgICAgIGlmIChsb29wX3Rva2VuX2ZpeHVwLnBhcmFtcyAmJiBsb29wX3Rva2VuX2ZpeHVwLmtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsb29wX3Rva2VuX2ZpeHVwW1wia2V5XCJdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblxuXHQgICAgICAgICAgICAvL0lmIHBhcnNlIGhhcyBiZWVuIGNhbGxlZCB3aXRoIGEgc2V0IG9mIHRva2VucyB0aGF0IGFyZSBwYXJhbWV0ZXJzLCB3ZSBuZWVkIHRvIHJldHVybiB0aGUgd2hvbGUgc3RhY2ssXG5cdCAgICAgICAgICAgIC8vd3JhcHBlZCBpbiBhbiBBcnJheS5cblx0ICAgICAgICAgICAgaWYgKHRva2Vuc19hcmVfcGFyYW1ldGVycykge1xuXHQgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuXHQgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdChzdGFjay5wb3AoKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocGFyYW1zKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmIChhbGxvd19hc3luYylcblx0ICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLlByb21pc2UucmVzb2x2ZShzdGFjay5wb3AoKSk7XG5cdCAgICAgICAgfSlcblx0ICAgICAgICAudGhlbihmdW5jdGlvbih2KSB7XG5cdCAgICAgICAgICAgIGlzX2FzeW5jID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybiB2O1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgaWYgKGFsbG93X2FzeW5jKVxuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcblxuXHQgICAgICAgIGlmIChpc19hc3luYylcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoJ1lvdSBhcmUgdXNpbmcgVHdpZy5qcyBpbiBzeW5jIG1vZGUgaW4gY29tYmluYXRpb24gd2l0aCBhc3luYyBleHRlbnNpb25zLicpO1xuXG5cdCAgICAgICAgLy8gUG9wIHRoZSBmaW5hbCB2YWx1ZSBvZmYgdGhlIHN0YWNrXG5cdCAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuXHQgICAgfTtcblxuXHQgICAgcmV0dXJuIFR3aWc7XG5cblx0fTtcblxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gIyMgdHdpZy5leHByZXNzaW9uLm9wZXJhdG9yLmpzXG5cdC8vXG5cdC8vIFRoaXMgZmlsZSBoYW5kbGVzIG9wZXJhdG9yIGxvb2t1cHMgYW5kIHBhcnNpbmcuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFR3aWcpIHtcblx0ICAgIFwidXNlIHN0cmljdFwiO1xuXG5cdCAgICAvKipcblx0ICAgICAqIE9wZXJhdG9yIGFzc29jaWF0aXZpdHkgY29uc3RhbnRzLlxuXHQgICAgICovXG5cdCAgICBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IgPSB7XG5cdCAgICAgICAgbGVmdFRvUmlnaHQ6ICdsZWZ0VG9SaWdodCcsXG5cdCAgICAgICAgcmlnaHRUb0xlZnQ6ICdyaWdodFRvTGVmdCdcblx0ICAgIH07XG5cblx0ICAgIHZhciBjb250YWlubWVudCA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0ICAgICAgICBpZiAoYiA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfSBlbHNlIGlmIChiLmluZGV4T2YgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAvLyBTdHJpbmdcblx0ICAgICAgICAgICAgcmV0dXJuIGEgPT09IGIgfHwgYSAhPT0gJycgJiYgYi5pbmRleE9mKGEpID4gLTE7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGVsO1xuXHQgICAgICAgICAgICBmb3IgKGVsIGluIGIpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KGVsKSAmJiBiW2VsXSA9PT0gYSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEdldCB0aGUgcHJlY2lkZW5jZSBhbmQgYXNzb2NpYXRpdml0eSBvZiBhbiBvcGVyYXRvci4gVGhlc2UgZm9sbG93IHRoZSBvcmRlciB0aGF0IEMvQysrIHVzZS5cblx0ICAgICAqIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL09wZXJhdG9yc19pbl9DX2FuZF9DKysgZm9yIHRoZSB0YWJsZSBvZiB2YWx1ZXMuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuZXhwcmVzc2lvbi5vcGVyYXRvci5sb29rdXAgPSBmdW5jdGlvbiAob3BlcmF0b3IsIHRva2VuKSB7XG5cdCAgICAgICAgc3dpdGNoIChvcGVyYXRvcikge1xuXHQgICAgICAgICAgICBjYXNlIFwiLi5cIjpcblx0ICAgICAgICAgICAgICAgIHRva2VuLnByZWNpZGVuY2UgPSAyMDtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmFzc29jaWF0aXZpdHkgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQ7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICcsJzpcblx0ICAgICAgICAgICAgICAgIHRva2VuLnByZWNpZGVuY2UgPSAxODtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmFzc29jaWF0aXZpdHkgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQ7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICAvLyBUZXJuYXJ5XG5cdCAgICAgICAgICAgIGNhc2UgJz86Jzpcblx0ICAgICAgICAgICAgY2FzZSAnPyc6XG5cdCAgICAgICAgICAgIGNhc2UgJzonOlxuXHQgICAgICAgICAgICAgICAgdG9rZW4ucHJlY2lkZW5jZSA9IDE2O1xuXHQgICAgICAgICAgICAgICAgdG9rZW4uYXNzb2NpYXRpdml0eSA9IFR3aWcuZXhwcmVzc2lvbi5vcGVyYXRvci5yaWdodFRvTGVmdDtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJ29yJzpcblx0ICAgICAgICAgICAgICAgIHRva2VuLnByZWNpZGVuY2UgPSAxNDtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmFzc29jaWF0aXZpdHkgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQ7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICdhbmQnOlxuXHQgICAgICAgICAgICAgICAgdG9rZW4ucHJlY2lkZW5jZSA9IDEzO1xuXHQgICAgICAgICAgICAgICAgdG9rZW4uYXNzb2NpYXRpdml0eSA9IFR3aWcuZXhwcmVzc2lvbi5vcGVyYXRvci5sZWZ0VG9SaWdodDtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJ2Itb3InOlxuXHQgICAgICAgICAgICAgICAgdG9rZW4ucHJlY2lkZW5jZSA9IDEyO1xuXHQgICAgICAgICAgICAgICAgdG9rZW4uYXNzb2NpYXRpdml0eSA9IFR3aWcuZXhwcmVzc2lvbi5vcGVyYXRvci5sZWZ0VG9SaWdodDtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJ2IteG9yJzpcblx0ICAgICAgICAgICAgICAgIHRva2VuLnByZWNpZGVuY2UgPSAxMTtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmFzc29jaWF0aXZpdHkgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQ7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICdiLWFuZCc6XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5wcmVjaWRlbmNlID0gMTA7XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5hc3NvY2lhdGl2aXR5ID0gVHdpZy5leHByZXNzaW9uLm9wZXJhdG9yLmxlZnRUb1JpZ2h0O1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnPT0nOlxuXHQgICAgICAgICAgICBjYXNlICchPSc6XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5wcmVjaWRlbmNlID0gOTtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmFzc29jaWF0aXZpdHkgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQ7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICc8Jzpcblx0ICAgICAgICAgICAgY2FzZSAnPD0nOlxuXHQgICAgICAgICAgICBjYXNlICc+Jzpcblx0ICAgICAgICAgICAgY2FzZSAnPj0nOlxuXHQgICAgICAgICAgICBjYXNlICdub3QgaW4nOlxuXHQgICAgICAgICAgICBjYXNlICdpbic6XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5wcmVjaWRlbmNlID0gODtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmFzc29jaWF0aXZpdHkgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQ7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICd+JzogLy8gU3RyaW5nIGNvbmNhdGluYXRpb25cblx0ICAgICAgICAgICAgY2FzZSAnKyc6XG5cdCAgICAgICAgICAgIGNhc2UgJy0nOlxuXHQgICAgICAgICAgICAgICAgdG9rZW4ucHJlY2lkZW5jZSA9IDY7XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5hc3NvY2lhdGl2aXR5ID0gVHdpZy5leHByZXNzaW9uLm9wZXJhdG9yLmxlZnRUb1JpZ2h0O1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnLy8nOlxuXHQgICAgICAgICAgICBjYXNlICcqKic6XG5cdCAgICAgICAgICAgIGNhc2UgJyonOlxuXHQgICAgICAgICAgICBjYXNlICcvJzpcblx0ICAgICAgICAgICAgY2FzZSAnJSc6XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5wcmVjaWRlbmNlID0gNTtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmFzc29jaWF0aXZpdHkgPSBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IubGVmdFRvUmlnaHQ7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICdub3QnOlxuXHQgICAgICAgICAgICAgICAgdG9rZW4ucHJlY2lkZW5jZSA9IDM7XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5hc3NvY2lhdGl2aXR5ID0gVHdpZy5leHByZXNzaW9uLm9wZXJhdG9yLnJpZ2h0VG9MZWZ0O1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiRmFpbGVkIHRvIGxvb2t1cCBvcGVyYXRvcjogXCIgKyBvcGVyYXRvciArIFwiIGlzIGFuIHVua25vd24gb3BlcmF0b3IuXCIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0b2tlbi5vcGVyYXRvciA9IG9wZXJhdG9yO1xuXHQgICAgICAgIHJldHVybiB0b2tlbjtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogSGFuZGxlIG9wZXJhdGlvbnMgb24gdGhlIFJQTiBzdGFjay5cblx0ICAgICAqXG5cdCAgICAgKiBSZXR1cm5zIHRoZSB1cGRhdGVkIHN0YWNrLlxuXHQgICAgICovXG5cdCAgICBUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IucGFyc2UgPSBmdW5jdGlvbiAob3BlcmF0b3IsIHN0YWNrKSB7XG5cdCAgICAgICAgVHdpZy5sb2cudHJhY2UoXCJUd2lnLmV4cHJlc3Npb24ub3BlcmF0b3IucGFyc2U6IFwiLCBcIkhhbmRsaW5nIFwiLCBvcGVyYXRvcik7XG5cdCAgICAgICAgdmFyIGEsIGIsIGM7XG5cblx0ICAgICAgICBpZiAob3BlcmF0b3IgPT09ICc/Jykge1xuXHQgICAgICAgICAgICBjID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgYiA9IHN0YWNrLnBvcCgpO1xuXHQgICAgICAgIGlmIChvcGVyYXRvciAhPT0gJ25vdCcpIHtcblx0ICAgICAgICAgICAgYSA9IHN0YWNrLnBvcCgpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChvcGVyYXRvciAhPT0gJ2luJyAmJiBvcGVyYXRvciAhPT0gJ25vdCBpbicpIHtcblx0ICAgICAgICAgICAgaWYgKGEgJiYgQXJyYXkuaXNBcnJheShhKSkge1xuXHQgICAgICAgICAgICAgICAgYSA9IGEubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYgKGIgJiYgQXJyYXkuaXNBcnJheShiKSkge1xuXHQgICAgICAgICAgICAgICAgYiA9IGIubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgc3dpdGNoIChvcGVyYXRvcikge1xuXHQgICAgICAgICAgICBjYXNlICc6Jzpcblx0ICAgICAgICAgICAgICAgIC8vIElnbm9yZVxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnPzonOlxuXHQgICAgICAgICAgICAgICAgaWYgKFR3aWcubGliLmJvb2x2YWwoYSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIGNhc2UgJz8nOlxuXHQgICAgICAgICAgICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vQW4gZXh0ZW5kZWQgdGVybmFyeS5cblx0ICAgICAgICAgICAgICAgICAgICBhID0gYjtcblx0ICAgICAgICAgICAgICAgICAgICBiID0gYztcblx0ICAgICAgICAgICAgICAgICAgICBjID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBpZiAoVHdpZy5saWIuYm9vbHZhbChhKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYik7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICcrJzpcblx0ICAgICAgICAgICAgICAgIGIgPSBwYXJzZUZsb2F0KGIpO1xuXHQgICAgICAgICAgICAgICAgYSA9IHBhcnNlRmxvYXQoYSk7XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEgKyBiKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJy0nOlxuXHQgICAgICAgICAgICAgICAgYiA9IHBhcnNlRmxvYXQoYik7XG5cdCAgICAgICAgICAgICAgICBhID0gcGFyc2VGbG9hdChhKTtcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYSAtIGIpO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnKic6XG5cdCAgICAgICAgICAgICAgICBiID0gcGFyc2VGbG9hdChiKTtcblx0ICAgICAgICAgICAgICAgIGEgPSBwYXJzZUZsb2F0KGEpO1xuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaChhICogYik7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICcvJzpcblx0ICAgICAgICAgICAgICAgIGIgPSBwYXJzZUZsb2F0KGIpO1xuXHQgICAgICAgICAgICAgICAgYSA9IHBhcnNlRmxvYXQoYSk7XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEgLyBiKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJy8vJzpcblx0ICAgICAgICAgICAgICAgIGIgPSBwYXJzZUZsb2F0KGIpO1xuXHQgICAgICAgICAgICAgICAgYSA9IHBhcnNlRmxvYXQoYSk7XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKE1hdGguZmxvb3IoYSAvIGIpKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJyUnOlxuXHQgICAgICAgICAgICAgICAgYiA9IHBhcnNlRmxvYXQoYik7XG5cdCAgICAgICAgICAgICAgICBhID0gcGFyc2VGbG9hdChhKTtcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYSAlIGIpO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnfic6XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKCAoYSAhPSBudWxsID8gYS50b1N0cmluZygpIDogXCJcIilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICArIChiICE9IG51bGwgPyBiLnRvU3RyaW5nKCkgOiBcIlwiKSApO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnbm90Jzpcblx0ICAgICAgICAgICAgY2FzZSAnISc6XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKCFUd2lnLmxpYi5ib29sdmFsKGIpKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJzwnOlxuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaChhIDwgYik7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICc8PSc6XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEgPD0gYik7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICc+Jzpcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYSA+IGIpO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnPj0nOlxuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaChhID49IGIpO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnPT09Jzpcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYSA9PT0gYik7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICc9PSc6XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEgPT0gYik7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICchPT0nOlxuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaChhICE9PSBiKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJyE9Jzpcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYSAhPSBiKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJ29yJzpcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYSB8fCBiKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJ2Itb3InOlxuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaChhIHwgYik7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICdiLXhvcic6XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEgXiBiKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJ2FuZCc6XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEgJiYgYik7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBjYXNlICdiLWFuZCc6XG5cdCAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGEgJiBiKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJyoqJzpcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goTWF0aC5wb3coYSwgYikpO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnbm90IGluJzpcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goICFjb250YWlubWVudChhLCBiKSApO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cblx0ICAgICAgICAgICAgY2FzZSAnaW4nOlxuXHQgICAgICAgICAgICAgICAgc3RhY2sucHVzaCggY29udGFpbm1lbnQoYSwgYikgKTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cdCAgICAgICAgICAgIGNhc2UgJy4uJzpcblx0ICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goIFR3aWcuZnVuY3Rpb25zLnJhbmdlKGEsIGIpICk7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblxuXHQgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgZGVidWdnZXI7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIkZhaWxlZCB0byBwYXJzZSBvcGVyYXRvcjogXCIgKyBvcGVyYXRvciArIFwiIGlzIGFuIHVua25vd24gb3BlcmF0b3IuXCIpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIHJldHVybiBUd2lnO1xuXG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vICMjIHR3aWcuZmlsdGVycy5qc1xuXHQvL1xuXHQvLyBUaGlzIGZpbGUgaGFuZGxlcyBwYXJzaW5nIGZpbHRlcnMuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFR3aWcpIHtcblxuXHQgICAgLy8gRGV0ZXJtaW5lIG9iamVjdCB0eXBlXG5cdCAgICBmdW5jdGlvbiBpcyh0eXBlLCBvYmopIHtcblx0ICAgICAgICB2YXIgY2xhcyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopLnNsaWNlKDgsIC0xKTtcblx0ICAgICAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsICYmIGNsYXMgPT09IHR5cGU7XG5cdCAgICB9XG5cblx0ICAgIFR3aWcuZmlsdGVycyA9IHtcblx0ICAgICAgICAvLyBTdHJpbmcgRmlsdGVyc1xuXHQgICAgICAgIHVwcGVyOiAgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKCB0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIgKSB7XG5cdCAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbG93ZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICkge1xuXHQgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhcGl0YWxpemU6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICkge1xuXHQgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHZhbHVlLnRvTG93ZXJDYXNlKCkuc3Vic3RyKDEpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdGl0bGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICkge1xuXHQgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCAvKF58XFxzKShbYS16XSkvZyAsIGZ1bmN0aW9uKG0sIHAxLCBwMil7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcDEgKyBwMi50b1VwcGVyQ2FzZSgpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGxlbmd0aDogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKFR3aWcubGliLmlzKFwiQXJyYXlcIiwgdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChUd2lnLmxpYi5pcyhcIk9iamVjdFwiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5fa2V5cyA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGg7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5fa2V5cy5sZW5ndGg7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvLyBBcnJheS9PYmplY3QgRmlsdGVyc1xuXHQgICAgICAgIHJldmVyc2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmIChpcyhcIkFycmF5XCIsIHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJldmVyc2UoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpcyhcIlN0cmluZ1wiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpcyhcIk9iamVjdFwiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXlzID0gdmFsdWUuX2tleXMgfHwgT2JqZWN0LmtleXModmFsdWUpLnJldmVyc2UoKTtcblx0ICAgICAgICAgICAgICAgIHZhbHVlLl9rZXlzID0ga2V5cztcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc29ydDogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKGlzKFwiQXJyYXlcIiwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuc29ydCgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGlzKCdPYmplY3QnLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNvcnRpbmcgb2JqZWN0cyBpc24ndCBvYnZpb3VzIHNpbmNlIHRoZSBvcmRlciBvZlxuXHQgICAgICAgICAgICAgICAgLy8gcmV0dXJuZWQga2V5cyBpc24ndCBndWFyYW50ZWVkIGluIEphdmFTY3JpcHQuXG5cdCAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIG9mIHRoaXMgd2UgdXNlIGEgXCJoaWRkZW5cIiBrZXkgY2FsbGVkIF9rZXlzIHRvXG5cdCAgICAgICAgICAgICAgICAvLyBzdG9yZSB0aGUga2V5cyBpbiB0aGUgb3JkZXIgd2Ugd2FudCB0byByZXR1cm4gdGhlbS5cblxuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlLl9rZXlzO1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSksXG5cdCAgICAgICAgICAgICAgICAgICAgc29ydGVkX2tleXMgPSBrZXlzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYTEsIGEyO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGEgYW5kIGIgYXJlIGNvbXBhcmFibGUsIHdlJ3JlIGZpbmUgOi0pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh2YWx1ZVthXSA+IHZhbHVlW2JdKSA9PSAhKHZhbHVlW2FdIDw9IHZhbHVlW2JdKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW2FdID4gdmFsdWVbYl0gPyAxIDpcblx0XHRcdFx0ICAgICAgICAgICB2YWx1ZVthXSA8IHZhbHVlW2JdID8gLTEgOlxuXHRcdFx0XHRcdCAgIDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYSBhbmQgYiBjYW4gYmUgcGFyc2VkIGFzIG51bWJlcnMsIHdlIGNhbiBjb21wYXJlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZWlyIG51bWVyaWMgdmFsdWVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZighaXNOYU4oYTEgPSBwYXJzZUZsb2F0KHZhbHVlW2FdKSkgJiZcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNOYU4oYjEgPSBwYXJzZUZsb2F0KHZhbHVlW2JdKSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhMSA+IGIxID8gMSA6XG5cdFx0XHRcdCAgICAgICAgICAgYTEgPCBiMSA/IC0xIDpcblx0XHRcdFx0XHQgICAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgdmFsdWVzIGlzIGEgc3RyaW5nLCB3ZSBjb252ZXJ0IHRoZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlciB2YWx1ZSB0byBzdHJpbmcgYXMgd2VsbFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHR5cGVvZiB2YWx1ZVthXSA9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW2FdID4gdmFsdWVbYl0udG9TdHJpbmcoKSA/IDEgOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2FdIDwgdmFsdWVbYl0udG9TdHJpbmcoKSA/IC0xIDpcblx0XHRcdFx0XHQgICAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIHZhbHVlW2JdID09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbYV0udG9TdHJpbmcoKSA+IHZhbHVlW2JdID8gMSA6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbYV0udG9TdHJpbmcoKSA8IHZhbHVlW2JdID8gLTEgOlxuXHRcdFx0XHRcdCAgIDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBmYWlsZWQgLSByZXR1cm4gJ251bGwnIGFzIHNpZ24sIHRoYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlcyBhcmUgbm90IGNvbXBhcmFibGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgdmFsdWUuX2tleXMgPSBzb3J0ZWRfa2V5cztcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAga2V5czogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpe1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIga2V5c2V0ID0gdmFsdWUuX2tleXMgfHwgT2JqZWN0LmtleXModmFsdWUpLFxuXHQgICAgICAgICAgICAgICAgb3V0cHV0ID0gW107XG5cblx0ICAgICAgICAgICAgVHdpZy5mb3JFYWNoKGtleXNldCwgZnVuY3Rpb24oa2V5KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcIl9rZXlzXCIpIHJldHVybjsgLy8gSWdub3JlIHRoZSBfa2V5cyBwcm9wZXJ0eVxuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHVybF9lbmNvZGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKXtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuXHQgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShcIidcIiwgXCIlMjdcIik7XG5cdCAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBqb2luOiBmdW5jdGlvbih2YWx1ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKXtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBqb2luX3N0ciA9IFwiXCIsXG5cdCAgICAgICAgICAgICAgICBvdXRwdXQgPSBbXSxcblx0ICAgICAgICAgICAgICAgIGtleXNldCA9IG51bGw7XG5cblx0ICAgICAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXNbMF0pIHtcblx0ICAgICAgICAgICAgICAgIGpvaW5fc3RyID0gcGFyYW1zWzBdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChpcyhcIkFycmF5XCIsIHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgb3V0cHV0ID0gdmFsdWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBrZXlzZXQgPSB2YWx1ZS5fa2V5cyB8fCBPYmplY3Qua2V5cyh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICBUd2lnLmZvckVhY2goa2V5c2V0LCBmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcIl9rZXlzXCIpIHJldHVybjsgLy8gSWdub3JlIHRoZSBfa2V5cyBwcm9wZXJ0eVxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHZhbHVlW2tleV0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBvdXRwdXQuam9pbihqb2luX3N0cik7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBcImRlZmF1bHRcIjogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQgJiYgcGFyYW1zLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiZGVmYXVsdCBmaWx0ZXIgZXhwZWN0cyBvbmUgYXJndW1lbnRcIik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09ICcnICkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHBhcmFtcyA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zWzBdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBqc29uX2VuY29kZTogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpICYmIChpcyhcIkFycmF5XCIsIHZhbHVlKSkpIHtcblx0ICAgICAgICAgICAgICAgIG91dHB1dCA9IFtdO1xuXG5cdCAgICAgICAgICAgICAgICBUd2lnLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChUd2lnLmZpbHRlcnMuanNvbl9lbmNvZGUodikpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBcIltcIiArIG91dHB1dC5qb2luKFwiLFwiKSArIFwiXVwiO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleXNldCA9IHZhbHVlLl9rZXlzIHx8IE9iamVjdC5rZXlzKHZhbHVlKSxcblx0ICAgICAgICAgICAgICAgIG91dHB1dCA9IFtdO1xuXG5cdCAgICAgICAgICAgICAgICBUd2lnLmZvckVhY2goa2V5c2V0LCBmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChKU09OLnN0cmluZ2lmeShrZXkpICsgXCI6XCIgKyBUd2lnLmZpbHRlcnMuanNvbl9lbmNvZGUodmFsdWVba2V5XSkpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBcIntcIiArIG91dHB1dC5qb2luKFwiLFwiKSArIFwifVwiO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbWVyZ2U6IGZ1bmN0aW9uKHZhbHVlLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgdmFyIG9iaiA9IFtdLFxuXHQgICAgICAgICAgICAgICAgYXJyX2luZGV4ID0gMCxcblx0ICAgICAgICAgICAgICAgIGtleXNldCA9IFtdO1xuXG5cdCAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBhbGwgdGhlIG9iamVjdHMgYmVpbmcgbWVyZ2VkIGFyZSBhcnJheXNcblx0ICAgICAgICAgICAgaWYgKCFpcyhcIkFycmF5XCIsIHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG9iaiBhcyBhbiBPYmplY3Rcblx0ICAgICAgICAgICAgICAgIG9iaiA9IHsgfTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIFR3aWcuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uKHBhcmFtKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFpcyhcIkFycmF5XCIsIHBhcmFtKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7IH07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFpcyhcIkFycmF5XCIsIG9iaikpIHtcblx0ICAgICAgICAgICAgICAgIG9iai5fa2V5cyA9IFtdO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYgKGlzKFwiQXJyYXlcIiwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICBUd2lnLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChvYmouX2tleXMpIG9iai5fa2V5cy5wdXNoKGFycl9pbmRleCk7XG5cdCAgICAgICAgICAgICAgICAgICAgb2JqW2Fycl9pbmRleF0gPSB2YWw7XG5cdCAgICAgICAgICAgICAgICAgICAgYXJyX2luZGV4Kys7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGtleXNldCA9IHZhbHVlLl9rZXlzIHx8IE9iamVjdC5rZXlzKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIFR3aWcuZm9yRWFjaChrZXlzZXQsIGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWVba2V5XTtcblx0ICAgICAgICAgICAgICAgICAgICBvYmouX2tleXMucHVzaChrZXkpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGVkZ2UgY2FzZSB3aGVyZSBhIG51bWJlciBpbmRleCBpbiBhbiBvYmplY3QgaXMgZ3JlYXRlciB0aGFuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gICB0aGUgYXJyYXkgY291bnRlci4gSW4gc3VjaCBhIGNhc2UsIHRoZSBhcnJheSBjb3VudGVyIGlzIGluY3JlYXNlZFxuXHQgICAgICAgICAgICAgICAgICAgIC8vICAgb25lIHBhc3QgdGhlIGluZGV4LlxuXHQgICAgICAgICAgICAgICAgICAgIC8vXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gRXhhbXBsZSB7eyBbXCJhXCIsIFwiYlwiXXxtZXJnZSh7XCI0XCI6XCJ2YWx1ZVwifSwgW1wiY1wiLCBcImRcIl0pXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gV2l0aG91dCB0aGlzLCBkIHdvdWxkIGhhdmUgYW4gaW5kZXggb2YgXCI0XCIgYW5kIG92ZXJ3cml0ZSB0aGUgdmFsdWVcblx0ICAgICAgICAgICAgICAgICAgICAvLyAgIG9mIFwidmFsdWVcIlxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBpbnRfa2V5ID0gcGFyc2VJbnQoa2V5LCAxMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihpbnRfa2V5KSAmJiBpbnRfa2V5ID49IGFycl9pbmRleCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhcnJfaW5kZXggPSBpbnRfa2V5ICsgMTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIG1peGluIHRoZSBtZXJnZSBhcnJheXNcblx0ICAgICAgICAgICAgVHdpZy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24ocGFyYW0pIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpcyhcIkFycmF5XCIsIHBhcmFtKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcuZm9yRWFjaChwYXJhbSwgZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouX2tleXMpIG9iai5fa2V5cy5wdXNoKGFycl9pbmRleCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9ialthcnJfaW5kZXhdID0gdmFsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhcnJfaW5kZXgrKztcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5c2V0ID0gcGFyYW0uX2tleXMgfHwgT2JqZWN0LmtleXMocGFyYW0pO1xuXHQgICAgICAgICAgICAgICAgICAgIFR3aWcuZm9yRWFjaChrZXlzZXQsIGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9ialtrZXldKSBvYmouX2tleXMucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHBhcmFtW2tleV07XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGludF9rZXkgPSBwYXJzZUludChrZXksIDEwKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihpbnRfa2V5KSAmJiBpbnRfa2V5ID49IGFycl9pbmRleCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyX2luZGV4ID0gaW50X2tleSArIDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIkZpbHRlciBtZXJnZSBleHBlY3RzIGF0IGxlYXN0IG9uZSBwYXJhbWV0ZXJcIik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gb2JqO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZGF0ZTogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICB2YXIgZGF0ZSA9IFR3aWcuZnVuY3Rpb25zLmRhdGUodmFsdWUpO1xuXHQgICAgICAgICAgICB2YXIgZm9ybWF0ID0gcGFyYW1zICYmIHBhcmFtcy5sZW5ndGggPyBwYXJhbXNbMF0gOiAnRiBqLCBZIEg6aSc7XG5cdCAgICAgICAgICAgIHJldHVybiBUd2lnLmxpYi5kYXRlKGZvcm1hdCwgZGF0ZSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGRhdGVfbW9kaWZ5OiBmdW5jdGlvbih2YWx1ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHBhcmFtcyA9PT0gdW5kZWZpbmVkIHx8IHBhcmFtcy5sZW5ndGggIT09IDEpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiZGF0ZV9tb2RpZnkgZmlsdGVyIGV4cGVjdHMgMSBhcmd1bWVudFwiKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBtb2RpZnlUZXh0ID0gcGFyYW1zWzBdLCB0aW1lO1xuXG5cdCAgICAgICAgICAgIGlmIChUd2lnLmxpYi5pcyhcIkRhdGVcIiwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICB0aW1lID0gVHdpZy5saWIuc3RydG90aW1lKG1vZGlmeVRleHQsIHZhbHVlLmdldFRpbWUoKSAvIDEwMDApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChUd2lnLmxpYi5pcyhcIlN0cmluZ1wiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHRpbWUgPSBUd2lnLmxpYi5zdHJ0b3RpbWUobW9kaWZ5VGV4dCwgVHdpZy5saWIuc3RydG90aW1lKHZhbHVlKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKFR3aWcubGliLmlzKFwiTnVtYmVyXCIsIHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgdGltZSA9IFR3aWcubGliLnN0cnRvdGltZShtb2RpZnlUZXh0LCB2YWx1ZSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGltZSAqIDEwMDApO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICByZXBsYWNlOiBmdW5jdGlvbih2YWx1ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkfHx2YWx1ZSA9PT0gbnVsbCl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgcGFpcnMgPSBwYXJhbXNbMF0sXG5cdCAgICAgICAgICAgICAgICB0YWc7XG5cdCAgICAgICAgICAgIGZvciAodGFnIGluIHBhaXJzKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAocGFpcnMuaGFzT3duUHJvcGVydHkodGFnKSAmJiB0YWcgIT09IFwiX2tleXNcIikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gVHdpZy5saWIucmVwbGFjZUFsbCh2YWx1ZSwgdGFnLCBwYWlyc1t0YWddKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGZvcm1hdDogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5saWIudnNwcmludGYodmFsdWUsIHBhcmFtcyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIHN0cmlwdGFnczogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpe1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIFR3aWcubGliLnN0cmlwX3RhZ3ModmFsdWUpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBlc2NhcGU6IGZ1bmN0aW9uKHZhbHVlLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWR8fCB2YWx1ZSA9PT0gbnVsbCl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgc3RyYXRlZ3kgPSBcImh0bWxcIjtcblx0ICAgICAgICAgICAgaWYocGFyYW1zICYmIHBhcmFtcy5sZW5ndGggJiYgcGFyYW1zWzBdICE9PSB0cnVlKVxuXHQgICAgICAgICAgICAgICAgc3RyYXRlZ3kgPSBwYXJhbXNbMF07XG5cblx0ICAgICAgICAgICAgaWYoc3RyYXRlZ3kgPT0gXCJodG1sXCIpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByYXdfdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCImIzAzOTtcIik7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5NYXJrdXAocmF3X3ZhbHVlLCAnaHRtbCcpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYoc3RyYXRlZ3kgPT0gXCJqc1wiKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmF3X3ZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblx0ICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuXG5cdCAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcmF3X3ZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYocmF3X3ZhbHVlW2ldLm1hdGNoKC9eW2EtekEtWjAtOSxcXC5fXSQvKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHJhd192YWx1ZVtpXTtcblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJfY29kZSA9IHJhd192YWx1ZS5jaGFyQ29kZUF0KGkpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNoYXJfY29kZSA8IDB4ODApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCJcXFxceFwiICsgY2hhcl9jb2RlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gVHdpZy5saWIuc3ByaW50ZihcIlxcXFx1JTA0c1wiLCBjaGFyX2NvZGUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuTWFya3VwKHJlc3VsdCwgJ2pzJyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZihzdHJhdGVneSA9PSBcImNzc1wiKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmF3X3ZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblx0ICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuXG5cdCAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcmF3X3ZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYocmF3X3ZhbHVlW2ldLm1hdGNoKC9eW2EtekEtWjAtOV0kLykpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSByYXdfdmFsdWVbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyX2NvZGUgPSByYXdfdmFsdWUuY2hhckNvZGVBdChpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiXFxcXFwiICsgY2hhcl9jb2RlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpICsgXCIgXCI7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5NYXJrdXAocmVzdWx0LCAnY3NzJyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZihzdHJhdGVneSA9PSBcInVybFwiKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gVHdpZy5maWx0ZXJzLnVybF9lbmNvZGUodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuTWFya3VwKHJlc3VsdCwgJ3VybCcpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYoc3RyYXRlZ3kgPT0gXCJodG1sX2F0dHJcIikge1xuXHQgICAgICAgICAgICAgICAgdmFyIHJhd192YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuXHQgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJhd192YWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKHJhd192YWx1ZVtpXS5tYXRjaCgvXlthLXpBLVowLTksXFwuXFwtX10kLykpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSByYXdfdmFsdWVbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihyYXdfdmFsdWVbaV0ubWF0Y2goL15bJjw+XCJdJC8pKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gcmF3X3ZhbHVlW2ldLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csIFwiJmx0O1wiKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKTtcblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJfY29kZSA9IHJhd192YWx1ZS5jaGFyQ29kZUF0KGkpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgcmVwbGFjZXMgY2hhcmFjdGVycyB1bmRlZmluZWQgaW4gSFRNTCB3aXRoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBoZXggZW50aXR5IGZvciB0aGUgVW5pY29kZSByZXBsYWNlbWVudCBjaGFyYWN0ZXIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNoYXJfY29kZSA8PSAweDFmICYmIGNoYXJfY29kZSAhPSAweDA5ICYmIGNoYXJfY29kZSAhPSAweDBhICYmIGNoYXJfY29kZSAhPSAweDBkKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiJiN4RkZGRDtcIjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihjaGFyX2NvZGUgPCAweDgwKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFR3aWcubGliLnNwcmludGYoXCImI3glMDJzO1wiLCBjaGFyX2NvZGUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gVHdpZy5saWIuc3ByaW50ZihcIiYjeCUwNHM7XCIsIGNoYXJfY29kZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5NYXJrdXAocmVzdWx0LCAnaHRtbF9hdHRyJyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcImVzY2FwZSBzdHJhdGVneSB1bnN1cHBvcnRlZFwiKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKiBBbGlhcyBvZiBlc2NhcGUgKi9cblx0ICAgICAgICBcImVcIjogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5maWx0ZXJzLmVzY2FwZSh2YWx1ZSwgcGFyYW1zKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgbmwyYnI6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKXtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgbGluZWJyZWFrX3RhZyA9IFwiQkFDS1NMQVNIX25fcmVwbGFjZVwiLFxuXHQgICAgICAgICAgICAgICAgYnIgPSBcIjxiciAvPlwiICsgbGluZWJyZWFrX3RhZztcblxuXHQgICAgICAgICAgICB2YWx1ZSA9IFR3aWcuZmlsdGVycy5lc2NhcGUodmFsdWUpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHJcXG4vZywgYnIpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgYnIpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgYnIpO1xuXG5cdCAgICAgICAgICAgIHZhbHVlID0gVHdpZy5saWIucmVwbGFjZUFsbCh2YWx1ZSwgbGluZWJyZWFrX3RhZywgXCJcXG5cIik7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIFR3aWcuTWFya3VwKHZhbHVlKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQWRhcHRlZCBmcm9tOiBodHRwOi8vcGhwanMub3JnL2Z1bmN0aW9ucy9udW1iZXJfZm9ybWF0OjQ4MVxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIG51bWJlcl9mb3JtYXQ6IGZ1bmN0aW9uKHZhbHVlLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgdmFyIG51bWJlciA9IHZhbHVlLFxuXHQgICAgICAgICAgICAgICAgZGVjaW1hbHMgPSAocGFyYW1zICYmIHBhcmFtc1swXSkgPyBwYXJhbXNbMF0gOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICBkZWMgICAgICA9IChwYXJhbXMgJiYgcGFyYW1zWzFdICE9PSB1bmRlZmluZWQpID8gcGFyYW1zWzFdIDogXCIuXCIsXG5cdCAgICAgICAgICAgICAgICBzZXAgICAgICA9IChwYXJhbXMgJiYgcGFyYW1zWzJdICE9PSB1bmRlZmluZWQpID8gcGFyYW1zWzJdIDogXCIsXCI7XG5cblx0ICAgICAgICAgICAgbnVtYmVyID0gKG51bWJlciArICcnKS5yZXBsYWNlKC9bXjAtOStcXC1FZS5dL2csICcnKTtcblx0ICAgICAgICAgICAgdmFyIG4gPSAhaXNGaW5pdGUoK251bWJlcikgPyAwIDogK251bWJlcixcblx0ICAgICAgICAgICAgICAgIHByZWMgPSAhaXNGaW5pdGUoK2RlY2ltYWxzKSA/IDAgOiBNYXRoLmFicyhkZWNpbWFscyksXG5cdCAgICAgICAgICAgICAgICBzID0gJycsXG5cdCAgICAgICAgICAgICAgICB0b0ZpeGVkRml4ID0gZnVuY3Rpb24gKG4sIHByZWMpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgayA9IE1hdGgucG93KDEwLCBwcmVjKTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gJycgKyBNYXRoLnJvdW5kKG4gKiBrKSAvIGs7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvLyBGaXggZm9yIElFIHBhcnNlRmxvYXQoMC41NSkudG9GaXhlZCgwKSA9IDA7XG5cdCAgICAgICAgICAgIHMgPSAocHJlYyA/IHRvRml4ZWRGaXgobiwgcHJlYykgOiAnJyArIE1hdGgucm91bmQobikpLnNwbGl0KCcuJyk7XG5cdCAgICAgICAgICAgIGlmIChzWzBdLmxlbmd0aCA+IDMpIHtcblx0ICAgICAgICAgICAgICAgIHNbMF0gPSBzWzBdLnJlcGxhY2UoL1xcQig/PSg/OlxcZHszfSkrKD8hXFxkKSkvZywgc2VwKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoKHNbMV0gfHwgJycpLmxlbmd0aCA8IHByZWMpIHtcblx0ICAgICAgICAgICAgICAgIHNbMV0gPSBzWzFdIHx8ICcnO1xuXHQgICAgICAgICAgICAgICAgc1sxXSArPSBuZXcgQXJyYXkocHJlYyAtIHNbMV0ubGVuZ3RoICsgMSkuam9pbignMCcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBzLmpvaW4oZGVjKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgdHJpbTogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZHx8IHZhbHVlID09PSBudWxsKXtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBzdHIgPSBUd2lnLmZpbHRlcnMuZXNjYXBlKCAnJyArIHZhbHVlICksXG5cdCAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlO1xuXHQgICAgICAgICAgICBpZiAoIHBhcmFtcyAmJiBwYXJhbXNbMF0gKSB7XG5cdCAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlID0gJycgKyBwYXJhbXNbMF07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlID0gJyBcXG5cXHJcXHRcXGZcXHgwYlxceGEwXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDBiXFx1MjAyOFxcdTIwMjlcXHUzMDAwJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKHdoaXRlc3BhY2UuaW5kZXhPZihzdHIuY2hhckF0KGkpKSA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKGkpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGZvciAoaSA9IHN0ci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHdoaXRlc3BhY2UuaW5kZXhPZihzdHIuY2hhckF0KGkpKSA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkgKyAxKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gd2hpdGVzcGFjZS5pbmRleE9mKHN0ci5jaGFyQXQoMCkpID09PSAtMSA/IHN0ciA6ICcnO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICB0cnVuY2F0ZTogZnVuY3Rpb24gKHZhbHVlLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgdmFyIGxlbmd0aCA9IDMwLFxuXHQgICAgICAgICAgICAgICAgcHJlc2VydmUgPSBmYWxzZSxcblx0ICAgICAgICAgICAgICAgIHNlcGFyYXRvciA9ICcuLi4nO1xuXG5cdCAgICAgICAgICAgIHZhbHVlID0gIHZhbHVlICsgJyc7XG5cdCAgICAgICAgICAgIGlmIChwYXJhbXMpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChwYXJhbXNbMF0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBwYXJhbXNbMF07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAocGFyYW1zWzFdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcHJlc2VydmUgPSBwYXJhbXNbMV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAocGFyYW1zWzJdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yID0gcGFyYW1zWzJdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IGxlbmd0aCkge1xuXG5cdCAgICAgICAgICAgICAgICBpZiAocHJlc2VydmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSB2YWx1ZS5pbmRleE9mKCcgJywgbGVuZ3RoKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICB2YWx1ZSA9ICB2YWx1ZS5zdWJzdHIoMCwgbGVuZ3RoKSArIHNlcGFyYXRvcjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgc2xpY2U6IGZ1bmN0aW9uKHZhbHVlLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAocGFyYW1zID09PSB1bmRlZmluZWQgfHwgcGFyYW1zLmxlbmd0aCA8IDEpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwic2xpY2UgZmlsdGVyIGV4cGVjdHMgYXQgbGVhc3QgMSBhcmd1bWVudFwiKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gc3RhcnQgb2Ygc3RyaW5nXG5cdCAgICAgICAgICAgIHZhciBzdGFydCA9IHBhcmFtc1swXSB8fCAwO1xuXHQgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGxlbmd0aCBvZiBzdHJpbmdcblx0ICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHBhcmFtcy5sZW5ndGggPiAxID8gcGFyYW1zWzFdIDogdmFsdWUubGVuZ3RoO1xuXHQgICAgICAgICAgICAvLyBoYW5kbGUgbmVnYXRpdmUgc3RhcnQgdmFsdWVzXG5cdCAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gc3RhcnQgPj0gMCA/IHN0YXJ0IDogTWF0aC5tYXgoIHZhbHVlLmxlbmd0aCArIHN0YXJ0LCAwICk7XG5cblx0ICAgICAgICAgICAgaWYgKFR3aWcubGliLmlzKFwiQXJyYXlcIiwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgb3V0cHV0ID0gW107XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHN0YXJ0SW5kZXggKyBsZW5ndGggJiYgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2godmFsdWVbaV0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChUd2lnLmxpYi5pcyhcIlN0cmluZ1wiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoc3RhcnRJbmRleCwgbGVuZ3RoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwic2xpY2UgZmlsdGVyIGV4cGVjdHMgdmFsdWUgdG8gYmUgYW4gYXJyYXkgb3Igc3RyaW5nXCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGFiczogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh2YWx1ZSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGZpcnN0OiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICBpZiAoaXMoXCJBcnJheVwiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpcyhcIk9iamVjdFwiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICgnX2tleXMnIGluIHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW3ZhbHVlLl9rZXlzWzBdXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cigwLCAxKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgc3BsaXQ6IGZ1bmN0aW9uKHZhbHVlLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAocGFyYW1zID09PSB1bmRlZmluZWQgfHwgcGFyYW1zLmxlbmd0aCA8IDEgfHwgcGFyYW1zLmxlbmd0aCA+IDIpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwic3BsaXQgZmlsdGVyIGV4cGVjdHMgMSBvciAyIGFyZ3VtZW50XCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChUd2lnLmxpYi5pcyhcIlN0cmluZ1wiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkZWxpbWl0ZXIgPSBwYXJhbXNbMF0sXG5cdCAgICAgICAgICAgICAgICAgICAgbGltaXQgPSBwYXJhbXNbMV0sXG5cdCAgICAgICAgICAgICAgICAgICAgc3BsaXQgPSB2YWx1ZS5zcGxpdChkZWxpbWl0ZXIpO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwbGl0O1xuXG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbWl0IDwgMCkge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnNwbGl0KGRlbGltaXRlciwgc3BsaXQubGVuZ3RoICsgbGltaXQpO1xuXG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGxpbWl0ZWRTcGxpdCA9IFtdO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGltaXRlciA9PSAnJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBkZWxpbWl0ZXJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJhYWJiY2NcInxzcGxpdCgnJywgMilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC0+IFsnYWEnLCAnYmInLCAnY2MnXVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKHNwbGl0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gXCJcIjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxsaW1pdCAmJiBzcGxpdC5sZW5ndGggPiAwOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wICs9IHNwbGl0LnNoaWZ0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdGVkU3BsaXQucHVzaCh0ZW1wKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uLWVtcHR5IGRlbGltaXRlclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIm9uZSx0d28sdGhyZWUsZm91cixmaXZlXCJ8c3BsaXQoJywnLCAzKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLT4gWydvbmUnLCAndHdvJywgJ3RocmVlLGZvdXIsZml2ZSddXG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGxpbWl0LTEgJiYgc3BsaXQubGVuZ3RoID4gMDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdGVkU3BsaXQucHVzaChzcGxpdC5zaGlmdCgpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdC5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdGVkU3BsaXQucHVzaChzcGxpdC5qb2luKGRlbGltaXRlcikpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbWl0ZWRTcGxpdDtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJzcGxpdCBmaWx0ZXIgZXhwZWN0cyB2YWx1ZSB0byBiZSBhIHN0cmluZ1wiKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbGFzdDogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKFR3aWcubGliLmlzKCdPYmplY3QnLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXlzO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWUuX2tleXMgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGtleXMgPSB2YWx1ZS5fa2V5cztcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW2tleXNba2V5cy5sZW5ndGggLSAxXV07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBzdHJpbmd8YXJyYXlcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmF3OiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5NYXJrdXAodmFsdWUpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgYmF0Y2g6IGZ1bmN0aW9uKGl0ZW1zLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgdmFyIHNpemUgPSBwYXJhbXMuc2hpZnQoKSxcblx0ICAgICAgICAgICAgICAgIGZpbGwgPSBwYXJhbXMuc2hpZnQoKSxcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCxcblx0ICAgICAgICAgICAgICAgIGxhc3QsXG5cdCAgICAgICAgICAgICAgICBtaXNzaW5nO1xuXG5cdCAgICAgICAgICAgIGlmICghVHdpZy5saWIuaXMoXCJBcnJheVwiLCBpdGVtcykpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiYmF0Y2ggZmlsdGVyIGV4cGVjdHMgaXRlbXMgdG8gYmUgYW4gYXJyYXlcIik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBpZiAoIVR3aWcubGliLmlzKFwiTnVtYmVyXCIsIHNpemUpKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcImJhdGNoIGZpbHRlciBleHBlY3RzIHNpemUgdG8gYmUgYSBudW1iZXJcIik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBzaXplID0gTWF0aC5jZWlsKHNpemUpO1xuXG5cdCAgICAgICAgICAgIHJlc3VsdCA9IFR3aWcubGliLmNodW5rQXJyYXkoaXRlbXMsIHNpemUpO1xuXG5cdCAgICAgICAgICAgIGlmIChmaWxsICYmIGl0ZW1zLmxlbmd0aCAlIHNpemUgIT0gMCkge1xuXHQgICAgICAgICAgICAgICAgbGFzdCA9IHJlc3VsdC5wb3AoKTtcblx0ICAgICAgICAgICAgICAgIG1pc3NpbmcgPSBzaXplIC0gbGFzdC5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgICAgIHdoaWxlIChtaXNzaW5nLS0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBsYXN0LnB1c2goZmlsbCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxhc3QpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHJvdW5kOiBmdW5jdGlvbih2YWx1ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCBbXTtcblxuXHQgICAgICAgICAgICB2YXIgcHJlY2lzaW9uID0gcGFyYW1zLmxlbmd0aCA+IDAgPyBwYXJhbXNbMF0gOiAwLFxuXHQgICAgICAgICAgICAgICAgbWV0aG9kID0gcGFyYW1zLmxlbmd0aCA+IDEgPyBwYXJhbXNbMV0gOiBcImNvbW1vblwiO1xuXG5cdCAgICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cblx0ICAgICAgICAgICAgaWYocHJlY2lzaW9uICYmICFUd2lnLmxpYi5pcyhcIk51bWJlclwiLCBwcmVjaXNpb24pKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcInJvdW5kIGZpbHRlciBleHBlY3RzIHByZWNpc2lvbiB0byBiZSBhIG51bWJlclwiKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFwiY29tbW9uXCIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmxpYi5yb3VuZCh2YWx1ZSwgcHJlY2lzaW9uKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmKCFUd2lnLmxpYi5pcyhcIkZ1bmN0aW9uXCIsIE1hdGhbbWV0aG9kXSkpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwicm91bmQgZmlsdGVyIGV4cGVjdHMgbWV0aG9kIHRvIGJlICdmbG9vcicsICdjZWlsJywgb3IgJ2NvbW1vbidcIik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gTWF0aFttZXRob2RdKHZhbHVlICogTWF0aC5wb3coMTAsIHByZWNpc2lvbikpIC8gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgVHdpZy5maWx0ZXIgPSBmdW5jdGlvbihmaWx0ZXIsIHZhbHVlLCBwYXJhbXMpIHtcblx0ICAgICAgICBpZiAoIVR3aWcuZmlsdGVyc1tmaWx0ZXJdKSB7XG5cdCAgICAgICAgICAgIHRocm93IFwiVW5hYmxlIHRvIGZpbmQgZmlsdGVyIFwiICsgZmlsdGVyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gVHdpZy5maWx0ZXJzW2ZpbHRlcl0uYXBwbHkodGhpcywgW3ZhbHVlLCBwYXJhbXNdKTtcblx0ICAgIH07XG5cblx0ICAgIFR3aWcuZmlsdGVyLmV4dGVuZCA9IGZ1bmN0aW9uKGZpbHRlciwgZGVmaW5pdGlvbikge1xuXHQgICAgICAgIFR3aWcuZmlsdGVyc1tmaWx0ZXJdID0gZGVmaW5pdGlvbjtcblx0ICAgIH07XG5cblx0ICAgIHJldHVybiBUd2lnO1xuXG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vICMjIHR3aWcuZnVuY3Rpb25zLmpzXG5cdC8vXG5cdC8vIFRoaXMgZmlsZSBoYW5kbGVzIHBhcnNpbmcgZmlsdGVycy5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVHdpZykge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAY29uc3RhbnRcblx0ICAgICAqIEB0eXBlIHtzdHJpbmd9XG5cdCAgICAgKi9cblx0ICAgIHZhciBURU1QTEFURV9OT1RfRk9VTkRfTUVTU0FHRSA9ICdUZW1wbGF0ZSBcIntuYW1lfVwiIGlzIG5vdCBkZWZpbmVkLic7XG5cblx0ICAgIC8vIERldGVybWluZSBvYmplY3QgdHlwZVxuXHQgICAgZnVuY3Rpb24gaXModHlwZSwgb2JqKSB7XG5cdCAgICAgICAgdmFyIGNsYXMgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKS5zbGljZSg4LCAtMSk7XG5cdCAgICAgICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbCAmJiBjbGFzID09PSB0eXBlO1xuXHQgICAgfVxuXG5cdCAgICBUd2lnLmZ1bmN0aW9ucyA9IHtcblx0ICAgICAgICAvLyAgYXR0cmlidXRlLCBibG9jaywgY29uc3RhbnQsIGRhdGUsIGR1bXAsIHBhcmVudCwgcmFuZG9tLC5cblxuXHQgICAgICAgIC8vIFJhbmdlIGZ1bmN0aW9uIGZyb20gaHR0cDovL3BocGpzLm9yZy9mdW5jdGlvbnMvcmFuZ2U6NDk5XG5cdCAgICAgICAgLy8gVXNlZCB1bmRlciBhbiBNSVQgTGljZW5zZVxuXHQgICAgICAgIHJhbmdlOiBmdW5jdGlvbiAobG93LCBoaWdoLCBzdGVwKSB7XG5cdCAgICAgICAgICAgIC8vIGh0dHA6Ly9rZXZpbi52YW56b25uZXZlbGQubmV0XG5cdCAgICAgICAgICAgIC8vICsgICBvcmlnaW5hbCBieTogV2FsZG8gTWFscXVpIFNpbHZhXG5cdCAgICAgICAgICAgIC8vICogICAgIGV4YW1wbGUgMTogcmFuZ2UgKCAwLCAxMiApO1xuXHQgICAgICAgICAgICAvLyAqICAgICByZXR1cm5zIDE6IFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyXVxuXHQgICAgICAgICAgICAvLyAqICAgICBleGFtcGxlIDI6IHJhbmdlKCAwLCAxMDAsIDEwICk7XG5cdCAgICAgICAgICAgIC8vICogICAgIHJldHVybnMgMjogWzAsIDEwLCAyMCwgMzAsIDQwLCA1MCwgNjAsIDcwLCA4MCwgOTAsIDEwMF1cblx0ICAgICAgICAgICAgLy8gKiAgICAgZXhhbXBsZSAzOiByYW5nZSggJ2EnLCAnaScgKTtcblx0ICAgICAgICAgICAgLy8gKiAgICAgcmV0dXJucyAzOiBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCcsICdpJ11cblx0ICAgICAgICAgICAgLy8gKiAgICAgZXhhbXBsZSA0OiByYW5nZSggJ2MnLCAnYScgKTtcblx0ICAgICAgICAgICAgLy8gKiAgICAgcmV0dXJucyA0OiBbJ2MnLCAnYicsICdhJ11cblx0ICAgICAgICAgICAgdmFyIG1hdHJpeCA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgaW5pdmFsLCBlbmR2YWwsIHBsdXM7XG5cdCAgICAgICAgICAgIHZhciB3YWxrZXIgPSBzdGVwIHx8IDE7XG5cdCAgICAgICAgICAgIHZhciBjaGFycyA9IGZhbHNlO1xuXG5cdCAgICAgICAgICAgIGlmICghaXNOYU4obG93KSAmJiAhaXNOYU4oaGlnaCkpIHtcblx0ICAgICAgICAgICAgICAgIGluaXZhbCA9IHBhcnNlSW50KGxvdywgMTApO1xuXHQgICAgICAgICAgICAgICAgZW5kdmFsID0gcGFyc2VJbnQoaGlnaCwgMTApO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKGxvdykgJiYgaXNOYU4oaGlnaCkpIHtcblx0ICAgICAgICAgICAgICAgIGNoYXJzID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIGluaXZhbCA9IGxvdy5jaGFyQ29kZUF0KDApO1xuXHQgICAgICAgICAgICAgICAgZW5kdmFsID0gaGlnaC5jaGFyQ29kZUF0KDApO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaW5pdmFsID0gKGlzTmFOKGxvdykgPyAwIDogbG93KTtcblx0ICAgICAgICAgICAgICAgIGVuZHZhbCA9IChpc05hTihoaWdoKSA/IDAgOiBoaWdoKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHBsdXMgPSAoKGluaXZhbCA+IGVuZHZhbCkgPyBmYWxzZSA6IHRydWUpO1xuXHQgICAgICAgICAgICBpZiAocGx1cykge1xuXHQgICAgICAgICAgICAgICAgd2hpbGUgKGluaXZhbCA8PSBlbmR2YWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVzaCgoKGNoYXJzKSA/IFN0cmluZy5mcm9tQ2hhckNvZGUoaW5pdmFsKSA6IGluaXZhbCkpO1xuXHQgICAgICAgICAgICAgICAgICAgIGluaXZhbCArPSB3YWxrZXI7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB3aGlsZSAoaW5pdmFsID49IGVuZHZhbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXNoKCgoY2hhcnMpID8gU3RyaW5nLmZyb21DaGFyQ29kZShpbml2YWwpIDogaW5pdmFsKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaW5pdmFsIC09IHdhbGtlcjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBtYXRyaXg7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjeWNsZTogZnVuY3Rpb24oYXJyLCBpKSB7XG5cdCAgICAgICAgICAgIHZhciBwb3MgPSBpICUgYXJyLmxlbmd0aDtcblx0ICAgICAgICAgICAgcmV0dXJuIGFycltwb3NdO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZHVtcDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBFT0wgPSAnXFxuJyxcblx0ICAgICAgICAgICAgICAgIGluZGVudENoYXIgPSAnICAnLFxuXHQgICAgICAgICAgICAgICAgaW5kZW50VGltZXMgPSAwLFxuXHQgICAgICAgICAgICAgICAgb3V0ID0gJycsXG5cdCAgICAgICAgICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxcblx0ICAgICAgICAgICAgICAgIGluZGVudCA9IGZ1bmN0aW9uKHRpbWVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGluZCAgPSAnJztcblx0ICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGltZXMgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzLS07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluZCArPSBpbmRlbnRDaGFyO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGRpc3BsYXlWYXIgPSBmdW5jdGlvbih2YXJpYWJsZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIG91dCArPSBpbmRlbnQoaW5kZW50VGltZXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBkdW1wVmFyKHZhcmlhYmxlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih2YXJpYWJsZSkgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdmdW5jdGlvbigpJyArIEVPTDtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih2YXJpYWJsZSkgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnc3RyaW5nKCcgKyB2YXJpYWJsZS5sZW5ndGggKyAnKSBcIicgKyB2YXJpYWJsZSArICdcIicgKyBFT0w7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAnbnVtYmVyJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJ251bWJlcignICsgdmFyaWFibGUgKyAnKScgKyBFT0w7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdib29sKCcgKyB2YXJpYWJsZSArICcpJyArIEVPTDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgZHVtcFZhciA9IGZ1bmN0aW9uKHZhcmlhYmxlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnTlVMTCcgKyBFT0w7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YXJpYWJsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAndW5kZWZpbmVkJyArIEVPTDtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YXJpYWJsZSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9IGluZGVudChpbmRlbnRUaW1lcykgKyB0eXBlb2YodmFyaWFibGUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnRUaW1lcysrO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJygnICsgKGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSAwLCBrZXk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSsrO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KSh2YXJpYWJsZSkgKyAnKSB7JyArIEVPTDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpIGluIHZhcmlhYmxlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gaW5kZW50KGluZGVudFRpbWVzKSArICdbJyArIGkgKyAnXT0+ICcgKyBFT0w7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VmFyKHZhcmlhYmxlW2ldKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnRUaW1lcy0tO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gaW5kZW50KGluZGVudFRpbWVzKSArICd9JyArIEVPTDtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VmFyKHZhcmlhYmxlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgIC8vIGhhbmRsZSBubyBhcmd1bWVudCBjYXNlIGJ5IGR1bXBpbmcgdGhlIGVudGlyZSByZW5kZXIgY29udGV4dFxuXHQgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT0gMCkgYXJncy5wdXNoKHRoaXMuY29udGV4dCk7XG5cblx0ICAgICAgICAgICAgVHdpZy5mb3JFYWNoKGFyZ3MsIGZ1bmN0aW9uKHZhcmlhYmxlKSB7XG5cdCAgICAgICAgICAgICAgICBkdW1wVmFyKHZhcmlhYmxlKTtcblx0ICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIG91dDtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGRhdGU6IGZ1bmN0aW9uKGRhdGUsIHRpbWUpIHtcblx0ICAgICAgICAgICAgdmFyIGRhdGVPYmo7XG5cdCAgICAgICAgICAgIGlmIChkYXRlID09PSB1bmRlZmluZWQgfHwgZGF0ZSA9PT0gbnVsbCB8fCBkYXRlID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChUd2lnLmxpYi5pcyhcIkRhdGVcIiwgZGF0ZSkpIHtcblx0ICAgICAgICAgICAgICAgIGRhdGVPYmogPSBkYXRlO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKFR3aWcubGliLmlzKFwiU3RyaW5nXCIsIGRhdGUpKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZGF0ZS5tYXRjaCgvXlswLTldKyQvKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGVPYmogPSBuZXcgRGF0ZShkYXRlICogMTAwMCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoVHdpZy5saWIuc3RydG90aW1lKGRhdGUpICogMTAwMCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoVHdpZy5saWIuaXMoXCJOdW1iZXJcIiwgZGF0ZSkpIHtcblx0ICAgICAgICAgICAgICAgIC8vIHRpbWVzdGFtcFxuXHQgICAgICAgICAgICAgICAgZGF0ZU9iaiA9IG5ldyBEYXRlKGRhdGUgKiAxMDAwKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIGRhdGUgXCIgKyBkYXRlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZGF0ZU9iajtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGJsb2NrOiBmdW5jdGlvbihibG9jaykge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEJsb2NrVG9rZW5zW2Jsb2NrXSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcubG9naWMucGFyc2UuYXBwbHkodGhpcywgW3RoaXMub3JpZ2luYWxCbG9ja1Rva2Vuc1tibG9ja10sIHRoaXMuY29udGV4dF0pLm91dHB1dDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2Nrc1tibG9ja107XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHBhcmVudDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIC8vIEFkZCBhIHBsYWNlaG9sZGVyXG5cdCAgICAgICAgICAgIHJldHVybiBUd2lnLnBsYWNlaG9sZGVycy5wYXJlbnQ7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBhdHRyaWJ1dGU6IGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kLCBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgaWYgKFR3aWcubGliLmlzKCdPYmplY3QnLCBvYmplY3QpKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KG1ldGhvZCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdFttZXRob2RdID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdFttZXRob2RdLmFwcGx5KHVuZGVmaW5lZCwgcGFyYW1zKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3RbbWV0aG9kXTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gQXJyYXkgd2lsbCByZXR1cm4gZWxlbWVudCAwLWluZGV4XG5cdCAgICAgICAgICAgIHJldHVybiBvYmplY3RbbWV0aG9kXSB8fCB1bmRlZmluZWQ7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBtYXg6IGZ1bmN0aW9uKHZhbHVlcykge1xuXHQgICAgICAgICAgICBpZihUd2lnLmxpYi5pcyhcIk9iamVjdFwiLCB2YWx1ZXMpKSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVzW1wiX2tleXNcIl07XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5saWIubWF4KHZhbHVlcyk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5saWIubWF4LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBtaW46IGZ1bmN0aW9uKHZhbHVlcykge1xuXHQgICAgICAgICAgICBpZihUd2lnLmxpYi5pcyhcIk9iamVjdFwiLCB2YWx1ZXMpKSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVzW1wiX2tleXNcIl07XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5saWIubWluKHZhbHVlcyk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5saWIubWluLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0ZW1wbGF0ZV9mcm9tX3N0cmluZzogZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJyc7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIFR3aWcuVGVtcGxhdGVzLnBhcnNlcnMudHdpZyh7XG5cdCAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG5cdCAgICAgICAgICAgICAgICBkYXRhOiB0ZW1wbGF0ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHJhbmRvbTogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgdmFyIExJTUlUX0lOVDMxID0gMHg4MDAwMDAwMDtcblxuXHQgICAgICAgICAgICBmdW5jdGlvbiBnZXRSYW5kb21OdW1iZXIobikge1xuXHQgICAgICAgICAgICAgICAgdmFyIHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExJTUlUX0lOVDMxKTtcblx0ICAgICAgICAgICAgICAgIHZhciBsaW1pdHMgPSBbMCwgbl07XG5cdCAgICAgICAgICAgICAgICB2YXIgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgbGltaXRzKSxcblx0ICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBsaW1pdHMpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoKG1heCAtIG1pbiArIDEpICogcmFuZG9tIC8gTElNSVRfSU5UMzEpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYoVHdpZy5saWIuaXMoXCJOdW1iZXJcIiwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UmFuZG9tTnVtYmVyKHZhbHVlKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmKFR3aWcubGliLmlzKFwiU3RyaW5nXCIsIHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmNoYXJBdChnZXRSYW5kb21OdW1iZXIodmFsdWUubGVuZ3RoLTEpKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmKFR3aWcubGliLmlzKFwiQXJyYXlcIiwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbZ2V0UmFuZG9tTnVtYmVyKHZhbHVlLmxlbmd0aC0xKV07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBpZihUd2lnLmxpYi5pcyhcIk9iamVjdFwiLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW2tleXNbZ2V0UmFuZG9tTnVtYmVyKGtleXMubGVuZ3RoLTEpXV07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gZ2V0UmFuZG9tTnVtYmVyKExJTUlUX0lOVDMxLTEpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBSZXR1cm5zIHRoZSBjb250ZW50IG9mIGEgdGVtcGxhdGUgd2l0aG91dCByZW5kZXJpbmcgaXRcblx0ICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuXHQgICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lnbm9yZV9taXNzaW5nPWZhbHNlXVxuXHQgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgc291cmNlOiBmdW5jdGlvbihuYW1lLCBpZ25vcmVfbWlzc2luZykge1xuXHQgICAgICAgICAgICB2YXIgdGVtcGxhdGVTb3VyY2U7XG5cdCAgICAgICAgICAgIHZhciB0ZW1wbGF0ZUZvdW5kID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHZhciBpc05vZGVFbnZpcm9ubWVudCA9IHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XG5cdCAgICAgICAgICAgIHZhciBsb2FkZXI7XG5cdCAgICAgICAgICAgIHZhciBwYXRoO1xuXG5cdCAgICAgICAgICAgIC8vaWYgd2UgYXJlIHJ1bm5pbmcgaW4gYSBub2RlLmpzIGVudmlyb25tZW50LCBzZXQgdGhlIGxvYWRlciB0byAnZnMnIGFuZCBlbnN1cmUgdGhlXG5cdCAgICAgICAgICAgIC8vIHBhdGggaXMgcmVsYXRpdmUgdG8gdGhlIENXRCBvZiB0aGUgcnVubmluZyBzY3JpcHRcblx0ICAgICAgICAgICAgLy9lbHNlLCBzZXQgdGhlIGxvYWRlciB0byAnYWpheCcgYW5kIHNldCB0aGUgcGF0aCB0byB0aGUgdmFsdWUgb2YgbmFtZVxuXHQgICAgICAgICAgICBpZiAoaXNOb2RlRW52aXJvbm1lbnQpIHtcblx0ICAgICAgICAgICAgICAgIGxvYWRlciA9ICdmcyc7XG5cdCAgICAgICAgICAgICAgICBwYXRoID0gX19kaXJuYW1lICsgJy8nICsgbmFtZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGxvYWRlciA9ICdhamF4Jztcblx0ICAgICAgICAgICAgICAgIHBhdGggPSBuYW1lO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy9idWlsZCB0aGUgcGFyYW1zIG9iamVjdFxuXHQgICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xuXHQgICAgICAgICAgICAgICAgaWQ6IG5hbWUsXG5cdCAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuXHQgICAgICAgICAgICAgICAgbWV0aG9kOiBsb2FkZXIsXG5cdCAgICAgICAgICAgICAgICBwYXJzZXI6ICdzb3VyY2UnLFxuXHQgICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgZmV0Y2hUZW1wbGF0ZVNvdXJjZTogdHJ1ZVxuXHQgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgIC8vZGVmYXVsdCBpZ25vcmVfbWlzc2luZyB0byBmYWxzZVxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGlnbm9yZV9taXNzaW5nID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICAgICAgaWdub3JlX21pc3NpbmcgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vdHJ5IHRvIGxvYWQgdGhlIHJlbW90ZSB0ZW1wbGF0ZVxuXHQgICAgICAgICAgICAvL1xuXHQgICAgICAgICAgICAvL29uIGV4Y2VwdGlvbiwgbG9nIGl0XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICB0ZW1wbGF0ZVNvdXJjZSA9IFR3aWcuVGVtcGxhdGVzLmxvYWRSZW1vdGUobmFtZSwgcGFyYW1zKTtcblxuXHQgICAgICAgICAgICAgICAgLy9pZiB0aGUgdGVtcGxhdGUgaXMgdW5kZWZpbmVkIG9yIG51bGwsIHNldCB0aGUgdGVtcGxhdGUgdG8gYW4gZW1wdHkgc3RyaW5nIGFuZCBkbyBOT1QgZmxpcCB0aGVcblx0ICAgICAgICAgICAgICAgIC8vIGJvb2xlYW4gaW5kaWNhdGluZyB3ZSBmb3VuZCB0aGUgdGVtcGxhdGVcblx0ICAgICAgICAgICAgICAgIC8vXG5cdCAgICAgICAgICAgICAgICAvL2Vsc2UsIGFsbCBpcyBnb29kISBmbGlwIHRoZSBib29sZWFuIGluZGljYXRpbmcgd2UgZm91bmQgdGhlIHRlbXBsYXRlXG5cdCAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlU291cmNlID09PSAndW5kZWZpbmVkJyB8fCB0ZW1wbGF0ZVNvdXJjZSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlU291cmNlID0gJyc7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlRm91bmQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICBUd2lnLmxvZy5kZWJ1ZygnVHdpZy5mdW5jdGlvbnMuc291cmNlOiAnLCAnUHJvYmxlbSBsb2FkaW5nIHRlbXBsYXRlICAnLCBlKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vaWYgdGhlIHRlbXBsYXRlIHdhcyBOT1QgZm91bmQgQU5EIHdlIGFyZSBub3QgaWdub3JpbmcgbWlzc2luZyB0ZW1wbGF0ZXMsIHJldHVybiB0aGUgc2FtZSBtZXNzYWdlXG5cdCAgICAgICAgICAgIC8vIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhlIFBIUCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgdHdpZyBzb3VyY2UoKSBmdW5jdGlvblxuXHQgICAgICAgICAgICAvL1xuXHQgICAgICAgICAgICAvL2Vsc2UsIHJldHVybiB0aGUgdGVtcGxhdGUgc291cmNlXG5cdCAgICAgICAgICAgIGlmICghdGVtcGxhdGVGb3VuZCAmJiAhaWdub3JlX21pc3NpbmcpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBURU1QTEFURV9OT1RfRk9VTkRfTUVTU0FHRS5yZXBsYWNlKCd7bmFtZX0nLCBuYW1lKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZVNvdXJjZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIFR3aWcuX2Z1bmN0aW9uID0gZnVuY3Rpb24oX2Z1bmN0aW9uLCB2YWx1ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgaWYgKCFUd2lnLmZ1bmN0aW9uc1tfZnVuY3Rpb25dKSB7XG5cdCAgICAgICAgICAgIHRocm93IFwiVW5hYmxlIHRvIGZpbmQgZnVuY3Rpb24gXCIgKyBfZnVuY3Rpb247XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBUd2lnLmZ1bmN0aW9uc1tfZnVuY3Rpb25dKHZhbHVlLCBwYXJhbXMpO1xuXHQgICAgfTtcblxuXHQgICAgVHdpZy5fZnVuY3Rpb24uZXh0ZW5kID0gZnVuY3Rpb24oX2Z1bmN0aW9uLCBkZWZpbml0aW9uKSB7XG5cdCAgICAgICAgVHdpZy5mdW5jdGlvbnNbX2Z1bmN0aW9uXSA9IGRlZmluaXRpb247XG5cdCAgICB9O1xuXG5cdCAgICByZXR1cm4gVHdpZztcblxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAjIyB0d2lnLmxpYi5qc1xuXHQvL1xuXHQvLyBUaGlzIGZpbGUgY29udGFpbnMgM3JkIHBhcnR5IGxpYnJhcmllcyB1c2VkIHdpdGhpbiB0d2lnLlxuXHQvL1xuXHQvLyBDb3BpZXMgb2YgdGhlIGxpY2Vuc2VzIGZvciB0aGUgY29kZSBpbmNsdWRlZCBoZXJlIGNhbiBiZSBmb3VuZCBpbiB0aGVcblx0Ly8gTElDRU5TRVMubWQgZmlsZS5cblx0Ly9cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFR3aWcpIHtcblxuXHQgICAgLy8gTmFtZXNwYWNlIGZvciBsaWJyYXJpZXNcblx0ICAgIFR3aWcubGliID0geyB9O1xuXG5cdCAgICBUd2lnLmxpYi5zcHJpbnRmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0ICAgIFR3aWcubGliLnZzcHJpbnRmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0ICAgIFR3aWcubGliLnJvdW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdCAgICBUd2lnLmxpYi5tYXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0ICAgIFR3aWcubGliLm1pbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHQgICAgVHdpZy5saWIuc3RyaXBfdGFncyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHQgICAgVHdpZy5saWIuc3RydG90aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdCAgICBUd2lnLmxpYi5kYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdCAgICBUd2lnLmxpYi5ib29sdmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cblx0ICAgIFR3aWcubGliLmlzID0gZnVuY3Rpb24odHlwZSwgb2JqKSB7XG5cdCAgICAgICAgdmFyIGNsYXMgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKS5zbGljZSg4LCAtMSk7XG5cdCAgICAgICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbCAmJiBjbGFzID09PSB0eXBlO1xuXHQgICAgfTtcblxuXHQgICAgLy8gc2hhbGxvdy1jb3B5IGFuIG9iamVjdFxuXHQgICAgVHdpZy5saWIuY29weSA9IGZ1bmN0aW9uKHNyYykge1xuXHQgICAgICAgIHZhciB0YXJnZXQgPSB7fSxcblx0ICAgICAgICAgICAga2V5O1xuXHQgICAgICAgIGZvciAoa2V5IGluIHNyYylcblx0ICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtcblxuXHQgICAgICAgIHJldHVybiB0YXJnZXQ7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLmxpYi5leHRlbmQgPSBmdW5jdGlvbiAoc3JjLCBhZGQpIHtcblx0ICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCksXG5cdCAgICAgICAgICAgIGk7XG5cblx0ICAgICAgICBpID0ga2V5cy5sZW5ndGg7XG5cblx0ICAgICAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgICAgICAgIHNyY1trZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gc3JjO1xuXHQgICAgfTtcblxuXHQgICAgVHdpZy5saWIucmVwbGFjZUFsbCA9IGZ1bmN0aW9uKHN0cmluZywgc2VhcmNoLCByZXBsYWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZWFyY2gpLmpvaW4ocmVwbGFjZSk7XG5cdCAgICB9O1xuXG5cdCAgICAvLyBjaHVuayBhbiBhcnJheSAoYXJyKSBpbnRvIGFycmF5cyBvZiAoc2l6ZSkgaXRlbXMsIHJldHVybnMgYW4gYXJyYXkgb2YgYXJyYXlzLCBvciBhbiBlbXB0eSBhcnJheSBvbiBpbnZhbGlkIGlucHV0XG5cdCAgICBUd2lnLmxpYi5jaHVua0FycmF5ID0gZnVuY3Rpb24gKGFyciwgc2l6ZSkge1xuXHQgICAgICAgIHZhciByZXR1cm5WYWwgPSBbXSxcblx0ICAgICAgICAgICAgeCA9IDAsXG5cdCAgICAgICAgICAgIGxlbiA9IGFyci5sZW5ndGg7XG5cblx0ICAgICAgICBpZiAoc2l6ZSA8IDEgfHwgIVR3aWcubGliLmlzKFwiQXJyYXlcIiwgYXJyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gW107XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgd2hpbGUgKHggPCBsZW4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuVmFsLnB1c2goYXJyLnNsaWNlKHgsIHggKz0gc2l6ZSkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG5cdCAgICB9O1xuXG5cdCAgICByZXR1cm4gVHdpZztcblx0fTtcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByaW50ZigpIHtcblx0ICAvLyAgZGlzY3VzcyBhdDogaHR0cDovL2xvY3V0dXMuaW8vcGhwL3NwcmludGYvXG5cdCAgLy8gb3JpZ2luYWwgYnk6IEFzaCBTZWFybGUgKGh0dHA6Ly9oZXhtZW4uY29tL2Jsb2cvKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBNaWNoYWVsIFdoaXRlIChodHRwOi8vZ2V0c3ByaW5rLmNvbSlcblx0ICAvLyBpbXByb3ZlZCBieTogSmFja1xuXHQgIC8vIGltcHJvdmVkIGJ5OiBLZXZpbiB2YW4gWm9ubmV2ZWxkIChodHRwOi8va3Z6LmlvKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBLZXZpbiB2YW4gWm9ubmV2ZWxkIChodHRwOi8va3Z6LmlvKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBLZXZpbiB2YW4gWm9ubmV2ZWxkIChodHRwOi8va3Z6LmlvKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBEalxuXHQgIC8vIGltcHJvdmVkIGJ5OiBBbGxpZHlsbHNcblx0ICAvLyAgICBpbnB1dCBieTogUGF1bG8gRnJlaXRhc1xuXHQgIC8vICAgIGlucHV0IGJ5OiBCcmV0dCBaYW1pciAoaHR0cDovL2JyZXR0LXphbWlyLm1lKVxuXHQgIC8vICAgZXhhbXBsZSAxOiBzcHJpbnRmKFwiJTAxLjJmXCIsIDEyMy4xKVxuXHQgIC8vICAgcmV0dXJucyAxOiAnMTIzLjEwJ1xuXHQgIC8vICAgZXhhbXBsZSAyOiBzcHJpbnRmKFwiWyUxMHNdXCIsICdtb25rZXknKVxuXHQgIC8vICAgcmV0dXJucyAyOiAnWyAgICBtb25rZXldJ1xuXHQgIC8vICAgZXhhbXBsZSAzOiBzcHJpbnRmKFwiWyUnIzEwc11cIiwgJ21vbmtleScpXG5cdCAgLy8gICByZXR1cm5zIDM6ICdbIyMjI21vbmtleV0nXG5cdCAgLy8gICBleGFtcGxlIDQ6IHNwcmludGYoXCIlZFwiLCAxMjM0NTY3ODkwMTIzNDUpXG5cdCAgLy8gICByZXR1cm5zIDQ6ICcxMjM0NTY3ODkwMTIzNDUnXG5cdCAgLy8gICBleGFtcGxlIDU6IHNwcmludGYoJyUtMDNzJywgJ0UnKVxuXHQgIC8vICAgcmV0dXJucyA1OiAnRTAwJ1xuXG5cdCAgdmFyIHJlZ2V4ID0gLyUlfCUoXFxkK1xcJCk/KFstKycjMCBdKikoXFwqXFxkK1xcJHxcXCp8XFxkKyk/KD86XFwuKFxcKlxcZCtcXCR8XFwqfFxcZCspKT8oW3NjYm94WHVpZGVFZkZnR10pL2c7XG5cdCAgdmFyIGEgPSBhcmd1bWVudHM7XG5cdCAgdmFyIGkgPSAwO1xuXHQgIHZhciBmb3JtYXQgPSBhW2krK107XG5cblx0ICB2YXIgX3BhZCA9IGZ1bmN0aW9uIF9wYWQoc3RyLCBsZW4sIGNociwgbGVmdEp1c3RpZnkpIHtcblx0ICAgIGlmICghY2hyKSB7XG5cdCAgICAgIGNociA9ICcgJztcblx0ICAgIH1cblx0ICAgIHZhciBwYWRkaW5nID0gc3RyLmxlbmd0aCA+PSBsZW4gPyAnJyA6IG5ldyBBcnJheSgxICsgbGVuIC0gc3RyLmxlbmd0aCA+Pj4gMCkuam9pbihjaHIpO1xuXHQgICAgcmV0dXJuIGxlZnRKdXN0aWZ5ID8gc3RyICsgcGFkZGluZyA6IHBhZGRpbmcgKyBzdHI7XG5cdCAgfTtcblxuXHQgIHZhciBqdXN0aWZ5ID0gZnVuY3Rpb24ganVzdGlmeSh2YWx1ZSwgcHJlZml4LCBsZWZ0SnVzdGlmeSwgbWluV2lkdGgsIHplcm9QYWQsIGN1c3RvbVBhZENoYXIpIHtcblx0ICAgIHZhciBkaWZmID0gbWluV2lkdGggLSB2YWx1ZS5sZW5ndGg7XG5cdCAgICBpZiAoZGlmZiA+IDApIHtcblx0ICAgICAgaWYgKGxlZnRKdXN0aWZ5IHx8ICF6ZXJvUGFkKSB7XG5cdCAgICAgICAgdmFsdWUgPSBfcGFkKHZhbHVlLCBtaW5XaWR0aCwgY3VzdG9tUGFkQ2hhciwgbGVmdEp1c3RpZnkpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhbHVlID0gW3ZhbHVlLnNsaWNlKDAsIHByZWZpeC5sZW5ndGgpLCBfcGFkKCcnLCBkaWZmLCAnMCcsIHRydWUpLCB2YWx1ZS5zbGljZShwcmVmaXgubGVuZ3RoKV0uam9pbignJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9O1xuXG5cdCAgdmFyIF9mb3JtYXRCYXNlWCA9IGZ1bmN0aW9uIF9mb3JtYXRCYXNlWCh2YWx1ZSwgYmFzZSwgcHJlZml4LCBsZWZ0SnVzdGlmeSwgbWluV2lkdGgsIHByZWNpc2lvbiwgemVyb1BhZCkge1xuXHQgICAgLy8gTm90ZTogY2FzdHMgbmVnYXRpdmUgbnVtYmVycyB0byBwb3NpdGl2ZSBvbmVzXG5cdCAgICB2YXIgbnVtYmVyID0gdmFsdWUgPj4+IDA7XG5cdCAgICBwcmVmaXggPSBwcmVmaXggJiYgbnVtYmVyICYmIHtcblx0ICAgICAgJzInOiAnMGInLFxuXHQgICAgICAnOCc6ICcwJyxcblx0ICAgICAgJzE2JzogJzB4J1xuXHQgICAgfVtiYXNlXSB8fCAnJztcblx0ICAgIHZhbHVlID0gcHJlZml4ICsgX3BhZChudW1iZXIudG9TdHJpbmcoYmFzZSksIHByZWNpc2lvbiB8fCAwLCAnMCcsIGZhbHNlKTtcblx0ICAgIHJldHVybiBqdXN0aWZ5KHZhbHVlLCBwcmVmaXgsIGxlZnRKdXN0aWZ5LCBtaW5XaWR0aCwgemVyb1BhZCk7XG5cdCAgfTtcblxuXHQgIC8vIF9mb3JtYXRTdHJpbmcoKVxuXHQgIHZhciBfZm9ybWF0U3RyaW5nID0gZnVuY3Rpb24gX2Zvcm1hdFN0cmluZyh2YWx1ZSwgbGVmdEp1c3RpZnksIG1pbldpZHRoLCBwcmVjaXNpb24sIHplcm9QYWQsIGN1c3RvbVBhZENoYXIpIHtcblx0ICAgIGlmIChwcmVjaXNpb24gIT09IG51bGwgJiYgcHJlY2lzaW9uICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCBwcmVjaXNpb24pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGp1c3RpZnkodmFsdWUsICcnLCBsZWZ0SnVzdGlmeSwgbWluV2lkdGgsIHplcm9QYWQsIGN1c3RvbVBhZENoYXIpO1xuXHQgIH07XG5cblx0ICAvLyBkb0Zvcm1hdCgpXG5cdCAgdmFyIGRvRm9ybWF0ID0gZnVuY3Rpb24gZG9Gb3JtYXQoc3Vic3RyaW5nLCB2YWx1ZUluZGV4LCBmbGFncywgbWluV2lkdGgsIHByZWNpc2lvbiwgdHlwZSkge1xuXHQgICAgdmFyIG51bWJlciwgcHJlZml4LCBtZXRob2QsIHRleHRUcmFuc2Zvcm0sIHZhbHVlO1xuXG5cdCAgICBpZiAoc3Vic3RyaW5nID09PSAnJSUnKSB7XG5cdCAgICAgIHJldHVybiAnJSc7XG5cdCAgICB9XG5cblx0ICAgIC8vIHBhcnNlIGZsYWdzXG5cdCAgICB2YXIgbGVmdEp1c3RpZnkgPSBmYWxzZTtcblx0ICAgIHZhciBwb3NpdGl2ZVByZWZpeCA9ICcnO1xuXHQgICAgdmFyIHplcm9QYWQgPSBmYWxzZTtcblx0ICAgIHZhciBwcmVmaXhCYXNlWCA9IGZhbHNlO1xuXHQgICAgdmFyIGN1c3RvbVBhZENoYXIgPSAnICc7XG5cdCAgICB2YXIgZmxhZ3NsID0gZmxhZ3MubGVuZ3RoO1xuXHQgICAgdmFyIGo7XG5cdCAgICBmb3IgKGogPSAwOyBqIDwgZmxhZ3NsOyBqKyspIHtcblx0ICAgICAgc3dpdGNoIChmbGFncy5jaGFyQXQoaikpIHtcblx0ICAgICAgICBjYXNlICcgJzpcblx0ICAgICAgICAgIHBvc2l0aXZlUHJlZml4ID0gJyAnO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnKyc6XG5cdCAgICAgICAgICBwb3NpdGl2ZVByZWZpeCA9ICcrJztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJy0nOlxuXHQgICAgICAgICAgbGVmdEp1c3RpZnkgPSB0cnVlO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSBcIidcIjpcblx0ICAgICAgICAgIGN1c3RvbVBhZENoYXIgPSBmbGFncy5jaGFyQXQoaiArIDEpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnMCc6XG5cdCAgICAgICAgICB6ZXJvUGFkID0gdHJ1ZTtcblx0ICAgICAgICAgIGN1c3RvbVBhZENoYXIgPSAnMCc7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICcjJzpcblx0ICAgICAgICAgIHByZWZpeEJhc2VYID0gdHJ1ZTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIHBhcmFtZXRlcnMgbWF5IGJlIG51bGwsIHVuZGVmaW5lZCwgZW1wdHktc3RyaW5nIG9yIHJlYWwgdmFsdWVkXG5cdCAgICAvLyB3ZSB3YW50IHRvIGlnbm9yZSBudWxsLCB1bmRlZmluZWQgYW5kIGVtcHR5LXN0cmluZyB2YWx1ZXNcblx0ICAgIGlmICghbWluV2lkdGgpIHtcblx0ICAgICAgbWluV2lkdGggPSAwO1xuXHQgICAgfSBlbHNlIGlmIChtaW5XaWR0aCA9PT0gJyonKSB7XG5cdCAgICAgIG1pbldpZHRoID0gK2FbaSsrXTtcblx0ICAgIH0gZWxzZSBpZiAobWluV2lkdGguY2hhckF0KDApID09PSAnKicpIHtcblx0ICAgICAgbWluV2lkdGggPSArYVttaW5XaWR0aC5zbGljZSgxLCAtMSldO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbWluV2lkdGggPSArbWluV2lkdGg7XG5cdCAgICB9XG5cblx0ICAgIC8vIE5vdGU6IHVuZG9jdW1lbnRlZCBwZXJsIGZlYXR1cmU6XG5cdCAgICBpZiAobWluV2lkdGggPCAwKSB7XG5cdCAgICAgIG1pbldpZHRoID0gLW1pbldpZHRoO1xuXHQgICAgICBsZWZ0SnVzdGlmeSA9IHRydWU7XG5cdCAgICB9XG5cblx0ICAgIGlmICghaXNGaW5pdGUobWluV2lkdGgpKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignc3ByaW50ZjogKG1pbmltdW0tKXdpZHRoIG11c3QgYmUgZmluaXRlJyk7XG5cdCAgICB9XG5cblx0ICAgIGlmICghcHJlY2lzaW9uKSB7XG5cdCAgICAgIHByZWNpc2lvbiA9ICdmRmVFJy5pbmRleE9mKHR5cGUpID4gLTEgPyA2IDogdHlwZSA9PT0gJ2QnID8gMCA6IHVuZGVmaW5lZDtcblx0ICAgIH0gZWxzZSBpZiAocHJlY2lzaW9uID09PSAnKicpIHtcblx0ICAgICAgcHJlY2lzaW9uID0gK2FbaSsrXTtcblx0ICAgIH0gZWxzZSBpZiAocHJlY2lzaW9uLmNoYXJBdCgwKSA9PT0gJyonKSB7XG5cdCAgICAgIHByZWNpc2lvbiA9ICthW3ByZWNpc2lvbi5zbGljZSgxLCAtMSldO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcHJlY2lzaW9uID0gK3ByZWNpc2lvbjtcblx0ICAgIH1cblxuXHQgICAgLy8gZ3JhYiB2YWx1ZSB1c2luZyB2YWx1ZUluZGV4IGlmIHJlcXVpcmVkP1xuXHQgICAgdmFsdWUgPSB2YWx1ZUluZGV4ID8gYVt2YWx1ZUluZGV4LnNsaWNlKDAsIC0xKV0gOiBhW2krK107XG5cblx0ICAgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgICBjYXNlICdzJzpcblx0ICAgICAgICByZXR1cm4gX2Zvcm1hdFN0cmluZyh2YWx1ZSArICcnLCBsZWZ0SnVzdGlmeSwgbWluV2lkdGgsIHByZWNpc2lvbiwgemVyb1BhZCwgY3VzdG9tUGFkQ2hhcik7XG5cdCAgICAgIGNhc2UgJ2MnOlxuXHQgICAgICAgIHJldHVybiBfZm9ybWF0U3RyaW5nKFN0cmluZy5mcm9tQ2hhckNvZGUoK3ZhbHVlKSwgbGVmdEp1c3RpZnksIG1pbldpZHRoLCBwcmVjaXNpb24sIHplcm9QYWQpO1xuXHQgICAgICBjYXNlICdiJzpcblx0ICAgICAgICByZXR1cm4gX2Zvcm1hdEJhc2VYKHZhbHVlLCAyLCBwcmVmaXhCYXNlWCwgbGVmdEp1c3RpZnksIG1pbldpZHRoLCBwcmVjaXNpb24sIHplcm9QYWQpO1xuXHQgICAgICBjYXNlICdvJzpcblx0ICAgICAgICByZXR1cm4gX2Zvcm1hdEJhc2VYKHZhbHVlLCA4LCBwcmVmaXhCYXNlWCwgbGVmdEp1c3RpZnksIG1pbldpZHRoLCBwcmVjaXNpb24sIHplcm9QYWQpO1xuXHQgICAgICBjYXNlICd4Jzpcblx0ICAgICAgICByZXR1cm4gX2Zvcm1hdEJhc2VYKHZhbHVlLCAxNiwgcHJlZml4QmFzZVgsIGxlZnRKdXN0aWZ5LCBtaW5XaWR0aCwgcHJlY2lzaW9uLCB6ZXJvUGFkKTtcblx0ICAgICAgY2FzZSAnWCc6XG5cdCAgICAgICAgcmV0dXJuIF9mb3JtYXRCYXNlWCh2YWx1ZSwgMTYsIHByZWZpeEJhc2VYLCBsZWZ0SnVzdGlmeSwgbWluV2lkdGgsIHByZWNpc2lvbiwgemVyb1BhZCkudG9VcHBlckNhc2UoKTtcblx0ICAgICAgY2FzZSAndSc6XG5cdCAgICAgICAgcmV0dXJuIF9mb3JtYXRCYXNlWCh2YWx1ZSwgMTAsIHByZWZpeEJhc2VYLCBsZWZ0SnVzdGlmeSwgbWluV2lkdGgsIHByZWNpc2lvbiwgemVyb1BhZCk7XG5cdCAgICAgIGNhc2UgJ2knOlxuXHQgICAgICBjYXNlICdkJzpcblx0ICAgICAgICBudW1iZXIgPSArdmFsdWUgfHwgMDtcblx0ICAgICAgICAvLyBQbGFpbiBNYXRoLnJvdW5kIGRvZXNuJ3QganVzdCB0cnVuY2F0ZVxuXHQgICAgICAgIG51bWJlciA9IE1hdGgucm91bmQobnVtYmVyIC0gbnVtYmVyICUgMSk7XG5cdCAgICAgICAgcHJlZml4ID0gbnVtYmVyIDwgMCA/ICctJyA6IHBvc2l0aXZlUHJlZml4O1xuXHQgICAgICAgIHZhbHVlID0gcHJlZml4ICsgX3BhZChTdHJpbmcoTWF0aC5hYnMobnVtYmVyKSksIHByZWNpc2lvbiwgJzAnLCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIGp1c3RpZnkodmFsdWUsIHByZWZpeCwgbGVmdEp1c3RpZnksIG1pbldpZHRoLCB6ZXJvUGFkKTtcblx0ICAgICAgY2FzZSAnZSc6XG5cdCAgICAgIGNhc2UgJ0UnOlxuXHQgICAgICBjYXNlICdmJzogLy8gQHRvZG86IFNob3VsZCBoYW5kbGUgbG9jYWxlcyAoYXMgcGVyIHNldGxvY2FsZSlcblx0ICAgICAgY2FzZSAnRic6XG5cdCAgICAgIGNhc2UgJ2cnOlxuXHQgICAgICBjYXNlICdHJzpcblx0ICAgICAgICBudW1iZXIgPSArdmFsdWU7XG5cdCAgICAgICAgcHJlZml4ID0gbnVtYmVyIDwgMCA/ICctJyA6IHBvc2l0aXZlUHJlZml4O1xuXHQgICAgICAgIG1ldGhvZCA9IFsndG9FeHBvbmVudGlhbCcsICd0b0ZpeGVkJywgJ3RvUHJlY2lzaW9uJ11bJ2VmZycuaW5kZXhPZih0eXBlLnRvTG93ZXJDYXNlKCkpXTtcblx0ICAgICAgICB0ZXh0VHJhbnNmb3JtID0gWyd0b1N0cmluZycsICd0b1VwcGVyQ2FzZSddWydlRWZGZ0cnLmluZGV4T2YodHlwZSkgJSAyXTtcblx0ICAgICAgICB2YWx1ZSA9IHByZWZpeCArIE1hdGguYWJzKG51bWJlcilbbWV0aG9kXShwcmVjaXNpb24pO1xuXHQgICAgICAgIHJldHVybiBqdXN0aWZ5KHZhbHVlLCBwcmVmaXgsIGxlZnRKdXN0aWZ5LCBtaW5XaWR0aCwgemVyb1BhZClbdGV4dFRyYW5zZm9ybV0oKTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gc3Vic3RyaW5nO1xuXHQgICAgfVxuXHQgIH07XG5cblx0ICByZXR1cm4gZm9ybWF0LnJlcGxhY2UocmVnZXgsIGRvRm9ybWF0KTtcblx0fTtcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaW50Zi5qcy5tYXBcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHZzcHJpbnRmKGZvcm1hdCwgYXJncykge1xuXHQgIC8vICBkaXNjdXNzIGF0OiBodHRwOi8vbG9jdXR1cy5pby9waHAvdnNwcmludGYvXG5cdCAgLy8gb3JpZ2luYWwgYnk6IGVqc2FuZGVyc1xuXHQgIC8vICAgZXhhbXBsZSAxOiB2c3ByaW50ZignJTA0ZC0lMDJkLSUwMmQnLCBbMTk4OCwgOCwgMV0pXG5cdCAgLy8gICByZXR1cm5zIDE6ICcxOTg4LTA4LTAxJ1xuXG5cdCAgdmFyIHNwcmludGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdCAgcmV0dXJuIHNwcmludGYuYXBwbHkodGhpcywgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcblx0fTtcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9dnNwcmludGYuanMubWFwXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcm91bmQodmFsdWUsIHByZWNpc2lvbiwgbW9kZSkge1xuXHQgIC8vICBkaXNjdXNzIGF0OiBodHRwOi8vbG9jdXR1cy5pby9waHAvcm91bmQvXG5cdCAgLy8gb3JpZ2luYWwgYnk6IFBoaWxpcCBQZXRlcnNvblxuXHQgIC8vICByZXZpc2VkIGJ5OiBPbm5vIE1hcnNtYW4gKGh0dHBzOi8vdHdpdHRlci5jb20vb25ub21hcnNtYW4pXG5cdCAgLy8gIHJldmlzZWQgYnk6IFQuV2lsZFxuXHQgIC8vICByZXZpc2VkIGJ5OiBSYWZhxYIgS3VrYXdza2kgKGh0dHA6Ly9ibG9nLmt1a2F3c2tpLnBsKVxuXHQgIC8vICAgIGlucHV0IGJ5OiBHcmVlbnNlZWRcblx0ICAvLyAgICBpbnB1dCBieTogbWVvXG5cdCAgLy8gICAgaW5wdXQgYnk6IFdpbGxpYW1cblx0ICAvLyAgICBpbnB1dCBieTogSm9zZXAgU2FueiAoaHR0cDovL3d3dy53czMuZXMvKVxuXHQgIC8vIGJ1Z2ZpeGVkIGJ5OiBCcmV0dCBaYW1pciAoaHR0cDovL2JyZXR0LXphbWlyLm1lKVxuXHQgIC8vICAgICAgbm90ZSAxOiBHcmVhdCB3b3JrLiBJZGVhcyBmb3IgaW1wcm92ZW1lbnQ6XG5cdCAgLy8gICAgICBub3RlIDE6IC0gY29kZSBtb3JlIGNvbXBsaWFudCB3aXRoIGRldmVsb3BlciBndWlkZWxpbmVzXG5cdCAgLy8gICAgICBub3RlIDE6IC0gZm9yIGltcGxlbWVudGluZyBQSFAgY29uc3RhbnQgYXJndW1lbnRzIGxvb2sgYXRcblx0ICAvLyAgICAgIG5vdGUgMTogdGhlIHBhdGhpbmZvKCkgZnVuY3Rpb24sIGl0IG9mZmVycyB0aGUgZ3JlYXRlc3Rcblx0ICAvLyAgICAgIG5vdGUgMTogZmxleGliaWxpdHkgJiBjb21wYXRpYmlsaXR5IHBvc3NpYmxlXG5cdCAgLy8gICBleGFtcGxlIDE6IHJvdW5kKDEyNDE3NTcsIC0zKVxuXHQgIC8vICAgcmV0dXJucyAxOiAxMjQyMDAwXG5cdCAgLy8gICBleGFtcGxlIDI6IHJvdW5kKDMuNilcblx0ICAvLyAgIHJldHVybnMgMjogNFxuXHQgIC8vICAgZXhhbXBsZSAzOiByb3VuZCgyLjgzNSwgMilcblx0ICAvLyAgIHJldHVybnMgMzogMi44NFxuXHQgIC8vICAgZXhhbXBsZSA0OiByb3VuZCgxLjE3NDk5OTk5OTk5OTksIDIpXG5cdCAgLy8gICByZXR1cm5zIDQ6IDEuMTdcblx0ICAvLyAgIGV4YW1wbGUgNTogcm91bmQoNTg1NTEuNzk5OTk5OTk5OTk2LCAyKVxuXHQgIC8vICAgcmV0dXJucyA1OiA1ODU1MS44XG5cblx0ICB2YXIgbSwgZiwgaXNIYWxmLCBzZ247IC8vIGhlbHBlciB2YXJpYWJsZXNcblx0ICAvLyBtYWtpbmcgc3VyZSBwcmVjaXNpb24gaXMgaW50ZWdlclxuXHQgIHByZWNpc2lvbiB8PSAwO1xuXHQgIG0gPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcblx0ICB2YWx1ZSAqPSBtO1xuXHQgIC8vIHNpZ24gb2YgdGhlIG51bWJlclxuXHQgIHNnbiA9IHZhbHVlID4gMCB8IC0odmFsdWUgPCAwKTtcblx0ICBpc0hhbGYgPSB2YWx1ZSAlIDEgPT09IDAuNSAqIHNnbjtcblx0ICBmID0gTWF0aC5mbG9vcih2YWx1ZSk7XG5cblx0ICBpZiAoaXNIYWxmKSB7XG5cdCAgICBzd2l0Y2ggKG1vZGUpIHtcblx0ICAgICAgY2FzZSAnUEhQX1JPVU5EX0hBTEZfRE9XTic6XG5cdCAgICAgICAgLy8gcm91bmRzIC41IHRvd2FyZCB6ZXJvXG5cdCAgICAgICAgdmFsdWUgPSBmICsgKHNnbiA8IDApO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlICdQSFBfUk9VTkRfSEFMRl9FVkVOJzpcblx0ICAgICAgICAvLyByb3VkcyAuNSB0b3dhcmRzIHRoZSBuZXh0IGV2ZW4gaW50ZWdlclxuXHQgICAgICAgIHZhbHVlID0gZiArIGYgJSAyICogc2duO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlICdQSFBfUk9VTkRfSEFMRl9PREQnOlxuXHQgICAgICAgIC8vIHJvdW5kcyAuNSB0b3dhcmRzIHRoZSBuZXh0IG9kZCBpbnRlZ2VyXG5cdCAgICAgICAgdmFsdWUgPSBmICsgIShmICUgMik7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgLy8gcm91bmRzIC41IGF3YXkgZnJvbSB6ZXJvXG5cdCAgICAgICAgdmFsdWUgPSBmICsgKHNnbiA+IDApO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiAoaXNIYWxmID8gdmFsdWUgOiBNYXRoLnJvdW5kKHZhbHVlKSkgLyBtO1xuXHR9O1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1yb3VuZC5qcy5tYXBcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF4KCkge1xuXHQgIC8vICBkaXNjdXNzIGF0OiBodHRwOi8vbG9jdXR1cy5pby9waHAvbWF4L1xuXHQgIC8vIG9yaWdpbmFsIGJ5OiBPbm5vIE1hcnNtYW4gKGh0dHBzOi8vdHdpdHRlci5jb20vb25ub21hcnNtYW4pXG5cdCAgLy8gIHJldmlzZWQgYnk6IE9ubm8gTWFyc21hbiAoaHR0cHM6Ly90d2l0dGVyLmNvbS9vbm5vbWFyc21hbilcblx0ICAvLyBpbXByb3ZlZCBieTogSmFja1xuXHQgIC8vICAgICAgbm90ZSAxOiBMb25nIGNvZGUgY2F1c2Ugd2UncmUgYWltaW5nIGZvciBtYXhpbXVtIFBIUCBjb21wYXRpYmlsaXR5XG5cdCAgLy8gICBleGFtcGxlIDE6IG1heCgxLCAzLCA1LCA2LCA3KVxuXHQgIC8vICAgcmV0dXJucyAxOiA3XG5cdCAgLy8gICBleGFtcGxlIDI6IG1heChbMiwgNCwgNV0pXG5cdCAgLy8gICByZXR1cm5zIDI6IDVcblx0ICAvLyAgIGV4YW1wbGUgMzogbWF4KDAsICdoZWxsbycpXG5cdCAgLy8gICByZXR1cm5zIDM6IDBcblx0ICAvLyAgIGV4YW1wbGUgNDogbWF4KCdoZWxsbycsIDApXG5cdCAgLy8gICByZXR1cm5zIDQ6ICdoZWxsbydcblx0ICAvLyAgIGV4YW1wbGUgNTogbWF4KC0xLCAnaGVsbG8nKVxuXHQgIC8vICAgcmV0dXJucyA1OiAnaGVsbG8nXG5cdCAgLy8gICBleGFtcGxlIDY6IG1heChbMiwgNCwgOF0sIFsyLCA1LCA3XSlcblx0ICAvLyAgIHJldHVybnMgNjogWzIsIDUsIDddXG5cblx0ICB2YXIgYXI7XG5cdCAgdmFyIHJldFZhbDtcblx0ICB2YXIgaSA9IDA7XG5cdCAgdmFyIG4gPSAwO1xuXHQgIHZhciBhcmd2ID0gYXJndW1lbnRzO1xuXHQgIHZhciBhcmdjID0gYXJndi5sZW5ndGg7XG5cdCAgdmFyIF9vYmoyQXJyYXkgPSBmdW5jdGlvbiBfb2JqMkFycmF5KG9iaikge1xuXHQgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nKSB7XG5cdCAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgYXIgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcblx0ICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG5cdCAgICAgICAgICBhci5wdXNoKG9ialtpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBhcjtcblx0ICAgIH1cblx0ICB9O1xuXHQgIHZhciBfY29tcGFyZSA9IGZ1bmN0aW9uIF9jb21wYXJlKGN1cnJlbnQsIG5leHQpIHtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHZhciBuID0gMDtcblx0ICAgIHZhciB0bXAgPSAwO1xuXHQgICAgdmFyIG5sID0gMDtcblx0ICAgIHZhciBjbCA9IDA7XG5cblx0ICAgIGlmIChjdXJyZW50ID09PSBuZXh0KSB7XG5cdCAgICAgIHJldHVybiAwO1xuXHQgICAgfSBlbHNlIGlmICgodHlwZW9mIGN1cnJlbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGN1cnJlbnQpKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgaWYgKCh0eXBlb2YgbmV4dCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobmV4dCkpID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIGN1cnJlbnQgPSBfb2JqMkFycmF5KGN1cnJlbnQpO1xuXHQgICAgICAgIG5leHQgPSBfb2JqMkFycmF5KG5leHQpO1xuXHQgICAgICAgIGNsID0gY3VycmVudC5sZW5ndGg7XG5cdCAgICAgICAgbmwgPSBuZXh0Lmxlbmd0aDtcblx0ICAgICAgICBpZiAobmwgPiBjbCkge1xuXHQgICAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgICAgfSBlbHNlIGlmIChubCA8IGNsKSB7XG5cdCAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGZvciAoaSA9IDAsIG4gPSBjbDsgaSA8IG47ICsraSkge1xuXHQgICAgICAgICAgdG1wID0gX2NvbXBhcmUoY3VycmVudFtpXSwgbmV4dFtpXSk7XG5cdCAgICAgICAgICBpZiAodG1wID09PSAxKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAxO1xuXHQgICAgICAgICAgfSBlbHNlIGlmICh0bXAgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAtMTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIDA7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfSBlbHNlIGlmICgodHlwZW9mIG5leHQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5leHQpKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIDE7XG5cdCAgICB9IGVsc2UgaWYgKGlzTmFOKG5leHQpICYmICFpc05hTihjdXJyZW50KSkge1xuXHQgICAgICBpZiAoY3VycmVudCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiAwO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBjdXJyZW50IDwgMCA/IDEgOiAtMTtcblx0ICAgIH0gZWxzZSBpZiAoaXNOYU4oY3VycmVudCkgJiYgIWlzTmFOKG5leHQpKSB7XG5cdCAgICAgIGlmIChuZXh0ID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIDA7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG5leHQgPiAwID8gMSA6IC0xO1xuXHQgICAgfVxuXG5cdCAgICBpZiAobmV4dCA9PT0gY3VycmVudCkge1xuXHQgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIG5leHQgPiBjdXJyZW50ID8gMSA6IC0xO1xuXHQgIH07XG5cblx0ICBpZiAoYXJnYyA9PT0gMCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdBdCBsZWFzdCBvbmUgdmFsdWUgc2hvdWxkIGJlIHBhc3NlZCB0byBtYXgoKScpO1xuXHQgIH0gZWxzZSBpZiAoYXJnYyA9PT0gMSkge1xuXHQgICAgaWYgKF90eXBlb2YoYXJndlswXSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIGFyID0gX29iajJBcnJheShhcmd2WzBdKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgcGFyYW1ldGVyIGNvdW50IGZvciBtYXgoKScpO1xuXHQgICAgfVxuXHQgICAgaWYgKGFyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgZWxlbWVudCBmb3IgbWF4KCknKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgYXIgPSBhcmd2O1xuXHQgIH1cblxuXHQgIHJldFZhbCA9IGFyWzBdO1xuXHQgIGZvciAoaSA9IDEsIG4gPSBhci5sZW5ndGg7IGkgPCBuOyArK2kpIHtcblx0ICAgIGlmIChfY29tcGFyZShyZXRWYWwsIGFyW2ldKSA9PT0gMSkge1xuXHQgICAgICByZXRWYWwgPSBhcltpXTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gcmV0VmFsO1xuXHR9O1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1tYXguanMubWFwXG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1pbigpIHtcblx0ICAvLyAgZGlzY3VzcyBhdDogaHR0cDovL2xvY3V0dXMuaW8vcGhwL21pbi9cblx0ICAvLyBvcmlnaW5hbCBieTogT25ubyBNYXJzbWFuIChodHRwczovL3R3aXR0ZXIuY29tL29ubm9tYXJzbWFuKVxuXHQgIC8vICByZXZpc2VkIGJ5OiBPbm5vIE1hcnNtYW4gKGh0dHBzOi8vdHdpdHRlci5jb20vb25ub21hcnNtYW4pXG5cdCAgLy8gaW1wcm92ZWQgYnk6IEphY2tcblx0ICAvLyAgICAgIG5vdGUgMTogTG9uZyBjb2RlIGNhdXNlIHdlJ3JlIGFpbWluZyBmb3IgbWF4aW11bSBQSFAgY29tcGF0aWJpbGl0eVxuXHQgIC8vICAgZXhhbXBsZSAxOiBtaW4oMSwgMywgNSwgNiwgNylcblx0ICAvLyAgIHJldHVybnMgMTogMVxuXHQgIC8vICAgZXhhbXBsZSAyOiBtaW4oWzIsIDQsIDVdKVxuXHQgIC8vICAgcmV0dXJucyAyOiAyXG5cdCAgLy8gICBleGFtcGxlIDM6IG1pbigwLCAnaGVsbG8nKVxuXHQgIC8vICAgcmV0dXJucyAzOiAwXG5cdCAgLy8gICBleGFtcGxlIDQ6IG1pbignaGVsbG8nLCAwKVxuXHQgIC8vICAgcmV0dXJucyA0OiAnaGVsbG8nXG5cdCAgLy8gICBleGFtcGxlIDU6IG1pbigtMSwgJ2hlbGxvJylcblx0ICAvLyAgIHJldHVybnMgNTogLTFcblx0ICAvLyAgIGV4YW1wbGUgNjogbWluKFsyLCA0LCA4XSwgWzIsIDUsIDddKVxuXHQgIC8vICAgcmV0dXJucyA2OiBbMiwgNCwgOF1cblxuXHQgIHZhciBhcjtcblx0ICB2YXIgcmV0VmFsO1xuXHQgIHZhciBpID0gMDtcblx0ICB2YXIgbiA9IDA7XG5cdCAgdmFyIGFyZ3YgPSBhcmd1bWVudHM7XG5cdCAgdmFyIGFyZ2MgPSBhcmd2Lmxlbmd0aDtcblx0ICB2YXIgX29iajJBcnJheSA9IGZ1bmN0aW9uIF9vYmoyQXJyYXkob2JqKSB7XG5cdCAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcblx0ICAgICAgcmV0dXJuIG9iajtcblx0ICAgIH1cblx0ICAgIHZhciBhciA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcblx0ICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHQgICAgICAgIGFyLnB1c2gob2JqW2ldKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFyO1xuXHQgIH07XG5cblx0ICB2YXIgX2NvbXBhcmUgPSBmdW5jdGlvbiBfY29tcGFyZShjdXJyZW50LCBuZXh0KSB7XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB2YXIgbiA9IDA7XG5cdCAgICB2YXIgdG1wID0gMDtcblx0ICAgIHZhciBubCA9IDA7XG5cdCAgICB2YXIgY2wgPSAwO1xuXG5cdCAgICBpZiAoY3VycmVudCA9PT0gbmV4dCkge1xuXHQgICAgICByZXR1cm4gMDtcblx0ICAgIH0gZWxzZSBpZiAoKHR5cGVvZiBjdXJyZW50ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjdXJyZW50KSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIGlmICgodHlwZW9mIG5leHQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5leHQpKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBjdXJyZW50ID0gX29iajJBcnJheShjdXJyZW50KTtcblx0ICAgICAgICBuZXh0ID0gX29iajJBcnJheShuZXh0KTtcblx0ICAgICAgICBjbCA9IGN1cnJlbnQubGVuZ3RoO1xuXHQgICAgICAgIG5sID0gbmV4dC5sZW5ndGg7XG5cdCAgICAgICAgaWYgKG5sID4gY2wpIHtcblx0ICAgICAgICAgIHJldHVybiAxO1xuXHQgICAgICAgIH0gZWxzZSBpZiAobmwgPCBjbCkge1xuXHQgICAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IgKGkgPSAwLCBuID0gY2w7IGkgPCBuOyArK2kpIHtcblx0ICAgICAgICAgIHRtcCA9IF9jb21wYXJlKGN1cnJlbnRbaV0sIG5leHRbaV0pO1xuXHQgICAgICAgICAgaWYgKHRtcCA9PT0gMSkge1xuXHQgICAgICAgICAgICByZXR1cm4gMTtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAodG1wID09PSAtMSkge1xuXHQgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAwO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAtMTtcblx0ICAgIH0gZWxzZSBpZiAoKHR5cGVvZiBuZXh0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuZXh0KSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIHJldHVybiAxO1xuXHQgICAgfSBlbHNlIGlmIChpc05hTihuZXh0KSAmJiAhaXNOYU4oY3VycmVudCkpIHtcblx0ICAgICAgaWYgKGN1cnJlbnQgPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gY3VycmVudCA8IDAgPyAxIDogLTE7XG5cdCAgICB9IGVsc2UgaWYgKGlzTmFOKGN1cnJlbnQpICYmICFpc05hTihuZXh0KSkge1xuXHQgICAgICBpZiAobmV4dCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiAwO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBuZXh0ID4gMCA/IDEgOiAtMTtcblx0ICAgIH1cblxuXHQgICAgaWYgKG5leHQgPT09IGN1cnJlbnQpIHtcblx0ICAgICAgcmV0dXJuIDA7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBuZXh0ID4gY3VycmVudCA/IDEgOiAtMTtcblx0ICB9O1xuXG5cdCAgaWYgKGFyZ2MgPT09IDApIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignQXQgbGVhc3Qgb25lIHZhbHVlIHNob3VsZCBiZSBwYXNzZWQgdG8gbWluKCknKTtcblx0ICB9IGVsc2UgaWYgKGFyZ2MgPT09IDEpIHtcblx0ICAgIGlmIChfdHlwZW9mKGFyZ3ZbMF0pID09PSAnb2JqZWN0Jykge1xuXHQgICAgICBhciA9IF9vYmoyQXJyYXkoYXJndlswXSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dyb25nIHBhcmFtZXRlciBjb3VudCBmb3IgbWluKCknKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGFyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgZWxlbWVudCBmb3IgbWluKCknKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgYXIgPSBhcmd2O1xuXHQgIH1cblxuXHQgIHJldFZhbCA9IGFyWzBdO1xuXG5cdCAgZm9yIChpID0gMSwgbiA9IGFyLmxlbmd0aDsgaSA8IG47ICsraSkge1xuXHQgICAgaWYgKF9jb21wYXJlKHJldFZhbCwgYXJbaV0pID09PSAtMSkge1xuXHQgICAgICByZXRWYWwgPSBhcltpXTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gcmV0VmFsO1xuXHR9O1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1taW4uanMubWFwXG5cbi8qKiovIH0sXG4vKiAxMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaXBfdGFncyhpbnB1dCwgYWxsb3dlZCkge1xuXHQgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG5cdCAgLy8gIGRpc2N1c3MgYXQ6IGh0dHA6Ly9sb2N1dHVzLmlvL3BocC9zdHJpcF90YWdzL1xuXHQgIC8vIG9yaWdpbmFsIGJ5OiBLZXZpbiB2YW4gWm9ubmV2ZWxkIChodHRwOi8va3Z6LmlvKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBMdWtlIEdvZGZyZXlcblx0ICAvLyBpbXByb3ZlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2t2ei5pbylcblx0ICAvLyAgICBpbnB1dCBieTogUHVsXG5cdCAgLy8gICAgaW5wdXQgYnk6IEFsZXhcblx0ICAvLyAgICBpbnB1dCBieTogTWFyYyBQYWxhdVxuXHQgIC8vICAgIGlucHV0IGJ5OiBCcmV0dCBaYW1pciAoaHR0cDovL2JyZXR0LXphbWlyLm1lKVxuXHQgIC8vICAgIGlucHV0IGJ5OiBCb2JieSBEcmFrZVxuXHQgIC8vICAgIGlucHV0IGJ5OiBFdmVydGphbiBHYXJyZXRzZW5cblx0ICAvLyBidWdmaXhlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2t2ei5pbylcblx0ICAvLyBidWdmaXhlZCBieTogT25ubyBNYXJzbWFuIChodHRwczovL3R3aXR0ZXIuY29tL29ubm9tYXJzbWFuKVxuXHQgIC8vIGJ1Z2ZpeGVkIGJ5OiBLZXZpbiB2YW4gWm9ubmV2ZWxkIChodHRwOi8va3Z6LmlvKVxuXHQgIC8vIGJ1Z2ZpeGVkIGJ5OiBLZXZpbiB2YW4gWm9ubmV2ZWxkIChodHRwOi8va3Z6LmlvKVxuXHQgIC8vIGJ1Z2ZpeGVkIGJ5OiBFcmljIE5hZ2VsXG5cdCAgLy8gYnVnZml4ZWQgYnk6IEtldmluIHZhbiBab25uZXZlbGQgKGh0dHA6Ly9rdnouaW8pXG5cdCAgLy8gYnVnZml4ZWQgYnk6IFRvbWFzeiBXZXNvbG93c2tpXG5cdCAgLy8gIHJldmlzZWQgYnk6IFJhZmHFgiBLdWthd3NraSAoaHR0cDovL2Jsb2cua3VrYXdza2kucGwpXG5cdCAgLy8gICBleGFtcGxlIDE6IHN0cmlwX3RhZ3MoJzxwPktldmluPC9wPiA8YnIgLz48Yj52YW48L2I+IDxpPlpvbm5ldmVsZDwvaT4nLCAnPGk+PGI+Jylcblx0ICAvLyAgIHJldHVybnMgMTogJ0tldmluIDxiPnZhbjwvYj4gPGk+Wm9ubmV2ZWxkPC9pPidcblx0ICAvLyAgIGV4YW1wbGUgMjogc3RyaXBfdGFncygnPHA+S2V2aW4gPGltZyBzcmM9XCJzb21laW1hZ2UucG5nXCIgb25tb3VzZW92ZXI9XCJzb21lRnVuY3Rpb24oKVwiPnZhbiA8aT5ab25uZXZlbGQ8L2k+PC9wPicsICc8cD4nKVxuXHQgIC8vICAgcmV0dXJucyAyOiAnPHA+S2V2aW4gdmFuIFpvbm5ldmVsZDwvcD4nXG5cdCAgLy8gICBleGFtcGxlIDM6IHN0cmlwX3RhZ3MoXCI8YSBocmVmPSdodHRwOi8va3Z6LmlvJz5LZXZpbiB2YW4gWm9ubmV2ZWxkPC9hPlwiLCBcIjxhPlwiKVxuXHQgIC8vICAgcmV0dXJucyAzOiBcIjxhIGhyZWY9J2h0dHA6Ly9rdnouaW8nPktldmluIHZhbiBab25uZXZlbGQ8L2E+XCJcblx0ICAvLyAgIGV4YW1wbGUgNDogc3RyaXBfdGFncygnMSA8IDUgNSA+IDEnKVxuXHQgIC8vICAgcmV0dXJucyA0OiAnMSA8IDUgNSA+IDEnXG5cdCAgLy8gICBleGFtcGxlIDU6IHN0cmlwX3RhZ3MoJzEgPGJyLz4gMScpXG5cdCAgLy8gICByZXR1cm5zIDU6ICcxICAxJ1xuXHQgIC8vICAgZXhhbXBsZSA2OiBzdHJpcF90YWdzKCcxIDxici8+IDEnLCAnPGJyPicpXG5cdCAgLy8gICByZXR1cm5zIDY6ICcxIDxici8+IDEnXG5cdCAgLy8gICBleGFtcGxlIDc6IHN0cmlwX3RhZ3MoJzEgPGJyLz4gMScsICc8YnI+PGJyLz4nKVxuXHQgIC8vICAgcmV0dXJucyA3OiAnMSA8YnIvPiAxJ1xuXG5cdCAgLy8gbWFraW5nIHN1cmUgdGhlIGFsbG93ZWQgYXJnIGlzIGEgc3RyaW5nIGNvbnRhaW5pbmcgb25seSB0YWdzIGluIGxvd2VyY2FzZSAoPGE+PGI+PGM+KVxuXHQgIGFsbG93ZWQgPSAoKChhbGxvd2VkIHx8ICcnKSArICcnKS50b0xvd2VyQ2FzZSgpLm1hdGNoKC88W2Etel1bYS16MC05XSo+L2cpIHx8IFtdKS5qb2luKCcnKTtcblxuXHQgIHZhciB0YWdzID0gLzxcXC8/KFthLXpdW2EtejAtOV0qKVxcYltePl0qPi9naTtcblx0ICB2YXIgY29tbWVudHNBbmRQaHBUYWdzID0gLzwhLS1bXFxzXFxTXSo/LS0+fDxcXD8oPzpwaHApP1tcXHNcXFNdKj9cXD8+L2dpO1xuXG5cdCAgcmV0dXJuIGlucHV0LnJlcGxhY2UoY29tbWVudHNBbmRQaHBUYWdzLCAnJykucmVwbGFjZSh0YWdzLCBmdW5jdGlvbiAoJDAsICQxKSB7XG5cdCAgICByZXR1cm4gYWxsb3dlZC5pbmRleE9mKCc8JyArICQxLnRvTG93ZXJDYXNlKCkgKyAnPicpID4gLTEgPyAkMCA6ICcnO1xuXHQgIH0pO1xuXHR9O1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1zdHJpcF90YWdzLmpzLm1hcFxuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cnRvdGltZSh0ZXh0LCBub3cpIHtcblx0ICAvLyAgZGlzY3VzcyBhdDogaHR0cDovL2xvY3V0dXMuaW8vcGhwL3N0cnRvdGltZS9cblx0ICAvLyBvcmlnaW5hbCBieTogQ2FpbyBBcmllZGUgKGh0dHA6Ly9jYWlvYXJpZWRlLmNvbSlcblx0ICAvLyBpbXByb3ZlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2t2ei5pbylcblx0ICAvLyBpbXByb3ZlZCBieTogQ2FpbyBBcmllZGUgKGh0dHA6Ly9jYWlvYXJpZWRlLmNvbSlcblx0ICAvLyBpbXByb3ZlZCBieTogQS4gTWF0w61hcyBRdWV6YWRhIChodHRwOi8vYW1hdGlhc3EuY29tKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBwcmV1dGVyXG5cdCAgLy8gaW1wcm92ZWQgYnk6IEJyZXR0IFphbWlyIChodHRwOi8vYnJldHQtemFtaXIubWUpXG5cdCAgLy8gaW1wcm92ZWQgYnk6IE1pcmtvIEZhYmVyXG5cdCAgLy8gICAgaW5wdXQgYnk6IERhdmlkXG5cdCAgLy8gYnVnZml4ZWQgYnk6IFdhZ25lciBCLiBTb2FyZXNcblx0ICAvLyBidWdmaXhlZCBieTogQXJ0dXIgVGNoZXJueWNoZXZcblx0ICAvLyBidWdmaXhlZCBieTogU3RlcGhhbiBCw7ZzY2gtUGxlcGVsaXRzIChodHRwOi8vZ2l0aHViLmNvbS9wbGVwZSlcblx0ICAvLyAgICAgIG5vdGUgMTogRXhhbXBsZXMgYWxsIGhhdmUgYSBmaXhlZCB0aW1lc3RhbXAgdG8gcHJldmVudFxuXHQgIC8vICAgICAgbm90ZSAxOiB0ZXN0cyB0byBmYWlsIGJlY2F1c2Ugb2YgdmFyaWFibGUgdGltZSh6b25lcylcblx0ICAvLyAgIGV4YW1wbGUgMTogc3RydG90aW1lKCcrMSBkYXknLCAxMTI5NjMzMjAwKVxuXHQgIC8vICAgcmV0dXJucyAxOiAxMTI5NzE5NjAwXG5cdCAgLy8gICBleGFtcGxlIDI6IHN0cnRvdGltZSgnKzEgd2VlayAyIGRheXMgNCBob3VycyAyIHNlY29uZHMnLCAxMTI5NjMzMjAwKVxuXHQgIC8vICAgcmV0dXJucyAyOiAxMTMwNDI1MjAyXG5cdCAgLy8gICBleGFtcGxlIDM6IHN0cnRvdGltZSgnbGFzdCBtb250aCcsIDExMjk2MzMyMDApXG5cdCAgLy8gICByZXR1cm5zIDM6IDExMjcwNDEyMDBcblx0ICAvLyAgIGV4YW1wbGUgNDogc3RydG90aW1lKCcyMDA5LTA1LTA0IDA4OjMwOjAwIEdNVCcpXG5cdCAgLy8gICByZXR1cm5zIDQ6IDEyNDE0MjU4MDBcblx0ICAvLyAgIGV4YW1wbGUgNTogc3RydG90aW1lKCcyMDA5LTA1LTA0IDA4OjMwOjAwKzAwJylcblx0ICAvLyAgIHJldHVybnMgNTogMTI0MTQyNTgwMFxuXHQgIC8vICAgZXhhbXBsZSA2OiBzdHJ0b3RpbWUoJzIwMDktMDUtMDQgMDg6MzA6MDArMDI6MDAnKVxuXHQgIC8vICAgcmV0dXJucyA2OiAxMjQxNDE4NjAwXG5cdCAgLy8gICBleGFtcGxlIDc6IHN0cnRvdGltZSgnMjAwOS0wNS0wNFQwODozMDowMFonKVxuXHQgIC8vICAgcmV0dXJucyA3OiAxMjQxNDI1ODAwXG5cblx0ICB2YXIgcGFyc2VkO1xuXHQgIHZhciBtYXRjaDtcblx0ICB2YXIgdG9kYXk7XG5cdCAgdmFyIHllYXI7XG5cdCAgdmFyIGRhdGU7XG5cdCAgdmFyIGRheXM7XG5cdCAgdmFyIHJhbmdlcztcblx0ICB2YXIgbGVuO1xuXHQgIHZhciB0aW1lcztcblx0ICB2YXIgcmVnZXg7XG5cdCAgdmFyIGk7XG5cdCAgdmFyIGZhaWwgPSBmYWxzZTtcblxuXHQgIGlmICghdGV4dCkge1xuXHQgICAgcmV0dXJuIGZhaWw7XG5cdCAgfVxuXG5cdCAgLy8gVW5lY2Vzc2FyeSBzcGFjZXNcblx0ICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJykucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpLnJlcGxhY2UoL1tcXHRcXHJcXG5dL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuXG5cdCAgLy8gaW4gY29udHJhc3QgdG8gcGhwLCBqcyBEYXRlLnBhcnNlIGZ1bmN0aW9uIGludGVycHJldHM6XG5cdCAgLy8gZGF0ZXMgZ2l2ZW4gYXMgeXl5eS1tbS1kZCBhcyBpbiB0aW1lem9uZTogVVRDLFxuXHQgIC8vIGRhdGVzIHdpdGggXCIuXCIgb3IgXCItXCIgYXMgTURZIGluc3RlYWQgb2YgRE1ZXG5cdCAgLy8gZGF0ZXMgd2l0aCB0d28tZGlnaXQgeWVhcnMgZGlmZmVyZW50bHlcblx0ICAvLyBldGMuLi5ldGMuLi5cblx0ICAvLyAuLi50aGVyZWZvcmUgd2UgbWFudWFsbHkgcGFyc2UgbG90cyBvZiBjb21tb24gZGF0ZSBmb3JtYXRzXG5cdCAgdmFyIHBhdHRlcm4gPSBuZXcgUmVnRXhwKFsnXihcXFxcZHsxLDR9KScsICcoW1xcXFwtXFxcXC5cXFxcLzpdKScsICcoXFxcXGR7MSwyfSknLCAnKFtcXFxcLVxcXFwuXFxcXC86XSknLCAnKFxcXFxkezEsNH0pJywgJyg/OlxcXFxzKFxcXFxkezEsMn0pOihcXFxcZHsyfSk/Oj8oXFxcXGR7Mn0pPyk/JywgJyg/OlxcXFxzKFtBLVpdKyk/KT8kJ10uam9pbignJykpO1xuXHQgIG1hdGNoID0gdGV4dC5tYXRjaChwYXR0ZXJuKTtcblxuXHQgIGlmIChtYXRjaCAmJiBtYXRjaFsyXSA9PT0gbWF0Y2hbNF0pIHtcblx0ICAgIGlmIChtYXRjaFsxXSA+IDE5MDEpIHtcblx0ICAgICAgc3dpdGNoIChtYXRjaFsyXSkge1xuXHQgICAgICAgIGNhc2UgJy0nOlxuXHQgICAgICAgICAgLy8gWVlZWS1NLURcblx0ICAgICAgICAgIGlmIChtYXRjaFszXSA+IDEyIHx8IG1hdGNoWzVdID4gMzEpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhaWw7XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShtYXRjaFsxXSwgcGFyc2VJbnQobWF0Y2hbM10sIDEwKSAtIDEsIG1hdGNoWzVdLCBtYXRjaFs2XSB8fCAwLCBtYXRjaFs3XSB8fCAwLCBtYXRjaFs4XSB8fCAwLCBtYXRjaFs5XSB8fCAwKSAvIDEwMDA7XG5cdCAgICAgICAgY2FzZSAnLic6XG5cdCAgICAgICAgICAvLyBZWVlZLk0uRCBpcyBub3QgcGFyc2VkIGJ5IHN0cnRvdGltZSgpXG5cdCAgICAgICAgICByZXR1cm4gZmFpbDtcblx0ICAgICAgICBjYXNlICcvJzpcblx0ICAgICAgICAgIC8vIFlZWVkvTS9EXG5cdCAgICAgICAgICBpZiAobWF0Y2hbM10gPiAxMiB8fCBtYXRjaFs1XSA+IDMxKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWlsO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWF0Y2hbMV0sIHBhcnNlSW50KG1hdGNoWzNdLCAxMCkgLSAxLCBtYXRjaFs1XSwgbWF0Y2hbNl0gfHwgMCwgbWF0Y2hbN10gfHwgMCwgbWF0Y2hbOF0gfHwgMCwgbWF0Y2hbOV0gfHwgMCkgLyAxMDAwO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKG1hdGNoWzVdID4gMTkwMSkge1xuXHQgICAgICBzd2l0Y2ggKG1hdGNoWzJdKSB7XG5cdCAgICAgICAgY2FzZSAnLSc6XG5cdCAgICAgICAgICAvLyBELU0tWVlZWVxuXHQgICAgICAgICAgaWYgKG1hdGNoWzNdID4gMTIgfHwgbWF0Y2hbMV0gPiAzMSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFpbDtcblx0ICAgICAgICAgIH1cblxuXHQgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1hdGNoWzVdLCBwYXJzZUludChtYXRjaFszXSwgMTApIC0gMSwgbWF0Y2hbMV0sIG1hdGNoWzZdIHx8IDAsIG1hdGNoWzddIHx8IDAsIG1hdGNoWzhdIHx8IDAsIG1hdGNoWzldIHx8IDApIC8gMTAwMDtcblx0ICAgICAgICBjYXNlICcuJzpcblx0ICAgICAgICAgIC8vIEQuTS5ZWVlZXG5cdCAgICAgICAgICBpZiAobWF0Y2hbM10gPiAxMiB8fCBtYXRjaFsxXSA+IDMxKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWlsO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWF0Y2hbNV0sIHBhcnNlSW50KG1hdGNoWzNdLCAxMCkgLSAxLCBtYXRjaFsxXSwgbWF0Y2hbNl0gfHwgMCwgbWF0Y2hbN10gfHwgMCwgbWF0Y2hbOF0gfHwgMCwgbWF0Y2hbOV0gfHwgMCkgLyAxMDAwO1xuXHQgICAgICAgIGNhc2UgJy8nOlxuXHQgICAgICAgICAgLy8gTS9EL1lZWVlcblx0ICAgICAgICAgIGlmIChtYXRjaFsxXSA+IDEyIHx8IG1hdGNoWzNdID4gMzEpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhaWw7XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShtYXRjaFs1XSwgcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSAtIDEsIG1hdGNoWzNdLCBtYXRjaFs2XSB8fCAwLCBtYXRjaFs3XSB8fCAwLCBtYXRjaFs4XSB8fCAwLCBtYXRjaFs5XSB8fCAwKSAvIDEwMDA7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHN3aXRjaCAobWF0Y2hbMl0pIHtcblx0ICAgICAgICBjYXNlICctJzpcblx0ICAgICAgICAgIC8vIFlZLU0tRFxuXHQgICAgICAgICAgaWYgKG1hdGNoWzNdID4gMTIgfHwgbWF0Y2hbNV0gPiAzMSB8fCBtYXRjaFsxXSA8IDcwICYmIG1hdGNoWzFdID4gMzgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhaWw7XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICAgIHllYXIgPSBtYXRjaFsxXSA+PSAwICYmIG1hdGNoWzFdIDw9IDM4ID8gK21hdGNoWzFdICsgMjAwMCA6IG1hdGNoWzFdO1xuXHQgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIHBhcnNlSW50KG1hdGNoWzNdLCAxMCkgLSAxLCBtYXRjaFs1XSwgbWF0Y2hbNl0gfHwgMCwgbWF0Y2hbN10gfHwgMCwgbWF0Y2hbOF0gfHwgMCwgbWF0Y2hbOV0gfHwgMCkgLyAxMDAwO1xuXHQgICAgICAgIGNhc2UgJy4nOlxuXHQgICAgICAgICAgLy8gRC5NLllZIG9yIEguTU0uU1Ncblx0ICAgICAgICAgIGlmIChtYXRjaFs1XSA+PSA3MCkge1xuXHQgICAgICAgICAgICAvLyBELk0uWVlcblx0ICAgICAgICAgICAgaWYgKG1hdGNoWzNdID4gMTIgfHwgbWF0Y2hbMV0gPiAzMSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBmYWlsO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1hdGNoWzVdLCBwYXJzZUludChtYXRjaFszXSwgMTApIC0gMSwgbWF0Y2hbMV0sIG1hdGNoWzZdIHx8IDAsIG1hdGNoWzddIHx8IDAsIG1hdGNoWzhdIHx8IDAsIG1hdGNoWzldIHx8IDApIC8gMTAwMDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmIChtYXRjaFs1XSA8IDYwICYmICFtYXRjaFs2XSkge1xuXHQgICAgICAgICAgICAvLyBILk1NLlNTXG5cdCAgICAgICAgICAgIGlmIChtYXRjaFsxXSA+IDIzIHx8IG1hdGNoWzNdID4gNTkpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gZmFpbDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHRvZGF5ID0gbmV3IERhdGUoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSwgbWF0Y2hbMV0gfHwgMCwgbWF0Y2hbM10gfHwgMCwgbWF0Y2hbNV0gfHwgMCwgbWF0Y2hbOV0gfHwgMCkgLyAxMDAwO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAvLyBpbnZhbGlkIGZvcm1hdCwgY2Fubm90IGJlIHBhcnNlZFxuXHQgICAgICAgICAgcmV0dXJuIGZhaWw7XG5cdCAgICAgICAgY2FzZSAnLyc6XG5cdCAgICAgICAgICAvLyBNL0QvWVlcblx0ICAgICAgICAgIGlmIChtYXRjaFsxXSA+IDEyIHx8IG1hdGNoWzNdID4gMzEgfHwgbWF0Y2hbNV0gPCA3MCAmJiBtYXRjaFs1XSA+IDM4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWlsO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICB5ZWFyID0gbWF0Y2hbNV0gPj0gMCAmJiBtYXRjaFs1XSA8PSAzOCA/ICttYXRjaFs1XSArIDIwMDAgOiBtYXRjaFs1XTtcblx0ICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBwYXJzZUludChtYXRjaFsxXSwgMTApIC0gMSwgbWF0Y2hbM10sIG1hdGNoWzZdIHx8IDAsIG1hdGNoWzddIHx8IDAsIG1hdGNoWzhdIHx8IDAsIG1hdGNoWzldIHx8IDApIC8gMTAwMDtcblx0ICAgICAgICBjYXNlICc6Jzpcblx0ICAgICAgICAgIC8vIEhIOk1NOlNTXG5cdCAgICAgICAgICBpZiAobWF0Y2hbMV0gPiAyMyB8fCBtYXRjaFszXSA+IDU5IHx8IG1hdGNoWzVdID4gNTkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhaWw7XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICAgIHRvZGF5ID0gbmV3IERhdGUoKTtcblx0ICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCksIG1hdGNoWzFdIHx8IDAsIG1hdGNoWzNdIHx8IDAsIG1hdGNoWzVdIHx8IDApIC8gMTAwMDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblxuXHQgIC8vIG90aGVyIGZvcm1hdHMgYW5kIFwibm93XCIgc2hvdWxkIGJlIHBhcnNlZCBieSBEYXRlLnBhcnNlKClcblx0ICBpZiAodGV4dCA9PT0gJ25vdycpIHtcblx0ICAgIHJldHVybiBub3cgPT09IG51bGwgfHwgaXNOYU4obm93KSA/IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCB8IDAgOiBub3cgfCAwO1xuXHQgIH1cblx0ICBpZiAoIWlzTmFOKHBhcnNlZCA9IERhdGUucGFyc2UodGV4dCkpKSB7XG5cdCAgICByZXR1cm4gcGFyc2VkIC8gMTAwMCB8IDA7XG5cdCAgfVxuXHQgIC8vIEJyb3dzZXJzICE9PSBDaHJvbWUgaGF2ZSBwcm9ibGVtcyBwYXJzaW5nIElTTyA4NjAxIGRhdGUgc3RyaW5ncywgYXMgdGhleSBkb1xuXHQgIC8vIG5vdCBhY2NlcHQgbG93ZXIgY2FzZSBjaGFyYWN0ZXJzLCBzcGFjZSwgb3Igc2hvcnRlbmVkIHRpbWUgem9uZXMuXG5cdCAgLy8gVGhlcmVmb3JlLCBmaXggdGhlc2UgcHJvYmxlbXMgYW5kIHRyeSBhZ2Fpbi5cblx0ICAvLyBFeGFtcGxlczpcblx0ICAvLyAgIDIwMTUtMDQtMTUgMjA6MzM6NTkrMDJcblx0ICAvLyAgIDIwMTUtMDQtMTUgMjA6MzM6NTl6XG5cdCAgLy8gICAyMDE1LTA0LTE1dDIwOjMzOjU5KzAyOjAwXG5cdCAgcGF0dGVybiA9IG5ldyBSZWdFeHAoWydeKFswLTldezR9LVswLTldezJ9LVswLTldezJ9KScsICdbIHRdJywgJyhbMC05XXsyfTpbMC05XXsyfTpbMC05XXsyfShcXFxcLlswLTldKyk/KScsICcoW1xcXFwrLV1bMC05XXsyfSg6WzAtOV17Mn0pP3x6KSddLmpvaW4oJycpKTtcblx0ICBtYXRjaCA9IHRleHQubWF0Y2gocGF0dGVybik7XG5cdCAgaWYgKG1hdGNoKSB7XG5cdCAgICAvLyBAdG9kbzogdGltZSB6b25lIGluZm9ybWF0aW9uXG5cdCAgICBpZiAobWF0Y2hbNF0gPT09ICd6Jykge1xuXHQgICAgICBtYXRjaFs0XSA9ICdaJztcblx0ICAgIH0gZWxzZSBpZiAobWF0Y2hbNF0ubWF0Y2goL14oWystXVswLTldezJ9KSQvKSkge1xuXHQgICAgICBtYXRjaFs0XSA9IG1hdGNoWzRdICsgJzowMCc7XG5cdCAgICB9XG5cblx0ICAgIGlmICghaXNOYU4ocGFyc2VkID0gRGF0ZS5wYXJzZShtYXRjaFsxXSArICdUJyArIG1hdGNoWzJdICsgbWF0Y2hbNF0pKSkge1xuXHQgICAgICByZXR1cm4gcGFyc2VkIC8gMTAwMCB8IDA7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgZGF0ZSA9IG5vdyA/IG5ldyBEYXRlKG5vdyAqIDEwMDApIDogbmV3IERhdGUoKTtcblx0ICBkYXlzID0ge1xuXHQgICAgJ3N1bic6IDAsXG5cdCAgICAnbW9uJzogMSxcblx0ICAgICd0dWUnOiAyLFxuXHQgICAgJ3dlZCc6IDMsXG5cdCAgICAndGh1JzogNCxcblx0ICAgICdmcmknOiA1LFxuXHQgICAgJ3NhdCc6IDZcblx0ICB9O1xuXHQgIHJhbmdlcyA9IHtcblx0ICAgICd5ZWEnOiAnRnVsbFllYXInLFxuXHQgICAgJ21vbic6ICdNb250aCcsXG5cdCAgICAnZGF5JzogJ0RhdGUnLFxuXHQgICAgJ2hvdSc6ICdIb3VycycsXG5cdCAgICAnbWluJzogJ01pbnV0ZXMnLFxuXHQgICAgJ3NlYyc6ICdTZWNvbmRzJ1xuXHQgIH07XG5cblx0ICBmdW5jdGlvbiBsYXN0TmV4dCh0eXBlLCByYW5nZSwgbW9kaWZpZXIpIHtcblx0ICAgIHZhciBkaWZmO1xuXHQgICAgdmFyIGRheSA9IGRheXNbcmFuZ2VdO1xuXG5cdCAgICBpZiAodHlwZW9mIGRheSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgZGlmZiA9IGRheSAtIGRhdGUuZ2V0RGF5KCk7XG5cblx0ICAgICAgaWYgKGRpZmYgPT09IDApIHtcblx0ICAgICAgICBkaWZmID0gNyAqIG1vZGlmaWVyO1xuXHQgICAgICB9IGVsc2UgaWYgKGRpZmYgPiAwICYmIHR5cGUgPT09ICdsYXN0Jykge1xuXHQgICAgICAgIGRpZmYgLT0gNztcblx0ICAgICAgfSBlbHNlIGlmIChkaWZmIDwgMCAmJiB0eXBlID09PSAnbmV4dCcpIHtcblx0ICAgICAgICBkaWZmICs9IDc7XG5cdCAgICAgIH1cblxuXHQgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBkaWZmKTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICBmdW5jdGlvbiBwcm9jZXNzKHZhbCkge1xuXHQgICAgLy8gQHRvZG86IFJlY29uY2lsZSB0aGlzIHdpdGggcmVnZXggdXNpbmcgXFxzLCB0YWtpbmcgaW50byBhY2NvdW50XG5cdCAgICAvLyBicm93c2VyIGlzc3VlcyB3aXRoIHNwbGl0IGFuZCByZWdleGVzXG5cdCAgICB2YXIgc3BsdCA9IHZhbC5zcGxpdCgnICcpO1xuXHQgICAgdmFyIHR5cGUgPSBzcGx0WzBdO1xuXHQgICAgdmFyIHJhbmdlID0gc3BsdFsxXS5zdWJzdHJpbmcoMCwgMyk7XG5cdCAgICB2YXIgdHlwZUlzTnVtYmVyID0gL1xcZCsvLnRlc3QodHlwZSk7XG5cdCAgICB2YXIgYWdvID0gc3BsdFsyXSA9PT0gJ2Fnbyc7XG5cdCAgICB2YXIgbnVtID0gKHR5cGUgPT09ICdsYXN0JyA/IC0xIDogMSkgKiAoYWdvID8gLTEgOiAxKTtcblxuXHQgICAgaWYgKHR5cGVJc051bWJlcikge1xuXHQgICAgICBudW0gKj0gcGFyc2VJbnQodHlwZSwgMTApO1xuXHQgICAgfVxuXG5cdCAgICBpZiAocmFuZ2VzLmhhc093blByb3BlcnR5KHJhbmdlKSAmJiAhc3BsdFsxXS5tYXRjaCgvXm1vbihkYXl8XFwuKT8kL2kpKSB7XG5cdCAgICAgIHJldHVybiBkYXRlWydzZXQnICsgcmFuZ2VzW3JhbmdlXV0oZGF0ZVsnZ2V0JyArIHJhbmdlc1tyYW5nZV1dKCkgKyBudW0pO1xuXHQgICAgfVxuXG5cdCAgICBpZiAocmFuZ2UgPT09ICd3ZWUnKSB7XG5cdCAgICAgIHJldHVybiBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBudW0gKiA3KTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHR5cGUgPT09ICduZXh0JyB8fCB0eXBlID09PSAnbGFzdCcpIHtcblx0ICAgICAgbGFzdE5leHQodHlwZSwgcmFuZ2UsIG51bSk7XG5cdCAgICB9IGVsc2UgaWYgKCF0eXBlSXNOdW1iZXIpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cblx0ICB0aW1lcyA9ICcoeWVhcnM/fG1vbnRocz98d2Vla3M/fGRheXM/fGhvdXJzP3xtaW51dGVzP3xtaW58c2Vjb25kcz98c2VjJyArICd8c3VuZGF5fHN1blxcXFwuP3xtb25kYXl8bW9uXFxcXC4/fHR1ZXNkYXl8dHVlXFxcXC4/fHdlZG5lc2RheXx3ZWRcXFxcLj8nICsgJ3x0aHVyc2RheXx0aHVcXFxcLj98ZnJpZGF5fGZyaVxcXFwuP3xzYXR1cmRheXxzYXRcXFxcLj8pJztcblx0ICByZWdleCA9ICcoWystXT9cXFxcZCtcXFxccycgKyB0aW1lcyArICd8JyArICcobGFzdHxuZXh0KVxcXFxzJyArIHRpbWVzICsgJykoXFxcXHNhZ28pPyc7XG5cblx0ICBtYXRjaCA9IHRleHQubWF0Y2gobmV3IFJlZ0V4cChyZWdleCwgJ2dpJykpO1xuXHQgIGlmICghbWF0Y2gpIHtcblx0ICAgIHJldHVybiBmYWlsO1xuXHQgIH1cblxuXHQgIGZvciAoaSA9IDAsIGxlbiA9IG1hdGNoLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICBpZiAoIXByb2Nlc3MobWF0Y2hbaV0pKSB7XG5cdCAgICAgIHJldHVybiBmYWlsO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiBkYXRlLmdldFRpbWUoKSAvIDEwMDA7XG5cdH07XG5cdC8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cnRvdGltZS5qcy5tYXBcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkYXRlKGZvcm1hdCwgdGltZXN0YW1wKSB7XG5cdCAgLy8gIGRpc2N1c3MgYXQ6IGh0dHA6Ly9sb2N1dHVzLmlvL3BocC9kYXRlL1xuXHQgIC8vIG9yaWdpbmFsIGJ5OiBDYXJsb3MgUi4gTC4gUm9kcmlndWVzIChodHRwOi8vd3d3LmpzZnJvbWhlbGwuY29tKVxuXHQgIC8vIG9yaWdpbmFsIGJ5OiBnZXR0aW1lb2ZkYXlcblx0ICAvLyAgICBwYXJ0cyBieTogUGV0ZXItUGF1bCBLb2NoIChodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2JlYXQuaHRtbClcblx0ICAvLyBpbXByb3ZlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2t2ei5pbylcblx0ICAvLyBpbXByb3ZlZCBieTogTWVFdGMgKGh0dHA6Ly95YXNzLm1lZXRjd2ViLmNvbSlcblx0ICAvLyBpbXByb3ZlZCBieTogQnJhZCBUb3Vlc25hcmRcblx0ICAvLyBpbXByb3ZlZCBieTogVGltIFdpZWxcblx0ICAvLyBpbXByb3ZlZCBieTogQnJ5YW4gRWxsaW90dFxuXHQgIC8vIGltcHJvdmVkIGJ5OiBEYXZpZCBSYW5kYWxsXG5cdCAgLy8gaW1wcm92ZWQgYnk6IFRoZXJpYXVsdCAoaHR0cHM6Ly9naXRodWIuY29tL1RoZXJpYXVsdClcblx0ICAvLyBpbXByb3ZlZCBieTogVGhlcmlhdWx0IChodHRwczovL2dpdGh1Yi5jb20vVGhlcmlhdWx0KVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBCcmV0dCBaYW1pciAoaHR0cDovL2JyZXR0LXphbWlyLm1lKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBUaGVyaWF1bHQgKGh0dHBzOi8vZ2l0aHViLmNvbS9UaGVyaWF1bHQpXG5cdCAgLy8gaW1wcm92ZWQgYnk6IFRob21hcyBCZWF1Y291cnQgKGh0dHA6Ly93d3cud2ViYXBwLmZyKVxuXHQgIC8vIGltcHJvdmVkIGJ5OiBKVFxuXHQgIC8vIGltcHJvdmVkIGJ5OiBUaGVyaWF1bHQgKGh0dHBzOi8vZ2l0aHViLmNvbS9UaGVyaWF1bHQpXG5cdCAgLy8gaW1wcm92ZWQgYnk6IFJhZmHFgiBLdWthd3NraSAoaHR0cDovL2Jsb2cua3VrYXdza2kucGwpXG5cdCAgLy8gaW1wcm92ZWQgYnk6IFRoZXJpYXVsdCAoaHR0cHM6Ly9naXRodWIuY29tL1RoZXJpYXVsdClcblx0ICAvLyAgICBpbnB1dCBieTogQnJldHQgWmFtaXIgKGh0dHA6Ly9icmV0dC16YW1pci5tZSlcblx0ICAvLyAgICBpbnB1dCBieTogbWFqYWtcblx0ICAvLyAgICBpbnB1dCBieTogQWxleFxuXHQgIC8vICAgIGlucHV0IGJ5OiBNYXJ0aW5cblx0ICAvLyAgICBpbnB1dCBieTogQWxleCBXaWxzb25cblx0ICAvLyAgICBpbnB1dCBieTogSGFyYXZpa2tcblx0ICAvLyBidWdmaXhlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2t2ei5pbylcblx0ICAvLyBidWdmaXhlZCBieTogbWFqYWtcblx0ICAvLyBidWdmaXhlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2t2ei5pbylcblx0ICAvLyBidWdmaXhlZCBieTogQnJldHQgWmFtaXIgKGh0dHA6Ly9icmV0dC16YW1pci5tZSlcblx0ICAvLyBidWdmaXhlZCBieTogb21pZCAoaHR0cDovL2xvY3V0dXMuaW8vcGhwLzM4MDozODAjY29tbWVudF8xMzcxMjIpXG5cdCAgLy8gYnVnZml4ZWQgYnk6IENocmlzIChodHRwOi8vd3d3LmRldm90aXMubmwvKVxuXHQgIC8vICAgICAgbm90ZSAxOiBVc2VzIGdsb2JhbDogbG9jdXR1cyB0byBzdG9yZSB0aGUgZGVmYXVsdCB0aW1lem9uZVxuXHQgIC8vICAgICAgbm90ZSAxOiBBbHRob3VnaCB0aGUgZnVuY3Rpb24gcG90ZW50aWFsbHkgYWxsb3dzIHRpbWV6b25lIGluZm9cblx0ICAvLyAgICAgIG5vdGUgMTogKHNlZSBub3RlcyksIGl0IGN1cnJlbnRseSBkb2VzIG5vdCBzZXRcblx0ICAvLyAgICAgIG5vdGUgMTogcGVyIGEgdGltZXpvbmUgc3BlY2lmaWVkIGJ5IGRhdGVfZGVmYXVsdF90aW1lem9uZV9zZXQoKS4gSW1wbGVtZW50ZXJzIG1pZ2h0IHVzZVxuXHQgIC8vICAgICAgbm90ZSAxOiAkbG9jdXR1cy5jdXJyZW50VGltZXpvbmVPZmZzZXQgYW5kXG5cdCAgLy8gICAgICBub3RlIDE6ICRsb2N1dHVzLmN1cnJlbnRUaW1lem9uZURTVCBzZXQgYnkgdGhhdCBmdW5jdGlvblxuXHQgIC8vICAgICAgbm90ZSAxOiBpbiBvcmRlciB0byBhZGp1c3QgdGhlIGRhdGVzIGluIHRoaXMgZnVuY3Rpb25cblx0ICAvLyAgICAgIG5vdGUgMTogKG9yIG91ciBvdGhlciBkYXRlIGZ1bmN0aW9ucyEpIGFjY29yZGluZ2x5XG5cdCAgLy8gICBleGFtcGxlIDE6IGRhdGUoJ0g6bTpzIFxcXFxtIFxcXFxpXFxcXHMgXFxcXG1cXFxcb1xcXFxuXFxcXHRcXFxcaCcsIDEwNjI0MDI0MDApXG5cdCAgLy8gICByZXR1cm5zIDE6ICcwNzowOTo0MCBtIGlzIG1vbnRoJ1xuXHQgIC8vICAgZXhhbXBsZSAyOiBkYXRlKCdGIGosIFksIGc6aSBhJywgMTA2MjQ2MjQwMClcblx0ICAvLyAgIHJldHVybnMgMjogJ1NlcHRlbWJlciAyLCAyMDAzLCAxMjoyNiBhbSdcblx0ICAvLyAgIGV4YW1wbGUgMzogZGF0ZSgnWSBXIG8nLCAxMDYyNDYyNDAwKVxuXHQgIC8vICAgcmV0dXJucyAzOiAnMjAwMyAzNiAyMDAzJ1xuXHQgIC8vICAgZXhhbXBsZSA0OiB2YXIgJHggPSBkYXRlKCdZIG0gZCcsIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwKVxuXHQgIC8vICAgZXhhbXBsZSA0OiAkeCA9ICR4ICsgJydcblx0ICAvLyAgIGV4YW1wbGUgNDogdmFyICRyZXN1bHQgPSAkeC5sZW5ndGggLy8gMjAwOSAwMSAwOVxuXHQgIC8vICAgcmV0dXJucyA0OiAxMFxuXHQgIC8vICAgZXhhbXBsZSA1OiBkYXRlKCdXJywgMTEwNDUzNDAwMClcblx0ICAvLyAgIHJldHVybnMgNTogJzUyJ1xuXHQgIC8vICAgZXhhbXBsZSA2OiBkYXRlKCdCIHQnLCAxMTA0NTM0MDAwKVxuXHQgIC8vICAgcmV0dXJucyA2OiAnOTk5IDMxJ1xuXHQgIC8vICAgZXhhbXBsZSA3OiBkYXRlKCdXIFUnLCAxMjkzNzUwMDAwLjgyKTsgLy8gMjAxMC0xMi0zMVxuXHQgIC8vICAgcmV0dXJucyA3OiAnNTIgMTI5Mzc1MDAwMCdcblx0ICAvLyAgIGV4YW1wbGUgODogZGF0ZSgnVycsIDEyOTM4MzY0MDApOyAvLyAyMDExLTAxLTAxXG5cdCAgLy8gICByZXR1cm5zIDg6ICc1Midcblx0ICAvLyAgIGV4YW1wbGUgOTogZGF0ZSgnVyBZLW0tZCcsIDEyOTM5NzQwNTQpOyAvLyAyMDExLTAxLTAyXG5cdCAgLy8gICByZXR1cm5zIDk6ICc1MiAyMDExLTAxLTAyJ1xuXHQgIC8vICAgICAgICB0ZXN0OiBza2lwLTEgc2tpcC0yIHNraXAtNVxuXG5cdCAgdmFyIGpzZGF0ZSwgZjtcblx0ICAvLyBLZWVwIHRoaXMgaGVyZSAod29ya3MsIGJ1dCBmb3IgY29kZSBjb21tZW50ZWQtb3V0IGJlbG93IGZvciBmaWxlIHNpemUgcmVhc29ucylcblx0ICAvLyB2YXIgdGFsPSBbXTtcblx0ICB2YXIgdHh0V29yZHMgPSBbJ1N1bicsICdNb24nLCAnVHVlcycsICdXZWRuZXMnLCAnVGh1cnMnLCAnRnJpJywgJ1NhdHVyJywgJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcblx0ICAvLyB0cmFpbGluZyBiYWNrc2xhc2ggLT4gKGRyb3BwZWQpXG5cdCAgLy8gYSBiYWNrc2xhc2ggZm9sbG93ZWQgYnkgYW55IGNoYXJhY3RlciAoaW5jbHVkaW5nIGJhY2tzbGFzaCkgLT4gdGhlIGNoYXJhY3RlclxuXHQgIC8vIGVtcHR5IHN0cmluZyAtPiBlbXB0eSBzdHJpbmdcblx0ICB2YXIgZm9ybWF0Q2hyID0gL1xcXFw/KC4/KS9naTtcblx0ICB2YXIgZm9ybWF0Q2hyQ2IgPSBmdW5jdGlvbiBmb3JtYXRDaHJDYih0LCBzKSB7XG5cdCAgICByZXR1cm4gZlt0XSA/IGZbdF0oKSA6IHM7XG5cdCAgfTtcblx0ICB2YXIgX3BhZCA9IGZ1bmN0aW9uIF9wYWQobiwgYykge1xuXHQgICAgbiA9IFN0cmluZyhuKTtcblx0ICAgIHdoaWxlIChuLmxlbmd0aCA8IGMpIHtcblx0ICAgICAgbiA9ICcwJyArIG47XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbjtcblx0ICB9O1xuXHQgIGYgPSB7XG5cdCAgICAvLyBEYXlcblx0ICAgIGQ6IGZ1bmN0aW9uIGQoKSB7XG5cdCAgICAgIC8vIERheSBvZiBtb250aCB3L2xlYWRpbmcgMDsgMDEuLjMxXG5cdCAgICAgIHJldHVybiBfcGFkKGYuaigpLCAyKTtcblx0ICAgIH0sXG5cdCAgICBEOiBmdW5jdGlvbiBEKCkge1xuXHQgICAgICAvLyBTaG9ydGhhbmQgZGF5IG5hbWU7IE1vbi4uLlN1blxuXHQgICAgICByZXR1cm4gZi5sKCkuc2xpY2UoMCwgMyk7XG5cdCAgICB9LFxuXHQgICAgajogZnVuY3Rpb24gaigpIHtcblx0ICAgICAgLy8gRGF5IG9mIG1vbnRoOyAxLi4zMVxuXHQgICAgICByZXR1cm4ganNkYXRlLmdldERhdGUoKTtcblx0ICAgIH0sXG5cdCAgICBsOiBmdW5jdGlvbiBsKCkge1xuXHQgICAgICAvLyBGdWxsIGRheSBuYW1lOyBNb25kYXkuLi5TdW5kYXlcblx0ICAgICAgcmV0dXJuIHR4dFdvcmRzW2YudygpXSArICdkYXknO1xuXHQgICAgfSxcblx0ICAgIE46IGZ1bmN0aW9uIE4oKSB7XG5cdCAgICAgIC8vIElTTy04NjAxIGRheSBvZiB3ZWVrOyAxW01vbl0uLjdbU3VuXVxuXHQgICAgICByZXR1cm4gZi53KCkgfHwgNztcblx0ICAgIH0sXG5cdCAgICBTOiBmdW5jdGlvbiBTKCkge1xuXHQgICAgICAvLyBPcmRpbmFsIHN1ZmZpeCBmb3IgZGF5IG9mIG1vbnRoOyBzdCwgbmQsIHJkLCB0aFxuXHQgICAgICB2YXIgaiA9IGYuaigpO1xuXHQgICAgICB2YXIgaSA9IGogJSAxMDtcblx0ICAgICAgaWYgKGkgPD0gMyAmJiBwYXJzZUludChqICUgMTAwIC8gMTAsIDEwKSA9PT0gMSkge1xuXHQgICAgICAgIGkgPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBbJ3N0JywgJ25kJywgJ3JkJ11baSAtIDFdIHx8ICd0aCc7XG5cdCAgICB9LFxuXHQgICAgdzogZnVuY3Rpb24gdygpIHtcblx0ICAgICAgLy8gRGF5IG9mIHdlZWs7IDBbU3VuXS4uNltTYXRdXG5cdCAgICAgIHJldHVybiBqc2RhdGUuZ2V0RGF5KCk7XG5cdCAgICB9LFxuXHQgICAgejogZnVuY3Rpb24geigpIHtcblx0ICAgICAgLy8gRGF5IG9mIHllYXI7IDAuLjM2NVxuXHQgICAgICB2YXIgYSA9IG5ldyBEYXRlKGYuWSgpLCBmLm4oKSAtIDEsIGYuaigpKTtcblx0ICAgICAgdmFyIGIgPSBuZXcgRGF0ZShmLlkoKSwgMCwgMSk7XG5cdCAgICAgIHJldHVybiBNYXRoLnJvdW5kKChhIC0gYikgLyA4NjRlNSk7XG5cdCAgICB9LFxuXG5cdCAgICAvLyBXZWVrXG5cdCAgICBXOiBmdW5jdGlvbiBXKCkge1xuXHQgICAgICAvLyBJU08tODYwMSB3ZWVrIG51bWJlclxuXHQgICAgICB2YXIgYSA9IG5ldyBEYXRlKGYuWSgpLCBmLm4oKSAtIDEsIGYuaigpIC0gZi5OKCkgKyAzKTtcblx0ICAgICAgdmFyIGIgPSBuZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksIDAsIDQpO1xuXHQgICAgICByZXR1cm4gX3BhZCgxICsgTWF0aC5yb3VuZCgoYSAtIGIpIC8gODY0ZTUgLyA3KSwgMik7XG5cdCAgICB9LFxuXG5cdCAgICAvLyBNb250aFxuXHQgICAgRjogZnVuY3Rpb24gRigpIHtcblx0ICAgICAgLy8gRnVsbCBtb250aCBuYW1lOyBKYW51YXJ5Li4uRGVjZW1iZXJcblx0ICAgICAgcmV0dXJuIHR4dFdvcmRzWzYgKyBmLm4oKV07XG5cdCAgICB9LFxuXHQgICAgbTogZnVuY3Rpb24gbSgpIHtcblx0ICAgICAgLy8gTW9udGggdy9sZWFkaW5nIDA7IDAxLi4uMTJcblx0ICAgICAgcmV0dXJuIF9wYWQoZi5uKCksIDIpO1xuXHQgICAgfSxcblx0ICAgIE06IGZ1bmN0aW9uIE0oKSB7XG5cdCAgICAgIC8vIFNob3J0aGFuZCBtb250aCBuYW1lOyBKYW4uLi5EZWNcblx0ICAgICAgcmV0dXJuIGYuRigpLnNsaWNlKDAsIDMpO1xuXHQgICAgfSxcblx0ICAgIG46IGZ1bmN0aW9uIG4oKSB7XG5cdCAgICAgIC8vIE1vbnRoOyAxLi4uMTJcblx0ICAgICAgcmV0dXJuIGpzZGF0ZS5nZXRNb250aCgpICsgMTtcblx0ICAgIH0sXG5cdCAgICB0OiBmdW5jdGlvbiB0KCkge1xuXHQgICAgICAvLyBEYXlzIGluIG1vbnRoOyAyOC4uLjMxXG5cdCAgICAgIHJldHVybiBuZXcgRGF0ZShmLlkoKSwgZi5uKCksIDApLmdldERhdGUoKTtcblx0ICAgIH0sXG5cblx0ICAgIC8vIFllYXJcblx0ICAgIEw6IGZ1bmN0aW9uIEwoKSB7XG5cdCAgICAgIC8vIElzIGxlYXAgeWVhcj87IDAgb3IgMVxuXHQgICAgICB2YXIgaiA9IGYuWSgpO1xuXHQgICAgICByZXR1cm4gaiAlIDQgPT09IDAgJiBqICUgMTAwICE9PSAwIHwgaiAlIDQwMCA9PT0gMDtcblx0ICAgIH0sXG5cdCAgICBvOiBmdW5jdGlvbiBvKCkge1xuXHQgICAgICAvLyBJU08tODYwMSB5ZWFyXG5cdCAgICAgIHZhciBuID0gZi5uKCk7XG5cdCAgICAgIHZhciBXID0gZi5XKCk7XG5cdCAgICAgIHZhciBZID0gZi5ZKCk7XG5cdCAgICAgIHJldHVybiBZICsgKG4gPT09IDEyICYmIFcgPCA5ID8gMSA6IG4gPT09IDEgJiYgVyA+IDkgPyAtMSA6IDApO1xuXHQgICAgfSxcblx0ICAgIFk6IGZ1bmN0aW9uIFkoKSB7XG5cdCAgICAgIC8vIEZ1bGwgeWVhcjsgZS5nLiAxOTgwLi4uMjAxMFxuXHQgICAgICByZXR1cm4ganNkYXRlLmdldEZ1bGxZZWFyKCk7XG5cdCAgICB9LFxuXHQgICAgeTogZnVuY3Rpb24geSgpIHtcblx0ICAgICAgLy8gTGFzdCB0d28gZGlnaXRzIG9mIHllYXI7IDAwLi4uOTlcblx0ICAgICAgcmV0dXJuIGYuWSgpLnRvU3RyaW5nKCkuc2xpY2UoLTIpO1xuXHQgICAgfSxcblxuXHQgICAgLy8gVGltZVxuXHQgICAgYTogZnVuY3Rpb24gYSgpIHtcblx0ICAgICAgLy8gYW0gb3IgcG1cblx0ICAgICAgcmV0dXJuIGpzZGF0ZS5nZXRIb3VycygpID4gMTEgPyAncG0nIDogJ2FtJztcblx0ICAgIH0sXG5cdCAgICBBOiBmdW5jdGlvbiBBKCkge1xuXHQgICAgICAvLyBBTSBvciBQTVxuXHQgICAgICByZXR1cm4gZi5hKCkudG9VcHBlckNhc2UoKTtcblx0ICAgIH0sXG5cdCAgICBCOiBmdW5jdGlvbiBCKCkge1xuXHQgICAgICAvLyBTd2F0Y2ggSW50ZXJuZXQgdGltZTsgMDAwLi45OTlcblx0ICAgICAgdmFyIEggPSBqc2RhdGUuZ2V0VVRDSG91cnMoKSAqIDM2ZTI7XG5cdCAgICAgIC8vIEhvdXJzXG5cdCAgICAgIHZhciBpID0ganNkYXRlLmdldFVUQ01pbnV0ZXMoKSAqIDYwO1xuXHQgICAgICAvLyBNaW51dGVzXG5cdCAgICAgIC8vIFNlY29uZHNcblx0ICAgICAgdmFyIHMgPSBqc2RhdGUuZ2V0VVRDU2Vjb25kcygpO1xuXHQgICAgICByZXR1cm4gX3BhZChNYXRoLmZsb29yKChIICsgaSArIHMgKyAzNmUyKSAvIDg2LjQpICUgMWUzLCAzKTtcblx0ICAgIH0sXG5cdCAgICBnOiBmdW5jdGlvbiBnKCkge1xuXHQgICAgICAvLyAxMi1Ib3VyczsgMS4uMTJcblx0ICAgICAgcmV0dXJuIGYuRygpICUgMTIgfHwgMTI7XG5cdCAgICB9LFxuXHQgICAgRzogZnVuY3Rpb24gRygpIHtcblx0ICAgICAgLy8gMjQtSG91cnM7IDAuLjIzXG5cdCAgICAgIHJldHVybiBqc2RhdGUuZ2V0SG91cnMoKTtcblx0ICAgIH0sXG5cdCAgICBoOiBmdW5jdGlvbiBoKCkge1xuXHQgICAgICAvLyAxMi1Ib3VycyB3L2xlYWRpbmcgMDsgMDEuLjEyXG5cdCAgICAgIHJldHVybiBfcGFkKGYuZygpLCAyKTtcblx0ICAgIH0sXG5cdCAgICBIOiBmdW5jdGlvbiBIKCkge1xuXHQgICAgICAvLyAyNC1Ib3VycyB3L2xlYWRpbmcgMDsgMDAuLjIzXG5cdCAgICAgIHJldHVybiBfcGFkKGYuRygpLCAyKTtcblx0ICAgIH0sXG5cdCAgICBpOiBmdW5jdGlvbiBpKCkge1xuXHQgICAgICAvLyBNaW51dGVzIHcvbGVhZGluZyAwOyAwMC4uNTlcblx0ICAgICAgcmV0dXJuIF9wYWQoanNkYXRlLmdldE1pbnV0ZXMoKSwgMik7XG5cdCAgICB9LFxuXHQgICAgczogZnVuY3Rpb24gcygpIHtcblx0ICAgICAgLy8gU2Vjb25kcyB3L2xlYWRpbmcgMDsgMDAuLjU5XG5cdCAgICAgIHJldHVybiBfcGFkKGpzZGF0ZS5nZXRTZWNvbmRzKCksIDIpO1xuXHQgICAgfSxcblx0ICAgIHU6IGZ1bmN0aW9uIHUoKSB7XG5cdCAgICAgIC8vIE1pY3Jvc2Vjb25kczsgMDAwMDAwLTk5OTAwMFxuXHQgICAgICByZXR1cm4gX3BhZChqc2RhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgKiAxMDAwLCA2KTtcblx0ICAgIH0sXG5cblx0ICAgIC8vIFRpbWV6b25lXG5cdCAgICBlOiBmdW5jdGlvbiBlKCkge1xuXHQgICAgICAvLyBUaW1lem9uZSBpZGVudGlmaWVyOyBlLmcuIEF0bGFudGljL0F6b3JlcywgLi4uXG5cdCAgICAgIC8vIFRoZSBmb2xsb3dpbmcgd29ya3MsIGJ1dCByZXF1aXJlcyBpbmNsdXNpb24gb2YgdGhlIHZlcnkgbGFyZ2Vcblx0ICAgICAgLy8gdGltZXpvbmVfYWJicmV2aWF0aW9uc19saXN0KCkgZnVuY3Rpb24uXG5cdCAgICAgIC8qICAgICAgICAgICAgICByZXR1cm4gdGhhdC5kYXRlX2RlZmF1bHRfdGltZXpvbmVfZ2V0KCk7XG5cdCAgICAgICAqL1xuXHQgICAgICB2YXIgbXNnID0gJ05vdCBzdXBwb3J0ZWQgKHNlZSBzb3VyY2UgY29kZSBvZiBkYXRlKCkgZm9yIHRpbWV6b25lIG9uIGhvdyB0byBhZGQgc3VwcG9ydCknO1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcblx0ICAgIH0sXG5cdCAgICBJOiBmdW5jdGlvbiBJKCkge1xuXHQgICAgICAvLyBEU1Qgb2JzZXJ2ZWQ/OyAwIG9yIDFcblx0ICAgICAgLy8gQ29tcGFyZXMgSmFuIDEgbWludXMgSmFuIDEgVVRDIHRvIEp1bCAxIG1pbnVzIEp1bCAxIFVUQy5cblx0ICAgICAgLy8gSWYgdGhleSBhcmUgbm90IGVxdWFsLCB0aGVuIERTVCBpcyBvYnNlcnZlZC5cblx0ICAgICAgdmFyIGEgPSBuZXcgRGF0ZShmLlkoKSwgMCk7XG5cdCAgICAgIC8vIEphbiAxXG5cdCAgICAgIHZhciBjID0gRGF0ZS5VVEMoZi5ZKCksIDApO1xuXHQgICAgICAvLyBKYW4gMSBVVENcblx0ICAgICAgdmFyIGIgPSBuZXcgRGF0ZShmLlkoKSwgNik7XG5cdCAgICAgIC8vIEp1bCAxXG5cdCAgICAgIC8vIEp1bCAxIFVUQ1xuXHQgICAgICB2YXIgZCA9IERhdGUuVVRDKGYuWSgpLCA2KTtcblx0ICAgICAgcmV0dXJuIGEgLSBjICE9PSBiIC0gZCA/IDEgOiAwO1xuXHQgICAgfSxcblx0ICAgIE86IGZ1bmN0aW9uIE8oKSB7XG5cdCAgICAgIC8vIERpZmZlcmVuY2UgdG8gR01UIGluIGhvdXIgZm9ybWF0OyBlLmcuICswMjAwXG5cdCAgICAgIHZhciB0em8gPSBqc2RhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblx0ICAgICAgdmFyIGEgPSBNYXRoLmFicyh0em8pO1xuXHQgICAgICByZXR1cm4gKHR6byA+IDAgPyAnLScgOiAnKycpICsgX3BhZChNYXRoLmZsb29yKGEgLyA2MCkgKiAxMDAgKyBhICUgNjAsIDQpO1xuXHQgICAgfSxcblx0ICAgIFA6IGZ1bmN0aW9uIFAoKSB7XG5cdCAgICAgIC8vIERpZmZlcmVuY2UgdG8gR01UIHcvY29sb247IGUuZy4gKzAyOjAwXG5cdCAgICAgIHZhciBPID0gZi5PKCk7XG5cdCAgICAgIHJldHVybiBPLnN1YnN0cigwLCAzKSArICc6JyArIE8uc3Vic3RyKDMsIDIpO1xuXHQgICAgfSxcblx0ICAgIFQ6IGZ1bmN0aW9uIFQoKSB7XG5cdCAgICAgIC8vIFRoZSBmb2xsb3dpbmcgd29ya3MsIGJ1dCByZXF1aXJlcyBpbmNsdXNpb24gb2YgdGhlIHZlcnlcblx0ICAgICAgLy8gbGFyZ2UgdGltZXpvbmVfYWJicmV2aWF0aW9uc19saXN0KCkgZnVuY3Rpb24uXG5cdCAgICAgIC8qICAgICAgICAgICAgICB2YXIgYWJiciwgaSwgb3MsIF9kZWZhdWx0O1xuXHQgICAgICBpZiAoIXRhbC5sZW5ndGgpIHtcblx0ICAgICAgICB0YWwgPSB0aGF0LnRpbWV6b25lX2FiYnJldmlhdGlvbnNfbGlzdCgpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICgkbG9jdXR1cyAmJiAkbG9jdXR1cy5kZWZhdWx0X3RpbWV6b25lKSB7XG5cdCAgICAgICAgX2RlZmF1bHQgPSAkbG9jdXR1cy5kZWZhdWx0X3RpbWV6b25lO1xuXHQgICAgICAgIGZvciAoYWJiciBpbiB0YWwpIHtcblx0ICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWxbYWJicl0ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKHRhbFthYmJyXVtpXS50aW1lem9uZV9pZCA9PT0gX2RlZmF1bHQpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gYWJici50b1VwcGVyQ2FzZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGZvciAoYWJiciBpbiB0YWwpIHtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFsW2FiYnJdLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICBvcyA9IC1qc2RhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwO1xuXHQgICAgICAgICAgaWYgKHRhbFthYmJyXVtpXS5vZmZzZXQgPT09IG9zKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBhYmJyLnRvVXBwZXJDYXNlKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgICovXG5cdCAgICAgIHJldHVybiAnVVRDJztcblx0ICAgIH0sXG5cdCAgICBaOiBmdW5jdGlvbiBaKCkge1xuXHQgICAgICAvLyBUaW1lem9uZSBvZmZzZXQgaW4gc2Vjb25kcyAoLTQzMjAwLi4uNTA0MDApXG5cdCAgICAgIHJldHVybiAtanNkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDtcblx0ICAgIH0sXG5cblx0ICAgIC8vIEZ1bGwgRGF0ZS9UaW1lXG5cdCAgICBjOiBmdW5jdGlvbiBjKCkge1xuXHQgICAgICAvLyBJU08tODYwMSBkYXRlLlxuXHQgICAgICByZXR1cm4gJ1ktbS1kXFxcXFRIOmk6c1AnLnJlcGxhY2UoZm9ybWF0Q2hyLCBmb3JtYXRDaHJDYik7XG5cdCAgICB9LFxuXHQgICAgcjogZnVuY3Rpb24gcigpIHtcblx0ICAgICAgLy8gUkZDIDI4MjJcblx0ICAgICAgcmV0dXJuICdELCBkIE0gWSBIOmk6cyBPJy5yZXBsYWNlKGZvcm1hdENociwgZm9ybWF0Q2hyQ2IpO1xuXHQgICAgfSxcblx0ICAgIFU6IGZ1bmN0aW9uIFUoKSB7XG5cdCAgICAgIC8vIFNlY29uZHMgc2luY2UgVU5JWCBlcG9jaFxuXHQgICAgICByZXR1cm4ganNkYXRlIC8gMTAwMCB8IDA7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIHZhciBfZGF0ZSA9IGZ1bmN0aW9uIF9kYXRlKGZvcm1hdCwgdGltZXN0YW1wKSB7XG5cdCAgICBqc2RhdGUgPSB0aW1lc3RhbXAgPT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKCkgLy8gTm90IHByb3ZpZGVkXG5cdCAgICA6IHRpbWVzdGFtcCBpbnN0YW5jZW9mIERhdGUgPyBuZXcgRGF0ZSh0aW1lc3RhbXApIC8vIEpTIERhdGUoKVxuXHQgICAgOiBuZXcgRGF0ZSh0aW1lc3RhbXAgKiAxMDAwKSAvLyBVTklYIHRpbWVzdGFtcCAoYXV0by1jb252ZXJ0IHRvIGludClcblx0ICAgIDtcblx0ICAgIHJldHVybiBmb3JtYXQucmVwbGFjZShmb3JtYXRDaHIsIGZvcm1hdENockNiKTtcblx0ICB9O1xuXG5cdCAgcmV0dXJuIF9kYXRlKGZvcm1hdCwgdGltZXN0YW1wKTtcblx0fTtcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0ZS5qcy5tYXBcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBib29sdmFsKG1peGVkVmFyKSB7XG5cdCAgLy8gb3JpZ2luYWwgYnk6IFdpbGwgUm93ZVxuXHQgIC8vICAgZXhhbXBsZSAxOiBib29sdmFsKHRydWUpXG5cdCAgLy8gICByZXR1cm5zIDE6IHRydWVcblx0ICAvLyAgIGV4YW1wbGUgMjogYm9vbHZhbChmYWxzZSlcblx0ICAvLyAgIHJldHVybnMgMjogZmFsc2Vcblx0ICAvLyAgIGV4YW1wbGUgMzogYm9vbHZhbCgwKVxuXHQgIC8vICAgcmV0dXJucyAzOiBmYWxzZVxuXHQgIC8vICAgZXhhbXBsZSA0OiBib29sdmFsKDAuMClcblx0ICAvLyAgIHJldHVybnMgNDogZmFsc2Vcblx0ICAvLyAgIGV4YW1wbGUgNTogYm9vbHZhbCgnJylcblx0ICAvLyAgIHJldHVybnMgNTogZmFsc2Vcblx0ICAvLyAgIGV4YW1wbGUgNjogYm9vbHZhbCgnMCcpXG5cdCAgLy8gICByZXR1cm5zIDY6IGZhbHNlXG5cdCAgLy8gICBleGFtcGxlIDc6IGJvb2x2YWwoW10pXG5cdCAgLy8gICByZXR1cm5zIDc6IGZhbHNlXG5cdCAgLy8gICBleGFtcGxlIDg6IGJvb2x2YWwoJycpXG5cdCAgLy8gICByZXR1cm5zIDg6IGZhbHNlXG5cdCAgLy8gICBleGFtcGxlIDk6IGJvb2x2YWwobnVsbClcblx0ICAvLyAgIHJldHVybnMgOTogZmFsc2Vcblx0ICAvLyAgIGV4YW1wbGUgMTA6IGJvb2x2YWwodW5kZWZpbmVkKVxuXHQgIC8vICAgcmV0dXJucyAxMDogZmFsc2Vcblx0ICAvLyAgIGV4YW1wbGUgMTE6IGJvb2x2YWwoJ3RydWUnKVxuXHQgIC8vICAgcmV0dXJucyAxMTogdHJ1ZVxuXG5cdCAgaWYgKG1peGVkVmFyID09PSBmYWxzZSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblxuXHQgIGlmIChtaXhlZFZhciA9PT0gMCB8fCBtaXhlZFZhciA9PT0gMC4wKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXG5cdCAgaWYgKG1peGVkVmFyID09PSAnJyB8fCBtaXhlZFZhciA9PT0gJzAnKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXG5cdCAgaWYgKEFycmF5LmlzQXJyYXkobWl4ZWRWYXIpICYmIG1peGVkVmFyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblxuXHQgIGlmIChtaXhlZFZhciA9PT0gbnVsbCB8fCBtaXhlZFZhciA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cdC8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvb2x2YWwuanMubWFwXG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUd2lnKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIFR3aWcuVGVtcGxhdGVzLnJlZ2lzdGVyTG9hZGVyKCdhamF4JywgZnVuY3Rpb24obG9jYXRpb24sIHBhcmFtcywgY2FsbGJhY2ssIGVycm9yX2NhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHRlbXBsYXRlLFxuXHQgICAgICAgICAgICB4bWxodHRwLFxuXHQgICAgICAgICAgICBwcmVjb21waWxlZCA9IHBhcmFtcy5wcmVjb21waWxlZCxcblx0ICAgICAgICAgICAgcGFyc2VyID0gdGhpcy5wYXJzZXJzW3BhcmFtcy5wYXJzZXJdIHx8IHRoaXMucGFyc2VyLnR3aWc7XG5cblx0ICAgICAgICBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKCdVbnN1cHBvcnRlZCBwbGF0Zm9ybTogVW5hYmxlIHRvIGRvIGFqYXggcmVxdWVzdHMgJyArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiZWNhdXNlIHRoZXJlIGlzIG5vIFwiWE1MSFRUUFJlcXVlc3RcIiBpbXBsZW1lbnRhdGlvbicpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0ICAgICAgICB4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgaWYoeG1saHR0cC5yZWFkeVN0YXRlID09PSA0KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoeG1saHR0cC5zdGF0dXMgPT09IDIwMCB8fCAod2luZG93LmNvcmRvdmEgJiYgeG1saHR0cC5zdGF0dXMgPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBUd2lnLmxvZy5kZWJ1ZyhcIkdvdCB0ZW1wbGF0ZSBcIiwgeG1saHR0cC5yZXNwb25zZVRleHQpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHByZWNvbXBpbGVkID09PSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHhtbGh0dHAucmVzcG9uc2VUZXh0KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0geG1saHR0cC5yZXNwb25zZVRleHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnVybCA9IGxvY2F0aW9uO1xuXHQgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5kYXRhID0gZGF0YTtcblxuXHQgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gcGFyc2VyLmNhbGwodGhpcywgcGFyYW1zKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodGVtcGxhdGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlcnJvcl9jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9jYWxsYmFjayh4bWxodHRwKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHhtbGh0dHAub3BlbihcIkdFVFwiLCBsb2NhdGlvbiwgISFwYXJhbXMuYXN5bmMpO1xuXHQgICAgICAgIHhtbGh0dHAuc2VuZCgpO1xuXG5cdCAgICAgICAgaWYgKHBhcmFtcy5hc3luYykge1xuXHQgICAgICAgICAgICAvLyBUT0RPOiByZXR1cm4gZGVmZXJyZWQgcHJvbWlzZVxuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVHdpZykge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICB2YXIgZnMsIHBhdGg7XG5cblx0ICAgIHRyeSB7XG5cdCAgICBcdC8vIHJlcXVpcmUgbGliIGRlcGVuZGVuY2llcyBhdCBydW50aW1lXG5cdCAgICBcdGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdCAgICBcdHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIFx0Ly8gTk9URTogdGhpcyBpcyBpbiBhIHRyeS9jYXRjaCB0byBhdm9pZCBlcnJvcnMgY3Jvc3MgcGxhdGZvcm1cblx0ICAgIH1cblxuXHQgICAgVHdpZy5UZW1wbGF0ZXMucmVnaXN0ZXJMb2FkZXIoJ2ZzJywgZnVuY3Rpb24obG9jYXRpb24sIHBhcmFtcywgY2FsbGJhY2ssIGVycm9yX2NhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHRlbXBsYXRlLFxuXHQgICAgICAgICAgICBkYXRhID0gbnVsbCxcblx0ICAgICAgICAgICAgcHJlY29tcGlsZWQgPSBwYXJhbXMucHJlY29tcGlsZWQsXG5cdCAgICAgICAgICAgIHBhcnNlciA9IHRoaXMucGFyc2Vyc1twYXJhbXMucGFyc2VyXSB8fCB0aGlzLnBhcnNlci50d2lnO1xuXG5cdCAgICAgICAgaWYgKCFmcyB8fCAhcGF0aCkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcignVW5zdXBwb3J0ZWQgcGxhdGZvcm06IFVuYWJsZSB0byBsb2FkIGZyb20gZmlsZSAnICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JlY2F1c2UgdGhlcmUgaXMgbm8gXCJmc1wiIG9yIFwicGF0aFwiIGltcGxlbWVudGF0aW9uJyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGxvYWRUZW1wbGF0ZUZuID0gZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG5cdCAgICAgICAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3JfY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICBlcnJvcl9jYWxsYmFjayhlcnIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYgKHByZWNvbXBpbGVkID09PSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHBhcmFtcy5kYXRhID0gZGF0YTtcblx0ICAgICAgICAgICAgcGFyYW1zLnBhdGggPSBwYXJhbXMucGF0aCB8fCBsb2NhdGlvbjtcblxuXHQgICAgICAgICAgICAvLyB0ZW1wbGF0ZSBpcyBpbiBkYXRhXG5cdCAgICAgICAgICAgIHRlbXBsYXRlID0gcGFyc2VyLmNhbGwodGhpcywgcGFyYW1zKTtcblxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayh0ZW1wbGF0ZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHBhcmFtcy5wYXRoID0gcGFyYW1zLnBhdGggfHwgbG9jYXRpb247XG5cblx0ICAgICAgICBpZiAocGFyYW1zLmFzeW5jKSB7XG5cdCAgICAgICAgICAgIGZzLnN0YXQocGFyYW1zLnBhdGgsIGZ1bmN0aW9uIChlcnIsIHN0YXRzKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZXJyIHx8ICFzdGF0cy5pc0ZpbGUoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3JfY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfY2FsbGJhY2sobmV3IFR3aWcuRXJyb3IoJ1VuYWJsZSB0byBmaW5kIHRlbXBsYXRlIGZpbGUgJyArIHBhcmFtcy5wYXRoKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGZzLnJlYWRGaWxlKHBhcmFtcy5wYXRoLCAndXRmOCcsIGxvYWRUZW1wbGF0ZUZuKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIC8vIFRPRE86IHJldHVybiBkZWZlcnJlZCBwcm9taXNlXG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWZzLnN0YXRTeW5jKHBhcmFtcy5wYXRoKS5pc0ZpbGUoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKCdVbmFibGUgdG8gZmluZCB0ZW1wbGF0ZSBmaWxlICcgKyBwYXJhbXMucGF0aCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoJ1VuYWJsZSB0byBmaW5kIHRlbXBsYXRlIGZpbGUgJyArIHBhcmFtcy5wYXRoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhcmFtcy5wYXRoLCAndXRmOCcpO1xuXHQgICAgICAgICAgICBsb2FkVGVtcGxhdGVGbih1bmRlZmluZWQsIGRhdGEpO1xuXHQgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZnNcIik7XG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTtcblxuLyoqKi8gfSxcbi8qIDIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyAjIyB0d2lnLmxvZ2ljLmpzXG5cdC8vXG5cdC8vIFRoaXMgZmlsZSBoYW5kbGVzIHRva2VuaXppbmcsIGNvbXBpbGluZyBhbmQgcGFyc2luZyBsb2dpYyB0b2tlbnMuIHslIC4uLiAlfVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUd2lnKSB7XG5cdCAgICBcInVzZSBzdHJpY3RcIjtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBOYW1lc3BhY2UgZm9yIGxvZ2ljIGhhbmRsaW5nLlxuXHQgICAgICovXG5cdCAgICBUd2lnLmxvZ2ljID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogTG9naWMgdG9rZW4gdHlwZXMuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcubG9naWMudHlwZSA9IHtcblx0ICAgICAgICBpZl86ICAgICAgICdUd2lnLmxvZ2ljLnR5cGUuaWYnLFxuXHQgICAgICAgIGVuZGlmOiAgICAgJ1R3aWcubG9naWMudHlwZS5lbmRpZicsXG5cdCAgICAgICAgZm9yXzogICAgICAnVHdpZy5sb2dpYy50eXBlLmZvcicsXG5cdCAgICAgICAgZW5kZm9yOiAgICAnVHdpZy5sb2dpYy50eXBlLmVuZGZvcicsXG5cdCAgICAgICAgZWxzZV86ICAgICAnVHdpZy5sb2dpYy50eXBlLmVsc2UnLFxuXHQgICAgICAgIGVsc2VpZjogICAgJ1R3aWcubG9naWMudHlwZS5lbHNlaWYnLFxuXHQgICAgICAgIHNldDogICAgICAgJ1R3aWcubG9naWMudHlwZS5zZXQnLFxuXHQgICAgICAgIHNldGNhcHR1cmU6J1R3aWcubG9naWMudHlwZS5zZXRjYXB0dXJlJyxcblx0ICAgICAgICBlbmRzZXQ6ICAgICdUd2lnLmxvZ2ljLnR5cGUuZW5kc2V0Jyxcblx0ICAgICAgICBmaWx0ZXI6ICAgICdUd2lnLmxvZ2ljLnR5cGUuZmlsdGVyJyxcblx0ICAgICAgICBlbmRmaWx0ZXI6ICdUd2lnLmxvZ2ljLnR5cGUuZW5kZmlsdGVyJyxcblx0ICAgICAgICBzaG9ydGJsb2NrOiAnVHdpZy5sb2dpYy50eXBlLnNob3J0YmxvY2snLFxuXHQgICAgICAgIGJsb2NrOiAgICAgJ1R3aWcubG9naWMudHlwZS5ibG9jaycsXG5cdCAgICAgICAgZW5kYmxvY2s6ICAnVHdpZy5sb2dpYy50eXBlLmVuZGJsb2NrJyxcblx0ICAgICAgICBleHRlbmRzXzogICdUd2lnLmxvZ2ljLnR5cGUuZXh0ZW5kcycsXG5cdCAgICAgICAgdXNlOiAgICAgICAnVHdpZy5sb2dpYy50eXBlLnVzZScsXG5cdCAgICAgICAgaW5jbHVkZTogICAnVHdpZy5sb2dpYy50eXBlLmluY2x1ZGUnLFxuXHQgICAgICAgIHNwYWNlbGVzczogJ1R3aWcubG9naWMudHlwZS5zcGFjZWxlc3MnLFxuXHQgICAgICAgIGVuZHNwYWNlbGVzczogJ1R3aWcubG9naWMudHlwZS5lbmRzcGFjZWxlc3MnLFxuXHQgICAgICAgIG1hY3JvOiAgICAgJ1R3aWcubG9naWMudHlwZS5tYWNybycsXG5cdCAgICAgICAgZW5kbWFjcm86ICAnVHdpZy5sb2dpYy50eXBlLmVuZG1hY3JvJyxcblx0ICAgICAgICBpbXBvcnRfOiAgICdUd2lnLmxvZ2ljLnR5cGUuaW1wb3J0Jyxcblx0ICAgICAgICBmcm9tOiAgICAgICdUd2lnLmxvZ2ljLnR5cGUuZnJvbScsXG5cdCAgICAgICAgZW1iZWQ6ICAgICAnVHdpZy5sb2dpYy50eXBlLmVtYmVkJyxcblx0ICAgICAgICBlbmRlbWJlZDogICdUd2lnLmxvZ2ljLnR5cGUuZW5kZW1iZWQnXG5cdCAgICB9O1xuXG5cblx0ICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnMgZm9yIGhhbmRsaW5nIGxvZ2ljIHRva2Vucy5cblx0ICAgIC8vXG5cdCAgICAvLyBQcm9wZXJ0aWVzOlxuXHQgICAgLy9cblx0ICAgIC8vICAgICAgdHlwZTogIFRoZSB0eXBlIG9mIGV4cHJlc3Npb24gdGhpcyBtYXRjaGVzXG5cdCAgICAvL1xuXHQgICAgLy8gICAgICByZWdleDogQSByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBtYXRjaGVzIHRoZSBmb3JtYXQgb2YgdGhlIHRva2VuXG5cdCAgICAvL1xuXHQgICAgLy8gICAgICBuZXh0OiAgV2hhdCBsb2dpYyB0b2tlbnMgKGlmIGFueSkgcG9wIHRoaXMgdG9rZW4gb2ZmIHRoZSBsb2dpYyBzdGFjay4gSWYgZW1wdHksIHRoZVxuXHQgICAgLy8gICAgICAgICAgICAgbG9naWMgdG9rZW4gaXMgYXNzdW1lZCB0byBub3QgcmVxdWlyZSBhbiBlbmQgdGFnIGFuZCBpc24ndCBwdXNoIG9udG8gdGhlIHN0YWNrLlxuXHQgICAgLy9cblx0ICAgIC8vICAgICAgb3BlbjogIERvZXMgdGhpcyB0YWcgb3BlbiBhIGxvZ2ljIGV4cHJlc3Npb24gb3IgaXMgaXQgc3RhbmRhbG9uZS4gRm9yIGV4YW1wbGUsXG5cdCAgICAvLyAgICAgICAgICAgICB7JSBlbmRpZiAlfSBjYW5ub3QgZXhpc3Qgd2l0aG91dCBhbiBvcGVuaW5nIHslIGlmIC4uLiAlfSB0YWcsIHNvIG9wZW4gPSBmYWxzZS5cblx0ICAgIC8vXG5cdCAgICAvLyAgRnVuY3Rpb25zOlxuXHQgICAgLy9cblx0ICAgIC8vICAgICAgY29tcGlsZTogQSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgY29tcGlsaW5nIHRoZSB0b2tlbiBpbnRvIGFuIG91dHB1dCB0b2tlbiByZWFkeSBmb3Jcblx0ICAgIC8vICAgICAgICAgICAgICAgcGFyc2luZyB3aXRoIHRoZSBwYXJzZSBmdW5jdGlvbi5cblx0ICAgIC8vXG5cdCAgICAvLyAgICAgIHBhcnNlOiAgIEEgZnVuY3Rpb24gdGhhdCBwYXJzZXMgdGhlIGNvbXBpbGVkIHRva2VuIGludG8gb3V0cHV0IChIVE1MIC8gd2hhdGV2ZXIgdGhlXG5cdCAgICAvLyAgICAgICAgICAgICAgIHRlbXBsYXRlIHJlcHJlc2VudHMpLlxuXHQgICAgVHdpZy5sb2dpYy5kZWZpbml0aW9ucyA9IFtcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBJZiB0eXBlIGxvZ2ljIHRva2Vucy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgaWYgZXhwcmVzc2lvbiAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmlmXyxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eaWZcXHMrKFtcXHNcXFNdKykkLyxcblx0ICAgICAgICAgICAgbmV4dDogW1xuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2dpYy50eXBlLmVsc2VfLFxuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2dpYy50eXBlLmVsc2VpZixcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbmRpZlxuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICBvcGVuOiB0cnVlLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodG9rZW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBleHByZXNzaW9uID0gdG9rZW4ubWF0Y2hbMV07XG5cdCAgICAgICAgICAgICAgICAvLyBDb21waWxlIHRoZSBleHByZXNzaW9uLlxuXHQgICAgICAgICAgICAgICAgdG9rZW4uc3RhY2sgPSBUd2lnLmV4cHJlc3Npb24uY29tcGlsZS5hcHBseSh0aGlzLCBbe1xuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6ICBUd2lnLmV4cHJlc3Npb24udHlwZS5leHByZXNzaW9uLFxuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleHByZXNzaW9uXG5cdCAgICAgICAgICAgICAgICB9XSkuc3RhY2s7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4uc3RhY2ssIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hhaW4gPSB0cnVlO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKFR3aWcubGliLmJvb2x2YWwocmVzdWx0KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbiA9IGZhbHNlO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLnBhcnNlQXN5bmMuYXBwbHkodGhhdCwgW3Rva2VuLm91dHB1dCwgY29udGV4dF0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcblx0ICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbjogY2hhaW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogb3V0cHV0XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBFbHNlIGlmIHR5cGUgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgRm9ybWF0OiB7JSBlbHNlaWYgZXhwcmVzc2lvbiAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmVsc2VpZixcblx0ICAgICAgICAgICAgcmVnZXg6IC9eZWxzZWlmXFxzKyhbXlxcc10uKikkLyxcblx0ICAgICAgICAgICAgbmV4dDogW1xuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2dpYy50eXBlLmVsc2VfLFxuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2dpYy50eXBlLmVsc2VpZixcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbmRpZlxuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICBvcGVuOiBmYWxzZSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRva2VuKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IHRva2VuLm1hdGNoWzFdO1xuXHQgICAgICAgICAgICAgICAgLy8gQ29tcGlsZSB0aGUgZXhwcmVzc2lvbi5cblx0ICAgICAgICAgICAgICAgIHRva2VuLnN0YWNrID0gVHdpZy5leHByZXNzaW9uLmNvbXBpbGUuYXBwbHkodGhpcywgW3tcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlOiAgVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAgICAgfV0pLnN0YWNrO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuLCBjb250ZXh0LCBjaGFpbikge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW3Rva2VuLnN0YWNrLCBjb250ZXh0XSlcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjaGFpbiAmJiBUd2lnLmxpYi5ib29sdmFsKHJlc3VsdCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW4gPSBmYWxzZTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5wYXJzZUFzeW5jLmFwcGx5KHRoYXQsIFt0b2tlbi5vdXRwdXQsIGNvbnRleHRdKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ob3V0cHV0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNoYWluLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IG91dHB1dFxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBFbHNlIGlmIHR5cGUgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgRm9ybWF0OiB7JSBlbHNlaWYgZXhwcmVzc2lvbiAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmVsc2VfLFxuXHQgICAgICAgICAgICByZWdleDogL15lbHNlJC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFtcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbmRpZixcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbmRmb3Jcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgb3BlbjogZmFsc2UsXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IFR3aWcuUHJvbWlzZS5yZXNvbHZlKCcnKTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IFR3aWcucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4ub3V0cHV0LCBjb250ZXh0XSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24ob3V0cHV0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNoYWluLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IG91dHB1dFxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogRW5kIGlmIHR5cGUgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgRm9ybWF0OiB7JSBlbmRpZiAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmVuZGlmLFxuXHQgICAgICAgICAgICByZWdleDogL15lbmRpZiQvLFxuXHQgICAgICAgICAgICBuZXh0OiBbIF0sXG5cdCAgICAgICAgICAgIG9wZW46IGZhbHNlXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBGb3IgdHlwZSBsb2dpYyB0b2tlbnMuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICBGb3JtYXQ6IHslIGZvciBleHByZXNzaW9uICV9XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuZm9yXyxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eZm9yXFxzKyhbYS16QS1aMC05XyxcXHNdKylcXHMraW5cXHMrKFteXFxzXS4qPykoPzpcXHMraWZcXHMrKFteXFxzXS4qKSk/JC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFtcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbHNlXyxcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbmRmb3Jcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgb3BlbjogdHJ1ZSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRva2VuKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5X3ZhbHVlID0gdG9rZW4ubWF0Y2hbMV0sXG5cdCAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHRva2VuLm1hdGNoWzJdLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbmFsID0gdG9rZW4ubWF0Y2hbM10sXG5cdCAgICAgICAgICAgICAgICAgICAga3Zfc3BsaXQgPSBudWxsO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi5rZXlfdmFyID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlX3ZhciA9IG51bGw7XG5cblx0ICAgICAgICAgICAgICAgIGlmIChrZXlfdmFsdWUuaW5kZXhPZihcIixcIikgPj0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGt2X3NwbGl0ID0ga2V5X3ZhbHVlLnNwbGl0KCcsJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGt2X3NwbGl0Lmxlbmd0aCA9PT0gMikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbi5rZXlfdmFyID0ga3Zfc3BsaXRbMF0udHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZV92YXIgPSBrdl9zcGxpdFsxXS50cmltKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJJbnZhbGlkIGV4cHJlc3Npb24gaW4gZm9yIGxvb3A6IFwiICsga2V5X3ZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlX3ZhciA9IGtleV92YWx1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gVmFsaWQgZXhwcmVzc2lvbnMgZm9yIGEgZm9yIGxvb3Bcblx0ICAgICAgICAgICAgICAgIC8vICAgZm9yIGl0ZW0gICAgIGluIGV4cHJlc3Npb25cblx0ICAgICAgICAgICAgICAgIC8vICAgZm9yIGtleSxpdGVtIGluIGV4cHJlc3Npb25cblxuXHQgICAgICAgICAgICAgICAgLy8gQ29tcGlsZSB0aGUgZXhwcmVzc2lvbi5cblx0ICAgICAgICAgICAgICAgIHRva2VuLmV4cHJlc3Npb24gPSBUd2lnLmV4cHJlc3Npb24uY29tcGlsZS5hcHBseSh0aGlzLCBbe1xuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6ICBUd2lnLmV4cHJlc3Npb24udHlwZS5leHByZXNzaW9uLFxuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleHByZXNzaW9uXG5cdCAgICAgICAgICAgICAgICB9XSkuc3RhY2s7XG5cblx0ICAgICAgICAgICAgICAgIC8vIENvbXBpbGUgdGhlIGNvbmRpdGlvbmFsIChpZiBhdmFpbGFibGUpXG5cdCAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9uYWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0b2tlbi5jb25kaXRpb25hbCA9IFR3aWcuZXhwcmVzc2lvbi5jb21waWxlLmFwcGx5KHRoaXMsIFt7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICBUd2lnLmV4cHJlc3Npb24udHlwZS5leHByZXNzaW9uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29uZGl0aW9uYWxcblx0ICAgICAgICAgICAgICAgICAgICB9XSkuc3RhY2s7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5tYXRjaDtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbiwgY29udGV4dCwgY29udGludWVfY2hhaW4pIHtcblx0ICAgICAgICAgICAgICAgIC8vIFBhcnNlIGV4cHJlc3Npb25cblx0ICAgICAgICAgICAgICAgIHZhciBvdXRwdXQgPSBbXSxcblx0ICAgICAgICAgICAgICAgICAgICBsZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwLFxuXHQgICAgICAgICAgICAgICAgICAgIGtleXNldCxcblx0ICAgICAgICAgICAgICAgICAgICB0aGF0ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25hbCA9IHRva2VuLmNvbmRpdGlvbmFsLFxuXHQgICAgICAgICAgICAgICAgICAgIGJ1aWxkTG9vcCA9IGZ1bmN0aW9uKGluZGV4LCBsZW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQ29uZGl0aW9uYWwgPSBjb25kaXRpb25hbCAhPT0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4KzEsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDA6IGluZGV4LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2aW5kZXg6IGlzQ29uZGl0aW9uYWw/dW5kZWZpbmVkOmxlbi1pbmRleCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmluZGV4MDogaXNDb25kaXRpb25hbD91bmRlZmluZWQ6bGVuLWluZGV4LTEsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdDogKGluZGV4ID09PSAwKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IGlzQ29uZGl0aW9uYWw/dW5kZWZpbmVkOihpbmRleCA9PT0gbGVuLTEpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBpc0NvbmRpdGlvbmFsP3VuZGVmaW5lZDpsZW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNvbnRleHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIHJ1biBvbmNlIGZvciBlYWNoIGl0ZXJhdGlvbiBvZiB0aGUgbG9vcFxuXHQgICAgICAgICAgICAgICAgICAgIGxvb3AgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbm5lcl9jb250ZXh0ID0gVHdpZy5DaGlsZENvbnRleHQoY29udGV4dCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJfY29udGV4dFt0b2tlbi52YWx1ZV92YXJdID0gdmFsdWU7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLmtleV92YXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyX2NvbnRleHRbdG9rZW4ua2V5X3Zhcl0gPSBrZXk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb29wIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcl9jb250ZXh0Lmxvb3AgPSBidWlsZExvb3AoaW5kZXgsIGxlbik7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBjb25kaXRpb25hbCA9PT0gdW5kZWZpbmVkID9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3aWcuUHJvbWlzZS5yZXNvbHZlKHRydWUpIDpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoYXQsIFtjb25kaXRpb25hbCwgaW5uZXJfY29udGV4dF0pO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihjb25kaXRpb24pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcucGFyc2VBc3luYy5hcHBseSh0aGF0LCBbdG9rZW4ub3V0cHV0LCBpbm5lcl9jb250ZXh0XSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKG8pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIGxvb3AtcmVsYXRlZCB2YXJpYWJsZXMgZnJvbSB0aGUgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGlubmVyX2NvbnRleHRbJ2xvb3AnXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpbm5lcl9jb250ZXh0W3Rva2VuLnZhbHVlX3Zhcl07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaW5uZXJfY29udGV4dFt0b2tlbi5rZXlfdmFyXTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVyZ2UgaW4gdmFsdWVzIHRoYXQgZXhpc3QgaW4gY29udGV4dCBidXQgaGF2ZSBjaGFuZ2VkXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBpbm5lcl9jb250ZXh0LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdpZy5tZXJnZShjb250ZXh0LCBpbm5lcl9jb250ZXh0LCB0cnVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW3Rva2VuLmV4cHJlc3Npb24sIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKFR3aWcubGliLmlzKCdBcnJheScsIHJlc3VsdCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gcmVzdWx0Lmxlbmd0aDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgVHdpZy5hc3luYy5mb3JFYWNoKHJlc3VsdCwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gaW5kZXg7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb29wKGtleSwgdmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFR3aWcubGliLmlzKCdPYmplY3QnLCByZXN1bHQpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuX2tleXMgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5c2V0ID0gcmVzdWx0Ll9rZXlzO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5c2V0ID0gT2JqZWN0LmtleXMocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBsZW4gPSBrZXlzZXQubGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBUd2lnLmZvckVhY2goa2V5c2V0LCBmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSB0aGUgX2tleXMgcHJvcGVydHksIGl0J3MgaW50ZXJuYWwgdG8gdHdpZy5qc1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJfa2V5c1wiKSByZXR1cm47XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3Aoa2V5LCAgcmVzdWx0W2tleV0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGFsbG93IGVsc2Ugc3RhdGVtZW50cyBpZiBubyBvdXRwdXQgd2FzIGdlbmVyYXRlZFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlX2NoYWluID0gKG91dHB1dC5sZW5ndGggPT09IDApO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNvbnRpbnVlX2NoYWluLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IFR3aWcub3V0cHV0LmFwcGx5KHRoYXQsIFtvdXRwdXRdKVxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogRW5kIGlmIHR5cGUgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgRm9ybWF0OiB7JSBlbmRpZiAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmVuZGZvcixcblx0ICAgICAgICAgICAgcmVnZXg6IC9eZW5kZm9yJC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFsgXSxcblx0ICAgICAgICAgICAgb3BlbjogZmFsc2Vcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIFNldCB0eXBlIGxvZ2ljIHRva2Vucy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgc2V0IGtleSA9IGV4cHJlc3Npb24gJX1cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcubG9naWMudHlwZS5zZXQsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXnNldFxccysoW2EtekEtWjAtOV8sXFxzXSspXFxzKj1cXHMqKFtcXHNcXFNdKykkLyxcblx0ICAgICAgICAgICAgbmV4dDogWyBdLFxuXHQgICAgICAgICAgICBvcGVuOiB0cnVlLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodG9rZW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0b2tlbi5tYXRjaFsxXS50cmltKCksXG5cdCAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHRva2VuLm1hdGNoWzJdLFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIENvbXBpbGUgdGhlIGV4cHJlc3Npb24uXG5cdCAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbl9zdGFjayAgPSBUd2lnLmV4cHJlc3Npb24uY29tcGlsZS5hcHBseSh0aGlzLCBbe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAgVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV4cHJlc3Npb25cblx0ICAgICAgICAgICAgICAgICAgICB9XSkuc3RhY2s7XG5cblx0ICAgICAgICAgICAgICAgIHRva2VuLmtleSA9IGtleTtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmV4cHJlc3Npb24gPSBleHByZXNzaW9uX3N0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNvbnRpbnVlX2NoYWluKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5ID0gdG9rZW4ua2V5O1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW3Rva2VuLmV4cHJlc3Npb24sIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLyogIElmIHN0b3JpbmcgdGhlIGNvbnRleHQgaW4gYSB2YXJpYWJsZSwgaXQgbmVlZHMgdG8gYmUgYSBjbG9uZSBvZiB0aGUgY3VycmVudCBzdGF0ZSBvZiBjb250ZXh0LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3RoZXJ3aXNlIHdlIGhhdmUgYSBjb250ZXh0IHdpdGggaW5maW5pdGUgcmVjdXJzaW9uLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgRml4ZXMgIzM0MVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFR3aWcubGliLmNvcHkodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIGNvbnRleHRba2V5XSA9IHZhbHVlO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNvbnRpbnVlX2NoYWluLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBTZXQgY2FwdHVyZSB0eXBlIGxvZ2ljIHRva2Vucy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgc2V0IGtleSAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLnNldGNhcHR1cmUsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXnNldFxccysoW2EtekEtWjAtOV8sXFxzXSspJC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFtcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbmRzZXRcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgb3BlbjogdHJ1ZSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRva2VuKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5ID0gdG9rZW4ubWF0Y2hbMV0udHJpbSgpO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi5rZXkgPSBrZXk7XG5cblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5tYXRjaDtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbiwgY29udGV4dCwgY29udGludWVfY2hhaW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgICAgICBrZXkgPSB0b2tlbi5rZXk7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW3Rva2VuLm91dHB1dCwgY29udGV4dF0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIHNldCBvbiBib3RoIHRoZSBnbG9iYWwgYW5kIGxvY2FsIGNvbnRleHRcblx0ICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbnRleHRba2V5XSA9IHZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgIGNvbnRleHRba2V5XSA9IHZhbHVlO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNvbnRpbnVlX2NoYWluLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBFbmQgc2V0IHR5cGUgYmxvY2sgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgRm9ybWF0OiB7JSBlbmRzZXQgJX1cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcubG9naWMudHlwZS5lbmRzZXQsXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXmVuZHNldCQvLFxuXHQgICAgICAgICAgICBuZXh0OiBbIF0sXG5cdCAgICAgICAgICAgIG9wZW46IGZhbHNlXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBGaWx0ZXIgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgRm9ybWF0OiB7JSBmaWx0ZXIgdXBwZXIgJX0gb3IgeyUgZmlsdGVyIGxvd2VyfGVzY2FwZSAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmZpbHRlcixcblx0ICAgICAgICAgICAgcmVnZXg6IC9eZmlsdGVyXFxzKyguKykkLyxcblx0ICAgICAgICAgICAgbmV4dDogW1xuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2dpYy50eXBlLmVuZGZpbHRlclxuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICBvcGVuOiB0cnVlLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodG9rZW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBleHByZXNzaW9uID0gXCJ8XCIgKyB0b2tlbi5tYXRjaFsxXS50cmltKCk7XG5cdCAgICAgICAgICAgICAgICAvLyBDb21waWxlIHRoZSBleHByZXNzaW9uLlxuXHQgICAgICAgICAgICAgICAgdG9rZW4uc3RhY2sgPSBUd2lnLmV4cHJlc3Npb24uY29tcGlsZS5hcHBseSh0aGlzLCBbe1xuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6ICBUd2lnLmV4cHJlc3Npb24udHlwZS5leHByZXNzaW9uLFxuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleHByZXNzaW9uXG5cdCAgICAgICAgICAgICAgICB9XSkuc3RhY2s7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5wYXJzZUFzeW5jLmFwcGx5KHRoaXMsIFt0b2tlbi5vdXRwdXQsIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odW5maWx0ZXJlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IFt7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR3aWcuZXhwcmVzc2lvbi50eXBlLnN0cmluZyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZmlsdGVyZWRcblx0ICAgICAgICAgICAgICAgICAgICB9XS5jb25jYXQodG9rZW4uc3RhY2spO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoYXQsIFtzdGFjaywgY29udGV4dF0pO1xuXHQgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKG91dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluOiBjaGFpbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBvdXRwdXRcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogRW5kIGZpbHRlciBsb2dpYyB0b2tlbnMuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICBGb3JtYXQ6IHslIGVuZGZpbHRlciAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmVuZGZpbHRlcixcblx0ICAgICAgICAgICAgcmVnZXg6IC9eZW5kZmlsdGVyJC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFsgXSxcblx0ICAgICAgICAgICAgb3BlbjogZmFsc2Vcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEJsb2NrIGxvZ2ljIHRva2Vucy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgYmxvY2sgdGl0bGUgJX1cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcubG9naWMudHlwZS5ibG9jayxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eYmxvY2tcXHMrKFthLXpBLVowLTlfXSspJC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFtcblx0ICAgICAgICAgICAgICAgIFR3aWcubG9naWMudHlwZS5lbmRibG9ja1xuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICBvcGVuOiB0cnVlLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodG9rZW4pIHtcblx0ICAgICAgICAgICAgICAgIHRva2VuLmJsb2NrID0gdG9rZW4ubWF0Y2hbMV0udHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuLCBjb250ZXh0LCBjaGFpbikge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgICAgIGJsb2NrX291dHB1dCxcblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQsXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IFR3aWcuUHJvbWlzZS5yZXNvbHZlKCksXG5cdCAgICAgICAgICAgICAgICAgICAgaXNJbXBvcnRlZCA9IFR3aWcuaW5kZXhPZih0aGlzLmltcG9ydGVkQmxvY2tzLCB0b2tlbi5ibG9jaykgPiAtMSxcblx0ICAgICAgICAgICAgICAgICAgICBoYXNQYXJlbnQgPSB0aGlzLmJsb2Nrc1t0b2tlbi5ibG9ja10gJiYgVHdpZy5pbmRleE9mKHRoaXMuYmxvY2tzW3Rva2VuLmJsb2NrXSwgVHdpZy5wbGFjZWhvbGRlcnMucGFyZW50KSA+IC0xO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBEb24ndCBvdmVycmlkZSBwcmV2aW91cyBibG9ja3MgdW5sZXNzIHRoZXkncmUgaW1wb3J0ZWQgd2l0aCBcInVzZVwiXG5cdCAgICAgICAgICAgICAgICAvLyBMb29wcyBzaG91bGQgYmUgZXhlbXB0ZWQgYXMgd2VsbC5cblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLmJsb2Nrc1t0b2tlbi5ibG9ja10gPT09IHVuZGVmaW5lZCB8fCBpc0ltcG9ydGVkIHx8IGhhc1BhcmVudCB8fCBjb250ZXh0Lmxvb3AgfHwgdG9rZW4ub3ZlcndyaXRlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLmV4cHJlc3Npb24pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoaXMsIFt0b2tlbi5vdXRwdXQsIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoYXQsIFt7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUuc3RyaW5nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY29udGV4dF0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gVHdpZy5wYXJzZUFzeW5jLmFwcGx5KHRoaXMsIFt0b2tlbi5vdXRwdXQsIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoYXQsIFt7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUuc3RyaW5nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY29udGV4dF0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGJsb2NrX291dHB1dCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNJbXBvcnRlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25jZSB0aGUgYmxvY2sgaXMgb3ZlcnJpZGRlbiwgcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3Qgb2YgaW1wb3J0ZWQgYmxvY2tzXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmltcG9ydGVkQmxvY2tzLnNwbGljZSh0aGF0LmltcG9ydGVkQmxvY2tzLmluZGV4T2YodG9rZW4uYmxvY2spLCAxKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNQYXJlbnQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYmxvY2tzW3Rva2VuLmJsb2NrXSA9IFR3aWcuTWFya3VwKHRoYXQuYmxvY2tzW3Rva2VuLmJsb2NrXS5yZXBsYWNlKFR3aWcucGxhY2Vob2xkZXJzLnBhcmVudCwgYmxvY2tfb3V0cHV0KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmJsb2Nrc1t0b2tlbi5ibG9ja10gPSBibG9ja19vdXRwdXQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm9yaWdpbmFsQmxvY2tUb2tlbnNbdG9rZW4uYmxvY2tdID0ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9rZW4udHlwZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrOiB0b2tlbi5ibG9jayxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogdG9rZW4ub3V0cHV0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcndyaXRlOiB0cnVlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYSBjaGlsZCBibG9jayBoYXMgYmVlbiBzZXQgZnJvbSBhIHRlbXBsYXRlIGV4dGVuZGluZyB0aGlzIG9uZS5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5jaGlsZC5ibG9ja3NbdG9rZW4uYmxvY2tdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHRoYXQuY2hpbGQuYmxvY2tzW3Rva2VuLmJsb2NrXTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGF0LmJsb2Nrc1t0b2tlbi5ibG9ja107XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNoYWluLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IG91dHB1dFxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogQmxvY2sgc2hvcnRoYW5kIGxvZ2ljIHRva2Vucy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgYmxvY2sgdGl0bGUgZXhwcmVzc2lvbiAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLnNob3J0YmxvY2ssXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXmJsb2NrXFxzKyhbYS16QS1aMC05X10rKVxccysoLispJC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFsgXSxcblx0ICAgICAgICAgICAgb3BlbjogdHJ1ZSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRva2VuKSB7XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5leHByZXNzaW9uID0gdG9rZW4ubWF0Y2hbMl0udHJpbSgpO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi5vdXRwdXQgPSBUd2lnLmV4cHJlc3Npb24uY29tcGlsZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdG9rZW4uZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAgICAgfSkuc3RhY2s7XG5cblx0ICAgICAgICAgICAgICAgIHRva2VuLmJsb2NrID0gdG9rZW4ubWF0Y2hbMV0udHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuLCBjb250ZXh0LCBjaGFpbikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcubG9naWMuaGFuZGxlcltUd2lnLmxvZ2ljLnR5cGUuYmxvY2tdLnBhcnNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEVuZCBibG9jayBsb2dpYyB0b2tlbnMuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICBGb3JtYXQ6IHslIGVuZGJsb2NrICV9XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuZW5kYmxvY2ssXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXmVuZGJsb2NrKD86XFxzKyhbYS16QS1aMC05X10rKSk/JC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFsgXSxcblx0ICAgICAgICAgICAgb3BlbjogZmFsc2Vcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEJsb2NrIGxvZ2ljIHRva2Vucy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgZXh0ZW5kcyBcInRlbXBsYXRlLnR3aWdcIiAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmV4dGVuZHNfLFxuXHQgICAgICAgICAgICByZWdleDogL15leHRlbmRzXFxzKyguKykkLyxcblx0ICAgICAgICAgICAgbmV4dDogWyBdLFxuXHQgICAgICAgICAgICBvcGVuOiB0cnVlLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodG9rZW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBleHByZXNzaW9uID0gdG9rZW4ubWF0Y2hbMV0udHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi5zdGFjayAgID0gVHdpZy5leHByZXNzaW9uLmNvbXBpbGUuYXBwbHkodGhpcywgW3tcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlOiAgVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAgICAgfV0pLnN0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUsXG5cdCAgICAgICAgICAgICAgICAgICAgdGhhdCA9IHRoaXMsXG5cdCAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZXh0ID0gVHdpZy5DaGlsZENvbnRleHQoY29udGV4dCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgZmlsZW5hbWVcblx0ICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4uc3RhY2ssIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZmlsZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNldCBwYXJlbnQgdGVtcGxhdGVcblx0ICAgICAgICAgICAgICAgICAgICB0aGF0LmV4dGVuZCA9IGZpbGU7XG5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFR3aWcuVGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBmaWxlO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEltcG9ydCBmaWxlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gdGhhdC5pbXBvcnRGaWxlKGZpbGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgdGVtcGxhdGUgaW4gY2FzZSBpdCBwdXRzIGFueXRoaW5nIGluIGl0cyBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlbmRlckFzeW5jKGlubmVyQ29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBwYXJlbnQgY29udGV4dCB3aXRoIHRoZSBleHRlbmRlZCBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgVHdpZy5saWIuZXh0ZW5kKGNvbnRleHQsIGlubmVyQ29udGV4dCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbjogY2hhaW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogJydcblx0ICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEJsb2NrIGxvZ2ljIHRva2Vucy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgdXNlIFwidGVtcGxhdGUudHdpZ1wiICV9XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUudXNlLFxuXHQgICAgICAgICAgICByZWdleDogL151c2VcXHMrKC4rKSQvLFxuXHQgICAgICAgICAgICBuZXh0OiBbIF0sXG5cdCAgICAgICAgICAgIG9wZW46IHRydWUsXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0b2tlbikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGV4cHJlc3Npb24gPSB0b2tlbi5tYXRjaFsxXS50cmltKCk7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cblx0ICAgICAgICAgICAgICAgIHRva2VuLnN0YWNrID0gVHdpZy5leHByZXNzaW9uLmNvbXBpbGUuYXBwbHkodGhpcywgW3tcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlOiAgVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAgICAgfV0pLnN0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgZmlsZW5hbWVcblx0ICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4uc3RhY2ssIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZmlsZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIEltcG9ydCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgICAgICB0aGF0LmltcG9ydEJsb2NrcyhmaWxlKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluOiBjaGFpbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAnJ1xuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogQmxvY2sgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgRm9ybWF0OiB7JSBpbmNsdWRlcyBcInRlbXBsYXRlLnR3aWdcIiBbd2l0aCB7c29tZTogJ3ZhbHVlcyd9IG9ubHldICV9XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuaW5jbHVkZSxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eaW5jbHVkZVxccysoLis/KSg/Olxcc3wkKShpZ25vcmUgbWlzc2luZyg/Olxcc3wkKSk/KD86d2l0aFxccysoW1xcU1xcc10rPykpPyg/Olxcc3wkKShvbmx5KT8kLyxcblx0ICAgICAgICAgICAgbmV4dDogWyBdLFxuXHQgICAgICAgICAgICBvcGVuOiB0cnVlLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodG9rZW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHRva2VuLm1hdGNoLFxuXHQgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBtYXRjaFsxXS50cmltKCksXG5cdCAgICAgICAgICAgICAgICAgICAgaWdub3JlTWlzc2luZyA9IG1hdGNoWzJdICE9PSB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgd2l0aENvbnRleHQgPSBtYXRjaFszXSxcblx0ICAgICAgICAgICAgICAgICAgICBvbmx5ID0gKChtYXRjaFs0XSAhPT0gdW5kZWZpbmVkKSAmJiBtYXRjaFs0XS5sZW5ndGgpO1xuXG5cdCAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW4ubWF0Y2g7XG5cblx0ICAgICAgICAgICAgICAgIHRva2VuLm9ubHkgPSBvbmx5O1xuXHQgICAgICAgICAgICAgICAgdG9rZW4uaWdub3JlTWlzc2luZyA9IGlnbm9yZU1pc3Npbmc7XG5cblx0ICAgICAgICAgICAgICAgIHRva2VuLnN0YWNrID0gVHdpZy5leHByZXNzaW9uLmNvbXBpbGUuYXBwbHkodGhpcywgW3tcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlOiAgVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAgICAgfV0pLnN0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAod2l0aENvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRva2VuLndpdGhTdGFjayA9IFR3aWcuZXhwcmVzc2lvbi5jb21waWxlLmFwcGx5KHRoaXMsIFt7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICBUd2lnLmV4cHJlc3Npb24udHlwZS5leHByZXNzaW9uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogd2l0aENvbnRleHQudHJpbSgpXG5cdCAgICAgICAgICAgICAgICAgICAgfV0pLnN0YWNrO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIGZpbGVuYW1lXG5cdCAgICAgICAgICAgICAgICB2YXIgaW5uZXJDb250ZXh0ID0ge30sXG5cdCAgICAgICAgICAgICAgICAgICAgaSxcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGF0ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gVHdpZy5Qcm9taXNlLnJlc29sdmUoKTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKCF0b2tlbi5vbmx5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZXh0ID0gVHdpZy5DaGlsZENvbnRleHQoY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIGlmICh0b2tlbi53aXRoU3RhY2sgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4ud2l0aFN0YWNrLCBjb250ZXh0XSlcblx0ICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih3aXRoQ29udGV4dCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gd2l0aENvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aXRoQ29udGV4dC5oYXNPd25Qcm9wZXJ0eShpKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lckNvbnRleHRbaV0gPSB3aXRoQ29udGV4dFtpXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jLmFwcGx5KHRoYXQsIFt0b2tlbi5zdGFjaywgY29udGV4dF0pO1xuXHQgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpbGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFR3aWcuVGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBmaWxlO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEltcG9ydCBmaWxlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHRoYXQuaW1wb3J0RmlsZShmaWxlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaWdub3JlTWlzc2luZykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlbmRlckFzeW5jKGlubmVyQ29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ob3V0cHV0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNoYWluLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IG91dHB1dFxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuc3BhY2VsZXNzLFxuXHQgICAgICAgICAgICByZWdleDogL15zcGFjZWxlc3MkLyxcblx0ICAgICAgICAgICAgbmV4dDogW1xuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2dpYy50eXBlLmVuZHNwYWNlbGVzc1xuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICBvcGVuOiB0cnVlLFxuXG5cdCAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBodG1sIGFuZCByZXR1cm4gaXQgd2l0aG91dCBhbnkgc3BhY2VzIGJldHdlZW4gdGFnc1xuXHQgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuLCBjb250ZXh0LCBjaGFpbikge1xuXHQgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIG91dHB1dCB3aXRob3V0IGFueSBmaWx0ZXJcblx0ICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW3Rva2VuLm91dHB1dCwgY29udGV4dF0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih1bmZpbHRlcmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIC8vIEEgcmVndWxhciBleHByZXNzaW9uIHRvIGZpbmQgY2xvc2luZyBhbmQgb3BlbmluZyB0YWdzIHdpdGggc3BhY2VzIGJldHdlZW4gdGhlbVxuXHQgICAgICAgICAgICAgICAgICAgICAgICByQmV0d2VlblRhZ1NwYWNlcyA9IC8+XFxzKzwvZyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBhbGwgc3BhY2UgYmV0d2VlbiBjbG9zaW5nIGFuZCBvcGVuaW5nIGh0bWwgdGFnc1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB1bmZpbHRlcmVkLnJlcGxhY2UockJldHdlZW5UYWdTcGFjZXMsJz48JykudHJpbSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXdyYXAgb3V0cHV0IGFzIGEgVHdpZy5NYXJrdXBcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gVHdpZy5NYXJrdXAob3V0cHV0KTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbjogY2hhaW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogb3V0cHV0XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8vIEFkZCB0aGUgeyUgZW5kc3BhY2VsZXNzICV9IHRva2VuXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuZW5kc3BhY2VsZXNzLFxuXHQgICAgICAgICAgICByZWdleDogL15lbmRzcGFjZWxlc3MkLyxcblx0ICAgICAgICAgICAgbmV4dDogWyBdLFxuXHQgICAgICAgICAgICBvcGVuOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogTWFjcm8gbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBGb3JtYXQ6IHslIG1hcm8gaW5wdXQobmFtZSwgdmFsdWUsIHR5cGUsIHNpemUpICV9XG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUubWFjcm8sXG5cdCAgICAgICAgICAgIHJlZ2V4OiAvXm1hY3JvXFxzKyhbYS16QS1aMC05X10rKVxccypcXChcXHMqKCg/OlthLXpBLVowLTlfXSsoPzosXFxzKik/KSopXFxzKlxcKSQvLFxuXHQgICAgICAgICAgICBuZXh0OiBbXG5cdCAgICAgICAgICAgICAgICBUd2lnLmxvZ2ljLnR5cGUuZW5kbWFjcm9cblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgb3BlbjogdHJ1ZSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRva2VuKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWFjcm9OYW1lID0gdG9rZW4ubWF0Y2hbMV0sXG5cdCAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IHRva2VuLm1hdGNoWzJdLnNwbGl0KC9bXFxzLF0rLyk7XG5cblx0ICAgICAgICAgICAgICAgIC8vVE9ETzogQ2xlYW4gdXAgZHVwbGljYXRlIGNoZWNrXG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8cGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGo9MDsgajxwYXJhbWV0ZXJzLmxlbmd0aDsgaisrKXtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnNbaV0gPT09IHBhcmFtZXRlcnNbal0gJiYgaSAhPT0gaikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJEdXBsaWNhdGUgYXJndW1lbnRzIGZvciBwYXJhbWV0ZXI6IFwiKyBwYXJhbWV0ZXJzW2ldKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdG9rZW4ubWFjcm9OYW1lID0gbWFjcm9OYW1lO1xuXHQgICAgICAgICAgICAgICAgdG9rZW4ucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG5cblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5tYXRjaDtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbiwgY29udGV4dCwgY2hhaW4pIHtcblx0ICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXM7XG5cdCAgICAgICAgICAgICAgICB0aGlzLm1hY3Jvc1t0b2tlbi5tYWNyb05hbWVdID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyBnbG9iYWwgY29udGV4dCBhbmQgb3RoZXIgbWFjcm9zXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIG1hY3JvQ29udGV4dCA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGY6IHRlbXBsYXRlLm1hY3Jvc1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAvLyBBZGQgcGFyYW1ldGVycyBmcm9tIGNvbnRleHQgdG8gbWFjcm9Db250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRva2VuLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSB0b2tlbi5wYXJhbWV0ZXJzW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgYXJndW1lbnRzW2ldICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm9Db250ZXh0W3Byb3BdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm9Db250ZXh0W3Byb3BdID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcucGFyc2VBc3luYy5hcHBseSh0ZW1wbGF0ZSwgW3Rva2VuLm91dHB1dCwgbWFjcm9Db250ZXh0XSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgIGNoYWluOiBjaGFpbixcblx0ICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICcnXG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEVuZCBtYWNybyBsb2dpYyB0b2tlbnMuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEZvcm1hdDogeyUgZW5kbWFjcm8gJX1cblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuZW5kbWFjcm8sXG5cdCAgICAgICAgICAgICByZWdleDogL15lbmRtYWNybyQvLFxuXHQgICAgICAgICAgICAgbmV4dDogWyBdLFxuXHQgICAgICAgICAgICAgb3BlbjogZmFsc2Vcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgLypcblx0ICAgICAgICAgICAgKiBpbXBvcnQgbG9naWMgdG9rZW5zLlxuXHQgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICogRm9ybWF0OiB7JSBpbXBvcnQgXCJ0ZW1wbGF0ZS50d2lnXCIgYXMgZm9ybSAlfVxuXHQgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuaW1wb3J0Xyxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eaW1wb3J0XFxzKyguKylcXHMrYXNcXHMrKFthLXpBLVowLTlfXSspJC8sXG5cdCAgICAgICAgICAgIG5leHQ6IFsgXSxcblx0ICAgICAgICAgICAgb3BlbjogdHJ1ZSxcblx0ICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRva2VuKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IHRva2VuLm1hdGNoWzFdLnRyaW0oKSxcblx0ICAgICAgICAgICAgICAgICAgICBjb250ZXh0TmFtZSA9IHRva2VuLm1hdGNoWzJdLnRyaW0oKTtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5tYXRjaDtcblxuXHQgICAgICAgICAgICAgICAgdG9rZW4uZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5jb250ZXh0TmFtZSA9IGNvbnRleHROYW1lO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi5zdGFjayA9IFR3aWcuZXhwcmVzc2lvbi5jb21waWxlLmFwcGx5KHRoaXMsIFt7XG5cdCAgICAgICAgICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAgICAgfV0pLnN0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG5cdCAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0geyBjaGFpbjogY2hhaW4sIG91dHB1dDogJycgfTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHRva2VuLmV4cHJlc3Npb24gPT09ICdfc2VsZicpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb250ZXh0W3Rva2VuLmNvbnRleHROYW1lXSA9IHRoaXMubWFjcm9zO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2lnLlByb21pc2UucmVzb2x2ZShvdXRwdXQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW3Rva2VuLnN0YWNrLCBjb250ZXh0XSlcblx0ICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpbGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5pbXBvcnRGaWxlKGZpbGUgfHwgdG9rZW4uZXhwcmVzc2lvbik7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb250ZXh0W3Rva2VuLmNvbnRleHROYW1lXSA9IHRlbXBsYXRlLnJlbmRlckFzeW5jKHt9LCB7b3V0cHV0OiAnbWFjcm9zJ30pO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qXG5cdCAgICAgICAgICAgICogZnJvbSBsb2dpYyB0b2tlbnMuXG5cdCAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgKiBGb3JtYXQ6IHslIGZyb20gXCJ0ZW1wbGF0ZS50d2lnXCIgaW1wb3J0IGZ1bmMgYXMgZm9ybSAlfVxuXHQgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUuZnJvbSxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eZnJvbVxccysoLispXFxzK2ltcG9ydFxccysoW2EtekEtWjAtOV8sIF0rKSQvLFxuXHQgICAgICAgICAgICBuZXh0OiBbIF0sXG5cdCAgICAgICAgICAgIG9wZW46IHRydWUsXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0b2tlbikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGV4cHJlc3Npb24gPSB0b2tlbi5tYXRjaFsxXS50cmltKCksXG5cdCAgICAgICAgICAgICAgICAgICAgbWFjcm9FeHByZXNzaW9ucyA9IHRva2VuLm1hdGNoWzJdLnRyaW0oKS5zcGxpdCgvXFxzKixcXHMqLyksXG5cdCAgICAgICAgICAgICAgICAgICAgbWFjcm9OYW1lcyA9IHt9O1xuXG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8bWFjcm9FeHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBtYWNyb0V4cHJlc3Npb25zW2ldO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2ggZnVuY3Rpb24gYXMgdmFyaWFibGVcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbWFjcm9NYXRjaCA9IHJlcy5tYXRjaCgvXihbYS16QS1aMC05X10rKVxccythc1xccysoW2EtekEtWjAtOV9dKykkLyk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG1hY3JvTWF0Y2gpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm9OYW1lc1ttYWNyb01hdGNoWzFdLnRyaW0oKV0gPSBtYWNyb01hdGNoWzJdLnRyaW0oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzLm1hdGNoKC9eKFthLXpBLVowLTlfXSspJC8pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvTmFtZXNbcmVzXSA9IHJlcztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBpbXBvcnRcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRva2VuLm1hdGNoO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcblx0ICAgICAgICAgICAgICAgIHRva2VuLm1hY3JvTmFtZXMgPSBtYWNyb05hbWVzO1xuXG5cdCAgICAgICAgICAgICAgICB0b2tlbi5zdGFjayA9IFR3aWcuZXhwcmVzc2lvbi5jb21waWxlLmFwcGx5KHRoaXMsIFt7XG5cdCAgICAgICAgICAgICAgICAgICAgdHlwZTogVHdpZy5leHByZXNzaW9uLnR5cGUuZXhwcmVzc2lvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvblxuXHQgICAgICAgICAgICAgICAgfV0pLnN0YWNrO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQsIGNoYWluKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IFR3aWcuUHJvbWlzZS5yZXNvbHZlKHRoaXMubWFjcm9zKTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHRva2VuLmV4cHJlc3Npb24gIT09IFwiX3NlbGZcIikge1xuXHQgICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBUd2lnLmV4cHJlc3Npb24ucGFyc2VBc3luYy5hcHBseSh0aGlzLCBbdG9rZW4uc3RhY2ssIGNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpbGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuaW1wb3J0RmlsZShmaWxlIHx8IHRva2VuLmV4cHJlc3Npb24pO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlbmRlckFzeW5jKHt9LCB7b3V0cHV0OiAnbWFjcm9zJ30pO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24obWFjcm9zKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbWFjcm9OYW1lIGluIHRva2VuLm1hY3JvTmFtZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hY3Jvcy5oYXNPd25Qcm9wZXJ0eShtYWNyb05hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0W3Rva2VuLm1hY3JvTmFtZXNbbWFjcm9OYW1lXV0gPSBtYWNyb3NbbWFjcm9OYW1lXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluOiBjaGFpbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAnJ1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBUaGUgZW1iZWQgdGFnIGNvbWJpbmVzIHRoZSBiZWhhdmlvdXIgb2YgaW5jbHVkZSBhbmQgZXh0ZW5kcy5cblx0ICAgICAgICAgICAgICogSXQgYWxsb3dzIHlvdSB0byBpbmNsdWRlIGFub3RoZXIgdGVtcGxhdGUncyBjb250ZW50cywganVzdCBsaWtlIGluY2x1ZGUgZG9lcy5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogIEZvcm1hdDogeyUgZW1iZWQgXCJ0ZW1wbGF0ZS50d2lnXCIgW3dpdGgge3NvbWU6ICd2YWx1ZXMnfSBvbmx5XSAlfVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdHlwZTogVHdpZy5sb2dpYy50eXBlLmVtYmVkLFxuXHQgICAgICAgICAgICByZWdleDogL15lbWJlZFxccysoLis/KSg/Olxcc3wkKShpZ25vcmUgbWlzc2luZyg/Olxcc3wkKSk/KD86d2l0aFxccysoW1xcU1xcc10rPykpPyg/Olxcc3wkKShvbmx5KT8kLyxcblx0ICAgICAgICAgICAgbmV4dDogW1xuXHQgICAgICAgICAgICAgICAgVHdpZy5sb2dpYy50eXBlLmVuZGVtYmVkXG5cdCAgICAgICAgICAgIF0sXG5cdCAgICAgICAgICAgIG9wZW46IHRydWUsXG5cdCAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0b2tlbikge1xuXHQgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gdG9rZW4ubWF0Y2gsXG5cdCAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG1hdGNoWzFdLnRyaW0oKSxcblx0ICAgICAgICAgICAgICAgICAgICBpZ25vcmVNaXNzaW5nID0gbWF0Y2hbMl0gIT09IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICB3aXRoQ29udGV4dCA9IG1hdGNoWzNdLFxuXHQgICAgICAgICAgICAgICAgICAgIG9ubHkgPSAoKG1hdGNoWzRdICE9PSB1bmRlZmluZWQpICYmIG1hdGNoWzRdLmxlbmd0aCk7XG5cblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5tYXRjaDtcblxuXHQgICAgICAgICAgICAgICAgdG9rZW4ub25seSA9IG9ubHk7XG5cdCAgICAgICAgICAgICAgICB0b2tlbi5pZ25vcmVNaXNzaW5nID0gaWdub3JlTWlzc2luZztcblxuXHQgICAgICAgICAgICAgICAgdG9rZW4uc3RhY2sgPSBUd2lnLmV4cHJlc3Npb24uY29tcGlsZS5hcHBseSh0aGlzLCBbe1xuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6ICBUd2lnLmV4cHJlc3Npb24udHlwZS5leHByZXNzaW9uLFxuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleHByZXNzaW9uXG5cdCAgICAgICAgICAgICAgICB9XSkuc3RhY2s7XG5cblx0ICAgICAgICAgICAgICAgIGlmICh3aXRoQ29udGV4dCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdG9rZW4ud2l0aFN0YWNrID0gVHdpZy5leHByZXNzaW9uLmNvbXBpbGUuYXBwbHkodGhpcywgW3tcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIFR3aWcuZXhwcmVzc2lvbi50eXBlLmV4cHJlc3Npb24sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB3aXRoQ29udGV4dC50cmltKClcblx0ICAgICAgICAgICAgICAgICAgICB9XSkuc3RhY2s7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbiwgY29udGV4dCwgY2hhaW4pIHtcblx0ICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgZmlsZW5hbWVcblx0ICAgICAgICAgICAgICAgIHZhciBpbm5lckNvbnRleHQgPSB7fSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGF0ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgICAgICBpLFxuXHQgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLFxuXHQgICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBUd2lnLlByb21pc2UucmVzb2x2ZSgpO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAoIXRva2VuLm9ubHkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gY29udGV4dCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShpKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQ29udGV4dFtpXSA9IGNvbnRleHRbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBpZiAodG9rZW4ud2l0aFN0YWNrICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhpcywgW3Rva2VuLndpdGhTdGFjaywgY29udGV4dF0pXG5cdCAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24od2l0aENvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpIGluIHdpdGhDb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2l0aENvbnRleHQuaGFzT3duUHJvcGVydHkoaSkpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZXh0W2ldID0gd2l0aENvbnRleHRbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHdpZy5leHByZXNzaW9uLnBhcnNlQXN5bmMuYXBwbHkodGhhdCwgW3Rva2VuLnN0YWNrLCBpbm5lckNvbnRleHRdKTtcblx0ICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihmaWxlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBUd2lnLlRlbXBsYXRlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gZmlsZTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbXBvcnQgZmlsZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0aGF0LmltcG9ydEZpbGUoZmlsZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLmlnbm9yZU1pc3NpbmcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHByZXZpb3VzIGJsb2Nrc1xuXHQgICAgICAgICAgICAgICAgICAgIHRoYXQuYmxvY2tzID0ge307XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBwYXJzZSB0b2tlbnMuIG91dHB1dCB3aWxsIGJlIG5vdCB1c2VkXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFR3aWcucGFyc2VBc3luYy5hcHBseSh0aGF0LCBbdG9rZW4ub3V0cHV0LCBpbm5lckNvbnRleHRdKVxuXHQgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXIgdGVtcGFsdGUgd2l0aCBibG9ja3MgZGVmaW5lZCBpbiBlbWJlZCBibG9ja1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVuZGVyQXN5bmMoaW5uZXJDb250ZXh0LCB7J2Jsb2Nrcyc6dGhhdC5ibG9ja3N9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihvdXRwdXQpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbjogY2hhaW4sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogb3V0cHV0XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICAvKiBBZGQgdGhlIHslIGVuZGVtYmVkICV9IHRva2VuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHR5cGU6IFR3aWcubG9naWMudHlwZS5lbmRlbWJlZCxcblx0ICAgICAgICAgICAgcmVnZXg6IC9eZW5kZW1iZWQkLyxcblx0ICAgICAgICAgICAgbmV4dDogWyBdLFxuXHQgICAgICAgICAgICBvcGVuOiBmYWxzZVxuXHQgICAgICAgIH1cblxuXHQgICAgXTtcblxuXG5cdCAgICAvKipcblx0ICAgICAqIFJlZ2lzdHJ5IGZvciBsb2dpYyBoYW5kbGVycy5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5sb2dpYy5oYW5kbGVyID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogRGVmaW5lIGEgbmV3IHRva2VuIHR5cGUsIGF2YWlsYWJsZSBhdCBUd2lnLmxvZ2ljLnR5cGUue3R5cGV9XG5cdCAgICAgKi9cblx0ICAgIFR3aWcubG9naWMuZXh0ZW5kVHlwZSA9IGZ1bmN0aW9uICh0eXBlLCB2YWx1ZSkge1xuXHQgICAgICAgIHZhbHVlID0gdmFsdWUgfHwgKFwiVHdpZy5sb2dpYy50eXBlXCIgKyB0eXBlKTtcblx0ICAgICAgICBUd2lnLmxvZ2ljLnR5cGVbdHlwZV0gPSB2YWx1ZTtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogRXh0ZW5kIHRoZSBsb2dpYyBwYXJzaW5nIGZ1bmN0aW9uYWxpdHkgd2l0aCBhIG5ldyB0b2tlbiBkZWZpbml0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIC8vIERlZmluZSBhIG5ldyB0YWdcblx0ICAgICAqIFR3aWcubG9naWMuZXh0ZW5kKHtcblx0ICAgICAqICAgICB0eXBlOiBUd2lnLmxvZ2ljLnR5cGUue3R5cGV9LFxuXHQgICAgICogICAgIC8vIFRoZSBwYXR0ZXJuIHRvIG1hdGNoIGZvciB0aGlzIHRva2VuXG5cdCAgICAgKiAgICAgcmVnZXg6IC4uLixcblx0ICAgICAqICAgICAvLyBXaGF0IHRva2VuIHR5cGVzIGNhbiBmb2xsb3cgdGhpcyB0b2tlbiwgbGVhdmUgYmxhbmsgaWYgYW55LlxuXHQgICAgICogICAgIG5leHQ6IFsgLi4uIF1cblx0ICAgICAqICAgICAvLyBDcmVhdGUgYW5kIHJldHVybiBjb21waWxlZCB2ZXJzaW9uIG9mIHRoZSB0b2tlblxuXHQgICAgICogICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRva2VuKSB7IC4uLiB9XG5cdCAgICAgKiAgICAgLy8gUGFyc2UgdGhlIGNvbXBpbGVkIHRva2VuIHdpdGggdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgdGhlIHJlbmRlciBjYWxsXG5cdCAgICAgKiAgICAgLy8gICBhbmQgd2hldGhlciB0aGlzIHRva2VuIGNoYWluIGlzIGNvbXBsZXRlLlxuXHQgICAgICogICAgIHBhcnNlOiBmdW5jdGlvbih0b2tlbiwgY29udGV4dCwgY2hhaW4pIHsgLi4uIH1cblx0ICAgICAqIH0pO1xuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIFRoZSBuZXcgbG9naWMgZXhwcmVzc2lvbi5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5sb2dpYy5leHRlbmQgPSBmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuXG5cdCAgICAgICAgaWYgKCFkZWZpbml0aW9uLnR5cGUpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoXCJVbmFibGUgdG8gZXh0ZW5kIGxvZ2ljIGRlZmluaXRpb24uIE5vIHR5cGUgcHJvdmlkZWQgZm9yIFwiICsgZGVmaW5pdGlvbik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgVHdpZy5sb2dpYy5leHRlbmRUeXBlKGRlZmluaXRpb24udHlwZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIFR3aWcubG9naWMuaGFuZGxlcltkZWZpbml0aW9uLnR5cGVdID0gZGVmaW5pdGlvbjtcblx0ICAgIH07XG5cblx0ICAgIC8vIEV4dGVuZCB3aXRoIGJ1aWx0LWluIGV4cHJlc3Npb25zXG5cdCAgICB3aGlsZSAoVHdpZy5sb2dpYy5kZWZpbml0aW9ucy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgVHdpZy5sb2dpYy5leHRlbmQoVHdpZy5sb2dpYy5kZWZpbml0aW9ucy5zaGlmdCgpKTtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBDb21waWxlIGEgbG9naWMgdG9rZW4gaW50byBhbiBvYmplY3QgcmVhZHkgZm9yIHBhcnNpbmcuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHJhd190b2tlbiBBbiB1bmNvbXBpbGVkIGxvZ2ljIHRva2VuLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge09iamVjdH0gQSBjb21waWxlZCBsb2dpYyB0b2tlbiwgcmVhZHkgZm9yIHBhcnNpbmcuXG5cdCAgICAgKi9cblx0ICAgIFR3aWcubG9naWMuY29tcGlsZSA9IGZ1bmN0aW9uIChyYXdfdG9rZW4pIHtcblx0ICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IHJhd190b2tlbi52YWx1ZS50cmltKCksXG5cdCAgICAgICAgICAgIHRva2VuID0gVHdpZy5sb2dpYy50b2tlbml6ZS5hcHBseSh0aGlzLCBbZXhwcmVzc2lvbl0pLFxuXHQgICAgICAgICAgICB0b2tlbl90ZW1wbGF0ZSA9IFR3aWcubG9naWMuaGFuZGxlclt0b2tlbi50eXBlXTtcblxuXHQgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0b2tlbiBuZWVkcyBjb21waWxpbmdcblx0ICAgICAgICBpZiAodG9rZW5fdGVtcGxhdGUuY29tcGlsZSkge1xuXHQgICAgICAgICAgICB0b2tlbiA9IHRva2VuX3RlbXBsYXRlLmNvbXBpbGUuYXBwbHkodGhpcywgW3Rva2VuXSk7XG5cdCAgICAgICAgICAgIFR3aWcubG9nLnRyYWNlKFwiVHdpZy5sb2dpYy5jb21waWxlOiBcIiwgXCJDb21waWxlZCBsb2dpYyB0b2tlbiB0byBcIiwgdG9rZW4pO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiB0b2tlbjtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogVG9rZW5pemUgbG9naWMgZXhwcmVzc2lvbnMuIFRoaXMgZnVuY3Rpb24gbWF0Y2hlcyB0b2tlbiBleHByZXNzaW9ucyBhZ2FpbnN0IHJlZ3VsYXJcblx0ICAgICAqIGV4cHJlc3Npb25zIHByb3ZpZGVkIGluIHRva2VuIGRlZmluaXRpb25zIHByb3ZpZGVkIHdpdGggVHdpZy5sb2dpYy5leHRlbmQuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gdGhlIGxvZ2ljIHRva2VuIGV4cHJlc3Npb24gdG8gdG9rZW5pemVcblx0ICAgICAqICAgICAgICAgICAgICAgIChpLmUuIHdoYXQncyBiZXR3ZWVuIHslIGFuZCAlfSlcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtYXRjaGVkIHRva2VuIHdpdGggdHlwZSBzZXQgdG8gdGhlIHRva2VuIHR5cGUgYW5kIG1hdGNoIHRvIHRoZSByZWdleCBtYXRjaC5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5sb2dpYy50b2tlbml6ZSA9IGZ1bmN0aW9uIChleHByZXNzaW9uKSB7XG5cdCAgICAgICAgdmFyIHRva2VuID0ge30sXG5cdCAgICAgICAgICAgIHRva2VuX3RlbXBsYXRlX3R5cGUgPSBudWxsLFxuXHQgICAgICAgICAgICB0b2tlbl90eXBlID0gbnVsbCxcblx0ICAgICAgICAgICAgdG9rZW5fcmVnZXggPSBudWxsLFxuXHQgICAgICAgICAgICByZWdleF9hcnJheSA9IG51bGwsXG5cdCAgICAgICAgICAgIHJlZ2V4ID0gbnVsbCxcblx0ICAgICAgICAgICAgbWF0Y2ggPSBudWxsO1xuXG5cdCAgICAgICAgLy8gSWdub3JlIHdoaXRlc3BhY2UgYXJvdW5kIGV4cHJlc3Npb25zLlxuXHQgICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnRyaW0oKTtcblxuXHQgICAgICAgIGZvciAodG9rZW5fdGVtcGxhdGVfdHlwZSBpbiBUd2lnLmxvZ2ljLmhhbmRsZXIpIHtcblx0ICAgICAgICAgICAgaWYgKFR3aWcubG9naWMuaGFuZGxlci5oYXNPd25Qcm9wZXJ0eSh0b2tlbl90ZW1wbGF0ZV90eXBlKSkge1xuXHQgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSB0eXBlIGFuZCByZWdleCBmb3IgdGhpcyB0ZW1wbGF0ZSB0eXBlXG5cdCAgICAgICAgICAgICAgICB0b2tlbl90eXBlID0gVHdpZy5sb2dpYy5oYW5kbGVyW3Rva2VuX3RlbXBsYXRlX3R5cGVdLnR5cGU7XG5cdCAgICAgICAgICAgICAgICB0b2tlbl9yZWdleCA9IFR3aWcubG9naWMuaGFuZGxlclt0b2tlbl90ZW1wbGF0ZV90eXBlXS5yZWdleDtcblxuXHQgICAgICAgICAgICAgICAgLy8gSGFuZGxlIG11bHRpcGxlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgcGVyIHR5cGUuXG5cdCAgICAgICAgICAgICAgICByZWdleF9hcnJheSA9IFtdO1xuXHQgICAgICAgICAgICAgICAgaWYgKHRva2VuX3JlZ2V4IGluc3RhbmNlb2YgQXJyYXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWdleF9hcnJheSA9IHRva2VuX3JlZ2V4O1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWdleF9hcnJheS5wdXNoKHRva2VuX3JlZ2V4KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gQ2hlY2sgcmVndWxhciBleHByZXNzaW9ucyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgZGVmaW5pdGlvbi5cblx0ICAgICAgICAgICAgICAgIHdoaWxlIChyZWdleF9hcnJheS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVnZXggPSByZWdleF9hcnJheS5zaGlmdCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcmVnZXguZXhlYyhleHByZXNzaW9uLnRyaW0oKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgID0gdG9rZW5fdHlwZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4ubWF0Y2ggPSBtYXRjaDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgVHdpZy5sb2cudHJhY2UoXCJUd2lnLmxvZ2ljLnRva2VuaXplOiBcIiwgXCJNYXRjaGVkIGEgXCIsIHRva2VuX3R5cGUsIFwiIHJlZ3VsYXIgZXhwcmVzc2lvbiBvZiBcIiwgbWF0Y2gpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gTm8gcmVnZXggbWF0Y2hlc1xuXHQgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKFwiVW5hYmxlIHRvIHBhcnNlICdcIiArIGV4cHJlc3Npb24udHJpbSgpICsgXCInXCIpO1xuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBQYXJzZSBhIGxvZ2ljIHRva2VuIHdpdGhpbiBhIGdpdmVuIGNvbnRleHQuXG5cdCAgICAgKlxuXHQgICAgICogV2hhdCBhcmUgbG9naWMgY2hhaW5zP1xuXHQgICAgICogICAgICBMb2dpYyBjaGFpbnMgcmVwcmVzZW50IGEgc2VyaWVzIG9mIHRva2VucyB0aGF0IGFyZSBjb25uZWN0ZWQsXG5cdCAgICAgKiAgICAgICAgICBmb3IgZXhhbXBsZTpcblx0ICAgICAqICAgICAgICAgIHslIGlmIC4uLiAlfSB7JSBlbHNlICV9IHslIGVuZGlmICV9XG5cdCAgICAgKlxuXHQgICAgICogICAgICBUaGUgY2hhaW4gcGFyYW1ldGVyIGlzIHVzZWQgdG8gc2lnbmlmeSBpZiBhIGNoYWluIGlzIG9wZW4gb2YgY2xvc2VkLlxuXHQgICAgICogICAgICBvcGVuOlxuXHQgICAgICogICAgICAgICAgTW9yZSB0b2tlbnMgaW4gdGhpcyBjaGFpbiBzaG91bGQgYmUgcGFyc2VkLlxuXHQgICAgICogICAgICBjbG9zZWQ6XG5cdCAgICAgKiAgICAgICAgICBUaGlzIHRva2VuIGNoYWluIGhhcyBjb21wbGV0ZWQgcGFyc2luZyBhbmQgYW55IGFkZGl0aW9uYWxcblx0ICAgICAqICAgICAgICAgIHRva2VucyAoZWxzZSwgZWxzZWlmLCBldGMuLi4pIHNob3VsZCBiZSBpZ25vcmVkLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBUaGUgY29tcGlsZWQgdG9rZW4uXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCBUaGUgcmVuZGVyIGNvbnRleHQuXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoYWluIElzIHRoaXMgYW4gb3BlbiBsb2dpYyBjaGFpbi4gSWYgZmFsc2UsIHRoYXQgbWVhbnMgYVxuXHQgICAgICogICAgICAgICAgICAgICAgICAgICAgICBjaGFpbiBpcyBjbG9zZWQgYW5kIG5vIGZ1cnRoZXIgY2FzZXMgc2hvdWxkIGJlIHBhcnNlZC5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5sb2dpYy5wYXJzZSA9IGZ1bmN0aW9uICh0b2tlbiwgY29udGV4dCwgY2hhaW4sIGFsbG93X2FzeW5jKSB7XG5cdCAgICAgICAgdmFyIG91dHB1dCA9ICcnLFxuXHQgICAgICAgICAgICBwcm9taXNlLFxuXHQgICAgICAgICAgICBpc19hc3luYyA9IHRydWUsXG5cdCAgICAgICAgICAgIHRva2VuX3RlbXBsYXRlO1xuXG5cdCAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgeyB9O1xuXG5cdCAgICAgICAgVHdpZy5sb2cuZGVidWcoXCJUd2lnLmxvZ2ljLnBhcnNlOiBcIiwgXCJQYXJzaW5nIGxvZ2ljIHRva2VuIFwiLCB0b2tlbik7XG5cblx0ICAgICAgICB0b2tlbl90ZW1wbGF0ZSA9IFR3aWcubG9naWMuaGFuZGxlclt0b2tlbi50eXBlXTtcblxuXHQgICAgICAgIGlmICh0b2tlbl90ZW1wbGF0ZS5wYXJzZSkge1xuXHQgICAgICAgICAgICBvdXRwdXQgPSB0b2tlbl90ZW1wbGF0ZS5wYXJzZS5hcHBseSh0aGlzLCBbdG9rZW4sIGNvbnRleHQsIGNoYWluXSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcHJvbWlzZSA9IFR3aWcuaXNQcm9taXNlKG91dHB1dCkgPyBvdXRwdXQgOiBUd2lnLlByb21pc2UucmVzb2x2ZShvdXRwdXQpO1xuXG5cdCAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKG8pIHtcblx0ICAgICAgICAgICAgaXNfYXN5bmMgPSBmYWxzZTtcblx0ICAgICAgICAgICAgb3V0cHV0ID0gbztcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGlmIChhbGxvd19hc3luYylcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UgfHwgVHdpZy5Qcm9taXNlLnJlc29sdmUob3V0cHV0KTtcblxuXHQgICAgICAgIGlmIChpc19hc3luYylcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR3aWcuRXJyb3IoJ1lvdSBhcmUgdXNpbmcgVHdpZy5qcyBpbiBzeW5jIG1vZGUgaW4gY29tYmluYXRpb24gd2l0aCBhc3luYyBleHRlbnNpb25zLicpO1xuXG5cdCAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgIH07XG5cblx0ICAgIHJldHVybiBUd2lnO1xuXG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFR3aWcpIHtcblx0ICAgICd1c2Ugc3RyaWN0JztcblxuXHQgICAgVHdpZy5UZW1wbGF0ZXMucmVnaXN0ZXJQYXJzZXIoJ3NvdXJjZScsIGZ1bmN0aW9uKHBhcmFtcykge1xuXHQgICAgICAgIHJldHVybiBwYXJhbXMuZGF0YSB8fCAnJztcblx0ICAgIH0pO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUd2lnKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIFR3aWcuVGVtcGxhdGVzLnJlZ2lzdGVyUGFyc2VyKCd0d2lnJywgZnVuY3Rpb24ocGFyYW1zKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBUd2lnLlRlbXBsYXRlKHBhcmFtcyk7XG5cdCAgICB9KTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vICMjIHR3aWcucGF0aC5qc1xuXHQvL1xuXHQvLyBUaGlzIGZpbGUgaGFuZGxlcyBwYXRoIHBhcnNpbmdcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVHdpZykge1xuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XG5cblx0ICAgIC8qKlxuXHQgICAgICogTmFtZXNwYWNlIGZvciBwYXRoIGhhbmRsaW5nLlxuXHQgICAgICovXG5cdCAgICBUd2lnLnBhdGggPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBHZW5lcmF0ZSB0aGUgY2Fub25pY2FsIHZlcnNpb24gb2YgYSB1cmwgYmFzZWQgb24gdGhlIGdpdmVuIGJhc2UgcGF0aCBhbmQgZmlsZSBwYXRoIGFuZCBpblxuXHQgICAgICogdGhlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBuYW1lc3BhY2VzLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSAge3N0cmluZ30gdGVtcGxhdGUgVGhlIFR3aWcgVGVtcGxhdGVcblx0ICAgICAqIEBwYXJhbSAge3N0cmluZ30gZmlsZSAgICAgVGhlIGZpbGUgcGF0aCwgbWF5IGJlIHJlbGF0aXZlIGFuZCBtYXkgY29udGFpbiBuYW1lc3BhY2VzLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgVGhlIGNhbm9uaWNhbCB2ZXJzaW9uIG9mIHRoZSBwYXRoXG5cdCAgICAgKi9cblx0ICAgICBUd2lnLnBhdGgucGFyc2VQYXRoID0gZnVuY3Rpb24odGVtcGxhdGUsIGZpbGUpIHtcblx0ICAgICAgICB2YXIgbmFtZXNwYWNlcyA9IG51bGwsXG5cdCAgICAgICAgICAgIGZpbGUgPSBmaWxlIHx8IFwiXCI7XG5cblx0ICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGVtcGxhdGUub3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgbmFtZXNwYWNlcyA9IHRlbXBsYXRlLm9wdGlvbnMubmFtZXNwYWNlcztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdvYmplY3QnICYmIChmaWxlLmluZGV4T2YoJzo6JykgPiAwKSB8fCBmaWxlLmluZGV4T2YoJ0AnKSA+PSAwKXtcblx0ICAgICAgICAgICAgZm9yICh2YXIgayBpbiBuYW1lc3BhY2VzKXtcblx0ICAgICAgICAgICAgICAgIGlmIChuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KGspKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGZpbGUucmVwbGFjZShrICsgJzo6JywgbmFtZXNwYWNlc1trXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGZpbGUucmVwbGFjZSgnQCcgKyBrLCBuYW1lc3BhY2VzW2tdKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBmaWxlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBUd2lnLnBhdGgucmVsYXRpdmVQYXRoKHRlbXBsYXRlLCBmaWxlKTtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogR2VuZXJhdGUgdGhlIHJlbGF0aXZlIGNhbm9uaWNhbCB2ZXJzaW9uIG9mIGEgdXJsIGJhc2VkIG9uIHRoZSBnaXZlbiBiYXNlIHBhdGggYW5kIGZpbGUgcGF0aC5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1R3aWcuVGVtcGxhdGV9IHRlbXBsYXRlIFRoZSBUd2lnLlRlbXBsYXRlLlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUgVGhlIGZpbGUgcGF0aCwgcmVsYXRpdmUgdG8gdGhlIGJhc2UgcGF0aC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjYW5vbmljYWwgdmVyc2lvbiBvZiB0aGUgcGF0aC5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5wYXRoLnJlbGF0aXZlUGF0aCA9IGZ1bmN0aW9uKHRlbXBsYXRlLCBmaWxlKSB7XG5cdCAgICAgICAgdmFyIGJhc2UsXG5cdCAgICAgICAgICAgIGJhc2VfcGF0aCxcblx0ICAgICAgICAgICAgc2VwX2NociA9IFwiL1wiLFxuXHQgICAgICAgICAgICBuZXdfcGF0aCA9IFtdLFxuXHQgICAgICAgICAgICBmaWxlID0gZmlsZSB8fCBcIlwiLFxuXHQgICAgICAgICAgICB2YWw7XG5cblx0ICAgICAgICBpZiAodGVtcGxhdGUudXJsKSB7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuYmFzZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgICAgIGJhc2UgPSB0ZW1wbGF0ZS5iYXNlICsgKCh0ZW1wbGF0ZS5iYXNlLmNoYXJBdCh0ZW1wbGF0ZS5iYXNlLmxlbmd0aC0xKSA9PT0gJy8nKSA/ICcnIDogJy8nKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGJhc2UgPSB0ZW1wbGF0ZS51cmw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKHRlbXBsYXRlLnBhdGgpIHtcblx0ICAgICAgICAgICAgLy8gR2V0IHRoZSBzeXN0ZW0tc3BlY2lmaWMgcGF0aCBzZXBhcmF0b3Jcblx0ICAgICAgICAgICAgdmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxcblx0ICAgICAgICAgICAgICAgIHNlcCA9IHBhdGguc2VwIHx8IHNlcF9jaHIsXG5cdCAgICAgICAgICAgICAgICByZWxhdGl2ZSA9IG5ldyBSZWdFeHAoXCJeXFxcXC57MSwyfVwiICsgc2VwLnJlcGxhY2UoXCJcXFxcXCIsIFwiXFxcXFxcXFxcIikpO1xuXHQgICAgICAgICAgICBmaWxlID0gZmlsZS5yZXBsYWNlKC9cXC8vZywgc2VwKTtcblxuXHQgICAgICAgICAgICBpZiAodGVtcGxhdGUuYmFzZSAhPT0gdW5kZWZpbmVkICYmIGZpbGUubWF0Y2gocmVsYXRpdmUpID09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGZpbGUgPSBmaWxlLnJlcGxhY2UodGVtcGxhdGUuYmFzZSwgJycpO1xuXHQgICAgICAgICAgICAgICAgYmFzZSA9IHRlbXBsYXRlLmJhc2UgKyBzZXA7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBiYXNlID0gcGF0aC5ub3JtYWxpemUodGVtcGxhdGUucGF0aCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBiYXNlID0gYmFzZS5yZXBsYWNlKHNlcCtzZXAsIHNlcCk7XG5cdCAgICAgICAgICAgIHNlcF9jaHIgPSBzZXA7XG5cdCAgICAgICAgfSBlbHNlIGlmICgodGVtcGxhdGUubmFtZSB8fCB0ZW1wbGF0ZS5pZCkgJiYgdGVtcGxhdGUubWV0aG9kICYmIHRlbXBsYXRlLm1ldGhvZCAhPT0gJ2ZzJyAmJiB0ZW1wbGF0ZS5tZXRob2QgIT09ICdhamF4Jykge1xuXHQgICAgICAgICAgICAvLyBDdXN0b20gcmVnaXN0ZXJlZCBsb2FkZXJcblx0ICAgICAgICAgICAgYmFzZSA9IHRlbXBsYXRlLmJhc2UgfHwgdGVtcGxhdGUubmFtZSB8fCB0ZW1wbGF0ZS5pZDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIkNhbm5vdCBleHRlbmQgYW4gaW5saW5lIHRlbXBsYXRlLlwiKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBiYXNlX3BhdGggPSBiYXNlLnNwbGl0KHNlcF9jaHIpO1xuXG5cdCAgICAgICAgLy8gUmVtb3ZlIGZpbGUgZnJvbSB1cmxcblx0ICAgICAgICBiYXNlX3BhdGgucG9wKCk7XG5cdCAgICAgICAgYmFzZV9wYXRoID0gYmFzZV9wYXRoLmNvbmNhdChmaWxlLnNwbGl0KHNlcF9jaHIpKTtcblxuXHQgICAgICAgIHdoaWxlIChiYXNlX3BhdGgubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICB2YWwgPSBiYXNlX3BhdGguc2hpZnQoKTtcblx0ICAgICAgICAgICAgaWYgKHZhbCA9PSBcIi5cIikge1xuXHQgICAgICAgICAgICAgICAgLy8gSWdub3JlXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsID09IFwiLi5cIiAmJiBuZXdfcGF0aC5sZW5ndGggPiAwICYmIG5ld19wYXRoW25ld19wYXRoLmxlbmd0aC0xXSAhPSBcIi4uXCIpIHtcblx0ICAgICAgICAgICAgICAgIG5ld19wYXRoLnBvcCgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgbmV3X3BhdGgucHVzaCh2YWwpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIG5ld19wYXRoLmpvaW4oc2VwX2Nocik7XG5cdCAgICB9O1xuXG5cdCAgICByZXR1cm4gVHdpZztcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vICMjIHR3aWcudGVzdHMuanNcblx0Ly9cblx0Ly8gVGhpcyBmaWxlIGhhbmRsZXMgZXhwcmVzc2lvbiB0ZXN0cy4gKGlzIGVtcHR5LCBpcyBub3QgZGVmaW5lZCwgZXRjLi4uKVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUd2lnKSB7XG5cdCAgICBcInVzZSBzdHJpY3RcIjtcblx0ICAgIFR3aWcudGVzdHMgPSB7XG5cdCAgICAgICAgZW1wdHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgLy8gSGFuZGxlciBudW1iZXJzXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHJldHVybiBmYWxzZTsgLy8gbnVtYmVycyBhcmUgbmV2ZXIgXCJlbXB0eVwiXG5cdCAgICAgICAgICAgIC8vIEhhbmRsZSBzdHJpbmdzIGFuZCBhcnJheXNcblx0ICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAmJiB2YWx1ZS5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIC8vIEhhbmRsZSBvYmplY3RzXG5cdCAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIG9kZDogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlICUgMiA9PT0gMTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGV2ZW46IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZSAlIDIgPT09IDA7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBkaXZpc2libGVieTogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWUgJSBwYXJhbXNbMF0gPT09IDA7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBkZWZpbmVkOiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIG5vbmU6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcblx0ICAgICAgICB9LFxuXHQgICAgICAgICdudWxsJzogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9uZSh2YWx1ZSk7IC8vIEFsaWFzIG9mIG5vbmVcblx0ICAgICAgICB9LFxuXHQgICAgICAgICdzYW1lIGFzJzogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHBhcmFtc1swXTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNhbWVhczogZnVuY3Rpb24odmFsdWUsIHBhcmFtcykge1xuXHQgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2BzYW1lYXNgIGlzIGRlcHJlY2F0ZWQgdXNlIGBzYW1lIGFzYCcpO1xuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy50ZXN0c1snc2FtZSBhcyddKHZhbHVlLCBwYXJhbXMpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgaXRlcmFibGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiAoVHdpZy5saWIuaXMoXCJBcnJheVwiLCB2YWx1ZSkgfHwgVHdpZy5saWIuaXMoXCJPYmplY3RcIiwgdmFsdWUpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLypcblx0ICAgICAgICBjb25zdGFudCA/XG5cdCAgICAgICAgICovXG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLnRlc3QgPSBmdW5jdGlvbih0ZXN0LCB2YWx1ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgaWYgKCFUd2lnLnRlc3RzW3Rlc3RdKSB7XG5cdCAgICAgICAgICAgIHRocm93IFwiVGVzdCBcIiArIHRlc3QgKyBcIiBpcyBub3QgZGVmaW5lZC5cIjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIFR3aWcudGVzdHNbdGVzdF0odmFsdWUsIHBhcmFtcyk7XG5cdCAgICB9O1xuXG5cdCAgICBUd2lnLnRlc3QuZXh0ZW5kID0gZnVuY3Rpb24odGVzdCwgZGVmaW5pdGlvbikge1xuXHQgICAgICAgIFR3aWcudGVzdHNbdGVzdF0gPSBkZWZpbml0aW9uO1xuXHQgICAgfTtcblxuXHQgICAgcmV0dXJuIFR3aWc7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyAjIyB0d2lnLmFzeW5jLmpzXG5cdC8vXG5cdC8vIFRoaXMgZmlsZSBoYW5kbGVzIGFzeW5jaHJvbm91cyB0YXNrcyB3aXRoaW4gdHdpZy5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVHdpZykge1xuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XG5cblx0ICAgIFR3aWcucGFyc2VBc3luYyA9IGZ1bmN0aW9uICh0b2tlbnMsIGNvbnRleHQpIHtcblx0ICAgICAgICByZXR1cm4gVHdpZy5wYXJzZS5hcHBseSh0aGlzLCBbdG9rZW5zLCBjb250ZXh0LCB0cnVlXSk7XG5cdCAgICB9XG5cblx0ICAgIFR3aWcuZXhwcmVzc2lvbi5wYXJzZUFzeW5jID0gZnVuY3Rpb24gKHRva2VucywgY29udGV4dCwgdG9rZW5zX2FyZV9wYXJhbWV0ZXJzKSB7XG5cdCAgICAgICAgcmV0dXJuIFR3aWcuZXhwcmVzc2lvbi5wYXJzZS5hcHBseSh0aGlzLCBbdG9rZW5zLCBjb250ZXh0LCB0b2tlbnNfYXJlX3BhcmFtZXRlcnMsIHRydWVdKTtcblx0ICAgIH1cblxuXHQgICAgVHdpZy5sb2dpYy5wYXJzZUFzeW5jID0gZnVuY3Rpb24gKHRva2VuLCBjb250ZXh0LCBjaGFpbikge1xuXHQgICAgICAgIHJldHVybiBUd2lnLmxvZ2ljLnBhcnNlLmFwcGx5KHRoaXMsIFt0b2tlbiwgY29udGV4dCwgY2hhaW4sIHRydWVdKTtcblx0ICAgIH1cblxuXHQgICAgVHdpZy5UZW1wbGF0ZS5wcm90b3R5cGUucmVuZGVyQXN5bmMgPSBmdW5jdGlvbiAoY29udGV4dCwgcGFyYW1zKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKGNvbnRleHQsIHBhcmFtcywgdHJ1ZSk7XG5cdCAgICB9XG5cblx0ICAgIFR3aWcuYXN5bmMgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgZm9yIGB0aGVuYWJsZWAgb2JqZWN0c1xuXHQgICAgICovXG5cdCAgICBUd2lnLmlzUHJvbWlzZSA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmogJiYgKHR5cGVvZiBvYmoudGhlbiA9PSAnZnVuY3Rpb24nKTtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBBbiBhbHRlcm5hdGUgaW1wbGVtZW50YXRpb24gb2YgYSBQcm9taXNlIHRoYXQgZG9lcyBub3QgZnVsbHkgZm9sbG93XG5cdCAgICAgKiB0aGUgc3BlYywgYnV0IGluc3RlYWQgd29ya3MgZnVsbHkgc3luY2hyb25vdXMgd2hpbGUgc3RpbGwgYmVpbmdcblx0ICAgICAqIHRoZW5hYmxlLlxuXHQgICAgICpcblx0ICAgICAqIFRoZXNlIHByb21pc2VzIGNhbiBiZSBtaXhlZCB3aXRoIHJlZ3VsYXIgcHJvbWlzZXMgYXQgd2hpY2ggcG9pbnRcblx0ICAgICAqIHRoZSBzeW5jaHJvbm91cyBiZWhhdmlvdXIgaXMgbG9zdC5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5Qcm9taXNlID0gZnVuY3Rpb24oZXhlY3V0b3IpIHtcblx0ICAgICAgICAvLyBTdGF0ZVxuXHQgICAgICAgIHZhciBzdGF0ZSA9ICd1bmtub3duJztcblx0ICAgICAgICB2YXIgdmFsdWUgPSBudWxsO1xuXHQgICAgICAgIHZhciBoYW5kbGVycyA9IG51bGw7XG5cblx0ICAgICAgICBmdW5jdGlvbiBjaGFuZ2VTdGF0ZShuZXdTdGF0ZSwgdikge1xuXHQgICAgICAgICAgICBzdGF0ZSA9IG5ld1N0YXRlO1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHY7XG5cdCAgICAgICAgICAgIG5vdGlmeSgpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgZnVuY3Rpb24gb25SZXNvbHZlKHYpIHsgY2hhbmdlU3RhdGUoJ3Jlc29sdmUnLCB2KTsgfVxuXHQgICAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0KGUpIHsgY2hhbmdlU3RhdGUoJ3JlamVjdCcsIGUpOyB9XG5cblx0ICAgICAgICBmdW5jdGlvbiBub3RpZnkoKSB7XG5cdCAgICAgICAgICAgIGlmICghaGFuZGxlcnMpIHJldHVybjtcblxuXHQgICAgICAgICAgICBUd2lnLmZvckVhY2goaGFuZGxlcnMsIGZ1bmN0aW9uKGgpIHtcblx0ICAgICAgICAgICAgICAgIGFwcGVuZChoLnJlc29sdmUsIGgucmVqZWN0KTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGhhbmRsZXJzID0gbnVsbDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmdW5jdGlvbiBhcHBlbmQob25SZXNvbHZlZCwgb25SZWplY3RlZCkge1xuXHQgICAgICAgICAgICB2YXIgaCA9IHtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmU6IG9uUmVzb2x2ZWQsXG5cdCAgICAgICAgICAgICAgICByZWplY3Q6IG9uUmVqZWN0ZWRcblx0ICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAvLyBUaGUgcHJvbWlzZSBoYXMgeWV0IHRvIGJlIHJlamVjdGVkIG9yIHJlc29sdmVkLlxuXHQgICAgICAgICAgICBpZiAoc3RhdGUgPT0gJ3Vua25vd24nKSB7XG5cdCAgICAgICAgICAgICAgICBoYW5kbGVycyA9IGhhbmRsZXJzIHx8IFtdO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXJzLnB1c2goaCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBUaGUgc3RhdGUgaGFzIGJlZW4gY2hhbmdlZCB0byBlaXRoZXIgcmVzb2x2ZSwgb3IgcmVqZWN0XG5cdCAgICAgICAgICAgIC8vIHdoaWNoIG1lYW5zIHdlIHNob3VsZCBjYWxsIHRoZSBoYW5kbGVyLlxuXHQgICAgICAgICAgICBpZiAoaFtzdGF0ZV0pXG5cdCAgICAgICAgICAgICAgICBoW3N0YXRlXSh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgZnVuY3Rpb24gcnVuKGZuLCByZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGZuKGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodik7XG5cdCAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBjYXRjaChlKSB7XG5cdCAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIHJlamVjdChlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGZ1bmN0aW9uIHJlYWR5KHJlc3VsdCkge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFUd2lnLmlzUHJvbWlzZShyZXN1bHQpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBydW4ocmVzdWx0LnRoZW4uYmluZChyZXN1bHQpLCByZWFkeSwgb25SZWplY3QpO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICBvblJlamVjdChlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJ1bihleGVjdXRvciwgcmVhZHksIG9uUmVqZWN0KTtcblxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHRoZW46IGZ1bmN0aW9uKG9uUmVzb2x2ZWQsIG9uUmVqZWN0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBoYXNSZXNvbHZlZCA9IHR5cGVvZiBvblJlc29sdmVkID09ICdmdW5jdGlvbic7XG5cdCAgICAgICAgICAgICAgICB2YXIgaGFzUmVqZWN0ZWQgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFR3aWcuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICBhcHBlbmQoZnVuY3Rpb24ocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNSZXNvbHZlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9uUmVzb2x2ZWQocmVzdWx0KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNSZWplY3RlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9uUmVqZWN0ZWQoZXJyKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBjYXRjaDogZnVuY3Rpb24ob25SZWplY3RlZCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cblx0ICAgIFR3aWcuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFR3aWcuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG5cdCAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblxuXHQgICAgVHdpZy5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFR3aWcuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgcmVqZWN0KGUpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblxuXHQgICAgVHdpZy5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKHByb21pc2VzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblxuXHQgICAgICAgIHJldHVybiBUd2lnLmFzeW5jLmZvckVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG5cdCAgICAgICAgICAgIGlmICghVHdpZy5pc1Byb21pc2UocCkpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdHNbaW5kZXhdID0gcDtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBwLnRoZW4oZnVuY3Rpb24odikge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2O1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KVxuXHQgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgKiBHbyBvdmVyIGVhY2ggaXRlbSBpbiBhIGZhc2hpb24gY29tcGF0aWJsZSB3aXRoIFR3aWcuZm9yRWFjaCxcblx0ICAgICogYWxsb3cgdGhlIGZ1bmN0aW9uIHRvIHJldHVybiBhIHByb21pc2Ugb3IgY2FsbCB0aGUgdGhpcmQgYXJndW1lbnRcblx0ICAgICogdG8gc2lnbmFsIGl0IGlzIGZpbmlzaGVkLlxuXHQgICAgKlxuXHQgICAgKiBFYWNoIGl0ZW0gaW4gdGhlIGFycmF5IHdpbGwgYmUgY2FsbGVkIHNlcXVlbnRpYWxseS5cblx0ICAgICovXG5cdCAgICBUd2lnLmFzeW5jLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoQXN5bmMoYXJyLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBhcmdfaW5kZXggPSAwO1xuXHQgICAgICAgIHZhciBjYWxsYmFja3MgPSB7fTtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBUd2lnLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIGNhbGxiYWNrcyA9IHtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG5cdCAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZnVuY3Rpb24gZmFpbChlcnIpIHtcblx0ICAgICAgICAgICAgY2FsbGJhY2tzLnJlamVjdChlcnIpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGZ1bmN0aW9uIG5leHQodmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKCFUd2lnLmlzUHJvbWlzZSh2YWx1ZSkpXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0ZSgpO1xuXG5cdCAgICAgICAgICAgIHZhbHVlLnRoZW4obmV4dCwgZmFpbCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgZnVuY3Rpb24gaXRlcmF0ZSgpIHtcblx0ICAgICAgICAgICAgdmFyIGluZGV4ID0gYXJnX2luZGV4Kys7XG5cblx0ICAgICAgICAgICAgaWYgKGluZGV4ID09IGFyci5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5yZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBuZXh0KGNhbGxiYWNrKGFycltpbmRleF0sIGluZGV4KSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaXRlcmF0ZSgpO1xuXG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9O1xuXG5cdCAgICByZXR1cm4gVHdpZztcblxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gIyMgdHdpZy5leHBvcnRzLmpzXG5cdC8vXG5cdC8vIFRoaXMgZmlsZSBwcm92aWRlcyBleHRlbnNpb24gcG9pbnRzIGFuZCBvdGhlciBob29rcyBpbnRvIHRoZSB0d2lnIGZ1bmN0aW9uYWxpdHkuXG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVHdpZykge1xuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XG5cdCAgICBUd2lnLmV4cG9ydHMgPSB7XG5cdCAgICAgICAgVkVSU0lPTjogVHdpZy5WRVJTSU9OXG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZSBhbmQgY29tcGlsZSBhIHR3aWcuanMgdGVtcGxhdGUuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIFBhcmFtdGVyZXMgZm9yIGNyZWF0aW5nIGEgVHdpZyB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtUd2lnLlRlbXBsYXRlfSBBIFR3aWcgdGVtcGxhdGUgcmVhZHkgZm9yIHJlbmRlcmluZy5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5leHBvcnRzLnR3aWcgPSBmdW5jdGlvbiB0d2lnKHBhcmFtcykge1xuXHQgICAgICAgICd1c2Ugc3RyaWN0Jztcblx0ICAgICAgICB2YXIgaWQgPSBwYXJhbXMuaWQsXG5cdCAgICAgICAgICAgIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgICAgICAgICBzdHJpY3RfdmFyaWFibGVzOiBwYXJhbXMuc3RyaWN0X3ZhcmlhYmxlcyB8fCBmYWxzZSxcblx0ICAgICAgICAgICAgICAgIC8vIFRPRE86IHR1cm4gYXV0b3NjYXBlIG9uIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cblx0ICAgICAgICAgICAgICAgIGF1dG9lc2NhcGU6IHBhcmFtcy5hdXRvZXNjYXBlICE9IG51bGwgJiYgcGFyYW1zLmF1dG9lc2NhcGUgfHwgZmFsc2UsXG5cdCAgICAgICAgICAgICAgICBhbGxvd0lubGluZUluY2x1ZGVzOiBwYXJhbXMuYWxsb3dJbmxpbmVJbmNsdWRlcyB8fCBmYWxzZSxcblx0ICAgICAgICAgICAgICAgIHJldGhyb3c6IHBhcmFtcy5yZXRocm93IHx8IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgbmFtZXNwYWNlczogcGFyYW1zLm5hbWVzcGFjZXNcblx0ICAgICAgICAgICAgfTtcblxuXHQgICAgICAgIGlmIChUd2lnLmNhY2hlICYmIGlkKSB7XG5cdCAgICAgICAgICAgIFR3aWcudmFsaWRhdGVJZChpZCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKHBhcmFtcy5kZWJ1ZyAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIFR3aWcuZGVidWcgPSBwYXJhbXMuZGVidWc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwYXJhbXMudHJhY2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBUd2lnLnRyYWNlID0gcGFyYW1zLnRyYWNlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChwYXJhbXMuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBUd2lnLlRlbXBsYXRlcy5wYXJzZXJzLnR3aWcoe1xuXHQgICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zLmRhdGEsXG5cdCAgICAgICAgICAgICAgICBwYXRoOiBwYXJhbXMuaGFzT3duUHJvcGVydHkoJ3BhdGgnKSA/IHBhcmFtcy5wYXRoIDogdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgbW9kdWxlOiBwYXJhbXMubW9kdWxlLFxuXHQgICAgICAgICAgICAgICAgaWQ6ICAgaWQsXG5cdCAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG5cdCAgICAgICAgICAgIH0pO1xuXG5cdCAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMucmVmICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgaWYgKHBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHdpZy5FcnJvcihcIkJvdGggcmVmIGFuZCBpZCBjYW5ub3QgYmUgc2V0IG9uIGEgdHdpZy5qcyB0ZW1wbGF0ZS5cIik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIFR3aWcuVGVtcGxhdGVzLmxvYWQocGFyYW1zLnJlZik7XG5cdCAgICAgICAgXG5cdCAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMubWV0aG9kICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgaWYgKCFUd2lnLlRlbXBsYXRlcy5pc1JlZ2lzdGVyZWRMb2FkZXIocGFyYW1zLm1ldGhvZCkpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUd2lnLkVycm9yKCdMb2FkZXIgZm9yIFwiJyArIHBhcmFtcy5tZXRob2QgKyAnXCIgaXMgbm90IGRlZmluZWQuJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIFR3aWcuVGVtcGxhdGVzLmxvYWRSZW1vdGUocGFyYW1zLm5hbWUgfHwgcGFyYW1zLmhyZWYgfHwgcGFyYW1zLnBhdGggfHwgaWQgfHwgdW5kZWZpbmVkLCB7XG5cdCAgICAgICAgICAgICAgICBpZDogaWQsXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsXG5cdCAgICAgICAgICAgICAgICBwYXJzZXI6IHBhcmFtcy5wYXJzZXIgfHwgJ3R3aWcnLFxuXHQgICAgICAgICAgICAgICAgYmFzZTogcGFyYW1zLmJhc2UsXG5cdCAgICAgICAgICAgICAgICBtb2R1bGU6IHBhcmFtcy5tb2R1bGUsXG5cdCAgICAgICAgICAgICAgICBwcmVjb21waWxlZDogcGFyYW1zLnByZWNvbXBpbGVkLFxuXHQgICAgICAgICAgICAgICAgYXN5bmM6IHBhcmFtcy5hc3luYyxcblx0ICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcblxuXHQgICAgICAgICAgICB9LCBwYXJhbXMubG9hZCwgcGFyYW1zLmVycm9yKTtcblxuXHQgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmhyZWYgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5UZW1wbGF0ZXMubG9hZFJlbW90ZShwYXJhbXMuaHJlZiwge1xuXHQgICAgICAgICAgICAgICAgaWQ6IGlkLFxuXHQgICAgICAgICAgICAgICAgbWV0aG9kOiAnYWpheCcsXG5cdCAgICAgICAgICAgICAgICBwYXJzZXI6IHBhcmFtcy5wYXJzZXIgfHwgJ3R3aWcnLFxuXHQgICAgICAgICAgICAgICAgYmFzZTogcGFyYW1zLmJhc2UsXG5cdCAgICAgICAgICAgICAgICBtb2R1bGU6IHBhcmFtcy5tb2R1bGUsXG5cdCAgICAgICAgICAgICAgICBwcmVjb21waWxlZDogcGFyYW1zLnByZWNvbXBpbGVkLFxuXHQgICAgICAgICAgICAgICAgYXN5bmM6IHBhcmFtcy5hc3luYyxcblx0ICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcblxuXHQgICAgICAgICAgICB9LCBwYXJhbXMubG9hZCwgcGFyYW1zLmVycm9yKTtcblxuXHQgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnBhdGggIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gVHdpZy5UZW1wbGF0ZXMubG9hZFJlbW90ZShwYXJhbXMucGF0aCwge1xuXHQgICAgICAgICAgICAgICAgaWQ6IGlkLFxuXHQgICAgICAgICAgICAgICAgbWV0aG9kOiAnZnMnLFxuXHQgICAgICAgICAgICAgICAgcGFyc2VyOiBwYXJhbXMucGFyc2VyIHx8ICd0d2lnJyxcblx0ICAgICAgICAgICAgICAgIGJhc2U6IHBhcmFtcy5iYXNlLFxuXHQgICAgICAgICAgICAgICAgbW9kdWxlOiBwYXJhbXMubW9kdWxlLFxuXHQgICAgICAgICAgICAgICAgcHJlY29tcGlsZWQ6IHBhcmFtcy5wcmVjb21waWxlZCxcblx0ICAgICAgICAgICAgICAgIGFzeW5jOiBwYXJhbXMuYXN5bmMsXG5cdCAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG5cblx0ICAgICAgICAgICAgfSwgcGFyYW1zLmxvYWQsIHBhcmFtcy5lcnJvcik7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgLy8gRXh0ZW5kIFR3aWcgd2l0aCBhIG5ldyBmaWx0ZXIuXG5cdCAgICBUd2lnLmV4cG9ydHMuZXh0ZW5kRmlsdGVyID0gZnVuY3Rpb24oZmlsdGVyLCBkZWZpbml0aW9uKSB7XG5cdCAgICAgICAgVHdpZy5maWx0ZXIuZXh0ZW5kKGZpbHRlciwgZGVmaW5pdGlvbik7XG5cdCAgICB9O1xuXG5cdCAgICAvLyBFeHRlbmQgVHdpZyB3aXRoIGEgbmV3IGZ1bmN0aW9uLlxuXHQgICAgVHdpZy5leHBvcnRzLmV4dGVuZEZ1bmN0aW9uID0gZnVuY3Rpb24oZm4sIGRlZmluaXRpb24pIHtcblx0ICAgICAgICBUd2lnLl9mdW5jdGlvbi5leHRlbmQoZm4sIGRlZmluaXRpb24pO1xuXHQgICAgfTtcblxuXHQgICAgLy8gRXh0ZW5kIFR3aWcgd2l0aCBhIG5ldyB0ZXN0LlxuXHQgICAgVHdpZy5leHBvcnRzLmV4dGVuZFRlc3QgPSBmdW5jdGlvbih0ZXN0LCBkZWZpbml0aW9uKSB7XG5cdCAgICAgICAgVHdpZy50ZXN0LmV4dGVuZCh0ZXN0LCBkZWZpbml0aW9uKTtcblx0ICAgIH07XG5cblx0ICAgIC8vIEV4dGVuZCBUd2lnIHdpdGggYSBuZXcgZGVmaW5pdGlvbi5cblx0ICAgIFR3aWcuZXhwb3J0cy5leHRlbmRUYWcgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7XG5cdCAgICAgICAgVHdpZy5sb2dpYy5leHRlbmQoZGVmaW5pdGlvbik7XG5cdCAgICB9O1xuXG5cdCAgICAvLyBQcm92aWRlIGFuIGVudmlyb25tZW50IGZvciBleHRlbmRpbmcgVHdpZyBjb3JlLlxuXHQgICAgLy8gQ2FsbHMgZm4gd2l0aCB0aGUgaW50ZXJuYWwgVHdpZyBvYmplY3QuXG5cdCAgICBUd2lnLmV4cG9ydHMuZXh0ZW5kID0gZnVuY3Rpb24oZm4pIHtcblx0ICAgICAgICBmbihUd2lnKTtcblx0ICAgIH07XG5cblxuXHQgICAgLyoqXG5cdCAgICAgKiBQcm92aWRlIGFuIGV4dGVuc2lvbiBmb3IgdXNlIHdpdGggZXhwcmVzcyAyLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrdXAgVGhlIHRlbXBsYXRlIG1hcmt1cC5cblx0ICAgICAqIEBwYXJhbSB7YXJyYXl9IG9wdGlvbnMgVGhlIGV4cHJlc3Mgb3B0aW9ucy5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSByZW5kZXJlZCB0ZW1wbGF0ZS5cblx0ICAgICAqL1xuXHQgICAgVHdpZy5leHBvcnRzLmNvbXBpbGUgPSBmdW5jdGlvbihtYXJrdXAsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgaWQgPSBvcHRpb25zLmZpbGVuYW1lLFxuXHQgICAgICAgICAgICBwYXRoID0gb3B0aW9ucy5maWxlbmFtZSxcblx0ICAgICAgICAgICAgdGVtcGxhdGU7XG5cblx0ICAgICAgICAvLyBUcnkgdG8gbG9hZCB0aGUgdGVtcGxhdGUgZnJvbSB0aGUgY2FjaGVcblx0ICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUd2lnLlRlbXBsYXRlKHtcblx0ICAgICAgICAgICAgZGF0YTogbWFya3VwLFxuXHQgICAgICAgICAgICBwYXRoOiBwYXRoLFxuXHQgICAgICAgICAgICBpZDogaWQsXG5cdCAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMuc2V0dGluZ3NbJ3R3aWcgb3B0aW9ucyddXG5cdCAgICAgICAgfSk7IC8vIFR3aWcuVGVtcGxhdGVzLmxvYWQoaWQpIHx8XG5cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oY29udGV4dCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVuZGVyKGNvbnRleHQpO1xuXHQgICAgICAgIH07XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFByb3ZpZGUgYW4gZXh0ZW5zaW9uIGZvciB1c2Ugd2l0aCBleHByZXNzIDMuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIGxvY2F0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBmaWxlIG9uIGRpc2suXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gVGhlIG9wdGlvbnMgb3IgY2FsbGJhY2suXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBjYWxsYmFjay5cblx0ICAgICAqIFxuXHQgICAgICogQHRocm93cyBUd2lnLkVycm9yXG5cdCAgICAgKi9cblx0ICAgIFR3aWcuZXhwb3J0cy5yZW5kZXJGaWxlID0gZnVuY3Rpb24ocGF0aCwgb3B0aW9ucywgZm4pIHtcblx0ICAgICAgICAvLyBoYW5kbGUgY2FsbGJhY2sgaW4gb3B0aW9uc1xuXHQgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBmbiA9IG9wdGlvbnM7XG5cdCAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHQgICAgICAgIHZhciBzZXR0aW5ncyA9IG9wdGlvbnMuc2V0dGluZ3MgfHwge307XG5cblx0ICAgICAgICB2YXIgcGFyYW1zID0ge1xuXHQgICAgICAgICAgICBwYXRoOiBwYXRoLFxuXHQgICAgICAgICAgICBiYXNlOiBzZXR0aW5ncy52aWV3cyxcblx0ICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgICAgIC8vIHJlbmRlciBhbmQgcmV0dXJuIHRlbXBsYXRlIGFzIGEgc2ltcGxlIHN0cmluZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2lnanMvdHdpZy5qcy9wdWxsLzM0OCBmb3IgbW9yZSBpbmZvcm1hdGlvblxuXHQgICAgICAgICAgICAgICAgZm4obnVsbCwgJycgKyB0ZW1wbGF0ZS5yZW5kZXIob3B0aW9ucykpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIC8vIG1peGluIGFueSBvcHRpb25zIHByb3ZpZGVkIHRvIHRoZSBleHByZXNzIGFwcC5cblx0ICAgICAgICB2YXIgdmlld19vcHRpb25zID0gc2V0dGluZ3NbJ3R3aWcgb3B0aW9ucyddO1xuXG5cdCAgICAgICAgaWYgKHZpZXdfb3B0aW9ucykge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBvcHRpb24gaW4gdmlld19vcHRpb25zKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAodmlld19vcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcblx0ICAgICAgICAgICAgICAgICAgICBwYXJhbXNbb3B0aW9uXSA9IHZpZXdfb3B0aW9uc1tvcHRpb25dO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgVHdpZy5leHBvcnRzLnR3aWcocGFyYW1zKTtcblx0ICAgIH07XG5cblx0ICAgIC8vIEV4cHJlc3MgMyBoYW5kbGVyXG5cdCAgICBUd2lnLmV4cG9ydHMuX19leHByZXNzID0gVHdpZy5leHBvcnRzLnJlbmRlckZpbGU7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvdWQgVHdpZy5qcyBjYWNoZSB0ZW1wbGF0ZXMuXG5cdCAgICAgKiBEaXNhYmxlIGR1cmluZyBkZXZlbG9wbWVudCB0byBzZWUgY2hhbmdlcyB0byB0ZW1wbGF0ZXMgd2l0aG91dFxuXHQgICAgICogcmVsb2FkaW5nLCBhbmQgZGlzYWJsZSBpbiBwcm9kdWN0aW9uIHRvIGltcHJvdmUgcGVyZm9ybWFuY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBjYWNoZVxuXHQgICAgICovXG5cdCAgICBUd2lnLmV4cG9ydHMuY2FjaGUgPSBmdW5jdGlvbihjYWNoZSkge1xuXHQgICAgICAgIFR3aWcuY2FjaGUgPSBjYWNoZTtcblx0ICAgIH07XG5cblx0ICAgIC8vV2UgbmVlZCB0byBleHBvcnQgdGhlIHBhdGggbW9kdWxlIHNvIHdlIGNhbiBlZmZlY3RpdmVseSB0ZXN0IGl0XG5cdCAgICBUd2lnLmV4cG9ydHMucGF0aCA9IFR3aWcucGF0aDtcblxuXHQgICAgLy9FeHBvcnQgb3VyIGZpbHRlcnMuXG5cdCAgICAvL1Jlc29sdmVzICMzMDdcblx0ICAgIFR3aWcuZXhwb3J0cy5maWx0ZXJzID0gVHdpZy5maWx0ZXJzO1xuXG5cdCAgICByZXR1cm4gVHdpZztcblx0fTtcblxuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3R3aWcvdHdpZy5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 41 */
/***/ (function(module, exports) {

	eval("/* (ignored) */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZnMgKGlnbm9yZWQpPzM0MzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAoaWdub3JlZCkgKi9cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBmcyAoaWdub3JlZClcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(30)))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qcz84MDNhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsUUFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxNQUFNO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixJQUFJO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyw4QkFBOEI7QUFDbEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLG9CQUFvQjtBQUM5QjtBQUNBOztBQUVBO0FBQ0EsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0Isc0JBQXNCO0FBQ3JEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZUFBZTtBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.1\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n            return Mousetrap;\n        }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L21vdXNldHJhcC9tb3VzZXRyYXAuanM/ZTRiYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxl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QUFDQTtBQUNBLGVBQWUsTUFBTTtBQUNyQixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLENBQUMiLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCBkZWZpbmU6ZmFsc2UgKi9cbi8qKlxuICogQ29weXJpZ2h0IDIwMTItMjAxNyBDcmFpZyBDYW1wYmVsbFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIE1vdXNldHJhcCBpcyBhIHNpbXBsZSBrZXlib2FyZCBzaG9ydGN1dCBsaWJyYXJ5IGZvciBKYXZhc2NyaXB0IHdpdGhcbiAqIG5vIGV4dGVybmFsIGRlcGVuZGVuY2llc1xuICpcbiAqIEB2ZXJzaW9uIDEuNi4xXG4gKiBAdXJsIGNyYWlnLmlzL2tpbGxpbmcvbWljZVxuICovXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAvLyBDaGVjayBpZiBtb3VzZXRyYXAgaXMgdXNlZCBpbnNpZGUgYnJvd3NlciwgaWYgbm90LCByZXR1cm5cbiAgICBpZiAoIXdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbWFwcGluZyBvZiBzcGVjaWFsIGtleWNvZGVzIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcga2V5c1xuICAgICAqXG4gICAgICogZXZlcnl0aGluZyBpbiB0aGlzIGRpY3Rpb25hcnkgY2Fubm90IHVzZSBrZXlwcmVzcyBldmVudHNcbiAgICAgKiBzbyBpdCBoYXMgdG8gYmUgaGVyZSB0byBtYXAgdG8gdGhlIGNvcnJlY3Qga2V5Y29kZXMgZm9yXG4gICAgICoga2V5dXAva2V5ZG93biBldmVudHNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFyIF9NQVAgPSB7XG4gICAgICAgIDg6ICdiYWNrc3BhY2UnLFxuICAgICAgICA5OiAndGFiJyxcbiAgICAgICAgMTM6ICdlbnRlcicsXG4gICAgICAgIDE2OiAnc2hpZnQnLFxuICAgICAgICAxNzogJ2N0cmwnLFxuICAgICAgICAxODogJ2FsdCcsXG4gICAgICAgIDIwOiAnY2Fwc2xvY2snLFxuICAgICAgICAyNzogJ2VzYycsXG4gICAgICAgIDMyOiAnc3BhY2UnLFxuICAgICAgICAzMzogJ3BhZ2V1cCcsXG4gICAgICAgIDM0OiAncGFnZWRvd24nLFxuICAgICAgICAzNTogJ2VuZCcsXG4gICAgICAgIDM2OiAnaG9tZScsXG4gICAgICAgIDM3OiAnbGVmdCcsXG4gICAgICAgIDM4OiAndXAnLFxuICAgICAgICAzOTogJ3JpZ2h0JyxcbiAgICAgICAgNDA6ICdkb3duJyxcbiAgICAgICAgNDU6ICdpbnMnLFxuICAgICAgICA0NjogJ2RlbCcsXG4gICAgICAgIDkxOiAnbWV0YScsXG4gICAgICAgIDkzOiAnbWV0YScsXG4gICAgICAgIDIyNDogJ21ldGEnXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIG1hcHBpbmcgZm9yIHNwZWNpYWwgY2hhcmFjdGVycyBzbyB0aGV5IGNhbiBzdXBwb3J0XG4gICAgICpcbiAgICAgKiB0aGlzIGRpY3Rpb25hcnkgaXMgb25seSB1c2VkIGluY2FzZSB5b3Ugd2FudCB0byBiaW5kIGFcbiAgICAgKiBrZXl1cCBvciBrZXlkb3duIGV2ZW50IHRvIG9uZSBvZiB0aGVzZSBrZXlzXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhciBfS0VZQ09ERV9NQVAgPSB7XG4gICAgICAgIDEwNjogJyonLFxuICAgICAgICAxMDc6ICcrJyxcbiAgICAgICAgMTA5OiAnLScsXG4gICAgICAgIDExMDogJy4nLFxuICAgICAgICAxMTEgOiAnLycsXG4gICAgICAgIDE4NjogJzsnLFxuICAgICAgICAxODc6ICc9JyxcbiAgICAgICAgMTg4OiAnLCcsXG4gICAgICAgIDE4OTogJy0nLFxuICAgICAgICAxOTA6ICcuJyxcbiAgICAgICAgMTkxOiAnLycsXG4gICAgICAgIDE5MjogJ2AnLFxuICAgICAgICAyMTk6ICdbJyxcbiAgICAgICAgMjIwOiAnXFxcXCcsXG4gICAgICAgIDIyMTogJ10nLFxuICAgICAgICAyMjI6ICdcXCcnXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHRoaXMgaXMgYSBtYXBwaW5nIG9mIGtleXMgdGhhdCByZXF1aXJlIHNoaWZ0IG9uIGEgVVMga2V5cGFkXG4gICAgICogYmFjayB0byB0aGUgbm9uIHNoaWZ0IGVxdWl2ZWxlbnRzXG4gICAgICpcbiAgICAgKiB0aGlzIGlzIHNvIHlvdSBjYW4gdXNlIGtleXVwIGV2ZW50cyB3aXRoIHRoZXNlIGtleXNcbiAgICAgKlxuICAgICAqIG5vdGUgdGhhdCB0aGlzIHdpbGwgb25seSB3b3JrIHJlbGlhYmx5IG9uIFVTIGtleWJvYXJkc1xuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB2YXIgX1NISUZUX01BUCA9IHtcbiAgICAgICAgJ34nOiAnYCcsXG4gICAgICAgICchJzogJzEnLFxuICAgICAgICAnQCc6ICcyJyxcbiAgICAgICAgJyMnOiAnMycsXG4gICAgICAgICckJzogJzQnLFxuICAgICAgICAnJSc6ICc1JyxcbiAgICAgICAgJ14nOiAnNicsXG4gICAgICAgICcmJzogJzcnLFxuICAgICAgICAnKic6ICc4JyxcbiAgICAgICAgJygnOiAnOScsXG4gICAgICAgICcpJzogJzAnLFxuICAgICAgICAnXyc6ICctJyxcbiAgICAgICAgJysnOiAnPScsXG4gICAgICAgICc6JzogJzsnLFxuICAgICAgICAnXFxcIic6ICdcXCcnLFxuICAgICAgICAnPCc6ICcsJyxcbiAgICAgICAgJz4nOiAnLicsXG4gICAgICAgICc/JzogJy8nLFxuICAgICAgICAnfCc6ICdcXFxcJ1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB0aGlzIGlzIGEgbGlzdCBvZiBzcGVjaWFsIHN0cmluZ3MgeW91IGNhbiB1c2UgdG8gbWFwXG4gICAgICogdG8gbW9kaWZpZXIga2V5cyB3aGVuIHlvdSBzcGVjaWZ5IHlvdXIga2V5Ym9hcmQgc2hvcnRjdXRzXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhciBfU1BFQ0lBTF9BTElBU0VTID0ge1xuICAgICAgICAnb3B0aW9uJzogJ2FsdCcsXG4gICAgICAgICdjb21tYW5kJzogJ21ldGEnLFxuICAgICAgICAncmV0dXJuJzogJ2VudGVyJyxcbiAgICAgICAgJ2VzY2FwZSc6ICdlc2MnLFxuICAgICAgICAncGx1cyc6ICcrJyxcbiAgICAgICAgJ21vZCc6IC9NYWN8aVBvZHxpUGhvbmV8aVBhZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pID8gJ21ldGEnIDogJ2N0cmwnXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHZhcmlhYmxlIHRvIHN0b3JlIHRoZSBmbGlwcGVkIHZlcnNpb24gb2YgX01BUCBmcm9tIGFib3ZlXG4gICAgICogbmVlZGVkIHRvIGNoZWNrIGlmIHdlIHNob3VsZCB1c2Uga2V5cHJlc3Mgb3Igbm90IHdoZW4gbm8gYWN0aW9uXG4gICAgICogaXMgc3BlY2lmaWVkXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB2YXIgX1JFVkVSU0VfTUFQO1xuXG4gICAgLyoqXG4gICAgICogbG9vcCB0aHJvdWdoIHRoZSBmIGtleXMsIGYxIHRvIGYxOSBhbmQgYWRkIHRoZW0gdG8gdGhlIG1hcFxuICAgICAqIHByb2dyYW1hdGljYWxseVxuICAgICAqL1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgMjA7ICsraSkge1xuICAgICAgICBfTUFQWzExMSArIGldID0gJ2YnICsgaTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBsb29wIHRocm91Z2ggdG8gbWFwIG51bWJlcnMgb24gdGhlIG51bWVyaWMga2V5cGFkXG4gICAgICovXG4gICAgZm9yIChpID0gMDsgaSA8PSA5OyArK2kpIHtcblxuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIHVzZSBhIHN0cmluZyBjYXVzZSBvdGhlcndpc2Ugc2luY2UgMCBpcyBmYWxzZXlcbiAgICAgICAgLy8gbW91c2V0cmFwIHdpbGwgbmV2ZXIgZmlyZSBmb3IgbnVtcGFkIDAgcHJlc3NlZCBhcyBwYXJ0IG9mIGEga2V5ZG93blxuICAgICAgICAvLyBldmVudC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vY2NhbXBiZWxsL21vdXNldHJhcC9wdWxsLzI1OFxuICAgICAgICBfTUFQW2kgKyA5Nl0gPSBpLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3Jvc3MgYnJvd3NlciBhZGQgZXZlbnQgbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR8SFRNTERvY3VtZW50fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9hZGRFdmVudChvYmplY3QsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgb2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iamVjdC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRha2VzIHRoZSBldmVudCBhbmQgcmV0dXJucyB0aGUga2V5IGNoYXJhY3RlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfY2hhcmFjdGVyRnJvbUV2ZW50KGUpIHtcblxuICAgICAgICAvLyBmb3Iga2V5cHJlc3MgZXZlbnRzIHdlIHNob3VsZCByZXR1cm4gdGhlIGNoYXJhY3RlciBhcyBpc1xuICAgICAgICBpZiAoZS50eXBlID09ICdrZXlwcmVzcycpIHtcbiAgICAgICAgICAgIHZhciBjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGUgc2hpZnQga2V5IGlzIG5vdCBwcmVzc2VkIHRoZW4gaXQgaXMgc2FmZSB0byBhc3N1bWVcbiAgICAgICAgICAgIC8vIHRoYXQgd2Ugd2FudCB0aGUgY2hhcmFjdGVyIHRvIGJlIGxvd2VyY2FzZS4gIHRoaXMgbWVhbnMgaWZcbiAgICAgICAgICAgIC8vIHlvdSBhY2NpZGVudGFsbHkgaGF2ZSBjYXBzIGxvY2sgb24gdGhlbiB5b3VyIGtleSBiaW5kaW5nc1xuICAgICAgICAgICAgLy8gd2lsbCBjb250aW51ZSB0byB3b3JrXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdGhlIG9ubHkgc2lkZSBlZmZlY3QgdGhhdCBtaWdodCBub3QgYmUgZGVzaXJlZCBpcyBpZiB5b3VcbiAgICAgICAgICAgIC8vIGJpbmQgc29tZXRoaW5nIGxpa2UgJ0EnIGNhdXNlIHlvdSB3YW50IHRvIHRyaWdnZXIgYW5cbiAgICAgICAgICAgIC8vIGV2ZW50IHdoZW4gY2FwaXRhbCBBIGlzIHByZXNzZWQgY2FwcyBsb2NrIHdpbGwgbm8gbG9uZ2VyXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIHRoZSBldmVudC4gIHNoaWZ0K2Egd2lsbCB0aG91Z2guXG4gICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgPSBjaGFyYWN0ZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvciBub24ga2V5cHJlc3MgZXZlbnRzIHRoZSBzcGVjaWFsIG1hcHMgYXJlIG5lZWRlZFxuICAgICAgICBpZiAoX01BUFtlLndoaWNoXSkge1xuICAgICAgICAgICAgcmV0dXJuIF9NQVBbZS53aGljaF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX0tFWUNPREVfTUFQW2Uud2hpY2hdKSB7XG4gICAgICAgICAgICByZXR1cm4gX0tFWUNPREVfTUFQW2Uud2hpY2hdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaXQgaXMgbm90IGluIHRoZSBzcGVjaWFsIG1hcFxuXG4gICAgICAgIC8vIHdpdGgga2V5ZG93biBhbmQga2V5dXAgZXZlbnRzIHRoZSBjaGFyYWN0ZXIgc2VlbXMgdG8gYWx3YXlzXG4gICAgICAgIC8vIGNvbWUgaW4gYXMgYW4gdXBwZXJjYXNlIGNoYXJhY3RlciB3aGV0aGVyIHlvdSBhcmUgcHJlc3Npbmcgc2hpZnRcbiAgICAgICAgLy8gb3Igbm90LiAgd2Ugc2hvdWxkIG1ha2Ugc3VyZSBpdCBpcyBhbHdheXMgbG93ZXJjYXNlIGZvciBjb21wYXJpc29uc1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNoZWNrcyBpZiB0d28gYXJyYXlzIGFyZSBlcXVhbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzMVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyczJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfbW9kaWZpZXJzTWF0Y2gobW9kaWZpZXJzMSwgbW9kaWZpZXJzMikge1xuICAgICAgICByZXR1cm4gbW9kaWZpZXJzMS5zb3J0KCkuam9pbignLCcpID09PSBtb2RpZmllcnMyLnNvcnQoKS5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGFrZXMgYSBrZXkgZXZlbnQgYW5kIGZpZ3VyZXMgb3V0IHdoYXQgdGhlIG1vZGlmaWVycyBhcmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gX2V2ZW50TW9kaWZpZXJzKGUpIHtcbiAgICAgICAgdmFyIG1vZGlmaWVycyA9IFtdO1xuXG4gICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnc2hpZnQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLmFsdEtleSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzLnB1c2goJ2FsdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzLnB1c2goJ2N0cmwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLm1ldGFLZXkpIHtcbiAgICAgICAgICAgIG1vZGlmaWVycy5wdXNoKCdtZXRhJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbW9kaWZpZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHByZXZlbnRzIGRlZmF1bHQgZm9yIHRoaXMgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gX3ByZXZlbnREZWZhdWx0KGUpIHtcbiAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzdG9wcyBwcm9wb2dhdGlvbiBmb3IgdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRldGVybWluZXMgaWYgdGhlIGtleWNvZGUgc3BlY2lmaWVkIGlzIGEgbW9kaWZpZXIga2V5IG9yIG5vdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9pc01vZGlmaWVyKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ID09ICdzaGlmdCcgfHwga2V5ID09ICdjdHJsJyB8fCBrZXkgPT0gJ2FsdCcgfHwga2V5ID09ICdtZXRhJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXZlcnNlcyB0aGUgbWFwIGxvb2t1cCBzbyB0aGF0IHdlIGNhbiBsb29rIGZvciBzcGVjaWZpYyBrZXlzXG4gICAgICogdG8gc2VlIHdoYXQgY2FuIGFuZCBjYW4ndCB1c2Uga2V5cHJlc3NcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfZ2V0UmV2ZXJzZU1hcCgpIHtcbiAgICAgICAgaWYgKCFfUkVWRVJTRV9NQVApIHtcbiAgICAgICAgICAgIF9SRVZFUlNFX01BUCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIF9NQVApIHtcblxuICAgICAgICAgICAgICAgIC8vIHB1bGwgb3V0IHRoZSBudW1lcmljIGtleXBhZCBmcm9tIGhlcmUgY2F1c2Uga2V5cHJlc3Mgc2hvdWxkXG4gICAgICAgICAgICAgICAgLy8gYmUgYWJsZSB0byBkZXRlY3QgdGhlIGtleXMgZnJvbSB0aGUgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA+IDk1ICYmIGtleSA8IDExMikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoX01BUC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIF9SRVZFUlNFX01BUFtfTUFQW2tleV1dID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX1JFVkVSU0VfTUFQO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBpY2tzIHRoZSBiZXN0IGFjdGlvbiBiYXNlZCBvbiB0aGUga2V5IGNvbWJpbmF0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gY2hhcmFjdGVyIGZvciBrZXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGFjdGlvbiBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfcGlja0Jlc3RBY3Rpb24oa2V5LCBtb2RpZmllcnMsIGFjdGlvbikge1xuXG4gICAgICAgIC8vIGlmIG5vIGFjdGlvbiB3YXMgcGlja2VkIGluIHdlIHNob3VsZCB0cnkgdG8gcGljayB0aGUgb25lXG4gICAgICAgIC8vIHRoYXQgd2UgdGhpbmsgd291bGQgd29yayBiZXN0IGZvciB0aGlzIGtleVxuICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgYWN0aW9uID0gX2dldFJldmVyc2VNYXAoKVtrZXldID8gJ2tleWRvd24nIDogJ2tleXByZXNzJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vZGlmaWVyIGtleXMgZG9uJ3Qgd29yayBhcyBleHBlY3RlZCB3aXRoIGtleXByZXNzLFxuICAgICAgICAvLyBzd2l0Y2ggdG8ga2V5ZG93blxuICAgICAgICBpZiAoYWN0aW9uID09ICdrZXlwcmVzcycgJiYgbW9kaWZpZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgYWN0aW9uID0gJ2tleWRvd24nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBmcm9tIGEgc3RyaW5nIGtleSBjb21iaW5hdGlvbiB0byBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBjb21iaW5hdGlvbiBsaWtlIFwiY29tbWFuZCtzaGlmdCtsXCJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfa2V5c0Zyb21TdHJpbmcoY29tYmluYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbWJpbmF0aW9uID09PSAnKycpIHtcbiAgICAgICAgICAgIHJldHVybiBbJysnXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbWJpbmF0aW9uID0gY29tYmluYXRpb24ucmVwbGFjZSgvXFwrezJ9L2csICcrcGx1cycpO1xuICAgICAgICByZXR1cm4gY29tYmluYXRpb24uc3BsaXQoJysnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGluZm8gZm9yIGEgc3BlY2lmaWMga2V5IGNvbWJpbmF0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNvbWJpbmF0aW9uIGtleSBjb21iaW5hdGlvbiAoXCJjb21tYW5kK3NcIiBvciBcImFcIiBvciBcIipcIilcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmc9fSBhY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9nZXRLZXlJbmZvKGNvbWJpbmF0aW9uLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIGtleXM7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgbW9kaWZpZXJzID0gW107XG5cbiAgICAgICAgLy8gdGFrZSB0aGUga2V5cyBmcm9tIHRoaXMgcGF0dGVybiBhbmQgZmlndXJlIG91dCB3aGF0IHRoZSBhY3R1YWxcbiAgICAgICAgLy8gcGF0dGVybiBpcyBhbGwgYWJvdXRcbiAgICAgICAga2V5cyA9IF9rZXlzRnJvbVN0cmluZyhjb21iaW5hdGlvbik7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGtleSA9IGtleXNbaV07XG5cbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBrZXkgbmFtZXNcbiAgICAgICAgICAgIGlmIChfU1BFQ0lBTF9BTElBU0VTW2tleV0pIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBfU1BFQ0lBTF9BTElBU0VTW2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEga2V5cHJlc3MgZXZlbnQgdGhlbiB3ZSBzaG91bGRcbiAgICAgICAgICAgIC8vIGJlIHNtYXJ0IGFib3V0IHVzaW5nIHNoaWZ0IGtleXNcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBvbmx5IHdvcmsgZm9yIFVTIGtleWJvYXJkcyBob3dldmVyXG4gICAgICAgICAgICBpZiAoYWN0aW9uICYmIGFjdGlvbiAhPSAna2V5cHJlc3MnICYmIF9TSElGVF9NQVBba2V5XSkge1xuICAgICAgICAgICAgICAgIGtleSA9IF9TSElGVF9NQVBba2V5XTtcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnc2hpZnQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBrZXkgaXMgYSBtb2RpZmllciB0aGVuIGFkZCBpdCB0byB0aGUgbGlzdCBvZiBtb2RpZmllcnNcbiAgICAgICAgICAgIGlmIChfaXNNb2RpZmllcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlcGVuZGluZyBvbiB3aGF0IHRoZSBrZXkgY29tYmluYXRpb24gaXNcbiAgICAgICAgLy8gd2Ugd2lsbCB0cnkgdG8gcGljayB0aGUgYmVzdCBldmVudCBmb3IgaXRcbiAgICAgICAgYWN0aW9uID0gX3BpY2tCZXN0QWN0aW9uKGtleSwgbW9kaWZpZXJzLCBhY3Rpb24pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIG1vZGlmaWVyczogbW9kaWZpZXJzLFxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYmVsb25nc1RvKGVsZW1lbnQsIGFuY2VzdG9yKSB7XG4gICAgICAgIGlmIChlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IGRvY3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudCA9PT0gYW5jZXN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9iZWxvbmdzVG8oZWxlbWVudC5wYXJlbnROb2RlLCBhbmNlc3Rvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTW91c2V0cmFwKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50IHx8IGRvY3VtZW50O1xuXG4gICAgICAgIGlmICghKHNlbGYgaW5zdGFuY2VvZiBNb3VzZXRyYXApKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vdXNldHJhcCh0YXJnZXRFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBlbGVtZW50IHRvIGF0dGFjaCBrZXkgZXZlbnRzIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi50YXJnZXQgPSB0YXJnZXRFbGVtZW50O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIGxpc3Qgb2YgYWxsIHRoZSBjYWxsYmFja3Mgc2V0dXAgdmlhIE1vdXNldHJhcC5iaW5kKClcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuX2NhbGxiYWNrcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkaXJlY3QgbWFwIG9mIHN0cmluZyBjb21iaW5hdGlvbnMgdG8gY2FsbGJhY2tzIHVzZWQgZm9yIHRyaWdnZXIoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5fZGlyZWN0TWFwID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGtlZXBzIHRyYWNrIG9mIHdoYXQgbGV2ZWwgZWFjaCBzZXF1ZW5jZSBpcyBhdCBzaW5jZSBtdWx0aXBsZVxuICAgICAgICAgKiBzZXF1ZW5jZXMgY2FuIHN0YXJ0IG91dCB3aXRoIHRoZSBzYW1lIHNlcXVlbmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3NlcXVlbmNlTGV2ZWxzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHZhcmlhYmxlIHRvIHN0b3JlIHRoZSBzZXRUaW1lb3V0IGNhbGxcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge251bGx8bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9yZXNldFRpbWVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZW1wb3Jhcnkgc3RhdGUgd2hlcmUgd2Ugd2lsbCBpZ25vcmUgdGhlIG5leHQga2V5dXBcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW58c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9pZ25vcmVOZXh0S2V5dXAgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGVtcG9yYXJ5IHN0YXRlIHdoZXJlIHdlIHdpbGwgaWdub3JlIHRoZSBuZXh0IGtleXByZXNzXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9pZ25vcmVOZXh0S2V5cHJlc3MgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYXJlIHdlIGN1cnJlbnRseSBpbnNpZGUgb2YgYSBzZXF1ZW5jZT9cbiAgICAgICAgICogdHlwZSBvZiBhY3Rpb24gKFwia2V5dXBcIiBvciBcImtleWRvd25cIiBvciBcImtleXByZXNzXCIpIG9yIGZhbHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfbmV4dEV4cGVjdGVkQWN0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlc2V0cyBhbGwgc2VxdWVuY2UgY291bnRlcnMgZXhjZXB0IGZvciB0aGUgb25lcyBwYXNzZWQgaW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRvTm90UmVzZXRcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX3Jlc2V0U2VxdWVuY2VzKGRvTm90UmVzZXQpIHtcbiAgICAgICAgICAgIGRvTm90UmVzZXQgPSBkb05vdFJlc2V0IHx8IHt9O1xuXG4gICAgICAgICAgICB2YXIgYWN0aXZlU2VxdWVuY2VzID0gZmFsc2UsXG4gICAgICAgICAgICAgICAga2V5O1xuXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBfc2VxdWVuY2VMZXZlbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9Ob3RSZXNldFtrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlcXVlbmNlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfc2VxdWVuY2VMZXZlbHNba2V5XSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghYWN0aXZlU2VxdWVuY2VzKSB7XG4gICAgICAgICAgICAgICAgX25leHRFeHBlY3RlZEFjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZpbmRzIGFsbCBjYWxsYmFja3MgdGhhdCBtYXRjaCBiYXNlZCBvbiB0aGUga2V5Y29kZSwgbW9kaWZpZXJzLFxuICAgICAgICAgKiBhbmQgYWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR8T2JqZWN0fSBlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gc2VxdWVuY2VOYW1lIC0gbmFtZSBvZiB0aGUgc2VxdWVuY2Ugd2UgYXJlIGxvb2tpbmcgZm9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gY29tYmluYXRpb25cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXI9fSBsZXZlbFxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBfZ2V0TWF0Y2hlcyhjaGFyYWN0ZXIsIG1vZGlmaWVycywgZSwgc2VxdWVuY2VOYW1lLCBjb21iaW5hdGlvbiwgbGV2ZWwpIHtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrO1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBlLnR5cGU7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSBubyBldmVudHMgcmVsYXRlZCB0byB0aGlzIGtleWNvZGVcbiAgICAgICAgICAgIGlmICghc2VsZi5fY2FsbGJhY2tzW2NoYXJhY3Rlcl0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGEgbW9kaWZpZXIga2V5IGlzIGNvbWluZyB1cCBvbiBpdHMgb3duIHdlIHNob3VsZCBhbGxvdyBpdFxuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAna2V5dXAnICYmIF9pc01vZGlmaWVyKGNoYXJhY3RlcikpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMgPSBbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBjYWxsYmFja3MgZm9yIHRoZSBrZXkgdGhhdCB3YXMgcHJlc3NlZFxuICAgICAgICAgICAgLy8gYW5kIHNlZSBpZiBhbnkgb2YgdGhlbSBtYXRjaFxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNlbGYuX2NhbGxiYWNrc1tjaGFyYWN0ZXJdLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBzZWxmLl9jYWxsYmFja3NbY2hhcmFjdGVyXVtpXTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGEgc2VxdWVuY2UgbmFtZSBpcyBub3Qgc3BlY2lmaWVkLCBidXQgdGhpcyBpcyBhIHNlcXVlbmNlIGF0XG4gICAgICAgICAgICAgICAgLy8gdGhlIHdyb25nIGxldmVsIHRoZW4gbW92ZSBvbnRvIHRoZSBuZXh0IG1hdGNoXG4gICAgICAgICAgICAgICAgaWYgKCFzZXF1ZW5jZU5hbWUgJiYgY2FsbGJhY2suc2VxICYmIF9zZXF1ZW5jZUxldmVsc1tjYWxsYmFjay5zZXFdICE9IGNhbGxiYWNrLmxldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBhY3Rpb24gd2UgYXJlIGxvb2tpbmcgZm9yIGRvZXNuJ3QgbWF0Y2ggdGhlIGFjdGlvbiB3ZSBnb3RcbiAgICAgICAgICAgICAgICAvLyB0aGVuIHdlIHNob3VsZCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiAhPSBjYWxsYmFjay5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGtleXByZXNzIGV2ZW50IGFuZCB0aGUgbWV0YSBrZXkgYW5kIGNvbnRyb2wga2V5XG4gICAgICAgICAgICAgICAgLy8gYXJlIG5vdCBwcmVzc2VkIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIG9ubHkgbG9vayBhdCB0aGVcbiAgICAgICAgICAgICAgICAvLyBjaGFyYWN0ZXIsIG90aGVyd2lzZSBjaGVjayB0aGUgbW9kaWZpZXJzIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIGNocm9tZSB3aWxsIG5vdCBmaXJlIGEga2V5cHJlc3MgaWYgbWV0YSBvciBjb250cm9sIGlzIGRvd25cbiAgICAgICAgICAgICAgICAvLyBzYWZhcmkgd2lsbCBmaXJlIGEga2V5cHJlc3MgaWYgbWV0YSBvciBtZXRhK3NoaWZ0IGlzIGRvd25cbiAgICAgICAgICAgICAgICAvLyBmaXJlZm94IHdpbGwgZmlyZSBhIGtleXByZXNzIGlmIG1ldGEgb3IgY29udHJvbCBpcyBkb3duXG4gICAgICAgICAgICAgICAgaWYgKChhY3Rpb24gPT0gJ2tleXByZXNzJyAmJiAhZS5tZXRhS2V5ICYmICFlLmN0cmxLZXkpIHx8IF9tb2RpZmllcnNNYXRjaChtb2RpZmllcnMsIGNhbGxiYWNrLm1vZGlmaWVycykpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHlvdSBiaW5kIGEgY29tYmluYXRpb24gb3Igc2VxdWVuY2UgYSBzZWNvbmQgdGltZSBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgb3ZlcndyaXRlIHRoZSBmaXJzdCBvbmUuICBpZiBhIHNlcXVlbmNlTmFtZSBvclxuICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5hdGlvbiBpcyBzcGVjaWZpZWQgaW4gdGhpcyBjYWxsIGl0IGRvZXMganVzdCB0aGF0XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIG1ha2UgZGVsZXRpbmcgaXRzIG93biBtZXRob2Q/XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVDb21ibyA9ICFzZXF1ZW5jZU5hbWUgJiYgY2FsbGJhY2suY29tYm8gPT0gY29tYmluYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVTZXF1ZW5jZSA9IHNlcXVlbmNlTmFtZSAmJiBjYWxsYmFjay5zZXEgPT0gc2VxdWVuY2VOYW1lICYmIGNhbGxiYWNrLmxldmVsID09IGxldmVsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlQ29tYm8gfHwgZGVsZXRlU2VxdWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2NhbGxiYWNrc1tjaGFyYWN0ZXJdLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhY3R1YWxseSBjYWxscyB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogaWYgeW91ciBjYWxsYmFjayBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIHRoaXMgd2lsbCB1c2UgdGhlIGpxdWVyeVxuICAgICAgICAgKiBjb252ZW50aW9uIC0gcHJldmVudCBkZWZhdWx0IGFuZCBzdG9wIHByb3BvZ2F0aW9uIG9uIHRoZSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9maXJlQ2FsbGJhY2soY2FsbGJhY2ssIGUsIGNvbWJvLCBzZXF1ZW5jZSkge1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGV2ZW50IHNob3VsZCBub3QgaGFwcGVuIHN0b3AgaGVyZVxuICAgICAgICAgICAgaWYgKHNlbGYuc3RvcENhbGxiYWNrKGUsIGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCwgY29tYm8sIHNlcXVlbmNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKGUsIGNvbWJvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgICAgICAgICAgX3N0b3BQcm9wYWdhdGlvbihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBoYW5kbGVzIGEgY2hhcmFjdGVyIGtleSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuX2hhbmRsZUtleSA9IGZ1bmN0aW9uKGNoYXJhY3RlciwgbW9kaWZpZXJzLCBlKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gX2dldE1hdGNoZXMoY2hhcmFjdGVyLCBtb2RpZmllcnMsIGUpO1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICB2YXIgZG9Ob3RSZXNldCA9IHt9O1xuICAgICAgICAgICAgdmFyIG1heExldmVsID0gMDtcbiAgICAgICAgICAgIHZhciBwcm9jZXNzZWRTZXF1ZW5jZUNhbGxiYWNrID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbWF4TGV2ZWwgZm9yIHNlcXVlbmNlcyBzbyB3ZSBjYW4gb25seSBleGVjdXRlIHRoZSBsb25nZXN0IGNhbGxiYWNrIHNlcXVlbmNlXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrc1tpXS5zZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4TGV2ZWwgPSBNYXRoLm1heChtYXhMZXZlbCwgY2FsbGJhY2tzW2ldLmxldmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBtYXRjaGluZyBjYWxsYmFja3MgZm9yIHRoaXMga2V5IGV2ZW50XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBmaXJlIGZvciBhbGwgc2VxdWVuY2UgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBiZWNhdXNlIGlmIGZvciBleGFtcGxlIHlvdSBoYXZlIG11bHRpcGxlIHNlcXVlbmNlc1xuICAgICAgICAgICAgICAgIC8vIGJvdW5kIHN1Y2ggYXMgXCJnIGlcIiBhbmQgXCJnIHRcIiB0aGV5IGJvdGggbmVlZCB0byBmaXJlIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrIGZvciBtYXRjaGluZyBnIGNhdXNlIG90aGVyd2lzZSB5b3UgY2FuIG9ubHkgZXZlclxuICAgICAgICAgICAgICAgIC8vIG1hdGNoIHRoZSBmaXJzdCBvbmVcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2ldLnNlcSkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgZmlyZSBjYWxsYmFja3MgZm9yIHRoZSBtYXhMZXZlbCB0byBwcmV2ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHN1YnNlcXVlbmNlcyBmcm9tIGFsc28gZmlyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBleGFtcGxlICdhIG9wdGlvbiBiJyBzaG91bGQgbm90IGNhdXNlICdvcHRpb24gYicgdG8gZmlyZVxuICAgICAgICAgICAgICAgICAgICAvLyBldmVuIHRob3VnaCAnb3B0aW9uIGInIGlzIHBhcnQgb2YgdGhlIG90aGVyIHNlcXVlbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIGFueSBzZXF1ZW5jZXMgdGhhdCBkbyBub3QgbWF0Y2ggaGVyZSB3aWxsIGJlIGRpc2NhcmRlZFxuICAgICAgICAgICAgICAgICAgICAvLyBiZWxvdyBieSB0aGUgX3Jlc2V0U2VxdWVuY2VzIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrc1tpXS5sZXZlbCAhPSBtYXhMZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRTZXF1ZW5jZUNhbGxiYWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIGEgbGlzdCBvZiB3aGljaCBzZXF1ZW5jZXMgd2VyZSBtYXRjaGVzIGZvciBsYXRlclxuICAgICAgICAgICAgICAgICAgICBkb05vdFJlc2V0W2NhbGxiYWNrc1tpXS5zZXFdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgX2ZpcmVDYWxsYmFjayhjYWxsYmFja3NbaV0uY2FsbGJhY2ssIGUsIGNhbGxiYWNrc1tpXS5jb21ibywgY2FsbGJhY2tzW2ldLnNlcSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdlcmUgbm8gc2VxdWVuY2UgbWF0Y2hlcyBidXQgd2UgYXJlIHN0aWxsIGhlcmVcbiAgICAgICAgICAgICAgICAvLyB0aGF0IG1lYW5zIHRoaXMgaXMgYSByZWd1bGFyIG1hdGNoIHNvIHdlIHNob3VsZCBmaXJlIHRoYXRcbiAgICAgICAgICAgICAgICBpZiAoIXByb2Nlc3NlZFNlcXVlbmNlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgX2ZpcmVDYWxsYmFjayhjYWxsYmFja3NbaV0uY2FsbGJhY2ssIGUsIGNhbGxiYWNrc1tpXS5jb21ibyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGUga2V5IHlvdSBwcmVzc2VkIG1hdGNoZXMgdGhlIHR5cGUgb2Ygc2VxdWVuY2Ugd2l0aG91dFxuICAgICAgICAgICAgLy8gYmVpbmcgYSBtb2RpZmllciAoaWUgXCJrZXl1cFwiIG9yIFwia2V5cHJlc3NcIikgdGhlbiB3ZSBzaG91bGRcbiAgICAgICAgICAgIC8vIHJlc2V0IGFsbCBzZXF1ZW5jZXMgdGhhdCB3ZXJlIG5vdCBtYXRjaGVkIGJ5IHRoaXMgZXZlbnRcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHNvLCBmb3IgZXhhbXBsZSwgaWYgeW91IGhhdmUgdGhlIHNlcXVlbmNlIFwiaCBhIHRcIiBhbmQgeW91XG4gICAgICAgICAgICAvLyB0eXBlIFwiaCBlIGEgciB0XCIgaXQgZG9lcyBub3QgbWF0Y2guICBpbiB0aGlzIGNhc2UgdGhlIFwiZVwiIHdpbGxcbiAgICAgICAgICAgIC8vIGNhdXNlIHRoZSBzZXF1ZW5jZSB0byByZXNldFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIG1vZGlmaWVyIGtleXMgYXJlIGlnbm9yZWQgYmVjYXVzZSB5b3UgY2FuIGhhdmUgYSBzZXF1ZW5jZVxuICAgICAgICAgICAgLy8gdGhhdCBjb250YWlucyBtb2RpZmllcnMgc3VjaCBhcyBcImVudGVyIGN0cmwrc3BhY2VcIiBhbmQgaW4gbW9zdFxuICAgICAgICAgICAgLy8gY2FzZXMgdGhlIG1vZGlmaWVyIGtleSB3aWxsIGJlIHByZXNzZWQgYmVmb3JlIHRoZSBuZXh0IGtleVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGFsc28gaWYgeW91IGhhdmUgYSBzZXF1ZW5jZSBzdWNoIGFzIFwiY3RybCtiIGFcIiB0aGVuIHByZXNzaW5nIHRoZVxuICAgICAgICAgICAgLy8gXCJiXCIga2V5IHdpbGwgdHJpZ2dlciBhIFwia2V5cHJlc3NcIiBhbmQgYSBcImtleWRvd25cIlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRoZSBcImtleWRvd25cIiBpcyBleHBlY3RlZCB3aGVuIHRoZXJlIGlzIGEgbW9kaWZpZXIsIGJ1dCB0aGVcbiAgICAgICAgICAgIC8vIFwia2V5cHJlc3NcIiBlbmRzIHVwIG1hdGNoaW5nIHRoZSBfbmV4dEV4cGVjdGVkQWN0aW9uIHNpbmNlIGl0IG9jY3Vyc1xuICAgICAgICAgICAgLy8gYWZ0ZXIgYW5kIHRoYXQgY2F1c2VzIHRoZSBzZXF1ZW5jZSB0byByZXNldFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHdlIGlnbm9yZSBrZXlwcmVzc2VzIGluIGEgc2VxdWVuY2UgdGhhdCBkaXJlY3RseSBmb2xsb3cgYSBrZXlkb3duXG4gICAgICAgICAgICAvLyBmb3IgdGhlIHNhbWUgY2hhcmFjdGVyXG4gICAgICAgICAgICB2YXIgaWdub3JlVGhpc0tleXByZXNzID0gZS50eXBlID09ICdrZXlwcmVzcycgJiYgX2lnbm9yZU5leHRLZXlwcmVzcztcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gX25leHRFeHBlY3RlZEFjdGlvbiAmJiAhX2lzTW9kaWZpZXIoY2hhcmFjdGVyKSAmJiAhaWdub3JlVGhpc0tleXByZXNzKSB7XG4gICAgICAgICAgICAgICAgX3Jlc2V0U2VxdWVuY2VzKGRvTm90UmVzZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfaWdub3JlTmV4dEtleXByZXNzID0gcHJvY2Vzc2VkU2VxdWVuY2VDYWxsYmFjayAmJiBlLnR5cGUgPT0gJ2tleWRvd24nO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBoYW5kbGVzIGEga2V5ZG93biBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9oYW5kbGVLZXlFdmVudChlKSB7XG5cbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBlLndoaWNoIGZvciBrZXkgZXZlbnRzXG4gICAgICAgICAgICAvLyBAc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDI4NTYyNy9qYXZhc2NyaXB0LWtleWNvZGUtdnMtY2hhcmNvZGUtdXR0ZXItY29uZnVzaW9uXG4gICAgICAgICAgICBpZiAodHlwZW9mIGUud2hpY2ggIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgZS53aGljaCA9IGUua2V5Q29kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoYXJhY3RlciA9IF9jaGFyYWN0ZXJGcm9tRXZlbnQoZSk7XG5cbiAgICAgICAgICAgIC8vIG5vIGNoYXJhY3RlciBmb3VuZCB0aGVuIHN0b3BcbiAgICAgICAgICAgIGlmICghY2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBuZWVkIHRvIHVzZSA9PT0gZm9yIHRoZSBjaGFyYWN0ZXIgY2hlY2sgYmVjYXVzZSB0aGUgY2hhcmFjdGVyIGNhbiBiZSAwXG4gICAgICAgICAgICBpZiAoZS50eXBlID09ICdrZXl1cCcgJiYgX2lnbm9yZU5leHRLZXl1cCA9PT0gY2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgX2lnbm9yZU5leHRLZXl1cCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5oYW5kbGVLZXkoY2hhcmFjdGVyLCBfZXZlbnRNb2RpZmllcnMoZSksIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbGxlZCB0byBzZXQgYSAxIHNlY29uZCB0aW1lb3V0IG9uIHRoZSBzcGVjaWZpZWQgc2VxdWVuY2VcbiAgICAgICAgICpcbiAgICAgICAgICogdGhpcyBpcyBzbyBhZnRlciBlYWNoIGtleSBwcmVzcyBpbiB0aGUgc2VxdWVuY2UgeW91IGhhdmUgMSBzZWNvbmRcbiAgICAgICAgICogdG8gcHJlc3MgdGhlIG5leHQga2V5IGJlZm9yZSB5b3UgaGF2ZSB0byBzdGFydCBvdmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9yZXNldFNlcXVlbmNlVGltZXIoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3Jlc2V0VGltZXIpO1xuICAgICAgICAgICAgX3Jlc2V0VGltZXIgPSBzZXRUaW1lb3V0KF9yZXNldFNlcXVlbmNlcywgMTAwMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogYmluZHMgYSBrZXkgc2VxdWVuY2UgdG8gYW4gZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbWJvIC0gY29tYm8gc3BlY2lmaWVkIGluIGJpbmQgY2FsbFxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBrZXlzXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYWN0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9iaW5kU2VxdWVuY2UoY29tYm8sIGtleXMsIGNhbGxiYWNrLCBhY3Rpb24pIHtcblxuICAgICAgICAgICAgLy8gc3RhcnQgb2ZmIGJ5IGFkZGluZyBhIHNlcXVlbmNlIGxldmVsIHJlY29yZCBmb3IgdGhpcyBjb21iaW5hdGlvblxuICAgICAgICAgICAgLy8gYW5kIHNldHRpbmcgdGhlIGxldmVsIHRvIDBcbiAgICAgICAgICAgIF9zZXF1ZW5jZUxldmVsc1tjb21ib10gPSAwO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGNhbGxiYWNrIHRvIGluY3JlYXNlIHRoZSBzZXF1ZW5jZSBsZXZlbCBmb3IgdGhpcyBzZXF1ZW5jZSBhbmQgcmVzZXRcbiAgICAgICAgICAgICAqIGFsbCBvdGhlciBzZXF1ZW5jZXMgdGhhdCB3ZXJlIGFjdGl2ZVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXh0QWN0aW9uXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9pbmNyZWFzZVNlcXVlbmNlKG5leHRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF9uZXh0RXhwZWN0ZWRBY3Rpb24gPSBuZXh0QWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICArK19zZXF1ZW5jZUxldmVsc1tjb21ib107XG4gICAgICAgICAgICAgICAgICAgIF9yZXNldFNlcXVlbmNlVGltZXIoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHdyYXBzIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2sgaW5zaWRlIG9mIGFub3RoZXIgZnVuY3Rpb24gaW4gb3JkZXJcbiAgICAgICAgICAgICAqIHRvIHJlc2V0IGFsbCBzZXF1ZW5jZSBjb3VudGVycyBhcyBzb29uIGFzIHRoaXMgc2VxdWVuY2UgaXMgZG9uZVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gX2NhbGxiYWNrQW5kUmVzZXQoZSkge1xuICAgICAgICAgICAgICAgIF9maXJlQ2FsbGJhY2soY2FsbGJhY2ssIGUsIGNvbWJvKTtcblxuICAgICAgICAgICAgICAgIC8vIHdlIHNob3VsZCBpZ25vcmUgdGhlIG5leHQga2V5IHVwIGlmIHRoZSBhY3Rpb24gaXMga2V5IGRvd25cbiAgICAgICAgICAgICAgICAvLyBvciBrZXlwcmVzcy4gIHRoaXMgaXMgc28gaWYgeW91IGZpbmlzaCBhIHNlcXVlbmNlIGFuZFxuICAgICAgICAgICAgICAgIC8vIHJlbGVhc2UgdGhlIGtleSB0aGUgZmluYWwga2V5IHdpbGwgbm90IHRyaWdnZXIgYSBrZXl1cFxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gIT09ICdrZXl1cCcpIHtcbiAgICAgICAgICAgICAgICAgICAgX2lnbm9yZU5leHRLZXl1cCA9IF9jaGFyYWN0ZXJGcm9tRXZlbnQoZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gd2VpcmQgcmFjZSBjb25kaXRpb24gaWYgYSBzZXF1ZW5jZSBlbmRzIHdpdGggdGhlIGtleVxuICAgICAgICAgICAgICAgIC8vIGFub3RoZXIgc2VxdWVuY2UgYmVnaW5zIHdpdGhcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF9yZXNldFNlcXVlbmNlcywgMTApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2gga2V5cyBvbmUgYXQgYSB0aW1lIGFuZCBiaW5kIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24uICBmb3IgYW55IGtleSBsZWFkaW5nIHVwIHRvIHRoZSBmaW5hbCBvbmUgaXQgc2hvdWxkXG4gICAgICAgICAgICAvLyBpbmNyZWFzZSB0aGUgc2VxdWVuY2UuIGFmdGVyIHRoZSBmaW5hbCwgaXQgc2hvdWxkIHJlc2V0IGFsbCBzZXF1ZW5jZXNcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBpZiBhbiBhY3Rpb24gaXMgc3BlY2lmaWVkIGluIHRoZSBvcmlnaW5hbCBiaW5kIGNhbGwgdGhlbiB0aGF0IHdpbGxcbiAgICAgICAgICAgIC8vIGJlIHVzZWQgdGhyb3VnaG91dC4gIG90aGVyd2lzZSB3ZSB3aWxsIHBhc3MgdGhlIGFjdGlvbiB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gbmV4dCBrZXkgaW4gdGhlIHNlcXVlbmNlIHNob3VsZCBtYXRjaC4gIHRoaXMgYWxsb3dzIGEgc2VxdWVuY2VcbiAgICAgICAgICAgIC8vIHRvIG1peCBhbmQgbWF0Y2gga2V5cHJlc3MgYW5kIGtleWRvd24gZXZlbnRzIGRlcGVuZGluZyBvbiB3aGljaFxuICAgICAgICAgICAgLy8gb25lcyBhcmUgYmV0dGVyIHN1aXRlZCB0byB0aGUga2V5IHByb3ZpZGVkXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNGaW5hbCA9IGkgKyAxID09PSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENhbGxiYWNrID0gaXNGaW5hbCA/IF9jYWxsYmFja0FuZFJlc2V0IDogX2luY3JlYXNlU2VxdWVuY2UoYWN0aW9uIHx8IF9nZXRLZXlJbmZvKGtleXNbaSArIDFdKS5hY3Rpb24pO1xuICAgICAgICAgICAgICAgIF9iaW5kU2luZ2xlKGtleXNbaV0sIHdyYXBwZWRDYWxsYmFjaywgYWN0aW9uLCBjb21ibywgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogYmluZHMgYSBzaW5nbGUga2V5Ym9hcmQgY29tYmluYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbWJpbmF0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gc2VxdWVuY2VOYW1lIC0gbmFtZSBvZiBzZXF1ZW5jZSBpZiBwYXJ0IG9mIHNlcXVlbmNlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbGV2ZWwgLSB3aGF0IHBhcnQgb2YgdGhlIHNlcXVlbmNlIHRoZSBjb21tYW5kIGlzXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9iaW5kU2luZ2xlKGNvbWJpbmF0aW9uLCBjYWxsYmFjaywgYWN0aW9uLCBzZXF1ZW5jZU5hbWUsIGxldmVsKSB7XG5cbiAgICAgICAgICAgIC8vIHN0b3JlIGEgZGlyZWN0IG1hcHBlZCByZWZlcmVuY2UgZm9yIHVzZSB3aXRoIE1vdXNldHJhcC50cmlnZ2VyXG4gICAgICAgICAgICBzZWxmLl9kaXJlY3RNYXBbY29tYmluYXRpb24gKyAnOicgKyBhY3Rpb25dID0gY2FsbGJhY2s7XG5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBtdWx0aXBsZSBzcGFjZXMgaW4gYSByb3cgYmVjb21lIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgICAgICBjb21iaW5hdGlvbiA9IGNvbWJpbmF0aW9uLnJlcGxhY2UoL1xccysvZywgJyAnKTtcblxuICAgICAgICAgICAgdmFyIHNlcXVlbmNlID0gY29tYmluYXRpb24uc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHZhciBpbmZvO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIHBhdHRlcm4gaXMgYSBzZXF1ZW5jZSBvZiBrZXlzIHRoZW4gcnVuIHRocm91Z2ggdGhpcyBtZXRob2RcbiAgICAgICAgICAgIC8vIHRvIHJlcHJvY2VzcyBlYWNoIHBhdHRlcm4gb25lIGtleSBhdCBhIHRpbWVcbiAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgX2JpbmRTZXF1ZW5jZShjb21iaW5hdGlvbiwgc2VxdWVuY2UsIGNhbGxiYWNrLCBhY3Rpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5mbyA9IF9nZXRLZXlJbmZvKGNvbWJpbmF0aW9uLCBhY3Rpb24pO1xuXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gaW5pdGlhbGl6ZSBhcnJheSBpZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgICAvLyBhIGNhbGxiYWNrIGlzIGFkZGVkIGZvciB0aGlzIGtleVxuICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2tzW2luZm8ua2V5XSA9IHNlbGYuX2NhbGxiYWNrc1tpbmZvLmtleV0gfHwgW107XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbiBleGlzdGluZyBtYXRjaCBpZiB0aGVyZSBpcyBvbmVcbiAgICAgICAgICAgIF9nZXRNYXRjaGVzKGluZm8ua2V5LCBpbmZvLm1vZGlmaWVycywge3R5cGU6IGluZm8uYWN0aW9ufSwgc2VxdWVuY2VOYW1lLCBjb21iaW5hdGlvbiwgbGV2ZWwpO1xuXG4gICAgICAgICAgICAvLyBhZGQgdGhpcyBjYWxsIGJhY2sgdG8gdGhlIGFycmF5XG4gICAgICAgICAgICAvLyBpZiBpdCBpcyBhIHNlcXVlbmNlIHB1dCBpdCBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAvLyBpZiBub3QgcHV0IGl0IGF0IHRoZSBlbmRcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGltcG9ydGFudCBiZWNhdXNlIHRoZSB3YXkgdGhlc2UgYXJlIHByb2Nlc3NlZCBleHBlY3RzXG4gICAgICAgICAgICAvLyB0aGUgc2VxdWVuY2Ugb25lcyB0byBjb21lIGZpcnN0XG4gICAgICAgICAgICBzZWxmLl9jYWxsYmFja3NbaW5mby5rZXldW3NlcXVlbmNlTmFtZSA/ICd1bnNoaWZ0JyA6ICdwdXNoJ10oe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IGluZm8ubW9kaWZpZXJzLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogaW5mby5hY3Rpb24sXG4gICAgICAgICAgICAgICAgc2VxOiBzZXF1ZW5jZU5hbWUsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IGxldmVsLFxuICAgICAgICAgICAgICAgIGNvbWJvOiBjb21iaW5hdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogYmluZHMgbXVsdGlwbGUgY29tYmluYXRpb25zIHRvIHRoZSBzYW1lIGNhbGxiYWNrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGNvbWJpbmF0aW9uc1xuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGFjdGlvblxuICAgICAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLl9iaW5kTXVsdGlwbGUgPSBmdW5jdGlvbihjb21iaW5hdGlvbnMsIGNhbGxiYWNrLCBhY3Rpb24pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tYmluYXRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgX2JpbmRTaW5nbGUoY29tYmluYXRpb25zW2ldLCBjYWxsYmFjaywgYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzdGFydCFcbiAgICAgICAgX2FkZEV2ZW50KHRhcmdldEVsZW1lbnQsICdrZXlwcmVzcycsIF9oYW5kbGVLZXlFdmVudCk7XG4gICAgICAgIF9hZGRFdmVudCh0YXJnZXRFbGVtZW50LCAna2V5ZG93bicsIF9oYW5kbGVLZXlFdmVudCk7XG4gICAgICAgIF9hZGRFdmVudCh0YXJnZXRFbGVtZW50LCAna2V5dXAnLCBfaGFuZGxlS2V5RXZlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGJpbmRzIGFuIGV2ZW50IHRvIG1vdXNldHJhcFxuICAgICAqXG4gICAgICogY2FuIGJlIGEgc2luZ2xlIGtleSwgYSBjb21iaW5hdGlvbiBvZiBrZXlzIHNlcGFyYXRlZCB3aXRoICssXG4gICAgICogYW4gYXJyYXkgb2Yga2V5cywgb3IgYSBzZXF1ZW5jZSBvZiBrZXlzIHNlcGFyYXRlZCBieSBzcGFjZXNcbiAgICAgKlxuICAgICAqIGJlIHN1cmUgdG8gbGlzdCB0aGUgbW9kaWZpZXIga2V5cyBmaXJzdCB0byBtYWtlIHN1cmUgdGhhdCB0aGVcbiAgICAgKiBjb3JyZWN0IGtleSBlbmRzIHVwIGdldHRpbmcgYm91bmQgKHRoZSBsYXN0IGtleSBpbiB0aGUgcGF0dGVybilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBrZXlzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGFjdGlvbiAtICdrZXlwcmVzcycsICdrZXlkb3duJywgb3IgJ2tleXVwJ1xuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBNb3VzZXRyYXAucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihrZXlzLCBjYWxsYmFjaywgYWN0aW9uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAga2V5cyA9IGtleXMgaW5zdGFuY2VvZiBBcnJheSA/IGtleXMgOiBba2V5c107XG4gICAgICAgIHNlbGYuX2JpbmRNdWx0aXBsZS5jYWxsKHNlbGYsIGtleXMsIGNhbGxiYWNrLCBhY3Rpb24pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdW5iaW5kcyBhbiBldmVudCB0byBtb3VzZXRyYXBcbiAgICAgKlxuICAgICAqIHRoZSB1bmJpbmRpbmcgc2V0cyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gb2YgdGhlIHNwZWNpZmllZCBrZXkgY29tYm9cbiAgICAgKiB0byBhbiBlbXB0eSBmdW5jdGlvbiBhbmQgZGVsZXRlcyB0aGUgY29ycmVzcG9uZGluZyBrZXkgaW4gdGhlXG4gICAgICogX2RpcmVjdE1hcCBkaWN0LlxuICAgICAqXG4gICAgICogVE9ETzogYWN0dWFsbHkgcmVtb3ZlIHRoaXMgZnJvbSB0aGUgX2NhbGxiYWNrcyBkaWN0aW9uYXJ5IGluc3RlYWRcbiAgICAgKiBvZiBiaW5kaW5nIGFuIGVtcHR5IGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiB0aGUga2V5Y29tYm8rYWN0aW9uIGhhcyB0byBiZSBleGFjdGx5IHRoZSBzYW1lIGFzXG4gICAgICogaXQgd2FzIGRlZmluZWQgaW4gdGhlIGJpbmQgbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheX0ga2V5c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbihrZXlzLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gc2VsZi5iaW5kLmNhbGwoc2VsZiwga2V5cywgZnVuY3Rpb24oKSB7fSwgYWN0aW9uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdHJpZ2dlcnMgYW4gZXZlbnQgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGJvdW5kXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYWN0aW9uXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIE1vdXNldHJhcC5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKGtleXMsIGFjdGlvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLl9kaXJlY3RNYXBba2V5cyArICc6JyArIGFjdGlvbl0pIHtcbiAgICAgICAgICAgIHNlbGYuX2RpcmVjdE1hcFtrZXlzICsgJzonICsgYWN0aW9uXSh7fSwga2V5cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlc2V0cyB0aGUgbGlicmFyeSBiYWNrIHRvIGl0cyBpbml0aWFsIHN0YXRlLiAgdGhpcyBpcyB1c2VmdWxcbiAgICAgKiBpZiB5b3Ugd2FudCB0byBjbGVhciBvdXQgdGhlIGN1cnJlbnQga2V5Ym9hcmQgc2hvcnRjdXRzIGFuZCBiaW5kXG4gICAgICogbmV3IG9uZXMgLSBmb3IgZXhhbXBsZSBpZiB5b3Ugc3dpdGNoIHRvIGFub3RoZXIgcGFnZVxuICAgICAqXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIE1vdXNldHJhcC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLl9jYWxsYmFja3MgPSB7fTtcbiAgICAgICAgc2VsZi5fZGlyZWN0TWFwID0ge307XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzaG91bGQgd2Ugc3RvcCB0aGlzIGV2ZW50IGJlZm9yZSBmaXJpbmcgb2ZmIGNhbGxiYWNrc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS5zdG9wQ2FsbGJhY2sgPSBmdW5jdGlvbihlLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgdGhlIGNsYXNzIFwibW91c2V0cmFwXCIgdGhlbiBubyBuZWVkIHRvIHN0b3BcbiAgICAgICAgaWYgKCgnICcgKyBlbGVtZW50LmNsYXNzTmFtZSArICcgJykuaW5kZXhPZignIG1vdXNldHJhcCAnKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2JlbG9uZ3NUbyhlbGVtZW50LCBzZWxmLnRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgZm9yIGlucHV0LCBzZWxlY3QsIGFuZCB0ZXh0YXJlYVxuICAgICAgICByZXR1cm4gZWxlbWVudC50YWdOYW1lID09ICdJTlBVVCcgfHwgZWxlbWVudC50YWdOYW1lID09ICdTRUxFQ1QnIHx8IGVsZW1lbnQudGFnTmFtZSA9PSAnVEVYVEFSRUEnIHx8IGVsZW1lbnQuaXNDb250ZW50RWRpdGFibGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGV4cG9zZXMgX2hhbmRsZUtleSBwdWJsaWNseSBzbyBpdCBjYW4gYmUgb3ZlcndyaXR0ZW4gYnkgZXh0ZW5zaW9uc1xuICAgICAqL1xuICAgIE1vdXNldHJhcC5wcm90b3R5cGUuaGFuZGxlS2V5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHNlbGYuX2hhbmRsZUtleS5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBhbGxvdyBjdXN0b20ga2V5IG1hcHBpbmdzXG4gICAgICovXG4gICAgTW91c2V0cmFwLmFkZEtleWNvZGVzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIF9NQVBba2V5XSA9IG9iamVjdFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9SRVZFUlNFX01BUCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXQgdGhlIGdsb2JhbCBtb3VzZXRyYXAgZnVuY3Rpb25zXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBuZWVkZWQgdG8gYWxsb3cgdGhlIGdsb2JhbCBtb3VzZXRyYXAgZnVuY3Rpb25zIHRvIHdvcmtcbiAgICAgKiBub3cgdGhhdCBtb3VzZXRyYXAgaXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBNb3VzZXRyYXAuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZG9jdW1lbnRNb3VzZXRyYXAgPSBNb3VzZXRyYXAoZG9jdW1lbnQpO1xuICAgICAgICBmb3IgKHZhciBtZXRob2QgaW4gZG9jdW1lbnRNb3VzZXRyYXApIHtcbiAgICAgICAgICAgIGlmIChtZXRob2QuY2hhckF0KDApICE9PSAnXycpIHtcbiAgICAgICAgICAgICAgICBNb3VzZXRyYXBbbWV0aG9kXSA9IChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50TW91c2V0cmFwW21ldGhvZF0uYXBwbHkoZG9jdW1lbnRNb3VzZXRyYXAsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSAobWV0aG9kKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgTW91c2V0cmFwLmluaXQoKTtcblxuICAgIC8vIGV4cG9zZSBtb3VzZXRyYXAgdG8gdGhlIGdsb2JhbCBvYmplY3RcbiAgICB3aW5kb3cuTW91c2V0cmFwID0gTW91c2V0cmFwO1xuXG4gICAgLy8gZXhwb3NlIGFzIGEgY29tbW9uIGpzIG1vZHVsZVxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IE1vdXNldHJhcDtcbiAgICB9XG5cbiAgICAvLyBleHBvc2UgbW91c2V0cmFwIGFzIGFuIEFNRCBtb2R1bGVcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBNb3VzZXRyYXA7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IG51bGwsIHR5cGVvZiAgd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogbnVsbCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbW91c2V0cmFwL21vdXNldHJhcC5qc1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar extend = __webpack_require__(45);\n\nmodule.exports = function(el, onOver, onOut) {\n  var x, y, pX, pY;\n  var h = {},\n    state = 0,\n    timer = 0;\n\n  var options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0\n  };\n\n  function delay(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    state = 0;\n    return onOut.call(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return onOver.call(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    options = extend({}, options, opt);\n    return h;\n  };\n\n  function dispatchOver(e) {\n    if (timer) timer = clearTimeout(timer);\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  function dispatchOut(e) {\n    if (timer) timer = clearTimeout(timer);\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  h.remove = function() {\n    if (!el) return;\n    el.removeEventListener('mouseover', dispatchOver, false);\n    el.removeEventListener('mouseout', dispatchOut, false);\n  };\n\n  if (el) {\n    el.addEventListener('mouseover', dispatchOver, false);\n    el.addEventListener('mouseout', dispatchOut, false);\n  }\n\n  return h;\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2hvdmVyaW50ZW50L2luZGV4LmpzPzM0N2IiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBleHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVsLCBvbk92ZXIsIG9uT3V0KSB7XG4gIHZhciB4LCB5LCBwWCwgcFk7XG4gIHZhciBoID0ge30sXG4gICAgc3RhdGUgPSAwLFxuICAgIHRpbWVyID0gMDtcblxuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBzZW5zaXRpdml0eTogNyxcbiAgICBpbnRlcnZhbDogMTAwLFxuICAgIHRpbWVvdXQ6IDBcbiAgfTtcblxuICBmdW5jdGlvbiBkZWxheShlbCwgZSkge1xuICAgIGlmICh0aW1lcikgdGltZXIgPSBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIHN0YXRlID0gMDtcbiAgICByZXR1cm4gb25PdXQuY2FsbChlbCwgZSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFja2VyKGUpIHtcbiAgICB4ID0gZS5jbGllbnRYO1xuICAgIHkgPSBlLmNsaWVudFk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlKGVsLCBlKSB7XG4gICAgaWYgKHRpbWVyKSB0aW1lciA9IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgaWYgKChNYXRoLmFicyhwWCAtIHgpICsgTWF0aC5hYnMocFkgLSB5KSkgPCBvcHRpb25zLnNlbnNpdGl2aXR5KSB7XG4gICAgICBzdGF0ZSA9IDE7XG4gICAgICByZXR1cm4gb25PdmVyLmNhbGwoZWwsIGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwWCA9IHg7XG4gICAgICBwWSA9IHk7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbXBhcmUoZWwsIGUpO1xuICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHVibGljIG1ldGhvZHNcbiAgaC5vcHRpb25zID0gZnVuY3Rpb24ob3B0KSB7XG4gICAgb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucywgb3B0KTtcbiAgICByZXR1cm4gaDtcbiAgfTtcblxuICBmdW5jdGlvbiBkaXNwYXRjaE92ZXIoZSkge1xuICAgIGlmICh0aW1lcikgdGltZXIgPSBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRyYWNrZXIsIGZhbHNlKTtcblxuICAgIGlmIChzdGF0ZSAhPT0gMSkge1xuICAgICAgcFggPSBlLmNsaWVudFg7XG4gICAgICBwWSA9IGUuY2xpZW50WTtcblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdHJhY2tlciwgZmFsc2UpO1xuXG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbXBhcmUoZWwsIGUpO1xuICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwYXRjaE91dChlKSB7XG4gICAgaWYgKHRpbWVyKSB0aW1lciA9IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdHJhY2tlciwgZmFsc2UpO1xuXG4gICAgaWYgKHN0YXRlID09PSAxKSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGRlbGF5KGVsLCBlKTtcbiAgICAgIH0sIG9wdGlvbnMudGltZW91dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBoLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghZWwpIHJldHVybjtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBkaXNwYXRjaE92ZXIsIGZhbHNlKTtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGRpc3BhdGNoT3V0LCBmYWxzZSk7XG4gIH07XG5cbiAgaWYgKGVsKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZGlzcGF0Y2hPdmVyLCBmYWxzZSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBkaXNwYXRjaE91dCwgZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIGg7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hvdmVyaW50ZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 45 */
/***/ (function(module, exports) {

	eval("module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3h0ZW5kL2ltbXV0YWJsZS5qcz85NGVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsbUJBQW1CLHNCQUFzQjtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiI0NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kXG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgICB2YXIgdGFyZ2V0ID0ge31cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV1cblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34veHRlbmQvaW1tdXRhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ElementSettings = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(20);\n\nvar _Inputs = __webpack_require__(13);\n\nvar _Inputs2 = _interopRequireDefault(_Inputs);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _UtilitySidebar = __webpack_require__(47);\n\nvar _UtilitySidebar2 = _interopRequireDefault(_UtilitySidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ElementSettings = exports.ElementSettings = function () {\n    function ElementSettings() {\n        _classCallCheck(this, ElementSettings);\n\n        this.el = null;\n        this.settings = {};\n        this.originalValues = {};\n        this.wrapper = null;\n\n        this.dtActive = this.dtActive.bind(this);\n        this.open = this.open.bind(this);\n    }\n\n    _createClass(ElementSettings, [{\n        key: 'open',\n        value: function open(el) {\n            this.el = el;\n            this.settings = el.options.settings;\n            this.options = el.options;\n            this.originalValues = JSON.parse(JSON.stringify(this.el.settings));\n            this.remote = this.options.remote || false;\n            this.debouncedRender = (0, _Utils.debounce)(200, this.el.render);\n\n            _UtilitySidebar2.default.open(this.render());\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this = this;\n\n            var settingsForm = (0, _Elements.form)();\n            var fields = (0, _Elements.fieldSet)();\n            var title = (0, _Elements.legend)('fred.fe.element_settings', ['fred--panel_element']);\n\n            fields.appendChild(title);\n\n            this.settings.forEach(function (setting) {\n                if (setting.group && setting.settings) {\n                    var group = (0, _Elements.dl)();\n                    _this.renderSettingsGroup(setting, group);\n                    fields.appendChild(group);\n                } else {\n                    var defaultValue = _this.el.settings[setting.name] || setting.value;\n                    fields.appendChild(_this.renderSetting(setting, defaultValue));\n                }\n            });\n\n            var buttonGroup = (0, _Elements.div)(['fred--panel_button_wrapper']);\n\n            var apply = (0, _Elements.button)('fred.fe.apply', 'fred.fe.apply', ['fred--btn-panel', 'fred--btn-apply'], this.apply.bind(this));\n            var cancel = (0, _Elements.button)('fred.fe.cancel', 'fred.fe.cancel', ['fred--btn-panel'], function () {\n                _this.cancel(cancel);\n            });\n\n            buttonGroup.appendChild(apply);\n            buttonGroup.appendChild(cancel);\n\n            fields.appendChild(buttonGroup);\n\n            settingsForm.appendChild(fields);\n\n            return settingsForm;\n        }\n    }, {\n        key: 'dtActive',\n        value: function dtActive(tab, content) {\n            var listener = function listener(e) {\n                if (e.target.parentElement !== null && !content.contains(e.target)) {\n                    tab.classList.remove('active');\n                    _UtilitySidebar2.default.wrapper.removeEventListener('click', listener);\n                }\n            };\n\n            _UtilitySidebar2.default.wrapper.addEventListener('click', listener);\n        }\n    }, {\n        key: 'renderSettingsGroup',\n        value: function renderSettingsGroup(group, content) {\n            var _this2 = this;\n\n            var settingGroup = (0, _Elements.dt)(group.group, [], function (e, el) {\n                var activeTabs = content.parentElement.querySelectorAll('dt.active');\n\n                var isActive = el.classList.contains('active');\n\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = activeTabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var tab = _step.value;\n\n                        tab.classList.remove('active');\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                if (!isActive) {\n                    el.classList.add('active');\n                    e.stopPropagation();\n                    _this2.dtActive(settingGroup, settingGroupContent);\n                }\n            });\n            var settingGroupContent = (0, _Elements.dd)();\n\n            group.settings.forEach(function (setting) {\n                var defaultValue = _this2.el.settings[setting.name] || setting.value;\n                settingGroupContent.appendChild(_this2.renderSetting(setting, defaultValue));\n            });\n\n            content.appendChild(settingGroup);\n            content.appendChild(settingGroupContent);\n\n            return content;\n        }\n    }, {\n        key: 'renderSetting',\n        value: function renderSetting(setting, defaultValue) {\n            switch (setting.type) {\n                case 'select':\n                    return _Inputs2.default.select(setting, defaultValue, this.setSetting.bind(this));\n                case 'toggle':\n                    return _Inputs2.default.toggle(setting, defaultValue, this.setSetting.bind(this));\n                case 'colorswatch':\n                    return _Inputs2.default.colorSwatch(setting, defaultValue, this.setSetting.bind(this));\n                case 'colorpicker':\n                    return _Inputs2.default.colorPicker(setting, defaultValue, this.setSetting.bind(this));\n                case 'slider':\n                    return _Inputs2.default.slider(setting, defaultValue, this.setSetting.bind(this));\n                case 'page':\n                    return _Inputs2.default.page(setting, defaultValue, this.setSetting.bind(this));\n                case 'tagger':\n                    return _Inputs2.default.tagger(setting, defaultValue, this.setSetting.bind(this));\n                case 'image':\n                    var mediaSource = '';\n\n                    if (this.options.mediaSource && this.options.mediaSource !== '') {\n                        mediaSource = this.options.mediaSource;\n                    }\n\n                    if (this.options.imageMediaSource && this.options.imageMediaSource !== '') {\n                        mediaSource = this.options.imageMediaSource;\n                    }\n\n                    return _Inputs2.default.image(_extends({ mediaSource: mediaSource }, setting), defaultValue, this.setSetting.bind(this));\n                default:\n                    return _Inputs2.default.text(setting, defaultValue, this.setSetting.bind(this));\n            }\n        }\n    }, {\n        key: 'setSetting',\n        value: function setSetting(name, value) {\n            this.el.settings[name] = value;\n\n            if (this.remote === false) {\n                this.el.render();\n            } else {\n                this.debouncedRender();\n            }\n        }\n    }, {\n        key: 'apply',\n        value: function apply() {\n            var _this3 = this;\n\n            this.el.render().then(function () {\n                var event = new CustomEvent('FredElementSettingChange', { detail: { fredEl: _this3.el } });\n                document.body.dispatchEvent(event);\n\n                var jsEls = _this3.el.wrapper.querySelectorAll('[data-fred-on-setting-change]');\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = jsEls[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var jsEl = _step2.value;\n\n\n                        if (window[jsEl.dataset.fredOnSettingChange]) {\n                            window[jsEl.dataset.fredOnSettingChange](_this3.el);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n            });\n\n            _UtilitySidebar2.default.close();\n        }\n    }, {\n        key: 'settingChanged',\n        value: function settingChanged() {\n            return this.compareObjects(this.el.settings, this.originalValues);\n        }\n    }, {\n        key: 'compareObjects',\n        value: function compareObjects(o1, o2) {\n            for (var name in o1) {\n                if (o1.hasOwnProperty(name)) {\n                    if (_typeof(o1[name]) === 'object') {\n                        var nestedCompare = this.compareObjects(o1[name], o2[name]);\n                        if (nestedCompare === true) return true;\n                    } else {\n                        if (!(o2.hasOwnProperty(name) && o2[name] === o1[name])) {\n                            return true;\n                        }\n                    }\n                }\n            }\n\n            return false;\n        }\n    }, {\n        key: 'cancel',\n        value: function cancel(btn) {\n            if (!this.settingChanged()) {\n                _UtilitySidebar2.default.close();\n                return;\n            }\n\n            if (btn.confirmed !== true) {\n                btn.innerHTML = _Config2.default.lng('fred.fe.element_settings.unsaved_changes');\n                btn.confirmed = true;\n                return;\n            }\n\n            this.realCancel();\n        }\n    }, {\n        key: 'realCancel',\n        value: function realCancel() {\n            this.el.settings = this.originalValues;\n            this.el.render();\n            _UtilitySidebar2.default.close();\n        }\n    }]);\n\n    return ElementSettings;\n}();\n\nvar elementSettings = new ElementSettings();\nexports.default = elementSettings;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9FbGVtZW50cy9FbGVtZW50U2V0dGluZ3MuanM/ZTAzOCJdLCJuYW1lcyI6WyJFbGVtZW50U2V0dGluZ3MiLCJlbCIsInNldHRpbmdzIiwib3JpZ2luYWxWYWx1ZXMiLCJ3cmFwcGVyIiwiZHRBY3RpdmUiLCJiaW5kIiwib3BlbiIsIm9wdGlvbnMiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJyZW1vdGUiLCJkZWJvdW5jZWRSZW5kZXIiLCJyZW5kZXIiLCJzZXR0aW5nc0Zvcm0iLCJmaWVsZHMiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwiZm9yRWFjaCIsInNldHRpbmciLCJncm91cCIsInJlbmRlclNldHRpbmdzR3JvdXAiLCJkZWZhdWx0VmFsdWUiLCJuYW1lIiwidmFsdWUiLCJyZW5kZXJTZXR0aW5nIiwiYnV0dG9uR3JvdXAiLCJhcHBseSIsImNhbmNlbCIsInRhYiIsImNvbnRlbnQiLCJsaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbnMiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldHRpbmdHcm91cCIsImFjdGl2ZVRhYnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXNBY3RpdmUiLCJhZGQiLCJzdG9wUHJvcGFnYXRpb24iLCJzZXR0aW5nR3JvdXBDb250ZW50IiwidHlwZSIsInNlbGVjdCIsInNldFNldHRpbmciLCJ0b2dnbGUiLCJjb2xvclN3YXRjaCIsImNvbG9yUGlja2VyIiwic2xpZGVyIiwicGFnZSIsInRhZ2dlciIsIm1lZGlhU291cmNlIiwiaW1hZ2VNZWRpYVNvdXJjZSIsImltYWdlIiwidGV4dCIsInRoZW4iLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiZnJlZEVsIiwiZG9jdW1lbnQiLCJib2R5IiwiZGlzcGF0Y2hFdmVudCIsImpzRWxzIiwianNFbCIsIndpbmRvdyIsImRhdGFzZXQiLCJmcmVkT25TZXR0aW5nQ2hhbmdlIiwiY2xvc2UiLCJjb21wYXJlT2JqZWN0cyIsIm8xIiwibzIiLCJoYXNPd25Qcm9wZXJ0eSIsIm5lc3RlZENvbXBhcmUiLCJidG4iLCJzZXR0aW5nQ2hhbmdlZCIsImNvbmZpcm1lZCIsImlubmVySFRNTCIsImxuZyIsInJlYWxDYW5jZWwiLCJlbGVtZW50U2V0dGluZ3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRWFBLGUsV0FBQUEsZTtBQUNULCtCQUFjO0FBQUE7O0FBQ1YsYUFBS0MsRUFBTCxHQUFVLElBQVY7QUFDQSxhQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsYUFBS0MsY0FBTCxHQUFzQixFQUF0QjtBQUNBLGFBQUtDLE9BQUwsR0FBZSxJQUFmOztBQUVBLGFBQUtDLFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjQyxJQUFkLENBQW1CLElBQW5CLENBQWhCO0FBQ0EsYUFBS0MsSUFBTCxHQUFZLEtBQUtBLElBQUwsQ0FBVUQsSUFBVixDQUFlLElBQWYsQ0FBWjtBQUNIOzs7OzZCQUVJTCxFLEVBQUk7QUFDTCxpQkFBS0EsRUFBTCxHQUFVQSxFQUFWO0FBQ0EsaUJBQUtDLFFBQUwsR0FBZ0JELEdBQUdPLE9BQUgsQ0FBV04sUUFBM0I7QUFDQSxpQkFBS00sT0FBTCxHQUFlUCxHQUFHTyxPQUFsQjtBQUNBLGlCQUFLTCxjQUFMLEdBQXNCTSxLQUFLQyxLQUFMLENBQVdELEtBQUtFLFNBQUwsQ0FBZSxLQUFLVixFQUFMLENBQVFDLFFBQXZCLENBQVgsQ0FBdEI7QUFDQSxpQkFBS1UsTUFBTCxHQUFjLEtBQUtKLE9BQUwsQ0FBYUksTUFBYixJQUF1QixLQUFyQztBQUNBLGlCQUFLQyxlQUFMLEdBQXVCLHFCQUFTLEdBQVQsRUFBYyxLQUFLWixFQUFMLENBQVFhLE1BQXRCLENBQXZCOztBQUVBLHFDQUFlUCxJ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IiwiZmlsZSI6IjQ2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICcuLi8uLi8uLi9VdGlscyc7XG5pbXBvcnQgdWkgZnJvbSAnLi4vLi4vLi4vVUkvSW5wdXRzJztcbmltcG9ydCB7IGRpdiwgZm9ybSwgZmllbGRTZXQsIGxlZ2VuZCwgYnV0dG9uLCBkbCwgZHQsIGRkIH0gZnJvbSAnLi4vLi4vLi4vVUkvRWxlbWVudHMnO1xuaW1wb3J0IGZyZWRDb25maWcgZnJvbSAnLi4vLi4vLi4vQ29uZmlnJztcbmltcG9ydCB1dGlsaXR5U2lkZWJhciBmcm9tICcuLy4uLy4uL1V0aWxpdHlTaWRlYmFyJztcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRTZXR0aW5ncyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0ge307XG4gICAgICAgIHRoaXMub3JpZ2luYWxWYWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy53cmFwcGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmR0QWN0aXZlID0gdGhpcy5kdEFjdGl2ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICB9XG4gICAgXG4gICAgb3BlbihlbCkge1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBlbC5vcHRpb25zLnNldHRpbmdzO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBlbC5vcHRpb25zO1xuICAgICAgICB0aGlzLm9yaWdpbmFsVmFsdWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVsLnNldHRpbmdzKSk7XG4gICAgICAgIHRoaXMucmVtb3RlID0gdGhpcy5vcHRpb25zLnJlbW90ZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWJvdW5jZWRSZW5kZXIgPSBkZWJvdW5jZSgyMDAsIHRoaXMuZWwucmVuZGVyKTtcblxuICAgICAgICB1dGlsaXR5U2lkZWJhci5vcGVuKHRoaXMucmVuZGVyKCkpO1xuICAgIH1cbiAgICBcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzRm9ybSA9IGZvcm0oKTtcbiAgICAgICAgY29uc3QgZmllbGRzID0gZmllbGRTZXQoKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBsZWdlbmQoJ2ZyZWQuZmUuZWxlbWVudF9zZXR0aW5ncycsIFsnZnJlZC0tcGFuZWxfZWxlbWVudCddKTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nLmdyb3VwICYmIHNldHRpbmcuc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IGRsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5nc0dyb3VwKHNldHRpbmcsIGdyb3VwKTtcbiAgICAgICAgICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQoZ3JvdXApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0aGlzLmVsLnNldHRpbmdzW3NldHRpbmcubmFtZV0gfHwgc2V0dGluZy52YWx1ZTtcbiAgICAgICAgICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJTZXR0aW5nKHNldHRpbmcsIGRlZmF1bHRWYWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICBcbiAgICAgICAgY29uc3QgYnV0dG9uR3JvdXAgPSBkaXYoWydmcmVkLS1wYW5lbF9idXR0b25fd3JhcHBlciddKTtcblxuICAgICAgICBjb25zdCBhcHBseSA9IGJ1dHRvbignZnJlZC5mZS5hcHBseScsICdmcmVkLmZlLmFwcGx5JywgWydmcmVkLS1idG4tcGFuZWwnLCAnZnJlZC0tYnRuLWFwcGx5J10sIHRoaXMuYXBwbHkuYmluZCh0aGlzKSk7XG4gICAgICAgIGNvbnN0IGNhbmNlbCA9IGJ1dHRvbignZnJlZC5mZS5jYW5jZWwnLCAnZnJlZC5mZS5jYW5jZWwnLCBbJ2ZyZWQtLWJ0bi1wYW5lbCddLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbChjYW5jZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChhcHBseSk7XG4gICAgICAgIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGNhbmNlbCk7XG4gICAgICAgIFxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQoYnV0dG9uR3JvdXApO1xuXG4gICAgICAgIHNldHRpbmdzRm9ybS5hcHBlbmRDaGlsZChmaWVsZHMpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzRm9ybTtcbiAgICB9XG5cbiAgICBkdEFjdGl2ZSh0YWIsIGNvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBlID0+IHtcbiAgICAgICAgICAgIGlmICgoZS50YXJnZXQucGFyZW50RWxlbWVudCAhPT0gbnVsbCkgJiYgIWNvbnRlbnQuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHV0aWxpdHlTaWRlYmFyLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdXRpbGl0eVNpZGViYXIud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICByZW5kZXJTZXR0aW5nc0dyb3VwKGdyb3VwLCBjb250ZW50KSB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdHcm91cCA9IGR0KGdyb3VwLmdyb3VwLCBbXSwgKGUsIGVsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVUYWJzID0gY29udGVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2R0LmFjdGl2ZScpO1xuXG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHRhYiBvZiBhY3RpdmVUYWJzKSB7XG4gICAgICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmR0QWN0aXZlKHNldHRpbmdHcm91cCwgc2V0dGluZ0dyb3VwQ29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzZXR0aW5nR3JvdXBDb250ZW50ID0gZGQoKTtcbiAgICAgICAgXG4gICAgICAgIGdyb3VwLnNldHRpbmdzLmZvckVhY2goc2V0dGluZyA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0aGlzLmVsLnNldHRpbmdzW3NldHRpbmcubmFtZV0gfHwgc2V0dGluZy52YWx1ZTtcbiAgICAgICAgICAgIHNldHRpbmdHcm91cENvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJTZXR0aW5nKHNldHRpbmcsIGRlZmF1bHRWYWx1ZSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHNldHRpbmdHcm91cCk7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoc2V0dGluZ0dyb3VwQ29udGVudCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG5cbiAgICByZW5kZXJTZXR0aW5nKHNldHRpbmcsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBzd2l0Y2ggKHNldHRpbmcudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdWkuc2VsZWN0KHNldHRpbmcsIGRlZmF1bHRWYWx1ZSwgdGhpcy5zZXRTZXR0aW5nLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY2FzZSAndG9nZ2xlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdWkudG9nZ2xlKHNldHRpbmcsIGRlZmF1bHRWYWx1ZSwgdGhpcy5zZXRTZXR0aW5nLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY2FzZSAnY29sb3Jzd2F0Y2gnOlxuICAgICAgICAgICAgICAgIHJldHVybiB1aS5jb2xvclN3YXRjaChzZXR0aW5nLCBkZWZhdWx0VmFsdWUsIHRoaXMuc2V0U2V0dGluZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGNhc2UgJ2NvbG9ycGlja2VyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdWkuY29sb3JQaWNrZXIoc2V0dGluZywgZGVmYXVsdFZhbHVlLCB0aGlzLnNldFNldHRpbmcuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjYXNlICdzbGlkZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiB1aS5zbGlkZXIoc2V0dGluZywgZGVmYXVsdFZhbHVlLCB0aGlzLnNldFNldHRpbmcuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjYXNlICdwYWdlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdWkucGFnZShzZXR0aW5nLCBkZWZhdWx0VmFsdWUsIHRoaXMuc2V0U2V0dGluZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGNhc2UgJ3RhZ2dlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVpLnRhZ2dlcihzZXR0aW5nLCBkZWZhdWx0VmFsdWUsIHRoaXMuc2V0U2V0dGluZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgICAgICAgICBsZXQgbWVkaWFTb3VyY2UgPSAnJztcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWVkaWFTb3VyY2UgJiYgdGhpcy5vcHRpb25zLm1lZGlhU291cmNlICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYVNvdXJjZSA9IHRoaXMub3B0aW9ucy5tZWRpYVNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmltYWdlTWVkaWFTb3VyY2UgJiYgdGhpcy5vcHRpb25zLmltYWdlTWVkaWFTb3VyY2UgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhU291cmNlID0gdGhpcy5vcHRpb25zLmltYWdlTWVkaWFTb3VyY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB1aS5pbWFnZSh7bWVkaWFTb3VyY2UsIC4uLnNldHRpbmd9LCBkZWZhdWx0VmFsdWUsIHRoaXMuc2V0U2V0dGluZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVpLnRleHQoc2V0dGluZywgZGVmYXVsdFZhbHVlLCB0aGlzLnNldFNldHRpbmcuYmluZCh0aGlzKSk7ICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRTZXR0aW5nKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZWwuc2V0dGluZ3NbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuZWwucmVuZGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlYm91bmNlZFJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwbHkoKSB7XG4gICAgICAgIHRoaXMuZWwucmVuZGVyKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnRnJlZEVsZW1lbnRTZXR0aW5nQ2hhbmdlJywgeyBkZXRhaWw6IHtmcmVkRWw6IHRoaXMuZWx9IH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QganNFbHMgPSB0aGlzLmVsLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnJlZC1vbi1zZXR0aW5nLWNoYW5nZV0nKTtcbiAgICAgICAgICAgIGZvciAobGV0IGpzRWwgb2YganNFbHMpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAod2luZG93W2pzRWwuZGF0YXNldC5mcmVkT25TZXR0aW5nQ2hhbmdlXSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbanNFbC5kYXRhc2V0LmZyZWRPblNldHRpbmdDaGFuZ2VdKHRoaXMuZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdXRpbGl0eVNpZGViYXIuY2xvc2UoKTtcbiAgICB9XG4gICAgXG4gICAgc2V0dGluZ0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVPYmplY3RzKHRoaXMuZWwuc2V0dGluZ3MsIHRoaXMub3JpZ2luYWxWYWx1ZXMpO1xuICAgIH1cbiAgICBcbiAgICBjb21wYXJlT2JqZWN0cyhvMSwgbzIpIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBvMSkge1xuICAgICAgICAgICAgaWYgKG8xLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvMVtuYW1lXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkQ29tcGFyZSA9IHRoaXMuY29tcGFyZU9iamVjdHMobzFbbmFtZV0sIG8yW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lc3RlZENvbXBhcmUgPT09IHRydWUpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKG8yLmhhc093blByb3BlcnR5KG5hbWUpICYmIChvMltuYW1lXSA9PT0gbzFbbmFtZV0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgY2FuY2VsKGJ0bikge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ0NoYW5nZWQoKSkge1xuICAgICAgICAgICAgdXRpbGl0eVNpZGViYXIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYoYnRuLmNvbmZpcm1lZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9IGZyZWRDb25maWcubG5nKCdmcmVkLmZlLmVsZW1lbnRfc2V0dGluZ3MudW5zYXZlZF9jaGFuZ2VzJyk7XG4gICAgICAgICAgICBidG4uY29uZmlybWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5yZWFsQ2FuY2VsKCk7XG4gICAgfVxuICAgIFxuICAgIHJlYWxDYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuZWwuc2V0dGluZ3MgPSB0aGlzLm9yaWdpbmFsVmFsdWVzO1xuICAgICAgICB0aGlzLmVsLnJlbmRlcigpO1xuICAgICAgICB1dGlsaXR5U2lkZWJhci5jbG9zZSgpO1xuICAgIH1cbn1cblxuY29uc3QgZWxlbWVudFNldHRpbmdzID0gbmV3IEVsZW1lbnRTZXR0aW5ncygpO1xuZXhwb3J0IGRlZmF1bHQgZWxlbWVudFNldHRpbmdzO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvQ29tcG9uZW50cy9TaWRlYmFyL0VsZW1lbnRzL0VsZW1lbnRTZXR0aW5ncy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Elements = __webpack_require__(11);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UtilitySidebar = function () {\n    function UtilitySidebar() {\n        _classCallCheck(this, UtilitySidebar);\n\n        this.rendered = false;\n        this.wrapper = null;\n    }\n\n    _createClass(UtilitySidebar, [{\n        key: \"render\",\n        value: function render() {\n            if (this.rendered === true) return this.wrapper;\n\n            this.rendered = true;\n            this.wrapper = (0, _Elements.div)(['fred--panel', 'fred--hidden']);\n\n            _EE2.default.emit('fred-wrapper-insert', this.wrapper);\n\n            return this.wrapper;\n        }\n    }, {\n        key: \"open\",\n        value: function open(el) {\n            if (this.rendered === false) this.render();\n\n            this.wrapper.innerHTML = '';\n            this.wrapper.appendChild(el);\n\n            this.wrapper.classList.remove('fred--hidden');\n        }\n    }, {\n        key: \"close\",\n        value: function close() {\n            this.wrapper.classList.add('fred--hidden');\n        }\n    }]);\n\n    return UtilitySidebar;\n}();\n\nvar utilitySidebar = new UtilitySidebar();\nexports.default = utilitySidebar;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvVXRpbGl0eVNpZGViYXIuanM/NmI2OSJdLCJuYW1lcyI6WyJVdGlsaXR5U2lkZWJhciIsInJlbmRlcmVkIiwid3JhcHBlciIsImVtaXQiLCJlbCIsInJlbmRlciIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwidXRpbGl0eVNpZGViYXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7O0lBRU1BLGM7QUFDRiw4QkFBYztBQUFBOztBQUNWLGFBQUtDLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQSxhQUFLQyxPQUFMLEdBQWUsSUFBZjtBQUNIOzs7O2lDQUVRO0FBQ0wsZ0JBQUksS0FBS0QsUUFBTCxLQUFrQixJQUF0QixFQUE0QixPQUFPLEtBQUtDLE9BQVo7O0FBRTVCLGlCQUFLRCxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsaUJBQUtDLE9BQUwsR0FBZSxtQkFBSSxDQUFDLGFBQUQsRUFBZ0IsY0FBaEIsQ0FBSixDQUFmOztBQUVBLHlCQUFRQyxJQUFSLENBQWEscUJBQWIsRUFBb0MsS0FBS0QsT0FBekM7O0FBRUEsbUJBQU8sS0FBS0EsT0FBWjtBQUNIOzs7NkJBRUlFLEUsRUFBSTtBQUNMLGdCQUFJLEtBQUtILFFBQUwsS0FBa0IsS0FBdEIsRUFBNkIsS0FBS0ksTUFBTDs7QUFFN0IsaUJBQUtILE9BQUwsQ0FBYUksU0FBYixHQUF5QixFQUF6QjtBQUNBLGlCQUFLSixPQUFMLENBQWFLLFdBQWIsQ0FBeUJILEVBQXpCOztBQUVBLGlCQUFLRixPQUFMLENBQWFNLFNBQWIsQ0FBdUJDLE1BQXZCLENBQThCLGNBQTlCO0FBQ0g7OztnQ0FFTztBQUNKLGlCQUFLUCxPQUFMLENBQWFNLFNBQWIsQ0FBdUJFLEdBQXZCLENBQTJCLGNBQTNCO0FBQ0g7Ozs7OztBQUdMLElBQU1DLGlCQUFpQixJQUFJWCxjQUFKLEVBQXZCO2tCQUNlVyxjIiwiZmlsZSI6IjQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkaXZ9IGZyb20gXCIuLi9VSS9FbGVtZW50c1wiO1xuaW1wb3J0IGVtaXR0ZXIgZnJvbSBcIi4uL0VFXCI7XG5cbmNsYXNzIFV0aWxpdHlTaWRlYmFyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLndyYXBwZXIgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkID09PSB0cnVlKSByZXR1cm4gdGhpcy53cmFwcGVyO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IHRydWU7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IGRpdihbJ2ZyZWQtLXBhbmVsJywgJ2ZyZWQtLWhpZGRlbiddKTtcblxuICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtd3JhcHBlci1pbnNlcnQnLCB0aGlzLndyYXBwZXIpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgICB9XG4gICAgXG4gICAgb3BlbihlbCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZCA9PT0gZmFsc2UpIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy53cmFwcGVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQoZWwpO1xuXG4gICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdmcmVkLS1oaWRkZW4nKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWhpZGRlbicpO1xuICAgIH1cbn1cblxuY29uc3QgdXRpbGl0eVNpZGViYXIgPSBuZXcgVXRpbGl0eVNpZGViYXIoKTtcbmV4cG9ydCBkZWZhdWx0IHV0aWxpdHlTaWRlYmFyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvQ29tcG9uZW50cy9VdGlsaXR5U2lkZWJhci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PartialBlueprints = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _UtilitySidebar = __webpack_require__(47);\n\nvar _UtilitySidebar2 = _interopRequireDefault(_UtilitySidebar);\n\nvar _Inputs = __webpack_require__(13);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Cache = __webpack_require__(38);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _html2canvas = __webpack_require__(49);\n\nvar _html2canvas2 = _interopRequireDefault(_html2canvas);\n\nvar _blueprints = __webpack_require__(35);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PartialBlueprints = exports.PartialBlueprints = function () {\n    function PartialBlueprints() {\n        _classCallCheck(this, PartialBlueprints);\n    }\n\n    _createClass(PartialBlueprints, [{\n        key: \"open\",\n        value: function open(el) {\n            var _this = this;\n\n            this.el = el;\n            this.categories = [];\n\n            this.state = {\n                name: '',\n                category: null,\n                rank: '',\n                public: true,\n                image: '',\n                generatedImage: ''\n            };\n\n            (0, _blueprints.getBlueprints)().then(function (value) {\n                value.forEach(function (category) {\n                    if (_this.state.category === null) {\n                        _this.state.category = category.id;\n                    }\n\n                    _this.categories.push({\n                        label: category.category,\n                        id: category.id,\n                        value: '' + category.id\n                    });\n                });\n\n                _UtilitySidebar2.default.open(_this.render());\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var pageForm = (0, _Elements.form)(['fred--pages_create']);\n\n            var fields = (0, _Elements.fieldSet)();\n            var title = (0, _Elements.legend)('fred.fe.blueprints.create_blueprint', ['fred--panel_blueprint']);\n\n            var onChange = function onChange(name, value) {\n                _this2.state[name] = value;\n            };\n\n            var onChangeChoices = function onChangeChoices(name, value) {\n                _this2.state[name] = value.value;\n            };\n\n            fields.appendChild(title);\n\n            var name = (0, _Inputs.text)({\n                name: 'name',\n                label: 'fred.fe.blueprints.blueprint_name'\n            }, this.state.name, onChange);\n\n            fields.appendChild(name);\n\n            var onImageChange = function onImageChange(name, value) {\n                if (value === '') {\n                    imageEl.setPreview(_this2.state.generatedImage);\n                }\n\n                _this2.state[name] = value;\n            };\n\n            var imageEl = (0, _Inputs.image)({\n                name: 'image',\n                label: 'fred.fe.blueprints.blueprint_image'\n            }, this.state.image, onImageChange);\n\n            fields.appendChild(imageEl);\n\n            var category = (0, _Inputs.choices)({\n                name: 'category',\n                label: _Config2.default.lng('fred.fe.blueprints.blueprint_category'),\n                choices: {\n                    choices: this.categories,\n                    shouldSort: false\n                }\n            }, this.state.category, onChangeChoices);\n\n            fields.appendChild(category);\n\n            fields.appendChild((0, _Inputs.text)({\n                name: 'rank',\n                label: 'fred.fe.blueprints.blueprint_rank'\n            }, this.state.rank, onChange));\n\n            fields.appendChild((0, _Inputs.toggle)({\n                name: 'public',\n                label: 'fred.fe.blueprints.blueprint_public'\n            }, this.state.public, onChange));\n\n            if (this.state.image === '') {\n                (0, _html2canvas2.default)(this.el.wrapper, {\n                    logging: false,\n                    ignoreElements: function ignoreElements(el) {\n                        if (el.classList.contains('fred')) return true;\n                        if (el.classList.contains('fred--toolbar')) return true;\n\n                        return false;\n                    }\n                }).then(function (canvas) {\n                    _this2.state.generatedImage = canvas.toDataURL();\n                    imageEl.setPreview(_this2.state.generatedImage);\n                });\n            }\n\n            var createButton = (0, _Elements.button)('fred.fe.blueprints.create_blueprint', 'fred.fe.blueprints.create_blueprint', ['fred--btn-panel', 'fred--btn-apply'], function () {\n                _EE2.default.emit('fred-loading', _Config2.default.lng('fred.fe.blueprints.creating_blueprint'));\n\n                (0, _blueprints.createBlueprint)(_this2.state.name, _this2.state.category, _this2.state.rank, _this2.state.public, [_this2.el.getContent()], _this2.state.generatedImage, _this2.state.image, false).then(function (json) {\n                    _Cache2.default.kill('blueprints', { name: 'blueprints' });\n                    _UtilitySidebar2.default.close();\n                    _EE2.default.emit('fred-loading-hide');\n                }).catch(function (err) {\n                    if (err.response && err.response._fields) {\n                        if (err.response._fields.name) {\n                            name.onError(err.response._fields.name);\n                        }\n\n                        if (err.response._fields.category) {\n                            category.onError(err.response._fields.category);\n                        }\n\n                        _EE2.default.emit('fred-loading-hide');\n                    }\n                });\n            });\n            var cancelButton = (0, _Elements.button)('fred.fe.cancel', 'fred.fe.cancel', ['fred--btn-panel'], function () {\n                _UtilitySidebar2.default.close();\n            });\n\n            var buttonGroup = (0, _Elements.div)(['fred--panel_button_wrapper']);\n            buttonGroup.appendChild(createButton);\n            buttonGroup.appendChild(cancelButton);\n            fields.appendChild(buttonGroup);\n\n            pageForm.appendChild(fields);\n\n            return pageForm;\n        }\n    }]);\n\n    return PartialBlueprints;\n}();\n\nvar partialBlueprints = new PartialBlueprints();\nexports.default = partialBlueprints;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9FbGVtZW50cy9QYXJ0aWFsQmx1ZXByaW50cy5qcz9iOTMzIl0sIm5hbWVzIjpbIlBhcnRpYWxCbHVlcHJpbnRzIiwiZWwiLCJjYXRlZ29yaWVzIiwic3RhdGUiLCJuYW1lIiwiY2F0ZWdvcnkiLCJyYW5rIiwicHVibGljIiwiaW1hZ2UiLCJnZW5lcmF0ZWRJbWFnZSIsInRoZW4iLCJ2YWx1ZSIsImZvckVhY2giLCJpZCIsInB1c2giLCJsYWJlbCIsIm9wZW4iLCJyZW5kZXIiLCJwYWdlRm9ybSIsImZpZWxkcyIsInRpdGxlIiwib25DaGFuZ2UiLCJvbkNoYW5nZUNob2ljZXMiLCJhcHBlbmRDaGlsZCIsIm9uSW1hZ2VDaGFuZ2UiLCJpbWFnZUVsIiwic2V0UHJldmlldyIsImxuZyIsImNob2ljZXMiLCJzaG91bGRTb3J0Iiwid3JhcHBlciIsImxvZ2dpbmciLCJpZ25vcmVFbGVtZW50cyIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2FudmFzIiwidG9EYXRhVVJMIiwiY3JlYXRlQnV0dG9uIiwiZW1pdCIsImdldENvbnRlbnQiLCJraWxsIiwiY2xvc2UiLCJjYXRjaCIsImVyciIsInJlc3BvbnNlIiwiX2ZpZWxkcyIsIm9uRXJyb3IiLCJjYW5jZWxCdXR0b24iLCJidXR0b25Hcm91cCIsInBhcnRpYWxCbHVlcHJpbnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztJQUVhQSxpQixXQUFBQSxpQjs7Ozs7Ozs2QkFDSkMsRSxFQUFJO0FBQUE7O0FBQ0wsaUJBQUtBLEVBQUwsR0FBVUEsRUFBVjtBQUNBLGlCQUFLQyxVQUFMLEdBQWtCLEVBQWxCOztBQUVBLGlCQUFLQyxLQUFMLEdBQWE7QUFDVEMsc0JBQU0sRUFERztBQUVUQywwQkFBVSxJQUZEO0FBR1RDLHNC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NkNBQWVxQyxLQUFmO0FBQ0EsaUNBQVFILElBQVIsQ0FBYSxtQkFBYjtBQUNILGlCQUxMLEVBS09JLEtBTFAsQ0FLYSxlQUFPO0FBQ2hCLHdCQUFJQyxJQUFJQyxRQUFKLElBQWdCRCxJQUFJQyxRQUFKLENBQWFDLE9BQWpDLEVBQTBDO0FBQ3RDLDRCQUFJRixJQUFJQyxRQUFKLENBQWFDLE9BQWIsQ0FBcUJ6QyxJQUF6QixFQUErQjtBQUMzQkEsaUNBQUswQyxPQUFMLENBQWFILElBQUlDLFFBQUosQ0FBYUMsT0FBYixDQUFxQnpDLElBQWxDO0FBQ0g7O0FBRUQsNEJBQUl1QyxJQUFJQyxRQUFKLENBQWFDLE9BQWIsQ0FBcUJ4QyxRQUF6QixFQUFtQztBQUMvQkEscUNBQVN5QyxPQUFULENBQWlCSCxJQUFJQyxRQUFKLENBQWFDLE9BQWIsQ0FBcUJ4QyxRQUF0QztBQUNIOztBQUVELHFDQUFRaUMsSUFBUixDQUFhLG1CQUFiO0FBQ0g7QUFDSixpQkFqQkQ7QUFrQkgsYUFyQm9CLENBQXJCO0FBc0JBLGdCQUFNUyxlQUFlLHNCQUFPLGdCQUFQLEVBQXlCLGdCQUF6QixFQUEyQyxDQUFDLGlCQUFELENBQTNDLEVBQWdFLFlBQU07QUFDdkYseUNBQWVOLEtBQWY7QUFDSCxhQUZvQixDQUFyQjs7QUFJQSxnQkFBTU8sY0FBYyxtQkFBSSxDQUFDLDRCQUFELENBQUosQ0FBcEI7QUFDQUEsd0JBQVl6QixXQUFaLENBQXdCYyxZQUF4QjtBQUNBVyx3QkFBWXpCLFdBQVosQ0FBd0J3QixZQUF4QjtBQUNBNUIsbUJBQU9JLFdBQVAsQ0FBbUJ5QixXQUFuQjs7QUFFQTlCLHFCQUFTSyxXQUFULENBQXFCSixNQUFyQjs7QUFFQSxtQkFBT0QsUUFBUDtBQUNIOzs7Ozs7QUFHTCxJQUFNK0Isb0JBQW9CLElBQUlqRCxpQkFBSixFQUExQjtrQkFDZWlELGlCIiwiZmlsZSI6IjQ4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV0aWxpdHlTaWRlYmFyIGZyb20gJy4vLi4vLi4vVXRpbGl0eVNpZGViYXInO1xuaW1wb3J0IHtjaG9pY2VzLCBpbWFnZSwgdGV4dCwgdG9nZ2xlfSBmcm9tIFwiLi4vLi4vLi4vVUkvSW5wdXRzXCI7XG5pbXBvcnQge2J1dHRvbiwgZGl2LCBmaWVsZFNldCwgZm9ybSwgbGVnZW5kfSBmcm9tIFwiLi4vLi4vLi4vVUkvRWxlbWVudHNcIjtcbmltcG9ydCBjYWNoZSBmcm9tIFwiLi4vLi4vLi4vQ2FjaGVcIjtcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuLi8uLi8uLi9FRVwiO1xuaW1wb3J0IGZyZWRDb25maWcgZnJvbSBcIi4uLy4uLy4uL0NvbmZpZ1wiO1xuaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gXCJodG1sMmNhbnZhc1wiO1xuaW1wb3J0IHsgZ2V0Qmx1ZXByaW50cywgY3JlYXRlQmx1ZXByaW50IH0gZnJvbSAnLi4vLi4vLi4vQWN0aW9ucy9ibHVlcHJpbnRzJztcblxuZXhwb3J0IGNsYXNzIFBhcnRpYWxCbHVlcHJpbnRzIHtcbiAgICBvcGVuKGVsKSB7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gW107XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICAgICAgICByYW5rOiAnJyxcbiAgICAgICAgICAgIHB1YmxpYzogdHJ1ZSxcbiAgICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICAgIGdlbmVyYXRlZEltYWdlOiAnJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGdldEJsdWVwcmludHMoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGNhdGVnb3J5LmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBpZDogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyArIGNhdGVnb3J5LmlkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdXRpbGl0eVNpZGViYXIub3Blbih0aGlzLnJlbmRlcigpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgcGFnZUZvcm0gPSBmb3JtKFsnZnJlZC0tcGFnZXNfY3JlYXRlJ10pO1xuXG4gICAgICAgIGNvbnN0IGZpZWxkcyA9IGZpZWxkU2V0KCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gbGVnZW5kKCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2JsdWVwcmludCcsIFsnZnJlZC0tcGFuZWxfYmx1ZXByaW50J10pO1xuXG4gICAgICAgIGNvbnN0IG9uQ2hhbmdlID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25DaGFuZ2VDaG9pY2VzID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlW25hbWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0ZXh0KHtcbiAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgICAgIGxhYmVsOiAnZnJlZC5mZS5ibHVlcHJpbnRzLmJsdWVwcmludF9uYW1lJ1xuICAgICAgICB9LCB0aGlzLnN0YXRlLm5hbWUsIG9uQ2hhbmdlKTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQobmFtZSk7XG5cbiAgICAgICAgY29uc3Qgb25JbWFnZUNoYW5nZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGltYWdlRWwuc2V0UHJldmlldyh0aGlzLnN0YXRlLmdlbmVyYXRlZEltYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGltYWdlRWwgPSBpbWFnZSh7XG4gICAgICAgICAgICBuYW1lOiAnaW1hZ2UnLFxuICAgICAgICAgICAgbGFiZWw6ICdmcmVkLmZlLmJsdWVwcmludHMuYmx1ZXByaW50X2ltYWdlJ1xuICAgICAgICB9LCB0aGlzLnN0YXRlLmltYWdlLCBvbkltYWdlQ2hhbmdlKTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQoaW1hZ2VFbCk7XG5cbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjaG9pY2VzKHtcbiAgICAgICAgICAgIG5hbWU6ICdjYXRlZ29yeScsXG4gICAgICAgICAgICBsYWJlbDogZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUuYmx1ZXByaW50cy5ibHVlcHJpbnRfY2F0ZWdvcnknKSxcbiAgICAgICAgICAgIGNob2ljZXM6IHtcbiAgICAgICAgICAgICAgICBjaG9pY2VzIDogdGhpcy5jYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHNob3VsZFNvcnQ6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuc3RhdGUuY2F0ZWdvcnksIG9uQ2hhbmdlQ2hvaWNlcyk7XG5cbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKGNhdGVnb3J5KTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodGV4dCh7XG4gICAgICAgICAgICBuYW1lOiAncmFuaycsXG4gICAgICAgICAgICBsYWJlbDogJ2ZyZWQuZmUuYmx1ZXByaW50cy5ibHVlcHJpbnRfcmFuaydcbiAgICAgICAgfSwgdGhpcy5zdGF0ZS5yYW5rLCBvbkNoYW5nZSkpO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZCh0b2dnbGUoe1xuICAgICAgICAgICAgbmFtZTogJ3B1YmxpYycsXG4gICAgICAgICAgICBsYWJlbDogJ2ZyZWQuZmUuYmx1ZXByaW50cy5ibHVlcHJpbnRfcHVibGljJ1xuICAgICAgICB9LCB0aGlzLnN0YXRlLnB1YmxpYywgb25DaGFuZ2UpKTtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbWFnZSA9PT0gJycpIHtcbiAgICAgICAgICAgIGh0bWwyY2FudmFzKHRoaXMuZWwud3JhcHBlciwge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlnbm9yZUVsZW1lbnRzOiBlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZyZWQnKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZyZWQtLXRvb2xiYXInKSkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oY2FudmFzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdlbmVyYXRlZEltYWdlID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgICAgIGltYWdlRWwuc2V0UHJldmlldyh0aGlzLnN0YXRlLmdlbmVyYXRlZEltYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3JlYXRlQnV0dG9uID0gYnV0dG9uKCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2JsdWVwcmludCcsICdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2JsdWVwcmludCcsIFsnZnJlZC0tYnRuLXBhbmVsJywgJ2ZyZWQtLWJ0bi1hcHBseSddLCAoKSA9PiB7XG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtbG9hZGluZycsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRpbmdfYmx1ZXByaW50JykpO1xuXG4gICAgICAgICAgICBjcmVhdGVCbHVlcHJpbnQodGhpcy5zdGF0ZS5uYW1lLCB0aGlzLnN0YXRlLmNhdGVnb3J5LCB0aGlzLnN0YXRlLnJhbmssIHRoaXMuc3RhdGUucHVibGljLCBbdGhpcy5lbC5nZXRDb250ZW50KCldLCB0aGlzLnN0YXRlLmdlbmVyYXRlZEltYWdlLCB0aGlzLnN0YXRlLmltYWdlLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAudGhlbihqc29uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUua2lsbCgnYmx1ZXByaW50cycsIHtuYW1lOiAnYmx1ZXByaW50cyd9KTtcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0eVNpZGViYXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmctaGlkZScpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZSAmJiBlcnIucmVzcG9uc2UuX2ZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLl9maWVsZHMubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZS5vbkVycm9yKGVyci5yZXNwb25zZS5fZmllbGRzLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZS5fZmllbGRzLmNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5vbkVycm9yKGVyci5yZXNwb25zZS5fZmllbGRzLmNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nLWhpZGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGJ1dHRvbignZnJlZC5mZS5jYW5jZWwnLCAnZnJlZC5mZS5jYW5jZWwnLCBbJ2ZyZWQtLWJ0bi1wYW5lbCddLCAoKSA9PiB7XG4gICAgICAgICAgICB1dGlsaXR5U2lkZWJhci5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJ1dHRvbkdyb3VwID0gZGl2KFsnZnJlZC0tcGFuZWxfYnV0dG9uX3dyYXBwZXInXSk7XG4gICAgICAgIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbik7XG4gICAgICAgIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7XG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChidXR0b25Hcm91cCk7XG5cbiAgICAgICAgcGFnZUZvcm0uYXBwZW5kQ2hpbGQoZmllbGRzKTtcblxuICAgICAgICByZXR1cm4gcGFnZUZvcm07XG4gICAgfVxufVxuXG5jb25zdCBwYXJ0aWFsQmx1ZXByaW50cyA9IG5ldyBQYXJ0aWFsQmx1ZXByaW50cygpO1xuZXhwb3J0IGRlZmF1bHQgcGFydGlhbEJsdWVwcmludHM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9Db21wb25lbnRzL1NpZGViYXIvRWxlbWVudHMvUGFydGlhbEJsdWVwcmludHMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _CanvasRenderer = __webpack_require__(50);\n\nvar _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);\n\nvar _Logger = __webpack_require__(54);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _Window = __webpack_require__(55);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar html2canvas = function html2canvas(element, conf) {\n    var config = conf || {};\n    var logger = new _Logger2.default(typeof config.logging === 'boolean' ? config.logging : true);\n    logger.log('html2canvas ' + \"$npm_package_version\");\n\n    if ((\"development\") !== 'production' && typeof config.onrendered === 'function') {\n        logger.error('onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value');\n    }\n\n    var ownerDocument = element.ownerDocument;\n    if (!ownerDocument) {\n        return Promise.reject('Provided element is not within a Document');\n    }\n    var defaultView = ownerDocument.defaultView;\n\n    var defaultOptions = {\n        async: true,\n        allowTaint: false,\n        backgroundColor: '#ffffff',\n        imageTimeout: 15000,\n        logging: true,\n        proxy: null,\n        removeContainer: true,\n        foreignObjectRendering: false,\n        scale: defaultView.devicePixelRatio || 1,\n        target: new _CanvasRenderer2.default(config.canvas),\n        useCORS: false,\n        windowWidth: defaultView.innerWidth,\n        windowHeight: defaultView.innerHeight,\n        scrollX: defaultView.pageXOffset,\n        scrollY: defaultView.pageYOffset\n    };\n\n    var result = (0, _Window.renderElement)(element, _extends({}, defaultOptions, config), logger);\n\n    if (true) {\n        return result.catch(function (e) {\n            logger.error(e);\n            throw e;\n        });\n    }\n    return result;\n};\n\nhtml2canvas.CanvasRenderer = _CanvasRenderer2.default;\n\nmodule.exports = html2canvas;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2luZGV4LmpzPzRmY2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsbURBQW1ELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCwyQkFBMkIsRUFBRSxFQUFFLEVBQUUsZUFBZTs7QUFFOVA7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFOztBQUVoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEiLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVyL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG52YXIgX0xvZ2dlciA9IHJlcXVpcmUoJy4vTG9nZ2VyJyk7XG5cbnZhciBfTG9nZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvZ2dlcik7XG5cbnZhciBfV2luZG93ID0gcmVxdWlyZSgnLi9XaW5kb3cnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGh0bWwyY2FudmFzID0gZnVuY3Rpb24gaHRtbDJjYW52YXMoZWxlbWVudCwgY29uZikge1xuICAgIHZhciBjb25maWcgPSBjb25mIHx8IHt9O1xuICAgIHZhciBsb2dnZXIgPSBuZXcgX0xvZ2dlcjIuZGVmYXVsdCh0eXBlb2YgY29uZmlnLmxvZ2dpbmcgPT09ICdib29sZWFuJyA/IGNvbmZpZy5sb2dnaW5nIDogdHJ1ZSk7XG4gICAgbG9nZ2VyLmxvZygnaHRtbDJjYW52YXMgJyArIFwiJG5wbV9wYWNrYWdlX3ZlcnNpb25cIik7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uZmlnLm9ucmVuZGVyZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKCdvbnJlbmRlcmVkIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBodG1sMmNhbnZhcyByZXR1cm5zIGEgUHJvbWlzZSB3aXRoIHRoZSBjYW52YXMgYXMgdGhlIHZhbHVlJyk7XG4gICAgfVxuXG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKCFvd25lckRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnUHJvdmlkZWQgZWxlbWVudCBpcyBub3Qgd2l0aGluIGEgRG9jdW1lbnQnKTtcbiAgICB9XG4gICAgdmFyIGRlZmF1bHRWaWV3ID0gb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgIGFsbG93VGFpbnQ6IGZhbHNlLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgaW1hZ2VUaW1lb3V0OiAxNTAwMCxcbiAgICAgICAgbG9nZ2luZzogdHJ1ZSxcbiAgICAgICAgcHJveHk6IG51bGwsXG4gICAgICAgIHJlbW92ZUNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgZm9yZWlnbk9iamVjdFJlbmRlcmluZzogZmFsc2UsXG4gICAgICAgIHNjYWxlOiBkZWZhdWx0Vmlldy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsXG4gICAgICAgIHRhcmdldDogbmV3IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdChjb25maWcuY2FudmFzKSxcbiAgICAgICAgdXNlQ09SUzogZmFsc2UsXG4gICAgICAgIHdpbmRvd1dpZHRoOiBkZWZhdWx0Vmlldy5pbm5lcldpZHRoLFxuICAgICAgICB3aW5kb3dIZWlnaHQ6IGRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LFxuICAgICAgICBzY3JvbGxYOiBkZWZhdWx0Vmlldy5wYWdlWE9mZnNldCxcbiAgICAgICAgc2Nyb2xsWTogZGVmYXVsdFZpZXcucGFnZVlPZmZzZXRcbiAgICB9O1xuXG4gICAgdmFyIHJlc3VsdCA9ICgwLCBfV2luZG93LnJlbmRlckVsZW1lbnQpKGVsZW1lbnQsIF9leHRlbmRzKHt9LCBkZWZhdWx0T3B0aW9ucywgY29uZmlnKSwgbG9nZ2VyKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuaHRtbDJjYW52YXMuQ2FudmFzUmVuZGVyZXIgPSBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQ7XG5cbm1vZHVsZS5leHBvcnRzID0gaHRtbDJjYW52YXM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Path = __webpack_require__(51);\n\nvar _textDecoration = __webpack_require__(52);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar addColorStops = function addColorStops(gradient, canvasGradient) {\n    var maxStop = Math.max.apply(null, gradient.colorStops.map(function (colorStop) {\n        return colorStop.stop;\n    }));\n    var f = 1 / Math.max(1, maxStop);\n    gradient.colorStops.forEach(function (colorStop) {\n        canvasGradient.addColorStop(f * colorStop.stop, colorStop.color.toString());\n    });\n};\n\nvar CanvasRenderer = function () {\n    function CanvasRenderer(canvas) {\n        _classCallCheck(this, CanvasRenderer);\n\n        this.canvas = canvas ? canvas : document.createElement('canvas');\n    }\n\n    _createClass(CanvasRenderer, [{\n        key: 'render',\n        value: function render(options) {\n            this.ctx = this.canvas.getContext('2d');\n            this.options = options;\n            this.canvas.width = Math.floor(options.width * options.scale);\n            this.canvas.height = Math.floor(options.height * options.scale);\n            this.canvas.style.width = options.width + 'px';\n            this.canvas.style.height = options.height + 'px';\n\n            this.ctx.scale(this.options.scale, this.options.scale);\n            this.ctx.translate(-options.x, -options.y);\n            this.ctx.textBaseline = 'bottom';\n            options.logger.log('Canvas renderer initialized (' + options.width + 'x' + options.height + ' at ' + options.x + ',' + options.y + ') with scale ' + this.options.scale);\n        }\n    }, {\n        key: 'clip',\n        value: function clip(clipPaths, callback) {\n            var _this = this;\n\n            if (clipPaths.length) {\n                this.ctx.save();\n                clipPaths.forEach(function (path) {\n                    _this.path(path);\n                    _this.ctx.clip();\n                });\n            }\n\n            callback();\n\n            if (clipPaths.length) {\n                this.ctx.restore();\n            }\n        }\n    }, {\n        key: 'drawImage',\n        value: function drawImage(image, source, destination) {\n            this.ctx.drawImage(image, source.left, source.top, source.width, source.height, destination.left, destination.top, destination.width, destination.height);\n        }\n    }, {\n        key: 'drawShape',\n        value: function drawShape(path, color) {\n            this.path(path);\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fill();\n        }\n    }, {\n        key: 'fill',\n        value: function fill(color) {\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fill();\n        }\n    }, {\n        key: 'getTarget',\n        value: function getTarget() {\n            this.canvas.getContext('2d').setTransform(1, 0, 0, 1, 0, 0);\n            return Promise.resolve(this.canvas);\n        }\n    }, {\n        key: 'path',\n        value: function path(_path) {\n            var _this2 = this;\n\n            this.ctx.beginPath();\n            if (Array.isArray(_path)) {\n                _path.forEach(function (point, index) {\n                    var start = point.type === _Path.PATH.VECTOR ? point : point.start;\n                    if (index === 0) {\n                        _this2.ctx.moveTo(start.x, start.y);\n                    } else {\n                        _this2.ctx.lineTo(start.x, start.y);\n                    }\n\n                    if (point.type === _Path.PATH.BEZIER_CURVE) {\n                        _this2.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\n                    }\n                });\n            } else {\n                this.ctx.arc(_path.x + _path.radius, _path.y + _path.radius, _path.radius, 0, Math.PI * 2, true);\n            }\n\n            this.ctx.closePath();\n        }\n    }, {\n        key: 'rectangle',\n        value: function rectangle(x, y, width, height, color) {\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fillRect(x, y, width, height);\n        }\n    }, {\n        key: 'renderLinearGradient',\n        value: function renderLinearGradient(bounds, gradient) {\n            var linearGradient = this.ctx.createLinearGradient(bounds.left + gradient.direction.x1, bounds.top + gradient.direction.y1, bounds.left + gradient.direction.x0, bounds.top + gradient.direction.y0);\n\n            addColorStops(gradient, linearGradient);\n            this.ctx.fillStyle = linearGradient;\n            this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n        }\n    }, {\n        key: 'renderRadialGradient',\n        value: function renderRadialGradient(bounds, gradient) {\n            var _this3 = this;\n\n            var x = bounds.left + gradient.center.x;\n            var y = bounds.top + gradient.center.y;\n\n            var radialGradient = this.ctx.createRadialGradient(x, y, 0, x, y, gradient.radius.x);\n            if (!radialGradient) {\n                return;\n            }\n\n            addColorStops(gradient, radialGradient);\n            this.ctx.fillStyle = radialGradient;\n\n            if (gradient.radius.x !== gradient.radius.y) {\n                // transforms for elliptical radial gradient\n                var midX = bounds.left + 0.5 * bounds.width;\n                var midY = bounds.top + 0.5 * bounds.height;\n                var f = gradient.radius.y / gradient.radius.x;\n                var invF = 1 / f;\n\n                this.transform(midX, midY, [1, 0, 0, f, 0, 0], function () {\n                    return _this3.ctx.fillRect(bounds.left, invF * (bounds.top - midY) + midY, bounds.width, bounds.height * invF);\n                });\n            } else {\n                this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n            }\n        }\n    }, {\n        key: 'renderRepeat',\n        value: function renderRepeat(path, image, imageSize, offsetX, offsetY) {\n            this.path(path);\n            this.ctx.fillStyle = this.ctx.createPattern(this.resizeImage(image, imageSize), 'repeat');\n            this.ctx.translate(offsetX, offsetY);\n            this.ctx.fill();\n            this.ctx.translate(-offsetX, -offsetY);\n        }\n    }, {\n        key: 'renderTextNode',\n        value: function renderTextNode(textBounds, color, font, textDecoration, textShadows) {\n            var _this4 = this;\n\n            this.ctx.font = [font.fontStyle, font.fontVariant, font.fontWeight, font.fontSize, font.fontFamily].join(' ');\n\n            textBounds.forEach(function (text) {\n                _this4.ctx.fillStyle = color.toString();\n                if (textShadows && text.text.trim().length) {\n                    textShadows.slice(0).reverse().forEach(function (textShadow) {\n                        _this4.ctx.shadowColor = textShadow.color.toString();\n                        _this4.ctx.shadowOffsetX = textShadow.offsetX * _this4.options.scale;\n                        _this4.ctx.shadowOffsetY = textShadow.offsetY * _this4.options.scale;\n                        _this4.ctx.shadowBlur = textShadow.blur;\n\n                        _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n                    });\n                } else {\n                    _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n                }\n\n                if (textDecoration !== null) {\n                    var textDecorationColor = textDecoration.textDecorationColor || color;\n                    textDecoration.textDecorationLine.forEach(function (textDecorationLine) {\n                        switch (textDecorationLine) {\n                            case _textDecoration.TEXT_DECORATION_LINE.UNDERLINE:\n                                // Draws a line at the baseline of the font\n                                // TODO As some browsers display the line as more than 1px if the font-size is big,\n                                // need to take that into account both in position and size\n                                var _options$fontMetrics$ = _this4.options.fontMetrics.getMetrics(font),\n                                    baseline = _options$fontMetrics$.baseline;\n\n                                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1, textDecorationColor);\n                                break;\n                            case _textDecoration.TEXT_DECORATION_LINE.OVERLINE:\n                                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1, textDecorationColor);\n                                break;\n                            case _textDecoration.TEXT_DECORATION_LINE.LINE_THROUGH:\n                                // TODO try and find exact position for line-through\n                                var _options$fontMetrics$2 = _this4.options.fontMetrics.getMetrics(font),\n                                    middle = _options$fontMetrics$2.middle;\n\n                                _this4.rectangle(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1, textDecorationColor);\n                                break;\n                        }\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'resizeImage',\n        value: function resizeImage(image, size) {\n            if (image.width === size.width && image.height === size.height) {\n                return image;\n            }\n\n            var canvas = this.canvas.ownerDocument.createElement('canvas');\n            canvas.width = size.width;\n            canvas.height = size.height;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height);\n            return canvas;\n        }\n    }, {\n        key: 'setOpacity',\n        value: function setOpacity(opacity) {\n            this.ctx.globalAlpha = opacity;\n        }\n    }, {\n        key: 'transform',\n        value: function transform(offsetX, offsetY, matrix, callback) {\n            this.ctx.save();\n            this.ctx.translate(offsetX, offsetY);\n            this.ctx.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n            this.ctx.translate(-offsetX, -offsetY);\n\n            callback();\n\n            this.ctx.restore();\n        }\n    }]);\n\n    return CanvasRenderer;\n}();\n\nexports.default = CanvasRenderer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3JlbmRlcmVyL0NhbnZhc1JlbmRlcmVyLmpzP2ZkZDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCOztBQUVBOztBQUVBLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9QYXRoID0gcmVxdWlyZSgnLi4vZHJhd2luZy9QYXRoJyk7XG5cbnZhciBfdGV4dERlY29yYXRpb24gPSByZXF1aXJlKCcuLi9wYXJzaW5nL3RleHREZWNvcmF0aW9uJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBhZGRDb2xvclN0b3BzID0gZnVuY3Rpb24gYWRkQ29sb3JTdG9wcyhncmFkaWVudCwgY2FudmFzR3JhZGllbnQpIHtcbiAgICB2YXIgbWF4U3RvcCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGdyYWRpZW50LmNvbG9yU3RvcHMubWFwKGZ1bmN0aW9uIChjb2xvclN0b3ApIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yU3RvcC5zdG9wO1xuICAgIH0pKTtcbiAgICB2YXIgZiA9IDEgLyBNYXRoLm1heCgxLCBtYXhTdG9wKTtcbiAgICBncmFkaWVudC5jb2xvclN0b3BzLmZvckVhY2goZnVuY3Rpb24gKGNvbG9yU3RvcCkge1xuICAgICAgICBjYW52YXNHcmFkaWVudC5hZGRDb2xvclN0b3AoZiAqIGNvbG9yU3RvcC5zdG9wLCBjb2xvclN0b3AuY29sb3IudG9TdHJpbmcoKSk7XG4gICAgfSk7XG59O1xuXG52YXIgQ2FudmFzUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyZXIoY2FudmFzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXMgPyBjYW52YXMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2FudmFzUmVuZGVyZXIsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihvcHRpb25zLndpZHRoICogb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IG9wdGlvbnMud2lkdGggKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyAncHgnO1xuXG4gICAgICAgICAgICB0aGlzLmN0eC5zY2FsZSh0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLW9wdGlvbnMueCwgLW9wdGlvbnMueSk7XG4gICAgICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcbiAgICAgICAgICAgIG9wdGlvbnMubG9nZ2VyLmxvZygnQ2FudmFzIHJlbmRlcmVyIGluaXRpYWxpemVkICgnICsgb3B0aW9ucy53aWR0aCArICd4JyArIG9wdGlvbnMuaGVpZ2h0ICsgJyBhdCAnICsgb3B0aW9ucy54ICsgJywnICsgb3B0aW9ucy55ICsgJykgd2l0aCBzY2FsZSAnICsgdGhpcy5vcHRpb25zLnNjYWxlKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY2xpcCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGlwKGNsaXBQYXRocywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChjbGlwUGF0aHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgIGNsaXBQYXRocy5mb3JFYWNoKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhdGgocGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5jbGlwKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG5cbiAgICAgICAgICAgIGlmIChjbGlwUGF0aHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcmF3SW1hZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd0ltYWdlKGltYWdlLCBzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHNvdXJjZS5sZWZ0LCBzb3VyY2UudG9wLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIGRlc3RpbmF0aW9uLmxlZnQsIGRlc3RpbmF0aW9uLnRvcCwgZGVzdGluYXRpb24ud2lkdGgsIGRlc3RpbmF0aW9uLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2RyYXdTaGFwZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3U2hhcGUocGF0aCwgY29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMucGF0aChwYXRoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGNvbG9yLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZpbGwnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmlsbChjb2xvcikge1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3IudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0VGFyZ2V0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJykuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNhbnZhcyk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhdGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcGF0aChfcGF0aCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3BhdGgpKSB7XG4gICAgICAgICAgICAgICAgX3BhdGguZm9yRWFjaChmdW5jdGlvbiAocG9pbnQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHBvaW50LnR5cGUgPT09IF9QYXRoLlBBVEguVkVDVE9SID8gcG9pbnQgOiBwb2ludC5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY3R4Lm1vdmVUbyhzdGFydC54LCBzdGFydC55KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jdHgubGluZVRvKHN0YXJ0LngsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50LnR5cGUgPT09IF9QYXRoLlBBVEguQkVaSUVSX0NVUlZFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY3R4LmJlemllckN1cnZlVG8ocG9pbnQuc3RhcnRDb250cm9sLngsIHBvaW50LnN0YXJ0Q29udHJvbC55LCBwb2ludC5lbmRDb250cm9sLngsIHBvaW50LmVuZENvbnRyb2wueSwgcG9pbnQuZW5kLngsIHBvaW50LmVuZC55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5hcmMoX3BhdGgueCArIF9wYXRoLnJhZGl1cywgX3BhdGgueSArIF9wYXRoLnJhZGl1cywgX3BhdGgucmFkaXVzLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZWN0YW5nbGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBjb2xvci50b1N0cmluZygpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlckxpbmVhckdyYWRpZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxpbmVhckdyYWRpZW50KGJvdW5kcywgZ3JhZGllbnQpIHtcbiAgICAgICAgICAgIHZhciBsaW5lYXJHcmFkaWVudCA9IHRoaXMuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGJvdW5kcy5sZWZ0ICsgZ3JhZGllbnQuZGlyZWN0aW9uLngxLCBib3VuZHMudG9wICsgZ3JhZGllbnQuZGlyZWN0aW9uLnkxLCBib3VuZHMubGVmdCArIGdyYWRpZW50LmRpcmVjdGlvbi54MCwgYm91bmRzLnRvcCArIGdyYWRpZW50LmRpcmVjdGlvbi55MCk7XG5cbiAgICAgICAgICAgIGFkZENvbG9yU3RvcHMoZ3JhZGllbnQsIGxpbmVhckdyYWRpZW50KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGxpbmVhckdyYWRpZW50O1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlclJhZGlhbEdyYWRpZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclJhZGlhbEdyYWRpZW50KGJvdW5kcywgZ3JhZGllbnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgeCA9IGJvdW5kcy5sZWZ0ICsgZ3JhZGllbnQuY2VudGVyLng7XG4gICAgICAgICAgICB2YXIgeSA9IGJvdW5kcy50b3AgKyBncmFkaWVudC5jZW50ZXIueTtcblxuICAgICAgICAgICAgdmFyIHJhZGlhbEdyYWRpZW50ID0gdGhpcy5jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoeCwgeSwgMCwgeCwgeSwgZ3JhZGllbnQucmFkaXVzLngpO1xuICAgICAgICAgICAgaWYgKCFyYWRpYWxHcmFkaWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkQ29sb3JTdG9wcyhncmFkaWVudCwgcmFkaWFsR3JhZGllbnQpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gcmFkaWFsR3JhZGllbnQ7XG5cbiAgICAgICAgICAgIGlmIChncmFkaWVudC5yYWRpdXMueCAhPT0gZ3JhZGllbnQucmFkaXVzLnkpIHtcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm1zIGZvciBlbGxpcHRpY2FsIHJhZGlhbCBncmFkaWVudFxuICAgICAgICAgICAgICAgIHZhciBtaWRYID0gYm91bmRzLmxlZnQgKyAwLjUgKiBib3VuZHMud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIG1pZFkgPSBib3VuZHMudG9wICsgMC41ICogYm91bmRzLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgZiA9IGdyYWRpZW50LnJhZGl1cy55IC8gZ3JhZGllbnQucmFkaXVzLng7XG4gICAgICAgICAgICAgICAgdmFyIGludkYgPSAxIC8gZjtcblxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKG1pZFgsIG1pZFksIFsxLCAwLCAwLCBmLCAwLCAwXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmN0eC5maWxsUmVjdChib3VuZHMubGVmdCwgaW52RiAqIChib3VuZHMudG9wIC0gbWlkWSkgKyBtaWRZLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgKiBpbnZGKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlclJlcGVhdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJSZXBlYXQocGF0aCwgaW1hZ2UsIGltYWdlU2l6ZSwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgICAgICAgICAgdGhpcy5wYXRoKHBhdGgpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5jdHguY3JlYXRlUGF0dGVybih0aGlzLnJlc2l6ZUltYWdlKGltYWdlLCBpbWFnZVNpemUpLCAncmVwZWF0Jyk7XG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyVGV4dE5vZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyVGV4dE5vZGUodGV4dEJvdW5kcywgY29sb3IsIGZvbnQsIHRleHREZWNvcmF0aW9uLCB0ZXh0U2hhZG93cykge1xuICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSBbZm9udC5mb250U3R5bGUsIGZvbnQuZm9udFZhcmlhbnQsIGZvbnQuZm9udFdlaWdodCwgZm9udC5mb250U2l6ZSwgZm9udC5mb250RmFtaWx5XS5qb2luKCcgJyk7XG5cbiAgICAgICAgICAgIHRleHRCb3VuZHMuZm9yRWFjaChmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgICAgIF90aGlzNC5jdHguZmlsbFN0eWxlID0gY29sb3IudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFNoYWRvd3MgJiYgdGV4dC50ZXh0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFNoYWRvd3Muc2xpY2UoMCkucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKHRleHRTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5jdHguc2hhZG93Q29sb3IgPSB0ZXh0U2hhZG93LmNvbG9yLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuY3R4LnNoYWRvd09mZnNldFggPSB0ZXh0U2hhZG93Lm9mZnNldFggKiBfdGhpczQub3B0aW9ucy5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5jdHguc2hhZG93T2Zmc2V0WSA9IHRleHRTaGFkb3cub2Zmc2V0WSAqIF90aGlzNC5vcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmN0eC5zaGFkb3dCbHVyID0gdGV4dFNoYWRvdy5ibHVyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuY3R4LmZpbGxUZXh0KHRleHQudGV4dCwgdGV4dC5ib3VuZHMubGVmdCwgdGV4dC5ib3VuZHMudG9wICsgdGV4dC5ib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmN0eC5maWxsVGV4dCh0ZXh0LnRleHQsIHRleHQuYm91bmRzLmxlZnQsIHRleHQuYm91bmRzLnRvcCArIHRleHQuYm91bmRzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRleHREZWNvcmF0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0RGVjb3JhdGlvbkNvbG9yID0gdGV4dERlY29yYXRpb24udGV4dERlY29yYXRpb25Db2xvciB8fCBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb24udGV4dERlY29yYXRpb25MaW5lLmZvckVhY2goZnVuY3Rpb24gKHRleHREZWNvcmF0aW9uTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0ZXh0RGVjb3JhdGlvbkxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIF90ZXh0RGVjb3JhdGlvbi5URVhUX0RFQ09SQVRJT05fTElORS5VTkRFUkxJTkU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERyYXdzIGEgbGluZSBhdCB0aGUgYmFzZWxpbmUgb2YgdGhlIGZvbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBBcyBzb21lIGJyb3dzZXJzIGRpc3BsYXkgdGhlIGxpbmUgYXMgbW9yZSB0aGFuIDFweCBpZiB0aGUgZm9udC1zaXplIGlzIGJpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50IGJvdGggaW4gcG9zaXRpb24gYW5kIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9vcHRpb25zJGZvbnRNZXRyaWNzJCA9IF90aGlzNC5vcHRpb25zLmZvbnRNZXRyaWNzLmdldE1ldHJpY3MoZm9udCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlbGluZSA9IF9vcHRpb25zJGZvbnRNZXRyaWNzJC5iYXNlbGluZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucmVjdGFuZ2xlKHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wICsgYmFzZWxpbmUpLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSwgdGV4dERlY29yYXRpb25Db2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgX3RleHREZWNvcmF0aW9uLlRFWFRfREVDT1JBVElPTl9MSU5FLk9WRVJMSU5FOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucmVjdGFuZ2xlKHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wKSwgdGV4dC5ib3VuZHMud2lkdGgsIDEsIHRleHREZWNvcmF0aW9uQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIF90ZXh0RGVjb3JhdGlvbi5URVhUX0RFQ09SQVRJT05fTElORS5MSU5FX1RIUk9VR0g6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gdHJ5IGFuZCBmaW5kIGV4YWN0IHBvc2l0aW9uIGZvciBsaW5lLXRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9vcHRpb25zJGZvbnRNZXRyaWNzJDIgPSBfdGhpczQub3B0aW9ucy5mb250TWV0cmljcy5nZXRNZXRyaWNzKGZvbnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkZGxlID0gX29wdGlvbnMkZm9udE1ldHJpY3MkMi5taWRkbGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnJlY3RhbmdsZSh0ZXh0LmJvdW5kcy5sZWZ0LCBNYXRoLmNlaWwodGV4dC5ib3VuZHMudG9wICsgbWlkZGxlKSwgdGV4dC5ib3VuZHMud2lkdGgsIDEsIHRleHREZWNvcmF0aW9uQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Jlc2l6ZUltYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZUltYWdlKGltYWdlLCBzaXplKSB7XG4gICAgICAgICAgICBpZiAoaW1hZ2Uud2lkdGggPT09IHNpemUud2lkdGggJiYgaW1hZ2UuaGVpZ2h0ID09PSBzaXplLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCwgMCwgMCwgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0T3BhY2l0eScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcGFjaXR5KG9wYWNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHJhbnNmb3JtJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zZm9ybShvZmZzZXRYLCBvZmZzZXRZLCBtYXRyaXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2Zvcm0obWF0cml4WzBdLCBtYXRyaXhbMV0sIG1hdHJpeFsyXSwgbWF0cml4WzNdLCBtYXRyaXhbNF0sIG1hdHJpeFs1XSk7XG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcblxuICAgICAgICAgICAgY2FsbGJhY2soKTtcblxuICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENhbnZhc1JlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNSZW5kZXJlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcmVuZGVyZXIvQ2FudmFzUmVuZGVyZXIuanNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 51 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar PATH = exports.PATH = {\n    VECTOR: 0,\n    BEZIER_CURVE: 1,\n    CIRCLE: 2\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvUGF0aC5qcz84YzMxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI1MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIFBBVEggPSBleHBvcnRzLlBBVEggPSB7XG4gICAgVkVDVE9SOiAwLFxuICAgIEJFWklFUl9DVVJWRTogMSxcbiAgICBDSVJDTEU6IDJcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvUGF0aC5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTextDecoration = exports.TEXT_DECORATION_LINE = exports.TEXT_DECORATION = exports.TEXT_DECORATION_STYLE = undefined;\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TEXT_DECORATION_STYLE = exports.TEXT_DECORATION_STYLE = {\n    SOLID: 0,\n    DOUBLE: 1,\n    DOTTED: 2,\n    DASHED: 3,\n    WAVY: 4\n};\n\nvar TEXT_DECORATION = exports.TEXT_DECORATION = {\n    NONE: null\n};\n\nvar TEXT_DECORATION_LINE = exports.TEXT_DECORATION_LINE = {\n    UNDERLINE: 1,\n    OVERLINE: 2,\n    LINE_THROUGH: 3,\n    BLINK: 4\n};\n\nvar parseLine = function parseLine(line) {\n    switch (line) {\n        case 'underline':\n            return TEXT_DECORATION_LINE.UNDERLINE;\n        case 'overline':\n            return TEXT_DECORATION_LINE.OVERLINE;\n        case 'line-through':\n            return TEXT_DECORATION_LINE.LINE_THROUGH;\n    }\n    return TEXT_DECORATION_LINE.BLINK;\n};\n\nvar parseTextDecorationLine = function parseTextDecorationLine(line) {\n    if (line === 'none') {\n        return null;\n    }\n\n    return line.split(' ').map(parseLine);\n};\n\nvar parseTextDecorationStyle = function parseTextDecorationStyle(style) {\n    switch (style) {\n        case 'double':\n            return TEXT_DECORATION_STYLE.DOUBLE;\n        case 'dotted':\n            return TEXT_DECORATION_STYLE.DOTTED;\n        case 'dashed':\n            return TEXT_DECORATION_STYLE.DASHED;\n        case 'wavy':\n            return TEXT_DECORATION_STYLE.WAVY;\n    }\n    return TEXT_DECORATION_STYLE.SOLID;\n};\n\nvar parseTextDecoration = exports.parseTextDecoration = function parseTextDecoration(style) {\n    var textDecorationLine = parseTextDecorationLine(style.textDecorationLine ? style.textDecorationLine : style.textDecoration);\n    if (textDecorationLine === null) {\n        return TEXT_DECORATION.NONE;\n    }\n\n    var textDecorationColor = style.textDecorationColor ? new _Color2.default(style.textDecorationColor) : null;\n    var textDecorationStyle = parseTextDecorationStyle(style.textDecorationStyle);\n\n    return {\n        textDecorationLine: textDecorationLine,\n        textDecorationColor: textDecorationColor,\n        textDecorationStyle: textDecorationStyle\n    };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvdGV4dERlY29yYXRpb24uanM/Njg3OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnBhcnNlVGV4dERlY29yYXRpb24gPSBleHBvcnRzLlRFWFRfREVDT1JBVElPTl9MSU5FID0gZXhwb3J0cy5URVhUX0RFQ09SQVRJT04gPSBleHBvcnRzLlRFWFRfREVDT1JBVElPTl9TVFlMRSA9IHVuZGVmaW5lZDtcblxudmFyIF9Db2xvciA9IHJlcXVpcmUoJy4uL0NvbG9yJyk7XG5cbnZhciBfQ29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVEVYVF9ERUNPUkFUSU9OX1NUWUxFID0gZXhwb3J0cy5URVhUX0RFQ09SQVRJT05fU1RZTEUgPSB7XG4gICAgU09MSUQ6IDAsXG4gICAgRE9VQkxFOiAxLFxuICAgIERPVFRFRDogMixcbiAgICBEQVNIRUQ6IDMsXG4gICAgV0FWWTogNFxufTtcblxudmFyIFRFWFRfREVDT1JBVElPTiA9IGV4cG9ydHMuVEVYVF9ERUNPUkFUSU9OID0ge1xuICAgIE5PTkU6IG51bGxcbn07XG5cbnZhciBURVhUX0RFQ09SQVRJT05fTElORSA9IGV4cG9ydHMuVEVYVF9ERUNPUkFUSU9OX0xJTkUgPSB7XG4gICAgVU5ERVJMSU5FOiAxLFxuICAgIE9WRVJMSU5FOiAyLFxuICAgIExJTkVfVEhST1VHSDogMyxcbiAgICBCTElOSzogNFxufTtcblxudmFyIHBhcnNlTGluZSA9IGZ1bmN0aW9uIHBhcnNlTGluZShsaW5lKSB7XG4gICAgc3dpdGNoIChsaW5lKSB7XG4gICAgICAgIGNhc2UgJ3VuZGVybGluZSc6XG4gICAgICAgICAgICByZXR1cm4gVEVYVF9ERUNPUkFUSU9OX0xJTkUuVU5ERVJMSU5FO1xuICAgICAgICBjYXNlICdvdmVybGluZSc6XG4gICAgICAgICAgICByZXR1cm4gVEVYVF9ERUNPUkFUSU9OX0xJTkUuT1ZFUkxJTkU7XG4gICAgICAgIGNhc2UgJ2xpbmUtdGhyb3VnaCc6XG4gICAgICAgICAgICByZXR1cm4gVEVYVF9ERUNPUkFUSU9OX0xJTkUuTElORV9USFJPVUdIO1xuICAgIH1cbiAgICByZXR1cm4gVEVYVF9ERUNPUkFUSU9OX0xJTkUuQkxJTks7XG59O1xuXG52YXIgcGFyc2VUZXh0RGVjb3JhdGlvbkxpbmUgPSBmdW5jdGlvbiBwYXJzZVRleHREZWNvcmF0aW9uTGluZShsaW5lKSB7XG4gICAgaWYgKGxpbmUgPT09ICdub25lJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGluZS5zcGxpdCgnICcpLm1hcChwYXJzZUxpbmUpO1xufTtcblxudmFyIHBhcnNlVGV4dERlY29yYXRpb25TdHlsZSA9IGZ1bmN0aW9uIHBhcnNlVGV4dERlY29yYXRpb25TdHlsZShzdHlsZSkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgICAgY2FzZSAnZG91YmxlJzpcbiAgICAgICAgICAgIHJldHVybiBURVhUX0RFQ09SQVRJT05fU1RZTEUuRE9VQkxFO1xuICAgICAgICBjYXNlICdkb3R0ZWQnOlxuICAgICAgICAgICAgcmV0dXJuIFRFWFRfREVDT1JBVElPTl9TVFlMRS5ET1RURUQ7XG4gICAgICAgIGNhc2UgJ2Rhc2hlZCc6XG4gICAgICAgICAgICByZXR1cm4gVEVYVF9ERUNPUkFUSU9OX1NUWUxFLkRBU0hFRDtcbiAgICAgICAgY2FzZSAnd2F2eSc6XG4gICAgICAgICAgICByZXR1cm4gVEVYVF9ERUNPUkFUSU9OX1NUWUxFLldBVlk7XG4gICAgfVxuICAgIHJldHVybiBURVhUX0RFQ09SQVRJT05fU1RZTEUuU09MSUQ7XG59O1xuXG52YXIgcGFyc2VUZXh0RGVjb3JhdGlvbiA9IGV4cG9ydHMucGFyc2VUZXh0RGVjb3JhdGlvbiA9IGZ1bmN0aW9uIHBhcnNlVGV4dERlY29yYXRpb24oc3R5bGUpIHtcbiAgICB2YXIgdGV4dERlY29yYXRpb25MaW5lID0gcGFyc2VUZXh0RGVjb3JhdGlvbkxpbmUoc3R5bGUudGV4dERlY29yYXRpb25MaW5lID8gc3R5bGUudGV4dERlY29yYXRpb25MaW5lIDogc3R5bGUudGV4dERlY29yYXRpb24pO1xuICAgIGlmICh0ZXh0RGVjb3JhdGlvbkxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFRFWFRfREVDT1JBVElPTi5OT05FO1xuICAgIH1cblxuICAgIHZhciB0ZXh0RGVjb3JhdGlvbkNvbG9yID0gc3R5bGUudGV4dERlY29yYXRpb25Db2xvciA/IG5ldyBfQ29sb3IyLmRlZmF1bHQoc3R5bGUudGV4dERlY29yYXRpb25Db2xvcikgOiBudWxsO1xuICAgIHZhciB0ZXh0RGVjb3JhdGlvblN0eWxlID0gcGFyc2VUZXh0RGVjb3JhdGlvblN0eWxlKHN0eWxlLnRleHREZWNvcmF0aW9uU3R5bGUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dERlY29yYXRpb25MaW5lOiB0ZXh0RGVjb3JhdGlvbkxpbmUsXG4gICAgICAgIHRleHREZWNvcmF0aW9uQ29sb3I6IHRleHREZWNvcmF0aW9uQ29sb3IsXG4gICAgICAgIHRleHREZWNvcmF0aW9uU3R5bGU6IHRleHREZWNvcmF0aW9uU3R5bGVcbiAgICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy90ZXh0RGVjb3JhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 53 */
/***/ (function(module, exports) {

	eval("'use strict';\n\n// http://dev.w3.org/csswg/css-color/\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HEX3 = /^#([a-f0-9]{3})$/i;\nvar hex3 = function hex3(value) {\n    var match = value.match(HEX3);\n    if (match) {\n        return [parseInt(match[1][0] + match[1][0], 16), parseInt(match[1][1] + match[1][1], 16), parseInt(match[1][2] + match[1][2], 16), null];\n    }\n    return false;\n};\n\nvar HEX6 = /^#([a-f0-9]{6})$/i;\nvar hex6 = function hex6(value) {\n    var match = value.match(HEX6);\n    if (match) {\n        return [parseInt(match[1].substring(0, 2), 16), parseInt(match[1].substring(2, 4), 16), parseInt(match[1].substring(4, 6), 16), null];\n    }\n    return false;\n};\n\nvar RGB = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\nvar rgb = function rgb(value) {\n    var match = value.match(RGB);\n    if (match) {\n        return [Number(match[1]), Number(match[2]), Number(match[3]), null];\n    }\n    return false;\n};\n\nvar RGBA = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\nvar rgba = function rgba(value) {\n    var match = value.match(RGBA);\n    if (match && match.length > 4) {\n        return [Number(match[1]), Number(match[2]), Number(match[3]), Number(match[4])];\n    }\n    return false;\n};\n\nvar fromArray = function fromArray(array) {\n    return [Math.min(array[0], 255), Math.min(array[1], 255), Math.min(array[2], 255), array.length > 3 ? array[3] : null];\n};\n\nvar namedColor = function namedColor(name) {\n    var color = NAMED_COLORS[name.toLowerCase()];\n    return color ? color : false;\n};\n\nvar Color = function () {\n    function Color(value) {\n        _classCallCheck(this, Color);\n\n        var _ref = Array.isArray(value) ? fromArray(value) : hex3(value) || rgb(value) || rgba(value) || namedColor(value) || hex6(value) || [0, 0, 0, null],\n            _ref2 = _slicedToArray(_ref, 4),\n            r = _ref2[0],\n            g = _ref2[1],\n            b = _ref2[2],\n            a = _ref2[3];\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n\n    _createClass(Color, [{\n        key: 'isTransparent',\n        value: function isTransparent() {\n            return this.a === 0;\n        }\n    }, {\n        key: 'toString',\n        value: function toString() {\n            return this.a !== null && this.a !== 1 ? 'rgba(' + this.r + ',' + this.g + ',' + this.b + ',' + this.a + ')' : 'rgb(' + this.r + ',' + this.g + ',' + this.b + ')';\n        }\n    }]);\n\n    return Color;\n}();\n\nexports.default = Color;\n\n\nvar NAMED_COLORS = {\n    transparent: [0, 0, 0, 0],\n    aliceblue: [240, 248, 255, null],\n    antiquewhite: [250, 235, 215, null],\n    aqua: [0, 255, 255, null],\n    aquamarine: [127, 255, 212, null],\n    azure: [240, 255, 255, null],\n    beige: [245, 245, 220, null],\n    bisque: [255, 228, 196, null],\n    black: [0, 0, 0, null],\n    blanchedalmond: [255, 235, 205, null],\n    blue: [0, 0, 255, null],\n    blueviolet: [138, 43, 226, null],\n    brown: [165, 42, 42, null],\n    burlywood: [222, 184, 135, null],\n    cadetblue: [95, 158, 160, null],\n    chartreuse: [127, 255, 0, null],\n    chocolate: [210, 105, 30, null],\n    coral: [255, 127, 80, null],\n    cornflowerblue: [100, 149, 237, null],\n    cornsilk: [255, 248, 220, null],\n    crimson: [220, 20, 60, null],\n    cyan: [0, 255, 255, null],\n    darkblue: [0, 0, 139, null],\n    darkcyan: [0, 139, 139, null],\n    darkgoldenrod: [184, 134, 11, null],\n    darkgray: [169, 169, 169, null],\n    darkgreen: [0, 100, 0, null],\n    darkgrey: [169, 169, 169, null],\n    darkkhaki: [189, 183, 107, null],\n    darkmagenta: [139, 0, 139, null],\n    darkolivegreen: [85, 107, 47, null],\n    darkorange: [255, 140, 0, null],\n    darkorchid: [153, 50, 204, null],\n    darkred: [139, 0, 0, null],\n    darksalmon: [233, 150, 122, null],\n    darkseagreen: [143, 188, 143, null],\n    darkslateblue: [72, 61, 139, null],\n    darkslategray: [47, 79, 79, null],\n    darkslategrey: [47, 79, 79, null],\n    darkturquoise: [0, 206, 209, null],\n    darkviolet: [148, 0, 211, null],\n    deeppink: [255, 20, 147, null],\n    deepskyblue: [0, 191, 255, null],\n    dimgray: [105, 105, 105, null],\n    dimgrey: [105, 105, 105, null],\n    dodgerblue: [30, 144, 255, null],\n    firebrick: [178, 34, 34, null],\n    floralwhite: [255, 250, 240, null],\n    forestgreen: [34, 139, 34, null],\n    fuchsia: [255, 0, 255, null],\n    gainsboro: [220, 220, 220, null],\n    ghostwhite: [248, 248, 255, null],\n    gold: [255, 215, 0, null],\n    goldenrod: [218, 165, 32, null],\n    gray: [128, 128, 128, null],\n    green: [0, 128, 0, null],\n    greenyellow: [173, 255, 47, null],\n    grey: [128, 128, 128, null],\n    honeydew: [240, 255, 240, null],\n    hotpink: [255, 105, 180, null],\n    indianred: [205, 92, 92, null],\n    indigo: [75, 0, 130, null],\n    ivory: [255, 255, 240, null],\n    khaki: [240, 230, 140, null],\n    lavender: [230, 230, 250, null],\n    lavenderblush: [255, 240, 245, null],\n    lawngreen: [124, 252, 0, null],\n    lemonchiffon: [255, 250, 205, null],\n    lightblue: [173, 216, 230, null],\n    lightcoral: [240, 128, 128, null],\n    lightcyan: [224, 255, 255, null],\n    lightgoldenrodyellow: [250, 250, 210, null],\n    lightgray: [211, 211, 211, null],\n    lightgreen: [144, 238, 144, null],\n    lightgrey: [211, 211, 211, null],\n    lightpink: [255, 182, 193, null],\n    lightsalmon: [255, 160, 122, null],\n    lightseagreen: [32, 178, 170, null],\n    lightskyblue: [135, 206, 250, null],\n    lightslategray: [119, 136, 153, null],\n    lightslategrey: [119, 136, 153, null],\n    lightsteelblue: [176, 196, 222, null],\n    lightyellow: [255, 255, 224, null],\n    lime: [0, 255, 0, null],\n    limegreen: [50, 205, 50, null],\n    linen: [250, 240, 230, null],\n    magenta: [255, 0, 255, null],\n    maroon: [128, 0, 0, null],\n    mediumaquamarine: [102, 205, 170, null],\n    mediumblue: [0, 0, 205, null],\n    mediumorchid: [186, 85, 211, null],\n    mediumpurple: [147, 112, 219, null],\n    mediumseagreen: [60, 179, 113, null],\n    mediumslateblue: [123, 104, 238, null],\n    mediumspringgreen: [0, 250, 154, null],\n    mediumturquoise: [72, 209, 204, null],\n    mediumvioletred: [199, 21, 133, null],\n    midnightblue: [25, 25, 112, null],\n    mintcream: [245, 255, 250, null],\n    mistyrose: [255, 228, 225, null],\n    moccasin: [255, 228, 181, null],\n    navajowhite: [255, 222, 173, null],\n    navy: [0, 0, 128, null],\n    oldlace: [253, 245, 230, null],\n    olive: [128, 128, 0, null],\n    olivedrab: [107, 142, 35, null],\n    orange: [255, 165, 0, null],\n    orangered: [255, 69, 0, null],\n    orchid: [218, 112, 214, null],\n    palegoldenrod: [238, 232, 170, null],\n    palegreen: [152, 251, 152, null],\n    paleturquoise: [175, 238, 238, null],\n    palevioletred: [219, 112, 147, null],\n    papayawhip: [255, 239, 213, null],\n    peachpuff: [255, 218, 185, null],\n    peru: [205, 133, 63, null],\n    pink: [255, 192, 203, null],\n    plum: [221, 160, 221, null],\n    powderblue: [176, 224, 230, null],\n    purple: [128, 0, 128, null],\n    rebeccapurple: [102, 51, 153, null],\n    red: [255, 0, 0, null],\n    rosybrown: [188, 143, 143, null],\n    royalblue: [65, 105, 225, null],\n    saddlebrown: [139, 69, 19, null],\n    salmon: [250, 128, 114, null],\n    sandybrown: [244, 164, 96, null],\n    seagreen: [46, 139, 87, null],\n    seashell: [255, 245, 238, null],\n    sienna: [160, 82, 45, null],\n    silver: [192, 192, 192, null],\n    skyblue: [135, 206, 235, null],\n    slateblue: [106, 90, 205, null],\n    slategray: [112, 128, 144, null],\n    slategrey: [112, 128, 144, null],\n    snow: [255, 250, 250, null],\n    springgreen: [0, 255, 127, null],\n    steelblue: [70, 130, 180, null],\n    tan: [210, 180, 140, null],\n    teal: [0, 128, 128, null],\n    thistle: [216, 191, 216, null],\n    tomato: [255, 99, 71, null],\n    turquoise: [64, 224, 208, null],\n    violet: [238, 130, 238, null],\n    wheat: [245, 222, 179, null],\n    white: [255, 255, 255, null],\n    whitesmoke: [245, 245, 245, null],\n    yellow: [255, 255, 0, null],\n    yellowgreen: [154, 205, 50, null]\n};\n\nvar TRANSPARENT = exports.TRANSPARENT = new Color([0, 0, 0, 0]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0NvbG9yLmpzPzgyNTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQsa0NBQWtDLGlDQUFpQyxlQUFlLGVBQWUsZ0JBQWdCLG9CQUFvQixNQUFNLDBDQUEwQywrQkFBK0IsYUFBYSxxQkFBcUIsbUNBQW1DLEVBQUUsRUFBRSxjQUFjLFdBQVcsVUFBVSxFQUFFLFVBQVUsTUFBTSx5Q0FBeUMsRUFBRSxVQUFVLGtCQUFrQixFQUFFLEVBQUUsYUFBYSxFQUFFLDJCQUEyQiwwQkFBMEIsWUFBWSxFQUFFLDJDQUEyQyw4QkFBOEIsRUFBRSxPQUFPLDZFQUE2RSxFQUFFLEdBQUcsRUFBRTs7QUFFcnBCLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2Six3QkFBd0IsRUFBRTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IsRUFBRTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IsSUFBSSxZQUFZLElBQUksWUFBWSxJQUFJO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQixJQUFJLFlBQVksSUFBSSxZQUFZLElBQUk7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjUzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtY29sb3IvXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgSEVYMyA9IC9eIyhbYS1mMC05XXszfSkkL2k7XG52YXIgaGV4MyA9IGZ1bmN0aW9uIGhleDModmFsdWUpIHtcbiAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChIRVgzKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIFtwYXJzZUludChtYXRjaFsxXVswXSArIG1hdGNoWzFdWzBdLCAxNiksIHBhcnNlSW50KG1hdGNoWzFdWzFdICsgbWF0Y2hbMV1bMV0sIDE2KSwgcGFyc2VJbnQobWF0Y2hbMV1bMl0gKyBtYXRjaFsxXVsyXSwgMTYpLCBudWxsXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIEhFWDYgPSAvXiMoW2EtZjAtOV17Nn0pJC9pO1xudmFyIGhleDYgPSBmdW5jdGlvbiBoZXg2KHZhbHVlKSB7XG4gICAgdmFyIG1hdGNoID0gdmFsdWUubWF0Y2goSEVYNik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBbcGFyc2VJbnQobWF0Y2hbMV0uc3Vic3RyaW5nKDAsIDIpLCAxNiksIHBhcnNlSW50KG1hdGNoWzFdLnN1YnN0cmluZygyLCA0KSwgMTYpLCBwYXJzZUludChtYXRjaFsxXS5zdWJzdHJpbmcoNCwgNiksIDE2KSwgbnVsbF07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbnZhciBSR0IgPSAvXnJnYlxcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqXFwpJC87XG52YXIgcmdiID0gZnVuY3Rpb24gcmdiKHZhbHVlKSB7XG4gICAgdmFyIG1hdGNoID0gdmFsdWUubWF0Y2goUkdCKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIFtOdW1iZXIobWF0Y2hbMV0pLCBOdW1iZXIobWF0Y2hbMl0pLCBOdW1iZXIobWF0Y2hbM10pLCBudWxsXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIFJHQkEgPSAvXnJnYmFcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZD9cXC4/XFxkKylcXHMqXFwpJC87XG52YXIgcmdiYSA9IGZ1bmN0aW9uIHJnYmEodmFsdWUpIHtcbiAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChSR0JBKTtcbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gNCkge1xuICAgICAgICByZXR1cm4gW051bWJlcihtYXRjaFsxXSksIE51bWJlcihtYXRjaFsyXSksIE51bWJlcihtYXRjaFszXSksIE51bWJlcihtYXRjaFs0XSldO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgZnJvbUFycmF5ID0gZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KSB7XG4gICAgcmV0dXJuIFtNYXRoLm1pbihhcnJheVswXSwgMjU1KSwgTWF0aC5taW4oYXJyYXlbMV0sIDI1NSksIE1hdGgubWluKGFycmF5WzJdLCAyNTUpLCBhcnJheS5sZW5ndGggPiAzID8gYXJyYXlbM10gOiBudWxsXTtcbn07XG5cbnZhciBuYW1lZENvbG9yID0gZnVuY3Rpb24gbmFtZWRDb2xvcihuYW1lKSB7XG4gICAgdmFyIGNvbG9yID0gTkFNRURfQ09MT1JTW25hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgcmV0dXJuIGNvbG9yID8gY29sb3IgOiBmYWxzZTtcbn07XG5cbnZhciBDb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb2xvcih2YWx1ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3IpO1xuXG4gICAgICAgIHZhciBfcmVmID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBmcm9tQXJyYXkodmFsdWUpIDogaGV4Myh2YWx1ZSkgfHwgcmdiKHZhbHVlKSB8fCByZ2JhKHZhbHVlKSB8fCBuYW1lZENvbG9yKHZhbHVlKSB8fCBoZXg2KHZhbHVlKSB8fCBbMCwgMCwgMCwgbnVsbF0sXG4gICAgICAgICAgICBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDQpLFxuICAgICAgICAgICAgciA9IF9yZWYyWzBdLFxuICAgICAgICAgICAgZyA9IF9yZWYyWzFdLFxuICAgICAgICAgICAgYiA9IF9yZWYyWzJdLFxuICAgICAgICAgICAgYSA9IF9yZWYyWzNdO1xuXG4gICAgICAgIHRoaXMuciA9IHI7XG4gICAgICAgIHRoaXMuZyA9IGc7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbG9yLCBbe1xuICAgICAgICBrZXk6ICdpc1RyYW5zcGFyZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVHJhbnNwYXJlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hID09PSAwO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmEgIT09IG51bGwgJiYgdGhpcy5hICE9PSAxID8gJ3JnYmEoJyArIHRoaXMuciArICcsJyArIHRoaXMuZyArICcsJyArIHRoaXMuYiArICcsJyArIHRoaXMuYSArICcpJyA6ICdyZ2IoJyArIHRoaXMuciArICcsJyArIHRoaXMuZyArICcsJyArIHRoaXMuYiArICcpJztcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb2xvcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29sb3I7XG5cblxudmFyIE5BTUVEX0NPTE9SUyA9IHtcbiAgICB0cmFuc3BhcmVudDogWzAsIDAsIDAsIDBdLFxuICAgIGFsaWNlYmx1ZTogWzI0MCwgMjQ4LCAyNTUsIG51bGxdLFxuICAgIGFudGlxdWV3aGl0ZTogWzI1MCwgMjM1LCAyMTUsIG51bGxdLFxuICAgIGFxdWE6IFswLCAyNTUsIDI1NSwgbnVsbF0sXG4gICAgYXF1YW1hcmluZTogWzEyNywgMjU1LCAyMTIsIG51bGxdLFxuICAgIGF6dXJlOiBbMjQwLCAyNTUsIDI1NSwgbnVsbF0sXG4gICAgYmVpZ2U6IFsyNDUsIDI0NSwgMjIwLCBudWxsXSxcbiAgICBiaXNxdWU6IFsyNTUsIDIyOCwgMTk2LCBudWxsXSxcbiAgICBibGFjazogWzAsIDAsIDAsIG51bGxdLFxuICAgIGJsYW5jaGVkYWxtb25kOiBbMjU1LCAyMzUsIDIwNSwgbnVsbF0sXG4gICAgYmx1ZTogWzAsIDAsIDI1NSwgbnVsbF0sXG4gICAgYmx1ZXZpb2xldDogWzEzOCwgNDMsIDIyNiwgbnVsbF0sXG4gICAgYnJvd246IFsxNjUsIDQyLCA0MiwgbnVsbF0sXG4gICAgYnVybHl3b29kOiBbMjIyLCAxODQsIDEzNSwgbnVsbF0sXG4gICAgY2FkZXRibHVlOiBbOTUsIDE1OCwgMTYwLCBudWxsXSxcbiAgICBjaGFydHJldXNlOiBbMTI3LCAyNTUsIDAsIG51bGxdLFxuICAgIGNob2NvbGF0ZTogWzIxMCwgMTA1LCAzMCwgbnVsbF0sXG4gICAgY29yYWw6IFsyNTUsIDEyNywgODAsIG51bGxdLFxuICAgIGNvcm5mbG93ZXJibHVlOiBbMTAwLCAxNDksIDIzNywgbnVsbF0sXG4gICAgY29ybnNpbGs6IFsyNTUsIDI0OCwgMjIwLCBudWxsXSxcbiAgICBjcmltc29uOiBbMjIwLCAyMCwgNjAsIG51bGxdLFxuICAgIGN5YW46IFswLCAyNTUsIDI1NSwgbnVsbF0sXG4gICAgZGFya2JsdWU6IFswLCAwLCAxMzksIG51bGxdLFxuICAgIGRhcmtjeWFuOiBbMCwgMTM5LCAxMzksIG51bGxdLFxuICAgIGRhcmtnb2xkZW5yb2Q6IFsxODQsIDEzNCwgMTEsIG51bGxdLFxuICAgIGRhcmtncmF5OiBbMTY5LCAxNjksIDE2OSwgbnVsbF0sXG4gICAgZGFya2dyZWVuOiBbMCwgMTAwLCAwLCBudWxsXSxcbiAgICBkYXJrZ3JleTogWzE2OSwgMTY5LCAxNjksIG51bGxdLFxuICAgIGRhcmtraGFraTogWzE4OSwgMTgzLCAxMDcsIG51bGxdLFxuICAgIGRhcmttYWdlbnRhOiBbMTM5LCAwLCAxMzksIG51bGxdLFxuICAgIGRhcmtvbGl2ZWdyZWVuOiBbODUsIDEwNywgNDcsIG51bGxdLFxuICAgIGRhcmtvcmFuZ2U6IFsyNTUsIDE0MCwgMCwgbnVsbF0sXG4gICAgZGFya29yY2hpZDogWzE1MywgNTAsIDIwNCwgbnVsbF0sXG4gICAgZGFya3JlZDogWzEzOSwgMCwgMCwgbnVsbF0sXG4gICAgZGFya3NhbG1vbjogWzIzMywgMTUwLCAxMjIsIG51bGxdLFxuICAgIGRhcmtzZWFncmVlbjogWzE0MywgMTg4LCAxNDMsIG51bGxdLFxuICAgIGRhcmtzbGF0ZWJsdWU6IFs3MiwgNjEsIDEzOSwgbnVsbF0sXG4gICAgZGFya3NsYXRlZ3JheTogWzQ3LCA3OSwgNzksIG51bGxdLFxuICAgIGRhcmtzbGF0ZWdyZXk6IFs0NywgNzksIDc5LCBudWxsXSxcbiAgICBkYXJrdHVycXVvaXNlOiBbMCwgMjA2LCAyMDksIG51bGxdLFxuICAgIGRhcmt2aW9sZXQ6IFsxNDgsIDAsIDIxMSwgbnVsbF0sXG4gICAgZGVlcHBpbms6IFsyNTUsIDIwLCAxNDcsIG51bGxdLFxuICAgIGRlZXBza3libHVlOiBbMCwgMTkxLCAyNTUsIG51bGxdLFxuICAgIGRpbWdyYXk6IFsxMDUsIDEwNSwgMTA1LCBudWxsXSxcbiAgICBkaW1ncmV5OiBbMTA1LCAxMDUsIDEwNSwgbnVsbF0sXG4gICAgZG9kZ2VyYmx1ZTogWzMwLCAxNDQsIDI1NSwgbnVsbF0sXG4gICAgZmlyZWJyaWNrOiBbMTc4LCAzNCwgMzQsIG51bGxdLFxuICAgIGZsb3JhbHdoaXRlOiBbMjU1LCAyNTAsIDI0MCwgbnVsbF0sXG4gICAgZm9yZXN0Z3JlZW46IFszNCwgMTM5LCAzNCwgbnVsbF0sXG4gICAgZnVjaHNpYTogWzI1NSwgMCwgMjU1LCBudWxsXSxcbiAgICBnYWluc2Jvcm86IFsyMjAsIDIyMCwgMjIwLCBudWxsXSxcbiAgICBnaG9zdHdoaXRlOiBbMjQ4LCAyNDgsIDI1NSwgbnVsbF0sXG4gICAgZ29sZDogWzI1NSwgMjE1LCAwLCBudWxsXSxcbiAgICBnb2xkZW5yb2Q6IFsyMTgsIDE2NSwgMzIsIG51bGxdLFxuICAgIGdyYXk6IFsxMjgsIDEyOCwgMTI4LCBudWxsXSxcbiAgICBncmVlbjogWzAsIDEyOCwgMCwgbnVsbF0sXG4gICAgZ3JlZW55ZWxsb3c6IFsxNzMsIDI1NSwgNDcsIG51bGxdLFxuICAgIGdyZXk6IFsxMjgsIDEyOCwgMTI4LCBudWxsXSxcbiAgICBob25leWRldzogWzI0MCwgMjU1LCAyNDAsIG51bGxdLFxuICAgIGhvdHBpbms6IFsyNTUsIDEwNSwgMTgwLCBudWxsXSxcbiAgICBpbmRpYW5yZWQ6IFsyMDUsIDkyLCA5MiwgbnVsbF0sXG4gICAgaW5kaWdvOiBbNzUsIDAsIDEzMCwgbnVsbF0sXG4gICAgaXZvcnk6IFsyNTUsIDI1NSwgMjQwLCBudWxsXSxcbiAgICBraGFraTogWzI0MCwgMjMwLCAxNDAsIG51bGxdLFxuICAgIGxhdmVuZGVyOiBbMjMwLCAyMzAsIDI1MCwgbnVsbF0sXG4gICAgbGF2ZW5kZXJibHVzaDogWzI1NSwgMjQwLCAyNDUsIG51bGxdLFxuICAgIGxhd25ncmVlbjogWzEyNCwgMjUyLCAwLCBudWxsXSxcbiAgICBsZW1vbmNoaWZmb246IFsyNTUsIDI1MCwgMjA1LCBudWxsXSxcbiAgICBsaWdodGJsdWU6IFsxNzMsIDIxNiwgMjMwLCBudWxsXSxcbiAgICBsaWdodGNvcmFsOiBbMjQwLCAxMjgsIDEyOCwgbnVsbF0sXG4gICAgbGlnaHRjeWFuOiBbMjI0LCAyNTUsIDI1NSwgbnVsbF0sXG4gICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IFsyNTAsIDI1MCwgMjEwLCBudWxsXSxcbiAgICBsaWdodGdyYXk6IFsyMTEsIDIxMSwgMjExLCBudWxsXSxcbiAgICBsaWdodGdyZWVuOiBbMTQ0LCAyMzgsIDE0NCwgbnVsbF0sXG4gICAgbGlnaHRncmV5OiBbMjExLCAyMTEsIDIxMSwgbnVsbF0sXG4gICAgbGlnaHRwaW5rOiBbMjU1LCAxODIsIDE5MywgbnVsbF0sXG4gICAgbGlnaHRzYWxtb246IFsyNTUsIDE2MCwgMTIyLCBudWxsXSxcbiAgICBsaWdodHNlYWdyZWVuOiBbMzIsIDE3OCwgMTcwLCBudWxsXSxcbiAgICBsaWdodHNreWJsdWU6IFsxMzUsIDIwNiwgMjUwLCBudWxsXSxcbiAgICBsaWdodHNsYXRlZ3JheTogWzExOSwgMTM2LCAxNTMsIG51bGxdLFxuICAgIGxpZ2h0c2xhdGVncmV5OiBbMTE5LCAxMzYsIDE1MywgbnVsbF0sXG4gICAgbGlnaHRzdGVlbGJsdWU6IFsxNzYsIDE5NiwgMjIyLCBudWxsXSxcbiAgICBsaWdodHllbGxvdzogWzI1NSwgMjU1LCAyMjQsIG51bGxdLFxuICAgIGxpbWU6IFswLCAyNTUsIDAsIG51bGxdLFxuICAgIGxpbWVncmVlbjogWzUwLCAyMDUsIDUwLCBudWxsXSxcbiAgICBsaW5lbjogWzI1MCwgMjQwLCAyMzAsIG51bGxdLFxuICAgIG1hZ2VudGE6IFsyNTUsIDAsIDI1NSwgbnVsbF0sXG4gICAgbWFyb29uOiBbMTI4LCAwLCAwLCBudWxsXSxcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiBbMTAyLCAyMDUsIDE3MCwgbnVsbF0sXG4gICAgbWVkaXVtYmx1ZTogWzAsIDAsIDIwNSwgbnVsbF0sXG4gICAgbWVkaXVtb3JjaGlkOiBbMTg2LCA4NSwgMjExLCBudWxsXSxcbiAgICBtZWRpdW1wdXJwbGU6IFsxNDcsIDExMiwgMjE5LCBudWxsXSxcbiAgICBtZWRpdW1zZWFncmVlbjogWzYwLCAxNzksIDExMywgbnVsbF0sXG4gICAgbWVkaXVtc2xhdGVibHVlOiBbMTIzLCAxMDQsIDIzOCwgbnVsbF0sXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IFswLCAyNTAsIDE1NCwgbnVsbF0sXG4gICAgbWVkaXVtdHVycXVvaXNlOiBbNzIsIDIwOSwgMjA0LCBudWxsXSxcbiAgICBtZWRpdW12aW9sZXRyZWQ6IFsxOTksIDIxLCAxMzMsIG51bGxdLFxuICAgIG1pZG5pZ2h0Ymx1ZTogWzI1LCAyNSwgMTEyLCBudWxsXSxcbiAgICBtaW50Y3JlYW06IFsyNDUsIDI1NSwgMjUwLCBudWxsXSxcbiAgICBtaXN0eXJvc2U6IFsyNTUsIDIyOCwgMjI1LCBudWxsXSxcbiAgICBtb2NjYXNpbjogWzI1NSwgMjI4LCAxODEsIG51bGxdLFxuICAgIG5hdmFqb3doaXRlOiBbMjU1LCAyMjIsIDE3MywgbnVsbF0sXG4gICAgbmF2eTogWzAsIDAsIDEyOCwgbnVsbF0sXG4gICAgb2xkbGFjZTogWzI1MywgMjQ1LCAyMzAsIG51bGxdLFxuICAgIG9saXZlOiBbMTI4LCAxMjgsIDAsIG51bGxdLFxuICAgIG9saXZlZHJhYjogWzEwNywgMTQyLCAzNSwgbnVsbF0sXG4gICAgb3JhbmdlOiBbMjU1LCAxNjUsIDAsIG51bGxdLFxuICAgIG9yYW5nZXJlZDogWzI1NSwgNjksIDAsIG51bGxdLFxuICAgIG9yY2hpZDogWzIxOCwgMTEyLCAyMTQsIG51bGxdLFxuICAgIHBhbGVnb2xkZW5yb2Q6IFsyMzgsIDIzMiwgMTcwLCBudWxsXSxcbiAgICBwYWxlZ3JlZW46IFsxNTIsIDI1MSwgMTUyLCBudWxsXSxcbiAgICBwYWxldHVycXVvaXNlOiBbMTc1LCAyMzgsIDIzOCwgbnVsbF0sXG4gICAgcGFsZXZpb2xldHJlZDogWzIxOSwgMTEyLCAxNDcsIG51bGxdLFxuICAgIHBhcGF5YXdoaXA6IFsyNTUsIDIzOSwgMjEzLCBudWxsXSxcbiAgICBwZWFjaHB1ZmY6IFsyNTUsIDIxOCwgMTg1LCBudWxsXSxcbiAgICBwZXJ1OiBbMjA1LCAxMzMsIDYzLCBudWxsXSxcbiAgICBwaW5rOiBbMjU1LCAxOTIsIDIwMywgbnVsbF0sXG4gICAgcGx1bTogWzIyMSwgMTYwLCAyMjEsIG51bGxdLFxuICAgIHBvd2RlcmJsdWU6IFsxNzYsIDIyNCwgMjMwLCBudWxsXSxcbiAgICBwdXJwbGU6IFsxMjgsIDAsIDEyOCwgbnVsbF0sXG4gICAgcmViZWNjYXB1cnBsZTogWzEwMiwgNTEsIDE1MywgbnVsbF0sXG4gICAgcmVkOiBbMjU1LCAwLCAwLCBudWxsXSxcbiAgICByb3N5YnJvd246IFsxODgsIDE0MywgMTQzLCBudWxsXSxcbiAgICByb3lhbGJsdWU6IFs2NSwgMTA1LCAyMjUsIG51bGxdLFxuICAgIHNhZGRsZWJyb3duOiBbMTM5LCA2OSwgMTksIG51bGxdLFxuICAgIHNhbG1vbjogWzI1MCwgMTI4LCAxMTQsIG51bGxdLFxuICAgIHNhbmR5YnJvd246IFsyNDQsIDE2NCwgOTYsIG51bGxdLFxuICAgIHNlYWdyZWVuOiBbNDYsIDEzOSwgODcsIG51bGxdLFxuICAgIHNlYXNoZWxsOiBbMjU1LCAyNDUsIDIzOCwgbnVsbF0sXG4gICAgc2llbm5hOiBbMTYwLCA4MiwgNDUsIG51bGxdLFxuICAgIHNpbHZlcjogWzE5MiwgMTkyLCAxOTIsIG51bGxdLFxuICAgIHNreWJsdWU6IFsxMzUsIDIwNiwgMjM1LCBudWxsXSxcbiAgICBzbGF0ZWJsdWU6IFsxMDYsIDkwLCAyMDUsIG51bGxdLFxuICAgIHNsYXRlZ3JheTogWzExMiwgMTI4LCAxNDQsIG51bGxdLFxuICAgIHNsYXRlZ3JleTogWzExMiwgMTI4LCAxNDQsIG51bGxdLFxuICAgIHNub3c6IFsyNTUsIDI1MCwgMjUwLCBudWxsXSxcbiAgICBzcHJpbmdncmVlbjogWzAsIDI1NSwgMTI3LCBudWxsXSxcbiAgICBzdGVlbGJsdWU6IFs3MCwgMTMwLCAxODAsIG51bGxdLFxuICAgIHRhbjogWzIxMCwgMTgwLCAxNDAsIG51bGxdLFxuICAgIHRlYWw6IFswLCAxMjgsIDEyOCwgbnVsbF0sXG4gICAgdGhpc3RsZTogWzIxNiwgMTkxLCAyMTYsIG51bGxdLFxuICAgIHRvbWF0bzogWzI1NSwgOTksIDcxLCBudWxsXSxcbiAgICB0dXJxdW9pc2U6IFs2NCwgMjI0LCAyMDgsIG51bGxdLFxuICAgIHZpb2xldDogWzIzOCwgMTMwLCAyMzgsIG51bGxdLFxuICAgIHdoZWF0OiBbMjQ1LCAyMjIsIDE3OSwgbnVsbF0sXG4gICAgd2hpdGU6IFsyNTUsIDI1NSwgMjU1LCBudWxsXSxcbiAgICB3aGl0ZXNtb2tlOiBbMjQ1LCAyNDUsIDI0NSwgbnVsbF0sXG4gICAgeWVsbG93OiBbMjU1LCAyNTUsIDAsIG51bGxdLFxuICAgIHllbGxvd2dyZWVuOiBbMTU0LCAyMDUsIDUwLCBudWxsXVxufTtcblxudmFyIFRSQU5TUEFSRU5UID0gZXhwb3J0cy5UUkFOU1BBUkVOVCA9IG5ldyBDb2xvcihbMCwgMCwgMCwgMF0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9Db2xvci5qc1xuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 54 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logger = function () {\n    function Logger(enabled, id, start) {\n        _classCallCheck(this, Logger);\n\n        this.enabled = typeof window !== 'undefined' && enabled;\n        this.start = start ? start : Date.now();\n        this.id = id;\n    }\n\n    _createClass(Logger, [{\n        key: 'child',\n        value: function child(id) {\n            return new Logger(this.enabled, id, this.start);\n        }\n\n        // eslint-disable-next-line flowtype/no-weak-types\n\n    }, {\n        key: 'log',\n        value: function log() {\n            if (this.enabled && window.console && window.console.log) {\n                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = arguments[_key];\n                }\n\n                Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));\n            }\n        }\n\n        // eslint-disable-next-line flowtype/no-weak-types\n\n    }, {\n        key: 'error',\n        value: function error() {\n            if (this.enabled && window.console && window.console.error) {\n                for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                    args[_key2] = arguments[_key2];\n                }\n\n                Function.prototype.bind.call(window.console.error, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));\n            }\n        }\n    }]);\n\n    return Logger;\n}();\n\nexports.default = Logger;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0xvZ2dlci5qcz84NTY1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGFBQWE7QUFDNUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixlQUFlO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIExvZ2dlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2dnZXIoZW5hYmxlZCwgaWQsIHN0YXJ0KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dnZXIpO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGVuYWJsZWQ7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydCA/IHN0YXJ0IDogRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMb2dnZXIsIFt7XG4gICAgICAgIGtleTogJ2NoaWxkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoaWxkKGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLmVuYWJsZWQsIGlkLCB0aGlzLnN0YXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmbG93dHlwZS9uby13ZWFrLXR5cGVzXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xvZycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2coKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkICYmIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbCh3aW5kb3cuY29uc29sZS5sb2csIHdpbmRvdy5jb25zb2xlKS5hcHBseSh3aW5kb3cuY29uc29sZSwgW0RhdGUubm93KCkgLSB0aGlzLnN0YXJ0ICsgJ21zJywgdGhpcy5pZCA/ICdodG1sMmNhbnZhcyAoJyArIHRoaXMuaWQgKyAnKTonIDogJ2h0bWwyY2FudmFzOiddLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3MsIDApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZmxvd3R5cGUvbm8td2Vhay10eXBlc1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdlcnJvcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbCh3aW5kb3cuY29uc29sZS5lcnJvciwgd2luZG93LmNvbnNvbGUpLmFwcGx5KHdpbmRvdy5jb25zb2xlLCBbRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnQgKyAnbXMnLCB0aGlzLmlkID8gJ2h0bWwyY2FudmFzICgnICsgdGhpcy5pZCArICcpOicgOiAnaHRtbDJjYW52YXM6J10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncywgMCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2dnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IExvZ2dlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vTG9nZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.renderElement = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Logger = __webpack_require__(54);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _NodeParser = __webpack_require__(56);\n\nvar _Renderer = __webpack_require__(98);\n\nvar _Renderer2 = _interopRequireDefault(_Renderer);\n\nvar _ForeignObjectRenderer = __webpack_require__(89);\n\nvar _ForeignObjectRenderer2 = _interopRequireDefault(_ForeignObjectRenderer);\n\nvar _Feature = __webpack_require__(88);\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nvar _Bounds = __webpack_require__(64);\n\nvar _Clone = __webpack_require__(102);\n\nvar _Font = __webpack_require__(99);\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar renderElement = exports.renderElement = function renderElement(element, options, logger) {\n    var ownerDocument = element.ownerDocument;\n\n    var windowBounds = new _Bounds.Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\n\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\n    var documentBackgroundColor = ownerDocument.documentElement ? new _Color2.default(getComputedStyle(ownerDocument.documentElement).backgroundColor) : _Color.TRANSPARENT;\n    var bodyBackgroundColor = ownerDocument.body ? new _Color2.default(getComputedStyle(ownerDocument.body).backgroundColor) : _Color.TRANSPARENT;\n\n    var backgroundColor = element === ownerDocument.documentElement ? documentBackgroundColor.isTransparent() ? bodyBackgroundColor.isTransparent() ? options.backgroundColor ? new _Color2.default(options.backgroundColor) : null : bodyBackgroundColor : documentBackgroundColor : options.backgroundColor ? new _Color2.default(options.backgroundColor) : null;\n\n    return (options.foreignObjectRendering ? // $FlowFixMe\n    _Feature2.default.SUPPORT_FOREIGNOBJECT_DRAWING : Promise.resolve(false)).then(function (supportForeignObject) {\n        return supportForeignObject ? function (cloner) {\n            if (true) {\n                logger.log('Document cloned, using foreignObject rendering');\n            }\n\n            return cloner.inlineFonts(ownerDocument).then(function () {\n                return cloner.resourceLoader.ready();\n            }).then(function () {\n                var renderer = new _ForeignObjectRenderer2.default(cloner.documentElement);\n\n                var defaultView = ownerDocument.defaultView;\n                var scrollX = defaultView.pageXOffset;\n                var scrollY = defaultView.pageYOffset;\n\n                var isDocument = element.tagName === 'HTML' || element.tagName === 'BODY';\n\n                var _ref = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(element, scrollX, scrollY),\n                    width = _ref.width,\n                    height = _ref.height,\n                    left = _ref.left,\n                    top = _ref.top;\n\n                return renderer.render({\n                    backgroundColor: backgroundColor,\n                    logger: logger,\n                    scale: options.scale,\n                    x: typeof options.x === 'number' ? options.x : left,\n                    y: typeof options.y === 'number' ? options.y : top,\n                    width: typeof options.width === 'number' ? options.width : Math.ceil(width),\n                    height: typeof options.height === 'number' ? options.height : Math.ceil(height),\n                    windowWidth: options.windowWidth,\n                    windowHeight: options.windowHeight,\n                    scrollX: options.scrollX,\n                    scrollY: options.scrollY\n                });\n            });\n        }(new _Clone.DocumentCloner(element, options, logger, true, renderElement)) : (0, _Clone.cloneWindow)(ownerDocument, windowBounds, element, options, logger, renderElement).then(function (_ref2) {\n            var _ref3 = _slicedToArray(_ref2, 3),\n                container = _ref3[0],\n                clonedElement = _ref3[1],\n                resourceLoader = _ref3[2];\n\n            if (true) {\n                logger.log('Document cloned, using computed rendering');\n            }\n\n            var stack = (0, _NodeParser.NodeParser)(clonedElement, resourceLoader, logger);\n            var clonedDocument = clonedElement.ownerDocument;\n\n            if (backgroundColor === stack.container.style.background.backgroundColor) {\n                stack.container.style.background.backgroundColor = _Color.TRANSPARENT;\n            }\n\n            return resourceLoader.ready().then(function (imageStore) {\n                var fontMetrics = new _Font.FontMetrics(clonedDocument);\n                if (true) {\n                    logger.log('Starting renderer');\n                }\n\n                var defaultView = clonedDocument.defaultView;\n                var scrollX = defaultView.pageXOffset;\n                var scrollY = defaultView.pageYOffset;\n\n                var isDocument = clonedElement.tagName === 'HTML' || clonedElement.tagName === 'BODY';\n\n                var _ref4 = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(clonedElement, scrollX, scrollY),\n                    width = _ref4.width,\n                    height = _ref4.height,\n                    left = _ref4.left,\n                    top = _ref4.top;\n\n                var renderOptions = {\n                    backgroundColor: backgroundColor,\n                    fontMetrics: fontMetrics,\n                    imageStore: imageStore,\n                    logger: logger,\n                    scale: options.scale,\n                    x: typeof options.x === 'number' ? options.x : left,\n                    y: typeof options.y === 'number' ? options.y : top,\n                    width: typeof options.width === 'number' ? options.width : Math.ceil(width),\n                    height: typeof options.height === 'number' ? options.height : Math.ceil(height)\n                };\n\n                if (Array.isArray(options.target)) {\n                    return Promise.all(options.target.map(function (target) {\n                        var renderer = new _Renderer2.default(target, renderOptions);\n                        return renderer.render(stack);\n                    }));\n                } else {\n                    var renderer = new _Renderer2.default(options.target, renderOptions);\n                    var canvas = renderer.render(stack);\n                    if (options.removeContainer === true) {\n                        if (container.parentNode) {\n                            container.parentNode.removeChild(container);\n                        } else if (true) {\n                            logger.log('Cannot detach cloned iframe as it is not in the DOM anymore');\n                        }\n                    }\n\n                    return canvas;\n                }\n            });\n        });\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1dpbmRvdy5qcz8zM2M3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUEsa0NBQWtDLGlDQUFpQyxlQUFlLGVBQWUsZ0JBQWdCLG9CQUFvQixNQUFNLDBDQUEwQywrQkFBK0IsYUFBYSxxQkFBcUIsbUNBQW1DLEVBQUUsRUFBRSxjQUFjLFdBQVcsVUFBVSxFQUFFLFVBQVUsTUFBTSx5Q0FBeUMsRUFBRSxVQUFVLGtCQUFrQixFQUFFLEVBQUUsYUFBYSxFQUFFLDJCQUEyQiwwQkFBMEIsWUFBWSxFQUFFLDJDQUEyQyw4QkFBOEIsRUFBRSxPQUFPLDZFQUE2RSxFQUFFLEdBQUcsRUFBRTs7QUFFcnBCOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wiLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucmVuZGVyRWxlbWVudCA9IHVuZGVmaW5lZDtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX0xvZ2dlciA9IHJlcXVpcmUoJy4vTG9nZ2VyJyk7XG5cbnZhciBfTG9nZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvZ2dlcik7XG5cbnZhciBfTm9kZVBhcnNlciA9IHJlcXVpcmUoJy4vTm9kZVBhcnNlcicpO1xuXG52YXIgX1JlbmRlcmVyID0gcmVxdWlyZSgnLi9SZW5kZXJlcicpO1xuXG52YXIgX1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlcmVyKTtcblxudmFyIF9Gb3JlaWduT2JqZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVyL0ZvcmVpZ25PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX0ZvcmVpZ25PYmplY3RSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Gb3JlaWduT2JqZWN0UmVuZGVyZXIpO1xuXG52YXIgX0ZlYXR1cmUgPSByZXF1aXJlKCcuL0ZlYXR1cmUnKTtcblxudmFyIF9GZWF0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZlYXR1cmUpO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4vQm91bmRzJyk7XG5cbnZhciBfQ2xvbmUgPSByZXF1aXJlKCcuL0Nsb25lJyk7XG5cbnZhciBfRm9udCA9IHJlcXVpcmUoJy4vRm9udCcpO1xuXG52YXIgX0NvbG9yID0gcmVxdWlyZSgnLi9Db2xvcicpO1xuXG52YXIgX0NvbG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHJlbmRlckVsZW1lbnQgPSBleHBvcnRzLnJlbmRlckVsZW1lbnQgPSBmdW5jdGlvbiByZW5kZXJFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMsIGxvZ2dlcikge1xuICAgIHZhciBvd25lckRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50O1xuXG4gICAgdmFyIHdpbmRvd0JvdW5kcyA9IG5ldyBfQm91bmRzLkJvdW5kcyhvcHRpb25zLnNjcm9sbFgsIG9wdGlvbnMuc2Nyb2xsWSwgb3B0aW9ucy53aW5kb3dXaWR0aCwgb3B0aW9ucy53aW5kb3dIZWlnaHQpO1xuXG4gICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1iYWNrZ3JvdW5kLyNzcGVjaWFsLWJhY2tncm91bmRzXG4gICAgdmFyIGRvY3VtZW50QmFja2dyb3VuZENvbG9yID0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyBuZXcgX0NvbG9yMi5kZWZhdWx0KGdldENvbXB1dGVkU3R5bGUob3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmJhY2tncm91bmRDb2xvcikgOiBfQ29sb3IuVFJBTlNQQVJFTlQ7XG4gICAgdmFyIGJvZHlCYWNrZ3JvdW5kQ29sb3IgPSBvd25lckRvY3VtZW50LmJvZHkgPyBuZXcgX0NvbG9yMi5kZWZhdWx0KGdldENvbXB1dGVkU3R5bGUob3duZXJEb2N1bWVudC5ib2R5KS5iYWNrZ3JvdW5kQ29sb3IpIDogX0NvbG9yLlRSQU5TUEFSRU5UO1xuXG4gICAgdmFyIGJhY2tncm91bmRDb2xvciA9IGVsZW1lbnQgPT09IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3IuaXNUcmFuc3BhcmVudCgpID8gYm9keUJhY2tncm91bmRDb2xvci5pc1RyYW5zcGFyZW50KCkgPyBvcHRpb25zLmJhY2tncm91bmRDb2xvciA/IG5ldyBfQ29sb3IyLmRlZmF1bHQob3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpIDogbnVsbCA6IGJvZHlCYWNrZ3JvdW5kQ29sb3IgOiBkb2N1bWVudEJhY2tncm91bmRDb2xvciA6IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yID8gbmV3IF9Db2xvcjIuZGVmYXVsdChvcHRpb25zLmJhY2tncm91bmRDb2xvcikgOiBudWxsO1xuXG4gICAgcmV0dXJuIChvcHRpb25zLmZvcmVpZ25PYmplY3RSZW5kZXJpbmcgPyAvLyAkRmxvd0ZpeE1lXG4gICAgX0ZlYXR1cmUyLmRlZmF1bHQuU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcgOiBQcm9taXNlLnJlc29sdmUoZmFsc2UpKS50aGVuKGZ1bmN0aW9uIChzdXBwb3J0Rm9yZWlnbk9iamVjdCkge1xuICAgICAgICByZXR1cm4gc3VwcG9ydEZvcmVpZ25PYmplY3QgPyBmdW5jdGlvbiAoY2xvbmVyKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ0RvY3VtZW50IGNsb25lZCwgdXNpbmcgZm9yZWlnbk9iamVjdCByZW5kZXJpbmcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNsb25lci5pbmxpbmVGb250cyhvd25lckRvY3VtZW50KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVyLnJlc291cmNlTG9hZGVyLnJlYWR5KCk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgX0ZvcmVpZ25PYmplY3RSZW5kZXJlcjIuZGVmYXVsdChjbG9uZXIuZG9jdW1lbnRFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0VmlldyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFggPSBkZWZhdWx0Vmlldy5wYWdlWE9mZnNldDtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsWSA9IGRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgdmFyIGlzRG9jdW1lbnQgPSBlbGVtZW50LnRhZ05hbWUgPT09ICdIVE1MJyB8fCBlbGVtZW50LnRhZ05hbWUgPT09ICdCT0RZJztcblxuICAgICAgICAgICAgICAgIHZhciBfcmVmID0gaXNEb2N1bWVudCA/ICgwLCBfQm91bmRzLnBhcnNlRG9jdW1lbnRTaXplKShvd25lckRvY3VtZW50KSA6ICgwLCBfQm91bmRzLnBhcnNlQm91bmRzKShlbGVtZW50LCBzY3JvbGxYLCBzY3JvbGxZKSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IF9yZWYubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gX3JlZi50b3A7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyZXIucmVuZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcjogbG9nZ2VyLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgeDogdHlwZW9mIG9wdGlvbnMueCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnggOiBsZWZ0LFxuICAgICAgICAgICAgICAgICAgICB5OiB0eXBlb2Ygb3B0aW9ucy55ID09PSAnbnVtYmVyJyA/IG9wdGlvbnMueSA6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHR5cGVvZiBvcHRpb25zLndpZHRoID09PSAnbnVtYmVyJyA/IG9wdGlvbnMud2lkdGggOiBNYXRoLmNlaWwod2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHR5cGVvZiBvcHRpb25zLmhlaWdodCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmhlaWdodCA6IE1hdGguY2VpbChoZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogb3B0aW9ucy53aW5kb3dXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93SGVpZ2h0OiBvcHRpb25zLndpbmRvd0hlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWDogb3B0aW9ucy5zY3JvbGxYLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxZOiBvcHRpb25zLnNjcm9sbFlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KG5ldyBfQ2xvbmUuRG9jdW1lbnRDbG9uZXIoZWxlbWVudCwgb3B0aW9ucywgbG9nZ2VyLCB0cnVlLCByZW5kZXJFbGVtZW50KSkgOiAoMCwgX0Nsb25lLmNsb25lV2luZG93KShvd25lckRvY3VtZW50LCB3aW5kb3dCb3VuZHMsIGVsZW1lbnQsIG9wdGlvbnMsIGxvZ2dlciwgcmVuZGVyRWxlbWVudCkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICAgIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAzKSxcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBfcmVmM1swXSxcbiAgICAgICAgICAgICAgICBjbG9uZWRFbGVtZW50ID0gX3JlZjNbMV0sXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VMb2FkZXIgPSBfcmVmM1syXTtcblxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdEb2N1bWVudCBjbG9uZWQsIHVzaW5nIGNvbXB1dGVkIHJlbmRlcmluZycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3RhY2sgPSAoMCwgX05vZGVQYXJzZXIuTm9kZVBhcnNlcikoY2xvbmVkRWxlbWVudCwgcmVzb3VyY2VMb2FkZXIsIGxvZ2dlcik7XG4gICAgICAgICAgICB2YXIgY2xvbmVkRG9jdW1lbnQgPSBjbG9uZWRFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IgPT09IHN0YWNrLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICAgICAgICAgIHN0YWNrLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kLmJhY2tncm91bmRDb2xvciA9IF9Db2xvci5UUkFOU1BBUkVOVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlTG9hZGVyLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoaW1hZ2VTdG9yZSkge1xuICAgICAgICAgICAgICAgIHZhciBmb250TWV0cmljcyA9IG5ldyBfRm9udC5Gb250TWV0cmljcyhjbG9uZWREb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnU3RhcnRpbmcgcmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdFZpZXcgPSBjbG9uZWREb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsWCA9IGRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0O1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxZID0gZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgaXNEb2N1bWVudCA9IGNsb25lZEVsZW1lbnQudGFnTmFtZSA9PT0gJ0hUTUwnIHx8IGNsb25lZEVsZW1lbnQudGFnTmFtZSA9PT0gJ0JPRFknO1xuXG4gICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gaXNEb2N1bWVudCA/ICgwLCBfQm91bmRzLnBhcnNlRG9jdW1lbnRTaXplKShvd25lckRvY3VtZW50KSA6ICgwLCBfQm91bmRzLnBhcnNlQm91bmRzKShjbG9uZWRFbGVtZW50LCBzY3JvbGxYLCBzY3JvbGxZKSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBfcmVmNC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZjQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gX3JlZjQubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gX3JlZjQudG9wO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBmb250TWV0cmljczogZm9udE1ldHJpY3MsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlU3RvcmU6IGltYWdlU3RvcmUsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcjogbG9nZ2VyLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgeDogdHlwZW9mIG9wdGlvbnMueCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnggOiBsZWZ0LFxuICAgICAgICAgICAgICAgICAgICB5OiB0eXBlb2Ygb3B0aW9ucy55ID09PSAnbnVtYmVyJyA/IG9wdGlvbnMueSA6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHR5cGVvZiBvcHRpb25zLndpZHRoID09PSAnbnVtYmVyJyA/IG9wdGlvbnMud2lkdGggOiBNYXRoLmNlaWwod2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHR5cGVvZiBvcHRpb25zLmhlaWdodCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmhlaWdodCA6IE1hdGguY2VpbChoZWlnaHQpXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy50YXJnZXQubWFwKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IG5ldyBfUmVuZGVyZXIyLmRlZmF1bHQodGFyZ2V0LCByZW5kZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJlci5yZW5kZXIoc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IF9SZW5kZXJlcjIuZGVmYXVsdChvcHRpb25zLnRhcmdldCwgcmVuZGVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSByZW5kZXJlci5yZW5kZXIoc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVDb250YWluZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdDYW5ub3QgZGV0YWNoIGNsb25lZCBpZnJhbWUgYXMgaXQgaXMgbm90IGluIHRoZSBET00gYW55bW9yZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9XaW5kb3cuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.NodeParser = undefined;\n\nvar _StackingContext = __webpack_require__(57);\n\nvar _StackingContext2 = _interopRequireDefault(_StackingContext);\n\nvar _NodeContainer = __webpack_require__(58);\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _TextContainer = __webpack_require__(86);\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _Input = __webpack_require__(85);\n\nvar _ListItem = __webpack_require__(97);\n\nvar _listStyle = __webpack_require__(74);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NodeParser = exports.NodeParser = function NodeParser(node, resourceLoader, logger) {\n    if (true) {\n        logger.log('Starting node parsing');\n    }\n\n    var index = 0;\n\n    var container = new _NodeContainer2.default(node, null, resourceLoader, index++);\n    var stack = new _StackingContext2.default(container, null, true);\n\n    parseNodeTree(node, container, stack, resourceLoader, index);\n\n    if (true) {\n        logger.log('Finished parsing node tree');\n    }\n\n    return stack;\n};\n\nvar IGNORED_NODE_NAMES = ['SCRIPT', 'HEAD', 'TITLE', 'OBJECT', 'BR', 'OPTION'];\n\nvar parseNodeTree = function parseNodeTree(node, parent, stack, resourceLoader, index) {\n    if ((\"development\") !== 'production' && index > 50000) {\n        throw new Error('Recursion error while parsing node tree');\n    }\n\n    for (var childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n        nextNode = childNode.nextSibling;\n        var defaultView = childNode.ownerDocument.defaultView;\n        if (childNode instanceof defaultView.Text || childNode instanceof Text || defaultView.parent && childNode instanceof defaultView.parent.Text) {\n            if (childNode.data.trim().length > 0) {\n                parent.childNodes.push(_TextContainer2.default.fromTextNode(childNode, parent));\n            }\n        } else if (childNode instanceof defaultView.HTMLElement || childNode instanceof HTMLElement || defaultView.parent && childNode instanceof defaultView.parent.HTMLElement) {\n            if (IGNORED_NODE_NAMES.indexOf(childNode.nodeName) === -1) {\n                var container = new _NodeContainer2.default(childNode, parent, resourceLoader, index++);\n                if (container.isVisible()) {\n                    if (childNode.tagName === 'INPUT') {\n                        // $FlowFixMe\n                        (0, _Input.inlineInputElement)(childNode, container);\n                    } else if (childNode.tagName === 'TEXTAREA') {\n                        // $FlowFixMe\n                        (0, _Input.inlineTextAreaElement)(childNode, container);\n                    } else if (childNode.tagName === 'SELECT') {\n                        // $FlowFixMe\n                        (0, _Input.inlineSelectElement)(childNode, container);\n                    } else if (container.style.listStyle && container.style.listStyle.listStyleType !== _listStyle.LIST_STYLE_TYPE.NONE) {\n                        (0, _ListItem.inlineListItemElement)(childNode, container, resourceLoader);\n                    }\n\n                    var SHOULD_TRAVERSE_CHILDREN = childNode.tagName !== 'TEXTAREA';\n                    var treatAsRealStackingContext = createsRealStackingContext(container, childNode);\n                    if (treatAsRealStackingContext || createsStackingContext(container)) {\n                        // for treatAsRealStackingContext:false, any positioned descendants and descendants\n                        // which actually create a new stacking context should be considered part of the parent stacking context\n                        var parentStack = treatAsRealStackingContext || container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n                        var childStack = new _StackingContext2.default(container, parentStack, treatAsRealStackingContext);\n                        parentStack.contexts.push(childStack);\n                        if (SHOULD_TRAVERSE_CHILDREN) {\n                            parseNodeTree(childNode, container, childStack, resourceLoader, index);\n                        }\n                    } else {\n                        stack.children.push(container);\n                        if (SHOULD_TRAVERSE_CHILDREN) {\n                            parseNodeTree(childNode, container, stack, resourceLoader, index);\n                        }\n                    }\n                }\n            }\n        } else if (childNode instanceof defaultView.SVGSVGElement || childNode instanceof SVGSVGElement || defaultView.parent && childNode instanceof defaultView.parent.SVGSVGElement) {\n            var _container = new _NodeContainer2.default(childNode, parent, resourceLoader, index++);\n            var _treatAsRealStackingContext = createsRealStackingContext(_container, childNode);\n            if (_treatAsRealStackingContext || createsStackingContext(_container)) {\n                // for treatAsRealStackingContext:false, any positioned descendants and descendants\n                // which actually create a new stacking context should be considered part of the parent stacking context\n                var _parentStack = _treatAsRealStackingContext || _container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n                var _childStack = new _StackingContext2.default(_container, _parentStack, _treatAsRealStackingContext);\n                _parentStack.contexts.push(_childStack);\n            } else {\n                stack.children.push(_container);\n            }\n        }\n    }\n};\n\nvar createsRealStackingContext = function createsRealStackingContext(container, node) {\n    return container.isRootElement() || container.isPositionedWithZIndex() || container.style.opacity < 1 || container.isTransformed() || isBodyWithTransparentRoot(container, node);\n};\n\nvar createsStackingContext = function createsStackingContext(container) {\n    return container.isPositioned() || container.isFloating();\n};\n\nvar isBodyWithTransparentRoot = function isBodyWithTransparentRoot(container, node) {\n    return node.nodeName === 'BODY' && container.parent instanceof _NodeContainer2.default && container.parent.style.background.backgroundColor.isTransparent();\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL05vZGVQYXJzZXIuanM/M2RiOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1EQUFtRCxXQUFXO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTm9kZVBhcnNlciA9IHVuZGVmaW5lZDtcblxudmFyIF9TdGFja2luZ0NvbnRleHQgPSByZXF1aXJlKCcuL1N0YWNraW5nQ29udGV4dCcpO1xuXG52YXIgX1N0YWNraW5nQ29udGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdGFja2luZ0NvbnRleHQpO1xuXG52YXIgX05vZGVDb250YWluZXIgPSByZXF1aXJlKCcuL05vZGVDb250YWluZXInKTtcblxudmFyIF9Ob2RlQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vZGVDb250YWluZXIpO1xuXG52YXIgX1RleHRDb250YWluZXIgPSByZXF1aXJlKCcuL1RleHRDb250YWluZXInKTtcblxudmFyIF9UZXh0Q29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRDb250YWluZXIpO1xuXG52YXIgX0lucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xuXG52YXIgX0xpc3RJdGVtID0gcmVxdWlyZSgnLi9MaXN0SXRlbScpO1xuXG52YXIgX2xpc3RTdHlsZSA9IHJlcXVpcmUoJy4vcGFyc2luZy9saXN0U3R5bGUnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIE5vZGVQYXJzZXIgPSBleHBvcnRzLk5vZGVQYXJzZXIgPSBmdW5jdGlvbiBOb2RlUGFyc2VyKG5vZGUsIHJlc291cmNlTG9hZGVyLCBsb2dnZXIpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBsb2dnZXIubG9nKCdTdGFydGluZyBub2RlIHBhcnNpbmcnKTtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IG5ldyBfTm9kZUNvbnRhaW5lcjIuZGVmYXVsdChub2RlLCBudWxsLCByZXNvdXJjZUxvYWRlciwgaW5kZXgrKyk7XG4gICAgdmFyIHN0YWNrID0gbmV3IF9TdGFja2luZ0NvbnRleHQyLmRlZmF1bHQoY29udGFpbmVyLCBudWxsLCB0cnVlKTtcblxuICAgIHBhcnNlTm9kZVRyZWUobm9kZSwgY29udGFpbmVyLCBzdGFjaywgcmVzb3VyY2VMb2FkZXIsIGluZGV4KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0ZpbmlzaGVkIHBhcnNpbmcgbm9kZSB0cmVlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWNrO1xufTtcblxudmFyIElHTk9SRURfTk9ERV9OQU1FUyA9IFsnU0NSSVBUJywgJ0hFQUQnLCAnVElUTEUnLCAnT0JKRUNUJywgJ0JSJywgJ09QVElPTiddO1xuXG52YXIgcGFyc2VOb2RlVHJlZSA9IGZ1bmN0aW9uIHBhcnNlTm9kZVRyZWUobm9kZSwgcGFyZW50LCBzdGFjaywgcmVzb3VyY2VMb2FkZXIsIGluZGV4KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaW5kZXggPiA1MDAwMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlY3Vyc2lvbiBlcnJvciB3aGlsZSBwYXJzaW5nIG5vZGUgdHJlZScpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGNoaWxkTm9kZSA9IG5vZGUuZmlyc3RDaGlsZCwgbmV4dE5vZGU7IGNoaWxkTm9kZTsgY2hpbGROb2RlID0gbmV4dE5vZGUpIHtcbiAgICAgICAgbmV4dE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHZhciBkZWZhdWx0VmlldyA9IGNoaWxkTm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgICAgICBpZiAoY2hpbGROb2RlIGluc3RhbmNlb2YgZGVmYXVsdFZpZXcuVGV4dCB8fCBjaGlsZE5vZGUgaW5zdGFuY2VvZiBUZXh0IHx8IGRlZmF1bHRWaWV3LnBhcmVudCAmJiBjaGlsZE5vZGUgaW5zdGFuY2VvZiBkZWZhdWx0Vmlldy5wYXJlbnQuVGV4dCkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZS5kYXRhLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmNoaWxkTm9kZXMucHVzaChfVGV4dENvbnRhaW5lcjIuZGVmYXVsdC5mcm9tVGV4dE5vZGUoY2hpbGROb2RlLCBwYXJlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5vZGUgaW5zdGFuY2VvZiBkZWZhdWx0Vmlldy5IVE1MRWxlbWVudCB8fCBjaGlsZE5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBkZWZhdWx0Vmlldy5wYXJlbnQgJiYgY2hpbGROb2RlIGluc3RhbmNlb2YgZGVmYXVsdFZpZXcucGFyZW50LkhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoSUdOT1JFRF9OT0RFX05BTUVTLmluZGV4T2YoY2hpbGROb2RlLm5vZGVOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gbmV3IF9Ob2RlQ29udGFpbmVyMi5kZWZhdWx0KGNoaWxkTm9kZSwgcGFyZW50LCByZXNvdXJjZUxvYWRlciwgaW5kZXgrKyk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfSW5wdXQuaW5saW5lSW5wdXRFbGVtZW50KShjaGlsZE5vZGUsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGROb2RlLnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfSW5wdXQuaW5saW5lVGV4dEFyZWFFbGVtZW50KShjaGlsZE5vZGUsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGROb2RlLnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgX0lucHV0LmlubGluZVNlbGVjdEVsZW1lbnQpKGNoaWxkTm9kZSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIuc3R5bGUubGlzdFN0eWxlICYmIGNvbnRhaW5lci5zdHlsZS5saXN0U3R5bGUubGlzdFN0eWxlVHlwZSAhPT0gX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuTk9ORSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9MaXN0SXRlbS5pbmxpbmVMaXN0SXRlbUVsZW1lbnQpKGNoaWxkTm9kZSwgY29udGFpbmVyLCByZXNvdXJjZUxvYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgU0hPVUxEX1RSQVZFUlNFX0NISUxEUkVOID0gY2hpbGROb2RlLnRhZ05hbWUgIT09ICdURVhUQVJFQSc7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCA9IGNyZWF0ZXNSZWFsU3RhY2tpbmdDb250ZXh0KGNvbnRhaW5lciwgY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNyZWF0ZXNTdGFja2luZ0NvbnRleHQoY29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0OmZhbHNlLCBhbnkgcG9zaXRpb25lZCBkZXNjZW5kYW50cyBhbmQgZGVzY2VuZGFudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGFjdHVhbGx5IGNyZWF0ZSBhIG5ldyBzdGFja2luZyBjb250ZXh0IHNob3VsZCBiZSBjb25zaWRlcmVkIHBhcnQgb2YgdGhlIHBhcmVudCBzdGFja2luZyBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50U3RhY2sgPSB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCB8fCBjb250YWluZXIuaXNQb3NpdGlvbmVkKCkgPyBzdGFjay5nZXRSZWFsUGFyZW50U3RhY2tpbmdDb250ZXh0KCkgOiBzdGFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZFN0YWNrID0gbmV3IF9TdGFja2luZ0NvbnRleHQyLmRlZmF1bHQoY29udGFpbmVyLCBwYXJlbnRTdGFjaywgdHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2suY29udGV4dHMucHVzaChjaGlsZFN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTSE9VTERfVFJBVkVSU0VfQ0hJTERSRU4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZU5vZGVUcmVlKGNoaWxkTm9kZSwgY29udGFpbmVyLCBjaGlsZFN0YWNrLCByZXNvdXJjZUxvYWRlciwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suY2hpbGRyZW4ucHVzaChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNIT1VMRF9UUkFWRVJTRV9DSElMRFJFTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlTm9kZVRyZWUoY2hpbGROb2RlLCBjb250YWluZXIsIHN0YWNrLCByZXNvdXJjZUxvYWRlciwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTm9kZSBpbnN0YW5jZW9mIGRlZmF1bHRWaWV3LlNWR1NWR0VsZW1lbnQgfHwgY2hpbGROb2RlIGluc3RhbmNlb2YgU1ZHU1ZHRWxlbWVudCB8fCBkZWZhdWx0Vmlldy5wYXJlbnQgJiYgY2hpbGROb2RlIGluc3RhbmNlb2YgZGVmYXVsdFZpZXcucGFyZW50LlNWR1NWR0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfY29udGFpbmVyID0gbmV3IF9Ob2RlQ29udGFpbmVyMi5kZWZhdWx0KGNoaWxkTm9kZSwgcGFyZW50LCByZXNvdXJjZUxvYWRlciwgaW5kZXgrKyk7XG4gICAgICAgICAgICB2YXIgX3RyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0ID0gY3JlYXRlc1JlYWxTdGFja2luZ0NvbnRleHQoX2NvbnRhaW5lciwgY2hpbGROb2RlKTtcbiAgICAgICAgICAgIGlmIChfdHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQgfHwgY3JlYXRlc1N0YWNraW5nQ29udGV4dChfY29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgIC8vIGZvciB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dDpmYWxzZSwgYW55IHBvc2l0aW9uZWQgZGVzY2VuZGFudHMgYW5kIGRlc2NlbmRhbnRzXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggYWN0dWFsbHkgY3JlYXRlIGEgbmV3IHN0YWNraW5nIGNvbnRleHQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgcGFyZW50IHN0YWNraW5nIGNvbnRleHRcbiAgICAgICAgICAgICAgICB2YXIgX3BhcmVudFN0YWNrID0gX3RyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IF9jb250YWluZXIuaXNQb3NpdGlvbmVkKCkgPyBzdGFjay5nZXRSZWFsUGFyZW50U3RhY2tpbmdDb250ZXh0KCkgOiBzdGFjaztcbiAgICAgICAgICAgICAgICB2YXIgX2NoaWxkU3RhY2sgPSBuZXcgX1N0YWNraW5nQ29udGV4dDIuZGVmYXVsdChfY29udGFpbmVyLCBfcGFyZW50U3RhY2ssIF90cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgX3BhcmVudFN0YWNrLmNvbnRleHRzLnB1c2goX2NoaWxkU3RhY2spO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFjay5jaGlsZHJlbi5wdXNoKF9jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGNyZWF0ZXNSZWFsU3RhY2tpbmdDb250ZXh0ID0gZnVuY3Rpb24gY3JlYXRlc1JlYWxTdGFja2luZ0NvbnRleHQoY29udGFpbmVyLCBub2RlKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5pc1Jvb3RFbGVtZW50KCkgfHwgY29udGFpbmVyLmlzUG9zaXRpb25lZFdpdGhaSW5kZXgoKSB8fCBjb250YWluZXIuc3R5bGUub3BhY2l0eSA8IDEgfHwgY29udGFpbmVyLmlzVHJhbnNmb3JtZWQoKSB8fCBpc0JvZHlXaXRoVHJhbnNwYXJlbnRSb290KGNvbnRhaW5lciwgbm9kZSk7XG59O1xuXG52YXIgY3JlYXRlc1N0YWNraW5nQ29udGV4dCA9IGZ1bmN0aW9uIGNyZWF0ZXNTdGFja2luZ0NvbnRleHQoY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5pc1Bvc2l0aW9uZWQoKSB8fCBjb250YWluZXIuaXNGbG9hdGluZygpO1xufTtcblxudmFyIGlzQm9keVdpdGhUcmFuc3BhcmVudFJvb3QgPSBmdW5jdGlvbiBpc0JvZHlXaXRoVHJhbnNwYXJlbnRSb290KGNvbnRhaW5lciwgbm9kZSkge1xuICAgIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnQk9EWScgJiYgY29udGFpbmVyLnBhcmVudCBpbnN0YW5jZW9mIF9Ob2RlQ29udGFpbmVyMi5kZWZhdWx0ICYmIGNvbnRhaW5lci5wYXJlbnQuc3R5bGUuYmFja2dyb3VuZC5iYWNrZ3JvdW5kQ29sb3IuaXNUcmFuc3BhcmVudCgpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vTm9kZVBhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _NodeContainer = __webpack_require__(58);\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _position = __webpack_require__(78);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StackingContext = function () {\n    function StackingContext(container, parent, treatAsRealStackingContext) {\n        _classCallCheck(this, StackingContext);\n\n        this.container = container;\n        this.parent = parent;\n        this.contexts = [];\n        this.children = [];\n        this.treatAsRealStackingContext = treatAsRealStackingContext;\n    }\n\n    _createClass(StackingContext, [{\n        key: 'getOpacity',\n        value: function getOpacity() {\n            return this.parent ? this.container.style.opacity * this.parent.getOpacity() : this.container.style.opacity;\n        }\n    }, {\n        key: 'getRealParentStackingContext',\n        value: function getRealParentStackingContext() {\n            return !this.parent || this.treatAsRealStackingContext ? this : this.parent.getRealParentStackingContext();\n        }\n    }]);\n\n    return StackingContext;\n}();\n\nexports.default = StackingContext;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1N0YWNraW5nQ29udGV4dC5qcz9hYTUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQjs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0YsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiNTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9Ob2RlQ29udGFpbmVyID0gcmVxdWlyZSgnLi9Ob2RlQ29udGFpbmVyJyk7XG5cbnZhciBfTm9kZUNvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob2RlQ29udGFpbmVyKTtcblxudmFyIF9wb3NpdGlvbiA9IHJlcXVpcmUoJy4vcGFyc2luZy9wb3NpdGlvbicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU3RhY2tpbmdDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YWNraW5nQ29udGV4dChjb250YWluZXIsIHBhcmVudCwgdHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YWNraW5nQ29udGV4dCk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmNvbnRleHRzID0gW107XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy50cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCA9IHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTdGFja2luZ0NvbnRleHQsIFt7XG4gICAgICAgIGtleTogJ2dldE9wYWNpdHknLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3BhY2l0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgKiB0aGlzLnBhcmVudC5nZXRPcGFjaXR5KCkgOiB0aGlzLmNvbnRhaW5lci5zdHlsZS5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRSZWFsUGFyZW50U3RhY2tpbmdDb250ZXh0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlYWxQYXJlbnRTdGFja2luZ0NvbnRleHQoKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMucGFyZW50IHx8IHRoaXMudHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQgPyB0aGlzIDogdGhpcy5wYXJlbnQuZ2V0UmVhbFBhcmVudFN0YWNraW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFN0YWNraW5nQ29udGV4dDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RhY2tpbmdDb250ZXh0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9TdGFja2luZ0NvbnRleHQuanNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Util = __webpack_require__(59);\n\nvar _background = __webpack_require__(60);\n\nvar _border = __webpack_require__(67);\n\nvar _borderRadius = __webpack_require__(68);\n\nvar _display = __webpack_require__(69);\n\nvar _float = __webpack_require__(70);\n\nvar _font = __webpack_require__(71);\n\nvar _letterSpacing = __webpack_require__(72);\n\nvar _lineBreak = __webpack_require__(73);\n\nvar _listStyle = __webpack_require__(74);\n\nvar _margin = __webpack_require__(75);\n\nvar _overflow = __webpack_require__(76);\n\nvar _overflowWrap = __webpack_require__(77);\n\nvar _padding = __webpack_require__(66);\n\nvar _position = __webpack_require__(78);\n\nvar _textDecoration = __webpack_require__(52);\n\nvar _textShadow = __webpack_require__(79);\n\nvar _textTransform = __webpack_require__(80);\n\nvar _transform = __webpack_require__(81);\n\nvar _visibility = __webpack_require__(82);\n\nvar _wordBreak = __webpack_require__(83);\n\nvar _zIndex = __webpack_require__(84);\n\nvar _Bounds = __webpack_require__(64);\n\nvar _Input = __webpack_require__(85);\n\nvar _ListItem = __webpack_require__(97);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar INPUT_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];\n\nvar NodeContainer = function () {\n    function NodeContainer(node, parent, resourceLoader, index) {\n        var _this = this;\n\n        _classCallCheck(this, NodeContainer);\n\n        this.parent = parent;\n        this.tagName = node.tagName;\n        this.index = index;\n        this.childNodes = [];\n        this.listItems = [];\n        if (typeof node.start === 'number') {\n            this.listStart = node.start;\n        }\n        var defaultView = node.ownerDocument.defaultView;\n        var scrollX = defaultView.pageXOffset;\n        var scrollY = defaultView.pageYOffset;\n        var style = defaultView.getComputedStyle(node, null);\n        var display = (0, _display.parseDisplay)(style.display);\n\n        var IS_INPUT = node.type === 'radio' || node.type === 'checkbox';\n\n        var position = (0, _position.parsePosition)(style.position);\n\n        this.style = {\n            background: IS_INPUT ? _Input.INPUT_BACKGROUND : (0, _background.parseBackground)(style, resourceLoader),\n            border: IS_INPUT ? _Input.INPUT_BORDERS : (0, _border.parseBorder)(style),\n            borderRadius: (node instanceof defaultView.HTMLInputElement || node instanceof HTMLInputElement) && IS_INPUT ? (0, _Input.getInputBorderRadius)(node) : (0, _borderRadius.parseBorderRadius)(style),\n            color: IS_INPUT ? _Input.INPUT_COLOR : new _Color2.default(style.color),\n            display: display,\n            float: (0, _float.parseCSSFloat)(style.float),\n            font: (0, _font.parseFont)(style),\n            letterSpacing: (0, _letterSpacing.parseLetterSpacing)(style.letterSpacing),\n            listStyle: display === _display.DISPLAY.LIST_ITEM ? (0, _listStyle.parseListStyle)(style) : null,\n            lineBreak: (0, _lineBreak.parseLineBreak)(style.lineBreak),\n            margin: (0, _margin.parseMargin)(style),\n            opacity: parseFloat(style.opacity),\n            overflow: INPUT_TAGS.indexOf(node.tagName) === -1 ? (0, _overflow.parseOverflow)(style.overflow) : _overflow.OVERFLOW.HIDDEN,\n            overflowWrap: (0, _overflowWrap.parseOverflowWrap)(style.overflowWrap ? style.overflowWrap : style.wordWrap),\n            padding: (0, _padding.parsePadding)(style),\n            position: position,\n            textDecoration: (0, _textDecoration.parseTextDecoration)(style),\n            textShadow: (0, _textShadow.parseTextShadow)(style.textShadow),\n            textTransform: (0, _textTransform.parseTextTransform)(style.textTransform),\n            transform: (0, _transform.parseTransform)(style),\n            visibility: (0, _visibility.parseVisibility)(style.visibility),\n            wordBreak: (0, _wordBreak.parseWordBreak)(style.wordBreak),\n            zIndex: (0, _zIndex.parseZIndex)(position !== _position.POSITION.STATIC ? style.zIndex : 'auto')\n        };\n\n        if (this.isTransformed()) {\n            // getBoundingClientRect provides values post-transform, we want them without the transformation\n            node.style.transform = 'matrix(1,0,0,1,0,0)';\n        }\n\n        if (display === _display.DISPLAY.LIST_ITEM) {\n            var listOwner = (0, _ListItem.getListOwner)(this);\n            if (listOwner) {\n                var listIndex = listOwner.listItems.length;\n                listOwner.listItems.push(this);\n                this.listIndex = node.hasAttribute('value') && typeof node.value === 'number' ? node.value : listIndex === 0 ? typeof listOwner.listStart === 'number' ? listOwner.listStart : 1 : listOwner.listItems[listIndex - 1].listIndex + 1;\n            }\n        }\n\n        // TODO move bound retrieval for all nodes to a later stage?\n        if (node.tagName === 'IMG') {\n            node.addEventListener('load', function () {\n                _this.bounds = (0, _Bounds.parseBounds)(node, scrollX, scrollY);\n                _this.curvedBounds = (0, _Bounds.parseBoundCurves)(_this.bounds, _this.style.border, _this.style.borderRadius);\n            });\n        }\n        this.image = getImage(node, resourceLoader);\n        this.bounds = IS_INPUT ? (0, _Input.reformatInputBounds)((0, _Bounds.parseBounds)(node, scrollX, scrollY)) : (0, _Bounds.parseBounds)(node, scrollX, scrollY);\n        this.curvedBounds = (0, _Bounds.parseBoundCurves)(this.bounds, this.style.border, this.style.borderRadius);\n\n        if (true) {\n            this.name = '' + node.tagName.toLowerCase() + (node.id ? '#' + node.id : '') + node.className.toString().split(' ').map(function (s) {\n                return s.length ? '.' + s : '';\n            }).join('');\n        }\n    }\n\n    _createClass(NodeContainer, [{\n        key: 'getClipPaths',\n        value: function getClipPaths() {\n            var parentClips = this.parent ? this.parent.getClipPaths() : [];\n            var isClipped = this.style.overflow !== _overflow.OVERFLOW.VISIBLE;\n\n            return isClipped ? parentClips.concat([(0, _Bounds.calculatePaddingBoxPath)(this.curvedBounds)]) : parentClips;\n        }\n    }, {\n        key: 'isInFlow',\n        value: function isInFlow() {\n            return this.isRootElement() && !this.isFloating() && !this.isAbsolutelyPositioned();\n        }\n    }, {\n        key: 'isVisible',\n        value: function isVisible() {\n            return !(0, _Util.contains)(this.style.display, _display.DISPLAY.NONE) && this.style.opacity > 0 && this.style.visibility === _visibility.VISIBILITY.VISIBLE;\n        }\n    }, {\n        key: 'isAbsolutelyPositioned',\n        value: function isAbsolutelyPositioned() {\n            return this.style.position !== _position.POSITION.STATIC && this.style.position !== _position.POSITION.RELATIVE;\n        }\n    }, {\n        key: 'isPositioned',\n        value: function isPositioned() {\n            return this.style.position !== _position.POSITION.STATIC;\n        }\n    }, {\n        key: 'isFloating',\n        value: function isFloating() {\n            return this.style.float !== _float.FLOAT.NONE;\n        }\n    }, {\n        key: 'isRootElement',\n        value: function isRootElement() {\n            return this.parent === null;\n        }\n    }, {\n        key: 'isTransformed',\n        value: function isTransformed() {\n            return this.style.transform !== null;\n        }\n    }, {\n        key: 'isPositionedWithZIndex',\n        value: function isPositionedWithZIndex() {\n            return this.isPositioned() && !this.style.zIndex.auto;\n        }\n    }, {\n        key: 'isInlineLevel',\n        value: function isInlineLevel() {\n            return (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_BLOCK) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_FLEX) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_GRID) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_LIST_ITEM) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_TABLE);\n        }\n    }, {\n        key: 'isInlineBlockOrInlineTable',\n        value: function isInlineBlockOrInlineTable() {\n            return (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_BLOCK) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_TABLE);\n        }\n    }]);\n\n    return NodeContainer;\n}();\n\nexports.default = NodeContainer;\n\n\nvar getImage = function getImage(node, resourceLoader) {\n    if (node instanceof node.ownerDocument.defaultView.SVGSVGElement || node instanceof SVGSVGElement) {\n        var s = new XMLSerializer();\n        return resourceLoader.loadImage('data:image/svg+xml,' + encodeURIComponent(s.serializeToString(node)));\n    }\n    switch (node.tagName) {\n        case 'IMG':\n            // $FlowFixMe\n            var img = node;\n            return resourceLoader.loadImage(img.currentSrc || img.src);\n        case 'CANVAS':\n            // $FlowFixMe\n            var canvas = node;\n            return resourceLoader.loadCanvas(canvas);\n        case 'IFRAME':\n            var iframeKey = node.getAttribute('data-html2canvas-internal-iframe-key');\n            if (iframeKey) {\n                return iframeKey;\n            }\n            break;\n    }\n\n    return null;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL05vZGVDb250YWluZXIuanM/NmNhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakI7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjU4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQ29sb3IgPSByZXF1aXJlKCcuL0NvbG9yJyk7XG5cbnZhciBfQ29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3IpO1xuXG52YXIgX1V0aWwgPSByZXF1aXJlKCcuL1V0aWwnKTtcblxudmFyIF9iYWNrZ3JvdW5kID0gcmVxdWlyZSgnLi9wYXJzaW5nL2JhY2tncm91bmQnKTtcblxudmFyIF9ib3JkZXIgPSByZXF1aXJlKCcuL3BhcnNpbmcvYm9yZGVyJyk7XG5cbnZhciBfYm9yZGVyUmFkaXVzID0gcmVxdWlyZSgnLi9wYXJzaW5nL2JvcmRlclJhZGl1cycpO1xuXG52YXIgX2Rpc3BsYXkgPSByZXF1aXJlKCcuL3BhcnNpbmcvZGlzcGxheScpO1xuXG52YXIgX2Zsb2F0ID0gcmVxdWlyZSgnLi9wYXJzaW5nL2Zsb2F0Jyk7XG5cbnZhciBfZm9udCA9IHJlcXVpcmUoJy4vcGFyc2luZy9mb250Jyk7XG5cbnZhciBfbGV0dGVyU3BhY2luZyA9IHJlcXVpcmUoJy4vcGFyc2luZy9sZXR0ZXJTcGFjaW5nJyk7XG5cbnZhciBfbGluZUJyZWFrID0gcmVxdWlyZSgnLi9wYXJzaW5nL2xpbmVCcmVhaycpO1xuXG52YXIgX2xpc3RTdHlsZSA9IHJlcXVpcmUoJy4vcGFyc2luZy9saXN0U3R5bGUnKTtcblxudmFyIF9tYXJnaW4gPSByZXF1aXJlKCcuL3BhcnNpbmcvbWFyZ2luJyk7XG5cbnZhciBfb3ZlcmZsb3cgPSByZXF1aXJlKCcuL3BhcnNpbmcvb3ZlcmZsb3cnKTtcblxudmFyIF9vdmVyZmxvd1dyYXAgPSByZXF1aXJlKCcuL3BhcnNpbmcvb3ZlcmZsb3dXcmFwJyk7XG5cbnZhciBfcGFkZGluZyA9IHJlcXVpcmUoJy4vcGFyc2luZy9wYWRkaW5nJyk7XG5cbnZhciBfcG9zaXRpb24gPSByZXF1aXJlKCcuL3BhcnNpbmcvcG9zaXRpb24nKTtcblxudmFyIF90ZXh0RGVjb3JhdGlvbiA9IHJlcXVpcmUoJy4vcGFyc2luZy90ZXh0RGVjb3JhdGlvbicpO1xuXG52YXIgX3RleHRTaGFkb3cgPSByZXF1aXJlKCcuL3BhcnNpbmcvdGV4dFNoYWRvdycpO1xuXG52YXIgX3RleHRUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL3BhcnNpbmcvdGV4dFRyYW5zZm9ybScpO1xuXG52YXIgX3RyYW5zZm9ybSA9IHJlcXVpcmUoJy4vcGFyc2luZy90cmFuc2Zvcm0nKTtcblxudmFyIF92aXNpYmlsaXR5ID0gcmVxdWlyZSgnLi9wYXJzaW5nL3Zpc2liaWxpdHknKTtcblxudmFyIF93b3JkQnJlYWsgPSByZXF1aXJlKCcuL3BhcnNpbmcvd29yZC1icmVhaycpO1xuXG52YXIgX3pJbmRleCA9IHJlcXVpcmUoJy4vcGFyc2luZy96SW5kZXgnKTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL0JvdW5kcycpO1xuXG52YXIgX0lucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xuXG52YXIgX0xpc3RJdGVtID0gcmVxdWlyZSgnLi9MaXN0SXRlbScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgSU5QVVRfVEFHUyA9IFsnSU5QVVQnLCAnVEVYVEFSRUEnLCAnU0VMRUNUJ107XG5cbnZhciBOb2RlQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vZGVDb250YWluZXIobm9kZSwgcGFyZW50LCByZXNvdXJjZUxvYWRlciwgaW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9kZUNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMudGFnTmFtZSA9IG5vZGUudGFnTmFtZTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmNoaWxkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5saXN0SXRlbXMgPSBbXTtcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlLnN0YXJ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5saXN0U3RhcnQgPSBub2RlLnN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWZhdWx0VmlldyA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgICAgdmFyIHNjcm9sbFggPSBkZWZhdWx0Vmlldy5wYWdlWE9mZnNldDtcbiAgICAgICAgdmFyIHNjcm9sbFkgPSBkZWZhdWx0Vmlldy5wYWdlWU9mZnNldDtcbiAgICAgICAgdmFyIHN0eWxlID0gZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKTtcbiAgICAgICAgdmFyIGRpc3BsYXkgPSAoMCwgX2Rpc3BsYXkucGFyc2VEaXNwbGF5KShzdHlsZS5kaXNwbGF5KTtcblxuICAgICAgICB2YXIgSVNfSU5QVVQgPSBub2RlLnR5cGUgPT09ICdyYWRpbycgfHwgbm9kZS50eXBlID09PSAnY2hlY2tib3gnO1xuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9ICgwLCBfcG9zaXRpb24ucGFyc2VQb3NpdGlvbikoc3R5bGUucG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuc3R5bGUgPSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBJU19JTlBVVCA/IF9JbnB1dC5JTlBVVF9CQUNLR1JPVU5EIDogKDAsIF9iYWNrZ3JvdW5kLnBhcnNlQmFja2dyb3VuZCkoc3R5bGUsIHJlc291cmNlTG9hZGVyKSxcbiAgICAgICAgICAgIGJvcmRlcjogSVNfSU5QVVQgPyBfSW5wdXQuSU5QVVRfQk9SREVSUyA6ICgwLCBfYm9yZGVyLnBhcnNlQm9yZGVyKShzdHlsZSksXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IChub2RlIGluc3RhbmNlb2YgZGVmYXVsdFZpZXcuSFRNTElucHV0RWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkgJiYgSVNfSU5QVVQgPyAoMCwgX0lucHV0LmdldElucHV0Qm9yZGVyUmFkaXVzKShub2RlKSA6ICgwLCBfYm9yZGVyUmFkaXVzLnBhcnNlQm9yZGVyUmFkaXVzKShzdHlsZSksXG4gICAgICAgICAgICBjb2xvcjogSVNfSU5QVVQgPyBfSW5wdXQuSU5QVVRfQ09MT1IgOiBuZXcgX0NvbG9yMi5kZWZhdWx0KHN0eWxlLmNvbG9yKSxcbiAgICAgICAgICAgIGRpc3BsYXk6IGRpc3BsYXksXG4gICAgICAgICAgICBmbG9hdDogKDAsIF9mbG9hdC5wYXJzZUNTU0Zsb2F0KShzdHlsZS5mbG9hdCksXG4gICAgICAgICAgICBmb250OiAoMCwgX2ZvbnQucGFyc2VGb250KShzdHlsZSksXG4gICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiAoMCwgX2xldHRlclNwYWNpbmcucGFyc2VMZXR0ZXJTcGFjaW5nKShzdHlsZS5sZXR0ZXJTcGFjaW5nKSxcbiAgICAgICAgICAgIGxpc3RTdHlsZTogZGlzcGxheSA9PT0gX2Rpc3BsYXkuRElTUExBWS5MSVNUX0lURU0gPyAoMCwgX2xpc3RTdHlsZS5wYXJzZUxpc3RTdHlsZSkoc3R5bGUpIDogbnVsbCxcbiAgICAgICAgICAgIGxpbmVCcmVhazogKDAsIF9saW5lQnJlYWsucGFyc2VMaW5lQnJlYWspKHN0eWxlLmxpbmVCcmVhayksXG4gICAgICAgICAgICBtYXJnaW46ICgwLCBfbWFyZ2luLnBhcnNlTWFyZ2luKShzdHlsZSksXG4gICAgICAgICAgICBvcGFjaXR5OiBwYXJzZUZsb2F0KHN0eWxlLm9wYWNpdHkpLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IElOUFVUX1RBR1MuaW5kZXhPZihub2RlLnRhZ05hbWUpID09PSAtMSA/ICgwLCBfb3ZlcmZsb3cucGFyc2VPdmVyZmxvdykoc3R5bGUub3ZlcmZsb3cpIDogX292ZXJmbG93Lk9WRVJGTE9XLkhJRERFTixcbiAgICAgICAgICAgIG92ZXJmbG93V3JhcDogKDAsIF9vdmVyZmxvd1dyYXAucGFyc2VPdmVyZmxvd1dyYXApKHN0eWxlLm92ZXJmbG93V3JhcCA/IHN0eWxlLm92ZXJmbG93V3JhcCA6IHN0eWxlLndvcmRXcmFwKSxcbiAgICAgICAgICAgIHBhZGRpbmc6ICgwLCBfcGFkZGluZy5wYXJzZVBhZGRpbmcpKHN0eWxlKSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiAoMCwgX3RleHREZWNvcmF0aW9uLnBhcnNlVGV4dERlY29yYXRpb24pKHN0eWxlKSxcbiAgICAgICAgICAgIHRleHRTaGFkb3c6ICgwLCBfdGV4dFNoYWRvdy5wYXJzZVRleHRTaGFkb3cpKHN0eWxlLnRleHRTaGFkb3cpLFxuICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogKDAsIF90ZXh0VHJhbnNmb3JtLnBhcnNlVGV4dFRyYW5zZm9ybSkoc3R5bGUudGV4dFRyYW5zZm9ybSksXG4gICAgICAgICAgICB0cmFuc2Zvcm06ICgwLCBfdHJhbnNmb3JtLnBhcnNlVHJhbnNmb3JtKShzdHlsZSksXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAoMCwgX3Zpc2liaWxpdHkucGFyc2VWaXNpYmlsaXR5KShzdHlsZS52aXNpYmlsaXR5KSxcbiAgICAgICAgICAgIHdvcmRCcmVhazogKDAsIF93b3JkQnJlYWsucGFyc2VXb3JkQnJlYWspKHN0eWxlLndvcmRCcmVhayksXG4gICAgICAgICAgICB6SW5kZXg6ICgwLCBfekluZGV4LnBhcnNlWkluZGV4KShwb3NpdGlvbiAhPT0gX3Bvc2l0aW9uLlBPU0lUSU9OLlNUQVRJQyA/IHN0eWxlLnpJbmRleCA6ICdhdXRvJylcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5pc1RyYW5zZm9ybWVkKCkpIHtcbiAgICAgICAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBwcm92aWRlcyB2YWx1ZXMgcG9zdC10cmFuc2Zvcm0sIHdlIHdhbnQgdGhlbSB3aXRob3V0IHRoZSB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSAnbWF0cml4KDEsMCwwLDEsMCwwKSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheSA9PT0gX2Rpc3BsYXkuRElTUExBWS5MSVNUX0lURU0pIHtcbiAgICAgICAgICAgIHZhciBsaXN0T3duZXIgPSAoMCwgX0xpc3RJdGVtLmdldExpc3RPd25lcikodGhpcyk7XG4gICAgICAgICAgICBpZiAobGlzdE93bmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RJbmRleCA9IGxpc3RPd25lci5saXN0SXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxpc3RPd25lci5saXN0SXRlbXMucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RJbmRleCA9IG5vZGUuaGFzQXR0cmlidXRlKCd2YWx1ZScpICYmIHR5cGVvZiBub2RlLnZhbHVlID09PSAnbnVtYmVyJyA/IG5vZGUudmFsdWUgOiBsaXN0SW5kZXggPT09IDAgPyB0eXBlb2YgbGlzdE93bmVyLmxpc3RTdGFydCA9PT0gJ251bWJlcicgPyBsaXN0T3duZXIubGlzdFN0YXJ0IDogMSA6IGxpc3RPd25lci5saXN0SXRlbXNbbGlzdEluZGV4IC0gMV0ubGlzdEluZGV4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbW92ZSBib3VuZCByZXRyaWV2YWwgZm9yIGFsbCBub2RlcyB0byBhIGxhdGVyIHN0YWdlP1xuICAgICAgICBpZiAobm9kZS50YWdOYW1lID09PSAnSU1HJykge1xuICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmJvdW5kcyA9ICgwLCBfQm91bmRzLnBhcnNlQm91bmRzKShub2RlLCBzY3JvbGxYLCBzY3JvbGxZKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJ2ZWRCb3VuZHMgPSAoMCwgX0JvdW5kcy5wYXJzZUJvdW5kQ3VydmVzKShfdGhpcy5ib3VuZHMsIF90aGlzLnN0eWxlLmJvcmRlciwgX3RoaXMuc3R5bGUuYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBnZXRJbWFnZShub2RlLCByZXNvdXJjZUxvYWRlcik7XG4gICAgICAgIHRoaXMuYm91bmRzID0gSVNfSU5QVVQgPyAoMCwgX0lucHV0LnJlZm9ybWF0SW5wdXRCb3VuZHMpKCgwLCBfQm91bmRzLnBhcnNlQm91bmRzKShub2RlLCBzY3JvbGxYLCBzY3JvbGxZKSkgOiAoMCwgX0JvdW5kcy5wYXJzZUJvdW5kcykobm9kZSwgc2Nyb2xsWCwgc2Nyb2xsWSk7XG4gICAgICAgIHRoaXMuY3VydmVkQm91bmRzID0gKDAsIF9Cb3VuZHMucGFyc2VCb3VuZEN1cnZlcykodGhpcy5ib3VuZHMsIHRoaXMuc3R5bGUuYm9yZGVyLCB0aGlzLnN0eWxlLmJvcmRlclJhZGl1cyk7XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9ICcnICsgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgKyAobm9kZS5pZCA/ICcjJyArIG5vZGUuaWQgOiAnJykgKyBub2RlLmNsYXNzTmFtZS50b1N0cmluZygpLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMubGVuZ3RoID8gJy4nICsgcyA6ICcnO1xuICAgICAgICAgICAgfSkuam9pbignJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTm9kZUNvbnRhaW5lciwgW3tcbiAgICAgICAga2V5OiAnZ2V0Q2xpcFBhdGhzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsaXBQYXRocygpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRDbGlwcyA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuZ2V0Q2xpcFBhdGhzKCkgOiBbXTtcbiAgICAgICAgICAgIHZhciBpc0NsaXBwZWQgPSB0aGlzLnN0eWxlLm92ZXJmbG93ICE9PSBfb3ZlcmZsb3cuT1ZFUkZMT1cuVklTSUJMRTtcblxuICAgICAgICAgICAgcmV0dXJuIGlzQ2xpcHBlZCA/IHBhcmVudENsaXBzLmNvbmNhdChbKDAsIF9Cb3VuZHMuY2FsY3VsYXRlUGFkZGluZ0JveFBhdGgpKHRoaXMuY3VydmVkQm91bmRzKV0pIDogcGFyZW50Q2xpcHM7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzSW5GbG93JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzSW5GbG93KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNSb290RWxlbWVudCgpICYmICF0aGlzLmlzRmxvYXRpbmcoKSAmJiAhdGhpcy5pc0Fic29sdXRlbHlQb3NpdGlvbmVkKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzVmlzaWJsZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Zpc2libGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gISgwLCBfVXRpbC5jb250YWlucykodGhpcy5zdHlsZS5kaXNwbGF5LCBfZGlzcGxheS5ESVNQTEFZLk5PTkUpICYmIHRoaXMuc3R5bGUub3BhY2l0eSA+IDAgJiYgdGhpcy5zdHlsZS52aXNpYmlsaXR5ID09PSBfdmlzaWJpbGl0eS5WSVNJQklMSVRZLlZJU0lCTEU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzQWJzb2x1dGVseVBvc2l0aW9uZWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNBYnNvbHV0ZWx5UG9zaXRpb25lZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnBvc2l0aW9uICE9PSBfcG9zaXRpb24uUE9TSVRJT04uU1RBVElDICYmIHRoaXMuc3R5bGUucG9zaXRpb24gIT09IF9wb3NpdGlvbi5QT1NJVElPTi5SRUxBVElWRTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNQb3NpdGlvbmVkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzUG9zaXRpb25lZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnBvc2l0aW9uICE9PSBfcG9zaXRpb24uUE9TSVRJT04uU1RBVElDO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0Zsb2F0aW5nJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzRmxvYXRpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5mbG9hdCAhPT0gX2Zsb2F0LkZMT0FULk5PTkU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzUm9vdEVsZW1lbnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNSb290RWxlbWVudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNUcmFuc2Zvcm1lZCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1RyYW5zZm9ybWVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUudHJhbnNmb3JtICE9PSBudWxsO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc1Bvc2l0aW9uZWRXaXRoWkluZGV4JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzUG9zaXRpb25lZFdpdGhaSW5kZXgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvc2l0aW9uZWQoKSAmJiAhdGhpcy5zdHlsZS56SW5kZXguYXV0bztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNJbmxpbmVMZXZlbCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0lubGluZUxldmVsKCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfVXRpbC5jb250YWlucykodGhpcy5zdHlsZS5kaXNwbGF5LCBfZGlzcGxheS5ESVNQTEFZLklOTElORSkgfHwgKDAsIF9VdGlsLmNvbnRhaW5zKSh0aGlzLnN0eWxlLmRpc3BsYXksIF9kaXNwbGF5LkRJU1BMQVkuSU5MSU5FX0JMT0NLKSB8fCAoMCwgX1V0aWwuY29udGFpbnMpKHRoaXMuc3R5bGUuZGlzcGxheSwgX2Rpc3BsYXkuRElTUExBWS5JTkxJTkVfRkxFWCkgfHwgKDAsIF9VdGlsLmNvbnRhaW5zKSh0aGlzLnN0eWxlLmRpc3BsYXksIF9kaXNwbGF5LkRJU1BMQVkuSU5MSU5FX0dSSUQpIHx8ICgwLCBfVXRpbC5jb250YWlucykodGhpcy5zdHlsZS5kaXNwbGF5LCBfZGlzcGxheS5ESVNQTEFZLklOTElORV9MSVNUX0lURU0pIHx8ICgwLCBfVXRpbC5jb250YWlucykodGhpcy5zdHlsZS5kaXNwbGF5LCBfZGlzcGxheS5ESVNQTEFZLklOTElORV9UQUJMRSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzSW5saW5lQmxvY2tPcklubGluZVRhYmxlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzSW5saW5lQmxvY2tPcklubGluZVRhYmxlKCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfVXRpbC5jb250YWlucykodGhpcy5zdHlsZS5kaXNwbGF5LCBfZGlzcGxheS5ESVNQTEFZLklOTElORV9CTE9DSykgfHwgKDAsIF9VdGlsLmNvbnRhaW5zKSh0aGlzLnN0eWxlLmRpc3BsYXksIF9kaXNwbGF5LkRJU1BMQVkuSU5MSU5FX1RBQkxFKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOb2RlQ29udGFpbmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOb2RlQ29udGFpbmVyO1xuXG5cbnZhciBnZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlKG5vZGUsIHJlc291cmNlTG9hZGVyKSB7XG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuU1ZHU1ZHRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgU1ZHU1ZHRWxlbWVudCkge1xuICAgICAgICB2YXIgcyA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gICAgICAgIHJldHVybiByZXNvdXJjZUxvYWRlci5sb2FkSW1hZ2UoJ2RhdGE6aW1hZ2Uvc3ZnK3htbCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuc2VyaWFsaXplVG9TdHJpbmcobm9kZSkpKTtcbiAgICB9XG4gICAgc3dpdGNoIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnSU1HJzpcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIHZhciBpbWcgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlTG9hZGVyLmxvYWRJbWFnZShpbWcuY3VycmVudFNyYyB8fCBpbWcuc3JjKTtcbiAgICAgICAgY2FzZSAnQ0FOVkFTJzpcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlTG9hZGVyLmxvYWRDYW52YXMoY2FudmFzKTtcbiAgICAgICAgY2FzZSAnSUZSQU1FJzpcbiAgICAgICAgICAgIHZhciBpZnJhbWVLZXkgPSBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1odG1sMmNhbnZhcy1pbnRlcm5hbC1pZnJhbWUta2V5Jyk7XG4gICAgICAgICAgICBpZiAoaWZyYW1lS2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlmcmFtZUtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vTm9kZUNvbnRhaW5lci5qc1xuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 59 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar contains = exports.contains = function contains(bit, value) {\n    return (bit & value) !== 0;\n};\n\nvar distance = exports.distance = function distance(a, b) {\n    return Math.sqrt(a * a + b * b);\n};\n\nvar copyCSSStyles = exports.copyCSSStyles = function copyCSSStyles(style, target) {\n    // Edge does not provide value for cssText\n    for (var i = style.length - 1; i >= 0; i--) {\n        var property = style.item(i);\n        // Safari shows pseudoelements if content is set\n        if (property !== 'content') {\n            target.style.setProperty(property, style.getPropertyValue(property));\n        }\n    }\n    return target;\n};\n\nvar SMALL_IMAGE = exports.SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1V0aWwuanM/YTIyOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdEIiwiZmlsZSI6IjU5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgY29udGFpbnMgPSBleHBvcnRzLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoYml0LCB2YWx1ZSkge1xuICAgIHJldHVybiAoYml0ICYgdmFsdWUpICE9PSAwO1xufTtcblxudmFyIGRpc3RhbmNlID0gZXhwb3J0cy5kaXN0YW5jZSA9IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xufTtcblxudmFyIGNvcHlDU1NTdHlsZXMgPSBleHBvcnRzLmNvcHlDU1NTdHlsZXMgPSBmdW5jdGlvbiBjb3B5Q1NTU3R5bGVzKHN0eWxlLCB0YXJnZXQpIHtcbiAgICAvLyBFZGdlIGRvZXMgbm90IHByb3ZpZGUgdmFsdWUgZm9yIGNzc1RleHRcbiAgICBmb3IgKHZhciBpID0gc3R5bGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gc3R5bGUuaXRlbShpKTtcbiAgICAgICAgLy8gU2FmYXJpIHNob3dzIHBzZXVkb2VsZW1lbnRzIGlmIGNvbnRlbnQgaXMgc2V0XG4gICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgICB0YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIFNNQUxMX0lNQUdFID0gZXhwb3J0cy5TTUFMTF9JTUFHRSA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcnO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9VdGlsLmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBackgroundImage = exports.parseBackground = exports.calculateBackgroundRepeatPath = exports.calculateBackgroundPosition = exports.calculateBackgroungPositioningArea = exports.calculateBackgroungPaintingArea = exports.calculateGradientBackgroundSize = exports.calculateBackgroundSize = exports.BACKGROUND_ORIGIN = exports.BACKGROUND_CLIP = exports.BACKGROUND_SIZE = exports.BACKGROUND_REPEAT = undefined;\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Length = __webpack_require__(61);\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nvar _Size = __webpack_require__(62);\n\nvar _Size2 = _interopRequireDefault(_Size);\n\nvar _Vector = __webpack_require__(63);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _Bounds = __webpack_require__(64);\n\nvar _padding = __webpack_require__(66);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BACKGROUND_REPEAT = exports.BACKGROUND_REPEAT = {\n    REPEAT: 0,\n    NO_REPEAT: 1,\n    REPEAT_X: 2,\n    REPEAT_Y: 3\n};\n\nvar BACKGROUND_SIZE = exports.BACKGROUND_SIZE = {\n    AUTO: 0,\n    CONTAIN: 1,\n    COVER: 2,\n    LENGTH: 3\n};\n\nvar BACKGROUND_CLIP = exports.BACKGROUND_CLIP = {\n    BORDER_BOX: 0,\n    PADDING_BOX: 1,\n    CONTENT_BOX: 2\n};\n\nvar BACKGROUND_ORIGIN = exports.BACKGROUND_ORIGIN = BACKGROUND_CLIP;\n\nvar AUTO = 'auto';\n\nvar BackgroundSize = function BackgroundSize(size) {\n    _classCallCheck(this, BackgroundSize);\n\n    switch (size) {\n        case 'contain':\n            this.size = BACKGROUND_SIZE.CONTAIN;\n            break;\n        case 'cover':\n            this.size = BACKGROUND_SIZE.COVER;\n            break;\n        case 'auto':\n            this.size = BACKGROUND_SIZE.AUTO;\n            break;\n        default:\n            this.value = new _Length2.default(size);\n    }\n};\n\nvar calculateBackgroundSize = exports.calculateBackgroundSize = function calculateBackgroundSize(backgroundImage, image, bounds) {\n    var width = 0;\n    var height = 0;\n    var size = backgroundImage.size;\n    if (size[0].size === BACKGROUND_SIZE.CONTAIN || size[0].size === BACKGROUND_SIZE.COVER) {\n        var targetRatio = bounds.width / bounds.height;\n        var currentRatio = image.width / image.height;\n        return targetRatio < currentRatio !== (size[0].size === BACKGROUND_SIZE.COVER) ? new _Size2.default(bounds.width, bounds.width / currentRatio) : new _Size2.default(bounds.height * currentRatio, bounds.height);\n    }\n\n    if (size[0].value) {\n        width = size[0].value.getAbsoluteValue(bounds.width);\n    }\n\n    if (size[0].size === BACKGROUND_SIZE.AUTO && size[1].size === BACKGROUND_SIZE.AUTO) {\n        height = image.height;\n    } else if (size[1].size === BACKGROUND_SIZE.AUTO) {\n        height = width / image.width * image.height;\n    } else if (size[1].value) {\n        height = size[1].value.getAbsoluteValue(bounds.height);\n    }\n\n    if (size[0].size === BACKGROUND_SIZE.AUTO) {\n        width = height / image.height * image.width;\n    }\n\n    return new _Size2.default(width, height);\n};\n\nvar calculateGradientBackgroundSize = exports.calculateGradientBackgroundSize = function calculateGradientBackgroundSize(backgroundImage, bounds) {\n    var size = backgroundImage.size;\n    var width = size[0].value ? size[0].value.getAbsoluteValue(bounds.width) : bounds.width;\n    var height = size[1].value ? size[1].value.getAbsoluteValue(bounds.height) : size[0].value ? width : bounds.height;\n\n    return new _Size2.default(width, height);\n};\n\nvar AUTO_SIZE = new BackgroundSize(AUTO);\n\nvar calculateBackgroungPaintingArea = exports.calculateBackgroungPaintingArea = function calculateBackgroungPaintingArea(curves, clip) {\n    switch (clip) {\n        case BACKGROUND_CLIP.BORDER_BOX:\n            return (0, _Bounds.calculateBorderBoxPath)(curves);\n        case BACKGROUND_CLIP.PADDING_BOX:\n        default:\n            return (0, _Bounds.calculatePaddingBoxPath)(curves);\n    }\n};\n\nvar calculateBackgroungPositioningArea = exports.calculateBackgroungPositioningArea = function calculateBackgroungPositioningArea(backgroundOrigin, bounds, padding, border) {\n    var paddingBox = (0, _Bounds.calculatePaddingBox)(bounds, border);\n\n    switch (backgroundOrigin) {\n        case BACKGROUND_ORIGIN.BORDER_BOX:\n            return bounds;\n        case BACKGROUND_ORIGIN.CONTENT_BOX:\n            var paddingLeft = padding[_padding.PADDING_SIDES.LEFT].getAbsoluteValue(bounds.width);\n            var paddingRight = padding[_padding.PADDING_SIDES.RIGHT].getAbsoluteValue(bounds.width);\n            var paddingTop = padding[_padding.PADDING_SIDES.TOP].getAbsoluteValue(bounds.width);\n            var paddingBottom = padding[_padding.PADDING_SIDES.BOTTOM].getAbsoluteValue(bounds.width);\n            return new _Bounds.Bounds(paddingBox.left + paddingLeft, paddingBox.top + paddingTop, paddingBox.width - paddingLeft - paddingRight, paddingBox.height - paddingTop - paddingBottom);\n        case BACKGROUND_ORIGIN.PADDING_BOX:\n        default:\n            return paddingBox;\n    }\n};\n\nvar calculateBackgroundPosition = exports.calculateBackgroundPosition = function calculateBackgroundPosition(position, size, bounds) {\n    return new _Vector2.default(position[0].getAbsoluteValue(bounds.width - size.width), position[1].getAbsoluteValue(bounds.height - size.height));\n};\n\nvar calculateBackgroundRepeatPath = exports.calculateBackgroundRepeatPath = function calculateBackgroundRepeatPath(background, position, size, backgroundPositioningArea, bounds) {\n    var repeat = background.repeat;\n    switch (repeat) {\n        case BACKGROUND_REPEAT.REPEAT_X:\n            return [new _Vector2.default(Math.round(bounds.left), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(size.height + backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left), Math.round(size.height + backgroundPositioningArea.top + position.y))];\n        case BACKGROUND_REPEAT.REPEAT_Y:\n            return [new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.height + bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.height + bounds.top))];\n        case BACKGROUND_REPEAT.NO_REPEAT:\n            return [new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y + size.height)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y + size.height))];\n        default:\n            return [new _Vector2.default(Math.round(bounds.left), Math.round(bounds.top)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(bounds.top)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(bounds.height + bounds.top)), new _Vector2.default(Math.round(bounds.left), Math.round(bounds.height + bounds.top))];\n    }\n};\n\nvar parseBackground = exports.parseBackground = function parseBackground(style, resourceLoader) {\n    return {\n        backgroundColor: new _Color2.default(style.backgroundColor),\n        backgroundImage: parseBackgroundImages(style, resourceLoader),\n        backgroundClip: parseBackgroundClip(style.backgroundClip),\n        backgroundOrigin: parseBackgroundOrigin(style.backgroundOrigin)\n    };\n};\n\nvar parseBackgroundClip = function parseBackgroundClip(backgroundClip) {\n    switch (backgroundClip) {\n        case 'padding-box':\n            return BACKGROUND_CLIP.PADDING_BOX;\n        case 'content-box':\n            return BACKGROUND_CLIP.CONTENT_BOX;\n    }\n    return BACKGROUND_CLIP.BORDER_BOX;\n};\n\nvar parseBackgroundOrigin = function parseBackgroundOrigin(backgroundOrigin) {\n    switch (backgroundOrigin) {\n        case 'padding-box':\n            return BACKGROUND_ORIGIN.PADDING_BOX;\n        case 'content-box':\n            return BACKGROUND_ORIGIN.CONTENT_BOX;\n    }\n    return BACKGROUND_ORIGIN.BORDER_BOX;\n};\n\nvar parseBackgroundRepeat = function parseBackgroundRepeat(backgroundRepeat) {\n    switch (backgroundRepeat.trim()) {\n        case 'no-repeat':\n            return BACKGROUND_REPEAT.NO_REPEAT;\n        case 'repeat-x':\n        case 'repeat no-repeat':\n            return BACKGROUND_REPEAT.REPEAT_X;\n        case 'repeat-y':\n        case 'no-repeat repeat':\n            return BACKGROUND_REPEAT.REPEAT_Y;\n        case 'repeat':\n            return BACKGROUND_REPEAT.REPEAT;\n    }\n\n    if (true) {\n        console.error('Invalid background-repeat value \"' + backgroundRepeat + '\"');\n    }\n\n    return BACKGROUND_REPEAT.REPEAT;\n};\n\nvar parseBackgroundImages = function parseBackgroundImages(style, resourceLoader) {\n    var sources = parseBackgroundImage(style.backgroundImage).map(function (backgroundImage) {\n        if (backgroundImage.method === 'url') {\n            var key = resourceLoader.loadImage(backgroundImage.args[0]);\n            backgroundImage.args = key ? [key] : [];\n        }\n        return backgroundImage;\n    });\n    var positions = style.backgroundPosition.split(',');\n    var repeats = style.backgroundRepeat.split(',');\n    var sizes = style.backgroundSize.split(',');\n\n    return sources.map(function (source, index) {\n        var size = (sizes[index] || AUTO).trim().split(' ').map(parseBackgroundSize);\n        var position = (positions[index] || AUTO).trim().split(' ').map(parseBackgoundPosition);\n\n        return {\n            source: source,\n            repeat: parseBackgroundRepeat(typeof repeats[index] === 'string' ? repeats[index] : repeats[0]),\n            size: size.length < 2 ? [size[0], AUTO_SIZE] : [size[0], size[1]],\n            position: position.length < 2 ? [position[0], position[0]] : [position[0], position[1]]\n        };\n    });\n};\n\nvar parseBackgroundSize = function parseBackgroundSize(size) {\n    return size === 'auto' ? AUTO_SIZE : new BackgroundSize(size);\n};\n\nvar parseBackgoundPosition = function parseBackgoundPosition(position) {\n    switch (position) {\n        case 'bottom':\n        case 'right':\n            return new _Length2.default('100%');\n        case 'left':\n        case 'top':\n            return new _Length2.default('0%');\n        case 'auto':\n            return new _Length2.default('0');\n    }\n    return new _Length2.default(position);\n};\n\nvar parseBackgroundImage = exports.parseBackgroundImage = function parseBackgroundImage(image) {\n    var whitespace = /^\\s$/;\n    var results = [];\n\n    var args = [];\n    var method = '';\n    var quote = null;\n    var definition = '';\n    var mode = 0;\n    var numParen = 0;\n\n    var appendResult = function appendResult() {\n        var prefix = '';\n        if (method) {\n            if (definition.substr(0, 1) === '\"') {\n                definition = definition.substr(1, definition.length - 2);\n            }\n\n            if (definition) {\n                args.push(definition.trim());\n            }\n\n            var prefix_i = method.indexOf('-', 1) + 1;\n            if (method.substr(0, 1) === '-' && prefix_i > 0) {\n                prefix = method.substr(0, prefix_i).toLowerCase();\n                method = method.substr(prefix_i);\n            }\n            method = method.toLowerCase();\n            if (method !== 'none') {\n                results.push({\n                    prefix: prefix,\n                    method: method,\n                    args: args\n                });\n            }\n        }\n        args = [];\n        method = definition = '';\n    };\n\n    image.split('').forEach(function (c) {\n        if (mode === 0 && whitespace.test(c)) {\n            return;\n        }\n        switch (c) {\n            case '\"':\n                if (!quote) {\n                    quote = c;\n                } else if (quote === c) {\n                    quote = null;\n                }\n                break;\n            case '(':\n                if (quote) {\n                    break;\n                } else if (mode === 0) {\n                    mode = 1;\n                    return;\n                } else {\n                    numParen++;\n                }\n                break;\n            case ')':\n                if (quote) {\n                    break;\n                } else if (mode === 1) {\n                    if (numParen === 0) {\n                        mode = 0;\n                        appendResult();\n                        return;\n                    } else {\n                        numParen--;\n                    }\n                }\n                break;\n\n            case ',':\n                if (quote) {\n                    break;\n                } else if (mode === 0) {\n                    appendResult();\n                    return;\n                } else if (mode === 1) {\n                    if (numParen === 0 && !method.match(/^url$/i)) {\n                        args.push(definition.trim());\n                        definition = '';\n                        return;\n                    }\n                }\n                break;\n        }\n\n        if (mode === 0) {\n            method += c;\n        } else {\n            definition += c;\n        }\n    });\n\n    appendResult();\n    return results;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvYmFja2dyb3VuZC5qcz8wNzc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSIsImZpbGUiOiI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wYXJzZUJhY2tncm91bmRJbWFnZSA9IGV4cG9ydHMucGFyc2VCYWNrZ3JvdW5kID0gZXhwb3J0cy5jYWxjdWxhdGVCYWNrZ3JvdW5kUmVwZWF0UGF0aCA9IGV4cG9ydHMuY2FsY3VsYXRlQmFja2dyb3VuZFBvc2l0aW9uID0gZXhwb3J0cy5jYWxjdWxhdGVCYWNrZ3JvdW5nUG9zaXRpb25pbmdBcmVhID0gZXhwb3J0cy5jYWxjdWxhdGVCYWNrZ3JvdW5nUGFpbnRpbmdBcmVhID0gZXhwb3J0cy5jYWxjdWxhdGVHcmFkaWVudEJhY2tncm91bmRTaXplID0gZXhwb3J0cy5jYWxjdWxhdGVCYWNrZ3JvdW5kU2l6ZSA9IGV4cG9ydHMuQkFDS0dST1VORF9PUklHSU4gPSBleHBvcnRzLkJBQ0tHUk9VTkRfQ0xJUCA9IGV4cG9ydHMuQkFDS0dST1VORF9TSVpFID0gZXhwb3J0cy5CQUNLR1JPVU5EX1JFUEVBVCA9IHVuZGVmaW5lZDtcblxudmFyIF9Db2xvciA9IHJlcXVpcmUoJy4uL0NvbG9yJyk7XG5cbnZhciBfQ29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3IpO1xuXG52YXIgX0xlbmd0aCA9IHJlcXVpcmUoJy4uL0xlbmd0aCcpO1xuXG52YXIgX0xlbmd0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MZW5ndGgpO1xuXG52YXIgX1NpemUgPSByZXF1aXJlKCcuLi9kcmF3aW5nL1NpemUnKTtcblxudmFyIF9TaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NpemUpO1xuXG52YXIgX1ZlY3RvciA9IHJlcXVpcmUoJy4uL2RyYXdpbmcvVmVjdG9yJyk7XG5cbnZhciBfVmVjdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlY3Rvcik7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi4vQm91bmRzJyk7XG5cbnZhciBfcGFkZGluZyA9IHJlcXVpcmUoJy4vcGFkZGluZycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQkFDS0dST1VORF9SRVBFQVQgPSBleHBvcnRzLkJBQ0tHUk9VTkRfUkVQRUFUID0ge1xuICAgIFJFUEVBVDogMCxcbiAgICBOT19SRVBFQVQ6IDEsXG4gICAgUkVQRUFUX1g6IDIsXG4gICAgUkVQRUFUX1k6IDNcbn07XG5cbnZhciBCQUNLR1JPVU5EX1NJWkUgPSBleHBvcnRzLkJBQ0tHUk9VTkRfU0laRSA9IHtcbiAgICBBVVRPOiAwLFxuICAgIENPTlRBSU46IDEsXG4gICAgQ09WRVI6IDIsXG4gICAgTEVOR1RIOiAzXG59O1xuXG52YXIgQkFDS0dST1VORF9DTElQID0gZXhwb3J0cy5CQUNLR1JPVU5EX0NMSVAgPSB7XG4gICAgQk9SREVSX0JPWDogMCxcbiAgICBQQURESU5HX0JPWDogMSxcbiAgICBDT05URU5UX0JPWDogMlxufTtcblxudmFyIEJBQ0tHUk9VTkRfT1JJR0lOID0gZXhwb3J0cy5CQUNLR1JPVU5EX09SSUdJTiA9IEJBQ0tHUk9VTkRfQ0xJUDtcblxudmFyIEFVVE8gPSAnYXV0byc7XG5cbnZhciBCYWNrZ3JvdW5kU2l6ZSA9IGZ1bmN0aW9uIEJhY2tncm91bmRTaXplKHNpemUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFja2dyb3VuZFNpemUpO1xuXG4gICAgc3dpdGNoIChzaXplKSB7XG4gICAgICAgIGNhc2UgJ2NvbnRhaW4nOlxuICAgICAgICAgICAgdGhpcy5zaXplID0gQkFDS0dST1VORF9TSVpFLkNPTlRBSU47XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY292ZXInOlxuICAgICAgICAgICAgdGhpcy5zaXplID0gQkFDS0dST1VORF9TSVpFLkNPVkVSO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICAgICAgdGhpcy5zaXplID0gQkFDS0dST1VORF9TSVpFLkFVVE87XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXcgX0xlbmd0aDIuZGVmYXVsdChzaXplKTtcbiAgICB9XG59O1xuXG52YXIgY2FsY3VsYXRlQmFja2dyb3VuZFNpemUgPSBleHBvcnRzLmNhbGN1bGF0ZUJhY2tncm91bmRTaXplID0gZnVuY3Rpb24gY2FsY3VsYXRlQmFja2dyb3VuZFNpemUoYmFja2dyb3VuZEltYWdlLCBpbWFnZSwgYm91bmRzKSB7XG4gICAgdmFyIHdpZHRoID0gMDtcbiAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICB2YXIgc2l6ZSA9IGJhY2tncm91bmRJbWFnZS5zaXplO1xuICAgIGlmIChzaXplWzBdLnNpemUgPT09IEJBQ0tHUk9VTkRfU0laRS5DT05UQUlOIHx8IHNpemVbMF0uc2l6ZSA9PT0gQkFDS0dST1VORF9TSVpFLkNPVkVSKSB7XG4gICAgICAgIHZhciB0YXJnZXRSYXRpbyA9IGJvdW5kcy53aWR0aCAvIGJvdW5kcy5oZWlnaHQ7XG4gICAgICAgIHZhciBjdXJyZW50UmF0aW8gPSBpbWFnZS53aWR0aCAvIGltYWdlLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHRhcmdldFJhdGlvIDwgY3VycmVudFJhdGlvICE9PSAoc2l6ZVswXS5zaXplID09PSBCQUNLR1JPVU5EX1NJWkUuQ09WRVIpID8gbmV3IF9TaXplMi5kZWZhdWx0KGJvdW5kcy53aWR0aCwgYm91bmRzLndpZHRoIC8gY3VycmVudFJhdGlvKSA6IG5ldyBfU2l6ZTIuZGVmYXVsdChib3VuZHMuaGVpZ2h0ICogY3VycmVudFJhdGlvLCBib3VuZHMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZVswXS52YWx1ZSkge1xuICAgICAgICB3aWR0aCA9IHNpemVbMF0udmFsdWUuZ2V0QWJzb2x1dGVWYWx1ZShib3VuZHMud2lkdGgpO1xuICAgIH1cblxuICAgIGlmIChzaXplWzBdLnNpemUgPT09IEJBQ0tHUk9VTkRfU0laRS5BVVRPICYmIHNpemVbMV0uc2l6ZSA9PT0gQkFDS0dST1VORF9TSVpFLkFVVE8pIHtcbiAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoc2l6ZVsxXS5zaXplID09PSBCQUNLR1JPVU5EX1NJWkUuQVVUTykge1xuICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGltYWdlLndpZHRoICogaW1hZ2UuaGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoc2l6ZVsxXS52YWx1ZSkge1xuICAgICAgICBoZWlnaHQgPSBzaXplWzFdLnZhbHVlLmdldEFic29sdXRlVmFsdWUoYm91bmRzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKHNpemVbMF0uc2l6ZSA9PT0gQkFDS0dST1VORF9TSVpFLkFVVE8pIHtcbiAgICAgICAgd2lkdGggPSBoZWlnaHQgLyBpbWFnZS5oZWlnaHQgKiBpbWFnZS53aWR0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IF9TaXplMi5kZWZhdWx0KHdpZHRoLCBoZWlnaHQpO1xufTtcblxudmFyIGNhbGN1bGF0ZUdyYWRpZW50QmFja2dyb3VuZFNpemUgPSBleHBvcnRzLmNhbGN1bGF0ZUdyYWRpZW50QmFja2dyb3VuZFNpemUgPSBmdW5jdGlvbiBjYWxjdWxhdGVHcmFkaWVudEJhY2tncm91bmRTaXplKGJhY2tncm91bmRJbWFnZSwgYm91bmRzKSB7XG4gICAgdmFyIHNpemUgPSBiYWNrZ3JvdW5kSW1hZ2Uuc2l6ZTtcbiAgICB2YXIgd2lkdGggPSBzaXplWzBdLnZhbHVlID8gc2l6ZVswXS52YWx1ZS5nZXRBYnNvbHV0ZVZhbHVlKGJvdW5kcy53aWR0aCkgOiBib3VuZHMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHNpemVbMV0udmFsdWUgPyBzaXplWzFdLnZhbHVlLmdldEFic29sdXRlVmFsdWUoYm91bmRzLmhlaWdodCkgOiBzaXplWzBdLnZhbHVlID8gd2lkdGggOiBib3VuZHMuaGVpZ2h0O1xuXG4gICAgcmV0dXJuIG5ldyBfU2l6ZTIuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbnZhciBBVVRPX1NJWkUgPSBuZXcgQmFja2dyb3VuZFNpemUoQVVUTyk7XG5cbnZhciBjYWxjdWxhdGVCYWNrZ3JvdW5nUGFpbnRpbmdBcmVhID0gZXhwb3J0cy5jYWxjdWxhdGVCYWNrZ3JvdW5nUGFpbnRpbmdBcmVhID0gZnVuY3Rpb24gY2FsY3VsYXRlQmFja2dyb3VuZ1BhaW50aW5nQXJlYShjdXJ2ZXMsIGNsaXApIHtcbiAgICBzd2l0Y2ggKGNsaXApIHtcbiAgICAgICAgY2FzZSBCQUNLR1JPVU5EX0NMSVAuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgX0JvdW5kcy5jYWxjdWxhdGVCb3JkZXJCb3hQYXRoKShjdXJ2ZXMpO1xuICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfQ0xJUC5QQURESU5HX0JPWDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgX0JvdW5kcy5jYWxjdWxhdGVQYWRkaW5nQm94UGF0aCkoY3VydmVzKTtcbiAgICB9XG59O1xuXG52YXIgY2FsY3VsYXRlQmFja2dyb3VuZ1Bvc2l0aW9uaW5nQXJlYSA9IGV4cG9ydHMuY2FsY3VsYXRlQmFja2dyb3VuZ1Bvc2l0aW9uaW5nQXJlYSA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2tncm91bmdQb3NpdGlvbmluZ0FyZWEoYmFja2dyb3VuZE9yaWdpbiwgYm91bmRzLCBwYWRkaW5nLCBib3JkZXIpIHtcbiAgICB2YXIgcGFkZGluZ0JveCA9ICgwLCBfQm91bmRzLmNhbGN1bGF0ZVBhZGRpbmdCb3gpKGJvdW5kcywgYm9yZGVyKTtcblxuICAgIHN3aXRjaCAoYmFja2dyb3VuZE9yaWdpbikge1xuICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfT1JJR0lOLkJPUkRFUl9CT1g6XG4gICAgICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfT1JJR0lOLkNPTlRFTlRfQk9YOlxuICAgICAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFkZGluZ1tfcGFkZGluZy5QQURESU5HX1NJREVTLkxFRlRdLmdldEFic29sdXRlVmFsdWUoYm91bmRzLndpZHRoKTtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nUmlnaHQgPSBwYWRkaW5nW19wYWRkaW5nLlBBRERJTkdfU0lERVMuUklHSFRdLmdldEFic29sdXRlVmFsdWUoYm91bmRzLndpZHRoKTtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nVG9wID0gcGFkZGluZ1tfcGFkZGluZy5QQURESU5HX1NJREVTLlRPUF0uZ2V0QWJzb2x1dGVWYWx1ZShib3VuZHMud2lkdGgpO1xuICAgICAgICAgICAgdmFyIHBhZGRpbmdCb3R0b20gPSBwYWRkaW5nW19wYWRkaW5nLlBBRERJTkdfU0lERVMuQk9UVE9NXS5nZXRBYnNvbHV0ZVZhbHVlKGJvdW5kcy53aWR0aCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9Cb3VuZHMuQm91bmRzKHBhZGRpbmdCb3gubGVmdCArIHBhZGRpbmdMZWZ0LCBwYWRkaW5nQm94LnRvcCArIHBhZGRpbmdUb3AsIHBhZGRpbmdCb3gud2lkdGggLSBwYWRkaW5nTGVmdCAtIHBhZGRpbmdSaWdodCwgcGFkZGluZ0JveC5oZWlnaHQgLSBwYWRkaW5nVG9wIC0gcGFkZGluZ0JvdHRvbSk7XG4gICAgICAgIGNhc2UgQkFDS0dST1VORF9PUklHSU4uUEFERElOR19CT1g6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gcGFkZGluZ0JveDtcbiAgICB9XG59O1xuXG52YXIgY2FsY3VsYXRlQmFja2dyb3VuZFBvc2l0aW9uID0gZXhwb3J0cy5jYWxjdWxhdGVCYWNrZ3JvdW5kUG9zaXRpb24gPSBmdW5jdGlvbiBjYWxjdWxhdGVCYWNrZ3JvdW5kUG9zaXRpb24ocG9zaXRpb24sIHNpemUsIGJvdW5kcykge1xuICAgIHJldHVybiBuZXcgX1ZlY3RvcjIuZGVmYXVsdChwb3NpdGlvblswXS5nZXRBYnNvbHV0ZVZhbHVlKGJvdW5kcy53aWR0aCAtIHNpemUud2lkdGgpLCBwb3NpdGlvblsxXS5nZXRBYnNvbHV0ZVZhbHVlKGJvdW5kcy5oZWlnaHQgLSBzaXplLmhlaWdodCkpO1xufTtcblxudmFyIGNhbGN1bGF0ZUJhY2tncm91bmRSZXBlYXRQYXRoID0gZXhwb3J0cy5jYWxjdWxhdGVCYWNrZ3JvdW5kUmVwZWF0UGF0aCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2tncm91bmRSZXBlYXRQYXRoKGJhY2tncm91bmQsIHBvc2l0aW9uLCBzaXplLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLCBib3VuZHMpIHtcbiAgICB2YXIgcmVwZWF0ID0gYmFja2dyb3VuZC5yZXBlYXQ7XG4gICAgc3dpdGNoIChyZXBlYXQpIHtcbiAgICAgICAgY2FzZSBCQUNLR1JPVU5EX1JFUEVBVC5SRVBFQVRfWDpcbiAgICAgICAgICAgIHJldHVybiBbbmV3IF9WZWN0b3IyLmRlZmF1bHQoTWF0aC5yb3VuZChib3VuZHMubGVmdCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyBwb3NpdGlvbi55KSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KE1hdGgucm91bmQoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb24ueSkpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdChNYXRoLnJvdW5kKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoKSwgTWF0aC5yb3VuZChzaXplLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb24ueSkpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdChNYXRoLnJvdW5kKGJvdW5kcy5sZWZ0KSwgTWF0aC5yb3VuZChzaXplLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb24ueSkpXTtcbiAgICAgICAgY2FzZSBCQUNLR1JPVU5EX1JFUEVBVC5SRVBFQVRfWTpcbiAgICAgICAgICAgIHJldHVybiBbbmV3IF9WZWN0b3IyLmRlZmF1bHQoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBwb3NpdGlvbi54KSwgTWF0aC5yb3VuZChib3VuZHMudG9wKSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgcG9zaXRpb24ueCArIHNpemUud2lkdGgpLCBNYXRoLnJvdW5kKGJvdW5kcy50b3ApKSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBwb3NpdGlvbi54ICsgc2l6ZS53aWR0aCksIE1hdGgucm91bmQoYm91bmRzLmhlaWdodCArIGJvdW5kcy50b3ApKSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBwb3NpdGlvbi54KSwgTWF0aC5yb3VuZChib3VuZHMuaGVpZ2h0ICsgYm91bmRzLnRvcCkpXTtcbiAgICAgICAgY2FzZSBCQUNLR1JPVU5EX1JFUEVBVC5OT19SRVBFQVQ6XG4gICAgICAgICAgICByZXR1cm4gW25ldyBfVmVjdG9yMi5kZWZhdWx0KE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgcG9zaXRpb24ueCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyBwb3NpdGlvbi55KSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgcG9zaXRpb24ueCArIHNpemUud2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb24ueSkpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdChNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHBvc2l0aW9uLnggKyBzaXplLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHBvc2l0aW9uLnkgKyBzaXplLmhlaWdodCkpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdChNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHBvc2l0aW9uLngpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb24ueSArIHNpemUuaGVpZ2h0KSldO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFtuZXcgX1ZlY3RvcjIuZGVmYXVsdChNYXRoLnJvdW5kKGJvdW5kcy5sZWZ0KSwgTWF0aC5yb3VuZChib3VuZHMudG9wKSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KE1hdGgucm91bmQoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgpLCBNYXRoLnJvdW5kKGJvdW5kcy50b3ApKSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoTWF0aC5yb3VuZChib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCksIE1hdGgucm91bmQoYm91bmRzLmhlaWdodCArIGJvdW5kcy50b3ApKSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoTWF0aC5yb3VuZChib3VuZHMubGVmdCksIE1hdGgucm91bmQoYm91bmRzLmhlaWdodCArIGJvdW5kcy50b3ApKV07XG4gICAgfVxufTtcblxudmFyIHBhcnNlQmFja2dyb3VuZCA9IGV4cG9ydHMucGFyc2VCYWNrZ3JvdW5kID0gZnVuY3Rpb24gcGFyc2VCYWNrZ3JvdW5kKHN0eWxlLCByZXNvdXJjZUxvYWRlcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbmV3IF9Db2xvcjIuZGVmYXVsdChzdHlsZS5iYWNrZ3JvdW5kQ29sb3IpLFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IHBhcnNlQmFja2dyb3VuZEltYWdlcyhzdHlsZSwgcmVzb3VyY2VMb2FkZXIpLFxuICAgICAgICBiYWNrZ3JvdW5kQ2xpcDogcGFyc2VCYWNrZ3JvdW5kQ2xpcChzdHlsZS5iYWNrZ3JvdW5kQ2xpcCksXG4gICAgICAgIGJhY2tncm91bmRPcmlnaW46IHBhcnNlQmFja2dyb3VuZE9yaWdpbihzdHlsZS5iYWNrZ3JvdW5kT3JpZ2luKVxuICAgIH07XG59O1xuXG52YXIgcGFyc2VCYWNrZ3JvdW5kQ2xpcCA9IGZ1bmN0aW9uIHBhcnNlQmFja2dyb3VuZENsaXAoYmFja2dyb3VuZENsaXApIHtcbiAgICBzd2l0Y2ggKGJhY2tncm91bmRDbGlwKSB7XG4gICAgICAgIGNhc2UgJ3BhZGRpbmctYm94JzpcbiAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuUEFERElOR19CT1g7XG4gICAgICAgIGNhc2UgJ2NvbnRlbnQtYm94JzpcbiAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1g7XG4gICAgfVxuICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuQk9SREVSX0JPWDtcbn07XG5cbnZhciBwYXJzZUJhY2tncm91bmRPcmlnaW4gPSBmdW5jdGlvbiBwYXJzZUJhY2tncm91bmRPcmlnaW4oYmFja2dyb3VuZE9yaWdpbikge1xuICAgIHN3aXRjaCAoYmFja2dyb3VuZE9yaWdpbikge1xuICAgICAgICBjYXNlICdwYWRkaW5nLWJveCc6XG4gICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9PUklHSU4uUEFERElOR19CT1g7XG4gICAgICAgIGNhc2UgJ2NvbnRlbnQtYm94JzpcbiAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX09SSUdJTi5DT05URU5UX0JPWDtcbiAgICB9XG4gICAgcmV0dXJuIEJBQ0tHUk9VTkRfT1JJR0lOLkJPUkRFUl9CT1g7XG59O1xuXG52YXIgcGFyc2VCYWNrZ3JvdW5kUmVwZWF0ID0gZnVuY3Rpb24gcGFyc2VCYWNrZ3JvdW5kUmVwZWF0KGJhY2tncm91bmRSZXBlYXQpIHtcbiAgICBzd2l0Y2ggKGJhY2tncm91bmRSZXBlYXQudHJpbSgpKSB7XG4gICAgICAgIGNhc2UgJ25vLXJlcGVhdCc6XG4gICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUO1xuICAgICAgICBjYXNlICdyZXBlYXQteCc6XG4gICAgICAgIGNhc2UgJ3JlcGVhdCBuby1yZXBlYXQnOlxuICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9YO1xuICAgICAgICBjYXNlICdyZXBlYXQteSc6XG4gICAgICAgIGNhc2UgJ25vLXJlcGVhdCByZXBlYXQnOlxuICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9ZO1xuICAgICAgICBjYXNlICdyZXBlYXQnOlxuICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVDtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGJhY2tncm91bmQtcmVwZWF0IHZhbHVlIFwiJyArIGJhY2tncm91bmRSZXBlYXQgKyAnXCInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUO1xufTtcblxudmFyIHBhcnNlQmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uIHBhcnNlQmFja2dyb3VuZEltYWdlcyhzdHlsZSwgcmVzb3VyY2VMb2FkZXIpIHtcbiAgICB2YXIgc291cmNlcyA9IHBhcnNlQmFja2dyb3VuZEltYWdlKHN0eWxlLmJhY2tncm91bmRJbWFnZSkubWFwKGZ1bmN0aW9uIChiYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgaWYgKGJhY2tncm91bmRJbWFnZS5tZXRob2QgPT09ICd1cmwnKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gcmVzb3VyY2VMb2FkZXIubG9hZEltYWdlKGJhY2tncm91bmRJbWFnZS5hcmdzWzBdKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZS5hcmdzID0ga2V5ID8gW2tleV0gOiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZEltYWdlO1xuICAgIH0pO1xuICAgIHZhciBwb3NpdGlvbnMgPSBzdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24uc3BsaXQoJywnKTtcbiAgICB2YXIgcmVwZWF0cyA9IHN0eWxlLmJhY2tncm91bmRSZXBlYXQuc3BsaXQoJywnKTtcbiAgICB2YXIgc2l6ZXMgPSBzdHlsZS5iYWNrZ3JvdW5kU2l6ZS5zcGxpdCgnLCcpO1xuXG4gICAgcmV0dXJuIHNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UsIGluZGV4KSB7XG4gICAgICAgIHZhciBzaXplID0gKHNpemVzW2luZGV4XSB8fCBBVVRPKS50cmltKCkuc3BsaXQoJyAnKS5tYXAocGFyc2VCYWNrZ3JvdW5kU2l6ZSk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IChwb3NpdGlvbnNbaW5kZXhdIHx8IEFVVE8pLnRyaW0oKS5zcGxpdCgnICcpLm1hcChwYXJzZUJhY2tnb3VuZFBvc2l0aW9uKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICByZXBlYXQ6IHBhcnNlQmFja2dyb3VuZFJlcGVhdCh0eXBlb2YgcmVwZWF0c1tpbmRleF0gPT09ICdzdHJpbmcnID8gcmVwZWF0c1tpbmRleF0gOiByZXBlYXRzWzBdKSxcbiAgICAgICAgICAgIHNpemU6IHNpemUubGVuZ3RoIDwgMiA/IFtzaXplWzBdLCBBVVRPX1NJWkVdIDogW3NpemVbMF0sIHNpemVbMV1dLFxuICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLmxlbmd0aCA8IDIgPyBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzBdXSA6IFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV1dXG4gICAgICAgIH07XG4gICAgfSk7XG59O1xuXG52YXIgcGFyc2VCYWNrZ3JvdW5kU2l6ZSA9IGZ1bmN0aW9uIHBhcnNlQmFja2dyb3VuZFNpemUoc2l6ZSkge1xuICAgIHJldHVybiBzaXplID09PSAnYXV0bycgPyBBVVRPX1NJWkUgOiBuZXcgQmFja2dyb3VuZFNpemUoc2l6ZSk7XG59O1xuXG52YXIgcGFyc2VCYWNrZ291bmRQb3NpdGlvbiA9IGZ1bmN0aW9uIHBhcnNlQmFja2dvdW5kUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgX0xlbmd0aDIuZGVmYXVsdCgnMTAwJScpO1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgX0xlbmd0aDIuZGVmYXVsdCgnMCUnKTtcbiAgICAgICAgY2FzZSAnYXV0byc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9MZW5ndGgyLmRlZmF1bHQoJzAnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfTGVuZ3RoMi5kZWZhdWx0KHBvc2l0aW9uKTtcbn07XG5cbnZhciBwYXJzZUJhY2tncm91bmRJbWFnZSA9IGV4cG9ydHMucGFyc2VCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbiBwYXJzZUJhY2tncm91bmRJbWFnZShpbWFnZSkge1xuICAgIHZhciB3aGl0ZXNwYWNlID0gL15cXHMkLztcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICB2YXIgbWV0aG9kID0gJyc7XG4gICAgdmFyIHF1b3RlID0gbnVsbDtcbiAgICB2YXIgZGVmaW5pdGlvbiA9ICcnO1xuICAgIHZhciBtb2RlID0gMDtcbiAgICB2YXIgbnVtUGFyZW4gPSAwO1xuXG4gICAgdmFyIGFwcGVuZFJlc3VsdCA9IGZ1bmN0aW9uIGFwcGVuZFJlc3VsdCgpIHtcbiAgICAgICAgdmFyIHByZWZpeCA9ICcnO1xuICAgICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5zdWJzdHIoMCwgMSkgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uID0gZGVmaW5pdGlvbi5zdWJzdHIoMSwgZGVmaW5pdGlvbi5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goZGVmaW5pdGlvbi50cmltKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcHJlZml4X2kgPSBtZXRob2QuaW5kZXhPZignLScsIDEpICsgMTtcbiAgICAgICAgICAgIGlmIChtZXRob2Quc3Vic3RyKDAsIDEpID09PSAnLScgJiYgcHJlZml4X2kgPiAwKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gbWV0aG9kLnN1YnN0cigwLCBwcmVmaXhfaSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBtZXRob2QgPSBtZXRob2Quc3Vic3RyKHByZWZpeF9pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZCA9IG1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKG1ldGhvZCAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiBwcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXJncyA9IFtdO1xuICAgICAgICBtZXRob2QgPSBkZWZpbml0aW9uID0gJyc7XG4gICAgfTtcblxuICAgIGltYWdlLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIGlmIChtb2RlID09PSAwICYmIHdoaXRlc3BhY2UudGVzdChjKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgICAgIGlmICghcXVvdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVvdGUgPSBjO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocXVvdGUgPT09IGMpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVvdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgICAgIGlmIChxdW90ZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBudW1QYXJlbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyknOlxuICAgICAgICAgICAgICAgIGlmIChxdW90ZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bVBhcmVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFJlc3VsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtUGFyZW4tLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnLCc6XG4gICAgICAgICAgICAgICAgaWYgKHF1b3RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBhcHBlbmRSZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtUGFyZW4gPT09IDAgJiYgIW1ldGhvZC5tYXRjaCgvXnVybCQvaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChkZWZpbml0aW9uLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9kZSA9PT0gMCkge1xuICAgICAgICAgICAgbWV0aG9kICs9IGM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZpbml0aW9uICs9IGM7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFwcGVuZFJlc3VsdCgpO1xuICAgIHJldHVybiByZXN1bHRzO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy9iYWNrZ3JvdW5kLmpzXG4vLyBtb2R1bGUgaWQgPSA2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.calculateLengthFromValueWithUnit = exports.LENGTH_TYPE = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _NodeContainer = __webpack_require__(58);\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LENGTH_WITH_UNIT = /([\\d.]+)(px|r?em|%)/i;\n\nvar LENGTH_TYPE = exports.LENGTH_TYPE = {\n    PX: 0,\n    PERCENTAGE: 1\n};\n\nvar Length = function () {\n    function Length(value) {\n        _classCallCheck(this, Length);\n\n        this.type = value.substr(value.length - 1) === '%' ? LENGTH_TYPE.PERCENTAGE : LENGTH_TYPE.PX;\n        var parsedValue = parseFloat(value);\n        if ((\"development\") !== 'production' && isNaN(parsedValue)) {\n            console.error('Invalid value given for Length: \"' + value + '\"');\n        }\n        this.value = isNaN(parsedValue) ? 0 : parsedValue;\n    }\n\n    _createClass(Length, [{\n        key: 'isPercentage',\n        value: function isPercentage() {\n            return this.type === LENGTH_TYPE.PERCENTAGE;\n        }\n    }, {\n        key: 'getAbsoluteValue',\n        value: function getAbsoluteValue(parentLength) {\n            return this.isPercentage() ? parentLength * (this.value / 100) : this.value;\n        }\n    }], [{\n        key: 'create',\n        value: function create(v) {\n            return new Length(v);\n        }\n    }]);\n\n    return Length;\n}();\n\nexports.default = Length;\n\n\nvar getRootFontSize = function getRootFontSize(container) {\n    var parent = container.parent;\n    return parent ? getRootFontSize(parent) : parseFloat(container.style.font.fontSize);\n};\n\nvar calculateLengthFromValueWithUnit = exports.calculateLengthFromValueWithUnit = function calculateLengthFromValueWithUnit(container, value, unit) {\n    switch (unit) {\n        case 'px':\n        case '%':\n            return new Length(value + unit);\n        case 'em':\n        case 'rem':\n            var length = new Length(value);\n            length.value *= unit === 'em' ? parseFloat(container.style.font.fontSize) : getRootFontSize(container);\n            return length;\n        default:\n            // TODO: handle correctly if unknown unit is used\n            return new Length('0');\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0xlbmd0aC5qcz83OTQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUEsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2Sjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxDQUFDOztBQUVEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2FsY3VsYXRlTGVuZ3RoRnJvbVZhbHVlV2l0aFVuaXQgPSBleHBvcnRzLkxFTkdUSF9UWVBFID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX05vZGVDb250YWluZXIgPSByZXF1aXJlKCcuL05vZGVDb250YWluZXInKTtcblxudmFyIF9Ob2RlQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vZGVDb250YWluZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTEVOR1RIX1dJVEhfVU5JVCA9IC8oW1xcZC5dKykocHh8cj9lbXwlKS9pO1xuXG52YXIgTEVOR1RIX1RZUEUgPSBleHBvcnRzLkxFTkdUSF9UWVBFID0ge1xuICAgIFBYOiAwLFxuICAgIFBFUkNFTlRBR0U6IDFcbn07XG5cbnZhciBMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVuZ3RoKHZhbHVlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMZW5ndGgpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IHZhbHVlLnN1YnN0cih2YWx1ZS5sZW5ndGggLSAxKSA9PT0gJyUnID8gTEVOR1RIX1RZUEUuUEVSQ0VOVEFHRSA6IExFTkdUSF9UWVBFLlBYO1xuICAgICAgICB2YXIgcGFyc2VkVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNOYU4ocGFyc2VkVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHZhbHVlIGdpdmVuIGZvciBMZW5ndGg6IFwiJyArIHZhbHVlICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IGlzTmFOKHBhcnNlZFZhbHVlKSA/IDAgOiBwYXJzZWRWYWx1ZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTGVuZ3RoLCBbe1xuICAgICAgICBrZXk6ICdpc1BlcmNlbnRhZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNQZXJjZW50YWdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gTEVOR1RIX1RZUEUuUEVSQ0VOVEFHRTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0QWJzb2x1dGVWYWx1ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBYnNvbHV0ZVZhbHVlKHBhcmVudExlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNQZXJjZW50YWdlKCkgPyBwYXJlbnRMZW5ndGggKiAodGhpcy52YWx1ZSAvIDEwMCkgOiB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfV0sIFt7XG4gICAgICAgIGtleTogJ2NyZWF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUodikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMZW5ndGgodik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTGVuZ3RoO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBMZW5ndGg7XG5cblxudmFyIGdldFJvb3RGb250U2l6ZSA9IGZ1bmN0aW9uIGdldFJvb3RGb250U2l6ZShjb250YWluZXIpIHtcbiAgICB2YXIgcGFyZW50ID0gY29udGFpbmVyLnBhcmVudDtcbiAgICByZXR1cm4gcGFyZW50ID8gZ2V0Um9vdEZvbnRTaXplKHBhcmVudCkgOiBwYXJzZUZsb2F0KGNvbnRhaW5lci5zdHlsZS5mb250LmZvbnRTaXplKTtcbn07XG5cbnZhciBjYWxjdWxhdGVMZW5ndGhGcm9tVmFsdWVXaXRoVW5pdCA9IGV4cG9ydHMuY2FsY3VsYXRlTGVuZ3RoRnJvbVZhbHVlV2l0aFVuaXQgPSBmdW5jdGlvbiBjYWxjdWxhdGVMZW5ndGhGcm9tVmFsdWVXaXRoVW5pdChjb250YWluZXIsIHZhbHVlLCB1bml0KSB7XG4gICAgc3dpdGNoICh1bml0KSB7XG4gICAgICAgIGNhc2UgJ3B4JzpcbiAgICAgICAgY2FzZSAnJSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IExlbmd0aCh2YWx1ZSArIHVuaXQpO1xuICAgICAgICBjYXNlICdlbSc6XG4gICAgICAgIGNhc2UgJ3JlbSc6XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gbmV3IExlbmd0aCh2YWx1ZSk7XG4gICAgICAgICAgICBsZW5ndGgudmFsdWUgKj0gdW5pdCA9PT0gJ2VtJyA/IHBhcnNlRmxvYXQoY29udGFpbmVyLnN0eWxlLmZvbnQuZm9udFNpemUpIDogZ2V0Um9vdEZvbnRTaXplKGNvbnRhaW5lcik7XG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIGNvcnJlY3RseSBpZiB1bmtub3duIHVuaXQgaXMgdXNlZFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMZW5ndGgoJzAnKTtcbiAgICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9MZW5ndGguanNcbi8vIG1vZHVsZSBpZCA9IDYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 62 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Size = function Size(width, height) {\n    _classCallCheck(this, Size);\n\n    this.width = width;\n    this.height = height;\n};\n\nexports.default = Size;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvU2l6ZS5qcz8xNzk5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjYyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTaXplID0gZnVuY3Rpb24gU2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpemUpO1xuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2l6ZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vZHJhd2luZy9TaXplLmpzXG4vLyBtb2R1bGUgaWQgPSA2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Path = __webpack_require__(51);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Vector = function Vector(x, y) {\n    _classCallCheck(this, Vector);\n\n    this.type = _Path.PATH.VECTOR;\n    this.x = x;\n    this.y = y;\n    if (true) {\n        if (isNaN(x)) {\n            console.error('Invalid x value given for Vector');\n        }\n        if (isNaN(y)) {\n            console.error('Invalid y value given for Vector');\n        }\n    }\n};\n\nexports.default = Vector;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvVmVjdG9yLmpzPzA3ODQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9QYXRoID0gcmVxdWlyZSgnLi9QYXRoJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBWZWN0b3IgPSBmdW5jdGlvbiBWZWN0b3IoeCwgeSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZWN0b3IpO1xuXG4gICAgdGhpcy50eXBlID0gX1BhdGguUEFUSC5WRUNUT1I7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpc05hTih4KSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCB4IHZhbHVlIGdpdmVuIGZvciBWZWN0b3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4oeSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgeSB2YWx1ZSBnaXZlbiBmb3IgVmVjdG9yJyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBWZWN0b3I7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvVmVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBoundCurves = exports.calculatePaddingBoxPath = exports.calculateBorderBoxPath = exports.parsePathForBorder = exports.parseDocumentSize = exports.calculateContentBox = exports.calculatePaddingBox = exports.parseBounds = exports.Bounds = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Vector = __webpack_require__(63);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _BezierCurve = __webpack_require__(65);\n\nvar _BezierCurve2 = _interopRequireDefault(_BezierCurve);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TOP = 0;\nvar RIGHT = 1;\nvar BOTTOM = 2;\nvar LEFT = 3;\n\nvar H = 0;\nvar V = 1;\n\nvar Bounds = exports.Bounds = function () {\n    function Bounds(x, y, w, h) {\n        _classCallCheck(this, Bounds);\n\n        this.left = x;\n        this.top = y;\n        this.width = w;\n        this.height = h;\n    }\n\n    _createClass(Bounds, null, [{\n        key: 'fromClientRect',\n        value: function fromClientRect(clientRect, scrollX, scrollY) {\n            return new Bounds(clientRect.left + scrollX, clientRect.top + scrollY, clientRect.width, clientRect.height);\n        }\n    }]);\n\n    return Bounds;\n}();\n\nvar parseBounds = exports.parseBounds = function parseBounds(node, scrollX, scrollY) {\n    return Bounds.fromClientRect(node.getBoundingClientRect(), scrollX, scrollY);\n};\n\nvar calculatePaddingBox = exports.calculatePaddingBox = function calculatePaddingBox(bounds, borders) {\n    return new Bounds(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth));\n};\n\nvar calculateContentBox = exports.calculateContentBox = function calculateContentBox(bounds, padding, borders) {\n    // TODO support percentage paddings\n    var paddingTop = padding[TOP].value;\n    var paddingRight = padding[RIGHT].value;\n    var paddingBottom = padding[BOTTOM].value;\n    var paddingLeft = padding[LEFT].value;\n\n    return new Bounds(bounds.left + paddingLeft + borders[LEFT].borderWidth, bounds.top + paddingTop + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth + paddingLeft + paddingRight), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth + paddingTop + paddingBottom));\n};\n\nvar parseDocumentSize = exports.parseDocumentSize = function parseDocumentSize(document) {\n    var body = document.body;\n    var documentElement = document.documentElement;\n\n    if (!body || !documentElement) {\n        throw new Error( true ? 'Unable to get document size' : '');\n    }\n    var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\n\n    var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\n\n    return new Bounds(0, 0, width, height);\n};\n\nvar parsePathForBorder = exports.parsePathForBorder = function parsePathForBorder(curves, borderSide) {\n    switch (borderSide) {\n        case TOP:\n            return createPathFromCurves(curves.topLeftOuter, curves.topLeftInner, curves.topRightOuter, curves.topRightInner);\n        case RIGHT:\n            return createPathFromCurves(curves.topRightOuter, curves.topRightInner, curves.bottomRightOuter, curves.bottomRightInner);\n        case BOTTOM:\n            return createPathFromCurves(curves.bottomRightOuter, curves.bottomRightInner, curves.bottomLeftOuter, curves.bottomLeftInner);\n        case LEFT:\n        default:\n            return createPathFromCurves(curves.bottomLeftOuter, curves.bottomLeftInner, curves.topLeftOuter, curves.topLeftInner);\n    }\n};\n\nvar createPathFromCurves = function createPathFromCurves(outer1, inner1, outer2, inner2) {\n    var path = [];\n    if (outer1 instanceof _BezierCurve2.default) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (outer2 instanceof _BezierCurve2.default) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    if (inner2 instanceof _BezierCurve2.default) {\n        path.push(inner2.subdivide(0.5, true).reverse());\n    } else {\n        path.push(inner2);\n    }\n\n    if (inner1 instanceof _BezierCurve2.default) {\n        path.push(inner1.subdivide(0.5, false).reverse());\n    } else {\n        path.push(inner1);\n    }\n\n    return path;\n};\n\nvar calculateBorderBoxPath = exports.calculateBorderBoxPath = function calculateBorderBoxPath(curves) {\n    return [curves.topLeftOuter, curves.topRightOuter, curves.bottomRightOuter, curves.bottomLeftOuter];\n};\n\nvar calculatePaddingBoxPath = exports.calculatePaddingBoxPath = function calculatePaddingBoxPath(curves) {\n    return [curves.topLeftInner, curves.topRightInner, curves.bottomRightInner, curves.bottomLeftInner];\n};\n\nvar parseBoundCurves = exports.parseBoundCurves = function parseBoundCurves(bounds, borders, borderRadius) {\n    var tlh = borderRadius[CORNER.TOP_LEFT][H].getAbsoluteValue(bounds.width);\n    var tlv = borderRadius[CORNER.TOP_LEFT][V].getAbsoluteValue(bounds.height);\n    var trh = borderRadius[CORNER.TOP_RIGHT][H].getAbsoluteValue(bounds.width);\n    var trv = borderRadius[CORNER.TOP_RIGHT][V].getAbsoluteValue(bounds.height);\n    var brh = borderRadius[CORNER.BOTTOM_RIGHT][H].getAbsoluteValue(bounds.width);\n    var brv = borderRadius[CORNER.BOTTOM_RIGHT][V].getAbsoluteValue(bounds.height);\n    var blh = borderRadius[CORNER.BOTTOM_LEFT][H].getAbsoluteValue(bounds.width);\n    var blv = borderRadius[CORNER.BOTTOM_LEFT][V].getAbsoluteValue(bounds.height);\n\n    var factors = [];\n    factors.push((tlh + trh) / bounds.width);\n    factors.push((blh + brh) / bounds.width);\n    factors.push((tlv + blv) / bounds.height);\n    factors.push((trv + brv) / bounds.height);\n    var maxFactor = Math.max.apply(Math, factors);\n\n    if (maxFactor > 1) {\n        tlh /= maxFactor;\n        tlv /= maxFactor;\n        trh /= maxFactor;\n        trv /= maxFactor;\n        brh /= maxFactor;\n        brv /= maxFactor;\n        blh /= maxFactor;\n        blv /= maxFactor;\n    }\n\n    var topWidth = bounds.width - trh;\n    var rightHeight = bounds.height - brv;\n    var bottomWidth = bounds.width - brh;\n    var leftHeight = bounds.height - blv;\n\n    return {\n        topLeftOuter: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT) : new _Vector2.default(bounds.left, bounds.top),\n        topLeftInner: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, Math.max(0, tlh - borders[LEFT].borderWidth), Math.max(0, tlv - borders[TOP].borderWidth), CORNER.TOP_LEFT) : new _Vector2.default(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth),\n        topRightOuter: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT) : new _Vector2.default(bounds.left + bounds.width, bounds.top),\n        topRightInner: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borders[LEFT].borderWidth), bounds.top + borders[TOP].borderWidth, topWidth > bounds.width + borders[LEFT].borderWidth ? 0 : trh - borders[LEFT].borderWidth, trv - borders[TOP].borderWidth, CORNER.TOP_RIGHT) : new _Vector2.default(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + borders[TOP].borderWidth),\n        bottomRightOuter: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT) : new _Vector2.default(bounds.left + bounds.width, bounds.top + bounds.height),\n        bottomRightInner: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borders[LEFT].borderWidth), bounds.top + Math.min(rightHeight, bounds.height + borders[TOP].borderWidth), Math.max(0, brh - borders[RIGHT].borderWidth), brv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_RIGHT) : new _Vector2.default(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth),\n        bottomLeftOuter: blh > 0 || blv > 0 ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT) : new _Vector2.default(bounds.left, bounds.top + bounds.height),\n        bottomLeftInner: blh > 0 || blv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + leftHeight, Math.max(0, blh - borders[LEFT].borderWidth), blv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_LEFT) : new _Vector2.default(bounds.left + borders[LEFT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth)\n    };\n};\n\nvar CORNER = {\n    TOP_LEFT: 0,\n    TOP_RIGHT: 1,\n    BOTTOM_RIGHT: 2,\n    BOTTOM_LEFT: 3\n};\n\nvar getCurvePoints = function getCurvePoints(x, y, r1, r2, position) {\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    var ox = r1 * kappa; // control point offset horizontal\n    var oy = r2 * kappa; // control point offset vertical\n    var xm = x + r1; // x-middle\n    var ym = y + r2; // y-middle\n\n    switch (position) {\n        case CORNER.TOP_LEFT:\n            return new _BezierCurve2.default(new _Vector2.default(x, ym), new _Vector2.default(x, ym - oy), new _Vector2.default(xm - ox, y), new _Vector2.default(xm, y));\n        case CORNER.TOP_RIGHT:\n            return new _BezierCurve2.default(new _Vector2.default(x, y), new _Vector2.default(x + ox, y), new _Vector2.default(xm, ym - oy), new _Vector2.default(xm, ym));\n        case CORNER.BOTTOM_RIGHT:\n            return new _BezierCurve2.default(new _Vector2.default(xm, y), new _Vector2.default(xm, y + oy), new _Vector2.default(x + ox, ym), new _Vector2.default(x, ym));\n        case CORNER.BOTTOM_LEFT:\n        default:\n            return new _BezierCurve2.default(new _Vector2.default(xm, ym), new _Vector2.default(xm - ox, ym), new _Vector2.default(x, y + oy), new _Vector2.default(x, y));\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0JvdW5kcy5qcz8yZWFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUEsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEIsb0JBQW9CO0FBQ3BCLG9CQUFvQjs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjY0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnBhcnNlQm91bmRDdXJ2ZXMgPSBleHBvcnRzLmNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoID0gZXhwb3J0cy5jYWxjdWxhdGVCb3JkZXJCb3hQYXRoID0gZXhwb3J0cy5wYXJzZVBhdGhGb3JCb3JkZXIgPSBleHBvcnRzLnBhcnNlRG9jdW1lbnRTaXplID0gZXhwb3J0cy5jYWxjdWxhdGVDb250ZW50Qm94ID0gZXhwb3J0cy5jYWxjdWxhdGVQYWRkaW5nQm94ID0gZXhwb3J0cy5wYXJzZUJvdW5kcyA9IGV4cG9ydHMuQm91bmRzID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1ZlY3RvciA9IHJlcXVpcmUoJy4vZHJhd2luZy9WZWN0b3InKTtcblxudmFyIF9WZWN0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmVjdG9yKTtcblxudmFyIF9CZXppZXJDdXJ2ZSA9IHJlcXVpcmUoJy4vZHJhd2luZy9CZXppZXJDdXJ2ZScpO1xuXG52YXIgX0JlemllckN1cnZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JlemllckN1cnZlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFRPUCA9IDA7XG52YXIgUklHSFQgPSAxO1xudmFyIEJPVFRPTSA9IDI7XG52YXIgTEVGVCA9IDM7XG5cbnZhciBIID0gMDtcbnZhciBWID0gMTtcblxudmFyIEJvdW5kcyA9IGV4cG9ydHMuQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kcyh4LCB5LCB3LCBoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb3VuZHMpO1xuXG4gICAgICAgIHRoaXMubGVmdCA9IHg7XG4gICAgICAgIHRoaXMudG9wID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHc7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQm91bmRzLCBudWxsLCBbe1xuICAgICAgICBrZXk6ICdmcm9tQ2xpZW50UmVjdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tQ2xpZW50UmVjdChjbGllbnRSZWN0LCBzY3JvbGxYLCBzY3JvbGxZKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJvdW5kcyhjbGllbnRSZWN0LmxlZnQgKyBzY3JvbGxYLCBjbGllbnRSZWN0LnRvcCArIHNjcm9sbFksIGNsaWVudFJlY3Qud2lkdGgsIGNsaWVudFJlY3QuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCb3VuZHM7XG59KCk7XG5cbnZhciBwYXJzZUJvdW5kcyA9IGV4cG9ydHMucGFyc2VCb3VuZHMgPSBmdW5jdGlvbiBwYXJzZUJvdW5kcyhub2RlLCBzY3JvbGxYLCBzY3JvbGxZKSB7XG4gICAgcmV0dXJuIEJvdW5kcy5mcm9tQ2xpZW50UmVjdChub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBzY3JvbGxYLCBzY3JvbGxZKTtcbn07XG5cbnZhciBjYWxjdWxhdGVQYWRkaW5nQm94ID0gZXhwb3J0cy5jYWxjdWxhdGVQYWRkaW5nQm94ID0gZnVuY3Rpb24gY2FsY3VsYXRlUGFkZGluZ0JveChib3VuZHMsIGJvcmRlcnMpIHtcbiAgICByZXR1cm4gbmV3IEJvdW5kcyhib3VuZHMubGVmdCArIGJvcmRlcnNbTEVGVF0uYm9yZGVyV2lkdGgsIGJvdW5kcy50b3AgKyBib3JkZXJzW1RPUF0uYm9yZGVyV2lkdGgsIGJvdW5kcy53aWR0aCAtIChib3JkZXJzW1JJR0hUXS5ib3JkZXJXaWR0aCArIGJvcmRlcnNbTEVGVF0uYm9yZGVyV2lkdGgpLCBib3VuZHMuaGVpZ2h0IC0gKGJvcmRlcnNbVE9QXS5ib3JkZXJXaWR0aCArIGJvcmRlcnNbQk9UVE9NXS5ib3JkZXJXaWR0aCkpO1xufTtcblxudmFyIGNhbGN1bGF0ZUNvbnRlbnRCb3ggPSBleHBvcnRzLmNhbGN1bGF0ZUNvbnRlbnRCb3ggPSBmdW5jdGlvbiBjYWxjdWxhdGVDb250ZW50Qm94KGJvdW5kcywgcGFkZGluZywgYm9yZGVycykge1xuICAgIC8vIFRPRE8gc3VwcG9ydCBwZXJjZW50YWdlIHBhZGRpbmdzXG4gICAgdmFyIHBhZGRpbmdUb3AgPSBwYWRkaW5nW1RPUF0udmFsdWU7XG4gICAgdmFyIHBhZGRpbmdSaWdodCA9IHBhZGRpbmdbUklHSFRdLnZhbHVlO1xuICAgIHZhciBwYWRkaW5nQm90dG9tID0gcGFkZGluZ1tCT1RUT01dLnZhbHVlO1xuICAgIHZhciBwYWRkaW5nTGVmdCA9IHBhZGRpbmdbTEVGVF0udmFsdWU7XG5cbiAgICByZXR1cm4gbmV3IEJvdW5kcyhib3VuZHMubGVmdCArIHBhZGRpbmdMZWZ0ICsgYm9yZGVyc1tMRUZUXS5ib3JkZXJXaWR0aCwgYm91bmRzLnRvcCArIHBhZGRpbmdUb3AgKyBib3JkZXJzW1RPUF0uYm9yZGVyV2lkdGgsIGJvdW5kcy53aWR0aCAtIChib3JkZXJzW1JJR0hUXS5ib3JkZXJXaWR0aCArIGJvcmRlcnNbTEVGVF0uYm9yZGVyV2lkdGggKyBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodCksIGJvdW5kcy5oZWlnaHQgLSAoYm9yZGVyc1tUT1BdLmJvcmRlcldpZHRoICsgYm9yZGVyc1tCT1RUT01dLmJvcmRlcldpZHRoICsgcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b20pKTtcbn07XG5cbnZhciBwYXJzZURvY3VtZW50U2l6ZSA9IGV4cG9ydHMucGFyc2VEb2N1bWVudFNpemUgPSBmdW5jdGlvbiBwYXJzZURvY3VtZW50U2l6ZShkb2N1bWVudCkge1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgaWYgKCFib2R5IHx8ICFkb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAnVW5hYmxlIHRvIGdldCBkb2N1bWVudCBzaXplJyA6ICcnKTtcbiAgICB9XG4gICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoTWF0aC5tYXgoYm9keS5zY3JvbGxXaWR0aCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoKSwgTWF0aC5tYXgoYm9keS5vZmZzZXRXaWR0aCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSwgTWF0aC5tYXgoYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSk7XG5cbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5tYXgoYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpLCBNYXRoLm1heChib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCksIE1hdGgubWF4KGJvZHkuY2xpZW50SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSk7XG5cbiAgICByZXR1cm4gbmV3IEJvdW5kcygwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbnZhciBwYXJzZVBhdGhGb3JCb3JkZXIgPSBleHBvcnRzLnBhcnNlUGF0aEZvckJvcmRlciA9IGZ1bmN0aW9uIHBhcnNlUGF0aEZvckJvcmRlcihjdXJ2ZXMsIGJvcmRlclNpZGUpIHtcbiAgICBzd2l0Y2ggKGJvcmRlclNpZGUpIHtcbiAgICAgICAgY2FzZSBUT1A6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUGF0aEZyb21DdXJ2ZXMoY3VydmVzLnRvcExlZnRPdXRlciwgY3VydmVzLnRvcExlZnRJbm5lciwgY3VydmVzLnRvcFJpZ2h0T3V0ZXIsIGN1cnZlcy50b3BSaWdodElubmVyKTtcbiAgICAgICAgY2FzZSBSSUdIVDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhjdXJ2ZXMudG9wUmlnaHRPdXRlciwgY3VydmVzLnRvcFJpZ2h0SW5uZXIsIGN1cnZlcy5ib3R0b21SaWdodE91dGVyLCBjdXJ2ZXMuYm90dG9tUmlnaHRJbm5lcik7XG4gICAgICAgIGNhc2UgQk9UVE9NOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKGN1cnZlcy5ib3R0b21SaWdodE91dGVyLCBjdXJ2ZXMuYm90dG9tUmlnaHRJbm5lciwgY3VydmVzLmJvdHRvbUxlZnRPdXRlciwgY3VydmVzLmJvdHRvbUxlZnRJbm5lcik7XG4gICAgICAgIGNhc2UgTEVGVDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhjdXJ2ZXMuYm90dG9tTGVmdE91dGVyLCBjdXJ2ZXMuYm90dG9tTGVmdElubmVyLCBjdXJ2ZXMudG9wTGVmdE91dGVyLCBjdXJ2ZXMudG9wTGVmdElubmVyKTtcbiAgICB9XG59O1xuXG52YXIgY3JlYXRlUGF0aEZyb21DdXJ2ZXMgPSBmdW5jdGlvbiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhvdXRlcjEsIGlubmVyMSwgb3V0ZXIyLCBpbm5lcjIpIHtcbiAgICB2YXIgcGF0aCA9IFtdO1xuICAgIGlmIChvdXRlcjEgaW5zdGFuY2VvZiBfQmV6aWVyQ3VydmUyLmRlZmF1bHQpIHtcbiAgICAgICAgcGF0aC5wdXNoKG91dGVyMS5zdWJkaXZpZGUoMC41LCBmYWxzZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGgucHVzaChvdXRlcjEpO1xuICAgIH1cblxuICAgIGlmIChvdXRlcjIgaW5zdGFuY2VvZiBfQmV6aWVyQ3VydmUyLmRlZmF1bHQpIHtcbiAgICAgICAgcGF0aC5wdXNoKG91dGVyMi5zdWJkaXZpZGUoMC41LCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aC5wdXNoKG91dGVyMik7XG4gICAgfVxuXG4gICAgaWYgKGlubmVyMiBpbnN0YW5jZW9mIF9CZXppZXJDdXJ2ZTIuZGVmYXVsdCkge1xuICAgICAgICBwYXRoLnB1c2goaW5uZXIyLnN1YmRpdmlkZSgwLjUsIHRydWUpLnJldmVyc2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aC5wdXNoKGlubmVyMik7XG4gICAgfVxuXG4gICAgaWYgKGlubmVyMSBpbnN0YW5jZW9mIF9CZXppZXJDdXJ2ZTIuZGVmYXVsdCkge1xuICAgICAgICBwYXRoLnB1c2goaW5uZXIxLnN1YmRpdmlkZSgwLjUsIGZhbHNlKS5yZXZlcnNlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGgucHVzaChpbm5lcjEpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufTtcblxudmFyIGNhbGN1bGF0ZUJvcmRlckJveFBhdGggPSBleHBvcnRzLmNhbGN1bGF0ZUJvcmRlckJveFBhdGggPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoKGN1cnZlcykge1xuICAgIHJldHVybiBbY3VydmVzLnRvcExlZnRPdXRlciwgY3VydmVzLnRvcFJpZ2h0T3V0ZXIsIGN1cnZlcy5ib3R0b21SaWdodE91dGVyLCBjdXJ2ZXMuYm90dG9tTGVmdE91dGVyXTtcbn07XG5cbnZhciBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aCA9IGV4cG9ydHMuY2FsY3VsYXRlUGFkZGluZ0JveFBhdGggPSBmdW5jdGlvbiBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aChjdXJ2ZXMpIHtcbiAgICByZXR1cm4gW2N1cnZlcy50b3BMZWZ0SW5uZXIsIGN1cnZlcy50b3BSaWdodElubmVyLCBjdXJ2ZXMuYm90dG9tUmlnaHRJbm5lciwgY3VydmVzLmJvdHRvbUxlZnRJbm5lcl07XG59O1xuXG52YXIgcGFyc2VCb3VuZEN1cnZlcyA9IGV4cG9ydHMucGFyc2VCb3VuZEN1cnZlcyA9IGZ1bmN0aW9uIHBhcnNlQm91bmRDdXJ2ZXMoYm91bmRzLCBib3JkZXJzLCBib3JkZXJSYWRpdXMpIHtcbiAgICB2YXIgdGxoID0gYm9yZGVyUmFkaXVzW0NPUk5FUi5UT1BfTEVGVF1bSF0uZ2V0QWJzb2x1dGVWYWx1ZShib3VuZHMud2lkdGgpO1xuICAgIHZhciB0bHYgPSBib3JkZXJSYWRpdXNbQ09STkVSLlRPUF9MRUZUXVtWXS5nZXRBYnNvbHV0ZVZhbHVlKGJvdW5kcy5oZWlnaHQpO1xuICAgIHZhciB0cmggPSBib3JkZXJSYWRpdXNbQ09STkVSLlRPUF9SSUdIVF1bSF0uZ2V0QWJzb2x1dGVWYWx1ZShib3VuZHMud2lkdGgpO1xuICAgIHZhciB0cnYgPSBib3JkZXJSYWRpdXNbQ09STkVSLlRPUF9SSUdIVF1bVl0uZ2V0QWJzb2x1dGVWYWx1ZShib3VuZHMuaGVpZ2h0KTtcbiAgICB2YXIgYnJoID0gYm9yZGVyUmFkaXVzW0NPUk5FUi5CT1RUT01fUklHSFRdW0hdLmdldEFic29sdXRlVmFsdWUoYm91bmRzLndpZHRoKTtcbiAgICB2YXIgYnJ2ID0gYm9yZGVyUmFkaXVzW0NPUk5FUi5CT1RUT01fUklHSFRdW1ZdLmdldEFic29sdXRlVmFsdWUoYm91bmRzLmhlaWdodCk7XG4gICAgdmFyIGJsaCA9IGJvcmRlclJhZGl1c1tDT1JORVIuQk9UVE9NX0xFRlRdW0hdLmdldEFic29sdXRlVmFsdWUoYm91bmRzLndpZHRoKTtcbiAgICB2YXIgYmx2ID0gYm9yZGVyUmFkaXVzW0NPUk5FUi5CT1RUT01fTEVGVF1bVl0uZ2V0QWJzb2x1dGVWYWx1ZShib3VuZHMuaGVpZ2h0KTtcblxuICAgIHZhciBmYWN0b3JzID0gW107XG4gICAgZmFjdG9ycy5wdXNoKCh0bGggKyB0cmgpIC8gYm91bmRzLndpZHRoKTtcbiAgICBmYWN0b3JzLnB1c2goKGJsaCArIGJyaCkgLyBib3VuZHMud2lkdGgpO1xuICAgIGZhY3RvcnMucHVzaCgodGx2ICsgYmx2KSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGZhY3RvcnMucHVzaCgodHJ2ICsgYnJ2KSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIHZhciBtYXhGYWN0b3IgPSBNYXRoLm1heC5hcHBseShNYXRoLCBmYWN0b3JzKTtcblxuICAgIGlmIChtYXhGYWN0b3IgPiAxKSB7XG4gICAgICAgIHRsaCAvPSBtYXhGYWN0b3I7XG4gICAgICAgIHRsdiAvPSBtYXhGYWN0b3I7XG4gICAgICAgIHRyaCAvPSBtYXhGYWN0b3I7XG4gICAgICAgIHRydiAvPSBtYXhGYWN0b3I7XG4gICAgICAgIGJyaCAvPSBtYXhGYWN0b3I7XG4gICAgICAgIGJydiAvPSBtYXhGYWN0b3I7XG4gICAgICAgIGJsaCAvPSBtYXhGYWN0b3I7XG4gICAgICAgIGJsdiAvPSBtYXhGYWN0b3I7XG4gICAgfVxuXG4gICAgdmFyIHRvcFdpZHRoID0gYm91bmRzLndpZHRoIC0gdHJoO1xuICAgIHZhciByaWdodEhlaWdodCA9IGJvdW5kcy5oZWlnaHQgLSBicnY7XG4gICAgdmFyIGJvdHRvbVdpZHRoID0gYm91bmRzLndpZHRoIC0gYnJoO1xuICAgIHZhciBsZWZ0SGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIGJsdjtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcExlZnRPdXRlcjogdGxoID4gMCB8fCB0bHYgPiAwID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AsIHRsaCwgdGx2LCBDT1JORVIuVE9QX0xFRlQpIDogbmV3IF9WZWN0b3IyLmRlZmF1bHQoYm91bmRzLmxlZnQsIGJvdW5kcy50b3ApLFxuICAgICAgICB0b3BMZWZ0SW5uZXI6IHRsaCA+IDAgfHwgdGx2ID4gMCA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm9yZGVyc1tMRUZUXS5ib3JkZXJXaWR0aCwgYm91bmRzLnRvcCArIGJvcmRlcnNbVE9QXS5ib3JkZXJXaWR0aCwgTWF0aC5tYXgoMCwgdGxoIC0gYm9yZGVyc1tMRUZUXS5ib3JkZXJXaWR0aCksIE1hdGgubWF4KDAsIHRsdiAtIGJvcmRlcnNbVE9QXS5ib3JkZXJXaWR0aCksIENPUk5FUi5UT1BfTEVGVCkgOiBuZXcgX1ZlY3RvcjIuZGVmYXVsdChib3VuZHMubGVmdCArIGJvcmRlcnNbTEVGVF0uYm9yZGVyV2lkdGgsIGJvdW5kcy50b3AgKyBib3JkZXJzW1RPUF0uYm9yZGVyV2lkdGgpLFxuICAgICAgICB0b3BSaWdodE91dGVyOiB0cmggPiAwIHx8IHRydiA+IDAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIHRvcFdpZHRoLCBib3VuZHMudG9wLCB0cmgsIHRydiwgQ09STkVSLlRPUF9SSUdIVCkgOiBuZXcgX1ZlY3RvcjIuZGVmYXVsdChib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCksXG4gICAgICAgIHRvcFJpZ2h0SW5uZXI6IHRyaCA+IDAgfHwgdHJ2ID4gMCA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4odG9wV2lkdGgsIGJvdW5kcy53aWR0aCArIGJvcmRlcnNbTEVGVF0uYm9yZGVyV2lkdGgpLCBib3VuZHMudG9wICsgYm9yZGVyc1tUT1BdLmJvcmRlcldpZHRoLCB0b3BXaWR0aCA+IGJvdW5kcy53aWR0aCArIGJvcmRlcnNbTEVGVF0uYm9yZGVyV2lkdGggPyAwIDogdHJoIC0gYm9yZGVyc1tMRUZUXS5ib3JkZXJXaWR0aCwgdHJ2IC0gYm9yZGVyc1tUT1BdLmJvcmRlcldpZHRoLCBDT1JORVIuVE9QX1JJR0hUKSA6IG5ldyBfVmVjdG9yMi5kZWZhdWx0KGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gYm9yZGVyc1tSSUdIVF0uYm9yZGVyV2lkdGgsIGJvdW5kcy50b3AgKyBib3JkZXJzW1RPUF0uYm9yZGVyV2lkdGgpLFxuICAgICAgICBib3R0b21SaWdodE91dGVyOiBicmggPiAwIHx8IGJydiA+IDAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIGJvdHRvbVdpZHRoLCBib3VuZHMudG9wICsgcmlnaHRIZWlnaHQsIGJyaCwgYnJ2LCBDT1JORVIuQk9UVE9NX1JJR0hUKSA6IG5ldyBfVmVjdG9yMi5kZWZhdWx0KGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCksXG4gICAgICAgIGJvdHRvbVJpZ2h0SW5uZXI6IGJyaCA+IDAgfHwgYnJ2ID4gMCA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4oYm90dG9tV2lkdGgsIGJvdW5kcy53aWR0aCAtIGJvcmRlcnNbTEVGVF0uYm9yZGVyV2lkdGgpLCBib3VuZHMudG9wICsgTWF0aC5taW4ocmlnaHRIZWlnaHQsIGJvdW5kcy5oZWlnaHQgKyBib3JkZXJzW1RPUF0uYm9yZGVyV2lkdGgpLCBNYXRoLm1heCgwLCBicmggLSBib3JkZXJzW1JJR0hUXS5ib3JkZXJXaWR0aCksIGJydiAtIGJvcmRlcnNbQk9UVE9NXS5ib3JkZXJXaWR0aCwgQ09STkVSLkJPVFRPTV9SSUdIVCkgOiBuZXcgX1ZlY3RvcjIuZGVmYXVsdChib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIGJvcmRlcnNbUklHSFRdLmJvcmRlcldpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIGJvcmRlcnNbQk9UVE9NXS5ib3JkZXJXaWR0aCksXG4gICAgICAgIGJvdHRvbUxlZnRPdXRlcjogYmxoID4gMCB8fCBibHYgPiAwID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyBsZWZ0SGVpZ2h0LCBibGgsIGJsdiwgQ09STkVSLkJPVFRPTV9MRUZUKSA6IG5ldyBfVmVjdG9yMi5kZWZhdWx0KGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCksXG4gICAgICAgIGJvdHRvbUxlZnRJbm5lcjogYmxoID4gMCB8fCBibHYgPiAwID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3JkZXJzW0xFRlRdLmJvcmRlcldpZHRoLCBib3VuZHMudG9wICsgbGVmdEhlaWdodCwgTWF0aC5tYXgoMCwgYmxoIC0gYm9yZGVyc1tMRUZUXS5ib3JkZXJXaWR0aCksIGJsdiAtIGJvcmRlcnNbQk9UVE9NXS5ib3JkZXJXaWR0aCwgQ09STkVSLkJPVFRPTV9MRUZUKSA6IG5ldyBfVmVjdG9yMi5kZWZhdWx0KGJvdW5kcy5sZWZ0ICsgYm9yZGVyc1tMRUZUXS5ib3JkZXJXaWR0aCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSBib3JkZXJzW0JPVFRPTV0uYm9yZGVyV2lkdGgpXG4gICAgfTtcbn07XG5cbnZhciBDT1JORVIgPSB7XG4gICAgVE9QX0xFRlQ6IDAsXG4gICAgVE9QX1JJR0hUOiAxLFxuICAgIEJPVFRPTV9SSUdIVDogMixcbiAgICBCT1RUT01fTEVGVDogM1xufTtcblxudmFyIGdldEN1cnZlUG9pbnRzID0gZnVuY3Rpb24gZ2V0Q3VydmVQb2ludHMoeCwgeSwgcjEsIHIyLCBwb3NpdGlvbikge1xuICAgIHZhciBrYXBwYSA9IDQgKiAoKE1hdGguc3FydCgyKSAtIDEpIC8gMyk7XG4gICAgdmFyIG94ID0gcjEgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgIHZhciBveSA9IHIyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXG4gICAgdmFyIHhtID0geCArIHIxOyAvLyB4LW1pZGRsZVxuICAgIHZhciB5bSA9IHkgKyByMjsgLy8geS1taWRkbGVcblxuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBDT1JORVIuVE9QX0xFRlQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9CZXppZXJDdXJ2ZTIuZGVmYXVsdChuZXcgX1ZlY3RvcjIuZGVmYXVsdCh4LCB5bSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KHgsIHltIC0gb3kpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdCh4bSAtIG94LCB5KSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoeG0sIHkpKTtcbiAgICAgICAgY2FzZSBDT1JORVIuVE9QX1JJR0hUOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBfQmV6aWVyQ3VydmUyLmRlZmF1bHQobmV3IF9WZWN0b3IyLmRlZmF1bHQoeCwgeSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KHggKyBveCwgeSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KHhtLCB5bSAtIG95KSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoeG0sIHltKSk7XG4gICAgICAgIGNhc2UgQ09STkVSLkJPVFRPTV9SSUdIVDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgX0JlemllckN1cnZlMi5kZWZhdWx0KG5ldyBfVmVjdG9yMi5kZWZhdWx0KHhtLCB5KSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoeG0sIHkgKyBveSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KHggKyBveCwgeW0pLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdCh4LCB5bSkpO1xuICAgICAgICBjYXNlIENPUk5FUi5CT1RUT01fTEVGVDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgX0JlemllckN1cnZlMi5kZWZhdWx0KG5ldyBfVmVjdG9yMi5kZWZhdWx0KHhtLCB5bSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KHhtIC0gb3gsIHltKSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoeCwgeSArIG95KSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoeCwgeSkpO1xuICAgIH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0JvdW5kcy5qc1xuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Path = __webpack_require__(51);\n\nvar _Vector = __webpack_require__(63);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar lerp = function lerp(a, b, t) {\n    return new _Vector2.default(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nvar BezierCurve = function () {\n    function BezierCurve(start, startControl, endControl, end) {\n        _classCallCheck(this, BezierCurve);\n\n        this.type = _Path.PATH.BEZIER_CURVE;\n        this.start = start;\n        this.startControl = startControl;\n        this.endControl = endControl;\n        this.end = end;\n    }\n\n    _createClass(BezierCurve, [{\n        key: 'subdivide',\n        value: function subdivide(t, firstHalf) {\n            var ab = lerp(this.start, this.startControl, t);\n            var bc = lerp(this.startControl, this.endControl, t);\n            var cd = lerp(this.endControl, this.end, t);\n            var abbc = lerp(ab, bc, t);\n            var bccd = lerp(bc, cd, t);\n            var dest = lerp(abbc, bccd, t);\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n        }\n    }, {\n        key: 'reverse',\n        value: function reverse() {\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n        }\n    }]);\n\n    return BezierCurve;\n}();\n\nexports.default = BezierCurve;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvQmV6aWVyQ3VydmUuanM/ZTk1ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakI7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiI2NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BhdGggPSByZXF1aXJlKCcuL1BhdGgnKTtcblxudmFyIF9WZWN0b3IgPSByZXF1aXJlKCcuL1ZlY3RvcicpO1xuXG52YXIgX1ZlY3RvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WZWN0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgbGVycCA9IGZ1bmN0aW9uIGxlcnAoYSwgYiwgdCkge1xuICAgIHJldHVybiBuZXcgX1ZlY3RvcjIuZGVmYXVsdChhLnggKyAoYi54IC0gYS54KSAqIHQsIGEueSArIChiLnkgLSBhLnkpICogdCk7XG59O1xuXG52YXIgQmV6aWVyQ3VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmV6aWVyQ3VydmUoc3RhcnQsIHN0YXJ0Q29udHJvbCwgZW5kQ29udHJvbCwgZW5kKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCZXppZXJDdXJ2ZSk7XG5cbiAgICAgICAgdGhpcy50eXBlID0gX1BhdGguUEFUSC5CRVpJRVJfQ1VSVkU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5zdGFydENvbnRyb2wgPSBzdGFydENvbnRyb2w7XG4gICAgICAgIHRoaXMuZW5kQ29udHJvbCA9IGVuZENvbnRyb2w7XG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhCZXppZXJDdXJ2ZSwgW3tcbiAgICAgICAga2V5OiAnc3ViZGl2aWRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN1YmRpdmlkZSh0LCBmaXJzdEhhbGYpIHtcbiAgICAgICAgICAgIHZhciBhYiA9IGxlcnAodGhpcy5zdGFydCwgdGhpcy5zdGFydENvbnRyb2wsIHQpO1xuICAgICAgICAgICAgdmFyIGJjID0gbGVycCh0aGlzLnN0YXJ0Q29udHJvbCwgdGhpcy5lbmRDb250cm9sLCB0KTtcbiAgICAgICAgICAgIHZhciBjZCA9IGxlcnAodGhpcy5lbmRDb250cm9sLCB0aGlzLmVuZCwgdCk7XG4gICAgICAgICAgICB2YXIgYWJiYyA9IGxlcnAoYWIsIGJjLCB0KTtcbiAgICAgICAgICAgIHZhciBiY2NkID0gbGVycChiYywgY2QsIHQpO1xuICAgICAgICAgICAgdmFyIGRlc3QgPSBsZXJwKGFiYmMsIGJjY2QsIHQpO1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0SGFsZiA/IG5ldyBCZXppZXJDdXJ2ZSh0aGlzLnN0YXJ0LCBhYiwgYWJiYywgZGVzdCkgOiBuZXcgQmV6aWVyQ3VydmUoZGVzdCwgYmNjZCwgY2QsIHRoaXMuZW5kKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmV2ZXJzZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXZlcnNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZSh0aGlzLmVuZCwgdGhpcy5lbmRDb250cm9sLCB0aGlzLnN0YXJ0Q29udHJvbCwgdGhpcy5zdGFydCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmV6aWVyQ3VydmU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJlemllckN1cnZlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9kcmF3aW5nL0JlemllckN1cnZlLmpzXG4vLyBtb2R1bGUgaWQgPSA2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parsePadding = exports.PADDING_SIDES = undefined;\n\nvar _Length = __webpack_require__(61);\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PADDING_SIDES = exports.PADDING_SIDES = {\n    TOP: 0,\n    RIGHT: 1,\n    BOTTOM: 2,\n    LEFT: 3\n};\n\nvar SIDES = ['top', 'right', 'bottom', 'left'];\n\nvar parsePadding = exports.parsePadding = function parsePadding(style) {\n    return SIDES.map(function (side) {\n        return new _Length2.default(style.getPropertyValue('padding-' + side));\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvcGFkZGluZy5qcz8wODI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wiLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucGFyc2VQYWRkaW5nID0gZXhwb3J0cy5QQURESU5HX1NJREVTID0gdW5kZWZpbmVkO1xuXG52YXIgX0xlbmd0aCA9IHJlcXVpcmUoJy4uL0xlbmd0aCcpO1xuXG52YXIgX0xlbmd0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MZW5ndGgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUEFERElOR19TSURFUyA9IGV4cG9ydHMuUEFERElOR19TSURFUyA9IHtcbiAgICBUT1A6IDAsXG4gICAgUklHSFQ6IDEsXG4gICAgQk9UVE9NOiAyLFxuICAgIExFRlQ6IDNcbn07XG5cbnZhciBTSURFUyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J107XG5cbnZhciBwYXJzZVBhZGRpbmcgPSBleHBvcnRzLnBhcnNlUGFkZGluZyA9IGZ1bmN0aW9uIHBhcnNlUGFkZGluZyhzdHlsZSkge1xuICAgIHJldHVybiBTSURFUy5tYXAoZnVuY3Rpb24gKHNpZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfTGVuZ3RoMi5kZWZhdWx0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctJyArIHNpZGUpKTtcbiAgICB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvcGFkZGluZy5qc1xuLy8gbW9kdWxlIGlkID0gNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBorder = exports.BORDER_SIDES = exports.BORDER_STYLE = undefined;\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BORDER_STYLE = exports.BORDER_STYLE = {\n    NONE: 0,\n    SOLID: 1\n};\n\nvar BORDER_SIDES = exports.BORDER_SIDES = {\n    TOP: 0,\n    RIGHT: 1,\n    BOTTOM: 2,\n    LEFT: 3\n};\n\nvar SIDES = Object.keys(BORDER_SIDES).map(function (s) {\n    return s.toLowerCase();\n});\n\nvar parseBorderStyle = function parseBorderStyle(style) {\n    switch (style) {\n        case 'none':\n            return BORDER_STYLE.NONE;\n    }\n    return BORDER_STYLE.SOLID;\n};\n\nvar parseBorder = exports.parseBorder = function parseBorder(style) {\n    return SIDES.map(function (side) {\n        var borderColor = new _Color2.default(style.getPropertyValue('border-' + side + '-color'));\n        var borderStyle = parseBorderStyle(style.getPropertyValue('border-' + side + '-style'));\n        var borderWidth = parseFloat(style.getPropertyValue('border-' + side + '-width'));\n        return {\n            borderColor: borderColor,\n            borderStyle: borderStyle,\n            borderWidth: isNaN(borderWidth) ? 0 : borderWidth\n        };\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvYm9yZGVyLmpzPzUwYzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwiZmlsZSI6IjY3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnBhcnNlQm9yZGVyID0gZXhwb3J0cy5CT1JERVJfU0lERVMgPSBleHBvcnRzLkJPUkRFUl9TVFlMRSA9IHVuZGVmaW5lZDtcblxudmFyIF9Db2xvciA9IHJlcXVpcmUoJy4uL0NvbG9yJyk7XG5cbnZhciBfQ29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQk9SREVSX1NUWUxFID0gZXhwb3J0cy5CT1JERVJfU1RZTEUgPSB7XG4gICAgTk9ORTogMCxcbiAgICBTT0xJRDogMVxufTtcblxudmFyIEJPUkRFUl9TSURFUyA9IGV4cG9ydHMuQk9SREVSX1NJREVTID0ge1xuICAgIFRPUDogMCxcbiAgICBSSUdIVDogMSxcbiAgICBCT1RUT006IDIsXG4gICAgTEVGVDogM1xufTtcblxudmFyIFNJREVTID0gT2JqZWN0LmtleXMoQk9SREVSX1NJREVTKS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gcy50b0xvd2VyQ2FzZSgpO1xufSk7XG5cbnZhciBwYXJzZUJvcmRlclN0eWxlID0gZnVuY3Rpb24gcGFyc2VCb3JkZXJTdHlsZShzdHlsZSkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICByZXR1cm4gQk9SREVSX1NUWUxFLk5PTkU7XG4gICAgfVxuICAgIHJldHVybiBCT1JERVJfU1RZTEUuU09MSUQ7XG59O1xuXG52YXIgcGFyc2VCb3JkZXIgPSBleHBvcnRzLnBhcnNlQm9yZGVyID0gZnVuY3Rpb24gcGFyc2VCb3JkZXIoc3R5bGUpIHtcbiAgICByZXR1cm4gU0lERVMubWFwKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgIHZhciBib3JkZXJDb2xvciA9IG5ldyBfQ29sb3IyLmRlZmF1bHQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLScgKyBzaWRlICsgJy1jb2xvcicpKTtcbiAgICAgICAgdmFyIGJvcmRlclN0eWxlID0gcGFyc2VCb3JkZXJTdHlsZShzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItJyArIHNpZGUgKyAnLXN0eWxlJykpO1xuICAgICAgICB2YXIgYm9yZGVyV2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci0nICsgc2lkZSArICctd2lkdGgnKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib3JkZXJDb2xvcjogYm9yZGVyQ29sb3IsXG4gICAgICAgICAgICBib3JkZXJTdHlsZTogYm9yZGVyU3R5bGUsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogaXNOYU4oYm9yZGVyV2lkdGgpID8gMCA6IGJvcmRlcldpZHRoXG4gICAgICAgIH07XG4gICAgfSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9wYXJzaW5nL2JvcmRlci5qc1xuLy8gbW9kdWxlIGlkID0gNjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBorderRadius = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Length = __webpack_require__(61);\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SIDES = ['top-left', 'top-right', 'bottom-right', 'bottom-left'];\n\nvar parseBorderRadius = exports.parseBorderRadius = function parseBorderRadius(style) {\n    return SIDES.map(function (side) {\n        var value = style.getPropertyValue('border-' + side + '-radius');\n\n        var _value$split$map = value.split(' ').map(_Length2.default.create),\n            _value$split$map2 = _slicedToArray(_value$split$map, 2),\n            horizontal = _value$split$map2[0],\n            vertical = _value$split$map2[1];\n\n        return typeof vertical === 'undefined' ? [horizontal, horizontal] : [horizontal, vertical];\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvYm9yZGVyUmFkaXVzLmpzP2UyZDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEI7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCIsImZpbGUiOiI2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wYXJzZUJvcmRlclJhZGl1cyA9IHVuZGVmaW5lZDtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX0xlbmd0aCA9IHJlcXVpcmUoJy4uL0xlbmd0aCcpO1xuXG52YXIgX0xlbmd0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MZW5ndGgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgU0lERVMgPSBbJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsICdib3R0b20tcmlnaHQnLCAnYm90dG9tLWxlZnQnXTtcblxudmFyIHBhcnNlQm9yZGVyUmFkaXVzID0gZXhwb3J0cy5wYXJzZUJvcmRlclJhZGl1cyA9IGZ1bmN0aW9uIHBhcnNlQm9yZGVyUmFkaXVzKHN0eWxlKSB7XG4gICAgcmV0dXJuIFNJREVTLm1hcChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItJyArIHNpZGUgKyAnLXJhZGl1cycpO1xuXG4gICAgICAgIHZhciBfdmFsdWUkc3BsaXQkbWFwID0gdmFsdWUuc3BsaXQoJyAnKS5tYXAoX0xlbmd0aDIuZGVmYXVsdC5jcmVhdGUpLFxuICAgICAgICAgICAgX3ZhbHVlJHNwbGl0JG1hcDIgPSBfc2xpY2VkVG9BcnJheShfdmFsdWUkc3BsaXQkbWFwLCAyKSxcbiAgICAgICAgICAgIGhvcml6b250YWwgPSBfdmFsdWUkc3BsaXQkbWFwMlswXSxcbiAgICAgICAgICAgIHZlcnRpY2FsID0gX3ZhbHVlJHNwbGl0JG1hcDJbMV07XG5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ZXJ0aWNhbCA9PT0gJ3VuZGVmaW5lZCcgPyBbaG9yaXpvbnRhbCwgaG9yaXpvbnRhbF0gOiBbaG9yaXpvbnRhbCwgdmVydGljYWxdO1xuICAgIH0pO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy9ib3JkZXJSYWRpdXMuanNcbi8vIG1vZHVsZSBpZCA9IDY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 69 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar DISPLAY = exports.DISPLAY = {\n    NONE: 1 << 0,\n    BLOCK: 1 << 1,\n    INLINE: 1 << 2,\n    RUN_IN: 1 << 3,\n    FLOW: 1 << 4,\n    FLOW_ROOT: 1 << 5,\n    TABLE: 1 << 6,\n    FLEX: 1 << 7,\n    GRID: 1 << 8,\n    RUBY: 1 << 9,\n    SUBGRID: 1 << 10,\n    LIST_ITEM: 1 << 11,\n    TABLE_ROW_GROUP: 1 << 12,\n    TABLE_HEADER_GROUP: 1 << 13,\n    TABLE_FOOTER_GROUP: 1 << 14,\n    TABLE_ROW: 1 << 15,\n    TABLE_CELL: 1 << 16,\n    TABLE_COLUMN_GROUP: 1 << 17,\n    TABLE_COLUMN: 1 << 18,\n    TABLE_CAPTION: 1 << 19,\n    RUBY_BASE: 1 << 20,\n    RUBY_TEXT: 1 << 21,\n    RUBY_BASE_CONTAINER: 1 << 22,\n    RUBY_TEXT_CONTAINER: 1 << 23,\n    CONTENTS: 1 << 24,\n    INLINE_BLOCK: 1 << 25,\n    INLINE_LIST_ITEM: 1 << 26,\n    INLINE_TABLE: 1 << 27,\n    INLINE_FLEX: 1 << 28,\n    INLINE_GRID: 1 << 29\n};\n\nvar parseDisplayValue = function parseDisplayValue(display) {\n    switch (display) {\n        case 'block':\n            return DISPLAY.BLOCK;\n        case 'inline':\n            return DISPLAY.INLINE;\n        case 'run-in':\n            return DISPLAY.RUN_IN;\n        case 'flow':\n            return DISPLAY.FLOW;\n        case 'flow-root':\n            return DISPLAY.FLOW_ROOT;\n        case 'table':\n            return DISPLAY.TABLE;\n        case 'flex':\n            return DISPLAY.FLEX;\n        case 'grid':\n            return DISPLAY.GRID;\n        case 'ruby':\n            return DISPLAY.RUBY;\n        case 'subgrid':\n            return DISPLAY.SUBGRID;\n        case 'list-item':\n            return DISPLAY.LIST_ITEM;\n        case 'table-row-group':\n            return DISPLAY.TABLE_ROW_GROUP;\n        case 'table-header-group':\n            return DISPLAY.TABLE_HEADER_GROUP;\n        case 'table-footer-group':\n            return DISPLAY.TABLE_FOOTER_GROUP;\n        case 'table-row':\n            return DISPLAY.TABLE_ROW;\n        case 'table-cell':\n            return DISPLAY.TABLE_CELL;\n        case 'table-column-group':\n            return DISPLAY.TABLE_COLUMN_GROUP;\n        case 'table-column':\n            return DISPLAY.TABLE_COLUMN;\n        case 'table-caption':\n            return DISPLAY.TABLE_CAPTION;\n        case 'ruby-base':\n            return DISPLAY.RUBY_BASE;\n        case 'ruby-text':\n            return DISPLAY.RUBY_TEXT;\n        case 'ruby-base-container':\n            return DISPLAY.RUBY_BASE_CONTAINER;\n        case 'ruby-text-container':\n            return DISPLAY.RUBY_TEXT_CONTAINER;\n        case 'contents':\n            return DISPLAY.CONTENTS;\n        case 'inline-block':\n            return DISPLAY.INLINE_BLOCK;\n        case 'inline-list-item':\n            return DISPLAY.INLINE_LIST_ITEM;\n        case 'inline-table':\n            return DISPLAY.INLINE_TABLE;\n        case 'inline-flex':\n            return DISPLAY.INLINE_FLEX;\n        case 'inline-grid':\n            return DISPLAY.INLINE_GRID;\n    }\n\n    return DISPLAY.NONE;\n};\n\nvar setDisplayBit = function setDisplayBit(bit, display) {\n    return bit | parseDisplayValue(display);\n};\n\nvar parseDisplay = exports.parseDisplay = function parseDisplay(display) {\n    return display.split(' ').reduce(setDisplayBit, 0);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvZGlzcGxheS5qcz81OTRkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbnZhciBESVNQTEFZID0gZXhwb3J0cy5ESVNQTEFZID0ge1xuICAgIE5PTkU6IDEgPDwgMCxcbiAgICBCTE9DSzogMSA8PCAxLFxuICAgIElOTElORTogMSA8PCAyLFxuICAgIFJVTl9JTjogMSA8PCAzLFxuICAgIEZMT1c6IDEgPDwgNCxcbiAgICBGTE9XX1JPT1Q6IDEgPDwgNSxcbiAgICBUQUJMRTogMSA8PCA2LFxuICAgIEZMRVg6IDEgPDwgNyxcbiAgICBHUklEOiAxIDw8IDgsXG4gICAgUlVCWTogMSA8PCA5LFxuICAgIFNVQkdSSUQ6IDEgPDwgMTAsXG4gICAgTElTVF9JVEVNOiAxIDw8IDExLFxuICAgIFRBQkxFX1JPV19HUk9VUDogMSA8PCAxMixcbiAgICBUQUJMRV9IRUFERVJfR1JPVVA6IDEgPDwgMTMsXG4gICAgVEFCTEVfRk9PVEVSX0dST1VQOiAxIDw8IDE0LFxuICAgIFRBQkxFX1JPVzogMSA8PCAxNSxcbiAgICBUQUJMRV9DRUxMOiAxIDw8IDE2LFxuICAgIFRBQkxFX0NPTFVNTl9HUk9VUDogMSA8PCAxNyxcbiAgICBUQUJMRV9DT0xVTU46IDEgPDwgMTgsXG4gICAgVEFCTEVfQ0FQVElPTjogMSA8PCAxOSxcbiAgICBSVUJZX0JBU0U6IDEgPDwgMjAsXG4gICAgUlVCWV9URVhUOiAxIDw8IDIxLFxuICAgIFJVQllfQkFTRV9DT05UQUlORVI6IDEgPDwgMjIsXG4gICAgUlVCWV9URVhUX0NPTlRBSU5FUjogMSA8PCAyMyxcbiAgICBDT05URU5UUzogMSA8PCAyNCxcbiAgICBJTkxJTkVfQkxPQ0s6IDEgPDwgMjUsXG4gICAgSU5MSU5FX0xJU1RfSVRFTTogMSA8PCAyNixcbiAgICBJTkxJTkVfVEFCTEU6IDEgPDwgMjcsXG4gICAgSU5MSU5FX0ZMRVg6IDEgPDwgMjgsXG4gICAgSU5MSU5FX0dSSUQ6IDEgPDwgMjlcbn07XG5cbnZhciBwYXJzZURpc3BsYXlWYWx1ZSA9IGZ1bmN0aW9uIHBhcnNlRGlzcGxheVZhbHVlKGRpc3BsYXkpIHtcbiAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcbiAgICAgICAgY2FzZSAnYmxvY2snOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuQkxPQ0s7XG4gICAgICAgIGNhc2UgJ2lubGluZSc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5JTkxJTkU7XG4gICAgICAgIGNhc2UgJ3J1bi1pbic6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5SVU5fSU47XG4gICAgICAgIGNhc2UgJ2Zsb3cnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuRkxPVztcbiAgICAgICAgY2FzZSAnZmxvdy1yb290JzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLkZMT1dfUk9PVDtcbiAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuVEFCTEU7XG4gICAgICAgIGNhc2UgJ2ZsZXgnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuRkxFWDtcbiAgICAgICAgY2FzZSAnZ3JpZCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5HUklEO1xuICAgICAgICBjYXNlICdydWJ5JzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlJVQlk7XG4gICAgICAgIGNhc2UgJ3N1YmdyaWQnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuU1VCR1JJRDtcbiAgICAgICAgY2FzZSAnbGlzdC1pdGVtJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLkxJU1RfSVRFTTtcbiAgICAgICAgY2FzZSAndGFibGUtcm93LWdyb3VwJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlRBQkxFX1JPV19HUk9VUDtcbiAgICAgICAgY2FzZSAndGFibGUtaGVhZGVyLWdyb3VwJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlRBQkxFX0hFQURFUl9HUk9VUDtcbiAgICAgICAgY2FzZSAndGFibGUtZm9vdGVyLWdyb3VwJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlRBQkxFX0ZPT1RFUl9HUk9VUDtcbiAgICAgICAgY2FzZSAndGFibGUtcm93JzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlRBQkxFX1JPVztcbiAgICAgICAgY2FzZSAndGFibGUtY2VsbCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5UQUJMRV9DRUxMO1xuICAgICAgICBjYXNlICd0YWJsZS1jb2x1bW4tZ3JvdXAnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuVEFCTEVfQ09MVU1OX0dST1VQO1xuICAgICAgICBjYXNlICd0YWJsZS1jb2x1bW4nOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuVEFCTEVfQ09MVU1OO1xuICAgICAgICBjYXNlICd0YWJsZS1jYXB0aW9uJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlRBQkxFX0NBUFRJT047XG4gICAgICAgIGNhc2UgJ3J1YnktYmFzZSc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5SVUJZX0JBU0U7XG4gICAgICAgIGNhc2UgJ3J1YnktdGV4dCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5SVUJZX1RFWFQ7XG4gICAgICAgIGNhc2UgJ3J1YnktYmFzZS1jb250YWluZXInOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuUlVCWV9CQVNFX0NPTlRBSU5FUjtcbiAgICAgICAgY2FzZSAncnVieS10ZXh0LWNvbnRhaW5lcic6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5SVUJZX1RFWFRfQ09OVEFJTkVSO1xuICAgICAgICBjYXNlICdjb250ZW50cyc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5DT05URU5UUztcbiAgICAgICAgY2FzZSAnaW5saW5lLWJsb2NrJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLklOTElORV9CTE9DSztcbiAgICAgICAgY2FzZSAnaW5saW5lLWxpc3QtaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5JTkxJTkVfTElTVF9JVEVNO1xuICAgICAgICBjYXNlICdpbmxpbmUtdGFibGUnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuSU5MSU5FX1RBQkxFO1xuICAgICAgICBjYXNlICdpbmxpbmUtZmxleCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5JTkxJTkVfRkxFWDtcbiAgICAgICAgY2FzZSAnaW5saW5lLWdyaWQnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuSU5MSU5FX0dSSUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIERJU1BMQVkuTk9ORTtcbn07XG5cbnZhciBzZXREaXNwbGF5Qml0ID0gZnVuY3Rpb24gc2V0RGlzcGxheUJpdChiaXQsIGRpc3BsYXkpIHtcbiAgICByZXR1cm4gYml0IHwgcGFyc2VEaXNwbGF5VmFsdWUoZGlzcGxheSk7XG59O1xuXG52YXIgcGFyc2VEaXNwbGF5ID0gZXhwb3J0cy5wYXJzZURpc3BsYXkgPSBmdW5jdGlvbiBwYXJzZURpc3BsYXkoZGlzcGxheSkge1xuICAgIHJldHVybiBkaXNwbGF5LnNwbGl0KCcgJykucmVkdWNlKHNldERpc3BsYXlCaXQsIDApO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy9kaXNwbGF5LmpzXG4vLyBtb2R1bGUgaWQgPSA2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 70 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar FLOAT = exports.FLOAT = {\n    NONE: 0,\n    LEFT: 1,\n    RIGHT: 2,\n    INLINE_START: 3,\n    INLINE_END: 4\n};\n\nvar parseCSSFloat = exports.parseCSSFloat = function parseCSSFloat(float) {\n    switch (float) {\n        case 'left':\n            return FLOAT.LEFT;\n        case 'right':\n            return FLOAT.RIGHT;\n        case 'inline-start':\n            return FLOAT.INLINE_START;\n        case 'inline-end':\n            return FLOAT.INLINE_END;\n    }\n    return FLOAT.NONE;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvZmxvYXQuanM/MzFkOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjcwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgRkxPQVQgPSBleHBvcnRzLkZMT0FUID0ge1xuICAgIE5PTkU6IDAsXG4gICAgTEVGVDogMSxcbiAgICBSSUdIVDogMixcbiAgICBJTkxJTkVfU1RBUlQ6IDMsXG4gICAgSU5MSU5FX0VORDogNFxufTtcblxudmFyIHBhcnNlQ1NTRmxvYXQgPSBleHBvcnRzLnBhcnNlQ1NTRmxvYXQgPSBmdW5jdGlvbiBwYXJzZUNTU0Zsb2F0KGZsb2F0KSB7XG4gICAgc3dpdGNoIChmbG9hdCkge1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHJldHVybiBGTE9BVC5MRUZUO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICByZXR1cm4gRkxPQVQuUklHSFQ7XG4gICAgICAgIGNhc2UgJ2lubGluZS1zdGFydCc6XG4gICAgICAgICAgICByZXR1cm4gRkxPQVQuSU5MSU5FX1NUQVJUO1xuICAgICAgICBjYXNlICdpbmxpbmUtZW5kJzpcbiAgICAgICAgICAgIHJldHVybiBGTE9BVC5JTkxJTkVfRU5EO1xuICAgIH1cbiAgICByZXR1cm4gRkxPQVQuTk9ORTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvZmxvYXQuanNcbi8vIG1vZHVsZSBpZCA9IDcwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 71 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n\nvar parseFontWeight = function parseFontWeight(weight) {\n    switch (weight) {\n        case 'normal':\n            return 400;\n        case 'bold':\n            return 700;\n    }\n\n    var value = parseInt(weight, 10);\n    return isNaN(value) ? 400 : value;\n};\n\nvar parseFont = exports.parseFont = function parseFont(style) {\n    var fontFamily = style.fontFamily;\n    var fontSize = style.fontSize;\n    var fontStyle = style.fontStyle;\n    var fontVariant = style.fontVariant;\n    var fontWeight = parseFontWeight(style.fontWeight);\n\n    return {\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n        fontStyle: fontStyle,\n        fontVariant: fontVariant,\n        fontWeight: fontWeight\n    };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvZm9udC5qcz9iM2ZlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuXG52YXIgcGFyc2VGb250V2VpZ2h0ID0gZnVuY3Rpb24gcGFyc2VGb250V2VpZ2h0KHdlaWdodCkge1xuICAgIHN3aXRjaCAod2VpZ2h0KSB7XG4gICAgICAgIGNhc2UgJ25vcm1hbCc6XG4gICAgICAgICAgICByZXR1cm4gNDAwO1xuICAgICAgICBjYXNlICdib2xkJzpcbiAgICAgICAgICAgIHJldHVybiA3MDA7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gcGFyc2VJbnQod2VpZ2h0LCAxMCk7XG4gICAgcmV0dXJuIGlzTmFOKHZhbHVlKSA/IDQwMCA6IHZhbHVlO1xufTtcblxudmFyIHBhcnNlRm9udCA9IGV4cG9ydHMucGFyc2VGb250ID0gZnVuY3Rpb24gcGFyc2VGb250KHN0eWxlKSB7XG4gICAgdmFyIGZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5O1xuICAgIHZhciBmb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgIHZhciBmb250U3R5bGUgPSBzdHlsZS5mb250U3R5bGU7XG4gICAgdmFyIGZvbnRWYXJpYW50ID0gc3R5bGUuZm9udFZhcmlhbnQ7XG4gICAgdmFyIGZvbnRXZWlnaHQgPSBwYXJzZUZvbnRXZWlnaHQoc3R5bGUuZm9udFdlaWdodCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBmb250RmFtaWx5OiBmb250RmFtaWx5LFxuICAgICAgICBmb250U2l6ZTogZm9udFNpemUsXG4gICAgICAgIGZvbnRTdHlsZTogZm9udFN0eWxlLFxuICAgICAgICBmb250VmFyaWFudDogZm9udFZhcmlhbnQsXG4gICAgICAgIGZvbnRXZWlnaHQ6IGZvbnRXZWlnaHRcbiAgICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy9mb250LmpzXG4vLyBtb2R1bGUgaWQgPSA3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 72 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar parseLetterSpacing = exports.parseLetterSpacing = function parseLetterSpacing(letterSpacing) {\n    if (letterSpacing === 'normal') {\n        return 0;\n    }\n    var value = parseFloat(letterSpacing);\n    return isNaN(value) ? 0 : value;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvbGV0dGVyU3BhY2luZy5qcz8yODAwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbnZhciBwYXJzZUxldHRlclNwYWNpbmcgPSBleHBvcnRzLnBhcnNlTGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uIHBhcnNlTGV0dGVyU3BhY2luZyhsZXR0ZXJTcGFjaW5nKSB7XG4gICAgaWYgKGxldHRlclNwYWNpbmcgPT09ICdub3JtYWwnKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBwYXJzZUZsb2F0KGxldHRlclNwYWNpbmcpO1xuICAgIHJldHVybiBpc05hTih2YWx1ZSkgPyAwIDogdmFsdWU7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9wYXJzaW5nL2xldHRlclNwYWNpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 73 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar LINE_BREAK = exports.LINE_BREAK = {\n    NORMAL: 'normal',\n    STRICT: 'strict'\n};\n\nvar parseLineBreak = exports.parseLineBreak = function parseLineBreak(wordBreak) {\n    switch (wordBreak) {\n        case 'strict':\n            return LINE_BREAK.STRICT;\n        case 'normal':\n        default:\n            return LINE_BREAK.NORMAL;\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvbGluZUJyZWFrLmpzP2Q0OGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbnZhciBMSU5FX0JSRUFLID0gZXhwb3J0cy5MSU5FX0JSRUFLID0ge1xuICAgIE5PUk1BTDogJ25vcm1hbCcsXG4gICAgU1RSSUNUOiAnc3RyaWN0J1xufTtcblxudmFyIHBhcnNlTGluZUJyZWFrID0gZXhwb3J0cy5wYXJzZUxpbmVCcmVhayA9IGZ1bmN0aW9uIHBhcnNlTGluZUJyZWFrKHdvcmRCcmVhaykge1xuICAgIHN3aXRjaCAod29yZEJyZWFrKSB7XG4gICAgICAgIGNhc2UgJ3N0cmljdCc6XG4gICAgICAgICAgICByZXR1cm4gTElORV9CUkVBSy5TVFJJQ1Q7XG4gICAgICAgIGNhc2UgJ25vcm1hbCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gTElORV9CUkVBSy5OT1JNQUw7XG4gICAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy9saW5lQnJlYWsuanNcbi8vIG1vZHVsZSBpZCA9IDczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseListStyle = exports.parseListStyleType = exports.LIST_STYLE_TYPE = exports.LIST_STYLE_POSITION = undefined;\n\nvar _background = __webpack_require__(60);\n\nvar LIST_STYLE_POSITION = exports.LIST_STYLE_POSITION = {\n    INSIDE: 0,\n    OUTSIDE: 1\n};\n\nvar LIST_STYLE_TYPE = exports.LIST_STYLE_TYPE = {\n    NONE: -1,\n    DISC: 0,\n    CIRCLE: 1,\n    SQUARE: 2,\n    DECIMAL: 3,\n    CJK_DECIMAL: 4,\n    DECIMAL_LEADING_ZERO: 5,\n    LOWER_ROMAN: 6,\n    UPPER_ROMAN: 7,\n    LOWER_GREEK: 8,\n    LOWER_ALPHA: 9,\n    UPPER_ALPHA: 10,\n    ARABIC_INDIC: 11,\n    ARMENIAN: 12,\n    BENGALI: 13,\n    CAMBODIAN: 14,\n    CJK_EARTHLY_BRANCH: 15,\n    CJK_HEAVENLY_STEM: 16,\n    CJK_IDEOGRAPHIC: 17,\n    DEVANAGARI: 18,\n    ETHIOPIC_NUMERIC: 19,\n    GEORGIAN: 20,\n    GUJARATI: 21,\n    GURMUKHI: 22,\n    HEBREW: 22,\n    HIRAGANA: 23,\n    HIRAGANA_IROHA: 24,\n    JAPANESE_FORMAL: 25,\n    JAPANESE_INFORMAL: 26,\n    KANNADA: 27,\n    KATAKANA: 28,\n    KATAKANA_IROHA: 29,\n    KHMER: 30,\n    KOREAN_HANGUL_FORMAL: 31,\n    KOREAN_HANJA_FORMAL: 32,\n    KOREAN_HANJA_INFORMAL: 33,\n    LAO: 34,\n    LOWER_ARMENIAN: 35,\n    MALAYALAM: 36,\n    MONGOLIAN: 37,\n    MYANMAR: 38,\n    ORIYA: 39,\n    PERSIAN: 40,\n    SIMP_CHINESE_FORMAL: 41,\n    SIMP_CHINESE_INFORMAL: 42,\n    TAMIL: 43,\n    TELUGU: 44,\n    THAI: 45,\n    TIBETAN: 46,\n    TRAD_CHINESE_FORMAL: 47,\n    TRAD_CHINESE_INFORMAL: 48,\n    UPPER_ARMENIAN: 49,\n    DISCLOSURE_OPEN: 50,\n    DISCLOSURE_CLOSED: 51\n};\n\nvar parseListStyleType = exports.parseListStyleType = function parseListStyleType(type) {\n    switch (type) {\n        case 'disc':\n            return LIST_STYLE_TYPE.DISC;\n        case 'circle':\n            return LIST_STYLE_TYPE.CIRCLE;\n        case 'square':\n            return LIST_STYLE_TYPE.SQUARE;\n        case 'decimal':\n            return LIST_STYLE_TYPE.DECIMAL;\n        case 'cjk-decimal':\n            return LIST_STYLE_TYPE.CJK_DECIMAL;\n        case 'decimal-leading-zero':\n            return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n        case 'lower-roman':\n            return LIST_STYLE_TYPE.LOWER_ROMAN;\n        case 'upper-roman':\n            return LIST_STYLE_TYPE.UPPER_ROMAN;\n        case 'lower-greek':\n            return LIST_STYLE_TYPE.LOWER_GREEK;\n        case 'lower-alpha':\n            return LIST_STYLE_TYPE.LOWER_ALPHA;\n        case 'upper-alpha':\n            return LIST_STYLE_TYPE.UPPER_ALPHA;\n        case 'arabic-indic':\n            return LIST_STYLE_TYPE.ARABIC_INDIC;\n        case 'armenian':\n            return LIST_STYLE_TYPE.ARMENIAN;\n        case 'bengali':\n            return LIST_STYLE_TYPE.BENGALI;\n        case 'cambodian':\n            return LIST_STYLE_TYPE.CAMBODIAN;\n        case 'cjk-earthly-branch':\n            return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n        case 'cjk-heavenly-stem':\n            return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n        case 'cjk-ideographic':\n            return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n        case 'devanagari':\n            return LIST_STYLE_TYPE.DEVANAGARI;\n        case 'ethiopic-numeric':\n            return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n        case 'georgian':\n            return LIST_STYLE_TYPE.GEORGIAN;\n        case 'gujarati':\n            return LIST_STYLE_TYPE.GUJARATI;\n        case 'gurmukhi':\n            return LIST_STYLE_TYPE.GURMUKHI;\n        case 'hebrew':\n            return LIST_STYLE_TYPE.HEBREW;\n        case 'hiragana':\n            return LIST_STYLE_TYPE.HIRAGANA;\n        case 'hiragana-iroha':\n            return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n        case 'japanese-formal':\n            return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n        case 'japanese-informal':\n            return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n        case 'kannada':\n            return LIST_STYLE_TYPE.KANNADA;\n        case 'katakana':\n            return LIST_STYLE_TYPE.KATAKANA;\n        case 'katakana-iroha':\n            return LIST_STYLE_TYPE.KATAKANA_IROHA;\n        case 'khmer':\n            return LIST_STYLE_TYPE.KHMER;\n        case 'korean-hangul-formal':\n            return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n        case 'korean-hanja-formal':\n            return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n        case 'korean-hanja-informal':\n            return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n        case 'lao':\n            return LIST_STYLE_TYPE.LAO;\n        case 'lower-armenian':\n            return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n        case 'malayalam':\n            return LIST_STYLE_TYPE.MALAYALAM;\n        case 'mongolian':\n            return LIST_STYLE_TYPE.MONGOLIAN;\n        case 'myanmar':\n            return LIST_STYLE_TYPE.MYANMAR;\n        case 'oriya':\n            return LIST_STYLE_TYPE.ORIYA;\n        case 'persian':\n            return LIST_STYLE_TYPE.PERSIAN;\n        case 'simp-chinese-formal':\n            return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n        case 'simp-chinese-informal':\n            return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n        case 'tamil':\n            return LIST_STYLE_TYPE.TAMIL;\n        case 'telugu':\n            return LIST_STYLE_TYPE.TELUGU;\n        case 'thai':\n            return LIST_STYLE_TYPE.THAI;\n        case 'tibetan':\n            return LIST_STYLE_TYPE.TIBETAN;\n        case 'trad-chinese-formal':\n            return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n        case 'trad-chinese-informal':\n            return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n        case 'upper-armenian':\n            return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n        case 'disclosure-open':\n            return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n        case 'disclosure-closed':\n            return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n        case 'none':\n        default:\n            return LIST_STYLE_TYPE.NONE;\n    }\n};\n\nvar parseListStyle = exports.parseListStyle = function parseListStyle(style) {\n    var listStyleImage = (0, _background.parseBackgroundImage)(style.getPropertyValue('list-style-image'));\n    return {\n        listStyleType: parseListStyleType(style.getPropertyValue('list-style-type')),\n        listStyleImage: listStyleImage.length ? listStyleImage[0] : null,\n        listStylePosition: parseListStylePosition(style.getPropertyValue('list-style-position'))\n    };\n};\n\nvar parseListStylePosition = function parseListStylePosition(position) {\n    switch (position) {\n        case 'inside':\n            return LIST_STYLE_POSITION.INSIDE;\n        case 'outside':\n        default:\n            return LIST_STYLE_POSITION.OUTSIDE;\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvbGlzdFN0eWxlLmpzP2VkYjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucGFyc2VMaXN0U3R5bGUgPSBleHBvcnRzLnBhcnNlTGlzdFN0eWxlVHlwZSA9IGV4cG9ydHMuTElTVF9TVFlMRV9UWVBFID0gZXhwb3J0cy5MSVNUX1NUWUxFX1BPU0lUSU9OID0gdW5kZWZpbmVkO1xuXG52YXIgX2JhY2tncm91bmQgPSByZXF1aXJlKCcuL2JhY2tncm91bmQnKTtcblxudmFyIExJU1RfU1RZTEVfUE9TSVRJT04gPSBleHBvcnRzLkxJU1RfU1RZTEVfUE9TSVRJT04gPSB7XG4gICAgSU5TSURFOiAwLFxuICAgIE9VVFNJREU6IDFcbn07XG5cbnZhciBMSVNUX1NUWUxFX1RZUEUgPSBleHBvcnRzLkxJU1RfU1RZTEVfVFlQRSA9IHtcbiAgICBOT05FOiAtMSxcbiAgICBESVNDOiAwLFxuICAgIENJUkNMRTogMSxcbiAgICBTUVVBUkU6IDIsXG4gICAgREVDSU1BTDogMyxcbiAgICBDSktfREVDSU1BTDogNCxcbiAgICBERUNJTUFMX0xFQURJTkdfWkVSTzogNSxcbiAgICBMT1dFUl9ST01BTjogNixcbiAgICBVUFBFUl9ST01BTjogNyxcbiAgICBMT1dFUl9HUkVFSzogOCxcbiAgICBMT1dFUl9BTFBIQTogOSxcbiAgICBVUFBFUl9BTFBIQTogMTAsXG4gICAgQVJBQklDX0lORElDOiAxMSxcbiAgICBBUk1FTklBTjogMTIsXG4gICAgQkVOR0FMSTogMTMsXG4gICAgQ0FNQk9ESUFOOiAxNCxcbiAgICBDSktfRUFSVEhMWV9CUkFOQ0g6IDE1LFxuICAgIENKS19IRUFWRU5MWV9TVEVNOiAxNixcbiAgICBDSktfSURFT0dSQVBISUM6IDE3LFxuICAgIERFVkFOQUdBUkk6IDE4LFxuICAgIEVUSElPUElDX05VTUVSSUM6IDE5LFxuICAgIEdFT1JHSUFOOiAyMCxcbiAgICBHVUpBUkFUSTogMjEsXG4gICAgR1VSTVVLSEk6IDIyLFxuICAgIEhFQlJFVzogMjIsXG4gICAgSElSQUdBTkE6IDIzLFxuICAgIEhJUkFHQU5BX0lST0hBOiAyNCxcbiAgICBKQVBBTkVTRV9GT1JNQUw6IDI1LFxuICAgIEpBUEFORVNFX0lORk9STUFMOiAyNixcbiAgICBLQU5OQURBOiAyNyxcbiAgICBLQVRBS0FOQTogMjgsXG4gICAgS0FUQUtBTkFfSVJPSEE6IDI5LFxuICAgIEtITUVSOiAzMCxcbiAgICBLT1JFQU5fSEFOR1VMX0ZPUk1BTDogMzEsXG4gICAgS09SRUFOX0hBTkpBX0ZPUk1BTDogMzIsXG4gICAgS09SRUFOX0hBTkpBX0lORk9STUFMOiAzMyxcbiAgICBMQU86IDM0LFxuICAgIExPV0VSX0FSTUVOSUFOOiAzNSxcbiAgICBNQUxBWUFMQU06IDM2LFxuICAgIE1PTkdPTElBTjogMzcsXG4gICAgTVlBTk1BUjogMzgsXG4gICAgT1JJWUE6IDM5LFxuICAgIFBFUlNJQU46IDQwLFxuICAgIFNJTVBfQ0hJTkVTRV9GT1JNQUw6IDQxLFxuICAgIFNJTVBfQ0hJTkVTRV9JTkZPUk1BTDogNDIsXG4gICAgVEFNSUw6IDQzLFxuICAgIFRFTFVHVTogNDQsXG4gICAgVEhBSTogNDUsXG4gICAgVElCRVRBTjogNDYsXG4gICAgVFJBRF9DSElORVNFX0ZPUk1BTDogNDcsXG4gICAgVFJBRF9DSElORVNFX0lORk9STUFMOiA0OCxcbiAgICBVUFBFUl9BUk1FTklBTjogNDksXG4gICAgRElTQ0xPU1VSRV9PUEVOOiA1MCxcbiAgICBESVNDTE9TVVJFX0NMT1NFRDogNTFcbn07XG5cbnZhciBwYXJzZUxpc3RTdHlsZVR5cGUgPSBleHBvcnRzLnBhcnNlTGlzdFN0eWxlVHlwZSA9IGZ1bmN0aW9uIHBhcnNlTGlzdFN0eWxlVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Rpc2MnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDO1xuICAgICAgICBjYXNlICdjaXJjbGUnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSVJDTEU7XG4gICAgICAgIGNhc2UgJ3NxdWFyZSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNRVUFSRTtcbiAgICAgICAgY2FzZSAnZGVjaW1hbCc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XG4gICAgICAgIGNhc2UgJ2Nqay1kZWNpbWFsJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0RFQ0lNQUw7XG4gICAgICAgIGNhc2UgJ2RlY2ltYWwtbGVhZGluZy16ZXJvJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTF9MRUFESU5HX1pFUk87XG4gICAgICAgIGNhc2UgJ2xvd2VyLXJvbWFuJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfUk9NQU47XG4gICAgICAgIGNhc2UgJ3VwcGVyLXJvbWFuJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVVBQRVJfUk9NQU47XG4gICAgICAgIGNhc2UgJ2xvd2VyLWdyZWVrJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfR1JFRUs7XG4gICAgICAgIGNhc2UgJ2xvd2VyLWFscGhhJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQUxQSEE7XG4gICAgICAgIGNhc2UgJ3VwcGVyLWFscGhhJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVVBQRVJfQUxQSEE7XG4gICAgICAgIGNhc2UgJ2FyYWJpYy1pbmRpYyc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkFSQUJJQ19JTkRJQztcbiAgICAgICAgY2FzZSAnYXJtZW5pYW4nOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5BUk1FTklBTjtcbiAgICAgICAgY2FzZSAnYmVuZ2FsaSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkJFTkdBTEk7XG4gICAgICAgIGNhc2UgJ2NhbWJvZGlhbic6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNBTUJPRElBTjtcbiAgICAgICAgY2FzZSAnY2prLWVhcnRobHktYnJhbmNoJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0VBUlRITFlfQlJBTkNIO1xuICAgICAgICBjYXNlICdjamstaGVhdmVubHktc3RlbSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNKS19IRUFWRU5MWV9TVEVNO1xuICAgICAgICBjYXNlICdjamstaWRlb2dyYXBoaWMnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfSURFT0dSQVBISUM7XG4gICAgICAgIGNhc2UgJ2RldmFuYWdhcmknOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ERVZBTkFHQVJJO1xuICAgICAgICBjYXNlICdldGhpb3BpYy1udW1lcmljJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuRVRISU9QSUNfTlVNRVJJQztcbiAgICAgICAgY2FzZSAnZ2VvcmdpYW4nOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HRU9SR0lBTjtcbiAgICAgICAgY2FzZSAnZ3VqYXJhdGknOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HVUpBUkFUSTtcbiAgICAgICAgY2FzZSAnZ3VybXVraGknOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HVVJNVUtISTtcbiAgICAgICAgY2FzZSAnaGVicmV3JzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSEVCUkVXO1xuICAgICAgICBjYXNlICdoaXJhZ2FuYSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BO1xuICAgICAgICBjYXNlICdoaXJhZ2FuYS1pcm9oYSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BX0lST0hBO1xuICAgICAgICBjYXNlICdqYXBhbmVzZS1mb3JtYWwnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9GT1JNQUw7XG4gICAgICAgIGNhc2UgJ2phcGFuZXNlLWluZm9ybWFsJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfSU5GT1JNQUw7XG4gICAgICAgIGNhc2UgJ2thbm5hZGEnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LQU5OQURBO1xuICAgICAgICBjYXNlICdrYXRha2FuYSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BO1xuICAgICAgICBjYXNlICdrYXRha2FuYS1pcm9oYSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBO1xuICAgICAgICBjYXNlICdraG1lcic6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktITUVSO1xuICAgICAgICBjYXNlICdrb3JlYW4taGFuZ3VsLWZvcm1hbCc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5HVUxfRk9STUFMO1xuICAgICAgICBjYXNlICdrb3JlYW4taGFuamEtZm9ybWFsJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0ZPUk1BTDtcbiAgICAgICAgY2FzZSAna29yZWFuLWhhbmphLWluZm9ybWFsJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0lORk9STUFMO1xuICAgICAgICBjYXNlICdsYW8nOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MQU87XG4gICAgICAgIGNhc2UgJ2xvd2VyLWFybWVuaWFuJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQVJNRU5JQU47XG4gICAgICAgIGNhc2UgJ21hbGF5YWxhbSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk1BTEFZQUxBTTtcbiAgICAgICAgY2FzZSAnbW9uZ29saWFuJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTU9OR09MSUFOO1xuICAgICAgICBjYXNlICdteWFubWFyJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTVlBTk1BUjtcbiAgICAgICAgY2FzZSAnb3JpeWEnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5PUklZQTtcbiAgICAgICAgY2FzZSAncGVyc2lhbic6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlBFUlNJQU47XG4gICAgICAgIGNhc2UgJ3NpbXAtY2hpbmVzZS1mb3JtYWwnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfRk9STUFMO1xuICAgICAgICBjYXNlICdzaW1wLWNoaW5lc2UtaW5mb3JtYWwnOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfSU5GT1JNQUw7XG4gICAgICAgIGNhc2UgJ3RhbWlsJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEFNSUw7XG4gICAgICAgIGNhc2UgJ3RlbHVndSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRFTFVHVTtcbiAgICAgICAgY2FzZSAndGhhaSc6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRIQUk7XG4gICAgICAgIGNhc2UgJ3RpYmV0YW4nOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5USUJFVEFOO1xuICAgICAgICBjYXNlICd0cmFkLWNoaW5lc2UtZm9ybWFsJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVFJBRF9DSElORVNFX0ZPUk1BTDtcbiAgICAgICAgY2FzZSAndHJhZC1jaGluZXNlLWluZm9ybWFsJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVFJBRF9DSElORVNFX0lORk9STUFMO1xuICAgICAgICBjYXNlICd1cHBlci1hcm1lbmlhbic6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FSTUVOSUFOO1xuICAgICAgICBjYXNlICdkaXNjbG9zdXJlLW9wZW4nOlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDTE9TVVJFX09QRU47XG4gICAgICAgIGNhc2UgJ2Rpc2Nsb3N1cmUtY2xvc2VkJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuRElTQ0xPU1VSRV9DTE9TRUQ7XG4gICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5OT05FO1xuICAgIH1cbn07XG5cbnZhciBwYXJzZUxpc3RTdHlsZSA9IGV4cG9ydHMucGFyc2VMaXN0U3R5bGUgPSBmdW5jdGlvbiBwYXJzZUxpc3RTdHlsZShzdHlsZSkge1xuICAgIHZhciBsaXN0U3R5bGVJbWFnZSA9ICgwLCBfYmFja2dyb3VuZC5wYXJzZUJhY2tncm91bmRJbWFnZSkoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbGlzdC1zdHlsZS1pbWFnZScpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsaXN0U3R5bGVUeXBlOiBwYXJzZUxpc3RTdHlsZVR5cGUoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbGlzdC1zdHlsZS10eXBlJykpLFxuICAgICAgICBsaXN0U3R5bGVJbWFnZTogbGlzdFN0eWxlSW1hZ2UubGVuZ3RoID8gbGlzdFN0eWxlSW1hZ2VbMF0gOiBudWxsLFxuICAgICAgICBsaXN0U3R5bGVQb3NpdGlvbjogcGFyc2VMaXN0U3R5bGVQb3NpdGlvbihzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdsaXN0LXN0eWxlLXBvc2l0aW9uJykpXG4gICAgfTtcbn07XG5cbnZhciBwYXJzZUxpc3RTdHlsZVBvc2l0aW9uID0gZnVuY3Rpb24gcGFyc2VMaXN0U3R5bGVQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSAnaW5zaWRlJzpcbiAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1BPU0lUSU9OLklOU0lERTtcbiAgICAgICAgY2FzZSAnb3V0c2lkZSc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9QT1NJVElPTi5PVVRTSURFO1xuICAgIH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvbGlzdFN0eWxlLmpzXG4vLyBtb2R1bGUgaWQgPSA3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseMargin = undefined;\n\nvar _Length = __webpack_require__(61);\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SIDES = ['top', 'right', 'bottom', 'left'];\n\nvar parseMargin = exports.parseMargin = function parseMargin(style) {\n    return SIDES.map(function (side) {\n        return new _Length2.default(style.getPropertyValue('margin-' + side));\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvbWFyZ2luLmpzP2JhNTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwiZmlsZSI6Ijc1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnBhcnNlTWFyZ2luID0gdW5kZWZpbmVkO1xuXG52YXIgX0xlbmd0aCA9IHJlcXVpcmUoJy4uL0xlbmd0aCcpO1xuXG52YXIgX0xlbmd0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MZW5ndGgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgU0lERVMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xuXG52YXIgcGFyc2VNYXJnaW4gPSBleHBvcnRzLnBhcnNlTWFyZ2luID0gZnVuY3Rpb24gcGFyc2VNYXJnaW4oc3R5bGUpIHtcbiAgICByZXR1cm4gU0lERVMubWFwKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX0xlbmd0aDIuZGVmYXVsdChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tJyArIHNpZGUpKTtcbiAgICB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvbWFyZ2luLmpzXG4vLyBtb2R1bGUgaWQgPSA3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 76 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar OVERFLOW = exports.OVERFLOW = {\n    VISIBLE: 0,\n    HIDDEN: 1,\n    SCROLL: 2,\n    AUTO: 3\n};\n\nvar parseOverflow = exports.parseOverflow = function parseOverflow(overflow) {\n    switch (overflow) {\n        case 'hidden':\n            return OVERFLOW.HIDDEN;\n        case 'scroll':\n            return OVERFLOW.SCROLL;\n        case 'auto':\n            return OVERFLOW.AUTO;\n        case 'visible':\n        default:\n            return OVERFLOW.VISIBLE;\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvb3ZlcmZsb3cuanM/YmE1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI3Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIE9WRVJGTE9XID0gZXhwb3J0cy5PVkVSRkxPVyA9IHtcbiAgICBWSVNJQkxFOiAwLFxuICAgIEhJRERFTjogMSxcbiAgICBTQ1JPTEw6IDIsXG4gICAgQVVUTzogM1xufTtcblxudmFyIHBhcnNlT3ZlcmZsb3cgPSBleHBvcnRzLnBhcnNlT3ZlcmZsb3cgPSBmdW5jdGlvbiBwYXJzZU92ZXJmbG93KG92ZXJmbG93KSB7XG4gICAgc3dpdGNoIChvdmVyZmxvdykge1xuICAgICAgICBjYXNlICdoaWRkZW4nOlxuICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLkhJRERFTjtcbiAgICAgICAgY2FzZSAnc2Nyb2xsJzpcbiAgICAgICAgICAgIHJldHVybiBPVkVSRkxPVy5TQ1JPTEw7XG4gICAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLkFVVE87XG4gICAgICAgIGNhc2UgJ3Zpc2libGUnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLlZJU0lCTEU7XG4gICAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy9vdmVyZmxvdy5qc1xuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 77 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar OVERFLOW_WRAP = exports.OVERFLOW_WRAP = {\n    NORMAL: 0,\n    BREAK_WORD: 1\n};\n\nvar parseOverflowWrap = exports.parseOverflowWrap = function parseOverflowWrap(overflow) {\n    switch (overflow) {\n        case 'break-word':\n            return OVERFLOW_WRAP.BREAK_WORD;\n        case 'normal':\n        default:\n            return OVERFLOW_WRAP.NORMAL;\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvb3ZlcmZsb3dXcmFwLmpzP2MxNWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbnZhciBPVkVSRkxPV19XUkFQID0gZXhwb3J0cy5PVkVSRkxPV19XUkFQID0ge1xuICAgIE5PUk1BTDogMCxcbiAgICBCUkVBS19XT1JEOiAxXG59O1xuXG52YXIgcGFyc2VPdmVyZmxvd1dyYXAgPSBleHBvcnRzLnBhcnNlT3ZlcmZsb3dXcmFwID0gZnVuY3Rpb24gcGFyc2VPdmVyZmxvd1dyYXAob3ZlcmZsb3cpIHtcbiAgICBzd2l0Y2ggKG92ZXJmbG93KSB7XG4gICAgICAgIGNhc2UgJ2JyZWFrLXdvcmQnOlxuICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XX1dSQVAuQlJFQUtfV09SRDtcbiAgICAgICAgY2FzZSAnbm9ybWFsJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBPVkVSRkxPV19XUkFQLk5PUk1BTDtcbiAgICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9wYXJzaW5nL292ZXJmbG93V3JhcC5qc1xuLy8gbW9kdWxlIGlkID0gNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 78 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar POSITION = exports.POSITION = {\n    STATIC: 0,\n    RELATIVE: 1,\n    ABSOLUTE: 2,\n    FIXED: 3,\n    STICKY: 4\n};\n\nvar parsePosition = exports.parsePosition = function parsePosition(position) {\n    switch (position) {\n        case 'relative':\n            return POSITION.RELATIVE;\n        case 'absolute':\n            return POSITION.ABSOLUTE;\n        case 'fixed':\n            return POSITION.FIXED;\n        case 'sticky':\n            return POSITION.STICKY;\n    }\n\n    return POSITION.STATIC;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvcG9zaXRpb24uanM/ZjE4NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiI3OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIFBPU0lUSU9OID0gZXhwb3J0cy5QT1NJVElPTiA9IHtcbiAgICBTVEFUSUM6IDAsXG4gICAgUkVMQVRJVkU6IDEsXG4gICAgQUJTT0xVVEU6IDIsXG4gICAgRklYRUQ6IDMsXG4gICAgU1RJQ0tZOiA0XG59O1xuXG52YXIgcGFyc2VQb3NpdGlvbiA9IGV4cG9ydHMucGFyc2VQb3NpdGlvbiA9IGZ1bmN0aW9uIHBhcnNlUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgJ3JlbGF0aXZlJzpcbiAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5SRUxBVElWRTtcbiAgICAgICAgY2FzZSAnYWJzb2x1dGUnOlxuICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLkFCU09MVVRFO1xuICAgICAgICBjYXNlICdmaXhlZCc6XG4gICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uRklYRUQ7XG4gICAgICAgIGNhc2UgJ3N0aWNreSc6XG4gICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uU1RJQ0tZO1xuICAgIH1cblxuICAgIHJldHVybiBQT1NJVElPTi5TVEFUSUM7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9wYXJzaW5nL3Bvc2l0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTextShadow = undefined;\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NUMBER = /^([+-]|\\d|\\.)$/i;\n\nvar parseTextShadow = exports.parseTextShadow = function parseTextShadow(textShadow) {\n    if (textShadow === 'none' || typeof textShadow !== 'string') {\n        return null;\n    }\n\n    var currentValue = '';\n    var isLength = false;\n    var values = [];\n    var shadows = [];\n    var numParens = 0;\n    var color = null;\n\n    var appendValue = function appendValue() {\n        if (currentValue.length) {\n            if (isLength) {\n                values.push(parseFloat(currentValue));\n            } else {\n                color = new _Color2.default(currentValue);\n            }\n        }\n        isLength = false;\n        currentValue = '';\n    };\n\n    var appendShadow = function appendShadow() {\n        if (values.length && color !== null) {\n            shadows.push({\n                color: color,\n                offsetX: values[0] || 0,\n                offsetY: values[1] || 0,\n                blur: values[2] || 0\n            });\n        }\n        values.splice(0, values.length);\n        color = null;\n    };\n\n    for (var i = 0; i < textShadow.length; i++) {\n        var c = textShadow[i];\n        switch (c) {\n            case '(':\n                currentValue += c;\n                numParens++;\n                break;\n            case ')':\n                currentValue += c;\n                numParens--;\n                break;\n            case ',':\n                if (numParens === 0) {\n                    appendValue();\n                    appendShadow();\n                } else {\n                    currentValue += c;\n                }\n                break;\n            case ' ':\n                if (numParens === 0) {\n                    appendValue();\n                } else {\n                    currentValue += c;\n                }\n                break;\n            default:\n                if (currentValue.length === 0 && NUMBER.test(c)) {\n                    isLength = true;\n                }\n                currentValue += c;\n        }\n    }\n\n    appendValue();\n    appendShadow();\n\n    if (shadows.length === 0) {\n        return null;\n    }\n\n    return shadows;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvdGV4dFNoYWRvdy5qcz81YWMzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6Ijc5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnBhcnNlVGV4dFNoYWRvdyA9IHVuZGVmaW5lZDtcblxudmFyIF9Db2xvciA9IHJlcXVpcmUoJy4uL0NvbG9yJyk7XG5cbnZhciBfQ29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgTlVNQkVSID0gL14oWystXXxcXGR8XFwuKSQvaTtcblxudmFyIHBhcnNlVGV4dFNoYWRvdyA9IGV4cG9ydHMucGFyc2VUZXh0U2hhZG93ID0gZnVuY3Rpb24gcGFyc2VUZXh0U2hhZG93KHRleHRTaGFkb3cpIHtcbiAgICBpZiAodGV4dFNoYWRvdyA9PT0gJ25vbmUnIHx8IHR5cGVvZiB0ZXh0U2hhZG93ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudFZhbHVlID0gJyc7XG4gICAgdmFyIGlzTGVuZ3RoID0gZmFsc2U7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBzaGFkb3dzID0gW107XG4gICAgdmFyIG51bVBhcmVucyA9IDA7XG4gICAgdmFyIGNvbG9yID0gbnVsbDtcblxuICAgIHZhciBhcHBlbmRWYWx1ZSA9IGZ1bmN0aW9uIGFwcGVuZFZhbHVlKCkge1xuICAgICAgICBpZiAoY3VycmVudFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGlzTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gocGFyc2VGbG9hdChjdXJyZW50VmFsdWUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBuZXcgX0NvbG9yMi5kZWZhdWx0KGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXNMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgY3VycmVudFZhbHVlID0gJyc7XG4gICAgfTtcblxuICAgIHZhciBhcHBlbmRTaGFkb3cgPSBmdW5jdGlvbiBhcHBlbmRTaGFkb3coKSB7XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoICYmIGNvbG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzaGFkb3dzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICBvZmZzZXRYOiB2YWx1ZXNbMF0gfHwgMCxcbiAgICAgICAgICAgICAgICBvZmZzZXRZOiB2YWx1ZXNbMV0gfHwgMCxcbiAgICAgICAgICAgICAgICBibHVyOiB2YWx1ZXNbMl0gfHwgMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnNwbGljZSgwLCB2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgY29sb3IgPSBudWxsO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRTaGFkb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSB0ZXh0U2hhZG93W2ldO1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBjO1xuICAgICAgICAgICAgICAgIG51bVBhcmVucysrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnKSc6XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IGM7XG4gICAgICAgICAgICAgICAgbnVtUGFyZW5zLS07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgICAgICBpZiAobnVtUGFyZW5zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFNoYWRvdygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIGlmIChudW1QYXJlbnMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUubGVuZ3RoID09PSAwICYmIE5VTUJFUi50ZXN0KGMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTGVuZ3RoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IGM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRWYWx1ZSgpO1xuICAgIGFwcGVuZFNoYWRvdygpO1xuXG4gICAgaWYgKHNoYWRvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBzaGFkb3dzO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy90ZXh0U2hhZG93LmpzXG4vLyBtb2R1bGUgaWQgPSA3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 80 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar TEXT_TRANSFORM = exports.TEXT_TRANSFORM = {\n    NONE: 0,\n    LOWERCASE: 1,\n    UPPERCASE: 2,\n    CAPITALIZE: 3\n};\n\nvar parseTextTransform = exports.parseTextTransform = function parseTextTransform(textTransform) {\n    switch (textTransform) {\n        case 'uppercase':\n            return TEXT_TRANSFORM.UPPERCASE;\n        case 'lowercase':\n            return TEXT_TRANSFORM.LOWERCASE;\n        case 'capitalize':\n            return TEXT_TRANSFORM.CAPITALIZE;\n    }\n\n    return TEXT_TRANSFORM.NONE;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvdGV4dFRyYW5zZm9ybS5qcz80NTI2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjgwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgVEVYVF9UUkFOU0ZPUk0gPSBleHBvcnRzLlRFWFRfVFJBTlNGT1JNID0ge1xuICAgIE5PTkU6IDAsXG4gICAgTE9XRVJDQVNFOiAxLFxuICAgIFVQUEVSQ0FTRTogMixcbiAgICBDQVBJVEFMSVpFOiAzXG59O1xuXG52YXIgcGFyc2VUZXh0VHJhbnNmb3JtID0gZXhwb3J0cy5wYXJzZVRleHRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBwYXJzZVRleHRUcmFuc2Zvcm0odGV4dFRyYW5zZm9ybSkge1xuICAgIHN3aXRjaCAodGV4dFRyYW5zZm9ybSkge1xuICAgICAgICBjYXNlICd1cHBlcmNhc2UnOlxuICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLlVQUEVSQ0FTRTtcbiAgICAgICAgY2FzZSAnbG93ZXJjYXNlJzpcbiAgICAgICAgICAgIHJldHVybiBURVhUX1RSQU5TRk9STS5MT1dFUkNBU0U7XG4gICAgICAgIGNhc2UgJ2NhcGl0YWxpemUnOlxuICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLkNBUElUQUxJWkU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLk5PTkU7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9wYXJzaW5nL3RleHRUcmFuc2Zvcm0uanNcbi8vIG1vZHVsZSBpZCA9IDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTransform = undefined;\n\nvar _Length = __webpack_require__(61);\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar toFloat = function toFloat(s) {\n    return parseFloat(s.trim());\n};\n\nvar MATRIX = /(matrix|matrix3d)\\((.+)\\)/;\n\nvar parseTransform = exports.parseTransform = function parseTransform(style) {\n    var transform = parseTransformMatrix(style.transform || style.webkitTransform || style.mozTransform ||\n    // $FlowFixMe\n    style.msTransform ||\n    // $FlowFixMe\n    style.oTransform);\n    if (transform === null) {\n        return null;\n    }\n\n    return {\n        transform: transform,\n        transformOrigin: parseTransformOrigin(style.transformOrigin || style.webkitTransformOrigin || style.mozTransformOrigin ||\n        // $FlowFixMe\n        style.msTransformOrigin ||\n        // $FlowFixMe\n        style.oTransformOrigin)\n    };\n};\n\n// $FlowFixMe\nvar parseTransformOrigin = function parseTransformOrigin(origin) {\n    if (typeof origin !== 'string') {\n        var v = new _Length2.default('0');\n        return [v, v];\n    }\n    var values = origin.split(' ').map(_Length2.default.create);\n    return [values[0], values[1]];\n};\n\n// $FlowFixMe\nvar parseTransformMatrix = function parseTransformMatrix(transform) {\n    if (transform === 'none' || typeof transform !== 'string') {\n        return null;\n    }\n\n    var match = transform.match(MATRIX);\n    if (match) {\n        if (match[1] === 'matrix') {\n            var matrix = match[2].split(',').map(toFloat);\n            return [matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]];\n        } else {\n            var matrix3d = match[2].split(',').map(toFloat);\n            return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n        }\n    }\n    return null;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvdHJhbnNmb3JtLmpzP2Q2NjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucGFyc2VUcmFuc2Zvcm0gPSB1bmRlZmluZWQ7XG5cbnZhciBfTGVuZ3RoID0gcmVxdWlyZSgnLi4vTGVuZ3RoJyk7XG5cbnZhciBfTGVuZ3RoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xlbmd0aCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciB0b0Zsb2F0ID0gZnVuY3Rpb24gdG9GbG9hdChzKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQocy50cmltKCkpO1xufTtcblxudmFyIE1BVFJJWCA9IC8obWF0cml4fG1hdHJpeDNkKVxcKCguKylcXCkvO1xuXG52YXIgcGFyc2VUcmFuc2Zvcm0gPSBleHBvcnRzLnBhcnNlVHJhbnNmb3JtID0gZnVuY3Rpb24gcGFyc2VUcmFuc2Zvcm0oc3R5bGUpIHtcbiAgICB2YXIgdHJhbnNmb3JtID0gcGFyc2VUcmFuc2Zvcm1NYXRyaXgoc3R5bGUudHJhbnNmb3JtIHx8IHN0eWxlLndlYmtpdFRyYW5zZm9ybSB8fCBzdHlsZS5tb3pUcmFuc2Zvcm0gfHxcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgc3R5bGUubXNUcmFuc2Zvcm0gfHxcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgc3R5bGUub1RyYW5zZm9ybSk7XG4gICAgaWYgKHRyYW5zZm9ybSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBwYXJzZVRyYW5zZm9ybU9yaWdpbihzdHlsZS50cmFuc2Zvcm1PcmlnaW4gfHwgc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luIHx8IHN0eWxlLm1velRyYW5zZm9ybU9yaWdpbiB8fFxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHN0eWxlLm1zVHJhbnNmb3JtT3JpZ2luIHx8XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgc3R5bGUub1RyYW5zZm9ybU9yaWdpbilcbiAgICB9O1xufTtcblxuLy8gJEZsb3dGaXhNZVxudmFyIHBhcnNlVHJhbnNmb3JtT3JpZ2luID0gZnVuY3Rpb24gcGFyc2VUcmFuc2Zvcm1PcmlnaW4ob3JpZ2luKSB7XG4gICAgaWYgKHR5cGVvZiBvcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB2ID0gbmV3IF9MZW5ndGgyLmRlZmF1bHQoJzAnKTtcbiAgICAgICAgcmV0dXJuIFt2LCB2XTtcbiAgICB9XG4gICAgdmFyIHZhbHVlcyA9IG9yaWdpbi5zcGxpdCgnICcpLm1hcChfTGVuZ3RoMi5kZWZhdWx0LmNyZWF0ZSk7XG4gICAgcmV0dXJuIFt2YWx1ZXNbMF0sIHZhbHVlc1sxXV07XG59O1xuXG4vLyAkRmxvd0ZpeE1lXG52YXIgcGFyc2VUcmFuc2Zvcm1NYXRyaXggPSBmdW5jdGlvbiBwYXJzZVRyYW5zZm9ybU1hdHJpeCh0cmFuc2Zvcm0pIHtcbiAgICBpZiAodHJhbnNmb3JtID09PSAnbm9uZScgfHwgdHlwZW9mIHRyYW5zZm9ybSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoID0gdHJhbnNmb3JtLm1hdGNoKE1BVFJJWCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGlmIChtYXRjaFsxXSA9PT0gJ21hdHJpeCcpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBtYXRjaFsyXS5zcGxpdCgnLCcpLm1hcCh0b0Zsb2F0KTtcbiAgICAgICAgICAgIHJldHVybiBbbWF0cml4WzBdLCBtYXRyaXhbMV0sIG1hdHJpeFsyXSwgbWF0cml4WzNdLCBtYXRyaXhbNF0sIG1hdHJpeFs1XV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbWF0cml4M2QgPSBtYXRjaFsyXS5zcGxpdCgnLCcpLm1hcCh0b0Zsb2F0KTtcbiAgICAgICAgICAgIHJldHVybiBbbWF0cml4M2RbMF0sIG1hdHJpeDNkWzFdLCBtYXRyaXgzZFs0XSwgbWF0cml4M2RbNV0sIG1hdHJpeDNkWzEyXSwgbWF0cml4M2RbMTNdXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvdHJhbnNmb3JtLmpzXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 82 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar VISIBILITY = exports.VISIBILITY = {\n    VISIBLE: 0,\n    HIDDEN: 1,\n    COLLAPSE: 2\n};\n\nvar parseVisibility = exports.parseVisibility = function parseVisibility(visibility) {\n    switch (visibility) {\n        case 'hidden':\n            return VISIBILITY.HIDDEN;\n        case 'collapse':\n            return VISIBILITY.COLLAPSE;\n        case 'visible':\n        default:\n            return VISIBILITY.VISIBLE;\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvdmlzaWJpbGl0eS5qcz9jYmU1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjgyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgVklTSUJJTElUWSA9IGV4cG9ydHMuVklTSUJJTElUWSA9IHtcbiAgICBWSVNJQkxFOiAwLFxuICAgIEhJRERFTjogMSxcbiAgICBDT0xMQVBTRTogMlxufTtcblxudmFyIHBhcnNlVmlzaWJpbGl0eSA9IGV4cG9ydHMucGFyc2VWaXNpYmlsaXR5ID0gZnVuY3Rpb24gcGFyc2VWaXNpYmlsaXR5KHZpc2liaWxpdHkpIHtcbiAgICBzd2l0Y2ggKHZpc2liaWxpdHkpIHtcbiAgICAgICAgY2FzZSAnaGlkZGVuJzpcbiAgICAgICAgICAgIHJldHVybiBWSVNJQklMSVRZLkhJRERFTjtcbiAgICAgICAgY2FzZSAnY29sbGFwc2UnOlxuICAgICAgICAgICAgcmV0dXJuIFZJU0lCSUxJVFkuQ09MTEFQU0U7XG4gICAgICAgIGNhc2UgJ3Zpc2libGUnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFZJU0lCSUxJVFkuVklTSUJMRTtcbiAgICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9wYXJzaW5nL3Zpc2liaWxpdHkuanNcbi8vIG1vZHVsZSBpZCA9IDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 83 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar WORD_BREAK = exports.WORD_BREAK = {\n    NORMAL: 'normal',\n    BREAK_ALL: 'break-all',\n    KEEP_ALL: 'keep-all'\n};\n\nvar parseWordBreak = exports.parseWordBreak = function parseWordBreak(wordBreak) {\n    switch (wordBreak) {\n        case 'break-all':\n            return WORD_BREAK.BREAK_ALL;\n        case 'keep-all':\n            return WORD_BREAK.KEEP_ALL;\n        case 'normal':\n        default:\n            return WORD_BREAK.NORMAL;\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvd29yZC1icmVhay5qcz8yZTk5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjgzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgV09SRF9CUkVBSyA9IGV4cG9ydHMuV09SRF9CUkVBSyA9IHtcbiAgICBOT1JNQUw6ICdub3JtYWwnLFxuICAgIEJSRUFLX0FMTDogJ2JyZWFrLWFsbCcsXG4gICAgS0VFUF9BTEw6ICdrZWVwLWFsbCdcbn07XG5cbnZhciBwYXJzZVdvcmRCcmVhayA9IGV4cG9ydHMucGFyc2VXb3JkQnJlYWsgPSBmdW5jdGlvbiBwYXJzZVdvcmRCcmVhayh3b3JkQnJlYWspIHtcbiAgICBzd2l0Y2ggKHdvcmRCcmVhaykge1xuICAgICAgICBjYXNlICdicmVhay1hbGwnOlxuICAgICAgICAgICAgcmV0dXJuIFdPUkRfQlJFQUsuQlJFQUtfQUxMO1xuICAgICAgICBjYXNlICdrZWVwLWFsbCc6XG4gICAgICAgICAgICByZXR1cm4gV09SRF9CUkVBSy5LRUVQX0FMTDtcbiAgICAgICAgY2FzZSAnbm9ybWFsJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLk5PUk1BTDtcbiAgICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9wYXJzaW5nL3dvcmQtYnJlYWsuanNcbi8vIG1vZHVsZSBpZCA9IDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 84 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar parseZIndex = exports.parseZIndex = function parseZIndex(zIndex) {\n    var auto = zIndex === 'auto';\n    return {\n        auto: auto,\n        order: auto ? 0 : parseInt(zIndex, 10)\n    };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3BhcnNpbmcvekluZGV4LmpzPzU4MjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIHBhcnNlWkluZGV4ID0gZXhwb3J0cy5wYXJzZVpJbmRleCA9IGZ1bmN0aW9uIHBhcnNlWkluZGV4KHpJbmRleCkge1xuICAgIHZhciBhdXRvID0gekluZGV4ID09PSAnYXV0byc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXV0bzogYXV0byxcbiAgICAgICAgb3JkZXI6IGF1dG8gPyAwIDogcGFyc2VJbnQoekluZGV4LCAxMClcbiAgICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vcGFyc2luZy96SW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.reformatInputBounds = exports.inlineSelectElement = exports.inlineTextAreaElement = exports.inlineInputElement = exports.getInputBorderRadius = exports.INPUT_BACKGROUND = exports.INPUT_BORDERS = exports.INPUT_COLOR = undefined;\n\nvar _TextContainer = __webpack_require__(86);\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _background = __webpack_require__(60);\n\nvar _border = __webpack_require__(67);\n\nvar _Circle = __webpack_require__(96);\n\nvar _Circle2 = _interopRequireDefault(_Circle);\n\nvar _Vector = __webpack_require__(63);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Length = __webpack_require__(61);\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nvar _Bounds = __webpack_require__(64);\n\nvar _TextBounds = __webpack_require__(87);\n\nvar _Util = __webpack_require__(59);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar INPUT_COLOR = exports.INPUT_COLOR = new _Color2.default([42, 42, 42]);\nvar INPUT_BORDER_COLOR = new _Color2.default([165, 165, 165]);\nvar INPUT_BACKGROUND_COLOR = new _Color2.default([222, 222, 222]);\nvar INPUT_BORDER = {\n    borderWidth: 1,\n    borderColor: INPUT_BORDER_COLOR,\n    borderStyle: _border.BORDER_STYLE.SOLID\n};\nvar INPUT_BORDERS = exports.INPUT_BORDERS = [INPUT_BORDER, INPUT_BORDER, INPUT_BORDER, INPUT_BORDER];\nvar INPUT_BACKGROUND = exports.INPUT_BACKGROUND = {\n    backgroundColor: INPUT_BACKGROUND_COLOR,\n    backgroundImage: [],\n    backgroundClip: _background.BACKGROUND_CLIP.PADDING_BOX,\n    backgroundOrigin: _background.BACKGROUND_ORIGIN.PADDING_BOX\n};\n\nvar RADIO_BORDER_RADIUS = new _Length2.default('50%');\nvar RADIO_BORDER_RADIUS_TUPLE = [RADIO_BORDER_RADIUS, RADIO_BORDER_RADIUS];\nvar INPUT_RADIO_BORDER_RADIUS = [RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE];\n\nvar CHECKBOX_BORDER_RADIUS = new _Length2.default('3px');\nvar CHECKBOX_BORDER_RADIUS_TUPLE = [CHECKBOX_BORDER_RADIUS, CHECKBOX_BORDER_RADIUS];\nvar INPUT_CHECKBOX_BORDER_RADIUS = [CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE];\n\nvar getInputBorderRadius = exports.getInputBorderRadius = function getInputBorderRadius(node) {\n    return node.type === 'radio' ? INPUT_RADIO_BORDER_RADIUS : INPUT_CHECKBOX_BORDER_RADIUS;\n};\n\nvar inlineInputElement = exports.inlineInputElement = function inlineInputElement(node, container) {\n    if (node.type === 'radio' || node.type === 'checkbox') {\n        if (node.checked) {\n            var size = Math.min(container.bounds.width, container.bounds.height);\n            container.childNodes.push(node.type === 'checkbox' ? [new _Vector2.default(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79), new _Vector2.default(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549), new _Vector2.default(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071), new _Vector2.default(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649), new _Vector2.default(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23), new _Vector2.default(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085), new _Vector2.default(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)] : new _Circle2.default(container.bounds.left + size / 4, container.bounds.top + size / 4, size / 4));\n        }\n    } else {\n        inlineFormElement(getInputValue(node), node, container, false);\n    }\n};\n\nvar inlineTextAreaElement = exports.inlineTextAreaElement = function inlineTextAreaElement(node, container) {\n    inlineFormElement(node.value, node, container, true);\n};\n\nvar inlineSelectElement = exports.inlineSelectElement = function inlineSelectElement(node, container) {\n    var option = node.options[node.selectedIndex || 0];\n    inlineFormElement(option ? option.text || '' : '', node, container, false);\n};\n\nvar reformatInputBounds = exports.reformatInputBounds = function reformatInputBounds(bounds) {\n    if (bounds.width > bounds.height) {\n        bounds.left += (bounds.width - bounds.height) / 2;\n        bounds.width = bounds.height;\n    } else if (bounds.width < bounds.height) {\n        bounds.top += (bounds.height - bounds.width) / 2;\n        bounds.height = bounds.width;\n    }\n    return bounds;\n};\n\nvar inlineFormElement = function inlineFormElement(value, node, container, allowLinebreak) {\n    var body = node.ownerDocument.body;\n    if (value.length > 0 && body) {\n        var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n        (0, _Util.copyCSSStyles)(node.ownerDocument.defaultView.getComputedStyle(node, null), wrapper);\n        wrapper.style.position = 'absolute';\n        wrapper.style.left = container.bounds.left + 'px';\n        wrapper.style.top = container.bounds.top + 'px';\n        if (!allowLinebreak) {\n            wrapper.style.whiteSpace = 'nowrap';\n        }\n        var text = node.ownerDocument.createTextNode(value);\n        wrapper.appendChild(text);\n        body.appendChild(wrapper);\n        container.childNodes.push(_TextContainer2.default.fromTextNode(text, container));\n        body.removeChild(wrapper);\n    }\n};\n\nvar getInputValue = function getInputValue(node) {\n    var value = node.type === 'password' ? new Array(node.value.length + 1).join('\\u2022') : node.value;\n\n    return value.length === 0 ? node.placeholder || '' : value;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0lucHV0LmpzP2YzOTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiI4NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5yZWZvcm1hdElucHV0Qm91bmRzID0gZXhwb3J0cy5pbmxpbmVTZWxlY3RFbGVtZW50ID0gZXhwb3J0cy5pbmxpbmVUZXh0QXJlYUVsZW1lbnQgPSBleHBvcnRzLmlubGluZUlucHV0RWxlbWVudCA9IGV4cG9ydHMuZ2V0SW5wdXRCb3JkZXJSYWRpdXMgPSBleHBvcnRzLklOUFVUX0JBQ0tHUk9VTkQgPSBleHBvcnRzLklOUFVUX0JPUkRFUlMgPSBleHBvcnRzLklOUFVUX0NPTE9SID0gdW5kZWZpbmVkO1xuXG52YXIgX1RleHRDb250YWluZXIgPSByZXF1aXJlKCcuL1RleHRDb250YWluZXInKTtcblxudmFyIF9UZXh0Q29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRDb250YWluZXIpO1xuXG52YXIgX2JhY2tncm91bmQgPSByZXF1aXJlKCcuL3BhcnNpbmcvYmFja2dyb3VuZCcpO1xuXG52YXIgX2JvcmRlciA9IHJlcXVpcmUoJy4vcGFyc2luZy9ib3JkZXInKTtcblxudmFyIF9DaXJjbGUgPSByZXF1aXJlKCcuL2RyYXdpbmcvQ2lyY2xlJyk7XG5cbnZhciBfQ2lyY2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmNsZSk7XG5cbnZhciBfVmVjdG9yID0gcmVxdWlyZSgnLi9kcmF3aW5nL1ZlY3RvcicpO1xuXG52YXIgX1ZlY3RvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WZWN0b3IpO1xuXG52YXIgX0NvbG9yID0gcmVxdWlyZSgnLi9Db2xvcicpO1xuXG52YXIgX0NvbG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbG9yKTtcblxudmFyIF9MZW5ndGggPSByZXF1aXJlKCcuL0xlbmd0aCcpO1xuXG52YXIgX0xlbmd0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MZW5ndGgpO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4vQm91bmRzJyk7XG5cbnZhciBfVGV4dEJvdW5kcyA9IHJlcXVpcmUoJy4vVGV4dEJvdW5kcycpO1xuXG52YXIgX1V0aWwgPSByZXF1aXJlKCcuL1V0aWwnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIElOUFVUX0NPTE9SID0gZXhwb3J0cy5JTlBVVF9DT0xPUiA9IG5ldyBfQ29sb3IyLmRlZmF1bHQoWzQyLCA0MiwgNDJdKTtcbnZhciBJTlBVVF9CT1JERVJfQ09MT1IgPSBuZXcgX0NvbG9yMi5kZWZhdWx0KFsxNjUsIDE2NSwgMTY1XSk7XG52YXIgSU5QVVRfQkFDS0dST1VORF9DT0xPUiA9IG5ldyBfQ29sb3IyLmRlZmF1bHQoWzIyMiwgMjIyLCAyMjJdKTtcbnZhciBJTlBVVF9CT1JERVIgPSB7XG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gICAgYm9yZGVyQ29sb3I6IElOUFVUX0JPUkRFUl9DT0xPUixcbiAgICBib3JkZXJTdHlsZTogX2JvcmRlci5CT1JERVJfU1RZTEUuU09MSURcbn07XG52YXIgSU5QVVRfQk9SREVSUyA9IGV4cG9ydHMuSU5QVVRfQk9SREVSUyA9IFtJTlBVVF9CT1JERVIsIElOUFVUX0JPUkRFUiwgSU5QVVRfQk9SREVSLCBJTlBVVF9CT1JERVJdO1xudmFyIElOUFVUX0JBQ0tHUk9VTkQgPSBleHBvcnRzLklOUFVUX0JBQ0tHUk9VTkQgPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBJTlBVVF9CQUNLR1JPVU5EX0NPTE9SLFxuICAgIGJhY2tncm91bmRJbWFnZTogW10sXG4gICAgYmFja2dyb3VuZENsaXA6IF9iYWNrZ3JvdW5kLkJBQ0tHUk9VTkRfQ0xJUC5QQURESU5HX0JPWCxcbiAgICBiYWNrZ3JvdW5kT3JpZ2luOiBfYmFja2dyb3VuZC5CQUNLR1JPVU5EX09SSUdJTi5QQURESU5HX0JPWFxufTtcblxudmFyIFJBRElPX0JPUkRFUl9SQURJVVMgPSBuZXcgX0xlbmd0aDIuZGVmYXVsdCgnNTAlJyk7XG52YXIgUkFESU9fQk9SREVSX1JBRElVU19UVVBMRSA9IFtSQURJT19CT1JERVJfUkFESVVTLCBSQURJT19CT1JERVJfUkFESVVTXTtcbnZhciBJTlBVVF9SQURJT19CT1JERVJfUkFESVVTID0gW1JBRElPX0JPUkRFUl9SQURJVVNfVFVQTEUsIFJBRElPX0JPUkRFUl9SQURJVVNfVFVQTEUsIFJBRElPX0JPUkRFUl9SQURJVVNfVFVQTEUsIFJBRElPX0JPUkRFUl9SQURJVVNfVFVQTEVdO1xuXG52YXIgQ0hFQ0tCT1hfQk9SREVSX1JBRElVUyA9IG5ldyBfTGVuZ3RoMi5kZWZhdWx0KCczcHgnKTtcbnZhciBDSEVDS0JPWF9CT1JERVJfUkFESVVTX1RVUExFID0gW0NIRUNLQk9YX0JPUkRFUl9SQURJVVMsIENIRUNLQk9YX0JPUkRFUl9SQURJVVNdO1xudmFyIElOUFVUX0NIRUNLQk9YX0JPUkRFUl9SQURJVVMgPSBbQ0hFQ0tCT1hfQk9SREVSX1JBRElVU19UVVBMRSwgQ0hFQ0tCT1hfQk9SREVSX1JBRElVU19UVVBMRSwgQ0hFQ0tCT1hfQk9SREVSX1JBRElVU19UVVBMRSwgQ0hFQ0tCT1hfQk9SREVSX1JBRElVU19UVVBMRV07XG5cbnZhciBnZXRJbnB1dEJvcmRlclJhZGl1cyA9IGV4cG9ydHMuZ2V0SW5wdXRCb3JkZXJSYWRpdXMgPSBmdW5jdGlvbiBnZXRJbnB1dEJvcmRlclJhZGl1cyhub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gJ3JhZGlvJyA/IElOUFVUX1JBRElPX0JPUkRFUl9SQURJVVMgOiBJTlBVVF9DSEVDS0JPWF9CT1JERVJfUkFESVVTO1xufTtcblxudmFyIGlubGluZUlucHV0RWxlbWVudCA9IGV4cG9ydHMuaW5saW5lSW5wdXRFbGVtZW50ID0gZnVuY3Rpb24gaW5saW5lSW5wdXRFbGVtZW50KG5vZGUsIGNvbnRhaW5lcikge1xuICAgIGlmIChub2RlLnR5cGUgPT09ICdyYWRpbycgfHwgbm9kZS50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIGlmIChub2RlLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gTWF0aC5taW4oY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xuICAgICAgICAgICAgY29udGFpbmVyLmNoaWxkTm9kZXMucHVzaChub2RlLnR5cGUgPT09ICdjaGVja2JveCcgPyBbbmV3IF9WZWN0b3IyLmRlZmF1bHQoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMzkzNjMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNzkpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdChjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4xNiwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NTQ5KSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMjczNDcsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNDQwNzEpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdChjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4zOTY5NCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NjQ5KSwgbmV3IF9WZWN0b3IyLmRlZmF1bHQoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuNzI5ODMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuMjMpLCBuZXcgX1ZlY3RvcjIuZGVmYXVsdChjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC44NCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC4zNDA4NSksIG5ldyBfVmVjdG9yMi5kZWZhdWx0KGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjM5MzYzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjc5KV0gOiBuZXcgX0NpcmNsZTIuZGVmYXVsdChjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplIC8gNCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplIC8gNCwgc2l6ZSAvIDQpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlubGluZUZvcm1FbGVtZW50KGdldElucHV0VmFsdWUobm9kZSksIG5vZGUsIGNvbnRhaW5lciwgZmFsc2UpO1xuICAgIH1cbn07XG5cbnZhciBpbmxpbmVUZXh0QXJlYUVsZW1lbnQgPSBleHBvcnRzLmlubGluZVRleHRBcmVhRWxlbWVudCA9IGZ1bmN0aW9uIGlubGluZVRleHRBcmVhRWxlbWVudChub2RlLCBjb250YWluZXIpIHtcbiAgICBpbmxpbmVGb3JtRWxlbWVudChub2RlLnZhbHVlLCBub2RlLCBjb250YWluZXIsIHRydWUpO1xufTtcblxudmFyIGlubGluZVNlbGVjdEVsZW1lbnQgPSBleHBvcnRzLmlubGluZVNlbGVjdEVsZW1lbnQgPSBmdW5jdGlvbiBpbmxpbmVTZWxlY3RFbGVtZW50KG5vZGUsIGNvbnRhaW5lcikge1xuICAgIHZhciBvcHRpb24gPSBub2RlLm9wdGlvbnNbbm9kZS5zZWxlY3RlZEluZGV4IHx8IDBdO1xuICAgIGlubGluZUZvcm1FbGVtZW50KG9wdGlvbiA/IG9wdGlvbi50ZXh0IHx8ICcnIDogJycsIG5vZGUsIGNvbnRhaW5lciwgZmFsc2UpO1xufTtcblxudmFyIHJlZm9ybWF0SW5wdXRCb3VuZHMgPSBleHBvcnRzLnJlZm9ybWF0SW5wdXRCb3VuZHMgPSBmdW5jdGlvbiByZWZvcm1hdElucHV0Qm91bmRzKGJvdW5kcykge1xuICAgIGlmIChib3VuZHMud2lkdGggPiBib3VuZHMuaGVpZ2h0KSB7XG4gICAgICAgIGJvdW5kcy5sZWZ0ICs9IChib3VuZHMud2lkdGggLSBib3VuZHMuaGVpZ2h0KSAvIDI7XG4gICAgICAgIGJvdW5kcy53aWR0aCA9IGJvdW5kcy5oZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChib3VuZHMud2lkdGggPCBib3VuZHMuaGVpZ2h0KSB7XG4gICAgICAgIGJvdW5kcy50b3AgKz0gKGJvdW5kcy5oZWlnaHQgLSBib3VuZHMud2lkdGgpIC8gMjtcbiAgICAgICAgYm91bmRzLmhlaWdodCA9IGJvdW5kcy53aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIGJvdW5kcztcbn07XG5cbnZhciBpbmxpbmVGb3JtRWxlbWVudCA9IGZ1bmN0aW9uIGlubGluZUZvcm1FbGVtZW50KHZhbHVlLCBub2RlLCBjb250YWluZXIsIGFsbG93TGluZWJyZWFrKSB7XG4gICAgdmFyIGJvZHkgPSBub2RlLm93bmVyRG9jdW1lbnQuYm9keTtcbiAgICBpZiAodmFsdWUubGVuZ3RoID4gMCAmJiBib2R5KSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzd3JhcHBlcicpO1xuICAgICAgICAoMCwgX1V0aWwuY29weUNTU1N0eWxlcykobm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCksIHdyYXBwZXIpO1xuICAgICAgICB3cmFwcGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgd3JhcHBlci5zdHlsZS5sZWZ0ID0gY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgJ3B4JztcbiAgICAgICAgd3JhcHBlci5zdHlsZS50b3AgPSBjb250YWluZXIuYm91bmRzLnRvcCArICdweCc7XG4gICAgICAgIGlmICghYWxsb3dMaW5lYnJlYWspIHtcbiAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0ID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbiAgICAgICAgY29udGFpbmVyLmNoaWxkTm9kZXMucHVzaChfVGV4dENvbnRhaW5lcjIuZGVmYXVsdC5mcm9tVGV4dE5vZGUodGV4dCwgY29udGFpbmVyKSk7XG4gICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgfVxufTtcblxudmFyIGdldElucHV0VmFsdWUgPSBmdW5jdGlvbiBnZXRJbnB1dFZhbHVlKG5vZGUpIHtcbiAgICB2YXIgdmFsdWUgPSBub2RlLnR5cGUgPT09ICdwYXNzd29yZCcgPyBuZXcgQXJyYXkobm9kZS52YWx1ZS5sZW5ndGggKyAxKS5qb2luKCdcXHUyMDIyJykgOiBub2RlLnZhbHVlO1xuXG4gICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMCA/IG5vZGUucGxhY2Vob2xkZXIgfHwgJycgOiB2YWx1ZTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0lucHV0LmpzXG4vLyBtb2R1bGUgaWQgPSA4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _textTransform = __webpack_require__(80);\n\nvar _TextBounds = __webpack_require__(87);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TextContainer = function () {\n    function TextContainer(text, parent, bounds) {\n        _classCallCheck(this, TextContainer);\n\n        this.text = text;\n        this.parent = parent;\n        this.bounds = bounds;\n    }\n\n    _createClass(TextContainer, null, [{\n        key: 'fromTextNode',\n        value: function fromTextNode(node, parent) {\n            var text = transform(node.data, parent.style.textTransform);\n            return new TextContainer(text, parent, (0, _TextBounds.parseTextBounds)(text, parent, node));\n        }\n    }]);\n\n    return TextContainer;\n}();\n\nexports.default = TextContainer;\n\n\nvar CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nvar transform = function transform(text, _transform) {\n    switch (_transform) {\n        case _textTransform.TEXT_TRANSFORM.LOWERCASE:\n            return text.toLowerCase();\n        case _textTransform.TEXT_TRANSFORM.CAPITALIZE:\n            return text.replace(CAPITALIZE, capitalize);\n        case _textTransform.TEXT_TRANSFORM.UPPERCASE:\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nfunction capitalize(m, p1, p2) {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n\n    return m;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1RleHRDb250YWluZXIuanM/YTE4MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakI7O0FBRUE7O0FBRUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxDQUFDOztBQUVEOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiI4Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3RleHRUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL3BhcnNpbmcvdGV4dFRyYW5zZm9ybScpO1xuXG52YXIgX1RleHRCb3VuZHMgPSByZXF1aXJlKCcuL1RleHRCb3VuZHMnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFRleHRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dENvbnRhaW5lcih0ZXh0LCBwYXJlbnQsIGJvdW5kcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dENvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0Q29udGFpbmVyLCBudWxsLCBbe1xuICAgICAgICBrZXk6ICdmcm9tVGV4dE5vZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbVRleHROb2RlKG5vZGUsIHBhcmVudCkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSB0cmFuc2Zvcm0obm9kZS5kYXRhLCBwYXJlbnQuc3R5bGUudGV4dFRyYW5zZm9ybSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHRDb250YWluZXIodGV4dCwgcGFyZW50LCAoMCwgX1RleHRCb3VuZHMucGFyc2VUZXh0Qm91bmRzKSh0ZXh0LCBwYXJlbnQsIG5vZGUpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0Q29udGFpbmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0Q29udGFpbmVyO1xuXG5cbnZhciBDQVBJVEFMSVpFID0gLyhefFxcc3w6fC18XFwofFxcKSkoW2Etel0pL2c7XG5cbnZhciB0cmFuc2Zvcm0gPSBmdW5jdGlvbiB0cmFuc2Zvcm0odGV4dCwgX3RyYW5zZm9ybSkge1xuICAgIHN3aXRjaCAoX3RyYW5zZm9ybSkge1xuICAgICAgICBjYXNlIF90ZXh0VHJhbnNmb3JtLlRFWFRfVFJBTlNGT1JNLkxPV0VSQ0FTRTpcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNhc2UgX3RleHRUcmFuc2Zvcm0uVEVYVF9UUkFOU0ZPUk0uQ0FQSVRBTElaRTpcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoQ0FQSVRBTElaRSwgY2FwaXRhbGl6ZSk7XG4gICAgICAgIGNhc2UgX3RleHRUcmFuc2Zvcm0uVEVYVF9UUkFOU0ZPUk0uVVBQRVJDQVNFOlxuICAgICAgICAgICAgcmV0dXJuIHRleHQudG9VcHBlckNhc2UoKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGNhcGl0YWxpemUobSwgcDEsIHAyKSB7XG4gICAgaWYgKG0ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcDEgKyBwMi50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9UZXh0Q29udGFpbmVyLmpzXG4vLyBtb2R1bGUgaWQgPSA4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTextBounds = exports.TextBounds = undefined;\n\nvar _Bounds = __webpack_require__(64);\n\nvar _textDecoration = __webpack_require__(52);\n\nvar _Feature = __webpack_require__(88);\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nvar _Unicode = __webpack_require__(90);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TextBounds = exports.TextBounds = function TextBounds(text, bounds) {\n    _classCallCheck(this, TextBounds);\n\n    this.text = text;\n    this.bounds = bounds;\n};\n\nvar parseTextBounds = exports.parseTextBounds = function parseTextBounds(value, parent, node) {\n    var letterRendering = parent.style.letterSpacing !== 0;\n    var textList = letterRendering ? (0, _Unicode.toCodePoints)(value).map(function (i) {\n        return (0, _Unicode.fromCodePoint)(i);\n    }) : (0, _Unicode.breakWords)(value, parent);\n    var length = textList.length;\n    var defaultView = node.parentNode ? node.parentNode.ownerDocument.defaultView : null;\n    var scrollX = defaultView ? defaultView.pageXOffset : 0;\n    var scrollY = defaultView ? defaultView.pageYOffset : 0;\n    var textBounds = [];\n    var offset = 0;\n    for (var i = 0; i < length; i++) {\n        var text = textList[i];\n        if (parent.style.textDecoration !== _textDecoration.TEXT_DECORATION.NONE || text.trim().length > 0) {\n            if (_Feature2.default.SUPPORT_RANGE_BOUNDS) {\n                textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length, scrollX, scrollY)));\n            } else {\n                var replacementNode = node.splitText(text.length);\n                textBounds.push(new TextBounds(text, getWrapperBounds(node, scrollX, scrollY)));\n                node = replacementNode;\n            }\n        } else if (!_Feature2.default.SUPPORT_RANGE_BOUNDS) {\n            node = node.splitText(text.length);\n        }\n        offset += text.length;\n    }\n    return textBounds;\n};\n\nvar getWrapperBounds = function getWrapperBounds(node, scrollX, scrollY) {\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    wrapper.appendChild(node.cloneNode(true));\n    var parentNode = node.parentNode;\n    if (parentNode) {\n        parentNode.replaceChild(wrapper, node);\n        var bounds = (0, _Bounds.parseBounds)(wrapper, scrollX, scrollY);\n        if (wrapper.firstChild) {\n            parentNode.replaceChild(wrapper.firstChild, wrapper);\n        }\n        return bounds;\n    }\n    return new _Bounds.Bounds(0, 0, 0, 0);\n};\n\nvar getRangeBounds = function getRangeBounds(node, offset, length, scrollX, scrollY) {\n    var range = node.ownerDocument.createRange();\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return _Bounds.Bounds.fromClientRect(range.getBoundingClientRect(), scrollX, scrollY);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1RleHRCb3VuZHMuanM/NDYxNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucGFyc2VUZXh0Qm91bmRzID0gZXhwb3J0cy5UZXh0Qm91bmRzID0gdW5kZWZpbmVkO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4vQm91bmRzJyk7XG5cbnZhciBfdGV4dERlY29yYXRpb24gPSByZXF1aXJlKCcuL3BhcnNpbmcvdGV4dERlY29yYXRpb24nKTtcblxudmFyIF9GZWF0dXJlID0gcmVxdWlyZSgnLi9GZWF0dXJlJyk7XG5cbnZhciBfRmVhdHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GZWF0dXJlKTtcblxudmFyIF9Vbmljb2RlID0gcmVxdWlyZSgnLi9Vbmljb2RlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBUZXh0Qm91bmRzID0gZXhwb3J0cy5UZXh0Qm91bmRzID0gZnVuY3Rpb24gVGV4dEJvdW5kcyh0ZXh0LCBib3VuZHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dEJvdW5kcyk7XG5cbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xufTtcblxudmFyIHBhcnNlVGV4dEJvdW5kcyA9IGV4cG9ydHMucGFyc2VUZXh0Qm91bmRzID0gZnVuY3Rpb24gcGFyc2VUZXh0Qm91bmRzKHZhbHVlLCBwYXJlbnQsIG5vZGUpIHtcbiAgICB2YXIgbGV0dGVyUmVuZGVyaW5nID0gcGFyZW50LnN0eWxlLmxldHRlclNwYWNpbmcgIT09IDA7XG4gICAgdmFyIHRleHRMaXN0ID0gbGV0dGVyUmVuZGVyaW5nID8gKDAsIF9Vbmljb2RlLnRvQ29kZVBvaW50cykodmFsdWUpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gKDAsIF9Vbmljb2RlLmZyb21Db2RlUG9pbnQpKGkpO1xuICAgIH0pIDogKDAsIF9Vbmljb2RlLmJyZWFrV29yZHMpKHZhbHVlLCBwYXJlbnQpO1xuICAgIHZhciBsZW5ndGggPSB0ZXh0TGlzdC5sZW5ndGg7XG4gICAgdmFyIGRlZmF1bHRWaWV3ID0gbm9kZS5wYXJlbnROb2RlID8gbm9kZS5wYXJlbnROb2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBudWxsO1xuICAgIHZhciBzY3JvbGxYID0gZGVmYXVsdFZpZXcgPyBkZWZhdWx0Vmlldy5wYWdlWE9mZnNldCA6IDA7XG4gICAgdmFyIHNjcm9sbFkgPSBkZWZhdWx0VmlldyA/IGRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0IDogMDtcbiAgICB2YXIgdGV4dEJvdW5kcyA9IFtdO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRleHQgPSB0ZXh0TGlzdFtpXTtcbiAgICAgICAgaWYgKHBhcmVudC5zdHlsZS50ZXh0RGVjb3JhdGlvbiAhPT0gX3RleHREZWNvcmF0aW9uLlRFWFRfREVDT1JBVElPTi5OT05FIHx8IHRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChfRmVhdHVyZTIuZGVmYXVsdC5TVVBQT1JUX1JBTkdFX0JPVU5EUykge1xuICAgICAgICAgICAgICAgIHRleHRCb3VuZHMucHVzaChuZXcgVGV4dEJvdW5kcyh0ZXh0LCBnZXRSYW5nZUJvdW5kcyhub2RlLCBvZmZzZXQsIHRleHQubGVuZ3RoLCBzY3JvbGxYLCBzY3JvbGxZKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZW1lbnROb2RlID0gbm9kZS5zcGxpdFRleHQodGV4dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRleHRCb3VuZHMucHVzaChuZXcgVGV4dEJvdW5kcyh0ZXh0LCBnZXRXcmFwcGVyQm91bmRzKG5vZGUsIHNjcm9sbFgsIHNjcm9sbFkpKSk7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHJlcGxhY2VtZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghX0ZlYXR1cmUyLmRlZmF1bHQuU1VQUE9SVF9SQU5HRV9CT1VORFMpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnNwbGl0VGV4dCh0ZXh0Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ICs9IHRleHQubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dEJvdW5kcztcbn07XG5cbnZhciBnZXRXcmFwcGVyQm91bmRzID0gZnVuY3Rpb24gZ2V0V3JhcHBlckJvdW5kcyhub2RlLCBzY3JvbGxYLCBzY3JvbGxZKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbDJjYW52YXN3cmFwcGVyJyk7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChub2RlLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgdmFyIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQod3JhcHBlciwgbm9kZSk7XG4gICAgICAgIHZhciBib3VuZHMgPSAoMCwgX0JvdW5kcy5wYXJzZUJvdW5kcykod3JhcHBlciwgc2Nyb2xsWCwgc2Nyb2xsWSk7XG4gICAgICAgIGlmICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHdyYXBwZXIuZmlyc3RDaGlsZCwgd3JhcHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfQm91bmRzLkJvdW5kcygwLCAwLCAwLCAwKTtcbn07XG5cbnZhciBnZXRSYW5nZUJvdW5kcyA9IGZ1bmN0aW9uIGdldFJhbmdlQm91bmRzKG5vZGUsIG9mZnNldCwgbGVuZ3RoLCBzY3JvbGxYLCBzY3JvbGxZKSB7XG4gICAgdmFyIHJhbmdlID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgb2Zmc2V0KTtcbiAgICByYW5nZS5zZXRFbmQobm9kZSwgb2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICByZXR1cm4gX0JvdW5kcy5Cb3VuZHMuZnJvbUNsaWVudFJlY3QocmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHNjcm9sbFgsIHNjcm9sbFkpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vVGV4dEJvdW5kcy5qc1xuLy8gbW9kdWxlIGlkID0gODdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _ForeignObjectRenderer = __webpack_require__(89);\n\nvar testRangeBounds = function testRangeBounds(document) {\n    var TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        var range = document.createRange();\n        if (range.getBoundingClientRect) {\n            var testElement = document.createElement('boundtest');\n            testElement.style.height = TEST_HEIGHT + 'px';\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            var rangeBounds = range.getBoundingClientRect();\n            var rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\n// iOS 10.3 taints canvas with base64 images unless crossOrigin = 'anonymous'\nvar testBase64 = function testBase64(document, src) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n\n    return new Promise(function (resolve) {\n        // Single pixel base64 image renders fine on iOS 10.3???\n        img.src = src;\n\n        var onload = function onload() {\n            try {\n                ctx.drawImage(img, 0, 0);\n                canvas.toDataURL();\n            } catch (e) {\n                return resolve(false);\n            }\n\n            return resolve(true);\n        };\n\n        img.onload = onload;\n        img.onerror = function () {\n            return resolve(false);\n        };\n\n        if (img.complete === true) {\n            setTimeout(function () {\n                onload();\n            }, 500);\n        }\n    });\n};\n\nvar testCORS = function testCORS() {\n    return typeof new Image().crossOrigin !== 'undefined';\n};\n\nvar testResponseType = function testResponseType() {\n    return typeof new XMLHttpRequest().responseType === 'string';\n};\n\nvar testSVG = function testSVG(document) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    img.src = 'data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\'></svg>';\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nvar isGreenPixel = function isGreenPixel(data) {\n    return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n};\n\nvar testForeignObject = function testForeignObject(document) {\n    var canvas = document.createElement('canvas');\n    var size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    var ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    var img = new Image();\n    var greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    var svg = (0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return (0, _ForeignObjectRenderer.loadSerializedSVG)(svg).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        var data = ctx.getImageData(0, 0, size, size).data;\n        ctx.fillStyle = 'red';\n        ctx.fillRect(0, 0, size, size);\n\n        var node = document.createElement('div');\n        node.style.backgroundImage = 'url(' + greenImageSrc + ')';\n        node.style.height = size + 'px';\n        // Firefox 55 does not render inline <img /> tags\n        return isGreenPixel(data) ? (0, _ForeignObjectRenderer.loadSerializedSVG)((0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, node)) : Promise.reject(false);\n    }).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        // Edge does not render background-images\n        return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n    }).catch(function (e) {\n        return false;\n    });\n};\n\nvar FEATURES = {\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RANGE_BOUNDS() {\n        'use strict';\n\n        var value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_SVG_DRAWING() {\n        'use strict';\n\n        var value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_BASE64_DRAWING() {\n        'use strict';\n\n        return function (src) {\n            var _value = testBase64(document, src);\n            Object.defineProperty(FEATURES, 'SUPPORT_BASE64_DRAWING', { value: function value() {\n                    return _value;\n                } });\n            return _value;\n        };\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_FOREIGNOBJECT_DRAWING() {\n        'use strict';\n\n        var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ? testForeignObject(document) : Promise.resolve(false);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_IMAGES() {\n        'use strict';\n\n        var value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RESPONSE_TYPE() {\n        'use strict';\n\n        var value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_XHR() {\n        'use strict';\n\n        var value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\n        return value;\n    }\n};\n\nexports.default = FEATURES;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0ZlYXR1cmUuanM/ZmQ5NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlFQUFpRSxlQUFlO0FBQ2hGO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdFQUFnRSxlQUFlO0FBQy9FO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0EsaUJBQWlCLEVBQUU7QUFDbkI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwRUFBMEUsZUFBZTtBQUN6RjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnRUFBZ0UsZUFBZTtBQUMvRTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0UsZUFBZTtBQUNqRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2REFBNkQsZUFBZTtBQUM1RTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiODguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9Gb3JlaWduT2JqZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVyL0ZvcmVpZ25PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgdGVzdFJhbmdlQm91bmRzID0gZnVuY3Rpb24gdGVzdFJhbmdlQm91bmRzKGRvY3VtZW50KSB7XG4gICAgdmFyIFRFU1RfSEVJR0hUID0gMTIzO1xuXG4gICAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIGlmIChyYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgICAgICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvdW5kdGVzdCcpO1xuICAgICAgICAgICAgdGVzdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gVEVTVF9IRUlHSFQgKyAncHgnO1xuICAgICAgICAgICAgdGVzdEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlc3RFbGVtZW50KTtcblxuICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSh0ZXN0RWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgcmFuZ2VCb3VuZHMgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciByYW5nZUhlaWdodCA9IE1hdGgucm91bmQocmFuZ2VCb3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVzdEVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHJhbmdlSGVpZ2h0ID09PSBURVNUX0hFSUdIVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gaU9TIDEwLjMgdGFpbnRzIGNhbnZhcyB3aXRoIGJhc2U2NCBpbWFnZXMgdW5sZXNzIGNyb3NzT3JpZ2luID0gJ2Fub255bW91cydcbnZhciB0ZXN0QmFzZTY0ID0gZnVuY3Rpb24gdGVzdEJhc2U2NChkb2N1bWVudCwgc3JjKSB7XG4gICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgLy8gU2luZ2xlIHBpeGVsIGJhc2U2NCBpbWFnZSByZW5kZXJzIGZpbmUgb24gaU9TIDEwLjM/Pz9cbiAgICAgICAgaW1nLnNyYyA9IHNyYztcblxuICAgICAgICB2YXIgb25sb2FkID0gZnVuY3Rpb24gb25sb2FkKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1nLm9ubG9hZCA9IG9ubG9hZDtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGltZy5jb21wbGV0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb25sb2FkKCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG52YXIgdGVzdENPUlMgPSBmdW5jdGlvbiB0ZXN0Q09SUygpIHtcbiAgICByZXR1cm4gdHlwZW9mIG5ldyBJbWFnZSgpLmNyb3NzT3JpZ2luICE9PSAndW5kZWZpbmVkJztcbn07XG5cbnZhciB0ZXN0UmVzcG9uc2VUeXBlID0gZnVuY3Rpb24gdGVzdFJlc3BvbnNlVHlwZSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIG5ldyBYTUxIdHRwUmVxdWVzdCgpLnJlc3BvbnNlVHlwZSA9PT0gJ3N0cmluZyc7XG59O1xuXG52YXIgdGVzdFNWRyA9IGZ1bmN0aW9uIHRlc3RTVkcoZG9jdW1lbnQpIHtcbiAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpbWcuc3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbCw8c3ZnIHhtbG5zPVxcJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFwnPjwvc3ZnPic7XG5cbiAgICB0cnkge1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgIGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgaXNHcmVlblBpeGVsID0gZnVuY3Rpb24gaXNHcmVlblBpeGVsKGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YVswXSA9PT0gMCAmJiBkYXRhWzFdID09PSAyNTUgJiYgZGF0YVsyXSA9PT0gMCAmJiBkYXRhWzNdID09PSAyNTU7XG59O1xuXG52YXIgdGVzdEZvcmVpZ25PYmplY3QgPSBmdW5jdGlvbiB0ZXN0Rm9yZWlnbk9iamVjdChkb2N1bWVudCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgc2l6ZSA9IDEwMDtcbiAgICBjYW52YXMud2lkdGggPSBzaXplO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYigwLCAyNTUsIDApJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XG5cbiAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgdmFyIGdyZWVuSW1hZ2VTcmMgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgaW1nLnNyYyA9IGdyZWVuSW1hZ2VTcmM7XG4gICAgdmFyIHN2ZyA9ICgwLCBfRm9yZWlnbk9iamVjdFJlbmRlcmVyLmNyZWF0ZUZvcmVpZ25PYmplY3RTVkcpKHNpemUsIHNpemUsIDAsIDAsIGltZyk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBzaXplLCBzaXplKTtcblxuICAgIHJldHVybiAoMCwgX0ZvcmVpZ25PYmplY3RSZW5kZXJlci5sb2FkU2VyaWFsaXplZFNWRykoc3ZnKS50aGVuKGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICB2YXIgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSkuZGF0YTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XG5cbiAgICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBncmVlbkltYWdlU3JjICsgJyknO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IHNpemUgKyAncHgnO1xuICAgICAgICAvLyBGaXJlZm94IDU1IGRvZXMgbm90IHJlbmRlciBpbmxpbmUgPGltZyAvPiB0YWdzXG4gICAgICAgIHJldHVybiBpc0dyZWVuUGl4ZWwoZGF0YSkgPyAoMCwgX0ZvcmVpZ25PYmplY3RSZW5kZXJlci5sb2FkU2VyaWFsaXplZFNWRykoKDAsIF9Gb3JlaWduT2JqZWN0UmVuZGVyZXIuY3JlYXRlRm9yZWlnbk9iamVjdFNWRykoc2l6ZSwgc2l6ZSwgMCwgMCwgbm9kZSkpIDogUHJvbWlzZS5yZWplY3QoZmFsc2UpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGltZykge1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgIC8vIEVkZ2UgZG9lcyBub3QgcmVuZGVyIGJhY2tncm91bmQtaW1hZ2VzXG4gICAgICAgIHJldHVybiBpc0dyZWVuUGl4ZWwoY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzaXplLCBzaXplKS5kYXRhKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59O1xuXG52YXIgRkVBVFVSRVMgPSB7XG4gICAgLy8gJEZsb3dGaXhNZSAtIGdldC9zZXQgcHJvcGVydGllcyBub3QgeWV0IHN1cHBvcnRlZFxuICAgIGdldCBTVVBQT1JUX1JBTkdFX0JPVU5EUygpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSYW5nZUJvdW5kcyhkb2N1bWVudCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfUkFOR0VfQk9VTkRTJywgeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIC8vICRGbG93Rml4TWUgLSBnZXQvc2V0IHByb3BlcnRpZXMgbm90IHlldCBzdXBwb3J0ZWRcbiAgICBnZXQgU1VQUE9SVF9TVkdfRFJBV0lORygpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHRlc3RTVkcoZG9jdW1lbnQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX1NWR19EUkFXSU5HJywgeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIC8vICRGbG93Rml4TWUgLSBnZXQvc2V0IHByb3BlcnRpZXMgbm90IHlldCBzdXBwb3J0ZWRcbiAgICBnZXQgU1VQUE9SVF9CQVNFNjRfRFJBV0lORygpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3JjKSB7XG4gICAgICAgICAgICB2YXIgX3ZhbHVlID0gdGVzdEJhc2U2NChkb2N1bWVudCwgc3JjKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfQkFTRTY0X0RSQVdJTkcnLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIC8vICRGbG93Rml4TWUgLSBnZXQvc2V0IHByb3BlcnRpZXMgbm90IHlldCBzdXBwb3J0ZWRcbiAgICBnZXQgU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcoKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2YgQXJyYXkuZnJvbSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygd2luZG93LmZldGNoID09PSAnZnVuY3Rpb24nID8gdGVzdEZvcmVpZ25PYmplY3QoZG9jdW1lbnQpIDogUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcnLCB7IHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgLy8gJEZsb3dGaXhNZSAtIGdldC9zZXQgcHJvcGVydGllcyBub3QgeWV0IHN1cHBvcnRlZFxuICAgIGdldCBTVVBQT1JUX0NPUlNfSU1BR0VTKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gdGVzdENPUlMoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9DT1JTX0lNQUdFUycsIHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICAvLyAkRmxvd0ZpeE1lIC0gZ2V0L3NldCBwcm9wZXJ0aWVzIG5vdCB5ZXQgc3VwcG9ydGVkXG4gICAgZ2V0IFNVUFBPUlRfUkVTUE9OU0VfVFlQRSgpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSZXNwb25zZVR5cGUoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9SRVNQT05TRV9UWVBFJywgeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIC8vICRGbG93Rml4TWUgLSBnZXQvc2V0IHByb3BlcnRpZXMgbm90IHlldCBzdXBwb3J0ZWRcbiAgICBnZXQgU1VQUE9SVF9DT1JTX1hIUigpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9ICd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX0NPUlNfWEhSJywgeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGRUFUVVJFUztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vRmVhdHVyZS5qc1xuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 89 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ForeignObjectRenderer = function () {\n    function ForeignObjectRenderer(element) {\n        _classCallCheck(this, ForeignObjectRenderer);\n\n        this.element = element;\n    }\n\n    _createClass(ForeignObjectRenderer, [{\n        key: 'render',\n        value: function render(options) {\n            var _this = this;\n\n            this.options = options;\n            this.canvas = document.createElement('canvas');\n            this.ctx = this.canvas.getContext('2d');\n            this.canvas.width = Math.floor(options.width) * options.scale;\n            this.canvas.height = Math.floor(options.height) * options.scale;\n            this.canvas.style.width = options.width + 'px';\n            this.canvas.style.height = options.height + 'px';\n\n            options.logger.log('ForeignObject renderer initialized (' + options.width + 'x' + options.height + ' at ' + options.x + ',' + options.y + ') with scale ' + options.scale);\n            var svg = createForeignObjectSVG(Math.max(options.windowWidth, options.width) * options.scale, Math.max(options.windowHeight, options.height) * options.scale, options.scrollX * options.scale, options.scrollY * options.scale, this.element);\n\n            return loadSerializedSVG(svg).then(function (img) {\n                if (options.backgroundColor) {\n                    _this.ctx.fillStyle = options.backgroundColor.toString();\n                    _this.ctx.fillRect(0, 0, options.width * options.scale, options.height * options.scale);\n                }\n\n                _this.ctx.drawImage(img, -options.x * options.scale, -options.y * options.scale);\n                return _this.canvas;\n            });\n        }\n    }]);\n\n    return ForeignObjectRenderer;\n}();\n\nexports.default = ForeignObjectRenderer;\nvar createForeignObjectSVG = exports.createForeignObjectSVG = function createForeignObjectSVG(width, height, x, y, node) {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(xmlns, 'svg');\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS(null, 'width', width);\n    svg.setAttributeNS(null, 'height', height);\n\n    foreignObject.setAttributeNS(null, 'width', '100%');\n    foreignObject.setAttributeNS(null, 'height', '100%');\n    foreignObject.setAttributeNS(null, 'x', x);\n    foreignObject.setAttributeNS(null, 'y', y);\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n\n    foreignObject.appendChild(node);\n\n    return svg;\n};\n\nvar loadSerializedSVG = exports.loadSerializedSVG = function loadSerializedSVG(svg) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        img.onload = function () {\n            return resolve(img);\n        };\n        img.onerror = reject;\n\n        img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(new XMLSerializer().serializeToString(svg));\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3JlbmRlcmVyL0ZvcmVpZ25PYmplY3RSZW5kZXJlci5qcz84ZjQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7O0FBRUw7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQztBQUN0QyxLQUFLO0FBQ0wiLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEZvcmVpZ25PYmplY3RSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGb3JlaWduT2JqZWN0UmVuZGVyZXIoZWxlbWVudCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9yZWlnbk9iamVjdFJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhGb3JlaWduT2JqZWN0UmVuZGVyZXIsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iob3B0aW9ucy53aWR0aCkgKiBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihvcHRpb25zLmhlaWdodCkgKiBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoICsgJ3B4JztcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAgICAgb3B0aW9ucy5sb2dnZXIubG9nKCdGb3JlaWduT2JqZWN0IHJlbmRlcmVyIGluaXRpYWxpemVkICgnICsgb3B0aW9ucy53aWR0aCArICd4JyArIG9wdGlvbnMuaGVpZ2h0ICsgJyBhdCAnICsgb3B0aW9ucy54ICsgJywnICsgb3B0aW9ucy55ICsgJykgd2l0aCBzY2FsZSAnICsgb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICB2YXIgc3ZnID0gY3JlYXRlRm9yZWlnbk9iamVjdFNWRyhNYXRoLm1heChvcHRpb25zLndpbmRvd1dpZHRoLCBvcHRpb25zLndpZHRoKSAqIG9wdGlvbnMuc2NhbGUsIE1hdGgubWF4KG9wdGlvbnMud2luZG93SGVpZ2h0LCBvcHRpb25zLmhlaWdodCkgKiBvcHRpb25zLnNjYWxlLCBvcHRpb25zLnNjcm9sbFggKiBvcHRpb25zLnNjYWxlLCBvcHRpb25zLnNjcm9sbFkgKiBvcHRpb25zLnNjYWxlLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbG9hZFNlcmlhbGl6ZWRTVkcoc3ZnKS50aGVuKGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsUmVjdCgwLCAwLCBvcHRpb25zLndpZHRoICogb3B0aW9ucy5zY2FsZSwgb3B0aW9ucy5oZWlnaHQgKiBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5jdHguZHJhd0ltYWdlKGltZywgLW9wdGlvbnMueCAqIG9wdGlvbnMuc2NhbGUsIC1vcHRpb25zLnkgKiBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2FudmFzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRm9yZWlnbk9iamVjdFJlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGb3JlaWduT2JqZWN0UmVuZGVyZXI7XG52YXIgY3JlYXRlRm9yZWlnbk9iamVjdFNWRyA9IGV4cG9ydHMuY3JlYXRlRm9yZWlnbk9iamVjdFNWRyA9IGZ1bmN0aW9uIGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcod2lkdGgsIGhlaWdodCwgeCwgeSwgbm9kZSkge1xuICAgIHZhciB4bWxucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgdmFyIHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgJ3N2ZycpO1xuICAgIHZhciBmb3JlaWduT2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHhtbG5zLCAnZm9yZWlnbk9iamVjdCcpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCB3aWR0aCk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCBoZWlnaHQpO1xuXG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCAnMTAwJScpO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsICcxMDAlJyk7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneCcsIHgpO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ3knLCB5KTtcbiAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3RydWUnKTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQoZm9yZWlnbk9iamVjdCk7XG5cbiAgICBmb3JlaWduT2JqZWN0LmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gICAgcmV0dXJuIHN2Zztcbn07XG5cbnZhciBsb2FkU2VyaWFsaXplZFNWRyA9IGV4cG9ydHMubG9hZFNlcmlhbGl6ZWRTVkcgPSBmdW5jdGlvbiBsb2FkU2VyaWFsaXplZFNWRyhzdmcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpbWcpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcub25lcnJvciA9IHJlamVjdDtcblxuICAgICAgICBpbWcuc3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQobmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpKTtcbiAgICB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL3JlbmRlcmVyL0ZvcmVpZ25PYmplY3RSZW5kZXJlci5qc1xuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.breakWords = exports.fromCodePoint = exports.toCodePoints = undefined;\n\nvar _cssLineBreak = __webpack_require__(91);\n\nObject.defineProperty(exports, 'toCodePoints', {\n    enumerable: true,\n    get: function get() {\n        return _cssLineBreak.toCodePoints;\n    }\n});\nObject.defineProperty(exports, 'fromCodePoint', {\n    enumerable: true,\n    get: function get() {\n        return _cssLineBreak.fromCodePoint;\n    }\n});\n\nvar _NodeContainer = __webpack_require__(58);\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _overflowWrap = __webpack_require__(77);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar breakWords = exports.breakWords = function breakWords(str, parent) {\n    var breaker = (0, _cssLineBreak.LineBreaker)(str, {\n        lineBreak: parent.style.lineBreak,\n        wordBreak: parent.style.overflowWrap === _overflowWrap.OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : parent.style.wordBreak\n    });\n\n    var words = [];\n    var bk = void 0;\n\n    while (!(bk = breaker.next()).done) {\n        words.push(bk.value.slice());\n    }\n\n    return words;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1VuaWNvZGUuanM/MjE2NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjkwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmJyZWFrV29yZHMgPSBleHBvcnRzLmZyb21Db2RlUG9pbnQgPSBleHBvcnRzLnRvQ29kZVBvaW50cyA9IHVuZGVmaW5lZDtcblxudmFyIF9jc3NMaW5lQnJlYWsgPSByZXF1aXJlKCdjc3MtbGluZS1icmVhaycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RvQ29kZVBvaW50cycsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2Nzc0xpbmVCcmVhay50b0NvZGVQb2ludHM7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2Zyb21Db2RlUG9pbnQnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9jc3NMaW5lQnJlYWsuZnJvbUNvZGVQb2ludDtcbiAgICB9XG59KTtcblxudmFyIF9Ob2RlQ29udGFpbmVyID0gcmVxdWlyZSgnLi9Ob2RlQ29udGFpbmVyJyk7XG5cbnZhciBfTm9kZUNvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob2RlQ29udGFpbmVyKTtcblxudmFyIF9vdmVyZmxvd1dyYXAgPSByZXF1aXJlKCcuL3BhcnNpbmcvb3ZlcmZsb3dXcmFwJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBicmVha1dvcmRzID0gZXhwb3J0cy5icmVha1dvcmRzID0gZnVuY3Rpb24gYnJlYWtXb3JkcyhzdHIsIHBhcmVudCkge1xuICAgIHZhciBicmVha2VyID0gKDAsIF9jc3NMaW5lQnJlYWsuTGluZUJyZWFrZXIpKHN0ciwge1xuICAgICAgICBsaW5lQnJlYWs6IHBhcmVudC5zdHlsZS5saW5lQnJlYWssXG4gICAgICAgIHdvcmRCcmVhazogcGFyZW50LnN0eWxlLm92ZXJmbG93V3JhcCA9PT0gX292ZXJmbG93V3JhcC5PVkVSRkxPV19XUkFQLkJSRUFLX1dPUkQgPyAnYnJlYWstd29yZCcgOiBwYXJlbnQuc3R5bGUud29yZEJyZWFrXG4gICAgfSk7XG5cbiAgICB2YXIgd29yZHMgPSBbXTtcbiAgICB2YXIgYmsgPSB2b2lkIDA7XG5cbiAgICB3aGlsZSAoIShiayA9IGJyZWFrZXIubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIHdvcmRzLnB1c2goYmsudmFsdWUuc2xpY2UoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdvcmRzO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vVW5pY29kZS5qc1xuLy8gbW9kdWxlIGlkID0gOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Util = __webpack_require__(92);\n\nObject.defineProperty(exports, 'toCodePoints', {\n  enumerable: true,\n  get: function get() {\n    return _Util.toCodePoints;\n  }\n});\nObject.defineProperty(exports, 'fromCodePoint', {\n  enumerable: true,\n  get: function get() {\n    return _Util.fromCodePoint;\n  }\n});\n\nvar _LineBreak = __webpack_require__(93);\n\nObject.defineProperty(exports, 'LineBreaker', {\n  enumerable: true,\n  get: function get() {\n    return _LineBreak.LineBreaker;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1saW5lLWJyZWFrL2Rpc3QvaW5kZXguanM/NWQ1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjkxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX1V0aWwgPSByZXF1aXJlKCcuL1V0aWwnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0b0NvZGVQb2ludHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfVXRpbC50b0NvZGVQb2ludHM7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmcm9tQ29kZVBvaW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX1V0aWwuZnJvbUNvZGVQb2ludDtcbiAgfVxufSk7XG5cbnZhciBfTGluZUJyZWFrID0gcmVxdWlyZSgnLi9MaW5lQnJlYWsnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdMaW5lQnJlYWtlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9MaW5lQnJlYWsuTGluZUJyZWFrZXI7XG4gIH1cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbGluZS1icmVhay9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 92 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar toCodePoints = exports.toCodePoints = function toCodePoints(str) {\n    var codePoints = [];\n    var i = 0;\n    var length = str.length;\n    while (i < length) {\n        var value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            var extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nvar fromCodePoint = exports.fromCodePoint = function fromCodePoint() {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint.apply(String, arguments);\n    }\n\n    var length = arguments.length;\n    if (!length) {\n        return '';\n    }\n\n    var codeUnits = [];\n\n    var index = -1;\n    var result = '';\n    while (++index < length) {\n        var codePoint = arguments.length <= index ? undefined : arguments[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode.apply(String, codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nvar decode = exports.decode = function decode(base64) {\n    var bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i = void 0,\n        p = 0,\n        encoded1 = void 0,\n        encoded2 = void 0,\n        encoded3 = void 0,\n        encoded4 = void 0;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = typeof ArrayBuffer !== 'undefined' && typeof Uint8Array !== 'undefined' && typeof Uint8Array.prototype.slice !== 'undefined' ? new ArrayBuffer(bufferLength) : new Array(bufferLength);\n    var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n\n    return buffer;\n};\n\nvar polyUint16Array = exports.polyUint16Array = function polyUint16Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i = 0; _i < length; _i += 2) {\n        bytes.push(buffer[_i + 1] << 8 | buffer[_i]);\n    }\n    return bytes;\n};\n\nvar polyUint32Array = exports.polyUint32Array = function polyUint32Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i2 = 0; _i2 < length; _i2 += 4) {\n        bytes.push(buffer[_i2 + 3] << 24 | buffer[_i2 + 2] << 16 | buffer[_i2 + 1] << 8 | buffer[_i2]);\n    }\n    return bytes;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1saW5lLWJyZWFrL2Rpc3QvVXRpbC5qcz81NTk3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGtCQUFrQjtBQUNqQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsY0FBYztBQUNuQztBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI5Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIHRvQ29kZVBvaW50cyA9IGV4cG9ydHMudG9Db2RlUG9pbnRzID0gZnVuY3Rpb24gdG9Db2RlUG9pbnRzKHN0cikge1xuICAgIHZhciBjb2RlUG9pbnRzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHN0ci5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgIGlmICh2YWx1ZSA+PSAweGQ4MDAgJiYgdmFsdWUgPD0gMHhkYmZmICYmIGkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBleHRyYSA9IHN0ci5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgICAgICBpZiAoKGV4dHJhICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgY29kZVBvaW50cy5wdXNoKCgodmFsdWUgJiAweDNmZikgPDwgMTApICsgKGV4dHJhICYgMHgzZmYpICsgMHgxMDAwMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvZGVQb2ludHMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29kZVBvaW50cy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29kZVBvaW50cztcbn07XG5cbnZhciBmcm9tQ29kZVBvaW50ID0gZXhwb3J0cy5mcm9tQ29kZVBvaW50ID0gZnVuY3Rpb24gZnJvbUNvZGVQb2ludCgpIHtcbiAgICBpZiAoU3RyaW5nLmZyb21Db2RlUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KFN0cmluZywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIGNvZGVVbml0cyA9IFtdO1xuXG4gICAgdmFyIGluZGV4ID0gLTE7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBjb2RlUG9pbnQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IGluZGV4ID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweGZmZmYpIHtcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGNvZGVQb2ludCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKChjb2RlUG9pbnQgPj4gMTApICsgMHhkODAwLCBjb2RlUG9pbnQgJSAweDQwMCArIDB4ZGMwMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gbGVuZ3RoIHx8IGNvZGVVbml0cy5sZW5ndGggPiAweDQwMDApIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVVuaXRzKTtcbiAgICAgICAgICAgIGNvZGVVbml0cy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cbi8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbnZhciBsb29rdXAgPSB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyBbXSA6IG5ldyBVaW50OEFycmF5KDI1Nik7XG5mb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbG9va3VwW2NoYXJzLmNoYXJDb2RlQXQoaSldID0gaTtcbn1cblxudmFyIGRlY29kZSA9IGV4cG9ydHMuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKGJhc2U2NCkge1xuICAgIHZhciBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSxcbiAgICAgICAgbGVuID0gYmFzZTY0Lmxlbmd0aCxcbiAgICAgICAgaSA9IHZvaWQgMCxcbiAgICAgICAgcCA9IDAsXG4gICAgICAgIGVuY29kZWQxID0gdm9pZCAwLFxuICAgICAgICBlbmNvZGVkMiA9IHZvaWQgMCxcbiAgICAgICAgZW5jb2RlZDMgPSB2b2lkIDAsXG4gICAgICAgIGVuY29kZWQ0ID0gdm9pZCAwO1xuXG4gICAgaWYgKGJhc2U2NFtiYXNlNjQubGVuZ3RoIC0gMV0gPT09ICc9Jykge1xuICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgaWYgKGJhc2U2NFtiYXNlNjQubGVuZ3RoIC0gMl0gPT09ICc9Jykge1xuICAgICAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNsaWNlICE9PSAndW5kZWZpbmVkJyA/IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpIDogbmV3IEFycmF5KGJ1ZmZlckxlbmd0aCk7XG4gICAgdmFyIGJ5dGVzID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gYnVmZmVyIDogbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBlbmNvZGVkMSA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKV07XG4gICAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAxKV07XG4gICAgICAgIGVuY29kZWQzID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAyKV07XG4gICAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XG5cbiAgICAgICAgYnl0ZXNbcCsrXSA9IGVuY29kZWQxIDw8IDIgfCBlbmNvZGVkMiA+PiA0O1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQyICYgMTUpIDw8IDQgfCBlbmNvZGVkMyA+PiAyO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQzICYgMykgPDwgNiB8IGVuY29kZWQ0ICYgNjM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn07XG5cbnZhciBwb2x5VWludDE2QXJyYXkgPSBleHBvcnRzLnBvbHlVaW50MTZBcnJheSA9IGZ1bmN0aW9uIHBvbHlVaW50MTZBcnJheShidWZmZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aDtcbiAgICB2YXIgYnl0ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGVuZ3RoOyBfaSArPSAyKSB7XG4gICAgICAgIGJ5dGVzLnB1c2goYnVmZmVyW19pICsgMV0gPDwgOCB8IGJ1ZmZlcltfaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59O1xuXG52YXIgcG9seVVpbnQzMkFycmF5ID0gZXhwb3J0cy5wb2x5VWludDMyQXJyYXkgPSBmdW5jdGlvbiBwb2x5VWludDMyQXJyYXkoYnVmZmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgdmFyIGJ5dGVzID0gW107XG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGVuZ3RoOyBfaTIgKz0gNCkge1xuICAgICAgICBieXRlcy5wdXNoKGJ1ZmZlcltfaTIgKyAzXSA8PCAyNCB8IGJ1ZmZlcltfaTIgKyAyXSA8PCAxNiB8IGJ1ZmZlcltfaTIgKyAxXSA8PCA4IHwgYnVmZmVyW19pMl0pO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbGluZS1icmVhay9kaXN0L1V0aWwuanNcbi8vIG1vZHVsZSBpZCA9IDkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LineBreaker = exports.inlineBreakOpportunities = exports.lineBreakAtIndex = exports.codePointsToCharacterClasses = exports.UnicodeTrie = exports.BREAK_ALLOWED = exports.BREAK_NOT_ALLOWED = exports.BREAK_MANDATORY = exports.classes = exports.LETTER_NUMBER_MODIFIER = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Trie = __webpack_require__(94);\n\nvar _linebreakTrie = __webpack_require__(95);\n\nvar _linebreakTrie2 = _interopRequireDefault(_linebreakTrie);\n\nvar _Util = __webpack_require__(92);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LETTER_NUMBER_MODIFIER = exports.LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nvar BK = 1; //  Cause a line break (after)\nvar CR = 2; //  Cause a line break (after), except between CR and LF\nvar LF = 3; //  Cause a line break (after)\nvar CM = 4; //  Prohibit a line break between the character and the preceding character\nvar NL = 5; //  Cause a line break (after)\nvar SG = 6; //  Do not occur in well-formed text\nvar WJ = 7; //  Prohibit line breaks before and after\nvar ZW = 8; //  Provide a break opportunity\nvar GL = 9; //  Prohibit line breaks before and after\nvar SP = 10; // Enable indirect line breaks\nvar ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nvar B2 = 12; //  Provide a line break opportunity before and after the character\nvar BA = 13; //  Generally provide a line break opportunity after the character\nvar BB = 14; //  Generally provide a line break opportunity before the character\nvar HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nvar CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nvar CL = 17; //  Prohibit line breaks before\nvar CP = 18; //  Prohibit line breaks before\nvar EX = 19; //  Prohibit line breaks before\nvar IN = 20; //  Allow only indirect line breaks between pairs\nvar NS = 21; //  Allow only indirect line breaks before\nvar OP = 22; //  Prohibit line breaks after\nvar QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nvar IS = 24; //  Prevent breaks after any and before numeric\nvar NU = 25; //  Form numeric expressions for line breaking purposes\nvar PO = 26; //  Do not break following a numeric expression\nvar PR = 27; //  Do not break in front of a numeric expression\nvar SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nvar AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nvar AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nvar CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nvar EB = 32; //  Do not break from following Emoji Modifier\nvar EM = 33; //  Do not break from preceding Emoji Base\nvar H2 = 34; //  Form Korean syllable blocks\nvar H3 = 35; //  Form Korean syllable blocks\nvar HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nvar ID = 37; //  Break before or after; except in some numeric context\nvar JL = 38; //  Form Korean syllable blocks\nvar JV = 39; //  Form Korean syllable blocks\nvar JT = 40; //  Form Korean syllable blocks\nvar RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nvar SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nvar XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nvar classes = exports.classes = {\n    BK: BK,\n    CR: CR,\n    LF: LF,\n    CM: CM,\n    NL: NL,\n    SG: SG,\n    WJ: WJ,\n    ZW: ZW,\n    GL: GL,\n    SP: SP,\n    ZWJ: ZWJ,\n    B2: B2,\n    BA: BA,\n    BB: BB,\n    HY: HY,\n    CB: CB,\n    CL: CL,\n    CP: CP,\n    EX: EX,\n    IN: IN,\n    NS: NS,\n    OP: OP,\n    QU: QU,\n    IS: IS,\n    NU: NU,\n    PO: PO,\n    PR: PR,\n    SY: SY,\n    AI: AI,\n    AL: AL,\n    CJ: CJ,\n    EB: EB,\n    EM: EM,\n    H2: H2,\n    H3: H3,\n    HL: HL,\n    ID: ID,\n    JL: JL,\n    JV: JV,\n    JT: JT,\n    RI: RI,\n    SA: SA,\n    XX: XX\n};\n\nvar BREAK_MANDATORY = exports.BREAK_MANDATORY = '!';\nvar BREAK_NOT_ALLOWED = exports.BREAK_NOT_ALLOWED = '';\nvar BREAK_ALLOWED = exports.BREAK_ALLOWED = '';\nvar UnicodeTrie = exports.UnicodeTrie = (0, _Trie.createTrieFromBase64)(_linebreakTrie2.default);\n\nvar ALPHABETICS = [AL, HL];\nvar HARD_LINE_BREAKS = [BK, CR, LF, NL];\nvar SPACE = [SP, ZW];\nvar PREFIX_POSTFIX = [PR, PO];\nvar LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nvar KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nvar HYPHEN = [HY, BA];\n\nvar codePointsToCharacterClasses = exports.codePointsToCharacterClasses = function codePointsToCharacterClasses(codePoints) {\n    var lineBreak = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'strict';\n\n    var types = [];\n    var indicies = [];\n    var categories = [];\n    codePoints.forEach(function (codePoint, index) {\n        var classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010,  U+2013,  U+301C,  U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indicies.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indicies.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            var prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indicies.push(indicies[index - 1]);\n                return types.push(prev);\n            }\n            indicies.push(index);\n            return types.push(AL);\n        }\n\n        indicies.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if (codePoint >= 0x20000 && codePoint <= 0x2fffd || codePoint >= 0x30000 && codePoint <= 0x3fffd) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indicies, types, categories];\n};\n\nvar isAdjacentWithSpaceIgnored = function isAdjacentWithSpaceIgnored(a, b, currentIndex, classTypes) {\n    var current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        var i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            var next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        var _i = currentIndex;\n\n        while (_i > 0) {\n            _i--;\n            var prev = classTypes[_i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                var n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    var _next = classTypes[n];\n\n                    if (_next === b) {\n                        return true;\n                    }\n\n                    if (_next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nvar previousNonSpaceClassType = function previousNonSpaceClassType(currentIndex, classTypes) {\n    var i = currentIndex;\n    while (i >= 0) {\n        var type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nvar _lineBreakAtIndex = function _lineBreakAtIndex(codePoints, classTypes, indicies, index, forbiddenBreaks) {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var beforeIndex = currentIndex - 1;\n    var afterIndex = currentIndex + 1;\n    var current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    var next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ] or ! or ; or /, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after [, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within [, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within , even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as   .\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Dont break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\n    if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if (ALPHABETICS.indexOf(next) !== -1 && current === NU || ALPHABETICS.indexOf(current) !== -1 && next === NU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (current === PR && [ID, EB, EM].indexOf(next) !== -1 || [ID, EB, EM].indexOf(current) !== -1 && next === PO) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1 || PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n    // (PR | PO)  ( OP | HY )? NU\n    [PR, PO].indexOf(current) !== -1 && (next === NU || [OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU) ||\n    // ( OP | HY )  NU\n    [OP, HY].indexOf(current) !== -1 && next === NU ||\n    // NU \t(NU | SY | IS)\n    current === NU && [NU, SY, IS].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        var prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            var type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        var _prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (_prevIndex >= 0) {\n            var _type = classTypes[_prevIndex];\n            if (_type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(_type) !== -1) {\n                _prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1 || [JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1 || [JT, H3].indexOf(current) !== -1 && next === JT) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1 || KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (at).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP || ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        var i = indicies[currentIndex];\n        var count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nvar lineBreakAtIndex = exports.lineBreakAtIndex = function lineBreakAtIndex(codePoints, index) {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    var _codePointsToCharacte = codePointsToCharacterClasses(codePoints),\n        _codePointsToCharacte2 = _slicedToArray(_codePointsToCharacte, 2),\n        indicies = _codePointsToCharacte2[0],\n        classTypes = _codePointsToCharacte2[1];\n\n    return _lineBreakAtIndex(codePoints, classTypes, indicies, index);\n};\n\nvar cssFormattedClasses = function cssFormattedClasses(codePoints, options) {\n    if (!options) {\n        options = { lineBreak: 'normal', wordBreak: 'normal' };\n    }\n\n    var _codePointsToCharacte3 = codePointsToCharacterClasses(codePoints, options.lineBreak),\n        _codePointsToCharacte4 = _slicedToArray(_codePointsToCharacte3, 3),\n        indicies = _codePointsToCharacte4[0],\n        classTypes = _codePointsToCharacte4[1],\n        isLetterNumber = _codePointsToCharacte4[2];\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map(function (type) {\n            return [NU, AL, SA].indexOf(type) !== -1 ? ID : type;\n        });\n    }\n\n    var forbiddenBreakpoints = options.wordBreak === 'keep-all' ? isLetterNumber.map(function (isLetterNumber, i) {\n        return isLetterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n    }) : null;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nvar inlineBreakOpportunities = exports.inlineBreakOpportunities = function inlineBreakOpportunities(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n    var output = BREAK_NOT_ALLOWED;\n\n    var _cssFormattedClasses = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses2 = _slicedToArray(_cssFormattedClasses, 3),\n        indicies = _cssFormattedClasses2[0],\n        classTypes = _cssFormattedClasses2[1],\n        forbiddenBreakpoints = _cssFormattedClasses2[2];\n\n    codePoints.forEach(function (codePoint, i) {\n        output += (0, _Util.fromCodePoint)(codePoint) + (i >= codePoints.length - 1 ? BREAK_MANDATORY : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nvar Break = function () {\n    function Break(codePoints, lineBreak, start, end) {\n        _classCallCheck(this, Break);\n\n        this._codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    _createClass(Break, [{\n        key: 'slice',\n        value: function slice() {\n            return _Util.fromCodePoint.apply(undefined, _toConsumableArray(this._codePoints.slice(this.start, this.end)));\n        }\n    }]);\n\n    return Break;\n}();\n\nvar LineBreaker = exports.LineBreaker = function LineBreaker(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n\n    var _cssFormattedClasses3 = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses4 = _slicedToArray(_cssFormattedClasses3, 3),\n        indicies = _cssFormattedClasses4[0],\n        classTypes = _cssFormattedClasses4[1],\n        forbiddenBreakpoints = _cssFormattedClasses4[2];\n\n    var length = codePoints.length;\n    var lastEnd = 0;\n    var nextIndex = 0;\n\n    return {\n        next: function next() {\n            if (nextIndex >= length) {\n                return { done: true };\n            }\n            var lineBreak = BREAK_NOT_ALLOWED;\n            while (nextIndex < length && (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) === BREAK_NOT_ALLOWED) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return { value: value, done: false };\n            }\n\n            return { done: true };\n        }\n    };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1saW5lLWJyZWFrL2Rpc3QvTGluZUJyZWFrLmpzPzdmM2IiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsa0NBQWtDLGlDQUFpQyxlQUFlLGVBQWUsZ0JBQWdCLG9CQUFvQixNQUFNLDBDQUEwQywrQkFBK0IsYUFBYSxxQkFBcUIsbUNBQW1DLEVBQUUsRUFBRSxjQUFjLFdBQVcsVUFBVSxFQUFFLFVBQVUsTUFBTSx5Q0FBeUMsRUFBRSxVQUFVLGtCQUFrQixFQUFFLEVBQUUsYUFBYSxFQUFFLDJCQUEyQiwwQkFBMEIsWUFBWSxFQUFFLDJDQUEyQyw4QkFBOEIsRUFBRSxPQUFPLDZFQUE2RSxFQUFFLEdBQUcsRUFBRTs7QUFFcnBCOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RixrQ0FBa0MsMEJBQTBCLDBDQUEwQyxnQkFBZ0IsT0FBTyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsT0FBTyx3QkFBd0IsRUFBRTs7QUFFak0saURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7O0FBRUE7QUFDQSxXQUFXO0FBQ1gsV0FBVztBQUNYLFdBQVc7QUFDWCxXQUFXO0FBQ1gsV0FBVztBQUNYLFdBQVc7QUFDWCxXQUFXO0FBQ1gsV0FBVztBQUNYLFdBQVc7QUFDWCxZQUFZO0FBQ1osYUFBYTtBQUNiO0FBQ0EsWUFBWTtBQUNaLFlBQVk7QUFDWixZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWjtBQUNBLFlBQVk7QUFDWixZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWixZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWjtBQUNBLFlBQVk7QUFDWixZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWixZQUFZLDRCQUE0QjtBQUN4QztBQUNBLFlBQVksMkNBQTJDLFdBQVc7QUFDbEUsWUFBWTtBQUNaLFlBQVk7QUFDWixZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWixZQUFZO0FBQ1osWUFBWSw0Q0FBNEM7QUFDeEQsWUFBWSwyQkFBMkI7QUFDdkMsWUFBWTtBQUNaLFlBQVk7QUFDWixZQUFZO0FBQ1osWUFBWSxvQ0FBb0M7QUFDaEQsWUFBWTtBQUNaLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4Qjs7QUFFQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBIiwiZmlsZSI6IjkzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkxpbmVCcmVha2VyID0gZXhwb3J0cy5pbmxpbmVCcmVha09wcG9ydHVuaXRpZXMgPSBleHBvcnRzLmxpbmVCcmVha0F0SW5kZXggPSBleHBvcnRzLmNvZGVQb2ludHNUb0NoYXJhY3RlckNsYXNzZXMgPSBleHBvcnRzLlVuaWNvZGVUcmllID0gZXhwb3J0cy5CUkVBS19BTExPV0VEID0gZXhwb3J0cy5CUkVBS19OT1RfQUxMT1dFRCA9IGV4cG9ydHMuQlJFQUtfTUFOREFUT1JZID0gZXhwb3J0cy5jbGFzc2VzID0gZXhwb3J0cy5MRVRURVJfTlVNQkVSX01PRElGSUVSID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbnZhciBfVHJpZSA9IHJlcXVpcmUoJy4vVHJpZScpO1xuXG52YXIgX2xpbmVicmVha1RyaWUgPSByZXF1aXJlKCcuL2xpbmVicmVhay10cmllJyk7XG5cbnZhciBfbGluZWJyZWFrVHJpZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saW5lYnJlYWtUcmllKTtcblxudmFyIF9VdGlsID0gcmVxdWlyZSgnLi9VdGlsJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTEVUVEVSX05VTUJFUl9NT0RJRklFUiA9IGV4cG9ydHMuTEVUVEVSX05VTUJFUl9NT0RJRklFUiA9IDUwO1xuXG4vLyBOb24tdGFpbG9yYWJsZSBMaW5lIEJyZWFraW5nIENsYXNzZXNcbnZhciBCSyA9IDE7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxudmFyIENSID0gMjsgLy8gIENhdXNlIGEgbGluZSBicmVhayAoYWZ0ZXIpLCBleGNlcHQgYmV0d2VlbiBDUiBhbmQgTEZcbnZhciBMRiA9IDM7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxudmFyIENNID0gNDsgLy8gIFByb2hpYml0IGEgbGluZSBicmVhayBiZXR3ZWVuIHRoZSBjaGFyYWN0ZXIgYW5kIHRoZSBwcmVjZWRpbmcgY2hhcmFjdGVyXG52YXIgTkwgPSA1OyAvLyAgQ2F1c2UgYSBsaW5lIGJyZWFrIChhZnRlcilcbnZhciBTRyA9IDY7IC8vICBEbyBub3Qgb2NjdXIgaW4gd2VsbC1mb3JtZWQgdGV4dFxudmFyIFdKID0gNzsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGJlZm9yZSBhbmQgYWZ0ZXJcbnZhciBaVyA9IDg7IC8vICBQcm92aWRlIGEgYnJlYWsgb3Bwb3J0dW5pdHlcbnZhciBHTCA9IDk7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmUgYW5kIGFmdGVyXG52YXIgU1AgPSAxMDsgLy8gRW5hYmxlIGluZGlyZWN0IGxpbmUgYnJlYWtzXG52YXIgWldKID0gMTE7IC8vIFByb2hpYml0IGxpbmUgYnJlYWtzIHdpdGhpbiBqb2luZXIgc2VxdWVuY2VzXG4vLyBCcmVhayBPcHBvcnR1bml0aWVzXG52YXIgQjIgPSAxMjsgLy8gIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIGNoYXJhY3RlclxudmFyIEJBID0gMTM7IC8vICBHZW5lcmFsbHkgcHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgYWZ0ZXIgdGhlIGNoYXJhY3RlclxudmFyIEJCID0gMTQ7IC8vICBHZW5lcmFsbHkgcHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgYmVmb3JlIHRoZSBjaGFyYWN0ZXJcbnZhciBIWSA9IDE1OyAvLyAgUHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgYWZ0ZXIgdGhlIGNoYXJhY3RlciwgZXhjZXB0IGluIG51bWVyaWMgY29udGV4dFxudmFyIENCID0gMTY7IC8vICAgUHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgY29udGluZ2VudCBvbiBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyBDaGFyYWN0ZXJzIFByb2hpYml0aW5nIENlcnRhaW4gQnJlYWtzXG52YXIgQ0wgPSAxNzsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGJlZm9yZVxudmFyIENQID0gMTg7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcbnZhciBFWCA9IDE5OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlXG52YXIgSU4gPSAyMDsgLy8gIEFsbG93IG9ubHkgaW5kaXJlY3QgbGluZSBicmVha3MgYmV0d2VlbiBwYWlyc1xudmFyIE5TID0gMjE7IC8vICBBbGxvdyBvbmx5IGluZGlyZWN0IGxpbmUgYnJlYWtzIGJlZm9yZVxudmFyIE9QID0gMjI7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBhZnRlclxudmFyIFFVID0gMjM7IC8vICBBY3QgbGlrZSB0aGV5IGFyZSBib3RoIG9wZW5pbmcgYW5kIGNsb3Npbmdcbi8vIE51bWVyaWMgQ29udGV4dFxudmFyIElTID0gMjQ7IC8vICBQcmV2ZW50IGJyZWFrcyBhZnRlciBhbnkgYW5kIGJlZm9yZSBudW1lcmljXG52YXIgTlUgPSAyNTsgLy8gIEZvcm0gbnVtZXJpYyBleHByZXNzaW9ucyBmb3IgbGluZSBicmVha2luZyBwdXJwb3Nlc1xudmFyIFBPID0gMjY7IC8vICBEbyBub3QgYnJlYWsgZm9sbG93aW5nIGEgbnVtZXJpYyBleHByZXNzaW9uXG52YXIgUFIgPSAyNzsgLy8gIERvIG5vdCBicmVhayBpbiBmcm9udCBvZiBhIG51bWVyaWMgZXhwcmVzc2lvblxudmFyIFNZID0gMjg7IC8vICBQcmV2ZW50IGEgYnJlYWsgYmVmb3JlOyBhbmQgYWxsb3cgYSBicmVhayBhZnRlclxuLy8gT3RoZXIgQ2hhcmFjdGVyc1xudmFyIEFJID0gMjk7IC8vICBBY3QgbGlrZSBBTCB3aGVuIHRoZSByZXNvbHZlZEVBVyBpcyBOOyBvdGhlcndpc2U7IGFjdCBhcyBJRFxudmFyIEFMID0gMzA7IC8vICBBcmUgYWxwaGFiZXRpYyBjaGFyYWN0ZXJzIG9yIHN5bWJvbHMgdGhhdCBhcmUgdXNlZCB3aXRoIGFscGhhYmV0aWMgY2hhcmFjdGVyc1xudmFyIENKID0gMzE7IC8vICBUcmVhdCBhcyBOUyBvciBJRCBmb3Igc3RyaWN0IG9yIG5vcm1hbCBicmVha2luZy5cbnZhciBFQiA9IDMyOyAvLyAgRG8gbm90IGJyZWFrIGZyb20gZm9sbG93aW5nIEVtb2ppIE1vZGlmaWVyXG52YXIgRU0gPSAzMzsgLy8gIERvIG5vdCBicmVhayBmcm9tIHByZWNlZGluZyBFbW9qaSBCYXNlXG52YXIgSDIgPSAzNDsgLy8gIEZvcm0gS29yZWFuIHN5bGxhYmxlIGJsb2Nrc1xudmFyIEgzID0gMzU7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcbnZhciBITCA9IDM2OyAvLyAgRG8gbm90IGJyZWFrIGFyb3VuZCBhIGZvbGxvd2luZyBoeXBoZW47IG90aGVyd2lzZSBhY3QgYXMgQWxwaGFiZXRpY1xudmFyIElEID0gMzc7IC8vICBCcmVhayBiZWZvcmUgb3IgYWZ0ZXI7IGV4Y2VwdCBpbiBzb21lIG51bWVyaWMgY29udGV4dFxudmFyIEpMID0gMzg7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcbnZhciBKViA9IDM5OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXG52YXIgSlQgPSA0MDsgLy8gIEZvcm0gS29yZWFuIHN5bGxhYmxlIGJsb2Nrc1xudmFyIFJJID0gNDE7IC8vICBLZWVwIHBhaXJzIHRvZ2V0aGVyLiBGb3IgcGFpcnM7IGJyZWFrIGJlZm9yZSBhbmQgYWZ0ZXIgb3RoZXIgY2xhc3Nlc1xudmFyIFNBID0gNDI7IC8vICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBjb250aW5nZW50IG9uIGFkZGl0aW9uYWwsIGxhbmd1YWdlLXNwZWNpZmljIGNvbnRleHQgYW5hbHlzaXNcbnZhciBYWCA9IDQzOyAvLyAgSGF2ZSBhcyB5ZXQgdW5rbm93biBsaW5lIGJyZWFraW5nIGJlaGF2aW9yIG9yIHVuYXNzaWduZWQgY29kZSBwb3NpdGlvbnNcblxudmFyIGNsYXNzZXMgPSBleHBvcnRzLmNsYXNzZXMgPSB7XG4gICAgQks6IEJLLFxuICAgIENSOiBDUixcbiAgICBMRjogTEYsXG4gICAgQ006IENNLFxuICAgIE5MOiBOTCxcbiAgICBTRzogU0csXG4gICAgV0o6IFdKLFxuICAgIFpXOiBaVyxcbiAgICBHTDogR0wsXG4gICAgU1A6IFNQLFxuICAgIFpXSjogWldKLFxuICAgIEIyOiBCMixcbiAgICBCQTogQkEsXG4gICAgQkI6IEJCLFxuICAgIEhZOiBIWSxcbiAgICBDQjogQ0IsXG4gICAgQ0w6IENMLFxuICAgIENQOiBDUCxcbiAgICBFWDogRVgsXG4gICAgSU46IElOLFxuICAgIE5TOiBOUyxcbiAgICBPUDogT1AsXG4gICAgUVU6IFFVLFxuICAgIElTOiBJUyxcbiAgICBOVTogTlUsXG4gICAgUE86IFBPLFxuICAgIFBSOiBQUixcbiAgICBTWTogU1ksXG4gICAgQUk6IEFJLFxuICAgIEFMOiBBTCxcbiAgICBDSjogQ0osXG4gICAgRUI6IEVCLFxuICAgIEVNOiBFTSxcbiAgICBIMjogSDIsXG4gICAgSDM6IEgzLFxuICAgIEhMOiBITCxcbiAgICBJRDogSUQsXG4gICAgSkw6IEpMLFxuICAgIEpWOiBKVixcbiAgICBKVDogSlQsXG4gICAgUkk6IFJJLFxuICAgIFNBOiBTQSxcbiAgICBYWDogWFhcbn07XG5cbnZhciBCUkVBS19NQU5EQVRPUlkgPSBleHBvcnRzLkJSRUFLX01BTkRBVE9SWSA9ICchJztcbnZhciBCUkVBS19OT1RfQUxMT1dFRCA9IGV4cG9ydHMuQlJFQUtfTk9UX0FMTE9XRUQgPSAnw5cnO1xudmFyIEJSRUFLX0FMTE9XRUQgPSBleHBvcnRzLkJSRUFLX0FMTE9XRUQgPSAnw7cnO1xudmFyIFVuaWNvZGVUcmllID0gZXhwb3J0cy5Vbmljb2RlVHJpZSA9ICgwLCBfVHJpZS5jcmVhdGVUcmllRnJvbUJhc2U2NCkoX2xpbmVicmVha1RyaWUyLmRlZmF1bHQpO1xuXG52YXIgQUxQSEFCRVRJQ1MgPSBbQUwsIEhMXTtcbnZhciBIQVJEX0xJTkVfQlJFQUtTID0gW0JLLCBDUiwgTEYsIE5MXTtcbnZhciBTUEFDRSA9IFtTUCwgWlddO1xudmFyIFBSRUZJWF9QT1NURklYID0gW1BSLCBQT107XG52YXIgTElORV9CUkVBS1MgPSBIQVJEX0xJTkVfQlJFQUtTLmNvbmNhdChTUEFDRSk7XG52YXIgS09SRUFOX1NZTExBQkxFX0JMT0NLID0gW0pMLCBKViwgSlQsIEgyLCBIM107XG52YXIgSFlQSEVOID0gW0hZLCBCQV07XG5cbnZhciBjb2RlUG9pbnRzVG9DaGFyYWN0ZXJDbGFzc2VzID0gZXhwb3J0cy5jb2RlUG9pbnRzVG9DaGFyYWN0ZXJDbGFzc2VzID0gZnVuY3Rpb24gY29kZVBvaW50c1RvQ2hhcmFjdGVyQ2xhc3Nlcyhjb2RlUG9pbnRzKSB7XG4gICAgdmFyIGxpbmVCcmVhayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3N0cmljdCc7XG5cbiAgICB2YXIgdHlwZXMgPSBbXTtcbiAgICB2YXIgaW5kaWNpZXMgPSBbXTtcbiAgICB2YXIgY2F0ZWdvcmllcyA9IFtdO1xuICAgIGNvZGVQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoY29kZVBvaW50LCBpbmRleCkge1xuICAgICAgICB2YXIgY2xhc3NUeXBlID0gVW5pY29kZVRyaWUuZ2V0KGNvZGVQb2ludCk7XG4gICAgICAgIGlmIChjbGFzc1R5cGUgPiBMRVRURVJfTlVNQkVSX01PRElGSUVSKSB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICBjbGFzc1R5cGUgLT0gTEVUVEVSX05VTUJFUl9NT0RJRklFUjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoWydub3JtYWwnLCAnYXV0bycsICdsb29zZSddLmluZGV4T2YobGluZUJyZWFrKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFUrMjAxMCwg4oCTIFUrMjAxMywg44CcIFUrMzAxQywg44KgIFUrMzBBMFxuICAgICAgICAgICAgaWYgKFsweDIwMTAsIDB4MjAxMywgMHgzMDFjLCAweDMwYTBdLmluZGV4T2YoY29kZVBvaW50KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChDQik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBDTSB8fCBjbGFzc1R5cGUgPT09IFpXSikge1xuICAgICAgICAgICAgLy8gTEIxMCBUcmVhdCBhbnkgcmVtYWluaW5nIGNvbWJpbmluZyBtYXJrIG9yIFpXSiBhcyBBTC5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTEI5IERvIG5vdCBicmVhayBhIGNvbWJpbmluZyBjaGFyYWN0ZXIgc2VxdWVuY2U7IHRyZWF0IGl0IGFzIGlmIGl0IGhhcyB0aGUgbGluZSBicmVha2luZyBjbGFzcyBvZlxuICAgICAgICAgICAgLy8gdGhlIGJhc2UgY2hhcmFjdGVyIGluIGFsbCBvZiB0aGUgZm9sbG93aW5nIHJ1bGVzLiBUcmVhdCBaV0ogYXMgaWYgaXQgd2VyZSBDTS5cbiAgICAgICAgICAgIHZhciBwcmV2ID0gdHlwZXNbaW5kZXggLSAxXTtcbiAgICAgICAgICAgIGlmIChMSU5FX0JSRUFLUy5pbmRleE9mKHByZXYpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kaWNpZXNbaW5kZXggLSAxXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2gocHJldik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGljaWVzLnB1c2goaW5kZXgpO1xuXG4gICAgICAgIGlmIChjbGFzc1R5cGUgPT09IENKKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChsaW5lQnJlYWsgPT09ICdzdHJpY3QnID8gTlMgOiBJRCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBTQSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gQUkpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBzdXBwbGVtZW50YXJ5IGNoYXJhY3RlcnMsIGEgdXNlZnVsIGRlZmF1bHQgaXMgdG8gdHJlYXQgY2hhcmFjdGVycyBpbiB0aGUgcmFuZ2UgMTAwMDAuLjFGRkZEIGFzIEFMXG4gICAgICAgIC8vIGFuZCBjaGFyYWN0ZXJzIGluIHRoZSByYW5nZXMgMjAwMDAuLjJGRkZEIGFuZCAzMDAwMC4uM0ZGRkQgYXMgSUQsIHVudGlsIHRoZSBpbXBsZW1lbnRhdGlvbiBjYW4gYmUgcmV2aXNlZFxuICAgICAgICAvLyB0byB0YWtlIGludG8gYWNjb3VudCB0aGUgYWN0dWFsIGxpbmUgYnJlYWtpbmcgcHJvcGVydGllcyBmb3IgdGhlc2UgY2hhcmFjdGVycy5cbiAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gWFgpIHtcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPj0gMHgyMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgyZmZmZCB8fCBjb2RlUG9pbnQgPj0gMHgzMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgzZmZmZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKElEKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdHlwZXMucHVzaChjbGFzc1R5cGUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFtpbmRpY2llcywgdHlwZXMsIGNhdGVnb3JpZXNdO1xufTtcblxudmFyIGlzQWRqYWNlbnRXaXRoU3BhY2VJZ25vcmVkID0gZnVuY3Rpb24gaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoYSwgYiwgY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBjbGFzc1R5cGVzW2N1cnJlbnRJbmRleF07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkgPyBhLmluZGV4T2YoY3VycmVudCkgIT09IC0xIDogYSA9PT0gY3VycmVudCkge1xuICAgICAgICB2YXIgaSA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgd2hpbGUgKGkgPD0gY2xhc3NUeXBlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIHZhciBuZXh0ID0gY2xhc3NUeXBlc1tpXTtcblxuICAgICAgICAgICAgaWYgKG5leHQgPT09IGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5leHQgIT09IFNQKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VycmVudCA9PT0gU1ApIHtcbiAgICAgICAgdmFyIF9pID0gY3VycmVudEluZGV4O1xuXG4gICAgICAgIHdoaWxlIChfaSA+IDApIHtcbiAgICAgICAgICAgIF9pLS07XG4gICAgICAgICAgICB2YXIgcHJldiA9IGNsYXNzVHlwZXNbX2ldO1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSA/IGEuaW5kZXhPZihwcmV2KSAhPT0gLTEgOiBhID09PSBwcmV2KSB7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPD0gY2xhc3NUeXBlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbisrO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX25leHQgPSBjbGFzc1R5cGVzW25dO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfbmV4dCA9PT0gYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoX25leHQgIT09IFNQKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXYgIT09IFNQKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIHByZXZpb3VzTm9uU3BhY2VDbGFzc1R5cGUgPSBmdW5jdGlvbiBwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykge1xuICAgIHZhciBpID0gY3VycmVudEluZGV4O1xuICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW2ldO1xuICAgICAgICBpZiAodHlwZSA9PT0gU1ApIHtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xufTtcblxudmFyIF9saW5lQnJlYWtBdEluZGV4ID0gZnVuY3Rpb24gX2xpbmVCcmVha0F0SW5kZXgoY29kZVBvaW50cywgY2xhc3NUeXBlcywgaW5kaWNpZXMsIGluZGV4LCBmb3JiaWRkZW5CcmVha3MpIHtcbiAgICBpZiAoaW5kaWNpZXNbaW5kZXhdID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXggLSAxO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZvcmJpZGRlbkJyZWFrcykgJiYgZm9yYmlkZGVuQnJlYWtzW2N1cnJlbnRJbmRleF0gPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIHZhciBiZWZvcmVJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7XG4gICAgdmFyIGFmdGVySW5kZXggPSBjdXJyZW50SW5kZXggKyAxO1xuICAgIHZhciBjdXJyZW50ID0gY2xhc3NUeXBlc1tjdXJyZW50SW5kZXhdO1xuXG4gICAgLy8gTEI0IEFsd2F5cyBicmVhayBhZnRlciBoYXJkIGxpbmUgYnJlYWtzLlxuICAgIC8vIExCNSBUcmVhdCBDUiBmb2xsb3dlZCBieSBMRiwgYXMgd2VsbCBhcyBDUiwgTEYsIGFuZCBOTCBhcyBoYXJkIGxpbmUgYnJlYWtzLlxuICAgIHZhciBiZWZvcmUgPSBiZWZvcmVJbmRleCA+PSAwID8gY2xhc3NUeXBlc1tiZWZvcmVJbmRleF0gOiAwO1xuICAgIHZhciBuZXh0ID0gY2xhc3NUeXBlc1thZnRlckluZGV4XTtcblxuICAgIGlmIChjdXJyZW50ID09PSBDUiAmJiBuZXh0ID09PSBMRikge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgaWYgKEhBUkRfTElORV9CUkVBS1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX01BTkRBVE9SWTtcbiAgICB9XG5cbiAgICAvLyBMQjYgRG8gbm90IGJyZWFrIGJlZm9yZSBoYXJkIGxpbmUgYnJlYWtzLlxuICAgIGlmIChIQVJEX0xJTkVfQlJFQUtTLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjcgRG8gbm90IGJyZWFrIGJlZm9yZSBzcGFjZXMgb3IgemVybyB3aWR0aCBzcGFjZS5cbiAgICBpZiAoU1BBQ0UuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCOCBCcmVhayBiZWZvcmUgYW55IGNoYXJhY3RlciBmb2xsb3dpbmcgYSB6ZXJvLXdpZHRoIHNwYWNlLCBldmVuIGlmIG9uZSBvciBtb3JlIHNwYWNlcyBpbnRlcnZlbmUuXG4gICAgaWYgKHByZXZpb3VzTm9uU3BhY2VDbGFzc1R5cGUoY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSA9PT0gWlcpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEI4YSBEbyBub3QgYnJlYWsgYmV0d2VlbiBhIHplcm8gd2lkdGggam9pbmVyIGFuZCBhbiBpZGVvZ3JhcGgsIGVtb2ppIGJhc2Ugb3IgZW1vamkgbW9kaWZpZXIuXG4gICAgaWYgKFVuaWNvZGVUcmllLmdldChjb2RlUG9pbnRzW2N1cnJlbnRJbmRleF0pID09PSBaV0ogJiYgKG5leHQgPT09IElEIHx8IG5leHQgPT09IEVCIHx8IG5leHQgPT09IEVNKSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxMSBEbyBub3QgYnJlYWsgYmVmb3JlIG9yIGFmdGVyIFdvcmQgam9pbmVyIGFuZCByZWxhdGVkIGNoYXJhY3RlcnMuXG4gICAgaWYgKGN1cnJlbnQgPT09IFdKIHx8IG5leHQgPT09IFdKKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjEyIERvIG5vdCBicmVhayBhZnRlciBOQlNQIGFuZCByZWxhdGVkIGNoYXJhY3RlcnMuXG4gICAgaWYgKGN1cnJlbnQgPT09IEdMKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjEyYSBEbyBub3QgYnJlYWsgYmVmb3JlIE5CU1AgYW5kIHJlbGF0ZWQgY2hhcmFjdGVycywgZXhjZXB0IGFmdGVyIHNwYWNlcyBhbmQgaHlwaGVucy5cbiAgICBpZiAoW1NQLCBCQSwgSFldLmluZGV4T2YoY3VycmVudCkgPT09IC0xICYmIG5leHQgPT09IEdMKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjEzIERvIG5vdCBicmVhayBiZWZvcmUg4oCYXeKAmSBvciDigJgh4oCZIG9yIOKAmDvigJkgb3Ig4oCYL+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXG4gICAgaWYgKFtDTCwgQ1AsIEVYLCBJUywgU1ldLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjE0IERvIG5vdCBicmVhayBhZnRlciDigJhb4oCZLCBldmVuIGFmdGVyIHNwYWNlcy5cbiAgICBpZiAocHJldmlvdXNOb25TcGFjZUNsYXNzVHlwZShjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpID09PSBPUCkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxNSBEbyBub3QgYnJlYWsgd2l0aGluIOKAmOKAnVvigJksIGV2ZW4gd2l0aCBpbnRlcnZlbmluZyBzcGFjZXMuXG4gICAgaWYgKGlzQWRqYWNlbnRXaXRoU3BhY2VJZ25vcmVkKFFVLCBPUCwgY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxNiBEbyBub3QgYnJlYWsgYmV0d2VlbiBjbG9zaW5nIHB1bmN0dWF0aW9uIGFuZCBhIG5vbnN0YXJ0ZXIgKGxiPU5TKSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cbiAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoW0NMLCBDUF0sIE5TLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjE3IERvIG5vdCBicmVhayB3aXRoaW4g4oCY4oCU4oCU4oCZLCBldmVuIHdpdGggaW50ZXJ2ZW5pbmcgc3BhY2VzLlxuICAgIGlmIChpc0FkamFjZW50V2l0aFNwYWNlSWdub3JlZChCMiwgQjIsIGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMTggQnJlYWsgYWZ0ZXIgc3BhY2VzLlxuICAgIGlmIChjdXJyZW50ID09PSBTUCkge1xuICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjE5IERvIG5vdCBicmVhayBiZWZvcmUgb3IgYWZ0ZXIgcXVvdGF0aW9uIG1hcmtzLCBzdWNoIGFzIOKAmCDigJ0g4oCZLlxuICAgIGlmIChjdXJyZW50ID09PSBRVSB8fCBuZXh0ID09PSBRVSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyMCBCcmVhayBiZWZvcmUgYW5kIGFmdGVyIHVucmVzb2x2ZWQgQ0IuXG4gICAgaWYgKG5leHQgPT09IENCIHx8IGN1cnJlbnQgPT09IENCKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjEgRG8gbm90IGJyZWFrIGJlZm9yZSBoeXBoZW4tbWludXMsIG90aGVyIGh5cGhlbnMsIGZpeGVkLXdpZHRoIHNwYWNlcywgc21hbGwga2FuYSwgYW5kIG90aGVyIG5vbi1zdGFydGVycywgb3IgYWZ0ZXIgYWN1dGUgYWNjZW50cy5cbiAgICBpZiAoW0JBLCBIWSwgTlNdLmluZGV4T2YobmV4dCkgIT09IC0xIHx8IGN1cnJlbnQgPT09IEJCKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjIxYSBEb24ndCBicmVhayBhZnRlciBIZWJyZXcgKyBIeXBoZW4uXG4gICAgaWYgKGJlZm9yZSA9PT0gSEwgJiYgSFlQSEVOLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjIxYiBEb27igJl0IGJyZWFrIGJldHdlZW4gU29saWR1cyBhbmQgSGVicmV3IGxldHRlcnMuXG4gICAgaWYgKGN1cnJlbnQgPT09IFNZICYmIG5leHQgPT09IEhMKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjIyIERvIG5vdCBicmVhayBiZXR3ZWVuIHR3byBlbGxpcHNlcywgb3IgYmV0d2VlbiBsZXR0ZXJzLCBudW1iZXJzIG9yIGV4Y2xhbWF0aW9ucyBhbmQgZWxsaXBzaXMuXG4gICAgaWYgKG5leHQgPT09IElOICYmIEFMUEhBQkVUSUNTLmNvbmNhdChJTiwgRVgsIE5VLCBJRCwgRUIsIEVNKS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyMyBEbyBub3QgYnJlYWsgYmV0d2VlbiBkaWdpdHMgYW5kIGxldHRlcnMuXG4gICAgaWYgKEFMUEhBQkVUSUNTLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IE5VIHx8IEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IE5VKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjIzYSBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHByZWZpeGVzIGFuZCBpZGVvZ3JhcGhzLCBvciBiZXR3ZWVuIGlkZW9ncmFwaHMgYW5kIG51bWVyaWMgcG9zdGZpeGVzLlxuICAgIGlmIChjdXJyZW50ID09PSBQUiAmJiBbSUQsIEVCLCBFTV0uaW5kZXhPZihuZXh0KSAhPT0gLTEgfHwgW0lELCBFQiwgRU1dLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IFBPKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjI0IERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHJlZml4L3Bvc3RmaXggYW5kIGxldHRlcnMsIG9yIGJldHdlZW4gbGV0dGVycyBhbmQgcHJlZml4L3Bvc3RmaXguXG4gICAgaWYgKEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFBSRUZJWF9QT1NURklYLmluZGV4T2YobmV4dCkgIT09IC0xIHx8IFBSRUZJWF9QT1NURklYLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIEFMUEhBQkVUSUNTLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjI1IERvIG5vdCBicmVhayBiZXR3ZWVuIHRoZSBmb2xsb3dpbmcgcGFpcnMgb2YgY2xhc3NlcyByZWxldmFudCB0byBudW1iZXJzOlxuICAgIGlmIChcbiAgICAvLyAoUFIgfCBQTykgw5cgKCBPUCB8IEhZICk/IE5VXG4gICAgW1BSLCBQT10uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgKG5leHQgPT09IE5VIHx8IFtPUCwgSFldLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGNsYXNzVHlwZXNbYWZ0ZXJJbmRleCArIDFdID09PSBOVSkgfHxcbiAgICAvLyAoIE9QIHwgSFkgKSDDlyBOVVxuICAgIFtPUCwgSFldLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IE5VIHx8XG4gICAgLy8gTlUgw5dcdChOVSB8IFNZIHwgSVMpXG4gICAgY3VycmVudCA9PT0gTlUgJiYgW05VLCBTWSwgSVNdLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBOVSAoTlUgfCBTWSB8IElTKSogw5cgKE5VIHwgU1kgfCBJUyB8IENMIHwgQ1ApXG4gICAgaWYgKFtOVSwgU1ksIElTLCBDTCwgQ1BdLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIHZhciBwcmV2SW5kZXggPSBjdXJyZW50SW5kZXg7XG4gICAgICAgIHdoaWxlIChwcmV2SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW3ByZXZJbmRleF07XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gTlUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFtTWSwgSVNdLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJldkluZGV4LS07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTlUgKE5VIHwgU1kgfCBJUykqIChDTCB8IENQKT8gw5cgKFBPIHwgUFIpKVxuICAgIGlmIChbUFIsIFBPXS5pbmRleE9mKG5leHQpICE9PSAtMSkge1xuICAgICAgICB2YXIgX3ByZXZJbmRleCA9IFtDTCwgQ1BdLmluZGV4T2YoY3VycmVudCkgIT09IC0xID8gYmVmb3JlSW5kZXggOiBjdXJyZW50SW5kZXg7XG4gICAgICAgIHdoaWxlIChfcHJldkluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHZhciBfdHlwZSA9IGNsYXNzVHlwZXNbX3ByZXZJbmRleF07XG4gICAgICAgICAgICBpZiAoX3R5cGUgPT09IE5VKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChbU1ksIElTXS5pbmRleE9mKF90eXBlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBfcHJldkluZGV4LS07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTEIyNiBEbyBub3QgYnJlYWsgYSBLb3JlYW4gc3lsbGFibGUuXG4gICAgaWYgKEpMID09PSBjdXJyZW50ICYmIFtKTCwgSlYsIEgyLCBIM10uaW5kZXhPZihuZXh0KSAhPT0gLTEgfHwgW0pWLCBIMl0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgW0pWLCBKVF0uaW5kZXhPZihuZXh0KSAhPT0gLTEgfHwgW0pULCBIM10uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gSlQpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjcgVHJlYXQgYSBLb3JlYW4gU3lsbGFibGUgQmxvY2sgdGhlIHNhbWUgYXMgSUQuXG4gICAgaWYgKEtPUkVBTl9TWUxMQUJMRV9CTE9DSy5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBbSU4sIFBPXS5pbmRleE9mKG5leHQpICE9PSAtMSB8fCBLT1JFQU5fU1lMTEFCTEVfQkxPQ0suaW5kZXhPZihuZXh0KSAhPT0gLTEgJiYgY3VycmVudCA9PT0gUFIpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjggRG8gbm90IGJyZWFrIGJldHdlZW4gYWxwaGFiZXRpY3MgKOKAnGF04oCdKS5cbiAgICBpZiAoQUxQSEFCRVRJQ1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjkgRG8gbm90IGJyZWFrIGJldHdlZW4gbnVtZXJpYyBwdW5jdHVhdGlvbiBhbmQgYWxwaGFiZXRpY3MgKOKAnGUuZy7igJ0pLlxuICAgIGlmIChjdXJyZW50ID09PSBJUyAmJiBBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIzMCBEbyBub3QgYnJlYWsgYmV0d2VlbiBsZXR0ZXJzLCBudW1iZXJzLCBvciBvcmRpbmFyeSBzeW1ib2xzIGFuZCBvcGVuaW5nIG9yIGNsb3NpbmcgcGFyZW50aGVzZXMuXG4gICAgaWYgKEFMUEhBQkVUSUNTLmNvbmNhdChOVSkuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gT1AgfHwgQUxQSEFCRVRJQ1MuY29uY2F0KE5VKS5pbmRleE9mKG5leHQpICE9PSAtMSAmJiBjdXJyZW50ID09PSBDUCkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIzMGEgQnJlYWsgYmV0d2VlbiB0d28gcmVnaW9uYWwgaW5kaWNhdG9yIHN5bWJvbHMgaWYgYW5kIG9ubHkgaWYgdGhlcmUgYXJlIGFuIGV2ZW4gbnVtYmVyIG9mIHJlZ2lvbmFsXG4gICAgLy8gaW5kaWNhdG9ycyBwcmVjZWRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBicmVhay5cbiAgICBpZiAoY3VycmVudCA9PT0gUkkgJiYgbmV4dCA9PT0gUkkpIHtcbiAgICAgICAgdmFyIGkgPSBpbmRpY2llc1tjdXJyZW50SW5kZXhdO1xuICAgICAgICB2YXIgY291bnQgPSAxO1xuICAgICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGVzW2ldID09PSBSSSkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIExCMzBiIERvIG5vdCBicmVhayBiZXR3ZWVuIGFuIGVtb2ppIGJhc2UgYW5kIGFuIGVtb2ppIG1vZGlmaWVyLlxuICAgIGlmIChjdXJyZW50ID09PSBFQiAmJiBuZXh0ID09PSBFTSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIEJSRUFLX0FMTE9XRUQ7XG59O1xuXG52YXIgbGluZUJyZWFrQXRJbmRleCA9IGV4cG9ydHMubGluZUJyZWFrQXRJbmRleCA9IGZ1bmN0aW9uIGxpbmVCcmVha0F0SW5kZXgoY29kZVBvaW50cywgaW5kZXgpIHtcbiAgICAvLyBMQjIgTmV2ZXIgYnJlYWsgYXQgdGhlIHN0YXJ0IG9mIHRleHQuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjMgQWx3YXlzIGJyZWFrIGF0IHRoZSBlbmQgb2YgdGV4dC5cbiAgICBpZiAoaW5kZXggPj0gY29kZVBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX01BTkRBVE9SWTtcbiAgICB9XG5cbiAgICB2YXIgX2NvZGVQb2ludHNUb0NoYXJhY3RlID0gY29kZVBvaW50c1RvQ2hhcmFjdGVyQ2xhc3Nlcyhjb2RlUG9pbnRzKSxcbiAgICAgICAgX2NvZGVQb2ludHNUb0NoYXJhY3RlMiA9IF9zbGljZWRUb0FycmF5KF9jb2RlUG9pbnRzVG9DaGFyYWN0ZSwgMiksXG4gICAgICAgIGluZGljaWVzID0gX2NvZGVQb2ludHNUb0NoYXJhY3RlMlswXSxcbiAgICAgICAgY2xhc3NUeXBlcyA9IF9jb2RlUG9pbnRzVG9DaGFyYWN0ZTJbMV07XG5cbiAgICByZXR1cm4gX2xpbmVCcmVha0F0SW5kZXgoY29kZVBvaW50cywgY2xhc3NUeXBlcywgaW5kaWNpZXMsIGluZGV4KTtcbn07XG5cbnZhciBjc3NGb3JtYXR0ZWRDbGFzc2VzID0gZnVuY3Rpb24gY3NzRm9ybWF0dGVkQ2xhc3Nlcyhjb2RlUG9pbnRzLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7IGxpbmVCcmVhazogJ25vcm1hbCcsIHdvcmRCcmVhazogJ25vcm1hbCcgfTtcbiAgICB9XG5cbiAgICB2YXIgX2NvZGVQb2ludHNUb0NoYXJhY3RlMyA9IGNvZGVQb2ludHNUb0NoYXJhY3RlckNsYXNzZXMoY29kZVBvaW50cywgb3B0aW9ucy5saW5lQnJlYWspLFxuICAgICAgICBfY29kZVBvaW50c1RvQ2hhcmFjdGU0ID0gX3NsaWNlZFRvQXJyYXkoX2NvZGVQb2ludHNUb0NoYXJhY3RlMywgMyksXG4gICAgICAgIGluZGljaWVzID0gX2NvZGVQb2ludHNUb0NoYXJhY3RlNFswXSxcbiAgICAgICAgY2xhc3NUeXBlcyA9IF9jb2RlUG9pbnRzVG9DaGFyYWN0ZTRbMV0sXG4gICAgICAgIGlzTGV0dGVyTnVtYmVyID0gX2NvZGVQb2ludHNUb0NoYXJhY3RlNFsyXTtcblxuICAgIGlmIChvcHRpb25zLndvcmRCcmVhayA9PT0gJ2JyZWFrLWFsbCcgfHwgb3B0aW9ucy53b3JkQnJlYWsgPT09ICdicmVhay13b3JkJykge1xuICAgICAgICBjbGFzc1R5cGVzID0gY2xhc3NUeXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbTlUsIEFMLCBTQV0uaW5kZXhPZih0eXBlKSAhPT0gLTEgPyBJRCA6IHR5cGU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBmb3JiaWRkZW5CcmVha3BvaW50cyA9IG9wdGlvbnMud29yZEJyZWFrID09PSAna2VlcC1hbGwnID8gaXNMZXR0ZXJOdW1iZXIubWFwKGZ1bmN0aW9uIChpc0xldHRlck51bWJlciwgaSkge1xuICAgICAgICByZXR1cm4gaXNMZXR0ZXJOdW1iZXIgJiYgY29kZVBvaW50c1tpXSA+PSAweDRlMDAgJiYgY29kZVBvaW50c1tpXSA8PSAweDlmZmY7XG4gICAgfSkgOiBudWxsO1xuXG4gICAgcmV0dXJuIFtpbmRpY2llcywgY2xhc3NUeXBlcywgZm9yYmlkZGVuQnJlYWtwb2ludHNdO1xufTtcblxudmFyIGlubGluZUJyZWFrT3Bwb3J0dW5pdGllcyA9IGV4cG9ydHMuaW5saW5lQnJlYWtPcHBvcnR1bml0aWVzID0gZnVuY3Rpb24gaW5saW5lQnJlYWtPcHBvcnR1bml0aWVzKHN0ciwgb3B0aW9ucykge1xuICAgIHZhciBjb2RlUG9pbnRzID0gKDAsIF9VdGlsLnRvQ29kZVBvaW50cykoc3RyKTtcbiAgICB2YXIgb3V0cHV0ID0gQlJFQUtfTk9UX0FMTE9XRUQ7XG5cbiAgICB2YXIgX2Nzc0Zvcm1hdHRlZENsYXNzZXMgPSBjc3NGb3JtYXR0ZWRDbGFzc2VzKGNvZGVQb2ludHMsIG9wdGlvbnMpLFxuICAgICAgICBfY3NzRm9ybWF0dGVkQ2xhc3NlczIgPSBfc2xpY2VkVG9BcnJheShfY3NzRm9ybWF0dGVkQ2xhc3NlcywgMyksXG4gICAgICAgIGluZGljaWVzID0gX2Nzc0Zvcm1hdHRlZENsYXNzZXMyWzBdLFxuICAgICAgICBjbGFzc1R5cGVzID0gX2Nzc0Zvcm1hdHRlZENsYXNzZXMyWzFdLFxuICAgICAgICBmb3JiaWRkZW5CcmVha3BvaW50cyA9IF9jc3NGb3JtYXR0ZWRDbGFzc2VzMlsyXTtcblxuICAgIGNvZGVQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoY29kZVBvaW50LCBpKSB7XG4gICAgICAgIG91dHB1dCArPSAoMCwgX1V0aWwuZnJvbUNvZGVQb2ludCkoY29kZVBvaW50KSArIChpID49IGNvZGVQb2ludHMubGVuZ3RoIC0gMSA/IEJSRUFLX01BTkRBVE9SWSA6IF9saW5lQnJlYWtBdEluZGV4KGNvZGVQb2ludHMsIGNsYXNzVHlwZXMsIGluZGljaWVzLCBpICsgMSwgZm9yYmlkZGVuQnJlYWtwb2ludHMpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuXG52YXIgQnJlYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJlYWsoY29kZVBvaW50cywgbGluZUJyZWFrLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCcmVhayk7XG5cbiAgICAgICAgdGhpcy5fY29kZVBvaW50cyA9IGNvZGVQb2ludHM7XG4gICAgICAgIHRoaXMucmVxdWlyZWQgPSBsaW5lQnJlYWsgPT09IEJSRUFLX01BTkRBVE9SWTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmVuZCA9IGVuZDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQnJlYWssIFt7XG4gICAgICAgIGtleTogJ3NsaWNlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNsaWNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9VdGlsLmZyb21Db2RlUG9pbnQuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fY29kZVBvaW50cy5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCkpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCcmVhaztcbn0oKTtcblxudmFyIExpbmVCcmVha2VyID0gZXhwb3J0cy5MaW5lQnJlYWtlciA9IGZ1bmN0aW9uIExpbmVCcmVha2VyKHN0ciwgb3B0aW9ucykge1xuICAgIHZhciBjb2RlUG9pbnRzID0gKDAsIF9VdGlsLnRvQ29kZVBvaW50cykoc3RyKTtcblxuICAgIHZhciBfY3NzRm9ybWF0dGVkQ2xhc3NlczMgPSBjc3NGb3JtYXR0ZWRDbGFzc2VzKGNvZGVQb2ludHMsIG9wdGlvbnMpLFxuICAgICAgICBfY3NzRm9ybWF0dGVkQ2xhc3NlczQgPSBfc2xpY2VkVG9BcnJheShfY3NzRm9ybWF0dGVkQ2xhc3NlczMsIDMpLFxuICAgICAgICBpbmRpY2llcyA9IF9jc3NGb3JtYXR0ZWRDbGFzc2VzNFswXSxcbiAgICAgICAgY2xhc3NUeXBlcyA9IF9jc3NGb3JtYXR0ZWRDbGFzc2VzNFsxXSxcbiAgICAgICAgZm9yYmlkZGVuQnJlYWtwb2ludHMgPSBfY3NzRm9ybWF0dGVkQ2xhc3NlczRbMl07XG5cbiAgICB2YXIgbGVuZ3RoID0gY29kZVBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGxhc3RFbmQgPSAwO1xuICAgIHZhciBuZXh0SW5kZXggPSAwO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxpbmVCcmVhayA9IEJSRUFLX05PVF9BTExPV0VEO1xuICAgICAgICAgICAgd2hpbGUgKG5leHRJbmRleCA8IGxlbmd0aCAmJiAobGluZUJyZWFrID0gX2xpbmVCcmVha0F0SW5kZXgoY29kZVBvaW50cywgY2xhc3NUeXBlcywgaW5kaWNpZXMsICsrbmV4dEluZGV4LCBmb3JiaWRkZW5CcmVha3BvaW50cykpID09PSBCUkVBS19OT1RfQUxMT1dFRCkge31cblxuICAgICAgICAgICAgaWYgKGxpbmVCcmVhayAhPT0gQlJFQUtfTk9UX0FMTE9XRUQgfHwgbmV4dEluZGV4ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBuZXcgQnJlYWsoY29kZVBvaW50cywgbGluZUJyZWFrLCBsYXN0RW5kLCBuZXh0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RFbmQgPSBuZXh0SW5kZXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxpbmUtYnJlYWsvZGlzdC9MaW5lQnJlYWsuanNcbi8vIG1vZHVsZSBpZCA9IDkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Trie = exports.createTrieFromBase64 = exports.UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_DATA_MASK = exports.UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_SHIFT_1_2 = exports.UTRIE2_INDEX_SHIFT = exports.UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_2 = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(92);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** Shift size for getting the index-2 table offset. */\nvar UTRIE2_SHIFT_2 = exports.UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nvar UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nvar UTRIE2_INDEX_SHIFT = exports.UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nvar UTRIE2_SHIFT_1_2 = exports.UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nvar UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nvar UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nvar UTRIE2_DATA_MASK = exports.UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nvar UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nvar UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nvar UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nvar UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nvar UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nvar UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nvar UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nvar UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nvar createTrieFromBase64 = exports.createTrieFromBase64 = function createTrieFromBase64(base64) {\n    var buffer = (0, _Util.decode)(base64);\n    var view32 = Array.isArray(buffer) ? (0, _Util.polyUint32Array)(buffer) : new Uint32Array(buffer);\n    var view16 = Array.isArray(buffer) ? (0, _Util.polyUint16Array)(buffer) : new Uint16Array(buffer);\n    var headerLength = 24;\n\n    var index = view16.slice(headerLength / 2, view32[4] / 2);\n    var data = view32[5] === 2 ? view16.slice((headerLength + view32[4]) / 2) : view32.slice(Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nvar Trie = exports.Trie = function () {\n    function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\n        _classCallCheck(this, Trie);\n\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n\n\n    _createClass(Trie, [{\n        key: 'get',\n        value: function get(codePoint) {\n            var ix = void 0;\n            if (codePoint >= 0) {\n                if (codePoint < 0x0d800 || codePoint > 0x0dbff && codePoint <= 0x0ffff) {\n                    // Ordinary BMP code point, excluding leading surrogates.\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                    // 16 bit data is stored in the index array itself.\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint <= 0xffff) {\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\n                    // lead surrogate code units and code points.\n                    //   The main index has the code unit data.\n                    //   For this function, we need the code point data.\n                    // Note: this expression could be refactored for slightly improved efficiency, but\n                    //       surrogate code points will be so rare in practice that it's not worth it.\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + (codePoint - 0xd800 >> UTRIE2_SHIFT_2)];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint < this.highStart) {\n                    // Supplemental code point, use two-level lookup.\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                    ix = this.index[ix];\n                    ix += codePoint >> UTRIE2_SHIFT_2 & UTRIE2_INDEX_2_MASK;\n                    ix = this.index[ix];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n                if (codePoint <= 0x10ffff) {\n                    return this.data[this.highValueIndex];\n                }\n            }\n\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n            return this.errorValue;\n        }\n    }]);\n\n    return Trie;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1saW5lLWJyZWFrL2Rpc3QvVHJpZS5qcz82MTRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUEsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCOztBQUVBLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUY7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxDQUFDIiwiZmlsZSI6Ijk0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlRyaWUgPSBleHBvcnRzLmNyZWF0ZVRyaWVGcm9tQmFzZTY0ID0gZXhwb3J0cy5VVFJJRTJfSU5ERVhfMl9NQVNLID0gZXhwb3J0cy5VVFJJRTJfSU5ERVhfMl9CTE9DS19MRU5HVEggPSBleHBvcnRzLlVUUklFMl9PTUlUVEVEX0JNUF9JTkRFWF8xX0xFTkdUSCA9IGV4cG9ydHMuVVRSSUUyX0lOREVYXzFfT0ZGU0VUID0gZXhwb3J0cy5VVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSCA9IGV4cG9ydHMuVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9PRkZTRVQgPSBleHBvcnRzLlVUUklFMl9JTkRFWF8yX0JNUF9MRU5HVEggPSBleHBvcnRzLlVUUklFMl9MU0NQX0lOREVYXzJfTEVOR1RIID0gZXhwb3J0cy5VVFJJRTJfREFUQV9NQVNLID0gZXhwb3J0cy5VVFJJRTJfREFUQV9CTE9DS19MRU5HVEggPSBleHBvcnRzLlVUUklFMl9MU0NQX0lOREVYXzJfT0ZGU0VUID0gZXhwb3J0cy5VVFJJRTJfU0hJRlRfMV8yID0gZXhwb3J0cy5VVFJJRTJfSU5ERVhfU0hJRlQgPSBleHBvcnRzLlVUUklFMl9TSElGVF8xID0gZXhwb3J0cy5VVFJJRTJfU0hJRlRfMiA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9VdGlsID0gcmVxdWlyZSgnLi9VdGlsJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKiBTaGlmdCBzaXplIGZvciBnZXR0aW5nIHRoZSBpbmRleC0yIHRhYmxlIG9mZnNldC4gKi9cbnZhciBVVFJJRTJfU0hJRlRfMiA9IGV4cG9ydHMuVVRSSUUyX1NISUZUXzIgPSA1O1xuXG4vKiogU2hpZnQgc2l6ZSBmb3IgZ2V0dGluZyB0aGUgaW5kZXgtMSB0YWJsZSBvZmZzZXQuICovXG52YXIgVVRSSUUyX1NISUZUXzEgPSBleHBvcnRzLlVUUklFMl9TSElGVF8xID0gNiArIDU7XG5cbi8qKlxuICogU2hpZnQgc2l6ZSBmb3Igc2hpZnRpbmcgbGVmdCB0aGUgaW5kZXggYXJyYXkgdmFsdWVzLlxuICogSW5jcmVhc2VzIHBvc3NpYmxlIGRhdGEgc2l6ZSB3aXRoIDE2LWJpdCBpbmRleCB2YWx1ZXMgYXQgdGhlIGNvc3RcbiAqIG9mIGNvbXBhY3RhYmlsaXR5LlxuICogVGhpcyByZXF1aXJlcyBkYXRhIGJsb2NrcyB0byBiZSBhbGlnbmVkIGJ5IFVUUklFMl9EQVRBX0dSQU5VTEFSSVRZLlxuICovXG52YXIgVVRSSUUyX0lOREVYX1NISUZUID0gZXhwb3J0cy5VVFJJRTJfSU5ERVhfU0hJRlQgPSAyO1xuXG4vKipcbiAqIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHNoaWZ0IHNpemVzLFxuICogZm9yIGdldHRpbmcgYW4gaW5kZXgtMSBvZmZzZXQgZnJvbSBhbiBpbmRleC0yIG9mZnNldC4gNj0xMS01XG4gKi9cbnZhciBVVFJJRTJfU0hJRlRfMV8yID0gZXhwb3J0cy5VVFJJRTJfU0hJRlRfMV8yID0gVVRSSUUyX1NISUZUXzEgLSBVVFJJRTJfU0hJRlRfMjtcblxuLyoqXG4gKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3IgVStEODAwLi5VK0RCRkYgc3RvcmVzIHZhbHVlcyBmb3JcbiAqIGxlYWQgc3Vycm9nYXRlIGNvZGUgX3VuaXRzXyBub3QgY29kZSBfcG9pbnRzXy5cbiAqIFZhbHVlcyBmb3IgbGVhZCBzdXJyb2dhdGUgY29kZSBfcG9pbnRzXyBhcmUgaW5kZXhlZCB3aXRoIHRoaXMgcG9ydGlvbiBvZiB0aGUgdGFibGUuXG4gKiBMZW5ndGg9MzI9MHgyMD0weDQwMD4+VVRSSUUyX1NISUZUXzIuIChUaGVyZSBhcmUgMTAyND0weDQwMCBsZWFkIHN1cnJvZ2F0ZXMuKVxuICovXG52YXIgVVRSSUUyX0xTQ1BfSU5ERVhfMl9PRkZTRVQgPSBleHBvcnRzLlVUUklFMl9MU0NQX0lOREVYXzJfT0ZGU0VUID0gMHgxMDAwMCA+PiBVVFJJRTJfU0hJRlRfMjtcblxuLyoqIE51bWJlciBvZiBlbnRyaWVzIGluIGEgZGF0YSBibG9jay4gMzI9MHgyMCAqL1xudmFyIFVUUklFMl9EQVRBX0JMT0NLX0xFTkdUSCA9IGV4cG9ydHMuVVRSSUUyX0RBVEFfQkxPQ0tfTEVOR1RIID0gMSA8PCBVVFJJRTJfU0hJRlRfMjtcbi8qKiBNYXNrIGZvciBnZXR0aW5nIHRoZSBsb3dlciBiaXRzIGZvciB0aGUgaW4tZGF0YS1ibG9jayBvZmZzZXQuICovXG52YXIgVVRSSUUyX0RBVEFfTUFTSyA9IGV4cG9ydHMuVVRSSUUyX0RBVEFfTUFTSyA9IFVUUklFMl9EQVRBX0JMT0NLX0xFTkdUSCAtIDE7XG5cbnZhciBVVFJJRTJfTFNDUF9JTkRFWF8yX0xFTkdUSCA9IGV4cG9ydHMuVVRSSUUyX0xTQ1BfSU5ERVhfMl9MRU5HVEggPSAweDQwMCA+PiBVVFJJRTJfU0hJRlRfMjtcbi8qKiBDb3VudCB0aGUgbGVuZ3RocyBvZiBib3RoIEJNUCBwaWVjZXMuIDIwODA9MHg4MjAgKi9cbnZhciBVVFJJRTJfSU5ERVhfMl9CTVBfTEVOR1RIID0gZXhwb3J0cy5VVFJJRTJfSU5ERVhfMl9CTVBfTEVOR1RIID0gVVRSSUUyX0xTQ1BfSU5ERVhfMl9PRkZTRVQgKyBVVFJJRTJfTFNDUF9JTkRFWF8yX0xFTkdUSDtcbi8qKlxuICogVGhlIDItYnl0ZSBVVEYtOCB2ZXJzaW9uIG9mIHRoZSBpbmRleC0yIHRhYmxlIGZvbGxvd3MgYXQgb2Zmc2V0IDIwODA9MHg4MjAuXG4gKiBMZW5ndGggMzI9MHgyMCBmb3IgbGVhZCBieXRlcyBDMC4uREYsIHJlZ2FyZGxlc3Mgb2YgVVRSSUUyX1NISUZUXzIuXG4gKi9cbnZhciBVVFJJRTJfVVRGOF8yQl9JTkRFWF8yX09GRlNFVCA9IGV4cG9ydHMuVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9PRkZTRVQgPSBVVFJJRTJfSU5ERVhfMl9CTVBfTEVOR1RIO1xudmFyIFVUUklFMl9VVEY4XzJCX0lOREVYXzJfTEVOR1RIID0gZXhwb3J0cy5VVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSCA9IDB4ODAwID4+IDY7IC8qIFUrMDgwMCBpcyB0aGUgZmlyc3QgY29kZSBwb2ludCBhZnRlciAyLWJ5dGUgVVRGLTggKi9cbi8qKlxuICogVGhlIGluZGV4LTEgdGFibGUsIG9ubHkgdXNlZCBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cywgYXQgb2Zmc2V0IDIxMTI9MHg4NDAuXG4gKiBWYXJpYWJsZSBsZW5ndGgsIGZvciBjb2RlIHBvaW50cyB1cCB0byBoaWdoU3RhcnQsIHdoZXJlIHRoZSBsYXN0IHNpbmdsZS12YWx1ZSByYW5nZSBzdGFydHMuXG4gKiBNYXhpbXVtIGxlbmd0aCA1MTI9MHgyMDA9MHgxMDAwMDA+PlVUUklFMl9TSElGVF8xLlxuICogKEZvciAweDEwMDAwMCBzdXBwbGVtZW50YXJ5IGNvZGUgcG9pbnRzIFUrMTAwMDAuLlUrMTBmZmZmLilcbiAqXG4gKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cyBzdGFydHNcbiAqIGFmdGVyIHRoaXMgaW5kZXgtMSB0YWJsZS5cbiAqXG4gKiBCb3RoIHRoZSBpbmRleC0xIHRhYmxlIGFuZCB0aGUgZm9sbG93aW5nIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGVcbiAqIGFyZSBvbWl0dGVkIGNvbXBsZXRlbHkgaWYgdGhlcmUgaXMgb25seSBCTVAgZGF0YS5cbiAqL1xudmFyIFVUUklFMl9JTkRFWF8xX09GRlNFVCA9IGV4cG9ydHMuVVRSSUUyX0lOREVYXzFfT0ZGU0VUID0gVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9PRkZTRVQgKyBVVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSDtcblxuLyoqXG4gKiBOdW1iZXIgb2YgaW5kZXgtMSBlbnRyaWVzIGZvciB0aGUgQk1QLiAzMj0weDIwXG4gKiBUaGlzIHBhcnQgb2YgdGhlIGluZGV4LTEgdGFibGUgaXMgb21pdHRlZCBmcm9tIHRoZSBzZXJpYWxpemVkIGZvcm0uXG4gKi9cbnZhciBVVFJJRTJfT01JVFRFRF9CTVBfSU5ERVhfMV9MRU5HVEggPSBleHBvcnRzLlVUUklFMl9PTUlUVEVEX0JNUF9JTkRFWF8xX0xFTkdUSCA9IDB4MTAwMDAgPj4gVVRSSUUyX1NISUZUXzE7XG5cbi8qKiBOdW1iZXIgb2YgZW50cmllcyBpbiBhbiBpbmRleC0yIGJsb2NrLiA2ND0weDQwICovXG52YXIgVVRSSUUyX0lOREVYXzJfQkxPQ0tfTEVOR1RIID0gZXhwb3J0cy5VVFJJRTJfSU5ERVhfMl9CTE9DS19MRU5HVEggPSAxIDw8IFVUUklFMl9TSElGVF8xXzI7XG4vKiogTWFzayBmb3IgZ2V0dGluZyB0aGUgbG93ZXIgYml0cyBmb3IgdGhlIGluLWluZGV4LTItYmxvY2sgb2Zmc2V0LiAqL1xudmFyIFVUUklFMl9JTkRFWF8yX01BU0sgPSBleHBvcnRzLlVUUklFMl9JTkRFWF8yX01BU0sgPSBVVFJJRTJfSU5ERVhfMl9CTE9DS19MRU5HVEggLSAxO1xuXG52YXIgY3JlYXRlVHJpZUZyb21CYXNlNjQgPSBleHBvcnRzLmNyZWF0ZVRyaWVGcm9tQmFzZTY0ID0gZnVuY3Rpb24gY3JlYXRlVHJpZUZyb21CYXNlNjQoYmFzZTY0KSB7XG4gICAgdmFyIGJ1ZmZlciA9ICgwLCBfVXRpbC5kZWNvZGUpKGJhc2U2NCk7XG4gICAgdmFyIHZpZXczMiA9IEFycmF5LmlzQXJyYXkoYnVmZmVyKSA/ICgwLCBfVXRpbC5wb2x5VWludDMyQXJyYXkpKGJ1ZmZlcikgOiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcbiAgICB2YXIgdmlldzE2ID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gKDAsIF9VdGlsLnBvbHlVaW50MTZBcnJheSkoYnVmZmVyKSA6IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgIHZhciBoZWFkZXJMZW5ndGggPSAyNDtcblxuICAgIHZhciBpbmRleCA9IHZpZXcxNi5zbGljZShoZWFkZXJMZW5ndGggLyAyLCB2aWV3MzJbNF0gLyAyKTtcbiAgICB2YXIgZGF0YSA9IHZpZXczMls1XSA9PT0gMiA/IHZpZXcxNi5zbGljZSgoaGVhZGVyTGVuZ3RoICsgdmlldzMyWzRdKSAvIDIpIDogdmlldzMyLnNsaWNlKE1hdGguY2VpbCgoaGVhZGVyTGVuZ3RoICsgdmlldzMyWzRdKSAvIDQpKTtcblxuICAgIHJldHVybiBuZXcgVHJpZSh2aWV3MzJbMF0sIHZpZXczMlsxXSwgdmlldzMyWzJdLCB2aWV3MzJbM10sIGluZGV4LCBkYXRhKTtcbn07XG5cbnZhciBUcmllID0gZXhwb3J0cy5UcmllID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyaWUoaW5pdGlhbFZhbHVlLCBlcnJvclZhbHVlLCBoaWdoU3RhcnQsIGhpZ2hWYWx1ZUluZGV4LCBpbmRleCwgZGF0YSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJpZSk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgIHRoaXMuZXJyb3JWYWx1ZSA9IGVycm9yVmFsdWU7XG4gICAgICAgIHRoaXMuaGlnaFN0YXJ0ID0gaGlnaFN0YXJ0O1xuICAgICAgICB0aGlzLmhpZ2hWYWx1ZUluZGV4ID0gaGlnaFZhbHVlSW5kZXg7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIGZvciBhIGNvZGUgcG9pbnQgYXMgc3RvcmVkIGluIHRoZSBUcmllLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGVQb2ludCB0aGUgY29kZSBwb2ludFxuICAgICAqIEByZXR1cm4gdGhlIHZhbHVlXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUcmllLCBbe1xuICAgICAgICBrZXk6ICdnZXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGNvZGVQb2ludCkge1xuICAgICAgICAgICAgdmFyIGl4ID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IDB4MGQ4MDAgfHwgY29kZVBvaW50ID4gMHgwZGJmZiAmJiBjb2RlUG9pbnQgPD0gMHgwZmZmZikge1xuICAgICAgICAgICAgICAgICAgICAvLyBPcmRpbmFyeSBCTVAgY29kZSBwb2ludCwgZXhjbHVkaW5nIGxlYWRpbmcgc3Vycm9nYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gQk1QIHVzZXMgYSBzaW5nbGUgbGV2ZWwgbG9va3VwLiAgQk1QIGluZGV4IHN0YXJ0cyBhdCBvZmZzZXQgMCBpbiB0aGUgVHJpZTIgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIC8vIDE2IGJpdCBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgaW5kZXggYXJyYXkgaXRzZWxmLlxuICAgICAgICAgICAgICAgICAgICBpeCA9IHRoaXMuaW5kZXhbY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8yXTtcbiAgICAgICAgICAgICAgICAgICAgaXggPSAoaXggPDwgVVRSSUUyX0lOREVYX1NISUZUKSArIChjb2RlUG9pbnQgJiBVVFJJRTJfREFUQV9NQVNLKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweGZmZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVhZCBTdXJyb2dhdGUgQ29kZSBQb2ludC4gIEEgU2VwYXJhdGUgaW5kZXggc2VjdGlvbiBpcyBzdG9yZWQgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlYWQgc3Vycm9nYXRlIGNvZGUgdW5pdHMgYW5kIGNvZGUgcG9pbnRzLlxuICAgICAgICAgICAgICAgICAgICAvLyAgIFRoZSBtYWluIGluZGV4IGhhcyB0aGUgY29kZSB1bml0IGRhdGEuXG4gICAgICAgICAgICAgICAgICAgIC8vICAgRm9yIHRoaXMgZnVuY3Rpb24sIHdlIG5lZWQgdGhlIGNvZGUgcG9pbnQgZGF0YS5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBleHByZXNzaW9uIGNvdWxkIGJlIHJlZmFjdG9yZWQgZm9yIHNsaWdodGx5IGltcHJvdmVkIGVmZmljaWVuY3ksIGJ1dFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBzdXJyb2dhdGUgY29kZSBwb2ludHMgd2lsbCBiZSBzbyByYXJlIGluIHByYWN0aWNlIHRoYXQgaXQncyBub3Qgd29ydGggaXQuXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gdGhpcy5pbmRleFtVVFJJRTJfTFNDUF9JTkRFWF8yX09GRlNFVCArIChjb2RlUG9pbnQgLSAweGQ4MDAgPj4gVVRSSUUyX1NISUZUXzIpXTtcbiAgICAgICAgICAgICAgICAgICAgaXggPSAoaXggPDwgVVRSSUUyX0lOREVYX1NISUZUKSArIChjb2RlUG9pbnQgJiBVVFJJRTJfREFUQV9NQVNLKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IHRoaXMuaGlnaFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBsZW1lbnRhbCBjb2RlIHBvaW50LCB1c2UgdHdvLWxldmVsIGxvb2t1cC5cbiAgICAgICAgICAgICAgICAgICAgaXggPSBVVFJJRTJfSU5ERVhfMV9PRkZTRVQgLSBVVFJJRTJfT01JVFRFRF9CTVBfSU5ERVhfMV9MRU5HVEggKyAoY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8xKTtcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcbiAgICAgICAgICAgICAgICAgICAgaXggKz0gY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8yICYgVVRSSUUyX0lOREVYXzJfTUFTSztcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcbiAgICAgICAgICAgICAgICAgICAgaXggPSAoaXggPDwgVVRSSUUyX0lOREVYX1NISUZUKSArIChjb2RlUG9pbnQgJiBVVFJJRTJfREFUQV9NQVNLKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPD0gMHgxMGZmZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLmhpZ2hWYWx1ZUluZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZhbGwgdGhyb3VnaC4gIFRoZSBjb2RlIHBvaW50IGlzIG91dHNpZGUgb2YgdGhlIGxlZ2FsIHJhbmdlIG9mIDAuLjB4MTBmZmZmLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUcmllO1xufSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbGluZS1icmVhay9kaXN0L1RyaWUuanNcbi8vIG1vZHVsZSBpZCA9IDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 95 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nmodule.exports = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1saW5lLWJyZWFrL2Rpc3QvbGluZWJyZWFrLXRyaWUuanM/ZTU5MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSIsImZpbGUiOiI5NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAnS3dBQUFBQUFBQUFBQ0E0QUlEb0FBUEFmQUFBQ0FBQUFBQUFJQUJBQUdBQkFBRWdBVUFCWUFGNEFaZ0JlQUdZQVlBQm9BSEFBZUFCZUFHWUFmQUNFQUlBQWlBQ1FBSmdBb0FDb0FLMEF0UUM5QU1VQVhnQm1BRjRBWmdCZUFHWUF6UURWQUY0QVpnRFJBTmtBM2dEbUFPd0E5QUQ4QUFRQkRBRVVBUm9CSWdHQUFJZ0FKd0V2QVRjQlB3RkZBVTBCVEFGVUFWd0JaQUZzQVhNQmV3R0RBVEFBaXdHVEFac0JvZ0drQWF3QnRBRzhBY0lCeWdIU0Fkb0I0QUhvQWZBQitBSCtBUVlDRGdJV0F2NEJIZ0ltQWk0Q05nSStBa1VDVFFKVEFsc0NZd0pyQW5FQ2VRS0JBazBDaVFLUkFwa0NvUUtvQXJBQ3VBTEFBc1FDekFJd0FOUUMzQUxrQWpBQTdBTDBBdndDQVFNSkF4QURHQU13QUNBREpnTXVBellEUGdPQUFFWURTZ05TQTFJRFVnTmFBMW9EWUFOaUEySURnQUNBQUdvRGdBQnlBM1lEZmdPQUFJUURnQUNLQTVJRG1nT0FBSUFBb2dPcUE0QUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFLOER0d09BQUlBQXZ3UEhBODhEMXdQZkF5QUQ1d1BzQS9RRC9BT0FBSUFBQkFRTUJCSUVnQUFXQkI0RUpnUXVCRE1FSUFNN0JFRUVYZ0JKQkNBRFVRUlpCR0VFYVFRd0FEQUFjUVErQVhrRWdRU0pCSkVFZ0FDWUJJQUFvQVNvQks4RXR3UXdBTDhFeFFTQUFJQUFnQUNBQUlBQWdBQ2dBTTBFWGdCZUFGNEFYZ0JlQUY0QVhnQmVBTlVFWGdEWkJPRUVYZ0RwQlBFRStRUUJCUWtGRVFVWkJTRUZLUVV4QlRVRlBRVkZCVXdGVkFWY0JWNEFZd1ZlQUdzRmN3VjdCWU1GaXdXU0JWNEFtZ1dnQmFjRlhnQmVBRjRBWGdCZUFLc0ZYZ0N5QmJFRnVnVzdCY0lGd2dYSUJjSUZ3Z1hRQmRRRjNBWGtCZXNGOHdYN0JRTUdDd1lUQmhzR0l3WXJCak1HT3daZUFEOEdSd1pOQmw0QVZBWmJCbDRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFHTUdYZ0JxQm5FR1hnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQjVCb0FHNHdTR0JvNEdrd2FBQUlBREhnUjVBRjRBWGdCZUFKc0dnQUJHQTRBQW93YXJCck1Hc3dhZ0FMc0d3d2JMQmpBQTB3YmFCdG9HM1FiYUJ0b0cyZ2JhQnRvRzJnYmxCdXNHOHdiN0JnTUhDd2NUQnhzSEN3Y2pCeXNITUFjMUJ6VUhPZ2RDQjlvR1NnZFNCMW9IWUFmYUJsb0hhQWZhQmxJSDJnYmFCdG9HMmdiYUJ0b0cyZ2JhQmpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhiUWRlQUY0QU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWQxQjMwSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQjRNSDJnYUtCNjhFZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSThIbHdkZUFKOEhwd2VBQUlBQXJ3ZTNCMTRBWGdDL0I4VUh5Z2N3QU5BSDJBZmdCNEFBNkFmd0J6NEIrQWNBQ0Z3QkNBZ1BDQmNJb2dFWUFSOElKd2lBQUM4SU53Zy9DQ0FEUndoUENGY0lYd2huQ0VvREdnU0FBSUFBZ0FCdkNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJaEFpTENJNElNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2d3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCNTRJTlFjMUI2SUkyZ2FxQ0xJSXVnaUFBSUFBdmdqR0NJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUF5d2lIQVlBQTB3aUFBTmtJM1FqbENPMEk5QWo4Q0lBQWdBQ0FBQUlKQ2drU0NSb0pJZ2tuQ1RZSEx3azNDWllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lBQUlBQUFBRkFBWGdCZUFHQUFjQUJlQUh3QVFBQ1FBS0FBclFDOUFKNEFYZ0JlQUUwQTNnQlJBTjRBN0FEOEFNd0JHZ0VBQUtjQk53RUZBVXdCWEFGNFFraENtRUtuQXJjQ2dBSEhBc0FCejRMQUFjQUJ3QUhBQWQrQzZBQm9BRytDLzRMQUFjQUJ3QUhBQWMrREY0TUFBY0FCNTRNM2d3ZURWNE5uZzNlRGFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BRWVEcUFCVmc2V0RxQUJvUTZnQWFBQm9BSFhEdmNPTncvM0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRG5jUEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUI3Y1BQd2xHQ1U0Sk1BQ0FBSUFBZ0FCV0NWNEpZUW1BQUdrSmNBbDRDWHdKZ0Frd0FEQUFNQUF3QUlnSmdBQ0xDWk1KZ0FDWkNaOEpvd21yQ1lBQXN3a3dBRjRBWGdCOEFJQUF1d2tBQk1NSnlRbUFBTTRKZ0FEVkNUQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXF3WVdCTmtJTUFBd0FEQUFNQURkQ2VBSjZBbnVDUjRFOWdrd0FQNEpCUW9OQ2pBQU1BQ0FBQlVLMHdpQUFCMEtKQW9zQ2pRS2dBQXdBRHdLUXdxQUFFc0t2UW1kQ1ZNS1d3b3dBREFBZ0FDQUFMY0VNQUNBQUdNS2dBQnJDakFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBZUJEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlrRVBRRnpDbm9LaVFTQ0Nvb0trQXFKQkpnS29BcWtDb2tFR0FHc0NyUUt2QXJCQ2pBQU1BREpDdEVLRlFIWkN1RUsvZ0hwQ3ZFS01BQXdBREFBTUFDQUFJd0UrUW93QUlBQVB3RUJDekFBTUFBd0FEQUFNQUNBQUFrTEVRc3dBSUFBUHdFWkN5RUxnQUFPQ0NrTE1BQXhDemtMTUFBd0FEQUFNQUF3QURBQVhnQmVBRUVMTUFBd0FEQUFNQUF3QURBQU1BQXdBRWtMVFF0VkM0QUFYQXRrQzRBQWlRa3dBREFBTUFBd0FEQUFNQUF3QURBQWJBdHhDM2tMZ0F1RkM0c0xNQUF3QUpNTGx3dWZDekFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFwd3N3QURBQU1BQ0FBSUFBZ0FDdkM0QUFnQUNBQUlBQWdBQ0FBTGNMTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUF2d3VBQU1jTGdBQ0FBSUFBZ0FDQUFJQUF5Z3VBQUlBQWdBQ0FBSUFBMFFzd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFOa0xnQUNBQUlBQTRBc3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDSkNSNEU2QXN3QURBQWh3SHdDNEFBK0FzQURBZ01FQXd3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUNBQUlBQUdBd2REQ1VNTUFBd0FDME1OUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUXcxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVIUFF3d0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURVSE5RYzFCelVITlFjMUJ6VUhOUWMyQnpBQU1BQTVERFVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFkRkREQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBVFF4U0RGb01NQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FGNEFYZ0JlQUY0QVhnQmVBRjRBWWd4ZUFHb01YZ0J4REhrTWZ3eGVBSVVNWGdCZUFJME1NQUF3QURBQU1BQXdBRjRBWGdDVkRKME1NQUF3QURBQU1BQmVBRjRBcFF4ZUFLc01zd3k3REY0QXdneTlETW9NWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdEUkROa01lUUJxQ2VBTTNBeDhBT1lNN0F6MERQZ01YZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdDZ0FBQU5vQUFIRFE0TkZnMHdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUFlRFNZTk1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlBQWdBQ0FBSUFBZ0FDQUFDNE5NQUJlQUY0QU5nMHdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBRDROUmcxT0RWWU5YZzFtRFRBQWJRMHdBREFBTUFBd0FEQUFNQUF3QURBQTJnYmFCdG9HMmdiYUJ0b0cyZ2JhQm5VTmVnM0NCWUFOd2dXRkRkb0dqQTNhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYVVEWndOcEEyb0Rkb0cyZ2F3RGJjTnZ3M0hEZG9HMmdiUERkWU4zQTNmRGVZTjJnYnNEZk1OMmdiYUJ2b04vZzNhQmdZT0RnN2FCbDRBWGdCZUFCWU9YZ0JlQUNVRzJnWWVEbDRBSkE1ZUFDd08ydzNhQnRvR01RNDVEdG9HMmdiYUJ0b0dRUTdhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnWkpEalVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCMUVPMmdZMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWRaRGpVSE5RYzFCelVITlFjMUIyRU9OUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhhQTQxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCM0FPMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdZMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCMkVPMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdaSkR0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJra09lQTZnQUtBQW9BQXdBREFBTUFBd0FLQUFvQUNnQUtBQW9BQ2dBS0FBZ0E0d0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUQvL3dRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQUF3QUJBQUVBQWdBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBS0FCTUFGd0FlQUJzQUdnQWVBQmNBRmdBU0FCNEFHd0FZQUE4QUdBQWNBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBR0FBWUFCNEFIZ0FlQUJNQUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUZnQWJBQklBSGdBZUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCWUFEUUFSQUI0QUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFVQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFrQUZnQWFBQnNBR3dBYkFCNEFIUUFkQUI0QVR3QVhBQjRBRFFBZUFCNEFHZ0FiQUU4QVR3QU9BRkFBSFFBZEFCMEFUd0JQQUJjQVR3QlBBRThBRmdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBSGdBZUFCNEFVQUJRQUZBQVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBSGdBZUFGQUFUd0JBQUU4QVR3QlBBRUFBVHdCUUFGQUFUd0JRQUI0QUhnQWVBQjRBSGdBZUFCMEFIUUFkQUIwQUhnQWRBQjRBRGdCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBSkFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFrQUNRQUpBQWtBQ1FBSkFBa0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFGQUFIZ0FlQUI0QUt3QXJBRkFBVUFCUUFGQUFHQUJRQUNzQUt3QXJBQ3NBSGdBZUFGQUFIZ0JRQUZBQVVBQXJBRkFBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FZQUEwQUt3QXJBQjRBSGdBYkFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFEUUFFQUI0QUJBQUVBQjRBQkFBRUFCTUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFLd0FyQUNzQUt3QXJBRllBVmdCV0FCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUdnQWFBQm9BR0FBWUFCNEFIZ0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUV3QUVBQ3NBRXdBVEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUJvQUdRQVpBQjRBVUFCUUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQk1BVUFBRUFBUUFCQUFFQUFRQUJBQUVBQjRBSGdBRUFBUUFCQUFFQUFRQUJBQlFBRkFBQkFBRUFCNEFCQUFFQUFRQUJBQlFBRkFBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUFlQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUZBQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFCNEFIZ0FZQUJNQVVBQXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQUJBQUVBRkFBQkFBRUFBUUFVQUFFQUFRQUJBQUVBQVFBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBckFDc0FIZ0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQU5BQTBBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QXJBQ3NBVUFCUUFGQUFVQUFyQUNzQUJBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQVFBQkFBckFDc0FCQUFFQUFRQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQXJBQ3NBS3dBckFGQUFVQUFyQUZBQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQUdnQWFBRkFBVUFCUUFGQUFVQUJNQUI0QUd3QlFBQjRBS3dBckFDc0FCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFBckFGQUFVQUFyQUZBQVVBQXJBQ3NBQkFBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBS3dBckFDc0FCQUFyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QUVBQVFBVUFCUUFGQUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUFyQUZBQVVBQlFBRkFBVUFBckFDc0FCQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFLd0FyQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFCc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBckFDc0FLd0FyQUZBQVVBQXJBRkFBVUFCUUFBUUFCQUFyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QWVBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dCUUFGQUFVQUFyQUZBQVVBQlFBRkFBS3dBckFDc0FVQUJRQUNzQVVBQXJBRkFBVUFBckFDc0FLd0JRQUZBQUt3QXJBQ3NBVUFCUUFGQUFLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FFQUFRQUJBQUVBQVFBS3dBckFDc0FCQUFFQUFRQUt3QUVBQVFBQkFBRUFDc0FLd0JRQUNzQUt3QXJBQ3NBS3dBckFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQlFBQjRBSGdBZUFCNEFIZ0FlQUJzQUhnQXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBckFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFCQUFFQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUI0QVVBQUVBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFDc0FLd0FFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFGQUFLd0JRQUZBQUJBQUVBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBQkFCUUFCNEFLd0FyQUNzQUt3QlFBRkFBVUFBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQm9BVUFCUUFGQUFVQUJRQUZBQUt3QXJBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FFQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUt3QUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQVFBQkFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFGd0FYQUFxQUNvQUtnQXFBQ29BS2dBcUFDc0FLd0FyQUNzQUd3QmNBRndBWEFCY0FGd0FYQUJjQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FlQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQURRQU5BQ3NBS3dBckFDc0FLd0JjQUZ3QUt3QmNBQ3NBS3dCY0FGd0FLd0JjQUNzQUt3QmNBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBS3dCY0FGd0FYQUJjQUZ3QVhBQmNBQ3NBWEFCY0FGd0FLd0JjQUNzQVhBQXJBQ3NBWEFCY0FDc0FYQUJjQUZ3QVhBQXFBRndBWEFBcUFDb0FLZ0FxQUNvQUtnQXJBQ29BS2dCY0FDc0FLd0JjQUZ3QVhBQmNBRndBS3dCY0FDc0FLZ0FxQUNvQUtnQXFBQ29BS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUZ3QVhBQmNBRndBVUFBT0FBNEFEZ0FPQUI0QURnQU9BQWtBRGdBT0FBMEFDUUFUQUJNQUV3QVRBQk1BQ1FBZUFCTUFIZ0FlQUI0QUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQU5BQVFBSGdBRUFCNEFCQUFXQUJFQUZnQVJBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU5BQVFBQkFBRUFBUUFCQUFOQUFRQUJBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FEUUFOQUI0QUhnQWVBQjRBSGdBZUFBUUFIZ0FlQUI0QUhnQWVBQjRBS3dBZUFCNEFEZ0FPQUEwQURnQWVBQjRBSGdBZUFCNEFDUUFKQUNzQUt3QXJBQ3NBS3dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFGd0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FOQUEwQUhnQWVBQjRBSGdCY0FGd0FYQUJjQUZ3QVhBQXFBQ29BS2dBcUFGd0FYQUJjQUZ3QUtnQXFBQ29BWEFBcUFDb0FLZ0JjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0JjQUZ3QVhBQXFBQ29BS2dBcUFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BWEFBcUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLZ0FxQUNvQUtnQXFBQ29BVUFCUUFGQUFVQUJRQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0JRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBRkFBVUFCUUFGQUFXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FFQUFRQUJBQWVBQTBBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FOQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCWUFFUUFyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRFFBTkFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBMEFEUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BRFFBTkFCVUFYQUFOQUI0QURRQWJBRndBS2dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBVEFCTUFEUUFOQUE0QUhnQVRBQk1BSGdBRUFBUUFCQUFKQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBZUFDc0FLd0FyQUJNQUV3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBQ3NBS3dCY0FGd0FYQUJjQUZ3QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FDc0FLd0FyQUNzQVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JjQUNzQUt3QXJBQ29BS2dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFDc0FLd0FlQUI0QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBckFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FyQUNzQUJBQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FLZ0FxQUNvQUtnQXFBQ29BS2dCY0FDb0FLZ0FxQUNvQUtnQXFBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FEUUFOQUI0QURRQU5BQTBBRFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUFRQUJBQUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQVVBQlFBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QU5BQTBBRFFBTkFBMEFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QlFBRkFBVUFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQU5BQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUhnQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFVQUJRQUZBQUJBQlFBRkFBVUFCUUFBUUFCQUFFQUZBQVVBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QUVBQVFBQkFBRUFBUUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFDc0FVQUFyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQUhnQWVBQjRBVUFCUUFGQUFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FVQUJRQUZBQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUE0QUhnQXJBQTBBRFFBTkFBMEFEUUFOQUEwQUNRQU5BQTBBRFFBSUFBUUFDd0FFQUFRQURRQUpBQTBBRFFBTUFCMEFIUUFlQUJjQUZ3QVdBQmNBRndBWEFCWUFGd0FkQUIwQUhnQWVBQlFBRkFBVUFBMEFBUUFCQUFRQUJBQUVBQVFBQkFBSkFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBZUFCY0FGd0FkQUJVQUZRQWVBQjRBSGdBZUFCNEFIZ0FZQUJZQUVRQVZBQlVBRlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FOQUI0QURRQU5BQTBBRFFBZUFBMEFEUUFOQUFjQUhnQWVBQjRBSGdBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUNzQUt3QlBBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQVdBQkVBVHdCUUFFOEFUd0JQQUU4QVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUJZQUVRQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUd3QWJBQnNBR3dBYkFCc0FHd0FhQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYUFCc0FHd0FiQUJzQUdnQWJBQnNBR2dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQlFBQm9BSGdBZEFCNEFVQUFlQUJvQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVR3QWVBRkFBR3dBZUFCNEFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCMEFIUUFlQUZBQUhnQlFBQjRBVUFBZUFGQUFUd0JRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBVUFCUUFGQUFVQUJQQUU4QVVBQlFBRkFBVUFCUUFFOEFVQUJRQUU4QVVBQlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUUFGQUFVQUJRQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBRkFBVUFCUUFGQUFUd0FlQUI0QUt3QXJBQ3NBS3dBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZUFCMEFIUUFlQUI0QUhnQWRBQjBBSGdBZUFCMEFIZ0FlQUI0QUhRQWVBQjBBR3dBYkFCNEFIUUFlQUI0QUhnQWVBQjBBSGdBZUFCMEFIUUFkQUIwQUhnQWVBQjBBSGdBZEFCNEFIUUFkQUIwQUhRQWRBQjBBSGdBZEFCNEFIZ0FlQUI0QUhnQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjRBSGdBZEFCMEFIUUFkQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUIwQUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJRQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FXQUJFQUZnQVJBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUZnQVJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUJQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlFBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFCMEFIUUFkQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZEFCMEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUIwQUhRQWRBQjRBSGdBZEFCNEFIZ0FkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFlQUIwQUhRQWVBQjRBSFFBZUFCNEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFDVUFKUUFkQUIwQUpRQWVBQ1VBSlFBbEFDQUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUhnQWVBQjRBSGdBZEFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjRBSFFBZEFCMEFIZ0FkQUNVQUhRQWRBQjRBSFFBZEFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIUUFkQUIwQUhRQWxBQjRBSlFBbEFDVUFIUUFsQUNVQUhRQWRBQjBBSlFBbEFCMEFIUUFsQUIwQUhRQWxBQ1VBSlFBZUFCMEFIZ0FlQUI0QUhnQWRBQjBBSlFBZEFCMEFIUUFkQUIwQUhRQWxBQ1VBSlFBbEFDVUFIUUFsQUNVQUlBQWxBQjBBSFFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFKUUFsQUNBQUlBQWdBQ0FBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCY0FGd0FYQUJjQUZ3QVhBQjRBRXdBVEFDVUFIZ0FlQUI0QUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBV0FCRUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRmdBUkFCWUFFUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJZQUVRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQUVBQVFBQkFBZUFCNEFLd0FyQUNzQUt3QXJBQk1BRFFBTkFBMEFVQUFUQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQTBBRFFBTkFBMEFEUUFOQUEwQURRQWVBQTBBRmdBTkFCNEFIZ0FYQUJjQUhnQWVBQmNBRndBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRFFBTkFBMEFEUUFUQUZBQURRQU5BQjRBRFFBTkFCNEFIZ0FlQUI0QUhnQU1BQXdBRFFBTkFBMEFIZ0FOQUEwQUZnQU5BQTBBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQ3NBS3dBckFBMEFFUUFSQUNVQUpRQkhBRmNBVndBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFDVUFKUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGUUFXQUJFQUVRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQVFBQkFBRUFBUUFCQUFFQUNVQVZ3QlhBRmNBVndBMkFDVUFKUUJYQUZjQVZ3QkhBRWNBSlFBbEFDVUFLd0JSQUZjQVVRQlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGRUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlJBRmNBVVFCWEFGRUFWd0JYQUZjQVZ3QlhBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlJBRkVBS3dBckFBUUFCQUFWQUJVQVJ3QkhBRmNBRlFCUkFGY0FVUUJYQUZFQVZ3QlJBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCUkFGY0FWd0JYQUZjQVZ3QlhBRkVBVVFCWEFGY0FWd0JYQUJVQVVRQkhBRWNBVndBckFDc0FLd0FyQUNzQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FyQUNVQUpRQlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUNzQUt3QXJBQ1VBSlFBbEFDVUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUU4QVR3QlBBRThBVHdCUEFFOEFUd0FsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRWNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRFFBVEFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFCQUFFQUFRQUJBQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFVQUJRQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQWVBQTBBRFFBTkFBMEFEUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QUhnQWVBQjRBSGdBZUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFVQUJRQUZBQUJBQlFBRkFBVUFCUUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFlQUI0QUhnQWVBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBSGdBZUFCb0FIZ0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFEZ0FPQUJNQUV3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QU5BQTBBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQlFBQTRBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFDc0FLd0FyQUFRQUhnQWVBQjRBSGdBZUFCNEFEUUFOQUEwQUhnQWVBQjRBSGdBckFGQUFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQjRBSGdCY0FGd0FYQUJjQUZ3QUtnQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBWEFCY0FGd0FYQUJjQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FIZ0FOQUEwQURRQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQVhBQXFBQ29BS2dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFGd0FLZ0FxQUNvQVhBQmNBQ29BS2dCY0FGd0FYQUJjQUZ3QUtnQXFBRndBS2dCY0FDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FDb0FLZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBMEFEUUJRQUZBQVVBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFEUUFFQUFRQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQVZBQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlVBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FLd0FyQUNzQUt3QmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BS3dBckFDc0FLd0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUZZQUJBQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBQjRBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0FyQUZZQVZnQldBRllBVmdBckFGWUFLd0JXQUZZQUt3QldBRllBS3dCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFFUUFXQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBYUFCNEFLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFHQUFSQUJFQUdBQVlBQk1BRXdBV0FCRUFGQUFyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ1VBSlFBbEFDVUFKUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQWxBQ1VBRmdBUkFDVUFKUUFsQUNVQUpRQWxBQ1VBRVFBbEFCRUFLd0FWQUJVQUV3QVRBQ1VBRmdBUkFCWUFFUUFXQUJFQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNzQUpRQWJBQm9BSlFBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQWNBS3dBVEFDVUFKUUFiQUJvQUpRQWxBQllBRVFBbEFDVUFFUUFsQUJFQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQlVBRlFBbEFDVUFKUUFUQUNVQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUJZQUpRQVJBQ1VBSlFBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBV0FDVUFFUUFsQUJZQUVRQVJBQllBRVFBUkFCVUFWd0JSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFFY0FSd0FyQUNzQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFDc0FLd0JYQUZjQVZ3QlhBRmNBVndBckFDc0FWd0JYQUZjQUt3QXJBQ3NBR2dBYkFDVUFKUUFsQUJzQUd3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBUUFCMEFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FEUUFOQUEwQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQUhnQWVBQjRBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBRFFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQTBBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBS3dBckFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBSGdCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBRFFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QUVBQVFBS3dBckFDc0FLd0FyQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBQkFBRUFBUUFLd0FyQUNzQUt3QUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQURRQU5BQTBBRFFBTkFBMEFEUUFOQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBQTBBRFFBTkFBMEFEUUFOQUJRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FOQUEwQURRQU5BQTBBRFFBTkFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUFlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFlQUE0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBRkFBVUFCUUFGQUFEUUFOQUI0QURRQWVBQVFBQkFBRUFCNEFLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQU9BRkFBRFFBTkFBMEFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU5BQTBBSGdBTkFBMEFIZ0FFQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFyQUNzQUJBQUVBQ3NBS3dBRUFBUUFCQUFyQUNzQVVBQXJBQ3NBS3dBckFDc0FLd0FFQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFBMEFEUUFOQUEwQUhnQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBRFFBckFCNEFLd0FyQUFRQUJBQUVBQVFBVUFCUUFCNEFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU9BQTBBRFFBVEFCTUFIZ0FlQUI0QURRQU5BQTBBRFFBTkFBMEFEUUFOQUEwQURRQU5BQTBBRFFBTkFBMEFVQUJRQUZBQVVBQUVBQVFBS3dBckFBUUFEUUFOQUI0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QU9BQTRBRGdBT0FBNEFEZ0FPQUE0QURnQU9BQTRBRGdBT0FDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXJBQ3NBS3dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FYQUJjQUEwQURRQU5BQ29BU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQUJBQU9BQjRBRFFBTkFBMEFEUUFPQUI0QUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFBTkFDc0FEZ0FPQUE0QURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QU9BQk1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBRUFDc0FCQUFFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQURRQU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVNBQklBRWdBUXdCREFFTUFVQUJRQUZBQVVBQkRBRkFBVUFCUUFFZ0FRd0JJQUVNQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVNBQkRBRU1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCSUFFTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QU5BQTBBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUFRQUJBQUVBQVFBQkFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFBTkFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFEUUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRWNBUndBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FlQUFRQUJBQU5BQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdBZUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FFQUFRQUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQUVBQVFBQkFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUFyQUNzQVVBQXJBQ3NBVUFCUUFDc0FLd0JRQUZBQVVBQlFBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0JRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FlQUI0QVVBQlFBRkFBVUFCUUFDc0FVQUFyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFlQUI0QURRQU5BQTBBRFFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQUt3QXJBQ3NBRmdBV0FGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFBckFGQUFLd0FyQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUZBQUt3QXJBQ3NBS3dCUUFDc0FVQUFyQUZBQUt3QlFBRkFBVUFBckFGQUFVQUFyQUZBQUt3QXJBRkFBS3dCUUFDc0FVQUFyQUZBQUt3QlFBQ3NBVUFCUUFDc0FVQUFyQUNzQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdBbEFDVUFKUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFlQUNVQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhnQWVBQ1VBSlFBbEFDVUFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUNVQUpRQWxBQ1VBSlFBZUFDVUFKUUFsQUNVQUpRQWdBQ0FBSUFBbEFDVUFJQUFsQUNVQUlBQWdBQ0FBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJUUFoQUNFQUlRQWhBQ1VBSlFBZ0FDQUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ0FBSUFBbEFDVUFKUUFsQUNBQUpRQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWxBQ1VBSlFBZ0FDVUFKUUFsQUNVQUlBQWdBQ0FBSlFBZ0FDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFDVUFIZ0FsQUI0QUpRQWxBQ1VBSlFBbEFDQUFKUUFsQUNVQUpRQWVBQ1VBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBZ0FDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNBQUpRQWxBQ1VBSUFBZ0FDQUFJQUFnQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRndBWEFCY0FGUUFWQUJVQUhnQWVBQjRBSGdBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNBQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ0FBSUFBZ0FDQUFJQUFsQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUpRQWxBQ1VBSUFBZ0FDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FLd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0EnO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbGluZS1icmVhay9kaXN0L2xpbmVicmVhay10cmllLmpzXG4vLyBtb2R1bGUgaWQgPSA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 96 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Path = __webpack_require__(51);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Circle = function Circle(x, y, radius) {\n    _classCallCheck(this, Circle);\n\n    this.type = _Path.PATH.CIRCLE;\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    if (true) {\n        if (isNaN(x)) {\n            console.error('Invalid x value given for Circle');\n        }\n        if (isNaN(y)) {\n            console.error('Invalid y value given for Circle');\n        }\n        if (isNaN(radius)) {\n            console.error('Invalid radius value given for Circle');\n        }\n    }\n};\n\nexports.default = Circle;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvQ2lyY2xlLmpzP2I4MzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI5Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX1BhdGggPSByZXF1aXJlKCcuL1BhdGgnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIENpcmNsZSA9IGZ1bmN0aW9uIENpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2lyY2xlKTtcblxuICAgIHRoaXMudHlwZSA9IF9QYXRoLlBBVEguQ0lSQ0xFO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgeCB2YWx1ZSBnaXZlbiBmb3IgQ2lyY2xlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKHkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHkgdmFsdWUgZ2l2ZW4gZm9yIENpcmNsZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05hTihyYWRpdXMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHJhZGl1cyB2YWx1ZSBnaXZlbiBmb3IgQ2lyY2xlJyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDaXJjbGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL2RyYXdpbmcvQ2lyY2xlLmpzXG4vLyBtb2R1bGUgaWQgPSA5NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createCounterText = exports.inlineListItemElement = exports.getListOwner = undefined;\n\nvar _Util = __webpack_require__(59);\n\nvar _NodeContainer = __webpack_require__(58);\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _TextContainer = __webpack_require__(86);\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _listStyle = __webpack_require__(74);\n\nvar _Unicode = __webpack_require__(90);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Margin between the enumeration and the list item content\nvar MARGIN_RIGHT = 7;\n\nvar ancestorTypes = ['OL', 'UL', 'MENU'];\n\nvar getListOwner = exports.getListOwner = function getListOwner(container) {\n    var parent = container.parent;\n    if (!parent) {\n        return null;\n    }\n\n    do {\n        var isAncestor = ancestorTypes.indexOf(parent.tagName) !== -1;\n        if (isAncestor) {\n            return parent;\n        }\n        parent = parent.parent;\n    } while (parent);\n\n    return container.parent;\n};\n\nvar inlineListItemElement = exports.inlineListItemElement = function inlineListItemElement(node, container, resourceLoader) {\n    var listStyle = container.style.listStyle;\n\n    if (!listStyle) {\n        return;\n    }\n\n    var style = node.ownerDocument.defaultView.getComputedStyle(node, null);\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    (0, _Util.copyCSSStyles)(style, wrapper);\n\n    wrapper.style.position = 'absolute';\n    wrapper.style.bottom = 'auto';\n    wrapper.style.display = 'block';\n    wrapper.style.letterSpacing = 'normal';\n\n    switch (listStyle.listStylePosition) {\n        case _listStyle.LIST_STYLE_POSITION.OUTSIDE:\n            wrapper.style.left = 'auto';\n            wrapper.style.right = node.ownerDocument.defaultView.innerWidth - container.bounds.left - container.style.margin[1].getAbsoluteValue(container.bounds.width) + MARGIN_RIGHT + 'px';\n            wrapper.style.textAlign = 'right';\n            break;\n        case _listStyle.LIST_STYLE_POSITION.INSIDE:\n            wrapper.style.left = container.bounds.left - container.style.margin[3].getAbsoluteValue(container.bounds.width) + 'px';\n            wrapper.style.right = 'auto';\n            wrapper.style.textAlign = 'left';\n            break;\n    }\n\n    var text = void 0;\n    var MARGIN_TOP = container.style.margin[0].getAbsoluteValue(container.bounds.width);\n    var styleImage = listStyle.listStyleImage;\n    if (styleImage) {\n        if (styleImage.method === 'url') {\n            var image = node.ownerDocument.createElement('img');\n            image.src = styleImage.args[0];\n            wrapper.style.top = container.bounds.top - MARGIN_TOP + 'px';\n            wrapper.style.width = 'auto';\n            wrapper.style.height = 'auto';\n            wrapper.appendChild(image);\n        } else {\n            var size = parseFloat(container.style.font.fontSize) * 0.5;\n            wrapper.style.top = container.bounds.top - MARGIN_TOP + container.bounds.height - 1.5 * size + 'px';\n            wrapper.style.width = size + 'px';\n            wrapper.style.height = size + 'px';\n            wrapper.style.backgroundImage = style.listStyleImage;\n        }\n    } else if (typeof container.listIndex === 'number') {\n        text = node.ownerDocument.createTextNode(createCounterText(container.listIndex, listStyle.listStyleType, true));\n        wrapper.appendChild(text);\n        wrapper.style.top = container.bounds.top - MARGIN_TOP + 'px';\n    }\n\n    // $FlowFixMe\n    var body = node.ownerDocument.body;\n    body.appendChild(wrapper);\n\n    if (text) {\n        container.childNodes.push(_TextContainer2.default.fromTextNode(text, container));\n        body.removeChild(wrapper);\n    } else {\n        // $FlowFixMe\n        container.childNodes.push(new _NodeContainer2.default(wrapper, container, resourceLoader, 0));\n    }\n};\n\nvar ROMAN_UPPER = {\n    integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n    values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\n\nvar ARMENIAN = {\n    integers: [9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n    values: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\n};\n\nvar HEBREW = {\n    integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n    values: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\n};\n\nvar GEORGIAN = {\n    integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n    values: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\n};\n\nvar createAdditiveCounter = function createAdditiveCounter(value, min, max, symbols, fallback, suffix) {\n    if (value < min || value > max) {\n        return createCounterText(value, fallback, suffix.length > 0);\n    }\n\n    return symbols.integers.reduce(function (string, integer, index) {\n        while (value >= integer) {\n            value -= integer;\n            string += symbols.values[index];\n        }\n        return string;\n    }, '') + suffix;\n};\n\nvar createCounterStyleWithSymbolResolver = function createCounterStyleWithSymbolResolver(value, codePointRangeLength, isNumeric, resolver) {\n    var string = '';\n\n    do {\n        if (!isNumeric) {\n            value--;\n        }\n        string = resolver(value) + string;\n        value /= codePointRangeLength;\n    } while (value * codePointRangeLength >= codePointRangeLength);\n\n    return string;\n};\n\nvar createCounterStyleFromRange = function createCounterStyleFromRange(value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\n    var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n\n    return (value < 0 ? '-' : '') + (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\n        return (0, _Unicode.fromCodePoint)(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\n    }) + suffix);\n};\n\nvar createCounterStyleFromSymbols = function createCounterStyleFromSymbols(value, symbols) {\n    var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '. ';\n\n    var codePointRangeLength = symbols.length;\n    return createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) {\n        return symbols[Math.floor(codePoint % codePointRangeLength)];\n    }) + suffix;\n};\n\nvar CJK_ZEROS = 1 << 0;\nvar CJK_TEN_COEFFICIENTS = 1 << 1;\nvar CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nvar CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nvar createCJKCounter = function createCJKCounter(value, numbers, multipliers, negativeSign, suffix, flags) {\n    if (value < -9999 || value > 9999) {\n        return createCounterText(value, _listStyle.LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\n    }\n    var tmp = Math.abs(value);\n    var string = suffix;\n\n    if (tmp === 0) {\n        return numbers[0] + string;\n    }\n\n    for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\n        var coefficient = tmp % 10;\n\n        if (coefficient === 0 && (0, _Util.contains)(flags, CJK_ZEROS) && string !== '') {\n            string = numbers[coefficient] + string;\n        } else if (coefficient > 1 || coefficient === 1 && digit === 0 || coefficient === 1 && digit === 1 && (0, _Util.contains)(flags, CJK_TEN_COEFFICIENTS) || coefficient === 1 && digit === 1 && (0, _Util.contains)(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100 || coefficient === 1 && digit > 1 && (0, _Util.contains)(flags, CJK_HUNDRED_COEFFICIENTS)) {\n            string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n        } else if (coefficient === 1 && digit > 0) {\n            string = multipliers[digit - 1] + string;\n        }\n        tmp = Math.floor(tmp / 10);\n    }\n\n    return (value < 0 ? negativeSign : '') + string;\n};\n\nvar CHINESE_INFORMAL_MULTIPLIERS = '';\nvar CHINESE_FORMAL_MULTIPLIERS = '';\nvar JAPANESE_NEGATIVE = '';\nvar KOREAN_NEGATIVE = ' ';\n\nvar createCounterText = exports.createCounterText = function createCounterText(value, type, appendSuffix) {\n    var defaultSuffix = appendSuffix ? '. ' : '';\n    var cjkSuffix = appendSuffix ? '' : '';\n    var koreanSuffix = appendSuffix ? ', ' : '';\n    switch (type) {\n        case _listStyle.LIST_STYLE_TYPE.DISC:\n            return '';\n        case _listStyle.LIST_STYLE_TYPE.CIRCLE:\n            return '';\n        case _listStyle.LIST_STYLE_TYPE.SQUARE:\n            return '';\n        case _listStyle.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\n            var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n            return string.length < 4 ? '0' + string : string;\n        case _listStyle.LIST_STYLE_TYPE.CJK_DECIMAL:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\n        case _listStyle.LIST_STYLE_TYPE.UPPER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_GREEK:\n            return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_ALPHA:\n            return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.UPPER_ALPHA:\n            return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.ARABIC_INDIC:\n            return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.ARMENIAN:\n        case _listStyle.LIST_STYLE_TYPE.UPPER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\n        case _listStyle.LIST_STYLE_TYPE.BENGALI:\n            return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CAMBODIAN:\n        case _listStyle.LIST_STYLE_TYPE.KHMER:\n            return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\n        case _listStyle.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\n            return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\n            return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\n            return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\n            return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.JAPANESE_INFORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\n        case _listStyle.LIST_STYLE_TYPE.JAPANESE_FORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\n        case _listStyle.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.DEVANAGARI:\n            return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.GEORGIAN:\n            return createAdditiveCounter(value, 1, 19999, GEORGIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.GUJARATI:\n            return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.GURMUKHI:\n            return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.HEBREW:\n            return createAdditiveCounter(value, 1, 10999, HEBREW, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.HIRAGANA:\n            return createCounterStyleFromSymbols(value, '');\n        case _listStyle.LIST_STYLE_TYPE.HIRAGANA_IROHA:\n            return createCounterStyleFromSymbols(value, '');\n        case _listStyle.LIST_STYLE_TYPE.KANNADA:\n            return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.KATAKANA:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.KATAKANA_IROHA:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LAO:\n            return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.MONGOLIAN:\n            return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.MYANMAR:\n            return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.ORIYA:\n            return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.PERSIAN:\n            return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.TAMIL:\n            return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.TELUGU:\n            return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.THAI:\n            return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.TIBETAN:\n            return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.DECIMAL:\n        default:\n            return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n    }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0xpc3RJdGVtLmpzPzE5NGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHVCQUF1Qix1QkFBdUI7QUFDOUM7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiOTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlQ291bnRlclRleHQgPSBleHBvcnRzLmlubGluZUxpc3RJdGVtRWxlbWVudCA9IGV4cG9ydHMuZ2V0TGlzdE93bmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX1V0aWwgPSByZXF1aXJlKCcuL1V0aWwnKTtcblxudmFyIF9Ob2RlQ29udGFpbmVyID0gcmVxdWlyZSgnLi9Ob2RlQ29udGFpbmVyJyk7XG5cbnZhciBfTm9kZUNvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob2RlQ29udGFpbmVyKTtcblxudmFyIF9UZXh0Q29udGFpbmVyID0gcmVxdWlyZSgnLi9UZXh0Q29udGFpbmVyJyk7XG5cbnZhciBfVGV4dENvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0Q29udGFpbmVyKTtcblxudmFyIF9saXN0U3R5bGUgPSByZXF1aXJlKCcuL3BhcnNpbmcvbGlzdFN0eWxlJyk7XG5cbnZhciBfVW5pY29kZSA9IHJlcXVpcmUoJy4vVW5pY29kZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBNYXJnaW4gYmV0d2VlbiB0aGUgZW51bWVyYXRpb24gYW5kIHRoZSBsaXN0IGl0ZW0gY29udGVudFxudmFyIE1BUkdJTl9SSUdIVCA9IDc7XG5cbnZhciBhbmNlc3RvclR5cGVzID0gWydPTCcsICdVTCcsICdNRU5VJ107XG5cbnZhciBnZXRMaXN0T3duZXIgPSBleHBvcnRzLmdldExpc3RPd25lciA9IGZ1bmN0aW9uIGdldExpc3RPd25lcihjb250YWluZXIpIHtcbiAgICB2YXIgcGFyZW50ID0gY29udGFpbmVyLnBhcmVudDtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBkbyB7XG4gICAgICAgIHZhciBpc0FuY2VzdG9yID0gYW5jZXN0b3JUeXBlcy5pbmRleE9mKHBhcmVudC50YWdOYW1lKSAhPT0gLTE7XG4gICAgICAgIGlmIChpc0FuY2VzdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfSB3aGlsZSAocGFyZW50KTtcblxuICAgIHJldHVybiBjb250YWluZXIucGFyZW50O1xufTtcblxudmFyIGlubGluZUxpc3RJdGVtRWxlbWVudCA9IGV4cG9ydHMuaW5saW5lTGlzdEl0ZW1FbGVtZW50ID0gZnVuY3Rpb24gaW5saW5lTGlzdEl0ZW1FbGVtZW50KG5vZGUsIGNvbnRhaW5lciwgcmVzb3VyY2VMb2FkZXIpIHtcbiAgICB2YXIgbGlzdFN0eWxlID0gY29udGFpbmVyLnN0eWxlLmxpc3RTdHlsZTtcblxuICAgIGlmICghbGlzdFN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGUgPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKTtcbiAgICB2YXIgd3JhcHBlciA9IG5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdodG1sMmNhbnZhc3dyYXBwZXInKTtcbiAgICAoMCwgX1V0aWwuY29weUNTU1N0eWxlcykoc3R5bGUsIHdyYXBwZXIpO1xuXG4gICAgd3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgd3JhcHBlci5zdHlsZS5ib3R0b20gPSAnYXV0byc7XG4gICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB3cmFwcGVyLnN0eWxlLmxldHRlclNwYWNpbmcgPSAnbm9ybWFsJztcblxuICAgIHN3aXRjaCAobGlzdFN0eWxlLmxpc3RTdHlsZVBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1BPU0lUSU9OLk9VVFNJREU6XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLmxlZnQgPSAnYXV0byc7XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLnJpZ2h0ID0gbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVyV2lkdGggLSBjb250YWluZXIuYm91bmRzLmxlZnQgLSBjb250YWluZXIuc3R5bGUubWFyZ2luWzFdLmdldEFic29sdXRlVmFsdWUoY29udGFpbmVyLmJvdW5kcy53aWR0aCkgKyBNQVJHSU5fUklHSFQgKyAncHgnO1xuICAgICAgICAgICAgd3JhcHBlci5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1BPU0lUSU9OLklOU0lERTpcbiAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUubGVmdCA9IGNvbnRhaW5lci5ib3VuZHMubGVmdCAtIGNvbnRhaW5lci5zdHlsZS5tYXJnaW5bM10uZ2V0QWJzb2x1dGVWYWx1ZShjb250YWluZXIuYm91bmRzLndpZHRoKSArICdweCc7XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLnJpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICAgICAgd3JhcHBlci5zdHlsZS50ZXh0QWxpZ24gPSAnbGVmdCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgdGV4dCA9IHZvaWQgMDtcbiAgICB2YXIgTUFSR0lOX1RPUCA9IGNvbnRhaW5lci5zdHlsZS5tYXJnaW5bMF0uZ2V0QWJzb2x1dGVWYWx1ZShjb250YWluZXIuYm91bmRzLndpZHRoKTtcbiAgICB2YXIgc3R5bGVJbWFnZSA9IGxpc3RTdHlsZS5saXN0U3R5bGVJbWFnZTtcbiAgICBpZiAoc3R5bGVJbWFnZSkge1xuICAgICAgICBpZiAoc3R5bGVJbWFnZS5tZXRob2QgPT09ICd1cmwnKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBzdHlsZUltYWdlLmFyZ3NbMF07XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLnRvcCA9IGNvbnRhaW5lci5ib3VuZHMudG9wIC0gTUFSR0lOX1RPUCArICdweCc7XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICAgICAgd3JhcHBlci5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VGbG9hdChjb250YWluZXIuc3R5bGUuZm9udC5mb250U2l6ZSkgKiAwLjU7XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLnRvcCA9IGNvbnRhaW5lci5ib3VuZHMudG9wIC0gTUFSR0lOX1RPUCArIGNvbnRhaW5lci5ib3VuZHMuaGVpZ2h0IC0gMS41ICogc2l6ZSArICdweCc7XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLndpZHRoID0gc2l6ZSArICdweCc7XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLmhlaWdodCA9IHNpemUgKyAncHgnO1xuICAgICAgICAgICAgd3JhcHBlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBzdHlsZS5saXN0U3R5bGVJbWFnZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnRhaW5lci5saXN0SW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHRleHQgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3JlYXRlQ291bnRlclRleHQoY29udGFpbmVyLmxpc3RJbmRleCwgbGlzdFN0eWxlLmxpc3RTdHlsZVR5cGUsIHRydWUpKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICAgICAgd3JhcHBlci5zdHlsZS50b3AgPSBjb250YWluZXIuYm91bmRzLnRvcCAtIE1BUkdJTl9UT1AgKyAncHgnO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVcbiAgICB2YXIgYm9keSA9IG5vZGUub3duZXJEb2N1bWVudC5ib2R5O1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG5cbiAgICBpZiAodGV4dCkge1xuICAgICAgICBjb250YWluZXIuY2hpbGROb2Rlcy5wdXNoKF9UZXh0Q29udGFpbmVyMi5kZWZhdWx0LmZyb21UZXh0Tm9kZSh0ZXh0LCBjb250YWluZXIpKTtcbiAgICAgICAgYm9keS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIGNvbnRhaW5lci5jaGlsZE5vZGVzLnB1c2gobmV3IF9Ob2RlQ29udGFpbmVyMi5kZWZhdWx0KHdyYXBwZXIsIGNvbnRhaW5lciwgcmVzb3VyY2VMb2FkZXIsIDApKTtcbiAgICB9XG59O1xuXG52YXIgUk9NQU5fVVBQRVIgPSB7XG4gICAgaW50ZWdlcnM6IFsxMDAwLCA5MDAsIDUwMCwgNDAwLCAxMDAsIDkwLCA1MCwgNDAsIDEwLCA5LCA1LCA0LCAxXSxcbiAgICB2YWx1ZXM6IFsnTScsICdDTScsICdEJywgJ0NEJywgJ0MnLCAnWEMnLCAnTCcsICdYTCcsICdYJywgJ0lYJywgJ1YnLCAnSVYnLCAnSSddXG59O1xuXG52YXIgQVJNRU5JQU4gPSB7XG4gICAgaW50ZWdlcnM6IFs5MDAwLCA4MDAwLCA3MDAwLCA2MDAwLCA1MDAwLCA0MDAwLCAzMDAwLCAyMDAwLCAxMDAwLCA5MDAsIDgwMCwgNzAwLCA2MDAsIDUwMCwgNDAwLCAzMDAsIDIwMCwgMTAwLCA5MCwgODAsIDcwLCA2MCwgNTAsIDQwLCAzMCwgMjAsIDEwLCA5LCA4LCA3LCA2LCA1LCA0LCAzLCAyLCAxXSxcbiAgICB2YWx1ZXM6IFsn1ZQnLCAn1ZMnLCAn1ZInLCAn1ZEnLCAn1ZAnLCAn1Y8nLCAn1Y4nLCAn1Y0nLCAn1YwnLCAn1YsnLCAn1YonLCAn1YknLCAn1YgnLCAn1YcnLCAn1YYnLCAn1YUnLCAn1YQnLCAn1YMnLCAn1YInLCAn1YEnLCAn1YAnLCAn1L8nLCAn1L4nLCAn1L0nLCAn1LwnLCAn1LsnLCAn1LonLCAn1LknLCAn1LgnLCAn1LcnLCAn1LYnLCAn1LUnLCAn1LQnLCAn1LMnLCAn1LInLCAn1LEnXVxufTtcblxudmFyIEhFQlJFVyA9IHtcbiAgICBpbnRlZ2VyczogWzEwMDAwLCA5MDAwLCA4MDAwLCA3MDAwLCA2MDAwLCA1MDAwLCA0MDAwLCAzMDAwLCAyMDAwLCAxMDAwLCA0MDAsIDMwMCwgMjAwLCAxMDAsIDkwLCA4MCwgNzAsIDYwLCA1MCwgNDAsIDMwLCAyMCwgMTksIDE4LCAxNywgMTYsIDE1LCAxMCwgOSwgOCwgNywgNiwgNSwgNCwgMywgMiwgMV0sXG4gICAgdmFsdWVzOiBbJ9eZ17MnLCAn15jXsycsICfXl9ezJywgJ9eW17MnLCAn15XXsycsICfXlNezJywgJ9eT17MnLCAn15LXsycsICfXkdezJywgJ9eQ17MnLCAn16onLCAn16knLCAn16gnLCAn16cnLCAn16YnLCAn16QnLCAn16InLCAn16EnLCAn16AnLCAn154nLCAn15wnLCAn15snLCAn15nXmCcsICfXmdeXJywgJ9eZ15YnLCAn15jXlicsICfXmNeVJywgJ9eZJywgJ9eYJywgJ9eXJywgJ9eWJywgJ9eVJywgJ9eUJywgJ9eTJywgJ9eSJywgJ9eRJywgJ9eQJ11cbn07XG5cbnZhciBHRU9SR0lBTiA9IHtcbiAgICBpbnRlZ2VyczogWzEwMDAwLCA5MDAwLCA4MDAwLCA3MDAwLCA2MDAwLCA1MDAwLCA0MDAwLCAzMDAwLCAyMDAwLCAxMDAwLCA5MDAsIDgwMCwgNzAwLCA2MDAsIDUwMCwgNDAwLCAzMDAsIDIwMCwgMTAwLCA5MCwgODAsIDcwLCA2MCwgNTAsIDQwLCAzMCwgMjAsIDEwLCA5LCA4LCA3LCA2LCA1LCA0LCAzLCAyLCAxXSxcbiAgICB2YWx1ZXM6IFsn4YO1JywgJ+GDsCcsICfhg68nLCAn4YO0JywgJ+GDricsICfhg60nLCAn4YOsJywgJ+GDqycsICfhg6onLCAn4YOpJywgJ+GDqCcsICfhg6cnLCAn4YOmJywgJ+GDpScsICfhg6QnLCAn4YOzJywgJ+GDoicsICfhg6EnLCAn4YOgJywgJ+GDnycsICfhg54nLCAn4YOdJywgJ+GDsicsICfhg5wnLCAn4YObJywgJ+GDmicsICfhg5knLCAn4YOYJywgJ+GDlycsICfhg7EnLCAn4YOWJywgJ+GDlScsICfhg5QnLCAn4YOTJywgJ+GDkicsICfhg5EnLCAn4YOQJ11cbn07XG5cbnZhciBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIgPSBmdW5jdGlvbiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIG1pbiwgbWF4LCBzeW1ib2xzLCBmYWxsYmFjaywgc3VmZml4KSB7XG4gICAgaWYgKHZhbHVlIDwgbWluIHx8IHZhbHVlID4gbWF4KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgZmFsbGJhY2ssIHN1ZmZpeC5sZW5ndGggPiAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3ltYm9scy5pbnRlZ2Vycy5yZWR1Y2UoZnVuY3Rpb24gKHN0cmluZywgaW50ZWdlciwgaW5kZXgpIHtcbiAgICAgICAgd2hpbGUgKHZhbHVlID49IGludGVnZXIpIHtcbiAgICAgICAgICAgIHZhbHVlIC09IGludGVnZXI7XG4gICAgICAgICAgICBzdHJpbmcgKz0gc3ltYm9scy52YWx1ZXNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgfSwgJycpICsgc3VmZml4O1xufTtcblxudmFyIGNyZWF0ZUNvdW50ZXJTdHlsZVdpdGhTeW1ib2xSZXNvbHZlciA9IGZ1bmN0aW9uIGNyZWF0ZUNvdW50ZXJTdHlsZVdpdGhTeW1ib2xSZXNvbHZlcih2YWx1ZSwgY29kZVBvaW50UmFuZ2VMZW5ndGgsIGlzTnVtZXJpYywgcmVzb2x2ZXIpIHtcbiAgICB2YXIgc3RyaW5nID0gJyc7XG5cbiAgICBkbyB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKSB7XG4gICAgICAgICAgICB2YWx1ZS0tO1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZyA9IHJlc29sdmVyKHZhbHVlKSArIHN0cmluZztcbiAgICAgICAgdmFsdWUgLz0gY29kZVBvaW50UmFuZ2VMZW5ndGg7XG4gICAgfSB3aGlsZSAodmFsdWUgKiBjb2RlUG9pbnRSYW5nZUxlbmd0aCA+PSBjb2RlUG9pbnRSYW5nZUxlbmd0aCk7XG5cbiAgICByZXR1cm4gc3RyaW5nO1xufTtcblxudmFyIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSA9IGZ1bmN0aW9uIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgY29kZVBvaW50UmFuZ2VTdGFydCwgY29kZVBvaW50UmFuZ2VFbmQsIGlzTnVtZXJpYywgc3VmZml4KSB7XG4gICAgdmFyIGNvZGVQb2ludFJhbmdlTGVuZ3RoID0gY29kZVBvaW50UmFuZ2VFbmQgLSBjb2RlUG9pbnRSYW5nZVN0YXJ0ICsgMTtcblxuICAgIHJldHVybiAodmFsdWUgPCAwID8gJy0nIDogJycpICsgKGNyZWF0ZUNvdW50ZXJTdHlsZVdpdGhTeW1ib2xSZXNvbHZlcihNYXRoLmFicyh2YWx1ZSksIGNvZGVQb2ludFJhbmdlTGVuZ3RoLCBpc051bWVyaWMsIGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfVW5pY29kZS5mcm9tQ29kZVBvaW50KShNYXRoLmZsb29yKGNvZGVQb2ludCAlIGNvZGVQb2ludFJhbmdlTGVuZ3RoKSArIGNvZGVQb2ludFJhbmdlU3RhcnQpO1xuICAgIH0pICsgc3VmZml4KTtcbn07XG5cbnZhciBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyA9IGZ1bmN0aW9uIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCBzeW1ib2xzKSB7XG4gICAgdmFyIHN1ZmZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJy4gJztcblxuICAgIHZhciBjb2RlUG9pbnRSYW5nZUxlbmd0aCA9IHN5bWJvbHMubGVuZ3RoO1xuICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgZmFsc2UsIGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbHNbTWF0aC5mbG9vcihjb2RlUG9pbnQgJSBjb2RlUG9pbnRSYW5nZUxlbmd0aCldO1xuICAgIH0pICsgc3VmZml4O1xufTtcblxudmFyIENKS19aRVJPUyA9IDEgPDwgMDtcbnZhciBDSktfVEVOX0NPRUZGSUNJRU5UUyA9IDEgPDwgMTtcbnZhciBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTID0gMSA8PCAyO1xudmFyIENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyA9IDEgPDwgMztcblxudmFyIGNyZWF0ZUNKS0NvdW50ZXIgPSBmdW5jdGlvbiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCBudW1iZXJzLCBtdWx0aXBsaWVycywgbmVnYXRpdmVTaWduLCBzdWZmaXgsIGZsYWdzKSB7XG4gICAgaWYgKHZhbHVlIDwgLTk5OTkgfHwgdmFsdWUgPiA5OTk5KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQ0pLX0RFQ0lNQUwsIHN1ZmZpeC5sZW5ndGggPiAwKTtcbiAgICB9XG4gICAgdmFyIHRtcCA9IE1hdGguYWJzKHZhbHVlKTtcbiAgICB2YXIgc3RyaW5nID0gc3VmZml4O1xuXG4gICAgaWYgKHRtcCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVtYmVyc1swXSArIHN0cmluZztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBkaWdpdCA9IDA7IHRtcCA+IDAgJiYgZGlnaXQgPD0gNDsgZGlnaXQrKykge1xuICAgICAgICB2YXIgY29lZmZpY2llbnQgPSB0bXAgJSAxMDtcblxuICAgICAgICBpZiAoY29lZmZpY2llbnQgPT09IDAgJiYgKDAsIF9VdGlsLmNvbnRhaW5zKShmbGFncywgQ0pLX1pFUk9TKSAmJiBzdHJpbmcgIT09ICcnKSB7XG4gICAgICAgICAgICBzdHJpbmcgPSBudW1iZXJzW2NvZWZmaWNpZW50XSArIHN0cmluZztcbiAgICAgICAgfSBlbHNlIGlmIChjb2VmZmljaWVudCA+IDEgfHwgY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPT09IDAgfHwgY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPT09IDEgJiYgKDAsIF9VdGlsLmNvbnRhaW5zKShmbGFncywgQ0pLX1RFTl9DT0VGRklDSUVOVFMpIHx8IGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAxICYmICgwLCBfVXRpbC5jb250YWlucykoZmxhZ3MsIENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpICYmIHZhbHVlID4gMTAwIHx8IGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID4gMSAmJiAoMCwgX1V0aWwuY29udGFpbnMpKGZsYWdzLCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpKSB7XG4gICAgICAgICAgICBzdHJpbmcgPSBudW1iZXJzW2NvZWZmaWNpZW50XSArIChkaWdpdCA+IDAgPyBtdWx0aXBsaWVyc1tkaWdpdCAtIDFdIDogJycpICsgc3RyaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID4gMCkge1xuICAgICAgICAgICAgc3RyaW5nID0gbXVsdGlwbGllcnNbZGlnaXQgLSAxXSArIHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICB0bXAgPSBNYXRoLmZsb29yKHRtcCAvIDEwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKHZhbHVlIDwgMCA/IG5lZ2F0aXZlU2lnbiA6ICcnKSArIHN0cmluZztcbn07XG5cbnZhciBDSElORVNFX0lORk9STUFMX01VTFRJUExJRVJTID0gJ+WNgeeZvuWNg+iQrCc7XG52YXIgQ0hJTkVTRV9GT1JNQUxfTVVMVElQTElFUlMgPSAn5ou+5L2w5Luf6JCsJztcbnZhciBKQVBBTkVTRV9ORUdBVElWRSA9ICfjg57jgqTjg4rjgrknO1xudmFyIEtPUkVBTl9ORUdBVElWRSA9ICfrp4jsnbTrhIjsiqQgJztcblxudmFyIGNyZWF0ZUNvdW50ZXJUZXh0ID0gZXhwb3J0cy5jcmVhdGVDb3VudGVyVGV4dCA9IGZ1bmN0aW9uIGNyZWF0ZUNvdW50ZXJUZXh0KHZhbHVlLCB0eXBlLCBhcHBlbmRTdWZmaXgpIHtcbiAgICB2YXIgZGVmYXVsdFN1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICcuICcgOiAnJztcbiAgICB2YXIgY2prU3VmZml4ID0gYXBwZW5kU3VmZml4ID8gJ+OAgScgOiAnJztcbiAgICB2YXIga29yZWFuU3VmZml4ID0gYXBwZW5kU3VmZml4ID8gJywgJyA6ICcnO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLkRJU0M6XG4gICAgICAgICAgICByZXR1cm4gJ+KAoic7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQ0lSQ0xFOlxuICAgICAgICAgICAgcmV0dXJuICfil6YnO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLlNRVUFSRTpcbiAgICAgICAgICAgIHJldHVybiAn4pe+JztcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5ERUNJTUFMX0xFQURJTkdfWkVSTzpcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDQ4LCA1NywgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLmxlbmd0aCA8IDQgPyAnMCcgKyBzdHJpbmcgOiBzdHJpbmc7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQ0pLX0RFQ0lNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHModmFsdWUsICfjgIfkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCBjamtTdWZmaXgpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLkxPV0VSX1JPTUFOOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMzk5OSwgUk9NQU5fVVBQRVIsIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuVVBQRVJfUk9NQU46XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCAzOTk5LCBST01BTl9VUFBFUiwgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuTE9XRVJfR1JFRUs6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCA5NDUsIDk2OSwgZmFsc2UsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLkxPV0VSX0FMUEhBOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgOTcsIDEyMiwgZmFsc2UsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FMUEhBOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjUsIDkwLCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQVJBQklDX0lORElDOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMTYzMiwgMTY0MSwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQVJNRU5JQU46XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuVVBQRVJfQVJNRU5JQU46XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCA5OTk5LCBBUk1FTklBTiwgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuTE9XRVJfQVJNRU5JQU46XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCA5OTk5LCBBUk1FTklBTiwgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5CRU5HQUxJOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMjUzNCwgMjU0MywgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQ0FNQk9ESUFOOlxuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLktITUVSOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjExMiwgNjEyMSwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQ0pLX0VBUlRITFlfQlJBTkNIOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn5a2Q5LiR5a+F5Y2v6L6w5bez5Y2I5pyq55Sz6YWJ5oiM5LqlJywgY2prU3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5DSktfSEVBVkVOTFlfU1RFTTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+eUsuS5meS4meS4geaIiuW3seW6mui+m+WjrOeZuCcsIGNqa1N1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuQ0pLX0lERU9HUkFQSElDOlxuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLlRSQURfQ0hJTkVTRV9JTkZPUk1BTDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn6Zu25LiA5LqM5LiJ5Zub5LqU5YWt5LiD5YWr5LmdJywgQ0hJTkVTRV9JTkZPUk1BTF9NVUxUSVBMSUVSUywgJ+iyoCcsIGNqa1N1ZmZpeCwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTIHwgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTKTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfRk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7blo7nosrPlj4PogobkvI3pmbjmn5LmjYznjpYnLCBDSElORVNFX0ZPUk1BTF9NVUxUSVBMSUVSUywgJ+iyoCcsIGNqa1N1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTIHwgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTKTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfSU5GT1JNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMsICfotJ8nLCBjamtTdWZmaXgsIENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuU0lNUF9DSElORVNFX0ZPUk1BTDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn6Zu25aO56LSw5Y+B6IKG5LyN6ZmG5p+S5o2M546WJywgQ0hJTkVTRV9GT1JNQUxfTVVMVElQTElFUlMsICfotJ8nLCBjamtTdWZmaXgsIENKS19aRVJPUyB8IENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfSU5GT1JNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+OAh+S4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsICfljYHnmb7ljYPkuIcnLCBKQVBBTkVTRV9ORUdBVElWRSwgY2prU3VmZml4LCAwKTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9GT1JNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjseW8kOWPguWbm+S8jeWFreS4g+WFq+S5nScsICfmi77nmb7ljYPkuIcnLCBKQVBBTkVTRV9ORUdBVElWRSwgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5HVUxfRk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfsmIHsnbzsnbTsgrzsgqzsmKTsnKHsuaDtjJTqtawnLCAn7Iut67Cx7LKc66eMJywgS09SRUFOX05FR0FUSVZFLCBrb3JlYW5TdWZmaXgsIENKS19aRVJPUyB8IENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0lORk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7bkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCAn5Y2B55m+5Y2D6JCsJywgS09SRUFOX05FR0FUSVZFLCBrb3JlYW5TdWZmaXgsIDApO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5KQV9GT1JNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjueiys+WPg+Wbm+S6lOWFreS4g+WFq+S5nScsICfmi77nmb7ljYMnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTKTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5ERVZBTkFHQVJJOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHg5NjYsIDB4OTZmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5HRU9SR0lBTjpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDE5OTk5LCBHRU9SR0lBTiwgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuR1VKQVJBVEk6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGFlNiwgMHhhZWYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLkdVUk1VS0hJOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhhNjYsIDB4YTZmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5IRUJSRVc6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCAxMDk5OSwgSEVCUkVXLCBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5ERUNJTUFMLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5ISVJBR0FOQTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OBguOBhOOBhuOBiOOBiuOBi+OBjeOBj+OBkeOBk+OBleOBl+OBmeOBm+OBneOBn+OBoeOBpOOBpuOBqOOBquOBq+OBrOOBreOBruOBr+OBsuOBteOBuOOBu+OBvuOBv+OCgOOCgeOCguOChOOChuOCiOOCieOCiuOCi+OCjOOCjeOCj+OCkOOCkeOCkuOCkycpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BX0lST0hBOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44GE44KN44Gv44Gr44G744G444Go44Gh44KK44Gs44KL44KS44KP44GL44KI44Gf44KM44Gd44Gk44Gt44Gq44KJ44KA44GG44KQ44Gu44GK44GP44KE44G+44GR44G144GT44GI44Gm44GC44GV44GN44KG44KB44G/44GX44KR44Gy44KC44Gb44GZJyk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuS0FOTkFEQTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4Y2U2LCAweGNlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuS0FUQUtBTkE6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHModmFsdWUsICfjgqLjgqTjgqbjgqjjgqrjgqvjgq3jgq/jgrHjgrPjgrXjgrfjgrnjgrvjgr3jgr/jg4Hjg4Tjg4bjg4jjg4rjg4vjg4zjg43jg47jg4/jg5Ljg5Xjg5jjg5vjg57jg5/jg6Djg6Hjg6Ljg6Tjg6bjg6jjg6njg6rjg6vjg6zjg63jg6/jg7Djg7Hjg7Ljg7MnLCBjamtTdWZmaXgpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44Kk44Ot44OP44OL44Ob44OY44OI44OB44Oq44OM44Or44Oy44Ov44Kr44Oo44K/44Os44K944OE44ON44OK44Op44Og44Km44Ow44OO44Kq44Kv44Ok44Oe44Kx44OV44Kz44Ko44OG44Ki44K144Kt44Om44Oh44Of44K344Ox44OS44Oi44K744K5JywgY2prU3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5MQU86XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGVkMCwgMHhlZDksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLk1PTkdPTElBTjpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4MTgxMCwgMHgxODE5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5NWUFOTUFSOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxMDQwLCAweDEwNDksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIF9saXN0U3R5bGUuTElTVF9TVFlMRV9UWVBFLk9SSVlBOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhiNjYsIDB4YjZmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5QRVJTSUFOOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHg2ZjAsIDB4NmY5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5UQU1JTDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YmU2LCAweGJlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgX2xpc3RTdHlsZS5MSVNUX1NUWUxFX1RZUEUuVEVMVUdVOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhjNjYsIDB4YzZmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5USEFJOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhlNTAsIDB4ZTU5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5USUJFVEFOOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhmMjAsIDB4ZjI5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBfbGlzdFN0eWxlLkxJU1RfU1RZTEVfVFlQRS5ERUNJTUFMOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNDgsIDU3LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9MaXN0SXRlbS5qc1xuLy8gbW9kdWxlIGlkID0gOTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bounds = __webpack_require__(64);\n\nvar _Font = __webpack_require__(99);\n\nvar _Gradient = __webpack_require__(100);\n\nvar _TextContainer = __webpack_require__(86);\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _background = __webpack_require__(60);\n\nvar _border = __webpack_require__(67);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n    function Renderer(target, options) {\n        _classCallCheck(this, Renderer);\n\n        this.target = target;\n        this.options = options;\n        target.render(options);\n    }\n\n    _createClass(Renderer, [{\n        key: 'renderNode',\n        value: function renderNode(container) {\n            if (container.isVisible()) {\n                this.renderNodeBackgroundAndBorders(container);\n                this.renderNodeContent(container);\n            }\n        }\n    }, {\n        key: 'renderNodeContent',\n        value: function renderNodeContent(container) {\n            var _this = this;\n\n            var callback = function callback() {\n                if (container.childNodes.length) {\n                    container.childNodes.forEach(function (child) {\n                        if (child instanceof _TextContainer2.default) {\n                            var style = child.parent.style;\n                            _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);\n                        } else {\n                            _this.target.drawShape(child, container.style.color);\n                        }\n                    });\n                }\n\n                if (container.image) {\n                    var _image = _this.options.imageStore.get(container.image);\n                    if (_image) {\n                        var contentBox = (0, _Bounds.calculateContentBox)(container.bounds, container.style.padding, container.style.border);\n                        var _width = typeof _image.width === 'number' && _image.width > 0 ? _image.width : contentBox.width;\n                        var _height = typeof _image.height === 'number' && _image.height > 0 ? _image.height : contentBox.height;\n                        if (_width > 0 && _height > 0) {\n                            _this.target.clip([(0, _Bounds.calculatePaddingBoxPath)(container.curvedBounds)], function () {\n                                _this.target.drawImage(_image, new _Bounds.Bounds(0, 0, _width, _height), contentBox);\n                            });\n                        }\n                    }\n                }\n            };\n            var paths = container.getClipPaths();\n            if (paths.length) {\n                this.target.clip(paths, callback);\n            } else {\n                callback();\n            }\n        }\n    }, {\n        key: 'renderNodeBackgroundAndBorders',\n        value: function renderNodeBackgroundAndBorders(container) {\n            var _this2 = this;\n\n            var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;\n\n            var hasRenderableBorders = container.style.border.some(function (border) {\n                return border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent();\n            });\n\n            var callback = function callback() {\n                var backgroundPaintingArea = (0, _background.calculateBackgroungPaintingArea)(container.curvedBounds, container.style.background.backgroundClip);\n\n                if (HAS_BACKGROUND) {\n                    _this2.target.clip([backgroundPaintingArea], function () {\n                        if (!container.style.background.backgroundColor.isTransparent()) {\n                            _this2.target.fill(container.style.background.backgroundColor);\n                        }\n\n                        _this2.renderBackgroundImage(container);\n                    });\n                }\n\n                container.style.border.forEach(function (border, side) {\n                    if (border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent()) {\n                        _this2.renderBorder(border, side, container.curvedBounds);\n                    }\n                });\n            };\n\n            if (HAS_BACKGROUND || hasRenderableBorders) {\n                var paths = container.parent ? container.parent.getClipPaths() : [];\n                if (paths.length) {\n                    this.target.clip(paths, callback);\n                } else {\n                    callback();\n                }\n            }\n        }\n    }, {\n        key: 'renderBackgroundImage',\n        value: function renderBackgroundImage(container) {\n            var _this3 = this;\n\n            container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {\n                if (backgroundImage.source.method === 'url' && backgroundImage.source.args.length) {\n                    _this3.renderBackgroundRepeat(container, backgroundImage);\n                } else if (/gradient/i.test(backgroundImage.source.method)) {\n                    _this3.renderBackgroundGradient(container, backgroundImage);\n                }\n            });\n        }\n    }, {\n        key: 'renderBackgroundRepeat',\n        value: function renderBackgroundRepeat(container, background) {\n            var image = this.options.imageStore.get(background.source.args[0]);\n            if (image) {\n                var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n                var backgroundImageSize = (0, _background.calculateBackgroundSize)(background, image, backgroundPositioningArea);\n                var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n                var _path = (0, _background.calculateBackgroundRepeatPath)(background, position, backgroundImageSize, backgroundPositioningArea, container.bounds);\n\n                var _offsetX = Math.round(backgroundPositioningArea.left + position.x);\n                var _offsetY = Math.round(backgroundPositioningArea.top + position.y);\n                this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);\n            }\n        }\n    }, {\n        key: 'renderBackgroundGradient',\n        value: function renderBackgroundGradient(container, background) {\n            var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n            var backgroundImageSize = (0, _background.calculateGradientBackgroundSize)(background, backgroundPositioningArea);\n            var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n            var gradientBounds = new _Bounds.Bounds(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y), backgroundImageSize.width, backgroundImageSize.height);\n\n            var gradient = (0, _Gradient.parseGradient)(container, background.source, gradientBounds);\n            if (gradient) {\n                switch (gradient.type) {\n                    case _Gradient.GRADIENT_TYPE.LINEAR_GRADIENT:\n                        // $FlowFixMe\n                        this.target.renderLinearGradient(gradientBounds, gradient);\n                        break;\n                    case _Gradient.GRADIENT_TYPE.RADIAL_GRADIENT:\n                        // $FlowFixMe\n                        this.target.renderRadialGradient(gradientBounds, gradient);\n                        break;\n                }\n            }\n        }\n    }, {\n        key: 'renderBorder',\n        value: function renderBorder(border, side, curvePoints) {\n            this.target.drawShape((0, _Bounds.parsePathForBorder)(curvePoints, side), border.borderColor);\n        }\n    }, {\n        key: 'renderStack',\n        value: function renderStack(stack) {\n            var _this4 = this;\n\n            if (stack.container.isVisible()) {\n                var _opacity = stack.getOpacity();\n                if (_opacity !== this._opacity) {\n                    this.target.setOpacity(stack.getOpacity());\n                    this._opacity = _opacity;\n                }\n\n                var _transform = stack.container.style.transform;\n                if (_transform !== null) {\n                    this.target.transform(stack.container.bounds.left + _transform.transformOrigin[0].value, stack.container.bounds.top + _transform.transformOrigin[1].value, _transform.transform, function () {\n                        return _this4.renderStackContent(stack);\n                    });\n                } else {\n                    this.renderStackContent(stack);\n                }\n            }\n        }\n    }, {\n        key: 'renderStackContent',\n        value: function renderStackContent(stack) {\n            var _splitStackingContext = splitStackingContexts(stack),\n                _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),\n                negativeZIndex = _splitStackingContext2[0],\n                zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],\n                positiveZIndex = _splitStackingContext2[2],\n                nonPositionedFloats = _splitStackingContext2[3],\n                nonPositionedInlineLevel = _splitStackingContext2[4];\n\n            var _splitDescendants = splitDescendants(stack),\n                _splitDescendants2 = _slicedToArray(_splitDescendants, 2),\n                inlineLevel = _splitDescendants2[0],\n                nonInlineLevel = _splitDescendants2[1];\n\n            // https://www.w3.org/TR/css-position-3/#painting-order\n            // 1. the background and borders of the element forming the stacking context.\n\n\n            this.renderNodeBackgroundAndBorders(stack.container);\n            // 2. the child stacking contexts with negative stack levels (most negative first).\n            negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n            this.renderNodeContent(stack.container);\n            nonInlineLevel.forEach(this.renderNode, this);\n            // 4. All non-positioned floating descendants, in tree order. For each one of these,\n            // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n            // which actually create a new stacking context should be considered part of the parent stacking context,\n            // not this new one.\n            nonPositionedFloats.forEach(this.renderStack, this);\n            // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n            nonPositionedInlineLevel.forEach(this.renderStack, this);\n            inlineLevel.forEach(this.renderNode, this);\n            // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n            //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n            //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n            //  but any positioned descendants and descendants which actually create a new stacking context should be\n            //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n            //  treat the stacking context generated atomically.\n            //\n            //  All opacity descendants with opacity less than 1\n            //\n            //  All transform descendants with transform other than none\n            zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this);\n            // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n            // order (smallest first) then tree order.\n            positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n        }\n    }, {\n        key: 'render',\n        value: function render(stack) {\n            var _this5 = this;\n\n            if (this.options.backgroundColor) {\n                this.target.rectangle(this.options.x, this.options.y, this.options.width, this.options.height, this.options.backgroundColor);\n            }\n            this.renderStack(stack);\n            var target = this.target.getTarget();\n            if (true) {\n                return target.then(function (output) {\n                    _this5.options.logger.log('Render completed');\n                    return output;\n                });\n            }\n            return target;\n        }\n    }]);\n\n    return Renderer;\n}();\n\nexports.default = Renderer;\n\n\nvar splitDescendants = function splitDescendants(stack) {\n    var inlineLevel = [];\n    var nonInlineLevel = [];\n\n    var length = stack.children.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.children[i];\n        if (child.isInlineLevel()) {\n            inlineLevel.push(child);\n        } else {\n            nonInlineLevel.push(child);\n        }\n    }\n    return [inlineLevel, nonInlineLevel];\n};\n\nvar splitStackingContexts = function splitStackingContexts(stack) {\n    var negativeZIndex = [];\n    var zeroOrAutoZIndexOrTransformedOrOpacity = [];\n    var positiveZIndex = [];\n    var nonPositionedFloats = [];\n    var nonPositionedInlineLevel = [];\n    var length = stack.contexts.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.contexts[i];\n        if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {\n            if (child.container.style.zIndex.order < 0) {\n                negativeZIndex.push(child);\n            } else if (child.container.style.zIndex.order > 0) {\n                positiveZIndex.push(child);\n            } else {\n                zeroOrAutoZIndexOrTransformedOrOpacity.push(child);\n            }\n        } else {\n            if (child.container.isFloating()) {\n                nonPositionedFloats.push(child);\n            } else {\n                nonPositionedInlineLevel.push(child);\n            }\n        }\n    }\n    return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];\n};\n\nvar sortByZIndex = function sortByZIndex(a, b) {\n    if (a.container.style.zIndex.order > b.container.style.zIndex.order) {\n        return 1;\n    } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {\n        return -1;\n    }\n\n    return a.container.index > b.container.index ? 1 : -1;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1JlbmRlcmVyLmpzP2Y2OGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQsa0NBQWtDLGlDQUFpQyxlQUFlLGVBQWUsZ0JBQWdCLG9CQUFvQixNQUFNLDBDQUEwQywrQkFBK0IsYUFBYSxxQkFBcUIsbUNBQW1DLEVBQUUsRUFBRSxjQUFjLFdBQVcsVUFBVSxFQUFFLFVBQVUsTUFBTSx5Q0FBeUMsRUFBRSxVQUFVLGtCQUFrQixFQUFFLEVBQUUsYUFBYSxFQUFFLDJCQUEyQiwwQkFBMEIsWUFBWSxFQUFFLDJDQUEyQyw4QkFBOEIsRUFBRSxPQUFPLDZFQUE2RSxFQUFFLEdBQUcsRUFBRTs7QUFFcnBCLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQjs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0YsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixZQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFlBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6Ijk4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL0JvdW5kcycpO1xuXG52YXIgX0ZvbnQgPSByZXF1aXJlKCcuL0ZvbnQnKTtcblxudmFyIF9HcmFkaWVudCA9IHJlcXVpcmUoJy4vR3JhZGllbnQnKTtcblxudmFyIF9UZXh0Q29udGFpbmVyID0gcmVxdWlyZSgnLi9UZXh0Q29udGFpbmVyJyk7XG5cbnZhciBfVGV4dENvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0Q29udGFpbmVyKTtcblxudmFyIF9iYWNrZ3JvdW5kID0gcmVxdWlyZSgnLi9wYXJzaW5nL2JhY2tncm91bmQnKTtcblxudmFyIF9ib3JkZXIgPSByZXF1aXJlKCcuL3BhcnNpbmcvYm9yZGVyJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJlcih0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGFyZ2V0LnJlbmRlcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmVuZGVyZXIsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlck5vZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyTm9kZShjb250YWluZXIpIHtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck5vZGVCYWNrZ3JvdW5kQW5kQm9yZGVycyhjb250YWluZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTm9kZUNvbnRlbnQoY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyTm9kZUNvbnRlbnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyTm9kZUNvbnRlbnQoY29udGFpbmVyKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBfVGV4dENvbnRhaW5lcjIuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IGNoaWxkLnBhcmVudC5zdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YXJnZXQucmVuZGVyVGV4dE5vZGUoY2hpbGQuYm91bmRzLCBzdHlsZS5jb2xvciwgc3R5bGUuZm9udCwgc3R5bGUudGV4dERlY29yYXRpb24sIHN0eWxlLnRleHRTaGFkb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YXJnZXQuZHJhd1NoYXBlKGNoaWxkLCBjb250YWluZXIuc3R5bGUuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaW1hZ2UgPSBfdGhpcy5vcHRpb25zLmltYWdlU3RvcmUuZ2V0KGNvbnRhaW5lci5pbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50Qm94ID0gKDAsIF9Cb3VuZHMuY2FsY3VsYXRlQ29udGVudEJveCkoY29udGFpbmVyLmJvdW5kcywgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcsIGNvbnRhaW5lci5zdHlsZS5ib3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF93aWR0aCA9IHR5cGVvZiBfaW1hZ2Uud2lkdGggPT09ICdudW1iZXInICYmIF9pbWFnZS53aWR0aCA+IDAgPyBfaW1hZ2Uud2lkdGggOiBjb250ZW50Qm94LndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9oZWlnaHQgPSB0eXBlb2YgX2ltYWdlLmhlaWdodCA9PT0gJ251bWJlcicgJiYgX2ltYWdlLmhlaWdodCA+IDAgPyBfaW1hZ2UuaGVpZ2h0IDogY29udGVudEJveC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3dpZHRoID4gMCAmJiBfaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhcmdldC5jbGlwKFsoMCwgX0JvdW5kcy5jYWxjdWxhdGVQYWRkaW5nQm94UGF0aCkoY29udGFpbmVyLmN1cnZlZEJvdW5kcyldLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhcmdldC5kcmF3SW1hZ2UoX2ltYWdlLCBuZXcgX0JvdW5kcy5Cb3VuZHMoMCwgMCwgX3dpZHRoLCBfaGVpZ2h0KSwgY29udGVudEJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHBhdGhzID0gY29udGFpbmVyLmdldENsaXBQYXRocygpO1xuICAgICAgICAgICAgaWYgKHBhdGhzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmNsaXAocGF0aHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyTm9kZUJhY2tncm91bmRBbmRCb3JkZXJzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck5vZGVCYWNrZ3JvdW5kQW5kQm9yZGVycyhjb250YWluZXIpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgSEFTX0JBQ0tHUk9VTkQgPSAhY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmQuYmFja2dyb3VuZENvbG9yLmlzVHJhbnNwYXJlbnQoKSB8fCBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZC5iYWNrZ3JvdW5kSW1hZ2UubGVuZ3RoO1xuXG4gICAgICAgICAgICB2YXIgaGFzUmVuZGVyYWJsZUJvcmRlcnMgPSBjb250YWluZXIuc3R5bGUuYm9yZGVyLnNvbWUoZnVuY3Rpb24gKGJvcmRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBib3JkZXIuYm9yZGVyU3R5bGUgIT09IF9ib3JkZXIuQk9SREVSX1NUWUxFLk5PTkUgJiYgIWJvcmRlci5ib3JkZXJDb2xvci5pc1RyYW5zcGFyZW50KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmRQYWludGluZ0FyZWEgPSAoMCwgX2JhY2tncm91bmQuY2FsY3VsYXRlQmFja2dyb3VuZ1BhaW50aW5nQXJlYSkoY29udGFpbmVyLmN1cnZlZEJvdW5kcywgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmQuYmFja2dyb3VuZENsaXApO1xuXG4gICAgICAgICAgICAgICAgaWYgKEhBU19CQUNLR1JPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi50YXJnZXQuY2xpcChbYmFja2dyb3VuZFBhaW50aW5nQXJlYV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmQuYmFja2dyb3VuZENvbG9yLmlzVHJhbnNwYXJlbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi50YXJnZXQuZmlsbChjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZC5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVuZGVyQmFja2dyb3VuZEltYWdlKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3JkZXIuZm9yRWFjaChmdW5jdGlvbiAoYm9yZGVyLCBzaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib3JkZXIuYm9yZGVyU3R5bGUgIT09IF9ib3JkZXIuQk9SREVSX1NUWUxFLk5PTkUgJiYgIWJvcmRlci5ib3JkZXJDb2xvci5pc1RyYW5zcGFyZW50KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZW5kZXJCb3JkZXIoYm9yZGVyLCBzaWRlLCBjb250YWluZXIuY3VydmVkQm91bmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKEhBU19CQUNLR1JPVU5EIHx8IGhhc1JlbmRlcmFibGVCb3JkZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGhzID0gY29udGFpbmVyLnBhcmVudCA/IGNvbnRhaW5lci5wYXJlbnQuZ2V0Q2xpcFBhdGhzKCkgOiBbXTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmNsaXAocGF0aHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyQmFja2dyb3VuZEltYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckJhY2tncm91bmRJbWFnZShjb250YWluZXIpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZC5iYWNrZ3JvdW5kSW1hZ2Uuc2xpY2UoMCkucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKGJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2Uuc291cmNlLm1ldGhvZCA9PT0gJ3VybCcgJiYgYmFja2dyb3VuZEltYWdlLnNvdXJjZS5hcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMucmVuZGVyQmFja2dyb3VuZFJlcGVhdChjb250YWluZXIsIGJhY2tncm91bmRJbWFnZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvZ3JhZGllbnQvaS50ZXN0KGJhY2tncm91bmRJbWFnZS5zb3VyY2UubWV0aG9kKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMucmVuZGVyQmFja2dyb3VuZEdyYWRpZW50KGNvbnRhaW5lciwgYmFja2dyb3VuZEltYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyQmFja2dyb3VuZFJlcGVhdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJCYWNrZ3JvdW5kUmVwZWF0KGNvbnRhaW5lciwgYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgdmFyIGltYWdlID0gdGhpcy5vcHRpb25zLmltYWdlU3RvcmUuZ2V0KGJhY2tncm91bmQuc291cmNlLmFyZ3NbMF0pO1xuICAgICAgICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEgPSAoMCwgX2JhY2tncm91bmQuY2FsY3VsYXRlQmFja2dyb3VuZ1Bvc2l0aW9uaW5nQXJlYSkoY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmQuYmFja2dyb3VuZE9yaWdpbiwgY29udGFpbmVyLmJvdW5kcywgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcsIGNvbnRhaW5lci5zdHlsZS5ib3JkZXIpO1xuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2VTaXplID0gKDAsIF9iYWNrZ3JvdW5kLmNhbGN1bGF0ZUJhY2tncm91bmRTaXplKShiYWNrZ3JvdW5kLCBpbWFnZSwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSk7XG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gKDAsIF9iYWNrZ3JvdW5kLmNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbikoYmFja2dyb3VuZC5wb3NpdGlvbiwgYmFja2dyb3VuZEltYWdlU2l6ZSwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSk7XG4gICAgICAgICAgICAgICAgdmFyIF9wYXRoID0gKDAsIF9iYWNrZ3JvdW5kLmNhbGN1bGF0ZUJhY2tncm91bmRSZXBlYXRQYXRoKShiYWNrZ3JvdW5kLCBwb3NpdGlvbiwgYmFja2dyb3VuZEltYWdlU2l6ZSwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSwgY29udGFpbmVyLmJvdW5kcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgX29mZnNldFggPSBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHBvc2l0aW9uLngpO1xuICAgICAgICAgICAgICAgIHZhciBfb2Zmc2V0WSA9IE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyBwb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5yZW5kZXJSZXBlYXQoX3BhdGgsIGltYWdlLCBiYWNrZ3JvdW5kSW1hZ2VTaXplLCBfb2Zmc2V0WCwgX29mZnNldFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXJCYWNrZ3JvdW5kR3JhZGllbnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyQmFja2dyb3VuZEdyYWRpZW50KGNvbnRhaW5lciwgYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgdmFyIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEgPSAoMCwgX2JhY2tncm91bmQuY2FsY3VsYXRlQmFja2dyb3VuZ1Bvc2l0aW9uaW5nQXJlYSkoY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmQuYmFja2dyb3VuZE9yaWdpbiwgY29udGFpbmVyLmJvdW5kcywgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcsIGNvbnRhaW5lci5zdHlsZS5ib3JkZXIpO1xuICAgICAgICAgICAgdmFyIGJhY2tncm91bmRJbWFnZVNpemUgPSAoMCwgX2JhY2tncm91bmQuY2FsY3VsYXRlR3JhZGllbnRCYWNrZ3JvdW5kU2l6ZSkoYmFja2dyb3VuZCwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSk7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSAoMCwgX2JhY2tncm91bmQuY2FsY3VsYXRlQmFja2dyb3VuZFBvc2l0aW9uKShiYWNrZ3JvdW5kLnBvc2l0aW9uLCBiYWNrZ3JvdW5kSW1hZ2VTaXplLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhKTtcbiAgICAgICAgICAgIHZhciBncmFkaWVudEJvdW5kcyA9IG5ldyBfQm91bmRzLkJvdW5kcyhNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHBvc2l0aW9uLngpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb24ueSksIGJhY2tncm91bmRJbWFnZVNpemUud2lkdGgsIGJhY2tncm91bmRJbWFnZVNpemUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdmFyIGdyYWRpZW50ID0gKDAsIF9HcmFkaWVudC5wYXJzZUdyYWRpZW50KShjb250YWluZXIsIGJhY2tncm91bmQuc291cmNlLCBncmFkaWVudEJvdW5kcyk7XG4gICAgICAgICAgICBpZiAoZ3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyYWRpZW50LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBfR3JhZGllbnQuR1JBRElFTlRfVFlQRS5MSU5FQVJfR1JBRElFTlQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5yZW5kZXJMaW5lYXJHcmFkaWVudChncmFkaWVudEJvdW5kcywgZ3JhZGllbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgX0dyYWRpZW50LkdSQURJRU5UX1RZUEUuUkFESUFMX0dSQURJRU5UOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQucmVuZGVyUmFkaWFsR3JhZGllbnQoZ3JhZGllbnRCb3VuZHMsIGdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyQm9yZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckJvcmRlcihib3JkZXIsIHNpZGUsIGN1cnZlUG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5kcmF3U2hhcGUoKDAsIF9Cb3VuZHMucGFyc2VQYXRoRm9yQm9yZGVyKShjdXJ2ZVBvaW50cywgc2lkZSksIGJvcmRlci5ib3JkZXJDb2xvcik7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlclN0YWNrJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclN0YWNrKHN0YWNrKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHN0YWNrLmNvbnRhaW5lci5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgIHZhciBfb3BhY2l0eSA9IHN0YWNrLmdldE9wYWNpdHkoKTtcbiAgICAgICAgICAgICAgICBpZiAoX29wYWNpdHkgIT09IHRoaXMuX29wYWNpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuc2V0T3BhY2l0eShzdGFjay5nZXRPcGFjaXR5KCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcGFjaXR5ID0gX29wYWNpdHk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIF90cmFuc2Zvcm0gPSBzdGFjay5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGlmIChfdHJhbnNmb3JtICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnRyYW5zZm9ybShzdGFjay5jb250YWluZXIuYm91bmRzLmxlZnQgKyBfdHJhbnNmb3JtLnRyYW5zZm9ybU9yaWdpblswXS52YWx1ZSwgc3RhY2suY29udGFpbmVyLmJvdW5kcy50b3AgKyBfdHJhbnNmb3JtLnRyYW5zZm9ybU9yaWdpblsxXS52YWx1ZSwgX3RyYW5zZm9ybS50cmFuc2Zvcm0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQucmVuZGVyU3RhY2tDb250ZW50KHN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTdGFja0NvbnRlbnQoc3RhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyU3RhY2tDb250ZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclN0YWNrQ29udGVudChzdGFjaykge1xuICAgICAgICAgICAgdmFyIF9zcGxpdFN0YWNraW5nQ29udGV4dCA9IHNwbGl0U3RhY2tpbmdDb250ZXh0cyhzdGFjayksXG4gICAgICAgICAgICAgICAgX3NwbGl0U3RhY2tpbmdDb250ZXh0MiA9IF9zbGljZWRUb0FycmF5KF9zcGxpdFN0YWNraW5nQ29udGV4dCwgNSksXG4gICAgICAgICAgICAgICAgbmVnYXRpdmVaSW5kZXggPSBfc3BsaXRTdGFja2luZ0NvbnRleHQyWzBdLFxuICAgICAgICAgICAgICAgIHplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5ID0gX3NwbGl0U3RhY2tpbmdDb250ZXh0MlsxXSxcbiAgICAgICAgICAgICAgICBwb3NpdGl2ZVpJbmRleCA9IF9zcGxpdFN0YWNraW5nQ29udGV4dDJbMl0sXG4gICAgICAgICAgICAgICAgbm9uUG9zaXRpb25lZEZsb2F0cyA9IF9zcGxpdFN0YWNraW5nQ29udGV4dDJbM10sXG4gICAgICAgICAgICAgICAgbm9uUG9zaXRpb25lZElubGluZUxldmVsID0gX3NwbGl0U3RhY2tpbmdDb250ZXh0Mls0XTtcblxuICAgICAgICAgICAgdmFyIF9zcGxpdERlc2NlbmRhbnRzID0gc3BsaXREZXNjZW5kYW50cyhzdGFjayksXG4gICAgICAgICAgICAgICAgX3NwbGl0RGVzY2VuZGFudHMyID0gX3NsaWNlZFRvQXJyYXkoX3NwbGl0RGVzY2VuZGFudHMsIDIpLFxuICAgICAgICAgICAgICAgIGlubGluZUxldmVsID0gX3NwbGl0RGVzY2VuZGFudHMyWzBdLFxuICAgICAgICAgICAgICAgIG5vbklubGluZUxldmVsID0gX3NwbGl0RGVzY2VuZGFudHMyWzFdO1xuXG4gICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXBvc2l0aW9uLTMvI3BhaW50aW5nLW9yZGVyXG4gICAgICAgICAgICAvLyAxLiB0aGUgYmFja2dyb3VuZCBhbmQgYm9yZGVycyBvZiB0aGUgZWxlbWVudCBmb3JtaW5nIHRoZSBzdGFja2luZyBjb250ZXh0LlxuXG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyTm9kZUJhY2tncm91bmRBbmRCb3JkZXJzKHN0YWNrLmNvbnRhaW5lcik7XG4gICAgICAgICAgICAvLyAyLiB0aGUgY2hpbGQgc3RhY2tpbmcgY29udGV4dHMgd2l0aCBuZWdhdGl2ZSBzdGFjayBsZXZlbHMgKG1vc3QgbmVnYXRpdmUgZmlyc3QpLlxuICAgICAgICAgICAgbmVnYXRpdmVaSW5kZXguc29ydChzb3J0QnlaSW5kZXgpLmZvckVhY2godGhpcy5yZW5kZXJTdGFjaywgdGhpcyk7XG4gICAgICAgICAgICAvLyAzLiBGb3IgYWxsIGl0cyBpbi1mbG93LCBub24tcG9zaXRpb25lZCwgYmxvY2stbGV2ZWwgZGVzY2VuZGFudHMgaW4gdHJlZSBvcmRlcjpcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTm9kZUNvbnRlbnQoc3RhY2suY29udGFpbmVyKTtcbiAgICAgICAgICAgIG5vbklubGluZUxldmVsLmZvckVhY2godGhpcy5yZW5kZXJOb2RlLCB0aGlzKTtcbiAgICAgICAgICAgIC8vIDQuIEFsbCBub24tcG9zaXRpb25lZCBmbG9hdGluZyBkZXNjZW5kYW50cywgaW4gdHJlZSBvcmRlci4gRm9yIGVhY2ggb25lIG9mIHRoZXNlLFxuICAgICAgICAgICAgLy8gdHJlYXQgdGhlIGVsZW1lbnQgYXMgaWYgaXQgY3JlYXRlZCBhIG5ldyBzdGFja2luZyBjb250ZXh0LCBidXQgYW55IHBvc2l0aW9uZWQgZGVzY2VuZGFudHMgYW5kIGRlc2NlbmRhbnRzXG4gICAgICAgICAgICAvLyB3aGljaCBhY3R1YWxseSBjcmVhdGUgYSBuZXcgc3RhY2tpbmcgY29udGV4dCBzaG91bGQgYmUgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBwYXJlbnQgc3RhY2tpbmcgY29udGV4dCxcbiAgICAgICAgICAgIC8vIG5vdCB0aGlzIG5ldyBvbmUuXG4gICAgICAgICAgICBub25Qb3NpdGlvbmVkRmxvYXRzLmZvckVhY2godGhpcy5yZW5kZXJTdGFjaywgdGhpcyk7XG4gICAgICAgICAgICAvLyA1LiB0aGUgaW4tZmxvdywgaW5saW5lLWxldmVsLCBub24tcG9zaXRpb25lZCBkZXNjZW5kYW50cywgaW5jbHVkaW5nIGlubGluZSB0YWJsZXMgYW5kIGlubGluZSBibG9ja3MuXG4gICAgICAgICAgICBub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWwuZm9yRWFjaCh0aGlzLnJlbmRlclN0YWNrLCB0aGlzKTtcbiAgICAgICAgICAgIGlubGluZUxldmVsLmZvckVhY2godGhpcy5yZW5kZXJOb2RlLCB0aGlzKTtcbiAgICAgICAgICAgIC8vIDYuIEFsbCBwb3NpdGlvbmVkLCBvcGFjaXR5IG9yIHRyYW5zZm9ybSBkZXNjZW5kYW50cywgaW4gdHJlZSBvcmRlciB0aGF0IGZhbGwgaW50byB0aGUgZm9sbG93aW5nIGNhdGVnb3JpZXM6XG4gICAgICAgICAgICAvLyAgQWxsIHBvc2l0aW9uZWQgZGVzY2VuZGFudHMgd2l0aCAnei1pbmRleDogYXV0bycgb3IgJ3otaW5kZXg6IDAnLCBpbiB0cmVlIG9yZGVyLlxuICAgICAgICAgICAgLy8gIEZvciB0aG9zZSB3aXRoICd6LWluZGV4OiBhdXRvJywgdHJlYXQgdGhlIGVsZW1lbnQgYXMgaWYgaXQgY3JlYXRlZCBhIG5ldyBzdGFja2luZyBjb250ZXh0LFxuICAgICAgICAgICAgLy8gIGJ1dCBhbnkgcG9zaXRpb25lZCBkZXNjZW5kYW50cyBhbmQgZGVzY2VuZGFudHMgd2hpY2ggYWN0dWFsbHkgY3JlYXRlIGEgbmV3IHN0YWNraW5nIGNvbnRleHQgc2hvdWxkIGJlXG4gICAgICAgICAgICAvLyAgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBwYXJlbnQgc3RhY2tpbmcgY29udGV4dCwgbm90IHRoaXMgbmV3IG9uZS4gRm9yIHRob3NlIHdpdGggJ3otaW5kZXg6IDAnLFxuICAgICAgICAgICAgLy8gIHRyZWF0IHRoZSBzdGFja2luZyBjb250ZXh0IGdlbmVyYXRlZCBhdG9taWNhbGx5LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICBBbGwgb3BhY2l0eSBkZXNjZW5kYW50cyB3aXRoIG9wYWNpdHkgbGVzcyB0aGFuIDFcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgQWxsIHRyYW5zZm9ybSBkZXNjZW5kYW50cyB3aXRoIHRyYW5zZm9ybSBvdGhlciB0aGFuIG5vbmVcbiAgICAgICAgICAgIHplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5LmZvckVhY2godGhpcy5yZW5kZXJTdGFjaywgdGhpcyk7XG4gICAgICAgICAgICAvLyA3LiBTdGFja2luZyBjb250ZXh0cyBmb3JtZWQgYnkgcG9zaXRpb25lZCBkZXNjZW5kYW50cyB3aXRoIHotaW5kaWNlcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSBpbiB6LWluZGV4XG4gICAgICAgICAgICAvLyBvcmRlciAoc21hbGxlc3QgZmlyc3QpIHRoZW4gdHJlZSBvcmRlci5cbiAgICAgICAgICAgIHBvc2l0aXZlWkluZGV4LnNvcnQoc29ydEJ5WkluZGV4KS5mb3JFYWNoKHRoaXMucmVuZGVyU3RhY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKHN0YWNrKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5yZWN0YW5nbGUodGhpcy5vcHRpb25zLngsIHRoaXMub3B0aW9ucy55LCB0aGlzLm9wdGlvbnMud2lkdGgsIHRoaXMub3B0aW9ucy5oZWlnaHQsIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJTdGFjayhzdGFjayk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXQuZ2V0VGFyZ2V0KCk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQudGhlbihmdW5jdGlvbiAob3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNS5vcHRpb25zLmxvZ2dlci5sb2coJ1JlbmRlciBjb21wbGV0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlbmRlcmVyO1xuXG5cbnZhciBzcGxpdERlc2NlbmRhbnRzID0gZnVuY3Rpb24gc3BsaXREZXNjZW5kYW50cyhzdGFjaykge1xuICAgIHZhciBpbmxpbmVMZXZlbCA9IFtdO1xuICAgIHZhciBub25JbmxpbmVMZXZlbCA9IFtdO1xuXG4gICAgdmFyIGxlbmd0aCA9IHN0YWNrLmNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHN0YWNrLmNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoY2hpbGQuaXNJbmxpbmVMZXZlbCgpKSB7XG4gICAgICAgICAgICBpbmxpbmVMZXZlbC5wdXNoKGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vbklubGluZUxldmVsLnB1c2goY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbaW5saW5lTGV2ZWwsIG5vbklubGluZUxldmVsXTtcbn07XG5cbnZhciBzcGxpdFN0YWNraW5nQ29udGV4dHMgPSBmdW5jdGlvbiBzcGxpdFN0YWNraW5nQ29udGV4dHMoc3RhY2spIHtcbiAgICB2YXIgbmVnYXRpdmVaSW5kZXggPSBbXTtcbiAgICB2YXIgemVyb09yQXV0b1pJbmRleE9yVHJhbnNmb3JtZWRPck9wYWNpdHkgPSBbXTtcbiAgICB2YXIgcG9zaXRpdmVaSW5kZXggPSBbXTtcbiAgICB2YXIgbm9uUG9zaXRpb25lZEZsb2F0cyA9IFtdO1xuICAgIHZhciBub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWwgPSBbXTtcbiAgICB2YXIgbGVuZ3RoID0gc3RhY2suY29udGV4dHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gc3RhY2suY29udGV4dHNbaV07XG4gICAgICAgIGlmIChjaGlsZC5jb250YWluZXIuaXNQb3NpdGlvbmVkKCkgfHwgY2hpbGQuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPCAxIHx8IGNoaWxkLmNvbnRhaW5lci5pc1RyYW5zZm9ybWVkKCkpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5jb250YWluZXIuc3R5bGUuekluZGV4Lm9yZGVyIDwgMCkge1xuICAgICAgICAgICAgICAgIG5lZ2F0aXZlWkluZGV4LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC5jb250YWluZXIuc3R5bGUuekluZGV4Lm9yZGVyID4gMCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aXZlWkluZGV4LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6ZXJvT3JBdXRvWkluZGV4T3JUcmFuc2Zvcm1lZE9yT3BhY2l0eS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5jb250YWluZXIuaXNGbG9hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgbm9uUG9zaXRpb25lZEZsb2F0cy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9uUG9zaXRpb25lZElubGluZUxldmVsLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbbmVnYXRpdmVaSW5kZXgsIHplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5LCBwb3NpdGl2ZVpJbmRleCwgbm9uUG9zaXRpb25lZEZsb2F0cywgbm9uUG9zaXRpb25lZElubGluZUxldmVsXTtcbn07XG5cbnZhciBzb3J0QnlaSW5kZXggPSBmdW5jdGlvbiBzb3J0QnlaSW5kZXgoYSwgYikge1xuICAgIGlmIChhLmNvbnRhaW5lci5zdHlsZS56SW5kZXgub3JkZXIgPiBiLmNvbnRhaW5lci5zdHlsZS56SW5kZXgub3JkZXIpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChhLmNvbnRhaW5lci5zdHlsZS56SW5kZXgub3JkZXIgPCBiLmNvbnRhaW5lci5zdHlsZS56SW5kZXgub3JkZXIpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiBhLmNvbnRhaW5lci5pbmRleCA+IGIuY29udGFpbmVyLmluZGV4ID8gMSA6IC0xO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vUmVuZGVyZXIuanNcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.FontMetrics = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(59);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SAMPLE_TEXT = 'Hidden Text';\n\nvar FontMetrics = exports.FontMetrics = function () {\n    function FontMetrics(document) {\n        _classCallCheck(this, FontMetrics);\n\n        this._data = {};\n        this._document = document;\n    }\n\n    _createClass(FontMetrics, [{\n        key: '_parseMetrics',\n        value: function _parseMetrics(font) {\n            var container = this._document.createElement('div');\n            var img = this._document.createElement('img');\n            var span = this._document.createElement('span');\n\n            var body = this._document.body;\n            if (!body) {\n                throw new Error( true ? 'No document found for font metrics' : '');\n            }\n\n            container.style.visibility = 'hidden';\n            container.style.fontFamily = font.fontFamily;\n            container.style.fontSize = font.fontSize;\n            container.style.margin = '0';\n            container.style.padding = '0';\n\n            body.appendChild(container);\n\n            img.src = _Util.SMALL_IMAGE;\n            img.width = 1;\n            img.height = 1;\n\n            img.style.margin = '0';\n            img.style.padding = '0';\n            img.style.verticalAlign = 'baseline';\n\n            span.style.fontFamily = font.fontFamily;\n            span.style.fontSize = font.fontSize;\n            span.style.margin = '0';\n            span.style.padding = '0';\n\n            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n            container.appendChild(span);\n            container.appendChild(img);\n            var baseline = img.offsetTop - span.offsetTop + 2;\n\n            container.removeChild(span);\n            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n\n            container.style.lineHeight = 'normal';\n            img.style.verticalAlign = 'super';\n\n            var middle = img.offsetTop - container.offsetTop + 2;\n\n            body.removeChild(container);\n\n            return { baseline: baseline, middle: middle };\n        }\n    }, {\n        key: 'getMetrics',\n        value: function getMetrics(font) {\n            var key = font.fontFamily + ' ' + font.fontSize;\n            if (this._data[key] === undefined) {\n                this._data[key] = this._parseMetrics(font);\n            }\n\n            return this._data[key];\n        }\n    }]);\n\n    return FontMetrics;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0ZvbnQuanM/MWYzOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQjs7QUFFQSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2Sjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLG9CQUFvQjtBQUNwQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxDQUFDIiwiZmlsZSI6Ijk5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkZvbnRNZXRyaWNzID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1V0aWwgPSByZXF1aXJlKCcuL1V0aWwnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNBTVBMRV9URVhUID0gJ0hpZGRlbiBUZXh0JztcblxudmFyIEZvbnRNZXRyaWNzID0gZXhwb3J0cy5Gb250TWV0cmljcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGb250TWV0cmljcyhkb2N1bWVudCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9udE1ldHJpY3MpO1xuXG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5fZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRm9udE1ldHJpY3MsIFt7XG4gICAgICAgIGtleTogJ19wYXJzZU1ldHJpY3MnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3BhcnNlTWV0cmljcyhmb250KSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB2YXIgaW1nID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICB2YXIgc3BhbiA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAgICAgICAgICAgdmFyIGJvZHkgPSB0aGlzLl9kb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAnTm8gZG9jdW1lbnQgZm91bmQgZm9yIGZvbnQgbWV0cmljcycgOiAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuZm9udEZhbWlseSA9IGZvbnQuZm9udEZhbWlseTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IGZvbnQuZm9udFNpemU7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG5cbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICAgICAgaW1nLnNyYyA9IF9VdGlsLlNNQUxMX0lNQUdFO1xuICAgICAgICAgICAgaW1nLndpZHRoID0gMTtcbiAgICAgICAgICAgIGltZy5oZWlnaHQgPSAxO1xuXG4gICAgICAgICAgICBpbWcuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgICAgaW1nLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdiYXNlbGluZSc7XG5cbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udEZhbWlseSA9IGZvbnQuZm9udEZhbWlseTtcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBmb250LmZvbnRTaXplO1xuICAgICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgICAgICBzcGFuLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG5cbiAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQodGhpcy5fZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU0FNUExFX1RFWFQpKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAgICAgdmFyIGJhc2VsaW5lID0gaW1nLm9mZnNldFRvcCAtIHNwYW4ub2Zmc2V0VG9wICsgMjtcblxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHNwYW4pO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2RvY3VtZW50LmNyZWF0ZVRleHROb2RlKFNBTVBMRV9URVhUKSk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gJ25vcm1hbCc7XG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdzdXBlcic7XG5cbiAgICAgICAgICAgIHZhciBtaWRkbGUgPSBpbWcub2Zmc2V0VG9wIC0gY29udGFpbmVyLm9mZnNldFRvcCArIDI7XG5cbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIHsgYmFzZWxpbmU6IGJhc2VsaW5lLCBtaWRkbGU6IG1pZGRsZSB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNZXRyaWNzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1ldHJpY3MoZm9udCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGZvbnQuZm9udEZhbWlseSArICcgJyArIGZvbnQuZm9udFNpemU7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSB0aGlzLl9wYXJzZU1ldHJpY3MoZm9udCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhW2tleV07XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRm9udE1ldHJpY3M7XG59KCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0ZvbnQuanNcbi8vIG1vZHVsZSBpZCA9IDk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.transformWebkitRadialGradientArgs = exports.parseGradient = exports.RadialGradient = exports.LinearGradient = exports.RADIAL_GRADIENT_SHAPE = exports.GRADIENT_TYPE = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _NodeContainer = __webpack_require__(58);\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _Angle = __webpack_require__(101);\n\nvar _Color = __webpack_require__(53);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Length = __webpack_require__(61);\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nvar _Util = __webpack_require__(59);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SIDE_OR_CORNER = /^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i;\nvar PERCENTAGE_ANGLES = /^([+-]?\\d*\\.?\\d+)% ([+-]?\\d*\\.?\\d+)%$/i;\nvar ENDS_WITH_LENGTH = /(px)|%|( 0)$/i;\nvar FROM_TO_COLORSTOP = /^(from|to|color-stop)\\((?:([\\d.]+)(%)?,\\s*)?(.+?)\\)$/i;\nvar RADIAL_SHAPE_DEFINITION = /^\\s*(circle|ellipse)?\\s*((?:([\\d.]+)(px|r?em|%)\\s*(?:([\\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\\s*(?:at\\s*(?:(left|center|right)|([\\d.]+)(px|r?em|%))\\s+(?:(top|center|bottom)|([\\d.]+)(px|r?em|%)))?(?:\\s|$)/i;\n\nvar GRADIENT_TYPE = exports.GRADIENT_TYPE = {\n    LINEAR_GRADIENT: 0,\n    RADIAL_GRADIENT: 1\n};\n\nvar RADIAL_GRADIENT_SHAPE = exports.RADIAL_GRADIENT_SHAPE = {\n    CIRCLE: 0,\n    ELLIPSE: 1\n};\n\nvar LENGTH_FOR_POSITION = {\n    left: new _Length2.default('0%'),\n    top: new _Length2.default('0%'),\n    center: new _Length2.default('50%'),\n    right: new _Length2.default('100%'),\n    bottom: new _Length2.default('100%')\n};\n\nvar LinearGradient = exports.LinearGradient = function LinearGradient(colorStops, direction) {\n    _classCallCheck(this, LinearGradient);\n\n    this.type = GRADIENT_TYPE.LINEAR_GRADIENT;\n    this.colorStops = colorStops;\n    this.direction = direction;\n};\n\nvar RadialGradient = exports.RadialGradient = function RadialGradient(colorStops, shape, center, radius) {\n    _classCallCheck(this, RadialGradient);\n\n    this.type = GRADIENT_TYPE.RADIAL_GRADIENT;\n    this.colorStops = colorStops;\n    this.shape = shape;\n    this.center = center;\n    this.radius = radius;\n};\n\nvar parseGradient = exports.parseGradient = function parseGradient(container, _ref, bounds) {\n    var args = _ref.args,\n        method = _ref.method,\n        prefix = _ref.prefix;\n\n    if (method === 'linear-gradient') {\n        return parseLinearGradient(args, bounds, !!prefix);\n    } else if (method === 'gradient' && args[0] === 'linear') {\n        // TODO handle correct angle\n        return parseLinearGradient(['to bottom'].concat(transformObsoleteColorStops(args.slice(3))), bounds, !!prefix);\n    } else if (method === 'radial-gradient') {\n        return parseRadialGradient(container, prefix === '-webkit-' ? transformWebkitRadialGradientArgs(args) : args, bounds);\n    } else if (method === 'gradient' && args[0] === 'radial') {\n        return parseRadialGradient(container, transformObsoleteColorStops(transformWebkitRadialGradientArgs(args.slice(1))), bounds);\n    }\n};\n\nvar parseColorStops = function parseColorStops(args, firstColorStopIndex, lineLength) {\n    var colorStops = [];\n\n    for (var i = firstColorStopIndex; i < args.length; i++) {\n        var value = args[i];\n        var HAS_LENGTH = ENDS_WITH_LENGTH.test(value);\n        var lastSpaceIndex = value.lastIndexOf(' ');\n        var _color = new _Color2.default(HAS_LENGTH ? value.substring(0, lastSpaceIndex) : value);\n        var _stop = HAS_LENGTH ? new _Length2.default(value.substring(lastSpaceIndex + 1)) : i === firstColorStopIndex ? new _Length2.default('0%') : i === args.length - 1 ? new _Length2.default('100%') : null;\n        colorStops.push({ color: _color, stop: _stop });\n    }\n\n    var absoluteValuedColorStops = colorStops.map(function (_ref2) {\n        var color = _ref2.color,\n            stop = _ref2.stop;\n\n        var absoluteStop = lineLength === 0 ? 0 : stop ? stop.getAbsoluteValue(lineLength) / lineLength : null;\n\n        return {\n            color: color,\n            // $FlowFixMe\n            stop: absoluteStop\n        };\n    });\n\n    var previousColorStop = absoluteValuedColorStops[0].stop;\n    for (var _i = 0; _i < absoluteValuedColorStops.length; _i++) {\n        if (previousColorStop !== null) {\n            var _stop2 = absoluteValuedColorStops[_i].stop;\n            if (_stop2 === null) {\n                var n = _i;\n                while (absoluteValuedColorStops[n].stop === null) {\n                    n++;\n                }\n                var steps = n - _i + 1;\n                var nextColorStep = absoluteValuedColorStops[n].stop;\n                var stepSize = (nextColorStep - previousColorStop) / steps;\n                for (; _i < n; _i++) {\n                    previousColorStop = absoluteValuedColorStops[_i].stop = previousColorStop + stepSize;\n                }\n            } else {\n                previousColorStop = _stop2;\n            }\n        }\n    }\n\n    return absoluteValuedColorStops;\n};\n\nvar parseLinearGradient = function parseLinearGradient(args, bounds, hasPrefix) {\n    var angle = (0, _Angle.parseAngle)(args[0]);\n    var HAS_SIDE_OR_CORNER = SIDE_OR_CORNER.test(args[0]);\n    var HAS_DIRECTION = HAS_SIDE_OR_CORNER || angle !== null || PERCENTAGE_ANGLES.test(args[0]);\n    var direction = HAS_DIRECTION ? angle !== null ? calculateGradientDirection(\n    // if there is a prefix, the 0 angle points due East (instead of North per W3C)\n    hasPrefix ? angle - Math.PI * 0.5 : angle, bounds) : HAS_SIDE_OR_CORNER ? parseSideOrCorner(args[0], bounds) : parsePercentageAngle(args[0], bounds) : calculateGradientDirection(Math.PI, bounds);\n    var firstColorStopIndex = HAS_DIRECTION ? 1 : 0;\n\n    // TODO: Fix some inaccuracy with color stops with px values\n    var lineLength = Math.min((0, _Util.distance)(Math.abs(direction.x0) + Math.abs(direction.x1), Math.abs(direction.y0) + Math.abs(direction.y1)), bounds.width * 2, bounds.height * 2);\n\n    return new LinearGradient(parseColorStops(args, firstColorStopIndex, lineLength), direction);\n};\n\nvar parseRadialGradient = function parseRadialGradient(container, args, bounds) {\n    var m = args[0].match(RADIAL_SHAPE_DEFINITION);\n    var shape = m && (m[1] === 'circle' || // explicit shape specification\n    m[3] !== undefined && m[5] === undefined) // only one radius coordinate\n    ? RADIAL_GRADIENT_SHAPE.CIRCLE : RADIAL_GRADIENT_SHAPE.ELLIPSE;\n    var radius = {};\n    var center = {};\n\n    if (m) {\n        // Radius\n        if (m[3] !== undefined) {\n            radius.x = (0, _Length.calculateLengthFromValueWithUnit)(container, m[3], m[4]).getAbsoluteValue(bounds.width);\n        }\n\n        if (m[5] !== undefined) {\n            radius.y = (0, _Length.calculateLengthFromValueWithUnit)(container, m[5], m[6]).getAbsoluteValue(bounds.height);\n        }\n\n        // Position\n        if (m[7]) {\n            center.x = LENGTH_FOR_POSITION[m[7].toLowerCase()];\n        } else if (m[8] !== undefined) {\n            center.x = (0, _Length.calculateLengthFromValueWithUnit)(container, m[8], m[9]);\n        }\n\n        if (m[10]) {\n            center.y = LENGTH_FOR_POSITION[m[10].toLowerCase()];\n        } else if (m[11] !== undefined) {\n            center.y = (0, _Length.calculateLengthFromValueWithUnit)(container, m[11], m[12]);\n        }\n    }\n\n    var gradientCenter = {\n        x: center.x === undefined ? bounds.width / 2 : center.x.getAbsoluteValue(bounds.width),\n        y: center.y === undefined ? bounds.height / 2 : center.y.getAbsoluteValue(bounds.height)\n    };\n    var gradientRadius = calculateRadius(m && m[2] || 'farthest-corner', shape, gradientCenter, radius, bounds);\n\n    return new RadialGradient(parseColorStops(args, m ? 1 : 0, Math.min(gradientRadius.x, gradientRadius.y)), shape, gradientCenter, gradientRadius);\n};\n\nvar calculateGradientDirection = function calculateGradientDirection(radian, bounds) {\n    var width = bounds.width;\n    var height = bounds.height;\n    var HALF_WIDTH = width * 0.5;\n    var HALF_HEIGHT = height * 0.5;\n    var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n    var HALF_LINE_LENGTH = lineLength / 2;\n\n    var x0 = HALF_WIDTH + Math.sin(radian) * HALF_LINE_LENGTH;\n    var y0 = HALF_HEIGHT - Math.cos(radian) * HALF_LINE_LENGTH;\n    var x1 = width - x0;\n    var y1 = height - y0;\n\n    return { x0: x0, x1: x1, y0: y0, y1: y1 };\n};\n\nvar parseTopRight = function parseTopRight(bounds) {\n    return Math.acos(bounds.width / 2 / ((0, _Util.distance)(bounds.width, bounds.height) / 2));\n};\n\nvar parseSideOrCorner = function parseSideOrCorner(side, bounds) {\n    switch (side) {\n        case 'bottom':\n        case 'to top':\n            return calculateGradientDirection(0, bounds);\n        case 'left':\n        case 'to right':\n            return calculateGradientDirection(Math.PI / 2, bounds);\n        case 'right':\n        case 'to left':\n            return calculateGradientDirection(3 * Math.PI / 2, bounds);\n        case 'top right':\n        case 'right top':\n        case 'to bottom left':\n        case 'to left bottom':\n            return calculateGradientDirection(Math.PI + parseTopRight(bounds), bounds);\n        case 'top left':\n        case 'left top':\n        case 'to bottom right':\n        case 'to right bottom':\n            return calculateGradientDirection(Math.PI - parseTopRight(bounds), bounds);\n        case 'bottom left':\n        case 'left bottom':\n        case 'to top right':\n        case 'to right top':\n            return calculateGradientDirection(parseTopRight(bounds), bounds);\n        case 'bottom right':\n        case 'right bottom':\n        case 'to top left':\n        case 'to left top':\n            return calculateGradientDirection(2 * Math.PI - parseTopRight(bounds), bounds);\n        case 'top':\n        case 'to bottom':\n        default:\n            return calculateGradientDirection(Math.PI, bounds);\n    }\n};\n\nvar parsePercentageAngle = function parsePercentageAngle(angle, bounds) {\n    var _angle$split$map = angle.split(' ').map(parseFloat),\n        _angle$split$map2 = _slicedToArray(_angle$split$map, 2),\n        left = _angle$split$map2[0],\n        top = _angle$split$map2[1];\n\n    var ratio = left / 100 * bounds.width / (top / 100 * bounds.height);\n\n    return calculateGradientDirection(Math.atan(isNaN(ratio) ? 1 : ratio) + Math.PI / 2, bounds);\n};\n\nvar findCorner = function findCorner(bounds, x, y, closest) {\n    var corners = [{ x: 0, y: 0 }, { x: 0, y: bounds.height }, { x: bounds.width, y: 0 }, { x: bounds.width, y: bounds.height }];\n\n    // $FlowFixMe\n    return corners.reduce(function (stat, corner) {\n        var d = (0, _Util.distance)(x - corner.x, y - corner.y);\n        if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n            return {\n                optimumCorner: corner,\n                optimumDistance: d\n            };\n        }\n\n        return stat;\n    }, {\n        optimumDistance: closest ? Infinity : -Infinity,\n        optimumCorner: null\n    }).optimumCorner;\n};\n\nvar calculateRadius = function calculateRadius(extent, shape, center, radius, bounds) {\n    var x = center.x;\n    var y = center.y;\n    var rx = 0;\n    var ry = 0;\n\n    switch (extent) {\n        case 'closest-side':\n            // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.min(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                rx = Math.min(Math.abs(x), Math.abs(x - bounds.width));\n                ry = Math.min(Math.abs(y), Math.abs(y - bounds.height));\n            }\n            break;\n\n        case 'closest-corner':\n            // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.min((0, _Util.distance)(x, y), (0, _Util.distance)(x, y - bounds.height), (0, _Util.distance)(x - bounds.width, y), (0, _Util.distance)(x - bounds.width, y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n                var c = Math.min(Math.abs(y), Math.abs(y - bounds.height)) / Math.min(Math.abs(x), Math.abs(x - bounds.width));\n                var corner = findCorner(bounds, x, y, true);\n                rx = (0, _Util.distance)(corner.x - x, (corner.y - y) / c);\n                ry = c * rx;\n            }\n            break;\n\n        case 'farthest-side':\n            // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.max(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                rx = Math.max(Math.abs(x), Math.abs(x - bounds.width));\n                ry = Math.max(Math.abs(y), Math.abs(y - bounds.height));\n            }\n            break;\n\n        case 'farthest-corner':\n            // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n            // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.max((0, _Util.distance)(x, y), (0, _Util.distance)(x, y - bounds.height), (0, _Util.distance)(x - bounds.width, y), (0, _Util.distance)(x - bounds.width, y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n                var _c = Math.max(Math.abs(y), Math.abs(y - bounds.height)) / Math.max(Math.abs(x), Math.abs(x - bounds.width));\n                var _corner = findCorner(bounds, x, y, false);\n                rx = (0, _Util.distance)(_corner.x - x, (_corner.y - y) / _c);\n                ry = _c * rx;\n            }\n            break;\n\n        default:\n            // pixel or percentage values\n            rx = radius.x || 0;\n            ry = radius.y !== undefined ? radius.y : rx;\n            break;\n    }\n\n    return {\n        x: rx,\n        y: ry\n    };\n};\n\nvar transformWebkitRadialGradientArgs = exports.transformWebkitRadialGradientArgs = function transformWebkitRadialGradientArgs(args) {\n    var shape = '';\n    var radius = '';\n    var extent = '';\n    var position = '';\n    var idx = 0;\n\n    var POSITION = /^(left|center|right|\\d+(?:px|r?em|%)?)(?:\\s+(top|center|bottom|\\d+(?:px|r?em|%)?))?$/i;\n    var SHAPE_AND_EXTENT = /^(circle|ellipse)?\\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i;\n    var RADIUS = /^\\d+(px|r?em|%)?(?:\\s+\\d+(px|r?em|%)?)?$/i;\n\n    var matchStartPosition = args[idx].match(POSITION);\n    if (matchStartPosition) {\n        idx++;\n    }\n\n    var matchShapeExtent = args[idx].match(SHAPE_AND_EXTENT);\n    if (matchShapeExtent) {\n        shape = matchShapeExtent[1] || '';\n        extent = matchShapeExtent[2] || '';\n        if (extent === 'contain') {\n            extent = 'closest-side';\n        } else if (extent === 'cover') {\n            extent = 'farthest-corner';\n        }\n        idx++;\n    }\n\n    var matchStartRadius = args[idx].match(RADIUS);\n    if (matchStartRadius) {\n        idx++;\n    }\n\n    var matchEndPosition = args[idx].match(POSITION);\n    if (matchEndPosition) {\n        idx++;\n    }\n\n    var matchEndRadius = args[idx].match(RADIUS);\n    if (matchEndRadius) {\n        idx++;\n    }\n\n    var matchPosition = matchEndPosition || matchStartPosition;\n    if (matchPosition && matchPosition[1]) {\n        position = matchPosition[1] + (/^\\d+$/.test(matchPosition[1]) ? 'px' : '');\n        if (matchPosition[2]) {\n            position += ' ' + matchPosition[2] + (/^\\d+$/.test(matchPosition[2]) ? 'px' : '');\n        }\n    }\n\n    var matchRadius = matchEndRadius || matchStartRadius;\n    if (matchRadius) {\n        radius = matchRadius[0];\n        if (!matchRadius[1]) {\n            radius += 'px';\n        }\n    }\n\n    if (position && !shape && !radius && !extent) {\n        radius = position;\n        position = '';\n    }\n\n    if (position) {\n        position = 'at ' + position;\n    }\n\n    return [[shape, extent, radius, position].filter(function (s) {\n        return !!s;\n    }).join(' ')].concat(args.slice(idx));\n};\n\nvar transformObsoleteColorStops = function transformObsoleteColorStops(args) {\n    return args.map(function (color) {\n        return color.match(FROM_TO_COLORSTOP);\n    })\n    // $FlowFixMe\n    .map(function (v, index) {\n        if (!v) {\n            return args[index];\n        }\n\n        switch (v[1]) {\n            case 'from':\n                return v[4] + ' 0%';\n            case 'to':\n                return v[4] + ' 100%';\n            case 'color-stop':\n                if (v[3] === '%') {\n                    return v[4] + ' ' + v[2];\n                }\n                return v[4] + ' ' + parseFloat(v[2]) * 100 + '%';\n        }\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0dyYWRpZW50LmpzPzExYTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEI7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUNBQXFDLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZCQUE2QjtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxvQkFBb0Isc0NBQXNDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixhQUFhLEdBQUcseUJBQXlCLEdBQUcsd0JBQXdCLEdBQUcsb0NBQW9DOztBQUUvSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsImZpbGUiOiIxMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudHJhbnNmb3JtV2Via2l0UmFkaWFsR3JhZGllbnRBcmdzID0gZXhwb3J0cy5wYXJzZUdyYWRpZW50ID0gZXhwb3J0cy5SYWRpYWxHcmFkaWVudCA9IGV4cG9ydHMuTGluZWFyR3JhZGllbnQgPSBleHBvcnRzLlJBRElBTF9HUkFESUVOVF9TSEFQRSA9IGV4cG9ydHMuR1JBRElFTlRfVFlQRSA9IHVuZGVmaW5lZDtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX05vZGVDb250YWluZXIgPSByZXF1aXJlKCcuL05vZGVDb250YWluZXInKTtcblxudmFyIF9Ob2RlQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vZGVDb250YWluZXIpO1xuXG52YXIgX0FuZ2xlID0gcmVxdWlyZSgnLi9BbmdsZScpO1xuXG52YXIgX0NvbG9yID0gcmVxdWlyZSgnLi9Db2xvcicpO1xuXG52YXIgX0NvbG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbG9yKTtcblxudmFyIF9MZW5ndGggPSByZXF1aXJlKCcuL0xlbmd0aCcpO1xuXG52YXIgX0xlbmd0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MZW5ndGgpO1xuXG52YXIgX1V0aWwgPSByZXF1aXJlKCcuL1V0aWwnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNJREVfT1JfQ09STkVSID0gL14odG8gKT8obGVmdHx0b3B8cmlnaHR8Ym90dG9tKSggKGxlZnR8dG9wfHJpZ2h0fGJvdHRvbSkpPyQvaTtcbnZhciBQRVJDRU5UQUdFX0FOR0xFUyA9IC9eKFsrLV0/XFxkKlxcLj9cXGQrKSUgKFsrLV0/XFxkKlxcLj9cXGQrKSUkL2k7XG52YXIgRU5EU19XSVRIX0xFTkdUSCA9IC8ocHgpfCV8KCAwKSQvaTtcbnZhciBGUk9NX1RPX0NPTE9SU1RPUCA9IC9eKGZyb218dG98Y29sb3Itc3RvcClcXCgoPzooW1xcZC5dKykoJSk/LFxccyopPyguKz8pXFwpJC9pO1xudmFyIFJBRElBTF9TSEFQRV9ERUZJTklUSU9OID0gL15cXHMqKGNpcmNsZXxlbGxpcHNlKT9cXHMqKCg/OihbXFxkLl0rKShweHxyP2VtfCUpXFxzKig/OihbXFxkLl0rKShweHxyP2VtfCUpKT8pfGNsb3Nlc3Qtc2lkZXxjbG9zZXN0LWNvcm5lcnxmYXJ0aGVzdC1zaWRlfGZhcnRoZXN0LWNvcm5lcik/XFxzKig/OmF0XFxzKig/OihsZWZ0fGNlbnRlcnxyaWdodCl8KFtcXGQuXSspKHB4fHI/ZW18JSkpXFxzKyg/Oih0b3B8Y2VudGVyfGJvdHRvbSl8KFtcXGQuXSspKHB4fHI/ZW18JSkpKT8oPzpcXHN8JCkvaTtcblxudmFyIEdSQURJRU5UX1RZUEUgPSBleHBvcnRzLkdSQURJRU5UX1RZUEUgPSB7XG4gICAgTElORUFSX0dSQURJRU5UOiAwLFxuICAgIFJBRElBTF9HUkFESUVOVDogMVxufTtcblxudmFyIFJBRElBTF9HUkFESUVOVF9TSEFQRSA9IGV4cG9ydHMuUkFESUFMX0dSQURJRU5UX1NIQVBFID0ge1xuICAgIENJUkNMRTogMCxcbiAgICBFTExJUFNFOiAxXG59O1xuXG52YXIgTEVOR1RIX0ZPUl9QT1NJVElPTiA9IHtcbiAgICBsZWZ0OiBuZXcgX0xlbmd0aDIuZGVmYXVsdCgnMCUnKSxcbiAgICB0b3A6IG5ldyBfTGVuZ3RoMi5kZWZhdWx0KCcwJScpLFxuICAgIGNlbnRlcjogbmV3IF9MZW5ndGgyLmRlZmF1bHQoJzUwJScpLFxuICAgIHJpZ2h0OiBuZXcgX0xlbmd0aDIuZGVmYXVsdCgnMTAwJScpLFxuICAgIGJvdHRvbTogbmV3IF9MZW5ndGgyLmRlZmF1bHQoJzEwMCUnKVxufTtcblxudmFyIExpbmVhckdyYWRpZW50ID0gZXhwb3J0cy5MaW5lYXJHcmFkaWVudCA9IGZ1bmN0aW9uIExpbmVhckdyYWRpZW50KGNvbG9yU3RvcHMsIGRpcmVjdGlvbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaW5lYXJHcmFkaWVudCk7XG5cbiAgICB0aGlzLnR5cGUgPSBHUkFESUVOVF9UWVBFLkxJTkVBUl9HUkFESUVOVDtcbiAgICB0aGlzLmNvbG9yU3RvcHMgPSBjb2xvclN0b3BzO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xufTtcblxudmFyIFJhZGlhbEdyYWRpZW50ID0gZXhwb3J0cy5SYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uIFJhZGlhbEdyYWRpZW50KGNvbG9yU3RvcHMsIHNoYXBlLCBjZW50ZXIsIHJhZGl1cykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYWRpYWxHcmFkaWVudCk7XG5cbiAgICB0aGlzLnR5cGUgPSBHUkFESUVOVF9UWVBFLlJBRElBTF9HUkFESUVOVDtcbiAgICB0aGlzLmNvbG9yU3RvcHMgPSBjb2xvclN0b3BzO1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbn07XG5cbnZhciBwYXJzZUdyYWRpZW50ID0gZXhwb3J0cy5wYXJzZUdyYWRpZW50ID0gZnVuY3Rpb24gcGFyc2VHcmFkaWVudChjb250YWluZXIsIF9yZWYsIGJvdW5kcykge1xuICAgIHZhciBhcmdzID0gX3JlZi5hcmdzLFxuICAgICAgICBtZXRob2QgPSBfcmVmLm1ldGhvZCxcbiAgICAgICAgcHJlZml4ID0gX3JlZi5wcmVmaXg7XG5cbiAgICBpZiAobWV0aG9kID09PSAnbGluZWFyLWdyYWRpZW50Jykge1xuICAgICAgICByZXR1cm4gcGFyc2VMaW5lYXJHcmFkaWVudChhcmdzLCBib3VuZHMsICEhcHJlZml4KTtcbiAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gJ2dyYWRpZW50JyAmJiBhcmdzWzBdID09PSAnbGluZWFyJykge1xuICAgICAgICAvLyBUT0RPIGhhbmRsZSBjb3JyZWN0IGFuZ2xlXG4gICAgICAgIHJldHVybiBwYXJzZUxpbmVhckdyYWRpZW50KFsndG8gYm90dG9tJ10uY29uY2F0KHRyYW5zZm9ybU9ic29sZXRlQ29sb3JTdG9wcyhhcmdzLnNsaWNlKDMpKSksIGJvdW5kcywgISFwcmVmaXgpO1xuICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSAncmFkaWFsLWdyYWRpZW50Jykge1xuICAgICAgICByZXR1cm4gcGFyc2VSYWRpYWxHcmFkaWVudChjb250YWluZXIsIHByZWZpeCA9PT0gJy13ZWJraXQtJyA/IHRyYW5zZm9ybVdlYmtpdFJhZGlhbEdyYWRpZW50QXJncyhhcmdzKSA6IGFyZ3MsIGJvdW5kcyk7XG4gICAgfSBlbHNlIGlmIChtZXRob2QgPT09ICdncmFkaWVudCcgJiYgYXJnc1swXSA9PT0gJ3JhZGlhbCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlUmFkaWFsR3JhZGllbnQoY29udGFpbmVyLCB0cmFuc2Zvcm1PYnNvbGV0ZUNvbG9yU3RvcHModHJhbnNmb3JtV2Via2l0UmFkaWFsR3JhZGllbnRBcmdzKGFyZ3Muc2xpY2UoMSkpKSwgYm91bmRzKTtcbiAgICB9XG59O1xuXG52YXIgcGFyc2VDb2xvclN0b3BzID0gZnVuY3Rpb24gcGFyc2VDb2xvclN0b3BzKGFyZ3MsIGZpcnN0Q29sb3JTdG9wSW5kZXgsIGxpbmVMZW5ndGgpIHtcbiAgICB2YXIgY29sb3JTdG9wcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IGZpcnN0Q29sb3JTdG9wSW5kZXg7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3NbaV07XG4gICAgICAgIHZhciBIQVNfTEVOR1RIID0gRU5EU19XSVRIX0xFTkdUSC50ZXN0KHZhbHVlKTtcbiAgICAgICAgdmFyIGxhc3RTcGFjZUluZGV4ID0gdmFsdWUubGFzdEluZGV4T2YoJyAnKTtcbiAgICAgICAgdmFyIF9jb2xvciA9IG5ldyBfQ29sb3IyLmRlZmF1bHQoSEFTX0xFTkdUSCA/IHZhbHVlLnN1YnN0cmluZygwLCBsYXN0U3BhY2VJbmRleCkgOiB2YWx1ZSk7XG4gICAgICAgIHZhciBfc3RvcCA9IEhBU19MRU5HVEggPyBuZXcgX0xlbmd0aDIuZGVmYXVsdCh2YWx1ZS5zdWJzdHJpbmcobGFzdFNwYWNlSW5kZXggKyAxKSkgOiBpID09PSBmaXJzdENvbG9yU3RvcEluZGV4ID8gbmV3IF9MZW5ndGgyLmRlZmF1bHQoJzAlJykgOiBpID09PSBhcmdzLmxlbmd0aCAtIDEgPyBuZXcgX0xlbmd0aDIuZGVmYXVsdCgnMTAwJScpIDogbnVsbDtcbiAgICAgICAgY29sb3JTdG9wcy5wdXNoKHsgY29sb3I6IF9jb2xvciwgc3RvcDogX3N0b3AgfSk7XG4gICAgfVxuXG4gICAgdmFyIGFic29sdXRlVmFsdWVkQ29sb3JTdG9wcyA9IGNvbG9yU3RvcHMubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgY29sb3IgPSBfcmVmMi5jb2xvcixcbiAgICAgICAgICAgIHN0b3AgPSBfcmVmMi5zdG9wO1xuXG4gICAgICAgIHZhciBhYnNvbHV0ZVN0b3AgPSBsaW5lTGVuZ3RoID09PSAwID8gMCA6IHN0b3AgPyBzdG9wLmdldEFic29sdXRlVmFsdWUobGluZUxlbmd0aCkgLyBsaW5lTGVuZ3RoIDogbnVsbDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgc3RvcDogYWJzb2x1dGVTdG9wXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICB2YXIgcHJldmlvdXNDb2xvclN0b3AgPSBhYnNvbHV0ZVZhbHVlZENvbG9yU3RvcHNbMF0uc3RvcDtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYWJzb2x1dGVWYWx1ZWRDb2xvclN0b3BzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBpZiAocHJldmlvdXNDb2xvclN0b3AgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBfc3RvcDIgPSBhYnNvbHV0ZVZhbHVlZENvbG9yU3RvcHNbX2ldLnN0b3A7XG4gICAgICAgICAgICBpZiAoX3N0b3AyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBfaTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoYWJzb2x1dGVWYWx1ZWRDb2xvclN0b3BzW25dLnN0b3AgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3RlcHMgPSBuIC0gX2kgKyAxO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0Q29sb3JTdGVwID0gYWJzb2x1dGVWYWx1ZWRDb2xvclN0b3BzW25dLnN0b3A7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBTaXplID0gKG5leHRDb2xvclN0ZXAgLSBwcmV2aW91c0NvbG9yU3RvcCkgLyBzdGVwcztcbiAgICAgICAgICAgICAgICBmb3IgKDsgX2kgPCBuOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29sb3JTdG9wID0gYWJzb2x1dGVWYWx1ZWRDb2xvclN0b3BzW19pXS5zdG9wID0gcHJldmlvdXNDb2xvclN0b3AgKyBzdGVwU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29sb3JTdG9wID0gX3N0b3AyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFic29sdXRlVmFsdWVkQ29sb3JTdG9wcztcbn07XG5cbnZhciBwYXJzZUxpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gcGFyc2VMaW5lYXJHcmFkaWVudChhcmdzLCBib3VuZHMsIGhhc1ByZWZpeCkge1xuICAgIHZhciBhbmdsZSA9ICgwLCBfQW5nbGUucGFyc2VBbmdsZSkoYXJnc1swXSk7XG4gICAgdmFyIEhBU19TSURFX09SX0NPUk5FUiA9IFNJREVfT1JfQ09STkVSLnRlc3QoYXJnc1swXSk7XG4gICAgdmFyIEhBU19ESVJFQ1RJT04gPSBIQVNfU0lERV9PUl9DT1JORVIgfHwgYW5nbGUgIT09IG51bGwgfHwgUEVSQ0VOVEFHRV9BTkdMRVMudGVzdChhcmdzWzBdKTtcbiAgICB2YXIgZGlyZWN0aW9uID0gSEFTX0RJUkVDVElPTiA/IGFuZ2xlICE9PSBudWxsID8gY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24oXG4gICAgLy8gaWYgdGhlcmUgaXMgYSBwcmVmaXgsIHRoZSAwwrAgYW5nbGUgcG9pbnRzIGR1ZSBFYXN0IChpbnN0ZWFkIG9mIE5vcnRoIHBlciBXM0MpXG4gICAgaGFzUHJlZml4ID8gYW5nbGUgLSBNYXRoLlBJICogMC41IDogYW5nbGUsIGJvdW5kcykgOiBIQVNfU0lERV9PUl9DT1JORVIgPyBwYXJzZVNpZGVPckNvcm5lcihhcmdzWzBdLCBib3VuZHMpIDogcGFyc2VQZXJjZW50YWdlQW5nbGUoYXJnc1swXSwgYm91bmRzKSA6IGNhbGN1bGF0ZUdyYWRpZW50RGlyZWN0aW9uKE1hdGguUEksIGJvdW5kcyk7XG4gICAgdmFyIGZpcnN0Q29sb3JTdG9wSW5kZXggPSBIQVNfRElSRUNUSU9OID8gMSA6IDA7XG5cbiAgICAvLyBUT0RPOiBGaXggc29tZSBpbmFjY3VyYWN5IHdpdGggY29sb3Igc3RvcHMgd2l0aCBweCB2YWx1ZXNcbiAgICB2YXIgbGluZUxlbmd0aCA9IE1hdGgubWluKCgwLCBfVXRpbC5kaXN0YW5jZSkoTWF0aC5hYnMoZGlyZWN0aW9uLngwKSArIE1hdGguYWJzKGRpcmVjdGlvbi54MSksIE1hdGguYWJzKGRpcmVjdGlvbi55MCkgKyBNYXRoLmFicyhkaXJlY3Rpb24ueTEpKSwgYm91bmRzLndpZHRoICogMiwgYm91bmRzLmhlaWdodCAqIDIpO1xuXG4gICAgcmV0dXJuIG5ldyBMaW5lYXJHcmFkaWVudChwYXJzZUNvbG9yU3RvcHMoYXJncywgZmlyc3RDb2xvclN0b3BJbmRleCwgbGluZUxlbmd0aCksIGRpcmVjdGlvbik7XG59O1xuXG52YXIgcGFyc2VSYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uIHBhcnNlUmFkaWFsR3JhZGllbnQoY29udGFpbmVyLCBhcmdzLCBib3VuZHMpIHtcbiAgICB2YXIgbSA9IGFyZ3NbMF0ubWF0Y2goUkFESUFMX1NIQVBFX0RFRklOSVRJT04pO1xuICAgIHZhciBzaGFwZSA9IG0gJiYgKG1bMV0gPT09ICdjaXJjbGUnIHx8IC8vIGV4cGxpY2l0IHNoYXBlIHNwZWNpZmljYXRpb25cbiAgICBtWzNdICE9PSB1bmRlZmluZWQgJiYgbVs1XSA9PT0gdW5kZWZpbmVkKSAvLyBvbmx5IG9uZSByYWRpdXMgY29vcmRpbmF0ZVxuICAgID8gUkFESUFMX0dSQURJRU5UX1NIQVBFLkNJUkNMRSA6IFJBRElBTF9HUkFESUVOVF9TSEFQRS5FTExJUFNFO1xuICAgIHZhciByYWRpdXMgPSB7fTtcbiAgICB2YXIgY2VudGVyID0ge307XG5cbiAgICBpZiAobSkge1xuICAgICAgICAvLyBSYWRpdXNcbiAgICAgICAgaWYgKG1bM10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmFkaXVzLnggPSAoMCwgX0xlbmd0aC5jYWxjdWxhdGVMZW5ndGhGcm9tVmFsdWVXaXRoVW5pdCkoY29udGFpbmVyLCBtWzNdLCBtWzRdKS5nZXRBYnNvbHV0ZVZhbHVlKGJvdW5kcy53aWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobVs1XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByYWRpdXMueSA9ICgwLCBfTGVuZ3RoLmNhbGN1bGF0ZUxlbmd0aEZyb21WYWx1ZVdpdGhVbml0KShjb250YWluZXIsIG1bNV0sIG1bNl0pLmdldEFic29sdXRlVmFsdWUoYm91bmRzLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb3NpdGlvblxuICAgICAgICBpZiAobVs3XSkge1xuICAgICAgICAgICAgY2VudGVyLnggPSBMRU5HVEhfRk9SX1BPU0lUSU9OW21bN10udG9Mb3dlckNhc2UoKV07XG4gICAgICAgIH0gZWxzZSBpZiAobVs4XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjZW50ZXIueCA9ICgwLCBfTGVuZ3RoLmNhbGN1bGF0ZUxlbmd0aEZyb21WYWx1ZVdpdGhVbml0KShjb250YWluZXIsIG1bOF0sIG1bOV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1bMTBdKSB7XG4gICAgICAgICAgICBjZW50ZXIueSA9IExFTkdUSF9GT1JfUE9TSVRJT05bbVsxMF0udG9Mb3dlckNhc2UoKV07XG4gICAgICAgIH0gZWxzZSBpZiAobVsxMV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2VudGVyLnkgPSAoMCwgX0xlbmd0aC5jYWxjdWxhdGVMZW5ndGhGcm9tVmFsdWVXaXRoVW5pdCkoY29udGFpbmVyLCBtWzExXSwgbVsxMl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGdyYWRpZW50Q2VudGVyID0ge1xuICAgICAgICB4OiBjZW50ZXIueCA9PT0gdW5kZWZpbmVkID8gYm91bmRzLndpZHRoIC8gMiA6IGNlbnRlci54LmdldEFic29sdXRlVmFsdWUoYm91bmRzLndpZHRoKSxcbiAgICAgICAgeTogY2VudGVyLnkgPT09IHVuZGVmaW5lZCA/IGJvdW5kcy5oZWlnaHQgLyAyIDogY2VudGVyLnkuZ2V0QWJzb2x1dGVWYWx1ZShib3VuZHMuaGVpZ2h0KVxuICAgIH07XG4gICAgdmFyIGdyYWRpZW50UmFkaXVzID0gY2FsY3VsYXRlUmFkaXVzKG0gJiYgbVsyXSB8fCAnZmFydGhlc3QtY29ybmVyJywgc2hhcGUsIGdyYWRpZW50Q2VudGVyLCByYWRpdXMsIGJvdW5kcyk7XG5cbiAgICByZXR1cm4gbmV3IFJhZGlhbEdyYWRpZW50KHBhcnNlQ29sb3JTdG9wcyhhcmdzLCBtID8gMSA6IDAsIE1hdGgubWluKGdyYWRpZW50UmFkaXVzLngsIGdyYWRpZW50UmFkaXVzLnkpKSwgc2hhcGUsIGdyYWRpZW50Q2VudGVyLCBncmFkaWVudFJhZGl1cyk7XG59O1xuXG52YXIgY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24gPSBmdW5jdGlvbiBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbihyYWRpYW4sIGJvdW5kcykge1xuICAgIHZhciB3aWR0aCA9IGJvdW5kcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gYm91bmRzLmhlaWdodDtcbiAgICB2YXIgSEFMRl9XSURUSCA9IHdpZHRoICogMC41O1xuICAgIHZhciBIQUxGX0hFSUdIVCA9IGhlaWdodCAqIDAuNTtcbiAgICB2YXIgbGluZUxlbmd0aCA9IE1hdGguYWJzKHdpZHRoICogTWF0aC5zaW4ocmFkaWFuKSkgKyBNYXRoLmFicyhoZWlnaHQgKiBNYXRoLmNvcyhyYWRpYW4pKTtcbiAgICB2YXIgSEFMRl9MSU5FX0xFTkdUSCA9IGxpbmVMZW5ndGggLyAyO1xuXG4gICAgdmFyIHgwID0gSEFMRl9XSURUSCArIE1hdGguc2luKHJhZGlhbikgKiBIQUxGX0xJTkVfTEVOR1RIO1xuICAgIHZhciB5MCA9IEhBTEZfSEVJR0hUIC0gTWF0aC5jb3MocmFkaWFuKSAqIEhBTEZfTElORV9MRU5HVEg7XG4gICAgdmFyIHgxID0gd2lkdGggLSB4MDtcbiAgICB2YXIgeTEgPSBoZWlnaHQgLSB5MDtcblxuICAgIHJldHVybiB7IHgwOiB4MCwgeDE6IHgxLCB5MDogeTAsIHkxOiB5MSB9O1xufTtcblxudmFyIHBhcnNlVG9wUmlnaHQgPSBmdW5jdGlvbiBwYXJzZVRvcFJpZ2h0KGJvdW5kcykge1xuICAgIHJldHVybiBNYXRoLmFjb3MoYm91bmRzLndpZHRoIC8gMiAvICgoMCwgX1V0aWwuZGlzdGFuY2UpKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCkgLyAyKSk7XG59O1xuXG52YXIgcGFyc2VTaWRlT3JDb3JuZXIgPSBmdW5jdGlvbiBwYXJzZVNpZGVPckNvcm5lcihzaWRlLCBib3VuZHMpIHtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgY2FzZSAndG8gdG9wJzpcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbigwLCBib3VuZHMpO1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgY2FzZSAndG8gcmlnaHQnOlxuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUdyYWRpZW50RGlyZWN0aW9uKE1hdGguUEkgLyAyLCBib3VuZHMpO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgIGNhc2UgJ3RvIGxlZnQnOlxuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUdyYWRpZW50RGlyZWN0aW9uKDMgKiBNYXRoLlBJIC8gMiwgYm91bmRzKTtcbiAgICAgICAgY2FzZSAndG9wIHJpZ2h0JzpcbiAgICAgICAgY2FzZSAncmlnaHQgdG9wJzpcbiAgICAgICAgY2FzZSAndG8gYm90dG9tIGxlZnQnOlxuICAgICAgICBjYXNlICd0byBsZWZ0IGJvdHRvbSc6XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24oTWF0aC5QSSArIHBhcnNlVG9wUmlnaHQoYm91bmRzKSwgYm91bmRzKTtcbiAgICAgICAgY2FzZSAndG9wIGxlZnQnOlxuICAgICAgICBjYXNlICdsZWZ0IHRvcCc6XG4gICAgICAgIGNhc2UgJ3RvIGJvdHRvbSByaWdodCc6XG4gICAgICAgIGNhc2UgJ3RvIHJpZ2h0IGJvdHRvbSc6XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24oTWF0aC5QSSAtIHBhcnNlVG9wUmlnaHQoYm91bmRzKSwgYm91bmRzKTtcbiAgICAgICAgY2FzZSAnYm90dG9tIGxlZnQnOlxuICAgICAgICBjYXNlICdsZWZ0IGJvdHRvbSc6XG4gICAgICAgIGNhc2UgJ3RvIHRvcCByaWdodCc6XG4gICAgICAgIGNhc2UgJ3RvIHJpZ2h0IHRvcCc6XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24ocGFyc2VUb3BSaWdodChib3VuZHMpLCBib3VuZHMpO1xuICAgICAgICBjYXNlICdib3R0b20gcmlnaHQnOlxuICAgICAgICBjYXNlICdyaWdodCBib3R0b20nOlxuICAgICAgICBjYXNlICd0byB0b3AgbGVmdCc6XG4gICAgICAgIGNhc2UgJ3RvIGxlZnQgdG9wJzpcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbigyICogTWF0aC5QSSAtIHBhcnNlVG9wUmlnaHQoYm91bmRzKSwgYm91bmRzKTtcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgY2FzZSAndG8gYm90dG9tJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbihNYXRoLlBJLCBib3VuZHMpO1xuICAgIH1cbn07XG5cbnZhciBwYXJzZVBlcmNlbnRhZ2VBbmdsZSA9IGZ1bmN0aW9uIHBhcnNlUGVyY2VudGFnZUFuZ2xlKGFuZ2xlLCBib3VuZHMpIHtcbiAgICB2YXIgX2FuZ2xlJHNwbGl0JG1hcCA9IGFuZ2xlLnNwbGl0KCcgJykubWFwKHBhcnNlRmxvYXQpLFxuICAgICAgICBfYW5nbGUkc3BsaXQkbWFwMiA9IF9zbGljZWRUb0FycmF5KF9hbmdsZSRzcGxpdCRtYXAsIDIpLFxuICAgICAgICBsZWZ0ID0gX2FuZ2xlJHNwbGl0JG1hcDJbMF0sXG4gICAgICAgIHRvcCA9IF9hbmdsZSRzcGxpdCRtYXAyWzFdO1xuXG4gICAgdmFyIHJhdGlvID0gbGVmdCAvIDEwMCAqIGJvdW5kcy53aWR0aCAvICh0b3AgLyAxMDAgKiBib3VuZHMuaGVpZ2h0KTtcblxuICAgIHJldHVybiBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbihNYXRoLmF0YW4oaXNOYU4ocmF0aW8pID8gMSA6IHJhdGlvKSArIE1hdGguUEkgLyAyLCBib3VuZHMpO1xufTtcblxudmFyIGZpbmRDb3JuZXIgPSBmdW5jdGlvbiBmaW5kQ29ybmVyKGJvdW5kcywgeCwgeSwgY2xvc2VzdCkge1xuICAgIHZhciBjb3JuZXJzID0gW3sgeDogMCwgeTogMCB9LCB7IHg6IDAsIHk6IGJvdW5kcy5oZWlnaHQgfSwgeyB4OiBib3VuZHMud2lkdGgsIHk6IDAgfSwgeyB4OiBib3VuZHMud2lkdGgsIHk6IGJvdW5kcy5oZWlnaHQgfV07XG5cbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgcmV0dXJuIGNvcm5lcnMucmVkdWNlKGZ1bmN0aW9uIChzdGF0LCBjb3JuZXIpIHtcbiAgICAgICAgdmFyIGQgPSAoMCwgX1V0aWwuZGlzdGFuY2UpKHggLSBjb3JuZXIueCwgeSAtIGNvcm5lci55KTtcbiAgICAgICAgaWYgKGNsb3Nlc3QgPyBkIDwgc3RhdC5vcHRpbXVtRGlzdGFuY2UgOiBkID4gc3RhdC5vcHRpbXVtRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb3B0aW11bUNvcm5lcjogY29ybmVyLFxuICAgICAgICAgICAgICAgIG9wdGltdW1EaXN0YW5jZTogZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGF0O1xuICAgIH0sIHtcbiAgICAgICAgb3B0aW11bURpc3RhbmNlOiBjbG9zZXN0ID8gSW5maW5pdHkgOiAtSW5maW5pdHksXG4gICAgICAgIG9wdGltdW1Db3JuZXI6IG51bGxcbiAgICB9KS5vcHRpbXVtQ29ybmVyO1xufTtcblxudmFyIGNhbGN1bGF0ZVJhZGl1cyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVJhZGl1cyhleHRlbnQsIHNoYXBlLCBjZW50ZXIsIHJhZGl1cywgYm91bmRzKSB7XG4gICAgdmFyIHggPSBjZW50ZXIueDtcbiAgICB2YXIgeSA9IGNlbnRlci55O1xuICAgIHZhciByeCA9IDA7XG4gICAgdmFyIHJ5ID0gMDtcblxuICAgIHN3aXRjaCAoZXh0ZW50KSB7XG4gICAgICAgIGNhc2UgJ2Nsb3Nlc3Qtc2lkZSc6XG4gICAgICAgICAgICAvLyBUaGUgZW5kaW5nIHNoYXBlIGlzIHNpemVkIHNvIHRoYXQgdGhhdCBpdCBleGFjdGx5IG1lZXRzIHRoZSBzaWRlIG9mIHRoZSBncmFkaWVudCBib3ggY2xvc2VzdCB0byB0aGUgZ3JhZGllbnTigJlzIGNlbnRlci5cbiAgICAgICAgICAgIC8vIElmIHRoZSBzaGFwZSBpcyBhbiBlbGxpcHNlLCBpdCBleGFjdGx5IG1lZXRzIHRoZSBjbG9zZXN0IHNpZGUgaW4gZWFjaCBkaW1lbnNpb24uXG4gICAgICAgICAgICBpZiAoc2hhcGUgPT09IFJBRElBTF9HUkFESUVOVF9TSEFQRS5DSVJDTEUpIHtcbiAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSBib3VuZHMud2lkdGgpLCBNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGJvdW5kcy5oZWlnaHQpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGUgPT09IFJBRElBTF9HUkFESUVOVF9TSEFQRS5FTExJUFNFKSB7XG4gICAgICAgICAgICAgICAgcnggPSBNYXRoLm1pbihNYXRoLmFicyh4KSwgTWF0aC5hYnMoeCAtIGJvdW5kcy53aWR0aCkpO1xuICAgICAgICAgICAgICAgIHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBib3VuZHMuaGVpZ2h0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjbG9zZXN0LWNvcm5lcic6XG4gICAgICAgICAgICAvLyBUaGUgZW5kaW5nIHNoYXBlIGlzIHNpemVkIHNvIHRoYXQgdGhhdCBpdCBwYXNzZXMgdGhyb3VnaCB0aGUgY29ybmVyIG9mIHRoZSBncmFkaWVudCBib3ggY2xvc2VzdCB0byB0aGUgZ3JhZGllbnTigJlzIGNlbnRlci5cbiAgICAgICAgICAgIC8vIElmIHRoZSBzaGFwZSBpcyBhbiBlbGxpcHNlLCB0aGUgZW5kaW5nIHNoYXBlIGlzIGdpdmVuIHRoZSBzYW1lIGFzcGVjdC1yYXRpbyBpdCB3b3VsZCBoYXZlIGlmIGNsb3Nlc3Qtc2lkZSB3ZXJlIHNwZWNpZmllZC5cbiAgICAgICAgICAgIGlmIChzaGFwZSA9PT0gUkFESUFMX0dSQURJRU5UX1NIQVBFLkNJUkNMRSkge1xuICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1pbigoMCwgX1V0aWwuZGlzdGFuY2UpKHgsIHkpLCAoMCwgX1V0aWwuZGlzdGFuY2UpKHgsIHkgLSBib3VuZHMuaGVpZ2h0KSwgKDAsIF9VdGlsLmRpc3RhbmNlKSh4IC0gYm91bmRzLndpZHRoLCB5KSwgKDAsIF9VdGlsLmRpc3RhbmNlKSh4IC0gYm91bmRzLndpZHRoLCB5IC0gYm91bmRzLmhlaWdodCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGFwZSA9PT0gUkFESUFMX0dSQURJRU5UX1NIQVBFLkVMTElQU0UpIHtcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHRoZSByYXRpbyByeS9yeCAod2hpY2ggaXMgdG8gYmUgdGhlIHNhbWUgYXMgZm9yIFwiY2xvc2VzdC1zaWRlXCIpXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBNYXRoLm1pbihNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGJvdW5kcy5oZWlnaHQpKSAvIE1hdGgubWluKE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gYm91bmRzLndpZHRoKSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvcm5lciA9IGZpbmRDb3JuZXIoYm91bmRzLCB4LCB5LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByeCA9ICgwLCBfVXRpbC5kaXN0YW5jZSkoY29ybmVyLnggLSB4LCAoY29ybmVyLnkgLSB5KSAvIGMpO1xuICAgICAgICAgICAgICAgIHJ5ID0gYyAqIHJ4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZmFydGhlc3Qtc2lkZSc6XG4gICAgICAgICAgICAvLyBTYW1lIGFzIGNsb3Nlc3Qtc2lkZSwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IHNpZGUocylcbiAgICAgICAgICAgIGlmIChzaGFwZSA9PT0gUkFESUFMX0dSQURJRU5UX1NIQVBFLkNJUkNMRSkge1xuICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1heChNYXRoLmFicyh4KSwgTWF0aC5hYnMoeCAtIGJvdW5kcy53aWR0aCksIE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gYm91bmRzLmhlaWdodCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGFwZSA9PT0gUkFESUFMX0dSQURJRU5UX1NIQVBFLkVMTElQU0UpIHtcbiAgICAgICAgICAgICAgICByeCA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gYm91bmRzLndpZHRoKSk7XG4gICAgICAgICAgICAgICAgcnkgPSBNYXRoLm1heChNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGJvdW5kcy5oZWlnaHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZhcnRoZXN0LWNvcm5lcic6XG4gICAgICAgICAgICAvLyBTYW1lIGFzIGNsb3Nlc3QtY29ybmVyLCBleGNlcHQgdGhlIGVuZGluZyBzaGFwZSBpcyBzaXplZCBiYXNlZCBvbiB0aGUgZmFydGhlc3QgY29ybmVyLlxuICAgICAgICAgICAgLy8gSWYgdGhlIHNoYXBlIGlzIGFuIGVsbGlwc2UsIHRoZSBlbmRpbmcgc2hhcGUgaXMgZ2l2ZW4gdGhlIHNhbWUgYXNwZWN0IHJhdGlvIGl0IHdvdWxkIGhhdmUgaWYgZmFydGhlc3Qtc2lkZSB3ZXJlIHNwZWNpZmllZC5cbiAgICAgICAgICAgIGlmIChzaGFwZSA9PT0gUkFESUFMX0dSQURJRU5UX1NIQVBFLkNJUkNMRSkge1xuICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1heCgoMCwgX1V0aWwuZGlzdGFuY2UpKHgsIHkpLCAoMCwgX1V0aWwuZGlzdGFuY2UpKHgsIHkgLSBib3VuZHMuaGVpZ2h0KSwgKDAsIF9VdGlsLmRpc3RhbmNlKSh4IC0gYm91bmRzLndpZHRoLCB5KSwgKDAsIF9VdGlsLmRpc3RhbmNlKSh4IC0gYm91bmRzLndpZHRoLCB5IC0gYm91bmRzLmhlaWdodCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGFwZSA9PT0gUkFESUFMX0dSQURJRU5UX1NIQVBFLkVMTElQU0UpIHtcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHRoZSByYXRpbyByeS9yeCAod2hpY2ggaXMgdG8gYmUgdGhlIHNhbWUgYXMgZm9yIFwiZmFydGhlc3Qtc2lkZVwiKVxuICAgICAgICAgICAgICAgIHZhciBfYyA9IE1hdGgubWF4KE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gYm91bmRzLmhlaWdodCkpIC8gTWF0aC5tYXgoTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSBib3VuZHMud2lkdGgpKTtcbiAgICAgICAgICAgICAgICB2YXIgX2Nvcm5lciA9IGZpbmRDb3JuZXIoYm91bmRzLCB4LCB5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcnggPSAoMCwgX1V0aWwuZGlzdGFuY2UpKF9jb3JuZXIueCAtIHgsIChfY29ybmVyLnkgLSB5KSAvIF9jKTtcbiAgICAgICAgICAgICAgICByeSA9IF9jICogcng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gcGl4ZWwgb3IgcGVyY2VudGFnZSB2YWx1ZXNcbiAgICAgICAgICAgIHJ4ID0gcmFkaXVzLnggfHwgMDtcbiAgICAgICAgICAgIHJ5ID0gcmFkaXVzLnkgIT09IHVuZGVmaW5lZCA/IHJhZGl1cy55IDogcng7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByeCxcbiAgICAgICAgeTogcnlcbiAgICB9O1xufTtcblxudmFyIHRyYW5zZm9ybVdlYmtpdFJhZGlhbEdyYWRpZW50QXJncyA9IGV4cG9ydHMudHJhbnNmb3JtV2Via2l0UmFkaWFsR3JhZGllbnRBcmdzID0gZnVuY3Rpb24gdHJhbnNmb3JtV2Via2l0UmFkaWFsR3JhZGllbnRBcmdzKGFyZ3MpIHtcbiAgICB2YXIgc2hhcGUgPSAnJztcbiAgICB2YXIgcmFkaXVzID0gJyc7XG4gICAgdmFyIGV4dGVudCA9ICcnO1xuICAgIHZhciBwb3NpdGlvbiA9ICcnO1xuICAgIHZhciBpZHggPSAwO1xuXG4gICAgdmFyIFBPU0lUSU9OID0gL14obGVmdHxjZW50ZXJ8cmlnaHR8XFxkKyg/OnB4fHI/ZW18JSk/KSg/OlxccysodG9wfGNlbnRlcnxib3R0b218XFxkKyg/OnB4fHI/ZW18JSk/KSk/JC9pO1xuICAgIHZhciBTSEFQRV9BTkRfRVhURU5UID0gL14oY2lyY2xlfGVsbGlwc2UpP1xccyooY2xvc2VzdC1zaWRlfGNsb3Nlc3QtY29ybmVyfGZhcnRoZXN0LXNpZGV8ZmFydGhlc3QtY29ybmVyfGNvbnRhaW58Y292ZXIpPyQvaTtcbiAgICB2YXIgUkFESVVTID0gL15cXGQrKHB4fHI/ZW18JSk/KD86XFxzK1xcZCsocHh8cj9lbXwlKT8pPyQvaTtcblxuICAgIHZhciBtYXRjaFN0YXJ0UG9zaXRpb24gPSBhcmdzW2lkeF0ubWF0Y2goUE9TSVRJT04pO1xuICAgIGlmIChtYXRjaFN0YXJ0UG9zaXRpb24pIHtcbiAgICAgICAgaWR4Kys7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoU2hhcGVFeHRlbnQgPSBhcmdzW2lkeF0ubWF0Y2goU0hBUEVfQU5EX0VYVEVOVCk7XG4gICAgaWYgKG1hdGNoU2hhcGVFeHRlbnQpIHtcbiAgICAgICAgc2hhcGUgPSBtYXRjaFNoYXBlRXh0ZW50WzFdIHx8ICcnO1xuICAgICAgICBleHRlbnQgPSBtYXRjaFNoYXBlRXh0ZW50WzJdIHx8ICcnO1xuICAgICAgICBpZiAoZXh0ZW50ID09PSAnY29udGFpbicpIHtcbiAgICAgICAgICAgIGV4dGVudCA9ICdjbG9zZXN0LXNpZGUnO1xuICAgICAgICB9IGVsc2UgaWYgKGV4dGVudCA9PT0gJ2NvdmVyJykge1xuICAgICAgICAgICAgZXh0ZW50ID0gJ2ZhcnRoZXN0LWNvcm5lcic7XG4gICAgICAgIH1cbiAgICAgICAgaWR4Kys7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoU3RhcnRSYWRpdXMgPSBhcmdzW2lkeF0ubWF0Y2goUkFESVVTKTtcbiAgICBpZiAobWF0Y2hTdGFydFJhZGl1cykge1xuICAgICAgICBpZHgrKztcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2hFbmRQb3NpdGlvbiA9IGFyZ3NbaWR4XS5tYXRjaChQT1NJVElPTik7XG4gICAgaWYgKG1hdGNoRW5kUG9zaXRpb24pIHtcbiAgICAgICAgaWR4Kys7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoRW5kUmFkaXVzID0gYXJnc1tpZHhdLm1hdGNoKFJBRElVUyk7XG4gICAgaWYgKG1hdGNoRW5kUmFkaXVzKSB7XG4gICAgICAgIGlkeCsrO1xuICAgIH1cblxuICAgIHZhciBtYXRjaFBvc2l0aW9uID0gbWF0Y2hFbmRQb3NpdGlvbiB8fCBtYXRjaFN0YXJ0UG9zaXRpb247XG4gICAgaWYgKG1hdGNoUG9zaXRpb24gJiYgbWF0Y2hQb3NpdGlvblsxXSkge1xuICAgICAgICBwb3NpdGlvbiA9IG1hdGNoUG9zaXRpb25bMV0gKyAoL15cXGQrJC8udGVzdChtYXRjaFBvc2l0aW9uWzFdKSA/ICdweCcgOiAnJyk7XG4gICAgICAgIGlmIChtYXRjaFBvc2l0aW9uWzJdKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiArPSAnICcgKyBtYXRjaFBvc2l0aW9uWzJdICsgKC9eXFxkKyQvLnRlc3QobWF0Y2hQb3NpdGlvblsyXSkgPyAncHgnIDogJycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoUmFkaXVzID0gbWF0Y2hFbmRSYWRpdXMgfHwgbWF0Y2hTdGFydFJhZGl1cztcbiAgICBpZiAobWF0Y2hSYWRpdXMpIHtcbiAgICAgICAgcmFkaXVzID0gbWF0Y2hSYWRpdXNbMF07XG4gICAgICAgIGlmICghbWF0Y2hSYWRpdXNbMV0pIHtcbiAgICAgICAgICAgIHJhZGl1cyArPSAncHgnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uICYmICFzaGFwZSAmJiAhcmFkaXVzICYmICFleHRlbnQpIHtcbiAgICAgICAgcmFkaXVzID0gcG9zaXRpb247XG4gICAgICAgIHBvc2l0aW9uID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHBvc2l0aW9uID0gJ2F0ICcgKyBwb3NpdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gW1tzaGFwZSwgZXh0ZW50LCByYWRpdXMsIHBvc2l0aW9uXS5maWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuICEhcztcbiAgICB9KS5qb2luKCcgJyldLmNvbmNhdChhcmdzLnNsaWNlKGlkeCkpO1xufTtcblxudmFyIHRyYW5zZm9ybU9ic29sZXRlQ29sb3JTdG9wcyA9IGZ1bmN0aW9uIHRyYW5zZm9ybU9ic29sZXRlQ29sb3JTdG9wcyhhcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICByZXR1cm4gY29sb3IubWF0Y2goRlJPTV9UT19DT0xPUlNUT1ApO1xuICAgIH0pXG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIC5tYXAoZnVuY3Rpb24gKHYsIGluZGV4KSB7XG4gICAgICAgIGlmICghdikge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh2WzFdKSB7XG4gICAgICAgICAgICBjYXNlICdmcm9tJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdls0XSArICcgMCUnO1xuICAgICAgICAgICAgY2FzZSAndG8nOlxuICAgICAgICAgICAgICAgIHJldHVybiB2WzRdICsgJyAxMDAlJztcbiAgICAgICAgICAgIGNhc2UgJ2NvbG9yLXN0b3AnOlxuICAgICAgICAgICAgICAgIGlmICh2WzNdID09PSAnJScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZbNF0gKyAnICcgKyB2WzJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdls0XSArICcgJyArIHBhcnNlRmxvYXQodlsyXSkgKiAxMDAgKyAnJSc7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0dyYWRpZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 101 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar ANGLE = /([+-]?\\d*\\.?\\d+)(deg|grad|rad|turn)/i;\n\nvar parseAngle = exports.parseAngle = function parseAngle(angle) {\n    var match = angle.match(ANGLE);\n\n    if (match) {\n        var value = parseFloat(match[1]);\n        switch (match[2].toLowerCase()) {\n            case 'deg':\n                return Math.PI * value / 180;\n            case 'grad':\n                return Math.PI / 200 * value;\n            case 'rad':\n                return value;\n            case 'turn':\n                return Math.PI * 2 * value;\n        }\n    }\n\n    return null;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0FuZ2xlLmpzP2ZjMmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMTAxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgQU5HTEUgPSAvKFsrLV0/XFxkKlxcLj9cXGQrKShkZWd8Z3JhZHxyYWR8dHVybikvaTtcblxudmFyIHBhcnNlQW5nbGUgPSBleHBvcnRzLnBhcnNlQW5nbGUgPSBmdW5jdGlvbiBwYXJzZUFuZ2xlKGFuZ2xlKSB7XG4gICAgdmFyIG1hdGNoID0gYW5nbGUubWF0Y2goQU5HTEUpO1xuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICAgICAgICBzd2l0Y2ggKG1hdGNoWzJdLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RlZyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgKiB2YWx1ZSAvIDE4MDtcbiAgICAgICAgICAgIGNhc2UgJ2dyYWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJIC8gMjAwICogdmFsdWU7XG4gICAgICAgICAgICBjYXNlICdyYWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgJ3R1cm4nOlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJICogMiAqIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9odG1sMmNhbnZhcy9kaXN0L25wbS9BbmdsZS5qc1xuLy8gbW9kdWxlIGlkID0gMTAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.cloneWindow = exports.DocumentCloner = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bounds = __webpack_require__(64);\n\nvar _Proxy = __webpack_require__(103);\n\nvar _ResourceLoader = __webpack_require__(104);\n\nvar _ResourceLoader2 = _interopRequireDefault(_ResourceLoader);\n\nvar _Util = __webpack_require__(59);\n\nvar _background = __webpack_require__(60);\n\nvar _CanvasRenderer = __webpack_require__(50);\n\nvar _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);\n\nvar _PseudoNodeContent = __webpack_require__(105);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\n\nvar DocumentCloner = exports.DocumentCloner = function () {\n    function DocumentCloner(element, options, logger, copyInline, renderer) {\n        _classCallCheck(this, DocumentCloner);\n\n        this.referenceElement = element;\n        this.scrolledElements = [];\n        this.copyStyles = copyInline;\n        this.inlineImages = copyInline;\n        this.logger = logger;\n        this.options = options;\n        this.renderer = renderer;\n        this.resourceLoader = new _ResourceLoader2.default(options, logger, window);\n        this.pseudoContentData = {\n            counters: {},\n            quoteDepth: 0\n        };\n        // $FlowFixMe\n        this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\n    }\n\n    _createClass(DocumentCloner, [{\n        key: 'inlineAllImages',\n        value: function inlineAllImages(node) {\n            var _this = this;\n\n            if (this.inlineImages && node) {\n                var style = node.style;\n                Promise.all((0, _background.parseBackgroundImage)(style.backgroundImage).map(function (backgroundImage) {\n                    if (backgroundImage.method === 'url') {\n                        return _this.resourceLoader.inlineImage(backgroundImage.args[0]).then(function (img) {\n                            return img && typeof img.src === 'string' ? 'url(\"' + img.src + '\")' : 'none';\n                        }).catch(function (e) {\n                            if (true) {\n                                _this.logger.log('Unable to load image', e);\n                            }\n                        });\n                    }\n                    return Promise.resolve('' + backgroundImage.prefix + backgroundImage.method + '(' + backgroundImage.args.join(',') + ')');\n                })).then(function (backgroundImages) {\n                    if (backgroundImages.length > 1) {\n                        // TODO Multiple backgrounds somehow broken in Chrome\n                        style.backgroundColor = '';\n                    }\n                    style.backgroundImage = backgroundImages.join(',');\n                });\n\n                if (node instanceof HTMLImageElement) {\n                    this.resourceLoader.inlineImage(node.src).then(function (img) {\n                        if (img && node instanceof HTMLImageElement && node.parentNode) {\n                            var parentNode = node.parentNode;\n                            var clonedChild = (0, _Util.copyCSSStyles)(node.style, img.cloneNode(false));\n                            parentNode.replaceChild(clonedChild, node);\n                        }\n                    }).catch(function (e) {\n                        if (true) {\n                            _this.logger.log('Unable to load image', e);\n                        }\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'inlineFonts',\n        value: function inlineFonts(document) {\n            var _this2 = this;\n\n            return Promise.all(Array.from(document.styleSheets).map(function (sheet) {\n                if (sheet.href) {\n                    return fetch(sheet.href).then(function (res) {\n                        return res.text();\n                    }).then(function (text) {\n                        return createStyleSheetFontsFromText(text, sheet.href);\n                    }).catch(function (e) {\n                        if (true) {\n                            _this2.logger.log('Unable to load stylesheet', e);\n                        }\n                        return [];\n                    });\n                }\n                return getSheetFonts(sheet, document);\n            })).then(function (fonts) {\n                return fonts.reduce(function (acc, font) {\n                    return acc.concat(font);\n                }, []);\n            }).then(function (fonts) {\n                return Promise.all(fonts.map(function (font) {\n                    return fetch(font.formats[0].src).then(function (response) {\n                        return response.blob();\n                    }).then(function (blob) {\n                        return new Promise(function (resolve, reject) {\n                            var reader = new FileReader();\n                            reader.onerror = reject;\n                            reader.onload = function () {\n                                // $FlowFixMe\n                                var result = reader.result;\n                                resolve(result);\n                            };\n                            reader.readAsDataURL(blob);\n                        });\n                    }).then(function (dataUri) {\n                        font.fontFace.setProperty('src', 'url(\"' + dataUri + '\")');\n                        return '@font-face {' + font.fontFace.cssText + ' ';\n                    });\n                }));\n            }).then(function (fontCss) {\n                var style = document.createElement('style');\n                style.textContent = fontCss.join('\\n');\n                _this2.documentElement.appendChild(style);\n            });\n        }\n    }, {\n        key: 'createElementClone',\n        value: function createElementClone(node) {\n            var _this3 = this;\n\n            if (this.copyStyles && node instanceof HTMLCanvasElement) {\n                var img = node.ownerDocument.createElement('img');\n                try {\n                    img.src = node.toDataURL();\n                    return img;\n                } catch (e) {\n                    if (true) {\n                        this.logger.log('Unable to clone canvas contents, canvas is tainted');\n                    }\n                }\n            }\n\n            if (node instanceof HTMLIFrameElement) {\n                var tempIframe = node.cloneNode(false);\n                var iframeKey = generateIframeKey();\n                tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\n\n                var _parseBounds = (0, _Bounds.parseBounds)(node, 0, 0),\n                    width = _parseBounds.width,\n                    height = _parseBounds.height;\n\n                this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(node, this.options).then(function (documentElement) {\n                    return _this3.renderer(documentElement, {\n                        async: _this3.options.async,\n                        allowTaint: _this3.options.allowTaint,\n                        backgroundColor: '#ffffff',\n                        canvas: null,\n                        imageTimeout: _this3.options.imageTimeout,\n                        logging: _this3.options.logging,\n                        proxy: _this3.options.proxy,\n                        removeContainer: _this3.options.removeContainer,\n                        scale: _this3.options.scale,\n                        foreignObjectRendering: _this3.options.foreignObjectRendering,\n                        useCORS: _this3.options.useCORS,\n                        target: new _CanvasRenderer2.default(),\n                        width: width,\n                        height: height,\n                        x: 0,\n                        y: 0,\n                        windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\n                        windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\n                        scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\n                        scrollY: documentElement.ownerDocument.defaultView.pageYOffset\n                    }, _this3.logger.child(iframeKey));\n                }).then(function (canvas) {\n                    return new Promise(function (resolve, reject) {\n                        var iframeCanvas = document.createElement('img');\n                        iframeCanvas.onload = function () {\n                            return resolve(canvas);\n                        };\n                        iframeCanvas.onerror = reject;\n                        iframeCanvas.src = canvas.toDataURL();\n                        if (tempIframe.parentNode) {\n                            tempIframe.parentNode.replaceChild((0, _Util.copyCSSStyles)(node.ownerDocument.defaultView.getComputedStyle(node), iframeCanvas), tempIframe);\n                        }\n                    });\n                });\n                return tempIframe;\n            }\n\n            if (node instanceof HTMLStyleElement && node.sheet && node.sheet.cssRules) {\n                var css = [].slice.call(node.sheet.cssRules, 0).reduce(function (css, rule) {\n                    try {\n                        if (rule && rule.cssText) {\n                            return css + rule.cssText;\n                        }\n                        return css;\n                    } catch (err) {\n                        _this3.logger.log('Unable to access cssText property', rule.name);\n                        return css;\n                    }\n                }, '');\n                var style = node.cloneNode(false);\n                style.textContent = css;\n                return style;\n            }\n\n            return node.cloneNode(false);\n        }\n    }, {\n        key: 'cloneNode',\n        value: function cloneNode(node) {\n            var clone = node.nodeType === Node.TEXT_NODE ? document.createTextNode(node.nodeValue) : this.createElementClone(node);\n\n            var window = node.ownerDocument.defaultView;\n            var style = node instanceof window.HTMLElement ? window.getComputedStyle(node) : null;\n            var styleBefore = node instanceof window.HTMLElement ? window.getComputedStyle(node, ':before') : null;\n            var styleAfter = node instanceof window.HTMLElement ? window.getComputedStyle(node, ':after') : null;\n\n            if (this.referenceElement === node && clone instanceof window.HTMLElement) {\n                this.clonedReferenceElement = clone;\n            }\n\n            if (clone instanceof window.HTMLBodyElement) {\n                createPseudoHideStyles(clone);\n            }\n\n            var counters = (0, _PseudoNodeContent.parseCounterReset)(style, this.pseudoContentData);\n            var contentBefore = (0, _PseudoNodeContent.resolvePseudoContent)(node, styleBefore, this.pseudoContentData);\n\n            for (var child = node.firstChild; child; child = child.nextSibling) {\n                if (child.nodeType !== Node.ELEMENT_NODE || child.nodeName !== 'SCRIPT' &&\n                // $FlowFixMe\n                !child.hasAttribute(IGNORE_ATTRIBUTE) && (typeof this.options.ignoreElements !== 'function' ||\n                // $FlowFixMe\n                !this.options.ignoreElements(child))) {\n                    if (!this.copyStyles || child.nodeName !== 'STYLE') {\n                        clone.appendChild(this.cloneNode(child));\n                    }\n                }\n            }\n\n            var contentAfter = (0, _PseudoNodeContent.resolvePseudoContent)(node, styleAfter, this.pseudoContentData);\n            (0, _PseudoNodeContent.popCounters)(counters, this.pseudoContentData);\n\n            if (node instanceof window.HTMLElement && clone instanceof window.HTMLElement) {\n                if (styleBefore) {\n                    this.inlineAllImages(inlinePseudoElement(node, clone, styleBefore, contentBefore, PSEUDO_BEFORE));\n                }\n                if (styleAfter) {\n                    this.inlineAllImages(inlinePseudoElement(node, clone, styleAfter, contentAfter, PSEUDO_AFTER));\n                }\n                if (style && this.copyStyles && !(node instanceof HTMLIFrameElement)) {\n                    (0, _Util.copyCSSStyles)(style, clone);\n                }\n                this.inlineAllImages(clone);\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n                }\n                switch (node.nodeName) {\n                    case 'CANVAS':\n                        if (!this.copyStyles) {\n                            cloneCanvasContents(node, clone);\n                        }\n                        break;\n                    case 'TEXTAREA':\n                    case 'SELECT':\n                        clone.value = node.value;\n                        break;\n                }\n            }\n            return clone;\n        }\n    }]);\n\n    return DocumentCloner;\n}();\n\nvar getSheetFonts = function getSheetFonts(sheet, document) {\n    // $FlowFixMe\n    return (sheet.cssRules ? Array.from(sheet.cssRules) : []).filter(function (rule) {\n        return rule.type === CSSRule.FONT_FACE_RULE;\n    }).map(function (rule) {\n        var src = (0, _background.parseBackgroundImage)(rule.style.getPropertyValue('src'));\n        var formats = [];\n        for (var i = 0; i < src.length; i++) {\n            if (src[i].method === 'url' && src[i + 1] && src[i + 1].method === 'format') {\n                var a = document.createElement('a');\n                a.href = src[i].args[0];\n                if (document.body) {\n                    document.body.appendChild(a);\n                }\n\n                var font = {\n                    src: a.href,\n                    format: src[i + 1].args[0]\n                };\n                formats.push(font);\n            }\n        }\n\n        return {\n            // TODO select correct format for browser),\n\n            formats: formats.filter(function (font) {\n                return (/^woff/i.test(font.format)\n                );\n            }),\n            fontFace: rule.style\n        };\n    }).filter(function (font) {\n        return font.formats.length;\n    });\n};\n\nvar createStyleSheetFontsFromText = function createStyleSheetFontsFromText(text, baseHref) {\n    var doc = document.implementation.createHTMLDocument('');\n    var base = document.createElement('base');\n    // $FlowFixMe\n    base.href = baseHref;\n    var style = document.createElement('style');\n\n    style.textContent = text;\n    if (doc.head) {\n        doc.head.appendChild(base);\n    }\n    if (doc.body) {\n        doc.body.appendChild(style);\n    }\n\n    return style.sheet ? getSheetFonts(style.sheet, doc) : [];\n};\n\nvar restoreOwnerScroll = function restoreOwnerScroll(ownerDocument, x, y) {\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n};\n\nvar cloneCanvasContents = function cloneCanvasContents(canvas, clonedCanvas) {\n    try {\n        if (clonedCanvas) {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            var ctx = canvas.getContext('2d');\n            var clonedCtx = clonedCanvas.getContext('2d');\n            if (ctx) {\n                clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n            } else {\n                clonedCtx.drawImage(canvas, 0, 0);\n            }\n        }\n    } catch (e) {}\n};\n\nvar inlinePseudoElement = function inlinePseudoElement(node, clone, style, contentItems, pseudoElt) {\n    if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {\n        return;\n    }\n\n    var anonymousReplacedElement = clone.ownerDocument.createElement('html2canvaspseudoelement');\n    (0, _Util.copyCSSStyles)(style, anonymousReplacedElement);\n\n    if (contentItems) {\n        var len = contentItems.length;\n        for (var i = 0; i < len; i++) {\n            var item = contentItems[i];\n            switch (item.type) {\n                case _PseudoNodeContent.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:\n                    var img = clone.ownerDocument.createElement('img');\n                    img.src = (0, _background.parseBackgroundImage)('url(' + item.value + ')')[0].args[0];\n                    img.style.opacity = '1';\n                    anonymousReplacedElement.appendChild(img);\n                    break;\n                case _PseudoNodeContent.PSEUDO_CONTENT_ITEM_TYPE.TEXT:\n                    anonymousReplacedElement.appendChild(clone.ownerDocument.createTextNode(item.value));\n                    break;\n            }\n        }\n    }\n\n    anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n    clone.className += pseudoElt === PSEUDO_BEFORE ? ' ' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE : ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n    if (pseudoElt === PSEUDO_BEFORE) {\n        clone.insertBefore(anonymousReplacedElement, clone.firstChild);\n    } else {\n        clone.appendChild(anonymousReplacedElement);\n    }\n\n    return anonymousReplacedElement;\n};\n\nvar URL_REGEXP = /^url\\((.+)\\)$/i;\nvar PSEUDO_BEFORE = ':before';\nvar PSEUDO_AFTER = ':after';\nvar PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\nvar PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\n\nvar PSEUDO_HIDE_ELEMENT_STYLE = '{\\n    content: \"\" !important;\\n    display: none !important;\\n}';\n\nvar createPseudoHideStyles = function createPseudoHideStyles(body) {\n    createStyles(body, '.' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + '\\n         .' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\n};\n\nvar createStyles = function createStyles(body, styles) {\n    var style = body.ownerDocument.createElement('style');\n    style.innerHTML = styles;\n    body.appendChild(style);\n};\n\nvar initNode = function initNode(_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        element = _ref2[0],\n        x = _ref2[1],\n        y = _ref2[2];\n\n    element.scrollLeft = x;\n    element.scrollTop = y;\n};\n\nvar generateIframeKey = function generateIframeKey() {\n    return Math.ceil(Date.now() + Math.random() * 10000000).toString(16);\n};\n\nvar DATA_URI_REGEXP = /^data:text\\/(.+);(base64)?,(.*)$/i;\n\nvar getIframeDocumentElement = function getIframeDocumentElement(node, options) {\n    try {\n        return Promise.resolve(node.contentWindow.document.documentElement);\n    } catch (e) {\n        return options.proxy ? (0, _Proxy.Proxy)(node.src, options).then(function (html) {\n            var match = html.match(DATA_URI_REGEXP);\n            if (!match) {\n                return Promise.reject();\n            }\n\n            return match[2] === 'base64' ? window.atob(decodeURIComponent(match[3])) : decodeURIComponent(match[3]);\n        }).then(function (html) {\n            return createIframeContainer(node.ownerDocument, (0, _Bounds.parseBounds)(node, 0, 0)).then(function (cloneIframeContainer) {\n                var cloneWindow = cloneIframeContainer.contentWindow;\n                var documentClone = cloneWindow.document;\n\n                documentClone.open();\n                documentClone.write(html);\n                var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n                    return documentClone.documentElement;\n                });\n\n                documentClone.close();\n                return iframeLoad;\n            });\n        }) : Promise.reject();\n    }\n};\n\nvar createIframeContainer = function createIframeContainer(ownerDocument, bounds) {\n    var cloneIframeContainer = ownerDocument.createElement('iframe');\n\n    cloneIframeContainer.className = 'html2canvas-container';\n    cloneIframeContainer.style.visibility = 'hidden';\n    cloneIframeContainer.style.position = 'fixed';\n    cloneIframeContainer.style.left = '-10000px';\n    cloneIframeContainer.style.top = '0px';\n    cloneIframeContainer.style.border = '0';\n    cloneIframeContainer.width = bounds.width.toString();\n    cloneIframeContainer.height = bounds.height.toString();\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\n    cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\n    if (!ownerDocument.body) {\n        return Promise.reject( true ? 'Body element not found in Document that is getting rendered' : '');\n    }\n\n    ownerDocument.body.appendChild(cloneIframeContainer);\n\n    return Promise.resolve(cloneIframeContainer);\n};\n\nvar iframeLoader = function iframeLoader(cloneIframeContainer) {\n    var cloneWindow = cloneIframeContainer.contentWindow;\n    var documentClone = cloneWindow.document;\n\n    return new Promise(function (resolve, reject) {\n        cloneWindow.onload = cloneIframeContainer.onload = documentClone.onreadystatechange = function () {\n            var interval = setInterval(function () {\n                if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\n                    clearInterval(interval);\n                    resolve(cloneIframeContainer);\n                }\n            }, 50);\n        };\n    });\n};\n\nvar cloneWindow = exports.cloneWindow = function cloneWindow(ownerDocument, bounds, referenceElement, options, logger, renderer) {\n    var cloner = new DocumentCloner(referenceElement, options, logger, false, renderer);\n    var scrollX = ownerDocument.defaultView.pageXOffset;\n    var scrollY = ownerDocument.defaultView.pageYOffset;\n\n    return createIframeContainer(ownerDocument, bounds).then(function (cloneIframeContainer) {\n        var cloneWindow = cloneIframeContainer.contentWindow;\n        var documentClone = cloneWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n             if window url is about:blank, we can assign the url to current by writing onto the document\n             */\n\n        var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n            cloner.scrolledElements.forEach(initNode);\n            cloneWindow.scrollTo(bounds.left, bounds.top);\n            if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (cloneWindow.scrollY !== bounds.top || cloneWindow.scrollX !== bounds.left)) {\n                documentClone.documentElement.style.top = -bounds.top + 'px';\n                documentClone.documentElement.style.left = -bounds.left + 'px';\n                documentClone.documentElement.style.position = 'absolute';\n            }\n\n            var result = Promise.resolve([cloneIframeContainer, cloner.clonedReferenceElement, cloner.resourceLoader]);\n\n            var onclone = options.onclone;\n\n            return cloner.clonedReferenceElement instanceof cloneWindow.HTMLElement || cloner.clonedReferenceElement instanceof ownerDocument.defaultView.HTMLElement || cloner.clonedReferenceElement instanceof HTMLElement ? typeof onclone === 'function' ? Promise.resolve().then(function () {\n                return onclone(documentClone);\n            }).then(function () {\n                return result;\n            }) : result : Promise.reject( true ? 'Error finding the ' + referenceElement.nodeName + ' in the cloned document' : '');\n        });\n\n        documentClone.open();\n        documentClone.write(serializeDoctype(document.doctype) + '<html></html>');\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(referenceElement.ownerDocument, scrollX, scrollY);\n        documentClone.replaceChild(documentClone.adoptNode(cloner.documentElement), documentClone.documentElement);\n        documentClone.close();\n\n        return iframeLoad;\n    });\n};\n\nvar serializeDoctype = function serializeDoctype(doctype) {\n    var str = '';\n    if (doctype) {\n        str += '<!DOCTYPE ';\n        if (doctype.name) {\n            str += doctype.name;\n        }\n\n        if (doctype.internalSubset) {\n            str += doctype.internalSubset;\n        }\n\n        if (doctype.publicId) {\n            str += '\"' + doctype.publicId + '\"';\n        }\n\n        if (doctype.systemId) {\n            str += '\"' + doctype.systemId + '\"';\n        }\n\n        str += '>';\n    }\n\n    return str;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL0Nsb25lLmpzPzg1Y2EiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2Sjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQSw0Q0FBNEM7QUFDNUMscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDZDQUE2QyxPQUFPO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLFNBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0MsNkJBQTZCLCtCQUErQixHQUFHOztBQUVqRztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDOztBQUV4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiIxMDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2xvbmVXaW5kb3cgPSBleHBvcnRzLkRvY3VtZW50Q2xvbmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi9Cb3VuZHMnKTtcblxudmFyIF9Qcm94eSA9IHJlcXVpcmUoJy4vUHJveHknKTtcblxudmFyIF9SZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJy4vUmVzb3VyY2VMb2FkZXInKTtcblxudmFyIF9SZXNvdXJjZUxvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXNvdXJjZUxvYWRlcik7XG5cbnZhciBfVXRpbCA9IHJlcXVpcmUoJy4vVXRpbCcpO1xuXG52YXIgX2JhY2tncm91bmQgPSByZXF1aXJlKCcuL3BhcnNpbmcvYmFja2dyb3VuZCcpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlci9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9Qc2V1ZG9Ob2RlQ29udGVudCA9IHJlcXVpcmUoJy4vUHNldWRvTm9kZUNvbnRlbnQnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIElHTk9SRV9BVFRSSUJVVEUgPSAnZGF0YS1odG1sMmNhbnZhcy1pZ25vcmUnO1xuXG52YXIgRG9jdW1lbnRDbG9uZXIgPSBleHBvcnRzLkRvY3VtZW50Q2xvbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERvY3VtZW50Q2xvbmVyKGVsZW1lbnQsIG9wdGlvbnMsIGxvZ2dlciwgY29weUlubGluZSwgcmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERvY3VtZW50Q2xvbmVyKTtcblxuICAgICAgICB0aGlzLnJlZmVyZW5jZUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnNjcm9sbGVkRWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5jb3B5U3R5bGVzID0gY29weUlubGluZTtcbiAgICAgICAgdGhpcy5pbmxpbmVJbWFnZXMgPSBjb3B5SW5saW5lO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLnJlc291cmNlTG9hZGVyID0gbmV3IF9SZXNvdXJjZUxvYWRlcjIuZGVmYXVsdChvcHRpb25zLCBsb2dnZXIsIHdpbmRvdyk7XG4gICAgICAgIHRoaXMucHNldWRvQ29udGVudERhdGEgPSB7XG4gICAgICAgICAgICBjb3VudGVyczoge30sXG4gICAgICAgICAgICBxdW90ZURlcHRoOiAwXG4gICAgICAgIH07XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgdGhpcy5kb2N1bWVudEVsZW1lbnQgPSB0aGlzLmNsb25lTm9kZShlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRG9jdW1lbnRDbG9uZXIsIFt7XG4gICAgICAgIGtleTogJ2lubGluZUFsbEltYWdlcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbmxpbmVBbGxJbWFnZXMobm9kZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW5saW5lSW1hZ2VzICYmIG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBub2RlLnN0eWxlO1xuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKCgwLCBfYmFja2dyb3VuZC5wYXJzZUJhY2tncm91bmRJbWFnZSkoc3R5bGUuYmFja2dyb3VuZEltYWdlKS5tYXAoZnVuY3Rpb24gKGJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZEltYWdlLm1ldGhvZCA9PT0gJ3VybCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZXNvdXJjZUxvYWRlci5pbmxpbmVJbWFnZShiYWNrZ3JvdW5kSW1hZ2UuYXJnc1swXSkudGhlbihmdW5jdGlvbiAoaW1nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltZyAmJiB0eXBlb2YgaW1nLnNyYyA9PT0gJ3N0cmluZycgPyAndXJsKFwiJyArIGltZy5zcmMgKyAnXCIpJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZygnVW5hYmxlIHRvIGxvYWQgaW1hZ2UnLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnICsgYmFja2dyb3VuZEltYWdlLnByZWZpeCArIGJhY2tncm91bmRJbWFnZS5tZXRob2QgKyAnKCcgKyBiYWNrZ3JvdW5kSW1hZ2UuYXJncy5qb2luKCcsJykgKyAnKScpO1xuICAgICAgICAgICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChiYWNrZ3JvdW5kSW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gTXVsdGlwbGUgYmFja2dyb3VuZHMgc29tZWhvdyBicm9rZW4gaW4gQ2hyb21lXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBiYWNrZ3JvdW5kSW1hZ2VzLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlTG9hZGVyLmlubGluZUltYWdlKG5vZGUuc3JjKS50aGVuKGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcgJiYgbm9kZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQgJiYgbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb25lZENoaWxkID0gKDAsIF9VdGlsLmNvcHlDU1NTdHlsZXMpKG5vZGUuc3R5bGUsIGltZy5jbG9uZU5vZGUoZmFsc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChjbG9uZWRDaGlsZCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coJ1VuYWJsZSB0byBsb2FkIGltYWdlJywgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaW5saW5lRm9udHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5saW5lRm9udHMoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoQXJyYXkuZnJvbShkb2N1bWVudC5zdHlsZVNoZWV0cykubWFwKGZ1bmN0aW9uIChzaGVldCkge1xuICAgICAgICAgICAgICAgIGlmIChzaGVldC5ocmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChzaGVldC5ocmVmKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlU3R5bGVTaGVldEZvbnRzRnJvbVRleHQodGV4dCwgc2hlZXQuaHJlZik7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2dnZXIubG9nKCdVbmFibGUgdG8gbG9hZCBzdHlsZXNoZWV0JywgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2hlZXRGb250cyhzaGVldCwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKGZvbnRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmb250KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MuY29uY2F0KGZvbnQpO1xuICAgICAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGZvbnRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZvbnRzLm1hcChmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZm9udC5mb3JtYXRzWzBdLnNyYykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YVVyaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC5mb250RmFjZS5zZXRQcm9wZXJ0eSgnc3JjJywgJ3VybChcIicgKyBkYXRhVXJpICsgJ1wiKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdAZm9udC1mYWNlIHsnICsgZm9udC5mb250RmFjZS5jc3NUZXh0ICsgJyAnO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChmb250Q3NzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGZvbnRDc3Muam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMyLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY3JlYXRlRWxlbWVudENsb25lJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRDbG9uZShub2RlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMuY29weVN0eWxlcyAmJiBub2RlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBub2RlLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1nO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnVW5hYmxlIHRvIGNsb25lIGNhbnZhcyBjb250ZW50cywgY2FudmFzIGlzIHRhaW50ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wSWZyYW1lID0gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHZhciBpZnJhbWVLZXkgPSBnZW5lcmF0ZUlmcmFtZUtleSgpO1xuICAgICAgICAgICAgICAgIHRlbXBJZnJhbWUuc2V0QXR0cmlidXRlKCdkYXRhLWh0bWwyY2FudmFzLWludGVybmFsLWlmcmFtZS1rZXknLCBpZnJhbWVLZXkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIF9wYXJzZUJvdW5kcyA9ICgwLCBfQm91bmRzLnBhcnNlQm91bmRzKShub2RlLCAwLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBfcGFyc2VCb3VuZHMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IF9wYXJzZUJvdW5kcy5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlTG9hZGVyLmNhY2hlW2lmcmFtZUtleV0gPSBnZXRJZnJhbWVEb2N1bWVudEVsZW1lbnQobm9kZSwgdGhpcy5vcHRpb25zKS50aGVuKGZ1bmN0aW9uIChkb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5yZW5kZXJlcihkb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jOiBfdGhpczMub3B0aW9ucy5hc3luYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93VGFpbnQ6IF90aGlzMy5vcHRpb25zLmFsbG93VGFpbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVGltZW91dDogX3RoaXMzLm9wdGlvbnMuaW1hZ2VUaW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZzogX3RoaXMzLm9wdGlvbnMubG9nZ2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiBfdGhpczMub3B0aW9ucy5wcm94eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvbnRhaW5lcjogX3RoaXMzLm9wdGlvbnMucmVtb3ZlQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF90aGlzMy5vcHRpb25zLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWlnbk9iamVjdFJlbmRlcmluZzogX3RoaXMzLm9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IF90aGlzMy5vcHRpb25zLnVzZUNPUlMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG5ldyBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYOiBkb2N1bWVudEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzMy5sb2dnZXIuY2hpbGQoaWZyYW1lS2V5KSk7XG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWZyYW1lQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGNhbnZhcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBJZnJhbWUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJZnJhbWUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoKDAsIF9VdGlsLmNvcHlDU1NTdHlsZXMpKG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpLCBpZnJhbWVDYW52YXMpLCB0ZW1wSWZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBJZnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCAmJiBub2RlLnNoZWV0ICYmIG5vZGUuc2hlZXQuY3NzUnVsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3NzID0gW10uc2xpY2UuY2FsbChub2RlLnNoZWV0LmNzc1J1bGVzLCAwKS5yZWR1Y2UoZnVuY3Rpb24gKGNzcywgcnVsZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUgJiYgcnVsZS5jc3NUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzcyArIHJ1bGUuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3M7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmxvZ2dlci5sb2coJ1VuYWJsZSB0byBhY2Nlc3MgY3NzVGV4dCBwcm9wZXJ0eScsIHJ1bGUubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3NzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgJycpO1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGNzcztcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Nsb25lTm9kZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZU5vZGUobm9kZSkge1xuICAgICAgICAgICAgdmFyIGNsb25lID0gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLm5vZGVWYWx1ZSkgOiB0aGlzLmNyZWF0ZUVsZW1lbnRDbG9uZShub2RlKTtcblxuICAgICAgICAgICAgdmFyIHdpbmRvdyA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IG5vZGUgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgc3R5bGVCZWZvcmUgPSBub2RlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50ID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSwgJzpiZWZvcmUnKSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgc3R5bGVBZnRlciA9IG5vZGUgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnOmFmdGVyJykgOiBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2VFbGVtZW50ID09PSBub2RlICYmIGNsb25lIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID0gY2xvbmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjbG9uZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQm9keUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVQc2V1ZG9IaWRlU3R5bGVzKGNsb25lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNvdW50ZXJzID0gKDAsIF9Qc2V1ZG9Ob2RlQ29udGVudC5wYXJzZUNvdW50ZXJSZXNldCkoc3R5bGUsIHRoaXMucHNldWRvQ29udGVudERhdGEpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRCZWZvcmUgPSAoMCwgX1BzZXVkb05vZGVDb250ZW50LnJlc29sdmVQc2V1ZG9Db250ZW50KShub2RlLCBzdHlsZUJlZm9yZSwgdGhpcy5wc2V1ZG9Db250ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGNoaWxkID0gbm9kZS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUgfHwgY2hpbGQubm9kZU5hbWUgIT09ICdTQ1JJUFQnICYmXG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgICAgICFjaGlsZC5oYXNBdHRyaWJ1dGUoSUdOT1JFX0FUVFJJQlVURSkgJiYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaWdub3JlRWxlbWVudHMgIT09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgIXRoaXMub3B0aW9ucy5pZ25vcmVFbGVtZW50cyhjaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb3B5U3R5bGVzIHx8IGNoaWxkLm5vZGVOYW1lICE9PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZCh0aGlzLmNsb25lTm9kZShjaGlsZCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29udGVudEFmdGVyID0gKDAsIF9Qc2V1ZG9Ob2RlQ29udGVudC5yZXNvbHZlUHNldWRvQ29udGVudCkobm9kZSwgc3R5bGVBZnRlciwgdGhpcy5wc2V1ZG9Db250ZW50RGF0YSk7XG4gICAgICAgICAgICAoMCwgX1BzZXVkb05vZGVDb250ZW50LnBvcENvdW50ZXJzKShjb3VudGVycywgdGhpcy5wc2V1ZG9Db250ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50ICYmIGNsb25lIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lQWxsSW1hZ2VzKGlubGluZVBzZXVkb0VsZW1lbnQobm9kZSwgY2xvbmUsIHN0eWxlQmVmb3JlLCBjb250ZW50QmVmb3JlLCBQU0VVRE9fQkVGT1JFKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZUFmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lQWxsSW1hZ2VzKGlubGluZVBzZXVkb0VsZW1lbnQobm9kZSwgY2xvbmUsIHN0eWxlQWZ0ZXIsIGNvbnRlbnRBZnRlciwgUFNFVURPX0FGVEVSKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZSAmJiB0aGlzLmNvcHlTdHlsZXMgJiYgIShub2RlIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBfVXRpbC5jb3B5Q1NTU3R5bGVzKShzdHlsZSwgY2xvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmlubGluZUFsbEltYWdlcyhjbG9uZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuc2Nyb2xsVG9wICE9PSAwIHx8IG5vZGUuc2Nyb2xsTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVkRWxlbWVudHMucHVzaChbY2xvbmUsIG5vZGUuc2Nyb2xsTGVmdCwgbm9kZS5zY3JvbGxUb3BdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NBTlZBUyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29weVN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lQ2FudmFzQ29udGVudHMobm9kZSwgY2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RFWFRBUkVBJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU0VMRUNUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLnZhbHVlID0gbm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEb2N1bWVudENsb25lcjtcbn0oKTtcblxudmFyIGdldFNoZWV0Rm9udHMgPSBmdW5jdGlvbiBnZXRTaGVldEZvbnRzKHNoZWV0LCBkb2N1bWVudCkge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICByZXR1cm4gKHNoZWV0LmNzc1J1bGVzID8gQXJyYXkuZnJvbShzaGVldC5jc3NSdWxlcykgOiBbXSkuZmlsdGVyKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHJldHVybiBydWxlLnR5cGUgPT09IENTU1J1bGUuRk9OVF9GQUNFX1JVTEU7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHZhciBzcmMgPSAoMCwgX2JhY2tncm91bmQucGFyc2VCYWNrZ3JvdW5kSW1hZ2UpKHJ1bGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnc3JjJykpO1xuICAgICAgICB2YXIgZm9ybWF0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNyY1tpXS5tZXRob2QgPT09ICd1cmwnICYmIHNyY1tpICsgMV0gJiYgc3JjW2kgKyAxXS5tZXRob2QgPT09ICdmb3JtYXQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgICAgYS5ocmVmID0gc3JjW2ldLmFyZ3NbMF07XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZm9udCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBhLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogc3JjW2kgKyAxXS5hcmdzWzBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3JtYXRzLnB1c2goZm9udCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gVE9ETyBzZWxlY3QgY29ycmVjdCBmb3JtYXQgZm9yIGJyb3dzZXIpLFxuXG4gICAgICAgICAgICBmb3JtYXRzOiBmb3JtYXRzLmZpbHRlcihmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoL153b2ZmL2kudGVzdChmb250LmZvcm1hdClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmb250RmFjZTogcnVsZS5zdHlsZVxuICAgICAgICB9O1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICByZXR1cm4gZm9udC5mb3JtYXRzLmxlbmd0aDtcbiAgICB9KTtcbn07XG5cbnZhciBjcmVhdGVTdHlsZVNoZWV0Rm9udHNGcm9tVGV4dCA9IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlU2hlZXRGb250c0Zyb21UZXh0KHRleHQsIGJhc2VIcmVmKSB7XG4gICAgdmFyIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7XG4gICAgdmFyIGJhc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdiYXNlJyk7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIGJhc2UuaHJlZiA9IGJhc2VIcmVmO1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgaWYgKGRvYy5oZWFkKSB7XG4gICAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKGJhc2UpO1xuICAgIH1cbiAgICBpZiAoZG9jLmJvZHkpIHtcbiAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZS5zaGVldCA/IGdldFNoZWV0Rm9udHMoc3R5bGUuc2hlZXQsIGRvYykgOiBbXTtcbn07XG5cbnZhciByZXN0b3JlT3duZXJTY3JvbGwgPSBmdW5jdGlvbiByZXN0b3JlT3duZXJTY3JvbGwob3duZXJEb2N1bWVudCwgeCwgeSkge1xuICAgIGlmIChvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3ICYmICh4ICE9PSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0IHx8IHkgIT09IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQpKSB7XG4gICAgICAgIG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuc2Nyb2xsVG8oeCwgeSk7XG4gICAgfVxufTtcblxudmFyIGNsb25lQ2FudmFzQ29udGVudHMgPSBmdW5jdGlvbiBjbG9uZUNhbnZhc0NvbnRlbnRzKGNhbnZhcywgY2xvbmVkQ2FudmFzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGNsb25lZENhbnZhcykge1xuICAgICAgICAgICAgY2xvbmVkQ2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgY2xvbmVkQ2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICB2YXIgY2xvbmVkQ3R4ID0gY2xvbmVkQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBpZiAoY3R4KSB7XG4gICAgICAgICAgICAgICAgY2xvbmVkQ3R4LnB1dEltYWdlRGF0YShjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCksIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9uZWRDdHguZHJhd0ltYWdlKGNhbnZhcywgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxufTtcblxudmFyIGlubGluZVBzZXVkb0VsZW1lbnQgPSBmdW5jdGlvbiBpbmxpbmVQc2V1ZG9FbGVtZW50KG5vZGUsIGNsb25lLCBzdHlsZSwgY29udGVudEl0ZW1zLCBwc2V1ZG9FbHQpIHtcbiAgICBpZiAoIXN0eWxlIHx8ICFzdHlsZS5jb250ZW50IHx8IHN0eWxlLmNvbnRlbnQgPT09ICdub25lJyB8fCBzdHlsZS5jb250ZW50ID09PSAnLW1vei1hbHQtY29udGVudCcgfHwgc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50ID0gY2xvbmUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdodG1sMmNhbnZhc3BzZXVkb2VsZW1lbnQnKTtcbiAgICAoMCwgX1V0aWwuY29weUNTU1N0eWxlcykoc3R5bGUsIGFub255bW91c1JlcGxhY2VkRWxlbWVudCk7XG5cbiAgICBpZiAoY29udGVudEl0ZW1zKSB7XG4gICAgICAgIHZhciBsZW4gPSBjb250ZW50SXRlbXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGNvbnRlbnRJdGVtc1tpXTtcbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBfUHNldWRvTm9kZUNvbnRlbnQuUFNFVURPX0NPTlRFTlRfSVRFTV9UWVBFLklNQUdFOlxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gY2xvbmUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9ICgwLCBfYmFja2dyb3VuZC5wYXJzZUJhY2tncm91bmRJbWFnZSkoJ3VybCgnICsgaXRlbS52YWx1ZSArICcpJylbMF0uYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIF9Qc2V1ZG9Ob2RlQ29udGVudC5QU0VVRE9fQ09OVEVOVF9JVEVNX1RZUEUuVEVYVDpcbiAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGNsb25lLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaXRlbS52YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5jbGFzc05hbWUgPSBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRSArICcgJyArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVI7XG4gICAgY2xvbmUuY2xhc3NOYW1lICs9IHBzZXVkb0VsdCA9PT0gUFNFVURPX0JFRk9SRSA/ICcgJyArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFIDogJyAnICsgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19BRlRFUjtcbiAgICBpZiAocHNldWRvRWx0ID09PSBQU0VVRE9fQkVGT1JFKSB7XG4gICAgICAgIGNsb25lLmluc2VydEJlZm9yZShhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQsIGNsb25lLmZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb25lLmFwcGVuZENoaWxkKGFub255bW91c1JlcGxhY2VkRWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFub255bW91c1JlcGxhY2VkRWxlbWVudDtcbn07XG5cbnZhciBVUkxfUkVHRVhQID0gL151cmxcXCgoLispXFwpJC9pO1xudmFyIFBTRVVET19CRUZPUkUgPSAnOmJlZm9yZSc7XG52YXIgUFNFVURPX0FGVEVSID0gJzphZnRlcic7XG52YXIgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkUgPSAnX19faHRtbDJjYW52YXNfX19wc2V1ZG9lbGVtZW50X2JlZm9yZSc7XG52YXIgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19BRlRFUiA9ICdfX19odG1sMmNhbnZhc19fX3BzZXVkb2VsZW1lbnRfYWZ0ZXInO1xuXG52YXIgUFNFVURPX0hJREVfRUxFTUVOVF9TVFlMRSA9ICd7XFxuICAgIGNvbnRlbnQ6IFwiXCIgIWltcG9ydGFudDtcXG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbn0nO1xuXG52YXIgY3JlYXRlUHNldWRvSGlkZVN0eWxlcyA9IGZ1bmN0aW9uIGNyZWF0ZVBzZXVkb0hpZGVTdHlsZXMoYm9keSkge1xuICAgIGNyZWF0ZVN0eWxlcyhib2R5LCAnLicgKyBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRSArIFBTRVVET19CRUZPUkUgKyBQU0VVRE9fSElERV9FTEVNRU5UX1NUWUxFICsgJ1xcbiAgICAgICAgIC4nICsgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19BRlRFUiArIFBTRVVET19BRlRFUiArIFBTRVVET19ISURFX0VMRU1FTlRfU1RZTEUpO1xufTtcblxudmFyIGNyZWF0ZVN0eWxlcyA9IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlcyhib2R5LCBzdHlsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBib2R5Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS5pbm5lckhUTUwgPSBzdHlsZXM7XG4gICAgYm9keS5hcHBlbmRDaGlsZChzdHlsZSk7XG59O1xuXG52YXIgaW5pdE5vZGUgPSBmdW5jdGlvbiBpbml0Tm9kZShfcmVmKSB7XG4gICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMyksXG4gICAgICAgIGVsZW1lbnQgPSBfcmVmMlswXSxcbiAgICAgICAgeCA9IF9yZWYyWzFdLFxuICAgICAgICB5ID0gX3JlZjJbMl07XG5cbiAgICBlbGVtZW50LnNjcm9sbExlZnQgPSB4O1xuICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0geTtcbn07XG5cbnZhciBnZW5lcmF0ZUlmcmFtZUtleSA9IGZ1bmN0aW9uIGdlbmVyYXRlSWZyYW1lS2V5KCkge1xuICAgIHJldHVybiBNYXRoLmNlaWwoRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMCkudG9TdHJpbmcoMTYpO1xufTtcblxudmFyIERBVEFfVVJJX1JFR0VYUCA9IC9eZGF0YTp0ZXh0XFwvKC4rKTsoYmFzZTY0KT8sKC4qKSQvaTtcblxudmFyIGdldElmcmFtZURvY3VtZW50RWxlbWVudCA9IGZ1bmN0aW9uIGdldElmcmFtZURvY3VtZW50RWxlbWVudChub2RlLCBvcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2RlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLnByb3h5ID8gKDAsIF9Qcm94eS5Qcm94eSkobm9kZS5zcmMsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGh0bWwubWF0Y2goREFUQV9VUklfUkVHRVhQKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzJdID09PSAnYmFzZTY0JyA/IHdpbmRvdy5hdG9iKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkpIDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUlmcmFtZUNvbnRhaW5lcihub2RlLm93bmVyRG9jdW1lbnQsICgwLCBfQm91bmRzLnBhcnNlQm91bmRzKShub2RlLCAwLCAwKSkudGhlbihmdW5jdGlvbiAoY2xvbmVJZnJhbWVDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xvbmVXaW5kb3cgPSBjbG9uZUlmcmFtZUNvbnRhaW5lci5jb250ZW50V2luZG93O1xuICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudENsb25lID0gY2xvbmVXaW5kb3cuZG9jdW1lbnQ7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLm9wZW4oKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLndyaXRlKGh0bWwpO1xuICAgICAgICAgICAgICAgIHZhciBpZnJhbWVMb2FkID0gaWZyYW1lTG9hZGVyKGNsb25lSWZyYW1lQ29udGFpbmVyKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50Q2xvbmUuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpZnJhbWVMb2FkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pIDogUHJvbWlzZS5yZWplY3QoKTtcbiAgICB9XG59O1xuXG52YXIgY3JlYXRlSWZyYW1lQ29udGFpbmVyID0gZnVuY3Rpb24gY3JlYXRlSWZyYW1lQ29udGFpbmVyKG93bmVyRG9jdW1lbnQsIGJvdW5kcykge1xuICAgIHZhciBjbG9uZUlmcmFtZUNvbnRhaW5lciA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG5cbiAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5jbGFzc05hbWUgPSAnaHRtbDJjYW52YXMtY29udGFpbmVyJztcbiAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLmxlZnQgPSAnLTEwMDAwcHgnO1xuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci53aWR0aCA9IGJvdW5kcy53aWR0aC50b1N0cmluZygpO1xuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLmhlaWdodCA9IGJvdW5kcy5oZWlnaHQudG9TdHJpbmcoKTtcbiAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zY3JvbGxpbmcgPSAnbm8nOyAvLyBpb3Mgd29uJ3Qgc2Nyb2xsIHdpdGhvdXQgaXRcbiAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoSUdOT1JFX0FUVFJJQlVURSwgJ3RydWUnKTtcbiAgICBpZiAoIW93bmVyRG9jdW1lbnQuYm9keSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICdCb2R5IGVsZW1lbnQgbm90IGZvdW5kIGluIERvY3VtZW50IHRoYXQgaXMgZ2V0dGluZyByZW5kZXJlZCcgOiAnJyk7XG4gICAgfVxuXG4gICAgb3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNsb25lSWZyYW1lQ29udGFpbmVyKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2xvbmVJZnJhbWVDb250YWluZXIpO1xufTtcblxudmFyIGlmcmFtZUxvYWRlciA9IGZ1bmN0aW9uIGlmcmFtZUxvYWRlcihjbG9uZUlmcmFtZUNvbnRhaW5lcikge1xuICAgIHZhciBjbG9uZVdpbmRvdyA9IGNsb25lSWZyYW1lQ29udGFpbmVyLmNvbnRlbnRXaW5kb3c7XG4gICAgdmFyIGRvY3VtZW50Q2xvbmUgPSBjbG9uZVdpbmRvdy5kb2N1bWVudDtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGNsb25lV2luZG93Lm9ubG9hZCA9IGNsb25lSWZyYW1lQ29udGFpbmVyLm9ubG9hZCA9IGRvY3VtZW50Q2xvbmUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudENsb25lLmJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwICYmIGRvY3VtZW50Q2xvbmUucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjbG9uZUlmcmFtZUNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxudmFyIGNsb25lV2luZG93ID0gZXhwb3J0cy5jbG9uZVdpbmRvdyA9IGZ1bmN0aW9uIGNsb25lV2luZG93KG93bmVyRG9jdW1lbnQsIGJvdW5kcywgcmVmZXJlbmNlRWxlbWVudCwgb3B0aW9ucywgbG9nZ2VyLCByZW5kZXJlcikge1xuICAgIHZhciBjbG9uZXIgPSBuZXcgRG9jdW1lbnRDbG9uZXIocmVmZXJlbmNlRWxlbWVudCwgb3B0aW9ucywgbG9nZ2VyLCBmYWxzZSwgcmVuZGVyZXIpO1xuICAgIHZhciBzY3JvbGxYID0gb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldDtcbiAgICB2YXIgc2Nyb2xsWSA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQ7XG5cbiAgICByZXR1cm4gY3JlYXRlSWZyYW1lQ29udGFpbmVyKG93bmVyRG9jdW1lbnQsIGJvdW5kcykudGhlbihmdW5jdGlvbiAoY2xvbmVJZnJhbWVDb250YWluZXIpIHtcbiAgICAgICAgdmFyIGNsb25lV2luZG93ID0gY2xvbmVJZnJhbWVDb250YWluZXIuY29udGVudFdpbmRvdztcbiAgICAgICAgdmFyIGRvY3VtZW50Q2xvbmUgPSBjbG9uZVdpbmRvdy5kb2N1bWVudDtcblxuICAgICAgICAvKiBDaHJvbWUgZG9lc24ndCBkZXRlY3QgcmVsYXRpdmUgYmFja2dyb3VuZC1pbWFnZXMgYXNzaWduZWQgaW4gaW5saW5lIDxzdHlsZT4gc2hlZXRzIHdoZW4gZmV0Y2hlZCB0aHJvdWdoIGdldENvbXB1dGVkU3R5bGVcbiAgICAgICAgICAgICBpZiB3aW5kb3cgdXJsIGlzIGFib3V0OmJsYW5rLCB3ZSBjYW4gYXNzaWduIHRoZSB1cmwgdG8gY3VycmVudCBieSB3cml0aW5nIG9udG8gdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB2YXIgaWZyYW1lTG9hZCA9IGlmcmFtZUxvYWRlcihjbG9uZUlmcmFtZUNvbnRhaW5lcikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbG9uZXIuc2Nyb2xsZWRFbGVtZW50cy5mb3JFYWNoKGluaXROb2RlKTtcbiAgICAgICAgICAgIGNsb25lV2luZG93LnNjcm9sbFRvKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wKTtcbiAgICAgICAgICAgIGlmICgvKGlQYWR8aVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAoY2xvbmVXaW5kb3cuc2Nyb2xsWSAhPT0gYm91bmRzLnRvcCB8fCBjbG9uZVdpbmRvdy5zY3JvbGxYICE9PSBib3VuZHMubGVmdCkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS50b3AgPSAtYm91bmRzLnRvcCArICdweCc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQuc3R5bGUubGVmdCA9IC1ib3VuZHMubGVmdCArICdweCc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKFtjbG9uZUlmcmFtZUNvbnRhaW5lciwgY2xvbmVyLmNsb25lZFJlZmVyZW5jZUVsZW1lbnQsIGNsb25lci5yZXNvdXJjZUxvYWRlcl0pO1xuXG4gICAgICAgICAgICB2YXIgb25jbG9uZSA9IG9wdGlvbnMub25jbG9uZTtcblxuICAgICAgICAgICAgcmV0dXJuIGNsb25lci5jbG9uZWRSZWZlcmVuY2VFbGVtZW50IGluc3RhbmNlb2YgY2xvbmVXaW5kb3cuSFRNTEVsZW1lbnQgfHwgY2xvbmVyLmNsb25lZFJlZmVyZW5jZUVsZW1lbnQgaW5zdGFuY2VvZiBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LkhUTUxFbGVtZW50IHx8IGNsb25lci5jbG9uZWRSZWZlcmVuY2VFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyB0eXBlb2Ygb25jbG9uZSA9PT0gJ2Z1bmN0aW9uJyA/IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbmNsb25lKGRvY3VtZW50Q2xvbmUpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0pIDogcmVzdWx0IDogUHJvbWlzZS5yZWplY3QocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICdFcnJvciBmaW5kaW5nIHRoZSAnICsgcmVmZXJlbmNlRWxlbWVudC5ub2RlTmFtZSArICcgaW4gdGhlIGNsb25lZCBkb2N1bWVudCcgOiAnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50Q2xvbmUub3BlbigpO1xuICAgICAgICBkb2N1bWVudENsb25lLndyaXRlKHNlcmlhbGl6ZURvY3R5cGUoZG9jdW1lbnQuZG9jdHlwZSkgKyAnPGh0bWw+PC9odG1sPicpO1xuICAgICAgICAvLyBDaHJvbWUgc2Nyb2xscyB0aGUgcGFyZW50IGRvY3VtZW50IGZvciBzb21lIHJlYXNvbiBhZnRlciB0aGUgd3JpdGUgdG8gdGhlIGNsb25lZCB3aW5kb3c/Pz9cbiAgICAgICAgcmVzdG9yZU93bmVyU2Nyb2xsKHJlZmVyZW5jZUVsZW1lbnQub3duZXJEb2N1bWVudCwgc2Nyb2xsWCwgc2Nyb2xsWSk7XG4gICAgICAgIGRvY3VtZW50Q2xvbmUucmVwbGFjZUNoaWxkKGRvY3VtZW50Q2xvbmUuYWRvcHROb2RlKGNsb25lci5kb2N1bWVudEVsZW1lbnQpLCBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIGRvY3VtZW50Q2xvbmUuY2xvc2UoKTtcblxuICAgICAgICByZXR1cm4gaWZyYW1lTG9hZDtcbiAgICB9KTtcbn07XG5cbnZhciBzZXJpYWxpemVEb2N0eXBlID0gZnVuY3Rpb24gc2VyaWFsaXplRG9jdHlwZShkb2N0eXBlKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIGlmIChkb2N0eXBlKSB7XG4gICAgICAgIHN0ciArPSAnPCFET0NUWVBFICc7XG4gICAgICAgIGlmIChkb2N0eXBlLm5hbWUpIHtcbiAgICAgICAgICAgIHN0ciArPSBkb2N0eXBlLm5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9jdHlwZS5pbnRlcm5hbFN1YnNldCkge1xuICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUuaW50ZXJuYWxTdWJzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9jdHlwZS5wdWJsaWNJZCkge1xuICAgICAgICAgICAgc3RyICs9ICdcIicgKyBkb2N0eXBlLnB1YmxpY0lkICsgJ1wiJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb2N0eXBlLnN5c3RlbUlkKSB7XG4gICAgICAgICAgICBzdHIgKz0gJ1wiJyArIGRvY3R5cGUuc3lzdGVtSWQgKyAnXCInO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9ICc+JztcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vQ2xvbmUuanNcbi8vIG1vZHVsZSBpZCA9IDEwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Proxy = undefined;\n\nvar _Feature = __webpack_require__(88);\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Proxy = exports.Proxy = function Proxy(src, options) {\n    if (!options.proxy) {\n        return Promise.reject( true ? 'No proxy defined' : null);\n    }\n    var proxy = options.proxy;\n\n    return new Promise(function (resolve, reject) {\n        var responseType = _Feature2.default.SUPPORT_CORS_XHR && _Feature2.default.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n        var xhr = _Feature2.default.SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();\n        xhr.onload = function () {\n            if (xhr instanceof XMLHttpRequest) {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        var reader = new FileReader();\n                        // $FlowFixMe\n                        reader.addEventListener('load', function () {\n                            return resolve(reader.result);\n                        }, false);\n                        // $FlowFixMe\n                        reader.addEventListener('error', function (e) {\n                            return reject(e);\n                        }, false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject( true ? 'Failed to proxy resource ' + src.substring(0, 256) + ' with status code ' + xhr.status : '');\n                }\n            } else {\n                resolve(xhr.responseText);\n            }\n        };\n\n        xhr.onerror = reject;\n        xhr.open('GET', proxy + '?url=' + encodeURIComponent(src) + '&responseType=' + responseType);\n\n        if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n            xhr.responseType = responseType;\n        }\n\n        if (options.imageTimeout) {\n            var timeout = options.imageTimeout;\n            xhr.timeout = timeout;\n            xhr.ontimeout = function () {\n                return reject( true ? 'Timed out (' + timeout + 'ms) proxying ' + src.substring(0, 256) : '');\n            };\n        }\n\n        xhr.send();\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1Byb3h5LmpzPzJjMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMIiwiZmlsZSI6IjEwMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5Qcm94eSA9IHVuZGVmaW5lZDtcblxudmFyIF9GZWF0dXJlID0gcmVxdWlyZSgnLi9GZWF0dXJlJyk7XG5cbnZhciBfRmVhdHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GZWF0dXJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFByb3h5ID0gZXhwb3J0cy5Qcm94eSA9IGZ1bmN0aW9uIFByb3h5KHNyYywgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wcm94eSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICdObyBwcm94eSBkZWZpbmVkJyA6IG51bGwpO1xuICAgIH1cbiAgICB2YXIgcHJveHkgPSBvcHRpb25zLnByb3h5O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlVHlwZSA9IF9GZWF0dXJlMi5kZWZhdWx0LlNVUFBPUlRfQ09SU19YSFIgJiYgX0ZlYXR1cmUyLmRlZmF1bHQuU1VQUE9SVF9SRVNQT05TRV9UWVBFID8gJ2Jsb2InIDogJ3RleHQnO1xuICAgICAgICB2YXIgeGhyID0gX0ZlYXR1cmUyLmRlZmF1bHQuU1VQUE9SVF9DT1JTX1hIUiA/IG5ldyBYTUxIdHRwUmVxdWVzdCgpIDogbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICdGYWlsZWQgdG8gcHJveHkgcmVzb3VyY2UgJyArIHNyYy5zdWJzdHJpbmcoMCwgMjU2KSArICcgd2l0aCBzdGF0dXMgY29kZSAnICsgeGhyLnN0YXR1cyA6ICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgeGhyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCBwcm94eSArICc/dXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQoc3JjKSArICcmcmVzcG9uc2VUeXBlPScgKyByZXNwb25zZVR5cGUpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgIT09ICd0ZXh0JyAmJiB4aHIgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmltYWdlVGltZW91dCkge1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSBvcHRpb25zLmltYWdlVGltZW91dDtcbiAgICAgICAgICAgIHhoci50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gJ1RpbWVkIG91dCAoJyArIHRpbWVvdXQgKyAnbXMpIHByb3h5aW5nICcgKyBzcmMuc3Vic3RyaW5nKDAsIDI1NikgOiAnJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1Byb3h5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ResourceStore = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Feature = __webpack_require__(88);\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nvar _Proxy = __webpack_require__(103);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ResourceLoader = function () {\n    function ResourceLoader(options, logger, window) {\n        _classCallCheck(this, ResourceLoader);\n\n        this.options = options;\n        this._window = window;\n        this.origin = this.getOrigin(window.location.href);\n        this.cache = {};\n        this.logger = logger;\n        this._index = 0;\n    }\n\n    _createClass(ResourceLoader, [{\n        key: 'loadImage',\n        value: function loadImage(src) {\n            var _this = this;\n\n            if (this.hasResourceInCache(src)) {\n                return src;\n            }\n            if (isBlobImage(src)) {\n                this.cache[src] = _loadImage(src, this.options.imageTimeout || 0);\n                return src;\n            }\n\n            if (!isSVG(src) || _Feature2.default.SUPPORT_SVG_DRAWING) {\n                if (this.options.allowTaint === true || isInlineImage(src) || this.isSameOrigin(src)) {\n                    return this.addImage(src, src, false);\n                } else if (!this.isSameOrigin(src)) {\n                    if (typeof this.options.proxy === 'string') {\n                        this.cache[src] = (0, _Proxy.Proxy)(src, this.options).then(function (src) {\n                            return _loadImage(src, _this.options.imageTimeout || 0);\n                        });\n                        return src;\n                    } else if (this.options.useCORS === true && _Feature2.default.SUPPORT_CORS_IMAGES) {\n                        return this.addImage(src, src, true);\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'inlineImage',\n        value: function inlineImage(src) {\n            var _this2 = this;\n\n            if (isInlineImage(src)) {\n                return _loadImage(src, this.options.imageTimeout || 0);\n            }\n            if (this.hasResourceInCache(src)) {\n                return this.cache[src];\n            }\n            if (!this.isSameOrigin(src) && typeof this.options.proxy === 'string') {\n                return this.cache[src] = (0, _Proxy.Proxy)(src, this.options).then(function (src) {\n                    return _loadImage(src, _this2.options.imageTimeout || 0);\n                });\n            }\n\n            return this.xhrImage(src);\n        }\n    }, {\n        key: 'xhrImage',\n        value: function xhrImage(src) {\n            var _this3 = this;\n\n            this.cache[src] = new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === 4) {\n                        if (xhr.status !== 200) {\n                            reject('Failed to fetch image ' + src.substring(0, 256) + ' with status code ' + xhr.status);\n                        } else {\n                            var reader = new FileReader();\n                            reader.addEventListener('load', function () {\n                                // $FlowFixMe\n                                var result = reader.result;\n                                resolve(result);\n                            }, false);\n                            reader.addEventListener('error', function (e) {\n                                return reject(e);\n                            }, false);\n                            reader.readAsDataURL(xhr.response);\n                        }\n                    }\n                };\n                xhr.responseType = 'blob';\n                if (_this3.options.imageTimeout) {\n                    var timeout = _this3.options.imageTimeout;\n                    xhr.timeout = timeout;\n                    xhr.ontimeout = function () {\n                        return reject( true ? 'Timed out (' + timeout + 'ms) fetching ' + src.substring(0, 256) : '');\n                    };\n                }\n                xhr.open('GET', src, true);\n                xhr.send();\n            }).then(function (src) {\n                return _loadImage(src, _this3.options.imageTimeout || 0);\n            });\n\n            return this.cache[src];\n        }\n    }, {\n        key: 'loadCanvas',\n        value: function loadCanvas(node) {\n            var key = String(this._index++);\n            this.cache[key] = Promise.resolve(node);\n            return key;\n        }\n    }, {\n        key: 'hasResourceInCache',\n        value: function hasResourceInCache(key) {\n            return typeof this.cache[key] !== 'undefined';\n        }\n    }, {\n        key: 'addImage',\n        value: function addImage(key, src, useCORS) {\n            var _this4 = this;\n\n            if (true) {\n                this.logger.log('Added image ' + key.substring(0, 256));\n            }\n\n            var imageLoadHandler = function imageLoadHandler(supportsDataImages) {\n                return new Promise(function (resolve, reject) {\n                    var img = new Image();\n                    img.onload = function () {\n                        return resolve(img);\n                    };\n                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n                    if (!supportsDataImages || useCORS) {\n                        img.crossOrigin = 'anonymous';\n                    }\n\n                    img.onerror = reject;\n                    img.src = src;\n                    if (img.complete === true) {\n                        // Inline XML images may fail to parse, throwing an Error later on\n                        setTimeout(function () {\n                            resolve(img);\n                        }, 500);\n                    }\n                    if (_this4.options.imageTimeout) {\n                        var timeout = _this4.options.imageTimeout;\n                        setTimeout(function () {\n                            return reject( true ? 'Timed out (' + timeout + 'ms) fetching ' + src.substring(0, 256) : '');\n                        }, timeout);\n                    }\n                });\n            };\n\n            this.cache[key] = isInlineBase64Image(src) && !isSVG(src) ? // $FlowFixMe\n            _Feature2.default.SUPPORT_BASE64_DRAWING(src).then(imageLoadHandler) : imageLoadHandler(true);\n            return key;\n        }\n    }, {\n        key: 'isSameOrigin',\n        value: function isSameOrigin(url) {\n            return this.getOrigin(url) === this.origin;\n        }\n    }, {\n        key: 'getOrigin',\n        value: function getOrigin(url) {\n            var link = this._link || (this._link = this._window.document.createElement('a'));\n            link.href = url;\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n            return link.protocol + link.hostname + link.port;\n        }\n    }, {\n        key: 'ready',\n        value: function ready() {\n            var _this5 = this;\n\n            var keys = Object.keys(this.cache);\n            var values = keys.map(function (str) {\n                return _this5.cache[str].catch(function (e) {\n                    if (true) {\n                        _this5.logger.log('Unable to load image', e);\n                    }\n                    return null;\n                });\n            });\n            return Promise.all(values).then(function (images) {\n                if (true) {\n                    _this5.logger.log('Finished loading ' + images.length + ' images', images);\n                }\n                return new ResourceStore(keys, images);\n            });\n        }\n    }]);\n\n    return ResourceLoader;\n}();\n\nexports.default = ResourceLoader;\n\nvar ResourceStore = exports.ResourceStore = function () {\n    function ResourceStore(keys, resources) {\n        _classCallCheck(this, ResourceStore);\n\n        this._keys = keys;\n        this._resources = resources;\n    }\n\n    _createClass(ResourceStore, [{\n        key: 'get',\n        value: function get(key) {\n            var index = this._keys.indexOf(key);\n            return index === -1 ? null : this._resources[index];\n        }\n    }]);\n\n    return ResourceStore;\n}();\n\nvar INLINE_SVG = /^data:image\\/svg\\+xml/i;\nvar INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nvar INLINE_IMG = /^data:image\\/.*/i;\n\nvar isInlineImage = function isInlineImage(src) {\n    return INLINE_IMG.test(src);\n};\nvar isInlineBase64Image = function isInlineBase64Image(src) {\n    return INLINE_BASE64.test(src);\n};\nvar isBlobImage = function isBlobImage(src) {\n    return src.substr(0, 4) === 'blob';\n};\n\nvar isSVG = function isSVG(src) {\n    return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\n};\n\nvar _loadImage = function _loadImage(src, timeout) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        img.onload = function () {\n            return resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n        if (img.complete === true) {\n            // Inline XML images may fail to parse, throwing an Error later on\n            setTimeout(function () {\n                resolve(img);\n            }, 500);\n        }\n        if (timeout) {\n            setTimeout(function () {\n                return reject( true ? 'Timed out (' + timeout + 'ms) loading image' : '');\n            }, timeout);\n        }\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1Jlc291cmNlTG9hZGVyLmpzP2U2MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakI7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLOztBQUVMO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxDQUFDOztBQUVEO0FBQ0EscUNBQXFDO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMIiwiZmlsZSI6IjEwNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5SZXNvdXJjZVN0b3JlID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0ZlYXR1cmUgPSByZXF1aXJlKCcuL0ZlYXR1cmUnKTtcblxudmFyIF9GZWF0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZlYXR1cmUpO1xuXG52YXIgX1Byb3h5ID0gcmVxdWlyZSgnLi9Qcm94eScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmVzb3VyY2VMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzb3VyY2VMb2FkZXIob3B0aW9ucywgbG9nZ2VyLCB3aW5kb3cpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc291cmNlTG9hZGVyKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl93aW5kb3cgPSB3aW5kb3c7XG4gICAgICAgIHRoaXMub3JpZ2luID0gdGhpcy5nZXRPcmlnaW4od2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICB0aGlzLmNhY2hlID0ge307XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICB0aGlzLl9pbmRleCA9IDA7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFJlc291cmNlTG9hZGVyLCBbe1xuICAgICAgICBrZXk6ICdsb2FkSW1hZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZEltYWdlKHNyYykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmVzb3VyY2VJbkNhY2hlKHNyYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQmxvYkltYWdlKHNyYykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlW3NyY10gPSBfbG9hZEltYWdlKHNyYywgdGhpcy5vcHRpb25zLmltYWdlVGltZW91dCB8fCAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3JjO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzU1ZHKHNyYykgfHwgX0ZlYXR1cmUyLmRlZmF1bHQuU1VQUE9SVF9TVkdfRFJBV0lORykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dUYWludCA9PT0gdHJ1ZSB8fCBpc0lubGluZUltYWdlKHNyYykgfHwgdGhpcy5pc1NhbWVPcmlnaW4oc3JjKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRJbWFnZShzcmMsIHNyYywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTYW1lT3JpZ2luKHNyYykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucHJveHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlW3NyY10gPSAoMCwgX1Byb3h5LlByb3h5KShzcmMsIHRoaXMub3B0aW9ucykudGhlbihmdW5jdGlvbiAoc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9sb2FkSW1hZ2Uoc3JjLCBfdGhpcy5vcHRpb25zLmltYWdlVGltZW91dCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNyYztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMudXNlQ09SUyA9PT0gdHJ1ZSAmJiBfRmVhdHVyZTIuZGVmYXVsdC5TVVBQT1JUX0NPUlNfSU1BR0VTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRJbWFnZShzcmMsIHNyYywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lubGluZUltYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlubGluZUltYWdlKHNyYykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChpc0lubGluZUltYWdlKHNyYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2xvYWRJbWFnZShzcmMsIHRoaXMub3B0aW9ucy5pbWFnZVRpbWVvdXQgfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNSZXNvdXJjZUluQ2FjaGUoc3JjKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlW3NyY107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNTYW1lT3JpZ2luKHNyYykgJiYgdHlwZW9mIHRoaXMub3B0aW9ucy5wcm94eSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVtzcmNdID0gKDAsIF9Qcm94eS5Qcm94eSkoc3JjLCB0aGlzLm9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHNyYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2xvYWRJbWFnZShzcmMsIF90aGlzMi5vcHRpb25zLmltYWdlVGltZW91dCB8fCAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGhySW1hZ2Uoc3JjKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAneGhySW1hZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24geGhySW1hZ2Uoc3JjKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5jYWNoZVtzcmNdID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBmZXRjaCBpbWFnZSAnICsgc3JjLnN1YnN0cmluZygwLCAyNTYpICsgJyB3aXRoIHN0YXR1cyBjb2RlICcgKyB4aHIuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLm9wdGlvbnMuaW1hZ2VUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gX3RoaXMzLm9wdGlvbnMuaW1hZ2VUaW1lb3V0O1xuICAgICAgICAgICAgICAgICAgICB4aHIudGltZW91dCA9IHRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAnVGltZWQgb3V0ICgnICsgdGltZW91dCArICdtcykgZmV0Y2hpbmcgJyArIHNyYy5zdWJzdHJpbmcoMCwgMjU2KSA6ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNyYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbG9hZEltYWdlKHNyYywgX3RoaXMzLm9wdGlvbnMuaW1hZ2VUaW1lb3V0IHx8IDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlW3NyY107XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xvYWRDYW52YXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZENhbnZhcyhub2RlKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gU3RyaW5nKHRoaXMuX2luZGV4KyspO1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gUHJvbWlzZS5yZXNvbHZlKG5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFzUmVzb3VyY2VJbkNhY2hlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1Jlc291cmNlSW5DYWNoZShrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5jYWNoZVtrZXldICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWRkSW1hZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW1hZ2Uoa2V5LCBzcmMsIHVzZUNPUlMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnQWRkZWQgaW1hZ2UgJyArIGtleS5zdWJzdHJpbmcoMCwgMjU2KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbWFnZUxvYWRIYW5kbGVyID0gZnVuY3Rpb24gaW1hZ2VMb2FkSGFuZGxlcihzdXBwb3J0c0RhdGFJbWFnZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvL2lvcyBzYWZhcmkgMTAuMyB0YWludHMgY2FudmFzIHdpdGggZGF0YSB1cmxzIHVubGVzcyBjcm9zc09yaWdpbiBpcyBzZXQgdG8gYW5vbnltb3VzXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydHNEYXRhSW1hZ2VzIHx8IHVzZUNPUlMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWcuY29tcGxldGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElubGluZSBYTUwgaW1hZ2VzIG1heSBmYWlsIHRvIHBhcnNlLCB0aHJvd2luZyBhbiBFcnJvciBsYXRlciBvblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0Lm9wdGlvbnMuaW1hZ2VUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IF90aGlzNC5vcHRpb25zLmltYWdlVGltZW91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICdUaW1lZCBvdXQgKCcgKyB0aW1lb3V0ICsgJ21zKSBmZXRjaGluZyAnICsgc3JjLnN1YnN0cmluZygwLCAyNTYpIDogJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IGlzSW5saW5lQmFzZTY0SW1hZ2Uoc3JjKSAmJiAhaXNTVkcoc3JjKSA/IC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIF9GZWF0dXJlMi5kZWZhdWx0LlNVUFBPUlRfQkFTRTY0X0RSQVdJTkcoc3JjKS50aGVuKGltYWdlTG9hZEhhbmRsZXIpIDogaW1hZ2VMb2FkSGFuZGxlcih0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzU2FtZU9yaWdpbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NhbWVPcmlnaW4odXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPcmlnaW4odXJsKSA9PT0gdGhpcy5vcmlnaW47XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE9yaWdpbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPcmlnaW4odXJsKSB7XG4gICAgICAgICAgICB2YXIgbGluayA9IHRoaXMuX2xpbmsgfHwgKHRoaXMuX2xpbmsgPSB0aGlzLl93aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpKTtcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IGxpbmsuaHJlZjsgLy8gSUU5LCBMT0whIC0gaHR0cDovL2pzZmlkZGxlLm5ldC9uaWtsYXN2aC8yZTQ4Yi9cbiAgICAgICAgICAgIHJldHVybiBsaW5rLnByb3RvY29sICsgbGluay5ob3N0bmFtZSArIGxpbmsucG9ydDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVhZHknLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZHkoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNhY2hlKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBrZXlzLm1hcChmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5jYWNoZVtzdHJdLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUubG9nZ2VyLmxvZygnVW5hYmxlIHRvIGxvYWQgaW1hZ2UnLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHZhbHVlcykudGhlbihmdW5jdGlvbiAoaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmxvZ2dlci5sb2coJ0ZpbmlzaGVkIGxvYWRpbmcgJyArIGltYWdlcy5sZW5ndGggKyAnIGltYWdlcycsIGltYWdlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VTdG9yZShrZXlzLCBpbWFnZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVzb3VyY2VMb2FkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlc291cmNlTG9hZGVyO1xuXG52YXIgUmVzb3VyY2VTdG9yZSA9IGV4cG9ydHMuUmVzb3VyY2VTdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvdXJjZVN0b3JlKGtleXMsIHJlc291cmNlcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzb3VyY2VTdG9yZSk7XG5cbiAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgIHRoaXMuX3Jlc291cmNlcyA9IHJlc291cmNlcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmVzb3VyY2VTdG9yZSwgW3tcbiAgICAgICAga2V5OiAnZ2V0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZihrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ID09PSAtMSA/IG51bGwgOiB0aGlzLl9yZXNvdXJjZXNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJlc291cmNlU3RvcmU7XG59KCk7XG5cbnZhciBJTkxJTkVfU1ZHID0gL15kYXRhOmltYWdlXFwvc3ZnXFwreG1sL2k7XG52YXIgSU5MSU5FX0JBU0U2NCA9IC9eZGF0YTppbWFnZVxcLy4qO2Jhc2U2NCwvaTtcbnZhciBJTkxJTkVfSU1HID0gL15kYXRhOmltYWdlXFwvLiovaTtcblxudmFyIGlzSW5saW5lSW1hZ2UgPSBmdW5jdGlvbiBpc0lubGluZUltYWdlKHNyYykge1xuICAgIHJldHVybiBJTkxJTkVfSU1HLnRlc3Qoc3JjKTtcbn07XG52YXIgaXNJbmxpbmVCYXNlNjRJbWFnZSA9IGZ1bmN0aW9uIGlzSW5saW5lQmFzZTY0SW1hZ2Uoc3JjKSB7XG4gICAgcmV0dXJuIElOTElORV9CQVNFNjQudGVzdChzcmMpO1xufTtcbnZhciBpc0Jsb2JJbWFnZSA9IGZ1bmN0aW9uIGlzQmxvYkltYWdlKHNyYykge1xuICAgIHJldHVybiBzcmMuc3Vic3RyKDAsIDQpID09PSAnYmxvYic7XG59O1xuXG52YXIgaXNTVkcgPSBmdW5jdGlvbiBpc1NWRyhzcmMpIHtcbiAgICByZXR1cm4gc3JjLnN1YnN0cigtMykudG9Mb3dlckNhc2UoKSA9PT0gJ3N2ZycgfHwgSU5MSU5FX1NWRy50ZXN0KHNyYyk7XG59O1xuXG52YXIgX2xvYWRJbWFnZSA9IGZ1bmN0aW9uIF9sb2FkSW1hZ2Uoc3JjLCB0aW1lb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaW1nKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgICAgIGlmIChpbWcuY29tcGxldGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIElubGluZSBYTUwgaW1hZ2VzIG1heSBmYWlsIHRvIHBhcnNlLCB0aHJvd2luZyBhbiBFcnJvciBsYXRlciBvblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gJ1RpbWVkIG91dCAoJyArIHRpbWVvdXQgKyAnbXMpIGxvYWRpbmcgaW1hZ2UnIDogJycpO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1Jlc291cmNlTG9hZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseContent = exports.resolvePseudoContent = exports.popCounters = exports.parseCounterReset = exports.TOKEN_TYPE = exports.PSEUDO_CONTENT_ITEM_TYPE = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _ListItem = __webpack_require__(97);\n\nvar _listStyle = __webpack_require__(74);\n\nvar PSEUDO_CONTENT_ITEM_TYPE = exports.PSEUDO_CONTENT_ITEM_TYPE = {\n    TEXT: 0,\n    IMAGE: 1\n};\n\nvar TOKEN_TYPE = exports.TOKEN_TYPE = {\n    STRING: 0,\n    ATTRIBUTE: 1,\n    URL: 2,\n    COUNTER: 3,\n    COUNTERS: 4,\n    OPENQUOTE: 5,\n    CLOSEQUOTE: 6\n};\n\nvar parseCounterReset = exports.parseCounterReset = function parseCounterReset(style, data) {\n    if (!style || !style.counterReset || style.counterReset === 'none') {\n        return [];\n    }\n\n    var counterNames = [];\n    var counterResets = style.counterReset.split(/\\s*,\\s*/);\n    var lenCounterResets = counterResets.length;\n\n    for (var i = 0; i < lenCounterResets; i++) {\n        var _counterResets$i$spli = counterResets[i].split(/\\s+/),\n            _counterResets$i$spli2 = _slicedToArray(_counterResets$i$spli, 2),\n            counterName = _counterResets$i$spli2[0],\n            initialValue = _counterResets$i$spli2[1];\n\n        counterNames.push(counterName);\n        var counter = data.counters[counterName];\n        if (!counter) {\n            counter = data.counters[counterName] = [];\n        }\n        counter.push(parseInt(initialValue || 0, 10));\n    }\n\n    return counterNames;\n};\n\nvar popCounters = exports.popCounters = function popCounters(counterNames, data) {\n    var lenCounters = counterNames.length;\n    for (var i = 0; i < lenCounters; i++) {\n        data.counters[counterNames[i]].pop();\n    }\n};\n\nvar resolvePseudoContent = exports.resolvePseudoContent = function resolvePseudoContent(node, style, data) {\n    if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {\n        return null;\n    }\n\n    var tokens = parseContent(style.content);\n\n    var len = tokens.length;\n    var contentItems = [];\n    var s = '';\n\n    // increment the counter (if there is a \"counter-increment\" declaration)\n    var counterIncrement = style.counterIncrement;\n    if (counterIncrement && counterIncrement !== 'none') {\n        var _counterIncrement$spl = counterIncrement.split(/\\s+/),\n            _counterIncrement$spl2 = _slicedToArray(_counterIncrement$spl, 2),\n            counterName = _counterIncrement$spl2[0],\n            incrementValue = _counterIncrement$spl2[1];\n\n        var counter = data.counters[counterName];\n        if (counter) {\n            counter[counter.length - 1] += incrementValue === undefined ? 1 : parseInt(incrementValue, 10);\n        }\n    }\n\n    // build the content string\n    for (var i = 0; i < len; i++) {\n        var token = tokens[i];\n        switch (token.type) {\n            case TOKEN_TYPE.STRING:\n                s += token.value || '';\n                break;\n\n            case TOKEN_TYPE.ATTRIBUTE:\n                if (node instanceof HTMLElement && token.value) {\n                    s += node.getAttribute(token.value) || '';\n                }\n                break;\n\n            case TOKEN_TYPE.COUNTER:\n                var _counter = data.counters[token.name || ''];\n                if (_counter) {\n                    s += formatCounterValue([_counter[_counter.length - 1]], '', token.format);\n                }\n                break;\n\n            case TOKEN_TYPE.COUNTERS:\n                var _counters = data.counters[token.name || ''];\n                if (_counters) {\n                    s += formatCounterValue(_counters, token.glue, token.format);\n                }\n                break;\n\n            case TOKEN_TYPE.OPENQUOTE:\n                s += getQuote(style, true, data.quoteDepth);\n                data.quoteDepth++;\n                break;\n\n            case TOKEN_TYPE.CLOSEQUOTE:\n                data.quoteDepth--;\n                s += getQuote(style, false, data.quoteDepth);\n                break;\n\n            case TOKEN_TYPE.URL:\n                if (s) {\n                    contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.TEXT, value: s });\n                    s = '';\n                }\n                contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.IMAGE, value: token.value || '' });\n                break;\n        }\n    }\n\n    if (s) {\n        contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.TEXT, value: s });\n    }\n\n    return contentItems;\n};\n\nvar parseContent = exports.parseContent = function parseContent(content, cache) {\n    if (cache && cache[content]) {\n        return cache[content];\n    }\n\n    var tokens = [];\n    var len = content.length;\n\n    var isString = false;\n    var isEscaped = false;\n    var isFunction = false;\n    var str = '';\n    var functionName = '';\n    var args = [];\n\n    for (var i = 0; i < len; i++) {\n        var c = content.charAt(i);\n\n        switch (c) {\n            case \"'\":\n            case '\"':\n                if (isEscaped) {\n                    str += c;\n                } else {\n                    isString = !isString;\n                    if (!isFunction && !isString) {\n                        tokens.push({ type: TOKEN_TYPE.STRING, value: str });\n                        str = '';\n                    }\n                }\n                break;\n\n            case '\\\\':\n                if (isEscaped) {\n                    str += c;\n                    isEscaped = false;\n                } else {\n                    isEscaped = true;\n                }\n                break;\n\n            case '(':\n                if (isString) {\n                    str += c;\n                } else {\n                    isFunction = true;\n                    functionName = str;\n                    str = '';\n                    args = [];\n                }\n                break;\n\n            case ')':\n                if (isString) {\n                    str += c;\n                } else if (isFunction) {\n                    if (str) {\n                        args.push(str);\n                    }\n\n                    switch (functionName) {\n                        case 'attr':\n                            if (args.length > 0) {\n                                tokens.push({ type: TOKEN_TYPE.ATTRIBUTE, value: args[0] });\n                            }\n                            break;\n\n                        case 'counter':\n                            if (args.length > 0) {\n                                var counter = {\n                                    type: TOKEN_TYPE.COUNTER,\n                                    name: args[0]\n                                };\n                                if (args.length > 1) {\n                                    counter.format = args[1];\n                                }\n                                tokens.push(counter);\n                            }\n                            break;\n\n                        case 'counters':\n                            if (args.length > 0) {\n                                var _counters2 = {\n                                    type: TOKEN_TYPE.COUNTERS,\n                                    name: args[0]\n                                };\n                                if (args.length > 1) {\n                                    _counters2.glue = args[1];\n                                }\n                                if (args.length > 2) {\n                                    _counters2.format = args[2];\n                                }\n                                tokens.push(_counters2);\n                            }\n                            break;\n\n                        case 'url':\n                            if (args.length > 0) {\n                                tokens.push({ type: TOKEN_TYPE.URL, value: args[0] });\n                            }\n                            break;\n                    }\n\n                    isFunction = false;\n                    str = '';\n                }\n                break;\n\n            case ',':\n                if (isString) {\n                    str += c;\n                } else if (isFunction) {\n                    args.push(str);\n                    str = '';\n                }\n                break;\n\n            case ' ':\n            case '\\t':\n                if (isString) {\n                    str += c;\n                } else if (str) {\n                    addOtherToken(tokens, str);\n                    str = '';\n                }\n                break;\n\n            default:\n                str += c;\n        }\n\n        if (c !== '\\\\') {\n            isEscaped = false;\n        }\n    }\n\n    if (str) {\n        addOtherToken(tokens, str);\n    }\n\n    if (cache) {\n        cache[content] = tokens;\n    }\n\n    return tokens;\n};\n\nvar addOtherToken = function addOtherToken(tokens, identifier) {\n    switch (identifier) {\n        case 'open-quote':\n            tokens.push({ type: TOKEN_TYPE.OPENQUOTE });\n            break;\n        case 'close-quote':\n            tokens.push({ type: TOKEN_TYPE.CLOSEQUOTE });\n            break;\n    }\n};\n\nvar getQuote = function getQuote(style, isOpening, quoteDepth) {\n    var quotes = style.quotes ? style.quotes.split(/\\s+/) : [\"'\\\"'\", \"'\\\"'\"];\n    var idx = quoteDepth * 2;\n    if (idx >= quotes.length) {\n        idx = quotes.length - 2;\n    }\n    if (!isOpening) {\n        ++idx;\n    }\n    return quotes[idx].replace(/^[\"']|[\"']$/g, '');\n};\n\nvar formatCounterValue = function formatCounterValue(counter, glue, format) {\n    var len = counter.length;\n    var result = '';\n\n    for (var i = 0; i < len; i++) {\n        if (i > 0) {\n            result += glue || '';\n        }\n        result += (0, _ListItem.createCounterText)(counter[i], (0, _listStyle.parseListStyleType)(format || 'decimal'), false);\n    }\n\n    return result;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwyY2FudmFzL2Rpc3QvbnBtL1BzZXVkb05vZGVDb250ZW50LmpzPzE4MWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVDQUF1QyxnREFBZ0Q7QUFDdkY7QUFDQTtBQUNBLG1DQUFtQyxpRUFBaUU7QUFDcEc7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLGdEQUFnRDtBQUMzRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixTQUFTO0FBQzVCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHFDQUFxQyxzQ0FBc0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkNBQTZDO0FBQzFGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDLHVDQUF1QztBQUNwRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZCQUE2QjtBQUN0RDtBQUNBO0FBQ0EseUJBQXlCLDhCQUE4QjtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjEwNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wYXJzZUNvbnRlbnQgPSBleHBvcnRzLnJlc29sdmVQc2V1ZG9Db250ZW50ID0gZXhwb3J0cy5wb3BDb3VudGVycyA9IGV4cG9ydHMucGFyc2VDb3VudGVyUmVzZXQgPSBleHBvcnRzLlRPS0VOX1RZUEUgPSBleHBvcnRzLlBTRVVET19DT05URU5UX0lURU1fVFlQRSA9IHVuZGVmaW5lZDtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX0xpc3RJdGVtID0gcmVxdWlyZSgnLi9MaXN0SXRlbScpO1xuXG52YXIgX2xpc3RTdHlsZSA9IHJlcXVpcmUoJy4vcGFyc2luZy9saXN0U3R5bGUnKTtcblxudmFyIFBTRVVET19DT05URU5UX0lURU1fVFlQRSA9IGV4cG9ydHMuUFNFVURPX0NPTlRFTlRfSVRFTV9UWVBFID0ge1xuICAgIFRFWFQ6IDAsXG4gICAgSU1BR0U6IDFcbn07XG5cbnZhciBUT0tFTl9UWVBFID0gZXhwb3J0cy5UT0tFTl9UWVBFID0ge1xuICAgIFNUUklORzogMCxcbiAgICBBVFRSSUJVVEU6IDEsXG4gICAgVVJMOiAyLFxuICAgIENPVU5URVI6IDMsXG4gICAgQ09VTlRFUlM6IDQsXG4gICAgT1BFTlFVT1RFOiA1LFxuICAgIENMT1NFUVVPVEU6IDZcbn07XG5cbnZhciBwYXJzZUNvdW50ZXJSZXNldCA9IGV4cG9ydHMucGFyc2VDb3VudGVyUmVzZXQgPSBmdW5jdGlvbiBwYXJzZUNvdW50ZXJSZXNldChzdHlsZSwgZGF0YSkge1xuICAgIGlmICghc3R5bGUgfHwgIXN0eWxlLmNvdW50ZXJSZXNldCB8fCBzdHlsZS5jb3VudGVyUmVzZXQgPT09ICdub25lJykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIGNvdW50ZXJOYW1lcyA9IFtdO1xuICAgIHZhciBjb3VudGVyUmVzZXRzID0gc3R5bGUuY291bnRlclJlc2V0LnNwbGl0KC9cXHMqLFxccyovKTtcbiAgICB2YXIgbGVuQ291bnRlclJlc2V0cyA9IGNvdW50ZXJSZXNldHMubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5Db3VudGVyUmVzZXRzOyBpKyspIHtcbiAgICAgICAgdmFyIF9jb3VudGVyUmVzZXRzJGkkc3BsaSA9IGNvdW50ZXJSZXNldHNbaV0uc3BsaXQoL1xccysvKSxcbiAgICAgICAgICAgIF9jb3VudGVyUmVzZXRzJGkkc3BsaTIgPSBfc2xpY2VkVG9BcnJheShfY291bnRlclJlc2V0cyRpJHNwbGksIDIpLFxuICAgICAgICAgICAgY291bnRlck5hbWUgPSBfY291bnRlclJlc2V0cyRpJHNwbGkyWzBdLFxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gX2NvdW50ZXJSZXNldHMkaSRzcGxpMlsxXTtcblxuICAgICAgICBjb3VudGVyTmFtZXMucHVzaChjb3VudGVyTmFtZSk7XG4gICAgICAgIHZhciBjb3VudGVyID0gZGF0YS5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgICAgIGlmICghY291bnRlcikge1xuICAgICAgICAgICAgY291bnRlciA9IGRhdGEuY291bnRlcnNbY291bnRlck5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY291bnRlci5wdXNoKHBhcnNlSW50KGluaXRpYWxWYWx1ZSB8fCAwLCAxMCkpO1xuICAgIH1cblxuICAgIHJldHVybiBjb3VudGVyTmFtZXM7XG59O1xuXG52YXIgcG9wQ291bnRlcnMgPSBleHBvcnRzLnBvcENvdW50ZXJzID0gZnVuY3Rpb24gcG9wQ291bnRlcnMoY291bnRlck5hbWVzLCBkYXRhKSB7XG4gICAgdmFyIGxlbkNvdW50ZXJzID0gY291bnRlck5hbWVzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNvdW50ZXJzOyBpKyspIHtcbiAgICAgICAgZGF0YS5jb3VudGVyc1tjb3VudGVyTmFtZXNbaV1dLnBvcCgpO1xuICAgIH1cbn07XG5cbnZhciByZXNvbHZlUHNldWRvQ29udGVudCA9IGV4cG9ydHMucmVzb2x2ZVBzZXVkb0NvbnRlbnQgPSBmdW5jdGlvbiByZXNvbHZlUHNldWRvQ29udGVudChub2RlLCBzdHlsZSwgZGF0YSkge1xuICAgIGlmICghc3R5bGUgfHwgIXN0eWxlLmNvbnRlbnQgfHwgc3R5bGUuY29udGVudCA9PT0gJ25vbmUnIHx8IHN0eWxlLmNvbnRlbnQgPT09ICctbW96LWFsdC1jb250ZW50JyB8fCBzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHRva2VucyA9IHBhcnNlQ29udGVudChzdHlsZS5jb250ZW50KTtcblxuICAgIHZhciBsZW4gPSB0b2tlbnMubGVuZ3RoO1xuICAgIHZhciBjb250ZW50SXRlbXMgPSBbXTtcbiAgICB2YXIgcyA9ICcnO1xuXG4gICAgLy8gaW5jcmVtZW50IHRoZSBjb3VudGVyIChpZiB0aGVyZSBpcyBhIFwiY291bnRlci1pbmNyZW1lbnRcIiBkZWNsYXJhdGlvbilcbiAgICB2YXIgY291bnRlckluY3JlbWVudCA9IHN0eWxlLmNvdW50ZXJJbmNyZW1lbnQ7XG4gICAgaWYgKGNvdW50ZXJJbmNyZW1lbnQgJiYgY291bnRlckluY3JlbWVudCAhPT0gJ25vbmUnKSB7XG4gICAgICAgIHZhciBfY291bnRlckluY3JlbWVudCRzcGwgPSBjb3VudGVySW5jcmVtZW50LnNwbGl0KC9cXHMrLyksXG4gICAgICAgICAgICBfY291bnRlckluY3JlbWVudCRzcGwyID0gX3NsaWNlZFRvQXJyYXkoX2NvdW50ZXJJbmNyZW1lbnQkc3BsLCAyKSxcbiAgICAgICAgICAgIGNvdW50ZXJOYW1lID0gX2NvdW50ZXJJbmNyZW1lbnQkc3BsMlswXSxcbiAgICAgICAgICAgIGluY3JlbWVudFZhbHVlID0gX2NvdW50ZXJJbmNyZW1lbnQkc3BsMlsxXTtcblxuICAgICAgICB2YXIgY291bnRlciA9IGRhdGEuY291bnRlcnNbY291bnRlck5hbWVdO1xuICAgICAgICBpZiAoY291bnRlcikge1xuICAgICAgICAgICAgY291bnRlcltjb3VudGVyLmxlbmd0aCAtIDFdICs9IGluY3JlbWVudFZhbHVlID09PSB1bmRlZmluZWQgPyAxIDogcGFyc2VJbnQoaW5jcmVtZW50VmFsdWUsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGJ1aWxkIHRoZSBjb250ZW50IHN0cmluZ1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVE9LRU5fVFlQRS5TVFJJTkc6XG4gICAgICAgICAgICAgICAgcyArPSB0b2tlbi52YWx1ZSB8fCAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBUT0tFTl9UWVBFLkFUVFJJQlVURTpcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgKz0gbm9kZS5nZXRBdHRyaWJ1dGUodG9rZW4udmFsdWUpIHx8ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBUT0tFTl9UWVBFLkNPVU5URVI6XG4gICAgICAgICAgICAgICAgdmFyIF9jb3VudGVyID0gZGF0YS5jb3VudGVyc1t0b2tlbi5uYW1lIHx8ICcnXTtcbiAgICAgICAgICAgICAgICBpZiAoX2NvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcyArPSBmb3JtYXRDb3VudGVyVmFsdWUoW19jb3VudGVyW19jb3VudGVyLmxlbmd0aCAtIDFdXSwgJycsIHRva2VuLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFRPS0VOX1RZUEUuQ09VTlRFUlM6XG4gICAgICAgICAgICAgICAgdmFyIF9jb3VudGVycyA9IGRhdGEuY291bnRlcnNbdG9rZW4ubmFtZSB8fCAnJ107XG4gICAgICAgICAgICAgICAgaWYgKF9jb3VudGVycykge1xuICAgICAgICAgICAgICAgICAgICBzICs9IGZvcm1hdENvdW50ZXJWYWx1ZShfY291bnRlcnMsIHRva2VuLmdsdWUsIHRva2VuLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFRPS0VOX1RZUEUuT1BFTlFVT1RFOlxuICAgICAgICAgICAgICAgIHMgKz0gZ2V0UXVvdGUoc3R5bGUsIHRydWUsIGRhdGEucXVvdGVEZXB0aCk7XG4gICAgICAgICAgICAgICAgZGF0YS5xdW90ZURlcHRoKys7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgVE9LRU5fVFlQRS5DTE9TRVFVT1RFOlxuICAgICAgICAgICAgICAgIGRhdGEucXVvdGVEZXB0aC0tO1xuICAgICAgICAgICAgICAgIHMgKz0gZ2V0UXVvdGUoc3R5bGUsIGZhbHNlLCBkYXRhLnF1b3RlRGVwdGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFRPS0VOX1RZUEUuVVJMOlxuICAgICAgICAgICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5wdXNoKHsgdHlwZTogUFNFVURPX0NPTlRFTlRfSVRFTV9UWVBFLlRFWFQsIHZhbHVlOiBzIH0pO1xuICAgICAgICAgICAgICAgICAgICBzID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5wdXNoKHsgdHlwZTogUFNFVURPX0NPTlRFTlRfSVRFTV9UWVBFLklNQUdFLCB2YWx1ZTogdG9rZW4udmFsdWUgfHwgJycgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocykge1xuICAgICAgICBjb250ZW50SXRlbXMucHVzaCh7IHR5cGU6IFBTRVVET19DT05URU5UX0lURU1fVFlQRS5URVhULCB2YWx1ZTogcyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudEl0ZW1zO1xufTtcblxudmFyIHBhcnNlQ29udGVudCA9IGV4cG9ydHMucGFyc2VDb250ZW50ID0gZnVuY3Rpb24gcGFyc2VDb250ZW50KGNvbnRlbnQsIGNhY2hlKSB7XG4gICAgaWYgKGNhY2hlICYmIGNhY2hlW2NvbnRlbnRdKSB7XG4gICAgICAgIHJldHVybiBjYWNoZVtjb250ZW50XTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW5zID0gW107XG4gICAgdmFyIGxlbiA9IGNvbnRlbnQubGVuZ3RoO1xuXG4gICAgdmFyIGlzU3RyaW5nID0gZmFsc2U7XG4gICAgdmFyIGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgIHZhciBpc0Z1bmN0aW9uID0gZmFsc2U7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBmdW5jdGlvbk5hbWUgPSAnJztcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgYyA9IGNvbnRlbnQuY2hhckF0KGkpO1xuXG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICBpZiAoaXNFc2NhcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBjO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU3RyaW5nID0gIWlzU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24gJiYgIWlzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7IHR5cGU6IFRPS0VOX1RZUEUuU1RSSU5HLCB2YWx1ZTogc3RyIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgIGlmIChpc0VzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICcoJzpcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IGM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uTmFtZSA9IHN0cjtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJyknOlxuICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gYztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHN0cik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZ1bmN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXR0cic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7IHR5cGU6IFRPS0VOX1RZUEUuQVRUUklCVVRFLCB2YWx1ZTogYXJnc1swXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvdW50ZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBUT0tFTl9UWVBFLkNPVU5URVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhcmdzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXIuZm9ybWF0ID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChjb3VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvdW50ZXJzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY291bnRlcnMyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVE9LRU5fVFlQRS5DT1VOVEVSUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFyZ3NbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvdW50ZXJzMi5nbHVlID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY291bnRlcnMyLmZvcm1hdCA9IGFyZ3NbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goX2NvdW50ZXJzMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goeyB0eXBlOiBUT0tFTl9UWVBFLlVSTCwgdmFsdWU6IGFyZ3NbMF0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJywnOlxuICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gYztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHN0cik7XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gYztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cikge1xuICAgICAgICAgICAgICAgICAgICBhZGRPdGhlclRva2VuKHRva2Vucywgc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHN0ciArPSBjO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgIT09ICdcXFxcJykge1xuICAgICAgICAgICAgaXNFc2NhcGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RyKSB7XG4gICAgICAgIGFkZE90aGVyVG9rZW4odG9rZW5zLCBzdHIpO1xuICAgIH1cblxuICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjYWNoZVtjb250ZW50XSA9IHRva2VucztcbiAgICB9XG5cbiAgICByZXR1cm4gdG9rZW5zO1xufTtcblxudmFyIGFkZE90aGVyVG9rZW4gPSBmdW5jdGlvbiBhZGRPdGhlclRva2VuKHRva2VucywgaWRlbnRpZmllcikge1xuICAgIHN3aXRjaCAoaWRlbnRpZmllcikge1xuICAgICAgICBjYXNlICdvcGVuLXF1b3RlJzpcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHsgdHlwZTogVE9LRU5fVFlQRS5PUEVOUVVPVEUgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2xvc2UtcXVvdGUnOlxuICAgICAgICAgICAgdG9rZW5zLnB1c2goeyB0eXBlOiBUT0tFTl9UWVBFLkNMT1NFUVVPVEUgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59O1xuXG52YXIgZ2V0UXVvdGUgPSBmdW5jdGlvbiBnZXRRdW90ZShzdHlsZSwgaXNPcGVuaW5nLCBxdW90ZURlcHRoKSB7XG4gICAgdmFyIHF1b3RlcyA9IHN0eWxlLnF1b3RlcyA/IHN0eWxlLnF1b3Rlcy5zcGxpdCgvXFxzKy8pIDogW1wiJ1xcXCInXCIsIFwiJ1xcXCInXCJdO1xuICAgIHZhciBpZHggPSBxdW90ZURlcHRoICogMjtcbiAgICBpZiAoaWR4ID49IHF1b3Rlcy5sZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gcXVvdGVzLmxlbmd0aCAtIDI7XG4gICAgfVxuICAgIGlmICghaXNPcGVuaW5nKSB7XG4gICAgICAgICsraWR4O1xuICAgIH1cbiAgICByZXR1cm4gcXVvdGVzW2lkeF0ucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCAnJyk7XG59O1xuXG52YXIgZm9ybWF0Q291bnRlclZhbHVlID0gZnVuY3Rpb24gZm9ybWF0Q291bnRlclZhbHVlKGNvdW50ZXIsIGdsdWUsIGZvcm1hdCkge1xuICAgIHZhciBsZW4gPSBjb3VudGVyLmxlbmd0aDtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGdsdWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9ICgwLCBfTGlzdEl0ZW0uY3JlYXRlQ291bnRlclRleHQpKGNvdW50ZXJbaV0sICgwLCBfbGlzdFN0eWxlLnBhcnNlTGlzdFN0eWxlVHlwZSkoZm9ybWF0IHx8ICdkZWNpbWFsJyksIGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHRtbDJjYW52YXMvZGlzdC9ucG0vUHNldWRvTm9kZUNvbnRlbnQuanNcbi8vIG1vZHVsZSBpZCA9IDEwNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.renderElement = exports.getElements = undefined;\n\nvar _isomorphicFetch = __webpack_require__(36);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _Cache = __webpack_require__(38);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Utils = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getElements = exports.getElements = function getElements() {\n    return _Cache2.default.load('elements', { name: 'elements' }, function () {\n        return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=get-elements\", {\n            credentials: 'same-origin'\n        }).then(function (response) {\n            return response.json();\n        }).then(function (response) {\n            return response.data;\n        });\n    });\n};\n\nvar renderElement = exports.renderElement = function renderElement(element, settings, parseModx) {\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=render-element\", {\n        method: \"post\",\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            resource: _Config2.default.config.resource.id,\n            parseModx: parseModx,\n            element: element,\n            settings: settings\n        })\n    }).then(_Utils.errorHandler);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0FjdGlvbnMvZWxlbWVudHMuanM/NmYwNSJdLCJuYW1lcyI6WyJnZXRFbGVtZW50cyIsImxvYWQiLCJuYW1lIiwiY29uZmlnIiwiYXNzZXRzVXJsIiwiY3JlZGVudGlhbHMiLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsInJlbmRlckVsZW1lbnQiLCJlbGVtZW50Iiwic2V0dGluZ3MiLCJwYXJzZU1vZHgiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNvdXJjZSIsImlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFTyxJQUFNQSxvQ0FBYyxTQUFkQSxXQUFjLEdBQU07QUFDN0IsV0FBTyxnQkFBTUMsSUFBTixDQUFXLFVBQVgsRUFBdUIsRUFBQ0MsTUFBTSxVQUFQLEVBQXZCLEVBQTJDLFlBQU07QUFDcEQsZUFBTywrQkFBUyxpQkFBV0MsTUFBWCxDQUFrQkMsU0FBM0IsNkNBQThFO0FBQ2pGQyx5QkFBYTtBQURvRSxTQUE5RSxFQUdGQyxJQUhFLENBR0csb0JBQVk7QUFDZCxtQkFBT0MsU0FBU0MsSUFBVCxFQUFQO0FBQ0gsU0FMRSxFQUtBRixJQUxBLENBS0ssb0JBQVk7QUFDaEIsbUJBQU9DLFNBQVNFLElBQWhCO0FBQ0gsU0FQRSxDQUFQO0FBUUgsS0FUTSxDQUFQO0FBVUgsQ0FYTTs7QUFhQSxJQUFNQyx3Q0FBZ0IsU0FBaEJBLGFBQWdCLENBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUFvQkMsU0FBcEIsRUFBa0M7QUFDM0QsV0FBTywrQkFBUyxpQkFBV1YsTUFBWCxDQUFrQkMsU0FBM0IsK0NBQWdGO0FBQ25GVSxnQkFBUSxNQUQyRTtBQUVuRlQscUJBQWEsYUFGc0U7QUFHbkZVLGlCQUFTO0FBQ0wsNEJBQWdCO0FBRFgsU0FIMEU7QUFNbkZDLGNBQU1DLEtBQUtDLFNBQUwsQ0FBZTtBQUNqQkMsc0JBQVUsaUJBQVdoQixNQUFYLENBQWtCZ0IsUUFBbEIsQ0FBMkJDLEVBRHBCO0FBRWpCUCxnQ0FGaUI7QUFHakJGLDRCQUhpQjtBQUlqQkM7QUFKaUIsU0FBZjtBQU42RSxLQUFoRixFQVlKTixJQVpJLHFCQUFQO0FBYUgsQ0FkTSIsImZpbGUiOiIxMDYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2ggZnJvbSBcImlzb21vcnBoaWMtZmV0Y2hcIjtcbmltcG9ydCBjYWNoZSBmcm9tICcuLi9DYWNoZSc7XG5pbXBvcnQgZnJlZENvbmZpZyBmcm9tIFwiLi4vQ29uZmlnXCI7XG5pbXBvcnQgeyBlcnJvckhhbmRsZXIgfSBmcm9tIFwiLi4vVXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRzID0gKCkgPT4ge1xuICAgIHJldHVybiBjYWNoZS5sb2FkKCdlbGVtZW50cycsIHtuYW1lOiAnZWxlbWVudHMnfSwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7ZnJlZENvbmZpZy5jb25maWcuYXNzZXRzVXJsfWVuZHBvaW50cy9hamF4LnBocD9hY3Rpb249Z2V0LWVsZW1lbnRzYCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJFbGVtZW50ID0gKGVsZW1lbnQsIHNldHRpbmdzLCBwYXJzZU1vZHgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7ZnJlZENvbmZpZy5jb25maWcuYXNzZXRzVXJsfWVuZHBvaW50cy9hamF4LnBocD9hY3Rpb249cmVuZGVyLWVsZW1lbnRgLCB7XG4gICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHJlc291cmNlOiBmcmVkQ29uZmlnLmNvbmZpZy5yZXNvdXJjZS5pZCxcbiAgICAgICAgICAgIHBhcnNlTW9keCxcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICB9KVxuICAgIH0pLnRoZW4oZXJyb3JIYW5kbGVyKVxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0FjdGlvbnMvZWxlbWVudHMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Elements = __webpack_require__(11);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _promiseCancel = __webpack_require__(108);\n\nvar _promiseCancel2 = _interopRequireDefault(_promiseCancel);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _choices = __webpack_require__(15);\n\nvar _choices2 = _interopRequireDefault(_choices);\n\nvar _Utils = __webpack_require__(20);\n\nvar _tagger = __webpack_require__(109);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tagger = function () {\n    function Tagger(group) {\n        var currentTags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var onChange = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n        _classCallCheck(this, Tagger);\n\n        this.group = group;\n\n        this.inputToggle = null;\n        this.inputWrapper = null;\n\n        if (currentTags === null) {\n            if (!_Config2.default.pageSettings.tagger) _Config2.default.pageSettings.tagger = {};\n            if (!_Config2.default.pageSettings.tagger['tagger-' + this.group.id]) _Config2.default.pageSettings.tagger['tagger-' + this.group.id] = [];\n\n            currentTags = _Config2.default.pageSettings.tagger['tagger-' + this.group.id];\n        }\n\n        this.currentTags = currentTags;\n        this.onChange = onChange.bind(this);\n\n        this.onTagToggle = this.onTagToggle.bind(this);\n        this.onTagRemove = this.onTagRemove.bind(this);\n    }\n\n    _createClass(Tagger, [{\n        key: 'render',\n        value: function render() {\n            var field = (0, _Elements.div)('fred--tagger_field', (0, _Elements.div)('fred--tagger_group_title', this.group.name));\n\n            switch (this.group.field_type) {\n                case 'tagger-field-tags':\n                    var tagsWrapper = (0, _Elements.div)('fred--tagger_tags_wrapper');\n\n                    if (this.group.hide_input === false) {\n                        this.renderInput(tagsWrapper);\n                        field.appendChild(this.inputToggle);\n                        field.appendChild(this.inputWrapper);\n                    }\n\n                    if (this.group.show_autotag) {\n                        this.renderAutoTag(tagsWrapper);\n                    } else {\n                        this.renderTags(tagsWrapper);\n                    }\n\n                    this.toggleInput();\n\n                    field.appendChild(tagsWrapper);\n                    break;\n                case 'tagger-combo-tag':\n                    if (this.group.allow_new === false) {\n                        this.renderSingleSelectInput();\n                    } else {\n                        this.renderSingleTagInput();\n                    }\n\n                    field.appendChild(this.inputWrapper);\n\n                    break;\n                default:\n                    return false;\n\n            }\n\n            return field;\n        }\n    }, {\n        key: 'renderTagInput',\n        value: function renderTagInput(tagsWrapper) {\n            var _this = this;\n\n            var inputField = (0, _Elements.input)('', 'text', 'fred--tagger_input');\n\n            inputField.addEventListener('keyup', function (e) {\n                if (e.keyCode === 188 || e.keyCode === 13) {\n                    _this.onTagSubmit(tagsWrapper, inputField);\n                }\n            });\n\n            inputField.addEventListener('keydown', function (e) {\n                if (e.keyCode === 13) {\n                    e.preventDefault();\n                }\n            });\n\n            var addTag = (0, _Elements.button)('fred.fe.tagger.add', 'fred.fe.tagger.add', 'fred--tagger_add_tag', function () {\n                _this.onTagSubmit(tagsWrapper, inputField);\n            });\n\n            this.inputWrapper.appendChild(inputField);\n            this.inputWrapper.appendChild(addTag);\n\n            var lastRequest = null;\n\n            this.autoComplete({\n                selector: inputField,\n                onSelect: function onSelect(e, term, item) {\n                    _this.onTagSubmit(tagsWrapper, inputField);\n                },\n                source: function source(term, suggest) {\n                    if (lastRequest !== null) {\n                        lastRequest.cancel();\n                        lastRequest = null;\n                    }\n\n                    lastRequest = (0, _promiseCancel2.default)((0, _tagger.getTags)(_this.group.id, term));\n\n                    lastRequest.promise.then(function (tags) {\n                        suggest(tags);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'renderSelectInput',\n        value: function renderSelectInput() {\n            var _this2 = this;\n\n            var tagsWrapper = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n            var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n            var selectField = (0, _Elements.select)();\n\n            this.inputWrapper.appendChild(selectField);\n\n            var lookupTimeout = null;\n            var lookupCache = {};\n            var initData = [];\n\n            var tagChoices = new _choices2.default(selectField, {\n                shouldSort: false,\n                removeItemButton: false,\n                searchResultLimit: 0\n            });\n\n            (0, _Utils.fixChoices)(tagChoices);\n\n            if (tagsWrapper !== null) {\n                tagChoices._handleChoiceAction = function (activeItems, element) {\n                    if (!activeItems || !element) {\n                        return;\n                    }\n\n                    // If we are clicking on an option\n                    var id = element.getAttribute('data-id');\n                    var choice = this.store.getChoiceById(id);\n                    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : null;\n                    var hasActiveDropdown = this.dropdown.classList.contains(this.config.classNames.activeState);\n\n                    // Update choice keyCode\n                    choice.keyCode = passedKeyCode;\n\n                    var event = new CustomEvent('choice', {\n                        detail: null,\n                        bubbles: true,\n                        cancelable: true\n                    });\n\n                    this.passedElement.dispatchEvent(event);\n\n                    if (choice && !choice.selected && !choice.disabled) {\n                        var canAddItem = this._canAddItem(activeItems, choice.value);\n\n                        if (canAddItem.response) {\n                            this._addItem(choice.value, choice.label, choice.id, choice.groupId, choice.customProperties, choice.placeholder, choice.keyCode);\n                            this._triggerChange(choice.value);\n                        }\n                    }\n\n                    // this.clearInput();\n\n                    // We wont to close the dropdown if we are dealing with a single select box\n                    if (hasActiveDropdown && this.isSelectOneElement) {\n                        // this.hideDropdown();\n                        // this.containerOuter.focus();\n                    }\n                };\n            }\n\n            if (defaultValue !== null) {\n                tagChoices.setValue([defaultValue]);\n            }\n\n            tagChoices.ajax(function (callback) {\n                (0, _tagger.getTags)(_this2.group.id).then(function (data) {\n                    var tags = [];\n                    data.forEach(function (tag) {\n                        tags.push({\n                            value: '' + tag,\n                            label: '' + tag\n                        });\n                    });\n\n                    initData = tags;\n                    callback(tags, 'value', 'label');\n                }).catch(function (error) {\n                    _EE2.default.emit('fred-loading', error.message);\n                });\n            });\n\n            var populateOptions = function populateOptions(options) {\n                tagChoices.setChoices(options, 'value', 'label', true);\n            };\n\n            var serverLookup = function serverLookup() {\n                var query = tagChoices.input.value;\n                if (query in lookupCache) {\n                    populateOptions(lookupCache[query]);\n                } else {\n                    (0, _tagger.getTags)(_this2.group.id, query).then(function (data) {\n                        var tags = [];\n                        data.forEach(function (tag) {\n                            tags.push({\n                                value: '' + tag,\n                                label: '' + tag\n                            });\n                        });\n\n                        lookupCache[query] = tags;\n                        populateOptions(tags);\n                    }).catch(function (error) {\n                        _EE2.default.emit('fred-loading', error.message);\n                    });\n                }\n            };\n\n            tagChoices.passedElement.addEventListener('search', function (event) {\n                clearTimeout(lookupTimeout);\n                lookupTimeout = setTimeout(serverLookup, 200);\n            });\n\n            tagChoices.passedElement.addEventListener('change', function (event) {\n                if (tagsWrapper === null) {\n                    _this2.currentTags = [event.detail.value.trim()];\n                    _this2.onChange(_this2.currentTags);\n                    tagChoices.setChoices(initData, 'value', 'label', true);\n                } else {\n                    _this2.onTagAdd(tagsWrapper, event.detail.value);\n                }\n            });\n\n            if (tagsWrapper !== null) {\n                tagChoices.passedElement.addEventListener('hideDropdown', function (event) {\n                    tagChoices.clearStore();\n                    tagChoices.clearInput();\n                    tagChoices.setChoices(initData, 'value', 'label', true);\n                });\n            }\n        }\n    }, {\n        key: 'renderSingleSelectInput',\n        value: function renderSingleSelectInput() {\n            this.inputWrapper = (0, _Elements.div)('fred--tagger_input_wrapper');\n            var value = null;\n            if (this.currentTags.length > 0) {\n                value = this.currentTags[0];\n            }\n\n            this.renderSelectInput(null, value);\n        }\n    }, {\n        key: 'renderSingleTagInput',\n        value: function renderSingleTagInput() {\n            var _this3 = this;\n\n            this.inputWrapper = (0, _Elements.div)('fred--tagger_input_wrapper');\n\n            var inputField = (0, _Elements.input)('', 'text', 'fred--tagger_input');\n\n            if (this.currentTags.length > 0) {\n                inputField.value = this.currentTags[0];\n            }\n\n            inputField.addEventListener('keydown', function (e) {\n                if (e.keyCode === 13) {\n                    e.preventDefault();\n                }\n            });\n\n            inputField.addEventListener('keyup', function (e) {\n                _this3.currentTags = [inputField.value.trim()];\n                _this3.onChange(_this3.currentTags);\n            });\n\n            var showList = (0, _Elements.button)('fred.fe.tagger.toggle_list', 'fred.fe.tagger.toggle_list', 'fred--tagger_open_list', function () {\n                if (showList.listVisible) {\n                    inputField.blur();\n                } else {\n                    inputField.openList(inputField.value, 0);\n                    inputField.focus();\n                }\n            });\n\n            showList.addEventListener('mousedown', function (e) {\n                showList.listVisible = inputField.sc.style.display === 'block';\n            });\n\n            this.inputWrapper.appendChild(inputField);\n            this.inputWrapper.appendChild(showList);\n\n            var lastRequest = null;\n\n            this.autoComplete({\n                hideOnSelect: true,\n                selector: inputField,\n                onSelect: function onSelect(e, term, item) {\n                    _this3.currentTags = [inputField.value.trim()];\n                    _this3.onChange(_this3.currentTags);\n                },\n                source: function source(term, suggest) {\n                    if (lastRequest !== null) {\n                        lastRequest.cancel();\n                        lastRequest = null;\n                    }\n\n                    lastRequest = (0, _promiseCancel2.default)((0, _tagger.getTags)(_this3.group.id, term));\n\n                    lastRequest.promise.then(function (tags) {\n                        suggest(tags);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'renderInput',\n        value: function renderInput(tagsWrapper) {\n            var _this4 = this;\n\n            this.inputWrapper = (0, _Elements.div)(['fred--tagger_input_wrapper', 'fred--hidden']);\n\n            this.inputToggle = (0, _Elements.button)('fred.fe.tagger.toggle_input', 'fred.fe.tagger.toggle_input', 'fred--tagger_input_toggle', function () {\n                if (_this4.inputWrapper.classList.contains('fred--hidden')) {\n                    _this4.inputWrapper.classList.remove('fred--hidden');\n                    _this4.inputToggle.classList.add('fred--tagger_input_toggle_open');\n                } else {\n                    _this4.inputWrapper.classList.add('fred--hidden');\n                    _this4.inputToggle.classList.remove('fred--tagger_input_toggle_open');\n                }\n            });\n\n            if (this.group.allow_new === true) {\n                this.renderTagInput(tagsWrapper);\n            } else {\n                this.renderSelectInput(tagsWrapper);\n            }\n        }\n    }, {\n        key: 'renderTag',\n        value: function renderTag(tag) {\n            var active = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var onClick = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n            var tagToggle = (0, _Elements.span)('fred--tagger_tag', tag);\n            tagToggle.setAttribute('data-tag', tag);\n\n            if (active) {\n                tagToggle.classList.add('fred--tagger_tag_active');\n            }\n\n            if (typeof onClick === 'function') {\n                tagToggle.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    onClick(tagToggle, tag);\n                });\n            }\n\n            return tagToggle;\n        }\n    }, {\n        key: 'renderAutoTag',\n        value: function renderAutoTag(tagsWrapper) {\n            var _this5 = this;\n\n            this.group.tags.forEach(function (tag) {\n                var active = false;\n\n                if (~_this5.currentTags.indexOf(tag)) {\n                    active = true;\n                }\n\n                tagsWrapper.appendChild(_this5.renderTag(tag, active, _this5.onTagToggle));\n            });\n        }\n    }, {\n        key: 'renderTags',\n        value: function renderTags(tagsWrapper) {\n            var _this6 = this;\n\n            this.currentTags.forEach(function (tag) {\n                tagsWrapper.appendChild(_this6.renderTag(tag, true, _this6.onTagRemove));\n            });\n        }\n    }, {\n        key: 'onTagToggle',\n        value: function onTagToggle(tagToggle, tag) {\n            if (this.group.as_radio === true) {\n                var isActive = tagToggle.classList.contains('fred--tagger_tag_active');\n\n                var activeTags = tagToggle.parentElement.querySelectorAll('.fred--tagger_tag_active');\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = activeTags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var activeTag = _step.value;\n\n                        activeTag.classList.remove('fred--tagger_tag_active');\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                if (isActive) {\n                    tagToggle.classList.remove('fred--tagger_tag_active');\n                    this.currentTags = [];\n                } else {\n                    tagToggle.classList.add('fred--tagger_tag_active');\n                    this.currentTags = [tag];\n                }\n\n                this.onChange(this.currentTags);\n\n                return;\n            }\n\n            if (tagToggle.classList.contains('fred--tagger_tag_active')) {\n                tagToggle.classList.remove('fred--tagger_tag_active');\n\n                this.currentTags.splice(this.currentTags.indexOf(tag), 1);\n\n                this.toggleInput();\n            } else {\n                if (this.checkTagLimit()) {\n                    tagToggle.classList.add('fred--tagger_tag_active');\n\n                    this.currentTags.push(tag);\n                }\n\n                this.toggleInput();\n            }\n\n            this.onChange(this.currentTags);\n        }\n    }, {\n        key: 'onTagRemove',\n        value: function onTagRemove(tagToggle, tag) {\n            this.currentTags.splice(this.currentTags.indexOf(tag), 1);\n            this.onChange(this.currentTags);\n            tagToggle.remove();\n            this.toggleInput();\n        }\n    }, {\n        key: 'onTagSubmit',\n        value: function onTagSubmit(tagsWrapper, inputField) {\n            this.onTagAdd(tagsWrapper, inputField.value);\n\n            inputField.value = '';\n        }\n    }, {\n        key: 'onTagAdd',\n        value: function onTagAdd(tagsWrapper, tagsString) {\n            var _this7 = this;\n\n            var tags = tagsString.trim().split(',');\n\n            tags.forEach(function (tag) {\n                if (_this7.checkTagLimit()) {\n                    tag = tag.trim();\n                    if (!tag) return;\n\n                    if (~_this7.currentTags.indexOf(tag)) {\n                        return;\n                    }\n\n                    var tagEl = tagsWrapper.querySelector('[data-tag=\"' + tag + '\"]');\n                    if (tagEl) {\n                        tagEl.classList.add('fred--tagger_tag_active');\n                        _this7.currentTags.push(tag);\n                        _this7.onChange(_this7.currentTags);\n                        _this7.toggleInput();\n\n                        return;\n                    }\n\n                    var tagToggle = _this7.renderTag(tag, true, function () {\n                        if (_this7.group.show_autotag) {\n                            _this7.onTagToggle(tagToggle, tag);\n                        } else {\n                            _this7.onTagRemove(tagToggle, tag);\n                        }\n                    });\n\n                    tagsWrapper.appendChild(tagToggle);\n\n                    _this7.currentTags.push(tag);\n                    _this7.onChange(_this7.currentTags);\n\n                    _this7.toggleInput();\n                }\n            });\n        }\n    }, {\n        key: 'toggleInput',\n        value: function toggleInput() {\n            if (this.inputToggle && this.inputWrapper) {\n                if (this.checkTagLimit()) {\n                    if (this.inputToggle.classList.contains('fred--hidden')) {\n                        this.inputToggle.classList.remove('fred--tagger_input_toggle_open');\n                        this.inputToggle.classList.remove('fred--hidden');\n                    }\n                } else {\n                    this.inputToggle.classList.add('fred--hidden');\n                    this.inputWrapper.classList.add('fred--hidden');\n                    this.inputToggle.classList.remove('fred--tagger_input_toggle_open');\n                }\n            }\n        }\n    }, {\n        key: 'checkTagLimit',\n        value: function checkTagLimit() {\n            return this.group.tag_limit === 0 || this.currentTags.length < this.group.tag_limit;\n        }\n    }, {\n        key: 'autoComplete',\n        value: function autoComplete(options) {\n            var o = {\n                selector: null,\n                source: null,\n                minChars: 0,\n                delay: 150,\n                offsetLeft: 0,\n                offsetTop: 1,\n                cache: 1,\n                hideOnSelect: false,\n                onSelect: function onSelect(e, term, item) {}\n            };\n\n            for (var k in options) {\n                if (options.hasOwnProperty(k)) o[k] = options[k];\n            }\n\n            // init\n            if (_typeof(o.selector) !== 'object') return;\n            var element = o.selector;\n\n            element.sc = (0, _Elements.div)(['fred--autocomplete_suggestions']);\n            element.autocompleteAttr = element.getAttribute('autocomplete');\n            element.setAttribute('autocomplete', 'off');\n\n            element.cache = {};\n            element.last_val = '';\n\n            element.openList = function (val, delay) {\n                element.last_val = val;\n                clearTimeout(element.timer);\n\n                if (o.cache) {\n                    if (val in element.cache) {\n                        suggest(element.cache[val], val, false);\n                        return;\n                    }\n\n                    // no requests if previous suggestions were empty\n                    for (var i = 1; i < val.length - o.minChars; i++) {\n                        var part = val.slice(0, val.length - i);\n                        if (part in element.cache && !element.cache[part].length) {\n                            suggest([], '', false);\n                            return;\n                        }\n                    }\n                }\n\n                if (delay > 0) {\n                    element.timer = setTimeout(function () {\n                        o.source(val, function (data) {\n                            suggest(data, val);\n                        });\n                    }, delay);\n                } else {\n                    o.source(val, function (data) {\n                        suggest(data, val);\n                    });\n                }\n            };\n\n            element.updateSC = function (resize, next) {\n                var rect = element.getBoundingClientRect();\n                element.sc.style.width = Math.round(rect.right - rect.left) + 'px'; // outerWidth\n\n                if (!resize) {\n                    element.sc.style.display = 'block';\n                    if (!element.sc.maxHeight) {\n                        element.sc.maxHeight = parseInt((window.getComputedStyle ? getComputedStyle(element.sc, null) : element.sc.currentStyle).maxHeight);\n                    }\n\n                    if (!element.sc.suggestionHeight) {\n                        element.sc.suggestionHeight = element.sc.querySelector('.fred--autocomplete_suggestion').offsetHeight;\n                    }\n\n                    if (element.sc.suggestionHeight) {\n                        if (!next) {\n                            element.sc.scrollTop = 0;\n                        } else {\n                            var scrTop = element.sc.scrollTop;\n                            var selTop = next.getBoundingClientRect().top - element.sc.getBoundingClientRect().top;\n\n                            if (selTop + element.sc.suggestionHeight - element.sc.maxHeight > 0) {\n                                element.sc.scrollTop = selTop + element.sc.suggestionHeight + scrTop - element.sc.maxHeight;\n                            } else if (selTop < 0) {\n                                element.sc.scrollTop = selTop + scrTop;\n                            }\n                        }\n                    }\n                }\n            };\n            element.blurHandler = function () {\n                var over_sb = false;\n\n                try {\n                    over_sb = element.parentNode.querySelector('.fred--autocomplete_suggestions:hover');\n                } catch (e) {\n                    over_sb = false;\n                }\n\n                if (!over_sb) {\n                    element.last_val = element.value;\n                    element.sc.style.display = 'none';\n\n                    // setTimeout(() => {\n                    //     element.sc.style.display = 'none';\n                    // }, 350);\n                } else if (element !== document.activeElement) {\n                    setTimeout(function () {\n                        element.focus();\n                    }, 20);\n                }\n            };\n            element.keydownHandler = function (e) {\n                var key = window.event ? e.keyCode : e.which;\n                // down (40), up (38)\n                if ((key === 40 || key === 38) && element.sc.innerHTML) {\n                    var next = void 0;\n                    var sel = element.sc.querySelector('.fred--autocomplete_suggestion.fred--autocomplete_suggestion_selected');\n\n                    if (!sel) {\n                        next = key === 40 ? element.sc.querySelector('.fred--autocomplete_suggestion') : element.sc.childNodes[element.sc.childNodes.length - 1]; // first : last\n                        next.classList.add('fred--autocomplete_suggestion_selected');\n                        element.value = next.getAttribute('data-val');\n                    } else {\n                        next = key === 40 ? sel.nextSibling : sel.previousSibling;\n\n                        if (next) {\n                            sel.classList.remove('fred--autocomplete_suggestion_selected');\n                            next.classList.add('fred--autocomplete_suggestion_selected');\n                            element.value = next.getAttribute('data-val');\n                        } else {\n                            sel.classList.remove('fred--autocomplete_suggestion_selected');\n                            element.value = element.last_val;\n                            next = 0;\n                        }\n                    }\n                    element.updateSC(0, next);\n\n                    return false;\n                } else if (key === 27) {\n                    // esc\n                    element.value = element.last_val;\n                    element.sc.style.display = 'none';\n                } else if (key === 13 || key === 9) {\n                    // enter\n                    var _sel = element.sc.querySelector('.fred--autocomplete_suggestion.fred--autocomplete_suggestion_selected');\n                    if (_sel && element.sc.style.display !== 'none') {\n                        o.onSelect(e, _sel.getAttribute('data-val'), _sel);\n\n                        if (o.hideOnSelect === true) {\n                            setTimeout(function () {\n                                element.sc.style.display = 'none';\n                            }, 20);\n                        }\n                    }\n                }\n            };\n            element.keyupHandler = function (e) {\n                var key = window.event ? e.keyCode : e.which;\n                if (!key || (key < 35 || key > 40) && key !== 13 && key !== 27) {\n                    var val = element.value;\n\n                    if (val.length >= o.minChars) {\n                        if (val !== element.last_val) {\n                            element.openList(val, o.delay);\n                        }\n                    } else {\n                        element.last_val = val;\n                        element.sc.style.display = 'none';\n                    }\n                }\n            };\n            element.focusHandler = function (e) {\n                element.last_val = '\\n';\n                element.keyupHandler(e);\n            };\n\n            var renderItem = function renderItem(item, search) {\n                search = search.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n                var re = new RegExp(\"(\" + search.split(' ').join('|') + \")\", \"gi\");\n\n                var suggestionItem = (0, _Elements.div)('fred--autocomplete_suggestion', item.replace(re, \"<b>$1</b>\"));\n                suggestionItem.setAttribute('data-val', item);\n\n                suggestionItem.addEventListener('mouseover', function (e) {\n                    suggestionItem.classList.add('fred--autocomplete_suggestion_selected');\n                });\n\n                suggestionItem.addEventListener('mouseleave', function (e) {\n                    var selectedItems = suggestionItem.parentElement.querySelectorAll('.fred--autocomplete_suggestion_selected');\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = selectedItems[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var _item = _step2.value;\n\n                            _item.classList.remove('fred--autocomplete_suggestion_selected');\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                });\n\n                suggestionItem.addEventListener('mousedown', function (e) {\n                    var value = suggestionItem.getAttribute('data-val');\n                    element.value = value;\n                    o.onSelect(e, value, suggestionItem);\n\n                    if (o.hideOnSelect === true) {\n                        element.sc.style.display = 'none';\n                    }\n                });\n\n                return suggestionItem;\n            };\n\n            var suggest = function suggest(data, val) {\n                var cache = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n                if (cache === true) {\n                    element.cache[val] = data;\n                }\n\n                if (data.length && val.length >= o.minChars) {\n                    element.sc.innerHTML = '';\n\n                    for (var i = 0; i < data.length; i++) {\n                        element.sc.appendChild(renderItem(data[i], val));\n                    }\n\n                    element.updateSC(0);\n                } else {\n                    element.sc.style.display = 'none';\n                }\n            };\n\n            window.addEventListener('resize', element.updateSC);\n            element.addEventListener('blur', element.blurHandler);\n            element.addEventListener('keydown', element.keydownHandler);\n            element.addEventListener('keyup', element.keyupHandler);\n\n            element.insertAdjacentElement('afterend', element.sc);\n        }\n    }]);\n\n    return Tagger;\n}();\n\nexports.default = Tagger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL1VJL1RhZ2dlci5qcz9lZTgzIl0sIm5hbWVzIjpbIlRhZ2dlciIsImdyb3VwIiwiY3VycmVudFRhZ3MiLCJvbkNoYW5nZSIsImlucHV0VG9nZ2xlIiwiaW5wdXRXcmFwcGVyIiwicGFnZVNldHRpbmdzIiwidGFnZ2VyIiwiaWQiLCJiaW5kIiwib25UYWdUb2dnbGUiLCJvblRhZ1JlbW92ZSIsImZpZWxkIiwibmFtZSIsImZpZWxkX3R5cGUiLCJ0YWdzV3JhcHBlciIsImhpZGVfaW5wdXQiLCJyZW5kZXJJbnB1dCIsImFwcGVuZENoaWxkIiwic2hvd19hdXRvdGFnIiwicmVuZGVyQXV0b1RhZyIsInJlbmRlclRhZ3MiLCJ0b2dnbGVJbnB1dCIsImFsbG93X25ldyIsInJlbmRlclNpbmdsZVNlbGVjdElucHV0IiwicmVuZGVyU2luZ2xlVGFnSW5wdXQiLCJpbnB1dEZpZWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXlDb2RlIiwib25UYWdTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZFRhZyIsImxhc3RSZXF1ZXN0IiwiYXV0b0NvbXBsZXRlIiwic2VsZWN0b3IiLCJvblNlbGVjdCIsInRlcm0iLCJpdGVtIiwic291cmNlIiwic3VnZ2VzdCIsImNhbmNlbCIsInByb21pc2UiLCJ0aGVuIiwidGFncyIsImRlZmF1bHRWYWx1ZSIsInNlbGVjdEZpZWxkIiwibG9va3VwVGltZW91dCIsImxvb2t1cENhY2hlIiwiaW5pdERhdGEiLCJ0YWdDaG9pY2VzIiwic2hvdWxkU29ydCIsInJlbW92ZUl0ZW1CdXR0b24iLCJzZWFyY2hSZXN1bHRMaW1pdCIsIl9oYW5kbGVDaG9pY2VBY3Rpb24iLCJhY3RpdmVJdGVtcyIsImVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJjaG9pY2UiLCJzdG9yZSIsImdldENob2ljZUJ5SWQiLCJwYXNzZWRLZXlDb2RlIiwiaGFzQWN0aXZlRHJvcGRvd24iLCJkcm9wZG93biIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY29uZmlnIiwiY2xhc3NOYW1lcyIsImFjdGl2ZVN0YXRlIiwiZXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwicGFzc2VkRWxlbWVudCIsImRpc3BhdGNoRXZlbnQiLCJzZWxlY3RlZCIsImRpc2FibGVkIiwiY2FuQWRkSXRlbSIsIl9jYW5BZGRJdGVtIiwidmFsdWUiLCJyZXNwb25zZSIsIl9hZGRJdGVtIiwibGFiZWwiLCJncm91cElkIiwiY3VzdG9tUHJvcGVydGllcyIsInBsYWNlaG9sZGVyIiwiX3RyaWdnZXJDaGFuZ2UiLCJpc1NlbGVjdE9uZUVsZW1lbnQiLCJzZXRWYWx1ZSIsImFqYXgiLCJkYXRhIiwiZm9yRWFjaCIsInB1c2giLCJ0YWciLCJjYWxsYmFjayIsImNhdGNoIiwiZW1pdCIsImVycm9yIiwibWVzc2FnZSIsInBvcHVsYXRlT3B0aW9ucyIsInNldENob2ljZXMiLCJvcHRpb25zIiwic2VydmVyTG9va3VwIiwicXVlcnkiLCJpbnB1dCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ0cmltIiwib25UYWdBZGQiLCJjbGVhclN0b3JlIiwiY2xlYXJJbnB1dCIsImxlbmd0aCIsInJlbmRlclNlbGVjdElucHV0Iiwic2hvd0xpc3QiLCJsaXN0VmlzaWJsZSIsImJsdXIiLCJvcGVuTGlzdCIsImZvY3VzIiwic2MiLCJzdHlsZSIsImRpc3BsYXkiLCJoaWRlT25TZWxlY3QiLCJyZW1vdmUiLCJhZGQiLCJyZW5kZXJUYWdJbnB1dCIsImFjdGl2ZSIsIm9uQ2xpY2siLCJ0YWdUb2dnbGUiLCJzZXRBdHRyaWJ1dGUiLCJpbmRleE9mIiwicmVuZGVyVGFnIiwiYXNfcmFkaW8iLCJpc0FjdGl2ZSIsImFjdGl2ZVRhZ3MiLCJwYXJlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImFjdGl2ZVRhZyIsInNwbGljZSIsImNoZWNrVGFnTGltaXQiLCJ0YWdzU3RyaW5nIiwic3BsaXQiLCJ0YWdFbCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YWdfbGltaXQiLCJvIiwibWluQ2hhcnMiLCJkZWxheSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJjYWNoZSIsImsiLCJoYXNPd25Qcm9wZXJ0eSIsImF1dG9jb21wbGV0ZUF0dHIiLCJsYXN0X3ZhbCIsInZhbCIsInRpbWVyIiwiaSIsInBhcnQiLCJzbGljZSIsInVwZGF0ZVNDIiwicmVzaXplIiwibmV4dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsIk1hdGgiLCJyb3VuZCIsInJpZ2h0IiwibGVmdCIsIm1heEhlaWdodCIsInBhcnNlSW50Iiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsInN1Z2dlc3Rpb25IZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxUb3AiLCJzY3JUb3AiLCJzZWxUb3AiLCJ0b3AiLCJibHVySGFuZGxlciIsIm92ZXJfc2IiLCJwYXJlbnROb2RlIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50Iiwia2V5ZG93bkhhbmRsZXIiLCJrZXkiLCJ3aGljaCIsImlubmVySFRNTCIsInNlbCIsImNoaWxkTm9kZXMiLCJuZXh0U2libGluZyIsInByZXZpb3VzU2libGluZyIsImtleXVwSGFuZGxlciIsImZvY3VzSGFuZGxlciIsInJlbmRlckl0ZW0iLCJzZWFyY2giLCJyZXBsYWNlIiwicmUiLCJSZWdFeHAiLCJqb2luIiwic3VnZ2VzdGlvbkl0ZW0iLCJzZWxlY3RlZEl0ZW1zIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7Ozs7O0lBRU1BLE07QUFDRixvQkFBWUMsS0FBWixFQUE0RDtBQUFBLFlBQXpDQyxXQUF5Qyx1RUFBM0IsSUFBMkI7QUFBQSxZQUFyQkMsUUFBcUIsdUVBQVYsWUFBTSxDQUFFLENBQUU7O0FBQUE7O0FBQ3hELGFBQUtGLEtB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QUFFQSx5QkFBSyxJQUFJaEMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJbEUsS0FBS3FCLE1BQXpCLEVBQWlDNkMsR0FBakMsRUFBc0M7QUFDbENyRyxnQ0FBUStELEVBQVIsQ0FBV3JHLFdBQVgsQ0FBdUJrTCxXQUFXekcsS0FBS2tFLENBQUwsQ0FBWCxFQUFvQkYsR0FBcEIsQ0FBdkI7QUFDSDs7QUFFRG5HLDRCQUFRd0csUUFBUixDQUFpQixDQUFqQjtBQUNILGlCQVJELE1BUU87QUFDSHhHLDRCQUFRK0QsRUFBUixDQUFXQyxLQUFYLENBQWlCQyxPQUFqQixHQUEyQixNQUEzQjtBQUNIO0FBQ0osYUFoQkQ7O0FBa0JBbUQsbUJBQU9qSixnQkFBUCxDQUF3QixRQUF4QixFQUFrQzZCLFFBQVF3RyxRQUExQztBQUNBeEcsb0JBQVE3QixnQkFBUixDQUF5QixNQUF6QixFQUFpQzZCLFFBQVE2SCxXQUF6QztBQUNBN0gsb0JBQVE3QixnQkFBUixDQUF5QixTQUF6QixFQUFvQzZCLFFBQVFrSSxjQUE1QztBQUNBbEksb0JBQVE3QixnQkFBUixDQUF5QixPQUF6QixFQUFrQzZCLFFBQVEwSSxZQUExQzs7QUFFQTFJLG9CQUFRb0oscUJBQVIsQ0FBOEIsVUFBOUIsRUFBMENwSixRQUFRK0QsRUFBbEQ7QUFDSDs7Ozs7O2tCQUdVdkgsTSIsImZpbGUiOiIxMDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidXR0b24sIGRpdiwgaW5wdXQsIHNlbGVjdCwgc3BhbiB9IGZyb20gXCIuL0VsZW1lbnRzXCI7XG5pbXBvcnQgZnJlZENvbmZpZyBmcm9tICcuLi9Db25maWcnO1xuaW1wb3J0IHByb21pc2VDYW5jZWwgZnJvbSAncHJvbWlzZS1jYW5jZWwnO1xuaW1wb3J0IGVtaXR0ZXIgZnJvbSBcIi4uL0VFXCI7XG5pbXBvcnQgQ2hvaWNlcyBmcm9tICdjaG9pY2VzLmpzJztcbmltcG9ydCB7IGZpeENob2ljZXMgfSBmcm9tIFwiLi4vVXRpbHNcIjtcbmltcG9ydCB7IGdldFRhZ3MgfSBmcm9tICcuLi9BY3Rpb25zL3RhZ2dlcic7XG5cbmNsYXNzIFRhZ2dlciB7XG4gICAgY29uc3RydWN0b3IoZ3JvdXAsIGN1cnJlbnRUYWdzID0gbnVsbCwgb25DaGFuZ2UgPSAoKSA9PiB7fSkge1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG5cbiAgICAgICAgdGhpcy5pbnB1dFRvZ2dsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5wdXRXcmFwcGVyID0gbnVsbDtcblxuICAgICAgICBpZiAoY3VycmVudFRhZ3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghZnJlZENvbmZpZy5wYWdlU2V0dGluZ3MudGFnZ2VyKSBmcmVkQ29uZmlnLnBhZ2VTZXR0aW5ncy50YWdnZXIgPSB7fTtcbiAgICAgICAgICAgIGlmICghZnJlZENvbmZpZy5wYWdlU2V0dGluZ3MudGFnZ2VyW2B0YWdnZXItJHt0aGlzLmdyb3VwLmlkfWBdKSBmcmVkQ29uZmlnLnBhZ2VTZXR0aW5ncy50YWdnZXJbYHRhZ2dlci0ke3RoaXMuZ3JvdXAuaWR9YF0gPSBbXTtcblxuICAgICAgICAgICAgY3VycmVudFRhZ3MgPSBmcmVkQ29uZmlnLnBhZ2VTZXR0aW5ncy50YWdnZXJbYHRhZ2dlci0ke3RoaXMuZ3JvdXAuaWR9YF07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuY3VycmVudFRhZ3MgPSBjdXJyZW50VGFncztcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IG9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm9uVGFnVG9nZ2xlID0gdGhpcy5vblRhZ1RvZ2dsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uVGFnUmVtb3ZlID0gdGhpcy5vblRhZ1JlbW92ZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBkaXYoJ2ZyZWQtLXRhZ2dlcl9maWVsZCcsIGRpdignZnJlZC0tdGFnZ2VyX2dyb3VwX3RpdGxlJywgdGhpcy5ncm91cC5uYW1lKSk7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLmdyb3VwLmZpZWxkX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3RhZ2dlci1maWVsZC10YWdzJyA6XG4gICAgICAgICAgICAgICAgY29uc3QgdGFnc1dyYXBwZXIgPSBkaXYoJ2ZyZWQtLXRhZ2dlcl90YWdzX3dyYXBwZXInKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cC5oaWRlX2lucHV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcklucHV0KHRhZ3NXcmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuYXBwZW5kQ2hpbGQodGhpcy5pbnB1dFRvZ2dsZSk7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmFwcGVuZENoaWxkKHRoaXMuaW5wdXRXcmFwcGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyb3VwLnNob3dfYXV0b3RhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckF1dG9UYWcodGFnc1dyYXBwZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGFncyh0YWdzV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUlucHV0KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZmllbGQuYXBwZW5kQ2hpbGQodGFnc1dyYXBwZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFnZ2VyLWNvbWJvLXRhZyc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXAuYWxsb3dfbmV3ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNpbmdsZVNlbGVjdElucHV0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTaW5nbGVUYWdJbnB1dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmaWVsZC5hcHBlbmRDaGlsZCh0aGlzLmlucHV0V3JhcHBlcik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH1cbiAgICBcbiAgICByZW5kZXJUYWdJbnB1dCh0YWdzV3JhcHBlcikge1xuICAgICAgICBjb25zdCBpbnB1dEZpZWxkID0gaW5wdXQoJycsICd0ZXh0JywgJ2ZyZWQtLXRhZ2dlcl9pbnB1dCcpO1xuXG4gICAgICAgIGlucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcbiAgICAgICAgICAgIGlmICgoZS5rZXlDb2RlID09PSAxODgpIHx8IChlLmtleUNvZGUgPT09IDEzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25UYWdTdWJtaXQodGFnc1dyYXBwZXIsIGlucHV0RmllbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBhZGRUYWcgPSBidXR0b24oJ2ZyZWQuZmUudGFnZ2VyLmFkZCcsICdmcmVkLmZlLnRhZ2dlci5hZGQnLCAnZnJlZC0tdGFnZ2VyX2FkZF90YWcnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uVGFnU3VibWl0KHRhZ3NXcmFwcGVyLCBpbnB1dEZpZWxkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pbnB1dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXRGaWVsZCk7XG4gICAgICAgIHRoaXMuaW5wdXRXcmFwcGVyLmFwcGVuZENoaWxkKGFkZFRhZyk7XG5cbiAgICAgICAgbGV0IGxhc3RSZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmF1dG9Db21wbGV0ZSh7XG4gICAgICAgICAgICBzZWxlY3RvcjogaW5wdXRGaWVsZCxcbiAgICAgICAgICAgIG9uU2VsZWN0OiAoZSwgdGVybSwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25UYWdTdWJtaXQodGFnc1dyYXBwZXIsIGlucHV0RmllbGQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNvdXJjZTogKHRlcm0sIHN1Z2dlc3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFJlcXVlc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsYXN0UmVxdWVzdCA9IHByb21pc2VDYW5jZWwoZ2V0VGFncyh0aGlzLmdyb3VwLmlkLCB0ZXJtKSk7XG5cbiAgICAgICAgICAgICAgICBsYXN0UmVxdWVzdC5wcm9taXNlLnRoZW4odGFncyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3QodGFncyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyU2VsZWN0SW5wdXQodGFnc1dyYXBwZXIgPSBudWxsLCBkZWZhdWx0VmFsdWUgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdEZpZWxkID0gc2VsZWN0KCk7XG5cbiAgICAgICAgdGhpcy5pbnB1dFdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZWN0RmllbGQpO1xuXG4gICAgICAgIGxldCBsb29rdXBUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgbG9va3VwQ2FjaGUgPSB7fTtcbiAgICAgICAgbGV0IGluaXREYXRhID0gW107XG5cbiAgICAgICAgY29uc3QgdGFnQ2hvaWNlcyA9IG5ldyBDaG9pY2VzKHNlbGVjdEZpZWxkLCB7XG4gICAgICAgICAgICBzaG91bGRTb3J0OmZhbHNlLFxuICAgICAgICAgICAgcmVtb3ZlSXRlbUJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICBzZWFyY2hSZXN1bHRMaW1pdDogMFxuICAgICAgICB9KTtcblxuICAgICAgICBmaXhDaG9pY2VzKHRhZ0Nob2ljZXMpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRhZ3NXcmFwcGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0YWdDaG9pY2VzLl9oYW5kbGVDaG9pY2VBY3Rpb24gPSBmdW5jdGlvbihhY3RpdmVJdGVtcywgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlSXRlbXMgfHwgIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgY2xpY2tpbmcgb24gYW4gb3B0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNob2ljZSA9IHRoaXMuc3RvcmUuZ2V0Q2hvaWNlQnlJZChpZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFzc2VkS2V5Q29kZSAgPSBhY3RpdmVJdGVtc1swXSAmJiBhY3RpdmVJdGVtc1swXS5rZXlDb2RlID8gYWN0aXZlSXRlbXNbMF0ua2V5Q29kZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQWN0aXZlRHJvcGRvd24gPSB0aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY2hvaWNlIGtleUNvZGVcbiAgICAgICAgICAgICAgICBjaG9pY2Uua2V5Q29kZSA9IHBhc3NlZEtleUNvZGU7XG4gICAgXG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Nob2ljZScsIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgdGhpcy5wYXNzZWRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjaG9pY2UgJiYgIWNob2ljZS5zZWxlY3RlZCAmJiAhY2hvaWNlLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbkFkZEl0ZW0gPSB0aGlzLl9jYW5BZGRJdGVtKGFjdGl2ZUl0ZW1zLCBjaG9pY2UudmFsdWUpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuQWRkSXRlbS5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkSXRlbShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UuZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UuY3VzdG9tUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLmtleUNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlKGNob2ljZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jbGVhcklucHV0KCk7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gV2Ugd29udCB0byBjbG9zZSB0aGUgZHJvcGRvd24gaWYgd2UgYXJlIGRlYWxpbmcgd2l0aCBhIHNpbmdsZSBzZWxlY3QgYm94XG4gICAgICAgICAgICAgICAgaWYgKGhhc0FjdGl2ZURyb3Bkb3duICYmIHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuaGlkZURyb3Bkb3duKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY29udGFpbmVyT3V0ZXIuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0YWdDaG9pY2VzLnNldFZhbHVlKFtkZWZhdWx0VmFsdWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhZ0Nob2ljZXMuYWpheChjYWxsYmFjayA9PiB7XG4gICAgICAgICAgICBnZXRUYWdzKHRoaXMuZ3JvdXAuaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyArIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJycgKyB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGluaXREYXRhID0gdGFncztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodGFncywgJ3ZhbHVlJywgJ2xhYmVsJyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtbG9hZGluZycsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBwb3B1bGF0ZU9wdGlvbnMgPSBvcHRpb25zID0+IHtcbiAgICAgICAgICAgIHRhZ0Nob2ljZXMuc2V0Q2hvaWNlcyhvcHRpb25zLCAndmFsdWUnLCAnbGFiZWwnLCB0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzZXJ2ZXJMb29rdXAgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHRhZ0Nob2ljZXMuaW5wdXQudmFsdWU7XG4gICAgICAgICAgICBpZiAocXVlcnkgaW4gbG9va3VwQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZU9wdGlvbnMobG9va3VwQ2FjaGVbcXVlcnldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0VGFncyh0aGlzLmdyb3VwLmlkLCBxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycgKyB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJyArIHRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvb2t1cENhY2hlW3F1ZXJ5XSA9IHRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZU9wdGlvbnModGFncyk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtbG9hZGluZycsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0YWdDaG9pY2VzLnBhc3NlZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VhcmNoJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGxvb2t1cFRpbWVvdXQpO1xuICAgICAgICAgICAgbG9va3VwVGltZW91dCA9IHNldFRpbWVvdXQoc2VydmVyTG9va3VwLCAyMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICB0YWdDaG9pY2VzLnBhc3NlZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKHRhZ3NXcmFwcGVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFncyA9IFtldmVudC5kZXRhaWwudmFsdWUudHJpbSgpXTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMuY3VycmVudFRhZ3MpO1xuICAgICAgICAgICAgICAgIHRhZ0Nob2ljZXMuc2V0Q2hvaWNlcyhpbml0RGF0YSwgJ3ZhbHVlJywgJ2xhYmVsJywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub25UYWdBZGQodGFnc1dyYXBwZXIsIGV2ZW50LmRldGFpbC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0YWdzV3JhcHBlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGFnQ2hvaWNlcy5wYXNzZWRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2hpZGVEcm9wZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0YWdDaG9pY2VzLmNsZWFyU3RvcmUoKTtcbiAgICAgICAgICAgICAgICB0YWdDaG9pY2VzLmNsZWFySW5wdXQoKTtcbiAgICAgICAgICAgICAgICB0YWdDaG9pY2VzLnNldENob2ljZXMoaW5pdERhdGEsICd2YWx1ZScsICdsYWJlbCcsIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmVuZGVyU2luZ2xlU2VsZWN0SW5wdXQoKSB7XG4gICAgICAgIHRoaXMuaW5wdXRXcmFwcGVyID0gZGl2KCdmcmVkLS10YWdnZXJfaW5wdXRfd3JhcHBlcicpO1xuICAgICAgICBsZXQgdmFsdWUgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY3VycmVudFRhZ3NbMF07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMucmVuZGVyU2VsZWN0SW5wdXQobnVsbCwgdmFsdWUpO1xuICAgIH1cbiAgICBcbiAgICByZW5kZXJTaW5nbGVUYWdJbnB1dCgpIHtcbiAgICAgICAgdGhpcy5pbnB1dFdyYXBwZXIgPSBkaXYoJ2ZyZWQtLXRhZ2dlcl9pbnB1dF93cmFwcGVyJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbnB1dEZpZWxkID0gaW5wdXQoJycsICd0ZXh0JywgJ2ZyZWQtLXRhZ2dlcl9pbnB1dCcpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRUYWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlucHV0RmllbGQudmFsdWUgPSB0aGlzLmN1cnJlbnRUYWdzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXRGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUYWdzID0gW2lucHV0RmllbGQudmFsdWUudHJpbSgpXTtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5jdXJyZW50VGFncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNob3dMaXN0ID0gYnV0dG9uKCdmcmVkLmZlLnRhZ2dlci50b2dnbGVfbGlzdCcsICdmcmVkLmZlLnRhZ2dlci50b2dnbGVfbGlzdCcsICdmcmVkLS10YWdnZXJfb3Blbl9saXN0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNob3dMaXN0Lmxpc3RWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRGaWVsZC5ibHVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlucHV0RmllbGQub3Blbkxpc3QoaW5wdXRGaWVsZC52YWx1ZSwgMCk7XG4gICAgICAgICAgICAgICAgaW5wdXRGaWVsZC5mb2N1cygpOyAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNob3dMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4ge1xuICAgICAgICAgICAgc2hvd0xpc3QubGlzdFZpc2libGUgPSAoaW5wdXRGaWVsZC5zYy5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snKTsgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaW5wdXRXcmFwcGVyLmFwcGVuZENoaWxkKGlucHV0RmllbGQpO1xuICAgICAgICB0aGlzLmlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChzaG93TGlzdCk7XG5cbiAgICAgICAgbGV0IGxhc3RSZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmF1dG9Db21wbGV0ZSh7XG4gICAgICAgICAgICBoaWRlT25TZWxlY3Q6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RvcjogaW5wdXRGaWVsZCxcbiAgICAgICAgICAgIG9uU2VsZWN0OiAoZSwgdGVybSwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRhZ3MgPSBbaW5wdXRGaWVsZC52YWx1ZS50cmltKCldO1xuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5jdXJyZW50VGFncyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc291cmNlOiAodGVybSwgc3VnZ2VzdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UmVxdWVzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxhc3RSZXF1ZXN0ID0gcHJvbWlzZUNhbmNlbChnZXRUYWdzKHRoaXMuZ3JvdXAuaWQsIHRlcm0pKTtcblxuICAgICAgICAgICAgICAgIGxhc3RSZXF1ZXN0LnByb21pc2UudGhlbih0YWdzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdCh0YWdzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmVuZGVySW5wdXQodGFnc1dyYXBwZXIpIHtcbiAgICAgICAgdGhpcy5pbnB1dFdyYXBwZXIgPSBkaXYoWydmcmVkLS10YWdnZXJfaW5wdXRfd3JhcHBlcicsICdmcmVkLS1oaWRkZW4nXSk7XG5cbiAgICAgICAgdGhpcy5pbnB1dFRvZ2dsZSA9IGJ1dHRvbignZnJlZC5mZS50YWdnZXIudG9nZ2xlX2lucHV0JywgJ2ZyZWQuZmUudGFnZ2VyLnRvZ2dsZV9pbnB1dCcsICdmcmVkLS10YWdnZXJfaW5wdXRfdG9nZ2xlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRXcmFwcGVyLmNsYXNzTGlzdC5jb250YWlucygnZnJlZC0taGlkZGVuJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0V3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdmcmVkLS1oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLXRhZ2dlcl9pbnB1dF90b2dnbGVfb3BlbicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0V3JhcHBlci5jbGFzc0xpc3QuYWRkKCdmcmVkLS1oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLXRhZ2dlcl9pbnB1dF90b2dnbGVfb3BlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5ncm91cC5hbGxvd19uZXcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFnSW5wdXQodGFnc1dyYXBwZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJTZWxlY3RJbnB1dCh0YWdzV3JhcHBlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmVuZGVyVGFnKHRhZywgYWN0aXZlID0gZmFsc2UsIG9uQ2xpY2sgPSAoKSA9PiB7fSkge1xuICAgICAgICBjb25zdCB0YWdUb2dnbGUgPSBzcGFuKCdmcmVkLS10YWdnZXJfdGFnJywgdGFnKTtcbiAgICAgICAgdGFnVG9nZ2xlLnNldEF0dHJpYnV0ZSgnZGF0YS10YWcnLCB0YWcpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgdGFnVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLXRhZ2dlcl90YWdfYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRhZ1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBvbkNsaWNrKHRhZ1RvZ2dsZSwgdGFnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGFnVG9nZ2xlO1xuICAgIH1cblxuICAgIHJlbmRlckF1dG9UYWcodGFnc1dyYXBwZXIpIHtcbiAgICAgICAgdGhpcy5ncm91cC50YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgICAgIGxldCBhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKH50aGlzLmN1cnJlbnRUYWdzLmluZGV4T2YodGFnKSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRhZ3NXcmFwcGVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyVGFnKHRhZywgYWN0aXZlLCB0aGlzLm9uVGFnVG9nZ2xlKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlclRhZ3ModGFnc1dyYXBwZXIpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgICAgICB0YWdzV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlclRhZyh0YWcsIHRydWUsIHRoaXMub25UYWdSZW1vdmUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25UYWdUb2dnbGUodGFnVG9nZ2xlLCB0YWcpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JvdXAuYXNfcmFkaW8gPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFnVG9nZ2xlLmNsYXNzTGlzdC5jb250YWlucygnZnJlZC0tdGFnZ2VyX3RhZ19hY3RpdmUnKTtcblxuICAgICAgICAgICAgY29uc3QgYWN0aXZlVGFncyA9IHRhZ1RvZ2dsZS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mcmVkLS10YWdnZXJfdGFnX2FjdGl2ZScpO1xuICAgICAgICAgICAgZm9yIChsZXQgYWN0aXZlVGFnIG9mIGFjdGl2ZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYWcuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0tdGFnZ2VyX3RhZ19hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGFnVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLXRhZ2dlcl90YWdfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFncyA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWdUb2dnbGUuY2xhc3NMaXN0LmFkZCgnZnJlZC0tdGFnZ2VyX3RhZ19hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUYWdzID0gW3RhZ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5jdXJyZW50VGFncyk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YWdUb2dnbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdmcmVkLS10YWdnZXJfdGFnX2FjdGl2ZScpKSB7XG4gICAgICAgICAgICB0YWdUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0tdGFnZ2VyX3RhZ19hY3RpdmUnKTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFncy5zcGxpY2UodGhpcy5jdXJyZW50VGFncy5pbmRleE9mKHRhZyksIDEpO1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUlucHV0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja1RhZ0xpbWl0KCkpIHtcbiAgICAgICAgICAgICAgICB0YWdUb2dnbGUuY2xhc3NMaXN0LmFkZCgnZnJlZC0tdGFnZ2VyX3RhZ19hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRhZ3MucHVzaCh0YWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUlucHV0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMuY3VycmVudFRhZ3MpO1xuICAgIH1cblxuICAgIG9uVGFnUmVtb3ZlKHRhZ1RvZ2dsZSwgdGFnKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFRhZ3Muc3BsaWNlKHRoaXMuY3VycmVudFRhZ3MuaW5kZXhPZih0YWcpLCAxKTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLmN1cnJlbnRUYWdzKTtcbiAgICAgICAgdGFnVG9nZ2xlLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnRvZ2dsZUlucHV0KCk7XG4gICAgfVxuXG4gICAgb25UYWdTdWJtaXQodGFnc1dyYXBwZXIsIGlucHV0RmllbGQpIHtcbiAgICAgICAgdGhpcy5vblRhZ0FkZCh0YWdzV3JhcHBlciwgaW5wdXRGaWVsZC52YWx1ZSk7XG5cbiAgICAgICAgaW5wdXRGaWVsZC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgICBcbiAgICBvblRhZ0FkZCh0YWdzV3JhcHBlciwgdGFnc1N0cmluZykge1xuICAgICAgICBjb25zdCB0YWdzID0gdGFnc1N0cmluZy50cmltKCkuc3BsaXQoJywnKTtcbiAgICAgICAgXG4gICAgICAgIHRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUYWdMaW1pdCgpKSB7XG4gICAgICAgICAgICAgICAgdGFnID0gdGFnLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRhZykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgaWYgKH50aGlzLmN1cnJlbnRUYWdzLmluZGV4T2YodGFnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdGFnRWwgPSB0YWdzV3JhcHBlci5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWc9XCIke3RhZ31cIl1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGFnRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFnRWwuY2xhc3NMaXN0LmFkZCgnZnJlZC0tdGFnZ2VyX3RhZ19hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFncy5wdXNoKHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5jdXJyZW50VGFncyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlSW5wdXQoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBjb25zdCB0YWdUb2dnbGUgPSB0aGlzLnJlbmRlclRhZyh0YWcsIHRydWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXAuc2hvd19hdXRvdGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGFnVG9nZ2xlKHRhZ1RvZ2dsZSwgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25UYWdSZW1vdmUodGFnVG9nZ2xlLCB0YWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0YWdzV3JhcHBlci5hcHBlbmRDaGlsZCh0YWdUb2dnbGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFncy5wdXNoKHRhZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLmN1cnJlbnRUYWdzKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlSW5wdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlSW5wdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlucHV0VG9nZ2xlICYmIHRoaXMuaW5wdXRXcmFwcGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja1RhZ0xpbWl0KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dFRvZ2dsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2ZyZWQtLWhpZGRlbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0tdGFnZ2VyX2lucHV0X3RvZ2dsZV9vcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0taGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0tdGFnZ2VyX2lucHV0X3RvZ2dsZV9vcGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja1RhZ0xpbWl0KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZ3JvdXAudGFnX2xpbWl0ID09PSAwKSB8fCAodGhpcy5jdXJyZW50VGFncy5sZW5ndGggPCB0aGlzLmdyb3VwLnRhZ19saW1pdCk7XG4gICAgfVxuXG4gICAgYXV0b0NvbXBsZXRlKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbyA9IHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiBudWxsLFxuICAgICAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICAgICAgbWluQ2hhcnM6IDAsXG4gICAgICAgICAgICBkZWxheTogMTUwLFxuICAgICAgICAgICAgb2Zmc2V0TGVmdDogMCxcbiAgICAgICAgICAgIG9mZnNldFRvcDogMSxcbiAgICAgICAgICAgIGNhY2hlOiAxLFxuICAgICAgICAgICAgaGlkZU9uU2VsZWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG9uU2VsZWN0OiAoZSwgdGVybSwgaXRlbSkgPT4ge31cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGsgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoaykpIG9ba10gPSBvcHRpb25zW2tdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5pdFxuICAgICAgICBpZiAodHlwZW9mIG8uc2VsZWN0b3IgIT09ICdvYmplY3QnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBvLnNlbGVjdG9yO1xuXG4gICAgICAgIGVsZW1lbnQuc2MgPSBkaXYoWydmcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbnMnXSk7XG4gICAgICAgIGVsZW1lbnQuYXV0b2NvbXBsZXRlQXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcbiAgICAgICAgXG4gICAgICAgIGVsZW1lbnQuY2FjaGUgPSB7fTtcbiAgICAgICAgZWxlbWVudC5sYXN0X3ZhbCA9ICcnO1xuXG4gICAgICAgIGVsZW1lbnQub3Blbkxpc3QgPSAodmFsLCBkZWxheSkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5sYXN0X3ZhbCA9IHZhbDtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChlbGVtZW50LnRpbWVyKTtcblxuICAgICAgICAgICAgaWYgKG8uY2FjaGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsIGluIGVsZW1lbnQuY2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdChlbGVtZW50LmNhY2hlW3ZhbF0sIHZhbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm8gcmVxdWVzdHMgaWYgcHJldmlvdXMgc3VnZ2VzdGlvbnMgd2VyZSBlbXB0eVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdmFsLmxlbmd0aCAtIG8ubWluQ2hhcnM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gdmFsLnNsaWNlKDAsIHZhbC5sZW5ndGggLSBpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQgaW4gZWxlbWVudC5jYWNoZSAmJiAhZWxlbWVudC5jYWNoZVtwYXJ0XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3QoW10sICcnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG8uc291cmNlKHZhbCwgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0KGRhdGEsIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgby5zb3VyY2UodmFsLCBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdChkYXRhLCB2YWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZWxlbWVudC51cGRhdGVTQyA9IChyZXNpemUsIG5leHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgZWxlbWVudC5zYy5zdHlsZS53aWR0aCA9IE1hdGgucm91bmQocmVjdC5yaWdodCAtIHJlY3QubGVmdCkgKyAncHgnOyAvLyBvdXRlcldpZHRoXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzaXplKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zYy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuc2MubWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2MubWF4SGVpZ2h0ID0gcGFyc2VJbnQoKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID8gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LnNjLCBudWxsKSA6IGVsZW1lbnQuc2MuY3VycmVudFN0eWxlKS5tYXhIZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuc2Muc3VnZ2VzdGlvbkhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjLnN1Z2dlc3Rpb25IZWlnaHQgPSBlbGVtZW50LnNjLnF1ZXJ5U2VsZWN0b3IoJy5mcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbicpLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc2Muc3VnZ2VzdGlvbkhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Muc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjclRvcCA9IGVsZW1lbnQuc2Muc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsVG9wID0gbmV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBlbGVtZW50LnNjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbFRvcCArIGVsZW1lbnQuc2Muc3VnZ2VzdGlvbkhlaWdodCAtIGVsZW1lbnQuc2MubWF4SGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Muc2Nyb2xsVG9wID0gc2VsVG9wICsgZWxlbWVudC5zYy5zdWdnZXN0aW9uSGVpZ2h0ICsgc2NyVG9wIC0gZWxlbWVudC5zYy5tYXhIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbFRvcCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjLnNjcm9sbFRvcCA9IHNlbFRvcCArIHNjclRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWxlbWVudC5ibHVySGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGxldCBvdmVyX3NiID0gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb3Zlcl9zYiA9IGVsZW1lbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuZnJlZC0tYXV0b2NvbXBsZXRlX3N1Z2dlc3Rpb25zOmhvdmVyJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgb3Zlcl9zYiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIW92ZXJfc2IpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmxhc3RfdmFsID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNjLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGVsZW1lbnQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAvLyB9LCAzNTApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9LCAyMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnQua2V5ZG93bkhhbmRsZXIgPSBlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHdpbmRvdy5ldmVudCA/IGUua2V5Q29kZSA6IGUud2hpY2g7XG4gICAgICAgICAgICAvLyBkb3duICg0MCksIHVwICgzOClcbiAgICAgICAgICAgIGlmICgoa2V5ID09PSA0MCB8fCBrZXkgPT09IDM4KSAmJiBlbGVtZW50LnNjLmlubmVySFRNTCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0O1xuICAgICAgICAgICAgICAgIGxldCBzZWwgPSBlbGVtZW50LnNjLnF1ZXJ5U2VsZWN0b3IoJy5mcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbi5mcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbl9zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghc2VsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSAoa2V5ID09PSA0MCkgPyBlbGVtZW50LnNjLnF1ZXJ5U2VsZWN0b3IoJy5mcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbicpIDogZWxlbWVudC5zYy5jaGlsZE5vZGVzW2VsZW1lbnQuc2MuY2hpbGROb2Rlcy5sZW5ndGggLSAxXTsgLy8gZmlyc3QgOiBsYXN0XG4gICAgICAgICAgICAgICAgICAgIG5leHQuY2xhc3NMaXN0LmFkZCgnZnJlZC0tYXV0b2NvbXBsZXRlX3N1Z2dlc3Rpb25fc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IG5leHQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSAoa2V5ID09PSA0MCkgPyBzZWwubmV4dFNpYmxpbmcgOiBzZWwucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5jbGFzc0xpc3QucmVtb3ZlKCdmcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbl9zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dC5jbGFzc0xpc3QuYWRkKCdmcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbl9zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IG5leHQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWF1dG9jb21wbGV0ZV9zdWdnZXN0aW9uX3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gZWxlbWVudC5sYXN0X3ZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlU0MoMCwgbmV4dCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09IDI3KSB7IC8vIGVzY1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSBlbGVtZW50Lmxhc3RfdmFsO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAxMyB8fCBrZXkgPT09IDkpIHsgLy8gZW50ZXJcbiAgICAgICAgICAgICAgICBsZXQgc2VsID0gZWxlbWVudC5zYy5xdWVyeVNlbGVjdG9yKCcuZnJlZC0tYXV0b2NvbXBsZXRlX3N1Z2dlc3Rpb24uZnJlZC0tYXV0b2NvbXBsZXRlX3N1Z2dlc3Rpb25fc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsICYmIGVsZW1lbnQuc2Muc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIG8ub25TZWxlY3QoZSwgc2VsLmdldEF0dHJpYnV0ZSgnZGF0YS12YWwnKSwgc2VsKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmhpZGVPblNlbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zYy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlbGVtZW50LmtleXVwSGFuZGxlciA9IGUgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gd2luZG93LmV2ZW50ID8gZS5rZXlDb2RlIDogZS53aGljaDtcbiAgICAgICAgICAgIGlmICgha2V5IHx8IChrZXkgPCAzNSB8fCBrZXkgPiA0MCkgJiYga2V5ICE9PSAxMyAmJiBrZXkgIT09IDI3KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodmFsLmxlbmd0aCA+PSBvLm1pbkNoYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IGVsZW1lbnQubGFzdF92YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub3Blbkxpc3QodmFsLCBvLmRlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQubGFzdF92YWwgPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnQuZm9jdXNIYW5kbGVyID0gZSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50Lmxhc3RfdmFsID0gJ1xcbic7XG4gICAgICAgICAgICBlbGVtZW50LmtleXVwSGFuZGxlcihlKVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbmRlckl0ZW0gPSAoaXRlbSwgc2VhcmNoKSA9PiB7XG4gICAgICAgICAgICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG4gICAgICAgICAgICBjb25zdCByZSA9IG5ldyBSZWdFeHAoXCIoXCIgKyBzZWFyY2guc3BsaXQoJyAnKS5qb2luKCd8JykgKyBcIilcIiwgXCJnaVwiKTtcblxuICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbkl0ZW0gPSBkaXYoJ2ZyZWQtLWF1dG9jb21wbGV0ZV9zdWdnZXN0aW9uJywgaXRlbS5yZXBsYWNlKHJlLCBcIjxiPiQxPC9iPlwiKSk7XG4gICAgICAgICAgICBzdWdnZXN0aW9uSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsJywgaXRlbSk7XG5cbiAgICAgICAgICAgIHN1Z2dlc3Rpb25JdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGUgPT4ge1xuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25JdGVtLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWF1dG9jb21wbGV0ZV9zdWdnZXN0aW9uX3NlbGVjdGVkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3VnZ2VzdGlvbkl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBzdWdnZXN0aW9uSXRlbS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mcmVkLS1hdXRvY29tcGxldGVfc3VnZ2VzdGlvbl9zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2Ygc2VsZWN0ZWRJdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWF1dG9jb21wbGV0ZV9zdWdnZXN0aW9uX3NlbGVjdGVkJyk7ICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25JdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3VnZ2VzdGlvbkl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXZhbCcpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBvLm9uU2VsZWN0KGUsIHZhbHVlLCBzdWdnZXN0aW9uSXRlbSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoby5oaWRlT25TZWxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zYy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbkl0ZW07XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdWdnZXN0ID0gKGRhdGEsIHZhbCwgY2FjaGUgPSB0cnVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2FjaGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNhY2hlW3ZhbF0gPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggJiYgdmFsLmxlbmd0aCA+PSBvLm1pbkNoYXJzKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zYy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zYy5hcHBlbmRDaGlsZChyZW5kZXJJdGVtKGRhdGFbaV0sIHZhbCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlU0MoMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBlbGVtZW50LnVwZGF0ZVNDKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZWxlbWVudC5ibHVySGFuZGxlcik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVsZW1lbnQua2V5ZG93bkhhbmRsZXIpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZWxlbWVudC5rZXl1cEhhbmRsZXIpO1xuICAgICAgICBcbiAgICAgICAgZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgZWxlbWVudC5zYyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYWdnZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9VSS9UYWdnZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 108 */
/***/ (function(module, exports) {

	eval("var promiseCancel = function(promise, options) {\n\toptions = options || {};\n\tvar timeout = options.timeout;\n\tvar canceled = false;\n\n\tvar cancelResolve;\n\tvar dummyRequest = new Promise(function(resolve, reject) {\n\t\tcancelResolve = resolve;\n\t});\n\n\tvar race = Promise.race([dummyRequest, promise])\n\t.then(function(data) {\n\t\tif(canceled) {\n\t\t\tvar error = new Error('User cancelled promise.');\n\t\t\terror.type = 'cancel';\n\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t\telse if(timeout) {\n\t\t\tvar error = new Error('Promise timeout');\n\t\t\terror.type = 'timeout';\n\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t\telse {\n\t\t\treturn Promise.resolve(data);\n\t\t}\n\t});\n\n\tif(options.timeout) {\n\t\tsetTimeout(function() {\n\t\t\ttimeout = true;\n\t\t\tcancelResolve();\n\t\t}, +options.timeout);\n\t}\n\n\tfunction cancel() {\n\t\tcanceled = true;\n\t\tcancelResolve();\n\t}\n\n\treturn {\n\t\tpromise: race,\n\t\tcancel: cancel,\n\t\tabort: cancel\n\t};\n};\n\nmodule.exports = promiseCancel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Byb21pc2UtY2FuY2VsL2luZGV4LmpzP2UyYzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjEwOC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBwcm9taXNlQ2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0dmFyIHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG5cdHZhciBjYW5jZWxlZCA9IGZhbHNlO1xuXG5cdHZhciBjYW5jZWxSZXNvbHZlO1xuXHR2YXIgZHVtbXlSZXF1ZXN0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0Y2FuY2VsUmVzb2x2ZSA9IHJlc29sdmU7XG5cdH0pO1xuXG5cdHZhciByYWNlID0gUHJvbWlzZS5yYWNlKFtkdW1teVJlcXVlc3QsIHByb21pc2VdKVxuXHQudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0aWYoY2FuY2VsZWQpIHtcblx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcignVXNlciBjYW5jZWxsZWQgcHJvbWlzZS4nKTtcblx0XHRcdGVycm9yLnR5cGUgPSAnY2FuY2VsJztcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0XHR9XG5cdFx0ZWxzZSBpZih0aW1lb3V0KSB7XG5cdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ1Byb21pc2UgdGltZW91dCcpO1xuXHRcdFx0ZXJyb3IudHlwZSA9ICd0aW1lb3V0JztcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xuXHRcdH1cblx0fSk7XG5cblx0aWYob3B0aW9ucy50aW1lb3V0KSB7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdHRpbWVvdXQgPSB0cnVlO1xuXHRcdFx0Y2FuY2VsUmVzb2x2ZSgpO1xuXHRcdH0sICtvcHRpb25zLnRpbWVvdXQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsKCkge1xuXHRcdGNhbmNlbGVkID0gdHJ1ZTtcblx0XHRjYW5jZWxSZXNvbHZlKCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHByb21pc2U6IHJhY2UsXG5cdFx0Y2FuY2VsOiBjYW5jZWwsXG5cdFx0YWJvcnQ6IGNhbmNlbFxuXHR9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBwcm9taXNlQ2FuY2VsO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wcm9taXNlLWNhbmNlbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getTags = exports.getGroups = undefined;\n\nvar _Cache = __webpack_require__(38);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _isomorphicFetch = __webpack_require__(36);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Utils = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getGroups = exports.getGroups = function getGroups(group, autoTag) {\n    return _Cache2.default.load('tagger', { name: 'groups', group: group, autoTag: autoTag }, function () {\n        return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=tagger-get-group&group=\" + group + \"&includeTags=\" + (autoTag | 0), {\n            credentials: 'same-origin'\n        }).then(_Utils.errorHandler).then(function (json) {\n            return json.data.group.tags;\n        });\n    });\n};\n\nvar getTags = exports.getTags = function getTags(group) {\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    var queryString = \"&group=\" + group;\n\n    if (query !== null) {\n        queryString += \"&query=\" + query;\n    }\n\n    return _Cache2.default.load('tagger', { name: 'tags', group: group, query: query }, function () {\n        return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=tagger-get-tags&\" + queryString, {\n            credentials: 'same-origin'\n        }).then(_Utils.errorHandler).then(function (json) {\n            return json.data.tags;\n        });\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0FjdGlvbnMvdGFnZ2VyLmpzPzIyY2YiXSwibmFtZXMiOlsiZ2V0R3JvdXBzIiwiZ3JvdXAiLCJhdXRvVGFnIiwibG9hZCIsIm5hbWUiLCJjb25maWciLCJhc3NldHNVcmwiLCJjcmVkZW50aWFscyIsInRoZW4iLCJqc29uIiwiZGF0YSIsInRhZ3MiLCJnZXRUYWdzIiwicXVlcnkiLCJxdWVyeVN0cmluZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRU8sSUFBTUEsZ0NBQVksU0FBWkEsU0FBWSxDQUFDQyxLQUFELEVBQVFDLE9BQVIsRUFBb0I7QUFDekMsV0FBTyxnQkFBTUMsSUFBTixDQUFXLFFBQVgsRUFBcUIsRUFBQ0MsTUFBTSxRQUFQLEVBQWlCSCxZQUFqQixFQUF3QkMsZ0JBQXhCLEVBQXJCLEVBQXVELFlBQU07QUFDaEUsZUFBTywrQkFBUyxpQkFBV0csTUFBWCxDQUFrQkMsU0FBM0IseURBQXdGTCxLQUF4RixzQkFBNkdDLFVBQVUsQ0FBdkgsR0FBNEg7QUFDL0hLLHlCQUFhO0FBRGtILFNBQTVILEVBR0ZDLElBSEUsc0JBSUZBLElBSkUsQ0FJRyxnQkFBUTtBQUNWLG1CQUFPQyxLQUFLQyxJQUFMLENBQVVULEtBQVYsQ0FBZ0JVLElBQXZCO0FBQ0gsU0FORSxDQUFQO0FBT0gsS0FSTSxDQUFQO0FBU0gsQ0FWTTs7QUFZQSxJQUFNQyw0QkFBVSxTQUFWQSxPQUFVLENBQUNYLEtBQUQsRUFBeUI7QUFBQSxRQUFqQlksS0FBaUIsdUVBQVQsSUFBUzs7QUFDNUMsUUFBSUMsMEJBQXdCYixLQUE1Qjs7QUFFQSxRQUFJWSxVQUFVLElBQWQsRUFBb0I7QUFDaEJDLG1DQUF5QkQsS0FBekI7QUFDSDs7QUFFRCxXQUFPLGdCQUFNVixJQUFOLENBQVcsUUFBWCxFQUFxQixFQUFDQyxNQUFNLE1BQVAsRUFBZUgsWUFBZixFQUFzQlksWUFBdEIsRUFBckIsRUFBbUQsWUFBTTtBQUM1RCxlQUFPLCtCQUFTLGlCQUFXUixNQUFYLENBQWtCQyxTQUEzQixrREFBaUZRLFdBQWpGLEVBQWdHO0FBQ25HUCx5QkFBYTtBQURzRixTQUFoRyxFQUdGQyxJQUhFLHNCQUlGQSxJQUpFLENBSUcsZ0JBQVE7QUFDVixtQkFBT0MsS0FBS0MsSUFBTCxDQUFVQyxJQUFqQjtBQUNILFNBTkUsQ0FBUDtBQU9ILEtBUk0sQ0FBUDtBQVNILENBaEJNIiwiZmlsZSI6IjEwOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjYWNoZSBmcm9tIFwiLi4vQ2FjaGVcIjtcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy1mZXRjaFwiO1xuaW1wb3J0IGZyZWRDb25maWcgZnJvbSBcIi4uL0NvbmZpZ1wiO1xuaW1wb3J0IHtlcnJvckhhbmRsZXJ9IGZyb20gXCIuLi9VdGlsc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0R3JvdXBzID0gKGdyb3VwLCBhdXRvVGFnKSA9PiB7XG4gICAgcmV0dXJuIGNhY2hlLmxvYWQoJ3RhZ2dlcicsIHtuYW1lOiAnZ3JvdXBzJywgZ3JvdXAsIGF1dG9UYWd9LCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHtmcmVkQ29uZmlnLmNvbmZpZy5hc3NldHNVcmx9ZW5kcG9pbnRzL2FqYXgucGhwP2FjdGlvbj10YWdnZXItZ2V0LWdyb3VwJmdyb3VwPSR7Z3JvdXB9JmluY2x1ZGVUYWdzPSR7YXV0b1RhZyB8IDB9YCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGVycm9ySGFuZGxlcilcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBqc29uLmRhdGEuZ3JvdXAudGFncztcbiAgICAgICAgICAgIH0pXG4gICAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGFncyA9IChncm91cCwgcXVlcnkgPSBudWxsKSA9PiB7XG4gICAgbGV0IHF1ZXJ5U3RyaW5nID0gYCZncm91cD0ke2dyb3VwfWA7XG4gICAgXG4gICAgaWYgKHF1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICAgIHF1ZXJ5U3RyaW5nICs9IGAmcXVlcnk9JHtxdWVyeX1gO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZS5sb2FkKCd0YWdnZXInLCB7bmFtZTogJ3RhZ3MnLCBncm91cCwgcXVlcnl9LCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHtmcmVkQ29uZmlnLmNvbmZpZy5hc3NldHNVcmx9ZW5kcG9pbnRzL2FqYXgucGhwP2FjdGlvbj10YWdnZXItZ2V0LXRhZ3MmJHtxdWVyeVN0cmluZ31gLCB7XG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZXJyb3JIYW5kbGVyKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb24uZGF0YS50YWdzO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9BY3Rpb25zL3RhZ2dlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getResources = exports.createResource = exports.getTemplates = exports.getResourceTree = undefined;\n\nvar _Cache = __webpack_require__(38);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _isomorphicFetch = __webpack_require__(36);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Utils = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getResourceTree = exports.getResourceTree = function getResourceTree(contextKey) {\n    return _Cache2.default.load('resources', { name: 'resource-tree' }, function () {\n        return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=get-resource-tree&context=\" + contextKey, {\n            credentials: 'same-origin'\n        }).then(function (response) {\n            return response.json();\n        }).then(function (response) {\n            return response.data.resources;\n        });\n    });\n};\n\nvar getTemplates = exports.getTemplates = function getTemplates(contextKey) {\n    return _Cache2.default.load('templates', { name: 'templates' }, function () {\n        return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=get-templates\", {\n            credentials: 'same-origin'\n        }).then(_Utils.errorHandler);\n    });\n};\n\nvar createResource = exports.createResource = function createResource(parent, template, pagetitle, blueprint) {\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=create-resource\", {\n        method: \"post\",\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            parent: parent,\n            template: template,\n            pagetitle: pagetitle,\n            blueprint: blueprint\n        })\n    }).then(_Utils.errorHandler);\n};\n\nvar getResources = exports.getResources = function getResources() {\n    var currentResource = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var queryString = '';\n\n    if (currentResource !== null) {\n        queryString += \"&current=\" + currentResource;\n    }\n\n    for (var key in query) {\n        if (query.hasOwnProperty(key)) {\n            queryString += \"&\" + key + \"=\" + query[key];\n        }\n    }\n\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=get-resources\" + queryString, {\n        credentials: 'same-origin'\n    }).then(_Utils.errorHandler);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0FjdGlvbnMvcGFnZXMuanM/MzdhZCJdLCJuYW1lcyI6WyJnZXRSZXNvdXJjZVRyZWUiLCJsb2FkIiwibmFtZSIsImNvbmZpZyIsImFzc2V0c1VybCIsImNvbnRleHRLZXkiLCJjcmVkZW50aWFscyIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwicmVzb3VyY2VzIiwiZ2V0VGVtcGxhdGVzIiwiY3JlYXRlUmVzb3VyY2UiLCJwYXJlbnQiLCJ0ZW1wbGF0ZSIsInBhZ2V0aXRsZSIsImJsdWVwcmludCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFJlc291cmNlcyIsImN1cnJlbnRSZXNvdXJjZSIsInF1ZXJ5IiwicXVlcnlTdHJpbmciLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRU8sSUFBTUEsNENBQWtCLFNBQWxCQSxlQUFrQixhQUFjO0FBQ3pDLFdBQU8sZ0JBQU1DLElBQU4sQ0FBVyxXQUFYLEVBQXdCLEVBQUNDLE1BQU0sZUFBUCxFQUF4QixFQUFpRCxZQUFNO0FBQzFELGVBQU8sK0JBQVMsaUJBQVdDLE1BQVgsQ0FBa0JDLFNBQTNCLDREQUEyRkMsVUFBM0YsRUFBeUc7QUFDNUdDLHlCQUFhO0FBRCtGLFNBQXpHLEVBR0ZDLElBSEUsQ0FHRyxvQkFBWTtBQUNkLG1CQUFPQyxTQUFTQyxJQUFULEVBQVA7QUFDSCxTQUxFLEVBS0FGLElBTEEsQ0FLSyxvQkFBWTtBQUNoQixtQkFBT0MsU0FBU0UsSUFBVCxDQUFjQyxTQUFyQjtBQUNILFNBUEUsQ0FBUDtBQVFILEtBVE0sQ0FBUDtBQVVILENBWE07O0FBYUEsSUFBTUMsc0NBQWUsU0FBZkEsWUFBZSxhQUFjO0FBQ3RDLFdBQU8sZ0JBQU1YLElBQU4sQ0FBVyxXQUFYLEVBQXdCLEVBQUNDLE1BQU0sV0FBUCxFQUF4QixFQUE2QyxZQUFNO0FBQ3RELGVBQU8sK0JBQVMsaUJBQVdDLE1BQVgsQ0FBa0JDLFNBQTNCLDhDQUErRTtBQUNsRkUseUJBQWE7QUFEcUUsU0FBL0UsRUFHRkMsSUFIRSxxQkFBUDtBQUlILEtBTE0sQ0FBUDtBQU1ILENBUE07O0FBU0EsSUFBTU0sMENBQWlCLFNBQWpCQSxjQUFpQixDQUFDQyxNQUFELEVBQVNDLFFBQVQsRUFBbUJDLFNBQW5CLEVBQThCQyxTQUE5QixFQUE0QztBQUN0RSxXQUFPLCtCQUFTLGlCQUFXZCxNQUFYLENBQWtCQyxTQUEzQixnREFBaUY7QUFDcEZjLGdCQUFRLE1BRDRFO0FBRXBGWixxQkFBYSxhQUZ1RTtBQUdwRmEsaUJBQVM7QUFDTCw0QkFBZ0I7QUFEWCxTQUgyRTtBQU1wRkMsY0FBTUMsS0FBS0MsU0FBTCxDQUFlO0FBQ2pCUiwwQkFEaUI7QUFFakJDLDhCQUZpQjtBQUdqQkMsZ0NBSGlCO0FBSWpCQztBQUppQixTQUFmO0FBTjhFLEtBQWpGLEVBWUpWLElBWkkscUJBQVA7QUFhSCxDQWRNOztBQWdCQSxJQUFNZ0Isc0NBQWUsU0FBZkEsWUFBZSxHQUF3QztBQUFBLFFBQXZDQyxlQUF1Qyx1RUFBckIsSUFBcUI7QUFBQSxRQUFmQyxLQUFlLHVFQUFQLEVBQU87O0FBQ2hFLFFBQUlDLGNBQWMsRUFBbEI7O0FBRUEsUUFBSUYsb0JBQW9CLElBQXhCLEVBQThCO0FBQzFCRSxxQ0FBMkJGLGVBQTNCO0FBQ0g7O0FBRUQsU0FBSyxJQUFJRyxHQUFULElBQWdCRixLQUFoQixFQUF1QjtBQUNuQixZQUFJQSxNQUFNRyxjQUFOLENBQXFCRCxHQUFyQixDQUFKLEVBQStCO0FBQzNCRCxpQ0FBbUJDLEdBQW5CLFNBQTBCRixNQUFNRSxHQUFOLENBQTFCO0FBQ0g7QUFDSjs7QUFFRCxXQUFPLCtCQUFTLGlCQUFXeEIsTUFBWCxDQUFrQkMsU0FBM0IsK0NBQThFc0IsV0FBOUUsRUFBNkY7QUFDaEdwQixxQkFBYTtBQURtRixLQUE3RixFQUVKQyxJQUZJLHFCQUFQO0FBR0gsQ0FoQk0iLCJmaWxlIjoiMTEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNhY2hlIGZyb20gXCIuLi9DYWNoZVwiO1xuaW1wb3J0IGZldGNoIGZyb20gXCJpc29tb3JwaGljLWZldGNoXCI7XG5pbXBvcnQgZnJlZENvbmZpZyBmcm9tIFwiLi4vQ29uZmlnXCI7XG5pbXBvcnQge2Vycm9ySGFuZGxlcn0gZnJvbSBcIi4uL1V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRSZXNvdXJjZVRyZWUgPSBjb250ZXh0S2V5ID0+IHtcbiAgICByZXR1cm4gY2FjaGUubG9hZCgncmVzb3VyY2VzJywge25hbWU6ICdyZXNvdXJjZS10cmVlJ30sICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke2ZyZWRDb25maWcuY29uZmlnLmFzc2V0c1VybH1lbmRwb2ludHMvYWpheC5waHA/YWN0aW9uPWdldC1yZXNvdXJjZS10cmVlJmNvbnRleHQ9JHtjb250ZXh0S2V5fWAsIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLnJlc291cmNlcztcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFRlbXBsYXRlcyA9IGNvbnRleHRLZXkgPT4ge1xuICAgIHJldHVybiBjYWNoZS5sb2FkKCd0ZW1wbGF0ZXMnLCB7bmFtZTogJ3RlbXBsYXRlcyd9LCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHtmcmVkQ29uZmlnLmNvbmZpZy5hc3NldHNVcmx9ZW5kcG9pbnRzL2FqYXgucGhwP2FjdGlvbj1nZXQtdGVtcGxhdGVzYCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGVycm9ySGFuZGxlcik7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzb3VyY2UgPSAocGFyZW50LCB0ZW1wbGF0ZSwgcGFnZXRpdGxlLCBibHVlcHJpbnQpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7ZnJlZENvbmZpZy5jb25maWcuYXNzZXRzVXJsfWVuZHBvaW50cy9hamF4LnBocD9hY3Rpb249Y3JlYXRlLXJlc291cmNlYCwge1xuICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICAgIHBhZ2V0aXRsZSxcbiAgICAgICAgICAgIGJsdWVwcmludFxuICAgICAgICB9KVxuICAgIH0pLnRoZW4oZXJyb3JIYW5kbGVyKVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlc291cmNlcyA9IChjdXJyZW50UmVzb3VyY2UgPSBudWxsLCBxdWVyeSA9IHt9KSA9PiB7XG4gICAgbGV0IHF1ZXJ5U3RyaW5nID0gJyc7XG4gICAgXG4gICAgaWYgKGN1cnJlbnRSZXNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICBxdWVyeVN0cmluZyArPSBgJmN1cnJlbnQ9JHtjdXJyZW50UmVzb3VyY2V9YDtcbiAgICB9XG4gICAgXG4gICAgZm9yIChsZXQga2V5IGluIHF1ZXJ5KSB7XG4gICAgICAgIGlmIChxdWVyeS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBgJiR7a2V5fT0ke3F1ZXJ5W2tleV19YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmV0Y2goYCR7ZnJlZENvbmZpZy5jb25maWcuYXNzZXRzVXJsfWVuZHBvaW50cy9hamF4LnBocD9hY3Rpb249Z2V0LXJlc291cmNlcyR7cXVlcnlTdHJpbmd9YCwge1xuICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pLnRoZW4oZXJyb3JIYW5kbGVyKVxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0FjdGlvbnMvcGFnZXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Editor2 = __webpack_require__(9);\n\nvar _Editor3 = _interopRequireDefault(_Editor2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconEditor = function (_Editor) {\n    _inherits(IconEditor, _Editor);\n\n    function IconEditor() {\n        _classCallCheck(this, IconEditor);\n\n        return _possibleConstructorReturn(this, (IconEditor.__proto__ || Object.getPrototypeOf(IconEditor)).apply(this, arguments));\n    }\n\n    _createClass(IconEditor, [{\n        key: 'init',\n        value: function init() {\n            this.state = _extends({}, this.state, {\n                icon: this.el.className || ''\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var wrapper = this.ui.els.div();\n\n            wrapper.appendChild(this.ui.ins.text({ name: 'icon', label: 'fred.fe.editor.icon' }, this.state.icon, this.setStateValue));\n            wrapper.appendChild(this.buildAttributesFields());\n\n            return wrapper;\n        }\n    }, {\n        key: 'onSave',\n        value: function onSave() {\n            _Editor3.default.prototype.onSave.call(this);\n\n            this.el.className = this.state.icon;\n        }\n    }]);\n\n    return IconEditor;\n}(_Editor3.default);\n\nIconEditor.title = 'fred.fe.editor.edit_icon';\nexports.default = IconEditor;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0VkaXRvcnMvSWNvbkVkaXRvci5qcz80OWU3Il0sIm5hbWVzIjpbIkljb25FZGl0b3IiLCJzdGF0ZSIsImljb24iLCJlbCIsImNsYXNzTmFtZSIsIndyYXBwZXIiLCJ1aSIsImVscyIsImRpdiIsImFwcGVuZENoaWxkIiwiaW5zIiwidGV4dCIsIm5hbWUiLCJsYWJlbCIsInNldFN0YXRlVmFsdWUiLCJidWlsZEF0dHJpYnV0ZXNGaWVsZHMiLCJwcm90b3R5cGUiLCJvblNhdmUiLCJjYWxsIiwidGl0bGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7O0lBRXFCQSxVOzs7Ozs7Ozs7OzsrQkFHVjtBQUNILGlCQUFLQyxLQUFMLGdCQUNRLEtBQUtBLEtBRGI7QUFFSUMsc0JBQU8sS0FBS0MsRUFBTCxDQUFRQyxTQUFSLElBQXFCO0FBRmhDO0FBSUg7OztpQ0FFUTtBQUNMLGdCQUFNQyxVQUFVLEtBQUtDLEVBQUwsQ0FBUUMsR0FBUixDQUFZQyxHQUFaLEVBQWhCOztBQUVBSCxvQkFBUUksV0FBUixDQUFvQixLQUFLSCxFQUFMLENBQVFJLEdBQVIsQ0FBWUMsSUFBWixDQUFpQixFQUFDQyxNQUFNLE1BQVAsRUFBZUMsT0FBTyxxQkFBdEIsRUFBakIsRUFBK0QsS0FBS1osS0FBTCxDQUFXQyxJQUExRSxFQUFnRixLQUFLWSxhQUFyRixDQUFwQjtBQUNBVCxvQkFBUUksV0FBUixDQUFvQixLQUFLTSxxQkFBTCxFQUFwQjs7QUFFQSxtQkFBT1YsT0FBUDtBQUNIOzs7aUNBRVE7QUFDTCw2QkFBT1csU0FBUCxDQUFpQkMsTUFBakIsQ0FBd0JDLElBQXhCLENBQTZCLElBQTdCOztBQUVBLGlCQUFLZixFQUFMLENBQVFDLFNBQVIsR0FBb0IsS0FBS0gsS0FBTCxDQUFXQyxJQUEvQjtBQUNIOzs7Ozs7QUF2QmdCRixVLENBQ1ZtQixLLEdBQVEsMEI7a0JBREVuQixVIiwiZmlsZSI6IjExMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFZGl0b3IgZnJvbSAnLi9FZGl0b3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uRWRpdG9yIGV4dGVuZHMgRWRpdG9yIHtcbiAgICBzdGF0aWMgdGl0bGUgPSAnZnJlZC5mZS5lZGl0b3IuZWRpdF9pY29uJztcbiAgICBcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMuc3RhdGUpLFxuICAgICAgICAgICAgaWNvbjogKHRoaXMuZWwuY2xhc3NOYW1lIHx8ICcnKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMudWkuZWxzLmRpdigpO1xuXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy51aS5pbnMudGV4dCh7bmFtZTogJ2ljb24nLCBsYWJlbDogJ2ZyZWQuZmUuZWRpdG9yLmljb24nfSwgdGhpcy5zdGF0ZS5pY29uLCB0aGlzLnNldFN0YXRlVmFsdWUpKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkQXR0cmlidXRlc0ZpZWxkcygpKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIG9uU2F2ZSgpIHtcbiAgICAgICAgRWRpdG9yLnByb3RvdHlwZS5vblNhdmUuY2FsbCh0aGlzKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWwuY2xhc3NOYW1lID0gdGhpcy5zdGF0ZS5pY29uO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9fYnVpbGQvYXNzZXRzL2pzL0VkaXRvcnMvSWNvbkVkaXRvci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 112 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Sidebar2 = __webpack_require__(5);\n\nvar _Sidebar3 = _interopRequireDefault(_Sidebar2);\n\nvar _Drake = __webpack_require__(22);\n\nvar _Drake2 = _interopRequireDefault(_Drake);\n\nvar _Elements = __webpack_require__(11);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _hoverintent = __webpack_require__(44);\n\nvar _hoverintent2 = _interopRequireDefault(_hoverintent);\n\nvar _elements = __webpack_require__(106);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Elements = function (_Sidebar) {\n    _inherits(Elements, _Sidebar);\n\n    function Elements() {\n        _classCallCheck(this, Elements);\n\n        return _possibleConstructorReturn(this, (Elements.__proto__ || Object.getPrototypeOf(Elements)).apply(this, arguments));\n    }\n\n    _createClass(Elements, [{\n        key: 'click',\n        value: function click() {\n            return (0, _elements.getElements)().then(function (data) {\n                var content = (0, _Elements.dl)();\n\n                data.elements.forEach(function (category) {\n                    var categoryTab = (0, _Elements.dt)(category.category, [], function (e, el) {\n                        var activeTabs = el.parentElement.querySelectorAll('dt.active');\n\n                        var isActive = el.classList.contains('active');\n\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                            for (var _iterator = activeTabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                var tab = _step.value;\n\n                                if (tab === el) continue;\n                                tab.classList.remove('active');\n                            }\n                        } catch (err) {\n                            _didIteratorError = true;\n                            _iteratorError = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion && _iterator.return) {\n                                    _iterator.return();\n                                }\n                            } finally {\n                                if (_didIteratorError) {\n                                    throw _iteratorError;\n                                }\n                            }\n                        }\n\n                        if (!isActive) {\n                            el.classList.add('active');\n                            e.stopPropagation();\n                            _EE2.default.emit('fred-sidebar-dt-active', categoryTab, categoryContent);\n                        }\n                    });\n\n                    (0, _hoverintent2.default)(categoryTab, function (e) {\n                        var el = e.target;\n                        var activeTabs = el.parentElement.querySelectorAll('dt.active');\n\n                        var isActive = el.classList.contains('active');\n\n                        var _iteratorNormalCompletion2 = true;\n                        var _didIteratorError2 = false;\n                        var _iteratorError2 = undefined;\n\n                        try {\n                            for (var _iterator2 = activeTabs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var tab = _step2.value;\n\n                                if (tab === el) continue;\n                                tab.classList.remove('active');\n                            }\n                        } catch (err) {\n                            _didIteratorError2 = true;\n                            _iteratorError2 = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                    _iterator2.return();\n                                }\n                            } finally {\n                                if (_didIteratorError2) {\n                                    throw _iteratorError2;\n                                }\n                            }\n                        }\n\n                        if (!isActive) {\n                            el.classList.add('active');\n                            _EE2.default.emit('fred-sidebar-dt-active', categoryTab, categoryContent);\n                        }\n                    }, function (e) {});\n                    var categoryContent = (0, _Elements.dd)();\n                    var categoryEl = (0, _Elements.div)(['fred--thumbs', 'source', 'elements-source']);\n\n                    category.elements.forEach(function (element) {\n                        categoryEl.appendChild(Elements.elementWrapper(element.id, element.title, element.description, element.image, element.content, element.options || {}));\n                    });\n\n                    categoryContent.appendChild(categoryEl);\n\n                    content.appendChild(categoryTab);\n                    content.appendChild(categoryContent);\n                });\n\n                return content;\n            });\n        }\n    }, {\n        key: 'afterExpand',\n        value: function afterExpand() {\n            _Drake2.default.reloadContainers();\n        }\n    }], [{\n        key: 'elementWrapper',\n        value: function elementWrapper(id, title, description, image, content, options) {\n            var element = (0, _Elements.figure)(['fred--thumb']);\n\n            var imageWrapper = (0, _Elements.div)();\n            var elementImage = (0, _Elements.img)(image, title);\n\n            imageWrapper.appendChild(elementImage);\n\n            var caption = (0, _Elements.figCaption)('<strong>' + title + '</strong><em>' + description + '</em>');\n\n            var chunk = (0, _Elements.div)(['chunk']);\n            chunk.dataset.fredElementId = id;\n            chunk.dataset.fredElementTitle = title;\n            chunk.setAttribute('hidden', 'hidden');\n            chunk.elementMarkup = content;\n            chunk.elementOptions = options;\n\n            element.appendChild(imageWrapper);\n            element.appendChild(caption);\n            element.appendChild(chunk);\n\n            return element;\n        }\n    }]);\n\n    return Elements;\n}(_Sidebar3.default);\n\nElements.title = 'fred.fe.elements';\nElements.icon = 'fred--sidebar_elements';\nElements.expandable = true;\nexports.default = Elements;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9FbGVtZW50cy9FbGVtZW50cy5qcz9lNWJhIl0sIm5hbWVzIjpbIkVsZW1lbnRzIiwidGhlbiIsImNvbnRlbnQiLCJkYXRhIiwiZWxlbWVudHMiLCJmb3JFYWNoIiwiY2F0ZWdvcnlUYWIiLCJjYXRlZ29yeSIsImUiLCJlbCIsImFjdGl2ZVRhYnMiLCJwYXJlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImlzQWN0aXZlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ0YWIiLCJyZW1vdmUiLCJhZGQiLCJzdG9wUHJvcGFnYXRpb24iLCJlbWl0IiwiY2F0ZWdvcnlDb250ZW50IiwidGFyZ2V0IiwiY2F0ZWdvcnlFbCIsImFwcGVuZENoaWxkIiwiZWxlbWVudFdyYXBwZXIiLCJlbGVtZW50IiwiaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJvcHRpb25zIiwicmVsb2FkQ29udGFpbmVycyIsImltYWdlV3JhcHBlciIsImVsZW1lbnRJbWFnZSIsImNhcHRpb24iLCJjaHVuayIsImRhdGFzZXQiLCJmcmVkRWxlbWVudElkIiwiZnJlZEVsZW1lbnRUaXRsZSIsInNldEF0dHJpYnV0ZSIsImVsZW1lbnRNYXJrdXAiLCJlbGVtZW50T3B0aW9ucyIsImljb24iLCJleHBhbmRhYmxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7SUFFcUJBLFE7Ozs7Ozs7Ozs7O2dDQUtUO0FBQ0osbUJBQU8sNkJBQ0ZDLElBREUsQ0FDRyxnQkFBUTtBQUNWLG9CQUFNQyxVQUFVLG1CQUFoQjs7QUFFQUMscUJBQUtDLFFBQUwsQ0FBY0MsT0FBZCxDQUFzQixvQkFBWTtBQUM5Qix3QkFBTUMsY0FBYyxrQkFBR0MsU0FBU0EsUUFBWixFQUFzQixFQUF0QixFQUEwQixVQUFDQyxDQUFELEVB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QUF5QlUsWUFBekI7O0FBRUEsZ0JBQU1DLFVBQVUsdUNBQXNCUCxLQUF0QixxQkFBMkNDLFdBQTNDLFdBQWhCOztBQUVBLGdCQUFNTyxRQUFRLG1CQUFJLENBQUMsT0FBRCxDQUFKLENBQWQ7QUFDQUEsa0JBQU1DLE9BQU4sQ0FBY0MsYUFBZCxHQUE4QlgsRUFBOUI7QUFDQVMsa0JBQU1DLE9BQU4sQ0FBY0UsZ0JBQWQsR0FBaUNYLEtBQWpDO0FBQ0FRLGtCQUFNSSxZQUFOLENBQW1CLFFBQW5CLEVBQTZCLFFBQTdCO0FBQ0FKLGtCQUFNSyxhQUFOLEdBQXNCdkMsT0FBdEI7QUFDQWtDLGtCQUFNTSxjQUFOLEdBQXVCWCxPQUF2Qjs7QUFFQUwsb0JBQVFGLFdBQVIsQ0FBb0JTLFlBQXBCO0FBQ0FQLG9CQUFRRixXQUFSLENBQW9CVyxPQUFwQjtBQUNBVCxvQkFBUUYsV0FBUixDQUFvQlksS0FBcEI7O0FBRUEsbUJBQU9WLE9BQVA7QUFDSDs7Ozs7O0FBeEZnQjFCLFEsQ0FDVjRCLEssR0FBUSxrQjtBQURFNUIsUSxDQUVWMkMsSSxHQUFPLHdCO0FBRkczQyxRLENBR1Y0QyxVLEdBQWEsSTtrQkFISDVDLFEiLCJmaWxlIjoiMTEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpZGViYXIgZnJvbSAnLi4vLi4vU2lkZWJhcic7XG5pbXBvcnQgZHJha2UgZnJvbSAnLi4vLi4vLi4vRHJha2UnO1xuaW1wb3J0IHsgZGl2LCBkbCwgZHQsIGRkLCBmaWd1cmUsIGltZywgZmlnQ2FwdGlvbiB9IGZyb20gJy4vLi4vLi4vLi4vVUkvRWxlbWVudHMnXG5pbXBvcnQgZW1pdHRlciBmcm9tIFwiLi4vLi4vLi4vRUVcIjtcbmltcG9ydCBob3ZlcmludGVudCBmcm9tICdob3ZlcmludGVudCc7XG5pbXBvcnQgeyBnZXRFbGVtZW50cyB9IGZyb20gJy4uLy4uLy4uL0FjdGlvbnMvZWxlbWVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbGVtZW50cyBleHRlbmRzIFNpZGViYXIge1xuICAgIHN0YXRpYyB0aXRsZSA9ICdmcmVkLmZlLmVsZW1lbnRzJztcbiAgICBzdGF0aWMgaWNvbiA9ICdmcmVkLS1zaWRlYmFyX2VsZW1lbnRzJztcbiAgICBzdGF0aWMgZXhwYW5kYWJsZSA9IHRydWU7XG5cbiAgICBjbGljaygpIHtcbiAgICAgICAgcmV0dXJuIGdldEVsZW1lbnRzKClcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkbCgpO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5lbGVtZW50cy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlUYWIgPSBkdChjYXRlZ29yeS5jYXRlZ29yeSwgW10sIChlLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVGFicyA9IGVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZHQuYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdGFiIG9mIGFjdGl2ZVRhYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0YWIgPT09IGVsKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLWR0LWFjdGl2ZScsIGNhdGVnb3J5VGFiLCBjYXRlZ29yeUNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBob3ZlcmludGVudChjYXRlZ29yeVRhYixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVRhYnMgPSBlbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2R0LmFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdGFiIG9mIGFjdGl2ZVRhYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGFiID09PSBlbCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtc2lkZWJhci1kdC1hY3RpdmUnLCBjYXRlZ29yeVRhYiwgY2F0ZWdvcnlDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlDb250ZW50ID0gZGQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlFbCA9IGRpdihbJ2ZyZWQtLXRodW1icycsICdzb3VyY2UnLCAnZWxlbWVudHMtc291cmNlJ10pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RWwuYXBwZW5kQ2hpbGQoRWxlbWVudHMuZWxlbWVudFdyYXBwZXIoZWxlbWVudC5pZCwgZWxlbWVudC50aXRsZSwgZWxlbWVudC5kZXNjcmlwdGlvbiwgZWxlbWVudC5pbWFnZSwgZWxlbWVudC5jb250ZW50LCBlbGVtZW50Lm9wdGlvbnMgfHwge30pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlDb250ZW50LmFwcGVuZENoaWxkKGNhdGVnb3J5RWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY2F0ZWdvcnlUYWIpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGNhdGVnb3J5Q29udGVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBlbGVtZW50V3JhcHBlcihpZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBpbWFnZSwgY29udGVudCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZmlndXJlKFsnZnJlZC0tdGh1bWInXSk7XG5cbiAgICAgICAgY29uc3QgaW1hZ2VXcmFwcGVyID0gZGl2KCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJbWFnZSA9IGltZyhpbWFnZSwgdGl0bGUpO1xuXG4gICAgICAgIGltYWdlV3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50SW1hZ2UpO1xuXG4gICAgICAgIGNvbnN0IGNhcHRpb24gPSBmaWdDYXB0aW9uKGA8c3Ryb25nPiR7dGl0bGV9PC9zdHJvbmc+PGVtPiR7ZGVzY3JpcHRpb259PC9lbT5gKTtcblxuICAgICAgICBjb25zdCBjaHVuayA9IGRpdihbJ2NodW5rJ10pO1xuICAgICAgICBjaHVuay5kYXRhc2V0LmZyZWRFbGVtZW50SWQgPSBpZDtcbiAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkRWxlbWVudFRpdGxlID0gdGl0bGU7XG4gICAgICAgIGNodW5rLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xuICAgICAgICBjaHVuay5lbGVtZW50TWFya3VwID0gY29udGVudDtcbiAgICAgICAgY2h1bmsuZWxlbWVudE9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1hZ2VXcmFwcGVyKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjYXB0aW9uKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaHVuayk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBhZnRlckV4cGFuZCgpIHtcbiAgICAgICAgZHJha2UucmVsb2FkQ29udGFpbmVycygpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvQ29tcG9uZW50cy9TaWRlYmFyL0VsZW1lbnRzL0VsZW1lbnRzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Sidebar2 = __webpack_require__(5);\n\nvar _Sidebar3 = _interopRequireDefault(_Sidebar2);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Inputs = __webpack_require__(13);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Tagger = __webpack_require__(107);\n\nvar _Tagger2 = _interopRequireDefault(_Tagger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PageSettings = function (_Sidebar) {\n    _inherits(PageSettings, _Sidebar);\n\n    function PageSettings() {\n        _classCallCheck(this, PageSettings);\n\n        return _possibleConstructorReturn(this, (PageSettings.__proto__ || Object.getPrototypeOf(PageSettings)).apply(this, arguments));\n    }\n\n    _createClass(PageSettings, [{\n        key: 'init',\n        value: function init() {\n            this.setSetting = this.setSetting.bind(this);\n            this.setSettingWithEmitter = this.setSettingWithEmitter.bind(this);\n            this.addSettingChangeListener = this.addSettingChangeListener.bind(this);\n\n            this.pageSettings = this.fredConfig.pageSettings;\n            this.content = this.render();\n        }\n    }, {\n        key: 'click',\n        value: function click() {\n            return this.content;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var settingsForm = (0, _Elements.form)(['fred--page_settings_form']);\n\n            settingsForm.appendChild(this.getGeneralFields());\n            settingsForm.appendChild(this.getAdvancedFields());\n\n            if (this.fredConfig.tagger.length > 0) {\n                settingsForm.appendChild(this.getTaggerFields());\n            }\n\n            return settingsForm;\n        }\n    }, {\n        key: 'getGeneralFields',\n        value: function getGeneralFields() {\n            var fields = (0, _Elements.fieldSet)();\n\n            fields.appendChild((0, _Inputs.text)({ name: 'pagetitle', label: 'fred.fe.page_settings.page_title' }, this.pageSettings.pagetitle, this.setSettingWithEmitter, this.addSettingChangeListener));\n            fields.appendChild((0, _Inputs.text)({ name: 'longtitle', label: 'fred.fe.page_settings.long_title' }, this.pageSettings.longtitle, this.setSettingWithEmitter, this.addSettingChangeListener));\n            fields.appendChild((0, _Inputs.area)({ name: 'description', label: 'fred.fe.page_settings.description' }, this.pageSettings.description, this.setSettingWithEmitter, this.addSettingChangeListener));\n            fields.appendChild((0, _Inputs.area)({ name: 'introtext', label: 'fred.fe.page_settings.intro_text' }, this.pageSettings.introtext, this.setSettingWithEmitter, this.addSettingChangeListener));\n            fields.appendChild((0, _Inputs.text)({ name: 'menutitle', label: 'fred.fe.page_settings.menu_title' }, this.pageSettings.menutitle, this.setSettingWithEmitter, this.addSettingChangeListener));\n            fields.appendChild((0, _Inputs.text)({ name: 'alias', label: 'fred.fe.page_settings.alias' }, this.pageSettings.alias, this.setSettingWithEmitter, this.addSettingChangeListener));\n            fields.appendChild((0, _Inputs.toggle)({ name: 'published', label: 'fred.fe.page_settings.published' }, this.pageSettings.published, this.setSetting));\n            fields.appendChild((0, _Inputs.toggle)({ name: 'hidemenu', label: 'fred.fe.page_settings.hide_from_menu' }, this.pageSettings.hidemenu, this.setSetting));\n\n            return fields;\n        }\n    }, {\n        key: 'getAdvancedFields',\n        value: function getAdvancedFields() {\n            var advancedList = (0, _Elements.dl)();\n\n            var advancedTab = (0, _Elements.dt)('fred.fe.page_settings.advanced_settings', ['fred--accordion-cog'], function (e) {\n                var activeTabs = advancedList.parentElement.querySelectorAll('dt.active');\n\n                var isActive = advancedTab.classList.contains('active');\n\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = activeTabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var tab = _step.value;\n\n                        tab.classList.remove('active');\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                if (!isActive) {\n                    advancedTab.classList.add('active');\n                    e.stopPropagation();\n                    _EE2.default.emit('fred-sidebar-dt-active', advancedTab, advancedContent);\n                }\n            });\n\n            var advancedContent = (0, _Elements.dd)();\n            var fields = (0, _Elements.fieldSet)(['fred--page_settings_form_advanced']);\n\n            fields.appendChild((0, _Inputs.dateTime)({ name: 'publishedon', label: 'fred.fe.page_settings.published_on' }, this.pageSettings.publishedon, this.setSetting));\n            fields.appendChild((0, _Inputs.dateTime)({ name: 'publishon', label: 'fred.fe.page_settings.publish_on' }, this.pageSettings.publishon, this.setSetting));\n            fields.appendChild((0, _Inputs.dateTime)({ name: 'unpublishon', label: 'fred.fe.page_settings.unpublish_on' }, this.pageSettings.unpublishon, this.setSetting));\n            fields.appendChild((0, _Inputs.text)({ name: 'menuindex', label: 'fred.fe.page_settings.menu_index' }, this.pageSettings.menuindex, this.setSetting));\n            fields.appendChild((0, _Inputs.toggle)({ name: 'deleted', label: 'fred.fe.page_settings.deleted' }, this.pageSettings.deleted, this.setSetting));\n\n            advancedContent.appendChild(fields);\n\n            advancedList.appendChild(advancedTab);\n            advancedList.appendChild(advancedContent);\n\n            return advancedList;\n        }\n    }, {\n        key: 'getTaggerFields',\n        value: function getTaggerFields() {\n            var taggerList = (0, _Elements.dl)();\n\n            var taggerTab = (0, _Elements.dt)('fred.fe.tagger.tagger', ['fred--accordion-cog'], function (e) {\n                var activeTabs = taggerList.parentElement.querySelectorAll('dt.active');\n\n                var isActive = taggerTab.classList.contains('active');\n\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = activeTabs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var tab = _step2.value;\n\n                        tab.classList.remove('active');\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n\n                if (!isActive) {\n                    taggerTab.classList.add('active');\n                    e.stopPropagation();\n                    _EE2.default.emit('fred-sidebar-dt-active', taggerTab, taggerContent);\n                }\n            });\n\n            var taggerContent = (0, _Elements.dd)();\n            var fields = (0, _Elements.fieldSet)(['fred--page_settings_form_advanced']);\n\n            this.fredConfig.tagger.forEach(function (group) {\n                var taggerField = new _Tagger2.default(group);\n                var rendered = taggerField.render();\n\n                if (rendered) {\n                    fields.appendChild(rendered);\n                }\n            });\n\n            taggerContent.appendChild(fields);\n\n            taggerList.appendChild(taggerTab);\n            taggerList.appendChild(taggerContent);\n\n            return taggerList;\n        }\n    }, {\n        key: 'setSetting',\n        value: function setSetting(name, value) {\n            this.pageSettings[name] = value;\n        }\n    }, {\n        key: 'setSettingWithEmitter',\n        value: function setSettingWithEmitter(name, value, input) {\n            this.setSetting(name, value);\n\n            _EE2.default.emit('fred-page-setting-change', name, value, input);\n        }\n    }, {\n        key: 'addSettingChangeListener',\n        value: function addSettingChangeListener(setting, label, input) {\n            var _this2 = this;\n\n            _EE2.default.on('fred-page-setting-change', function (settingName, settingValue, sourceEl) {\n                if (input !== sourceEl && setting.name === settingName) {\n                    _this2.setSetting(settingName, settingValue);\n                    input.value = settingValue;\n                }\n            });\n        }\n    }]);\n\n    return PageSettings;\n}(_Sidebar3.default);\n\nPageSettings.title = 'fred.fe.page_settings';\nPageSettings.icon = 'fred--sidebar_page_settings';\nPageSettings.expandable = true;\nexports.default = PageSettings;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9QYWdlU2V0dGluZ3MuanM/YTA0NSJdLCJuYW1lcyI6WyJQYWdlU2V0dGluZ3MiLCJzZXRTZXR0aW5nIiwiYmluZCIsInNldFNldHRpbmdXaXRoRW1pdHRlciIsImFkZFNldHRpbmdDaGFuZ2VMaXN0ZW5lciIsInBhZ2VTZXR0aW5ncyIsImZyZWRDb25maWciLCJjb250ZW50IiwicmVuZGVyIiwic2V0dGluZ3NGb3JtIiwiYXBwZW5kQ2hpbGQiLCJnZXRHZW5lcmFsRmllbGRzIiwiZ2V0QWR2YW5jZWRGaWVsZHMiLCJ0YWdnZXIiLCJsZW5ndGgiLCJnZXRUYWdnZXJGaWVsZHMiLCJmaWVsZHMiLCJuYW1lIiwibGFiZWwiLCJwYWdldGl0bGUiLCJsb25ndGl0bGUiLCJkZXNjcmlwdGlvbiIsImludHJvdGV4dCIsIm1lbnV0aXRsZSIsImFsaWFzIiwicHVibGlzaGVkIiwiaGlkZW1lbnUiLCJhZHZhbmNlZExpc3QiLCJhZHZhbmNlZFRhYiIsImFjdGl2ZVRhYnMiLCJwYXJlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImlzQWN0aXZlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ0YWIiLCJyZW1vdmUiLCJhZGQiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZW1pdCIsImFkdmFuY2VkQ29udGVudCIsInB1Ymxpc2hlZG9uIiwicHVibGlzaG9uIiwidW5wdWJsaXNob24iLCJtZW51aW5kZXgiLCJkZWxldGVkIiwidGFnZ2VyTGlzdCIsInRhZ2dlclRhYiIsInRhZ2dlckNvbnRlbnQiLCJmb3JFYWNoIiwidGFnZ2VyRmllbGQiLCJncm91cCIsInJlbmRlcmVkIiwidmFsdWUiLCJpbnB1dCIsInNldHRpbmciLCJvbiIsInNldHRpbmdOYW1lIiwic2V0dGluZ1ZhbHVlIiwic291cmNlRWwiLCJ0aXRsZSIsImljb24iLCJleHBhbmRhYmxlIl0sIm1hcHBpbmdzIjoiOzs7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LEssRUFBTztBQUFBOztBQUM1Qyx5QkFBUUUsRUFBUixDQUFXLDBCQUFYLEVBQXVDLFVBQUNDLFdBQUQsRUFBY0MsWUFBZCxFQUE0QkMsUUFBNUIsRUFBeUM7QUFDNUUsb0JBQUtMLFVBQVVLLFFBQVgsSUFBeUJKLFFBQVF2QyxJQUFSLEtBQWlCeUMsV0FBOUMsRUFBNEQ7QUFDeEQsMkJBQUt6RCxVQUFMLENBQWdCeUQsV0FBaEIsRUFBNkJDLFlBQTdCO0FBQ0FKLDBCQUFNRCxLQUFOLEdBQWNLLFlBQWQ7QUFDSDtBQUNKLGFBTEQ7QUFNSDs7Ozs7O0FBM0lnQjNELFksQ0FDVjZELEssR0FBUSx1QjtBQURFN0QsWSxDQUVWOEQsSSxHQUFPLDZCO0FBRkc5RCxZLENBR1YrRCxVLEdBQWEsSTtrQkFISC9ELFkiLCJmaWxlIjoiMTEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpZGViYXIgZnJvbSAnLi4vU2lkZWJhcic7XG5pbXBvcnQgZW1pdHRlciBmcm9tICcuLi8uLi9FRSc7XG5pbXBvcnQgeyB0b2dnbGUsIHRleHQsIGFyZWEsIGRhdGVUaW1lIH0gZnJvbSAnLi4vLi4vVUkvSW5wdXRzJztcbmltcG9ydCB7IGRsLCBkdCwgZGQsIGZvcm0sIGZpZWxkU2V0IH0gZnJvbSAnLi4vLi4vVUkvRWxlbWVudHMnO1xuaW1wb3J0IFRhZ2dlciBmcm9tICcuLi8uLi9VSS9UYWdnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlU2V0dGluZ3MgZXh0ZW5kcyBTaWRlYmFyIHtcbiAgICBzdGF0aWMgdGl0bGUgPSAnZnJlZC5mZS5wYWdlX3NldHRpbmdzJztcbiAgICBzdGF0aWMgaWNvbiA9ICdmcmVkLS1zaWRlYmFyX3BhZ2Vfc2V0dGluZ3MnO1xuICAgIHN0YXRpYyBleHBhbmRhYmxlID0gdHJ1ZTtcblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuc2V0U2V0dGluZyA9IHRoaXMuc2V0U2V0dGluZy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFNldHRpbmdXaXRoRW1pdHRlciA9IHRoaXMuc2V0U2V0dGluZ1dpdGhFbWl0dGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ0NoYW5nZUxpc3RlbmVyID0gdGhpcy5hZGRTZXR0aW5nQ2hhbmdlTGlzdGVuZXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnBhZ2VTZXR0aW5ncyA9IHRoaXMuZnJlZENvbmZpZy5wYWdlU2V0dGluZ3M7XG4gICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgY2xpY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgcmVuZGVyICgpIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3NGb3JtID0gZm9ybShbJ2ZyZWQtLXBhZ2Vfc2V0dGluZ3NfZm9ybSddKTtcblxuICAgICAgICBzZXR0aW5nc0Zvcm0uYXBwZW5kQ2hpbGQodGhpcy5nZXRHZW5lcmFsRmllbGRzKCkpO1xuICAgICAgICBzZXR0aW5nc0Zvcm0uYXBwZW5kQ2hpbGQodGhpcy5nZXRBZHZhbmNlZEZpZWxkcygpKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLmZyZWRDb25maWcudGFnZ2VyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldHRpbmdzRm9ybS5hcHBlbmRDaGlsZCh0aGlzLmdldFRhZ2dlckZpZWxkcygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXR0aW5nc0Zvcm07XG4gICAgfVxuXG4gICAgZ2V0R2VuZXJhbEZpZWxkcygpIHtcbiAgICAgICAgY29uc3QgZmllbGRzID0gZmllbGRTZXQoKTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodGV4dCh7bmFtZTogJ3BhZ2V0aXRsZScsIGxhYmVsOiAnZnJlZC5mZS5wYWdlX3NldHRpbmdzLnBhZ2VfdGl0bGUnfSwgdGhpcy5wYWdlU2V0dGluZ3MucGFnZXRpdGxlLCB0aGlzLnNldFNldHRpbmdXaXRoRW1pdHRlciwgdGhpcy5hZGRTZXR0aW5nQ2hhbmdlTGlzdGVuZXIpKTtcbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKHRleHQoe25hbWU6ICdsb25ndGl0bGUnLCBsYWJlbDogJ2ZyZWQuZmUucGFnZV9zZXR0aW5ncy5sb25nX3RpdGxlJ30sIHRoaXMucGFnZVNldHRpbmdzLmxvbmd0aXRsZSwgdGhpcy5zZXRTZXR0aW5nV2l0aEVtaXR0ZXIsIHRoaXMuYWRkU2V0dGluZ0NoYW5nZUxpc3RlbmVyKSk7XG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChhcmVhKHtuYW1lOiAnZGVzY3JpcHRpb24nLCBsYWJlbDogJ2ZyZWQuZmUucGFnZV9zZXR0aW5ncy5kZXNjcmlwdGlvbid9LCB0aGlzLnBhZ2VTZXR0aW5ncy5kZXNjcmlwdGlvbiwgdGhpcy5zZXRTZXR0aW5nV2l0aEVtaXR0ZXIsIHRoaXMuYWRkU2V0dGluZ0NoYW5nZUxpc3RlbmVyKSk7XG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChhcmVhKHtuYW1lOiAnaW50cm90ZXh0JywgbGFiZWw6ICdmcmVkLmZlLnBhZ2Vfc2V0dGluZ3MuaW50cm9fdGV4dCd9LCB0aGlzLnBhZ2VTZXR0aW5ncy5pbnRyb3RleHQsIHRoaXMuc2V0U2V0dGluZ1dpdGhFbWl0dGVyLCB0aGlzLmFkZFNldHRpbmdDaGFuZ2VMaXN0ZW5lcikpO1xuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodGV4dCh7bmFtZTogJ21lbnV0aXRsZScsIGxhYmVsOiAnZnJlZC5mZS5wYWdlX3NldHRpbmdzLm1lbnVfdGl0bGUnfSwgdGhpcy5wYWdlU2V0dGluZ3MubWVudXRpdGxlLCB0aGlzLnNldFNldHRpbmdXaXRoRW1pdHRlciwgdGhpcy5hZGRTZXR0aW5nQ2hhbmdlTGlzdGVuZXIpKTtcbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKHRleHQoe25hbWU6ICdhbGlhcycsIGxhYmVsOiAnZnJlZC5mZS5wYWdlX3NldHRpbmdzLmFsaWFzJ30sIHRoaXMucGFnZVNldHRpbmdzLmFsaWFzLCB0aGlzLnNldFNldHRpbmdXaXRoRW1pdHRlciwgdGhpcy5hZGRTZXR0aW5nQ2hhbmdlTGlzdGVuZXIpKTtcbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKHRvZ2dsZSh7bmFtZTogJ3B1Ymxpc2hlZCcsIGxhYmVsOiAnZnJlZC5mZS5wYWdlX3NldHRpbmdzLnB1Ymxpc2hlZCd9LCB0aGlzLnBhZ2VTZXR0aW5ncy5wdWJsaXNoZWQsIHRoaXMuc2V0U2V0dGluZykpO1xuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodG9nZ2xlKHtuYW1lOiAnaGlkZW1lbnUnLCBsYWJlbDogJ2ZyZWQuZmUucGFnZV9zZXR0aW5ncy5oaWRlX2Zyb21fbWVudSd9LCB0aGlzLnBhZ2VTZXR0aW5ncy5oaWRlbWVudSwgdGhpcy5zZXRTZXR0aW5nKSk7XG5cbiAgICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG5cbiAgICBnZXRBZHZhbmNlZEZpZWxkcygpIHtcbiAgICAgICAgY29uc3QgYWR2YW5jZWRMaXN0ID0gZGwoKTtcblxuICAgICAgICBjb25zdCBhZHZhbmNlZFRhYiA9IGR0KCdmcmVkLmZlLnBhZ2Vfc2V0dGluZ3MuYWR2YW5jZWRfc2V0dGluZ3MnLCBbJ2ZyZWQtLWFjY29yZGlvbi1jb2cnXSwgZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVUYWJzID0gYWR2YW5jZWRMaXN0LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZHQuYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYWR2YW5jZWRUYWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgdGFiIG9mIGFjdGl2ZVRhYnMpIHtcbiAgICAgICAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBhZHZhbmNlZFRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLWR0LWFjdGl2ZScsIGFkdmFuY2VkVGFiLCBhZHZhbmNlZENvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGFkdmFuY2VkQ29udGVudCA9IGRkKCk7XG4gICAgICAgIGNvbnN0IGZpZWxkcyA9IGZpZWxkU2V0KFsnZnJlZC0tcGFnZV9zZXR0aW5nc19mb3JtX2FkdmFuY2VkJ10pO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChkYXRlVGltZSh7bmFtZTogJ3B1Ymxpc2hlZG9uJywgbGFiZWw6ICdmcmVkLmZlLnBhZ2Vfc2V0dGluZ3MucHVibGlzaGVkX29uJ30sIHRoaXMucGFnZVNldHRpbmdzLnB1Ymxpc2hlZG9uLCB0aGlzLnNldFNldHRpbmcpKTtcbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKGRhdGVUaW1lKHtuYW1lOiAncHVibGlzaG9uJywgbGFiZWw6ICdmcmVkLmZlLnBhZ2Vfc2V0dGluZ3MucHVibGlzaF9vbid9LCB0aGlzLnBhZ2VTZXR0aW5ncy5wdWJsaXNob24sIHRoaXMuc2V0U2V0dGluZykpO1xuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQoZGF0ZVRpbWUoe25hbWU6ICd1bnB1Ymxpc2hvbicsIGxhYmVsOiAnZnJlZC5mZS5wYWdlX3NldHRpbmdzLnVucHVibGlzaF9vbid9LCB0aGlzLnBhZ2VTZXR0aW5ncy51bnB1Ymxpc2hvbiwgdGhpcy5zZXRTZXR0aW5nKSk7XG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZCh0ZXh0KHtuYW1lOiAnbWVudWluZGV4JywgbGFiZWw6ICdmcmVkLmZlLnBhZ2Vfc2V0dGluZ3MubWVudV9pbmRleCd9LCB0aGlzLnBhZ2VTZXR0aW5ncy5tZW51aW5kZXgsIHRoaXMuc2V0U2V0dGluZykpO1xuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodG9nZ2xlKHtuYW1lOiAnZGVsZXRlZCcsIGxhYmVsOiAnZnJlZC5mZS5wYWdlX3NldHRpbmdzLmRlbGV0ZWQnfSwgdGhpcy5wYWdlU2V0dGluZ3MuZGVsZXRlZCwgdGhpcy5zZXRTZXR0aW5nKSk7XG5cbiAgICAgICAgYWR2YW5jZWRDb250ZW50LmFwcGVuZENoaWxkKGZpZWxkcyk7XG5cbiAgICAgICAgYWR2YW5jZWRMaXN0LmFwcGVuZENoaWxkKGFkdmFuY2VkVGFiKTtcbiAgICAgICAgYWR2YW5jZWRMaXN0LmFwcGVuZENoaWxkKGFkdmFuY2VkQ29udGVudCk7XG5cbiAgICAgICAgcmV0dXJuIGFkdmFuY2VkTGlzdDtcbiAgICB9XG4gICAgXG4gICAgZ2V0VGFnZ2VyRmllbGRzKCkge1xuICAgICAgICBjb25zdCB0YWdnZXJMaXN0ID0gZGwoKTtcblxuICAgICAgICBjb25zdCB0YWdnZXJUYWIgPSBkdCgnZnJlZC5mZS50YWdnZXIudGFnZ2VyJywgWydmcmVkLS1hY2NvcmRpb24tY29nJ10sIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlVGFicyA9IHRhZ2dlckxpc3QucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkdC5hY3RpdmUnKTtcblxuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWdnZXJUYWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgdGFiIG9mIGFjdGl2ZVRhYnMpIHtcbiAgICAgICAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0YWdnZXJUYWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtc2lkZWJhci1kdC1hY3RpdmUnLCB0YWdnZXJUYWIsIHRhZ2dlckNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0YWdnZXJDb250ZW50ID0gZGQoKTtcbiAgICAgICAgY29uc3QgZmllbGRzID0gZmllbGRTZXQoWydmcmVkLS1wYWdlX3NldHRpbmdzX2Zvcm1fYWR2YW5jZWQnXSk7XG5cbiAgICAgICAgdGhpcy5mcmVkQ29uZmlnLnRhZ2dlci5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhZ2dlckZpZWxkID0gbmV3IFRhZ2dlcihncm91cCk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlZCA9IHRhZ2dlckZpZWxkLnJlbmRlcigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQocmVuZGVyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0YWdnZXJDb250ZW50LmFwcGVuZENoaWxkKGZpZWxkcyk7XG5cbiAgICAgICAgdGFnZ2VyTGlzdC5hcHBlbmRDaGlsZCh0YWdnZXJUYWIpO1xuICAgICAgICB0YWdnZXJMaXN0LmFwcGVuZENoaWxkKHRhZ2dlckNvbnRlbnQpO1xuXG4gICAgICAgIHJldHVybiB0YWdnZXJMaXN0O1xuICAgIH1cblxuICAgIHNldFNldHRpbmcobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYWdlU2V0dGluZ3NbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzZXRTZXR0aW5nV2l0aEVtaXR0ZXIobmFtZSwgdmFsdWUsIGlucHV0KSB7XG4gICAgICAgIHRoaXMuc2V0U2V0dGluZyhuYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXBhZ2Utc2V0dGluZy1jaGFuZ2UnLCBuYW1lLCB2YWx1ZSwgaW5wdXQpO1xuICAgIH1cblxuICAgIGFkZFNldHRpbmdDaGFuZ2VMaXN0ZW5lcihzZXR0aW5nLCBsYWJlbCwgaW5wdXQpIHtcbiAgICAgICAgZW1pdHRlci5vbignZnJlZC1wYWdlLXNldHRpbmctY2hhbmdlJywgKHNldHRpbmdOYW1lLCBzZXR0aW5nVmFsdWUsIHNvdXJjZUVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoKGlucHV0ICE9PSBzb3VyY2VFbCkgJiYgKHNldHRpbmcubmFtZSA9PT0gc2V0dGluZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZXR0aW5nKHNldHRpbmdOYW1lLCBzZXR0aW5nVmFsdWUpO1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gc2V0dGluZ1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9Db21wb25lbnRzL1NpZGViYXIvUGFnZVNldHRpbmdzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Sidebar2 = __webpack_require__(5);\n\nvar _Sidebar3 = _interopRequireDefault(_Sidebar2);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Elements = __webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PageSettings = function (_Sidebar) {\n    _inherits(PageSettings, _Sidebar);\n\n    function PageSettings() {\n        _classCallCheck(this, PageSettings);\n\n        return _possibleConstructorReturn(this, (PageSettings.__proto__ || Object.getPrototypeOf(PageSettings)).apply(this, arguments));\n    }\n\n    _createClass(PageSettings, [{\n        key: 'init',\n        value: function init() {\n            this.content = this.render();\n        }\n    }, {\n        key: 'click',\n        value: function click() {\n            return this.content;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var moreList = (0, _Elements.dl)();\n\n            moreList.appendChild((0, _Elements.dt)('fred.fe.more.openmanager', [], function (e) {\n                _EE2.default.emit('fred-open-manager');\n            }));\n            moreList.appendChild((0, _Elements.dt)('fred.fe.more.logout', [], function (e) {\n                _EE2.default.emit('fred-logout-user');\n            }));\n\n            return moreList;\n        }\n    }]);\n\n    return PageSettings;\n}(_Sidebar3.default);\n\nPageSettings.title = 'fred.fe.more';\nPageSettings.icon = 'fred--sidebar_more';\nPageSettings.expandable = true;\nexports.default = PageSettings;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9Nb3JlLmpzPzk3ZDgiXSwibmFtZXMiOlsiUGFnZVNldHRpbmdzIiwiY29udGVudCIsInJlbmRlciIsIm1vcmVMaXN0IiwiYXBwZW5kQ2hpbGQiLCJlbWl0IiwidGl0bGUiLCJpY29uIiwiZXhwYW5kYWJsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7SUFFcUJBLFk7Ozs7Ozs7Ozs7OytCQUtWO0FBQ0gsaUJBQUtDLE9BQUwsR0FBZSxLQUFLQyxNQUFMLEVBQWY7QUFDSDs7O2dDQUVPO0FBQ0osbUJBQU8sS0FBS0QsT0FBWjtBQUNIOzs7aUNBRVM7QUFDTixnQkFBTUUsV0FBVyxtQkFBakI7O0FBRUFBLHFCQUFTQyxXQUFULENBQXFCLGtCQUFHLDBCQUFILEVBQStCLEVBQS9CLEVBQW1DLGFBQUs7QUFBRSw2QkFBUUMsSUFBUixDQUFhLG1CQUFiO0FBQW9DLGFBQTlFLENBQXJCO0FBQ0FGLHFCQUFTQyxXQUFULENBQXFCLGtCQUFHLHFCQUFILEVBQTBCLEVBQTFCLEVBQThCLGFBQUs7QUFBRSw2QkFBUUMsSUFBUixDQUFhLGtCQUFiO0FBQWtDLGFBQXZFLENBQXJCOztBQUVBLG1CQUFPRixRQUFQO0FBQ0g7Ozs7OztBQXBCZ0JILFksQ0FDVk0sSyxHQUFRLGM7QUFERU4sWSxDQUVWTyxJLEdBQU8sb0I7QUFGR1AsWSxDQUdWUSxVLEdBQWEsSTtrQkFISFIsWSIsImZpbGUiOiIxMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2lkZWJhciBmcm9tICcuLi9TaWRlYmFyJztcbmltcG9ydCBlbWl0dGVyIGZyb20gJy4uLy4uL0VFJztcbmltcG9ydCB7IGRsLCBkdCB9IGZyb20gJy4uLy4uL1VJL0VsZW1lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZVNldHRpbmdzIGV4dGVuZHMgU2lkZWJhciB7XG4gICAgc3RhdGljIHRpdGxlID0gJ2ZyZWQuZmUubW9yZSc7XG4gICAgc3RhdGljIGljb24gPSAnZnJlZC0tc2lkZWJhcl9tb3JlJztcbiAgICBzdGF0aWMgZXhwYW5kYWJsZSA9IHRydWU7XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGNsaWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50O1xuICAgIH1cblxuICAgIHJlbmRlciAoKSB7XG4gICAgICAgIGNvbnN0IG1vcmVMaXN0ID0gZGwoKTtcblxuICAgICAgICBtb3JlTGlzdC5hcHBlbmRDaGlsZChkdCgnZnJlZC5mZS5tb3JlLm9wZW5tYW5hZ2VyJywgW10sIGUgPT4geyBlbWl0dGVyLmVtaXQoJ2ZyZWQtb3Blbi1tYW5hZ2VyJyk7IH0pKTtcbiAgICAgICAgbW9yZUxpc3QuYXBwZW5kQ2hpbGQoZHQoJ2ZyZWQuZmUubW9yZS5sb2dvdXQnLCBbXSwgZSA9PiB7IGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2dvdXQtdXNlcicpIH0pKTtcblxuICAgICAgICByZXR1cm4gbW9yZUxpc3Q7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvQ29tcG9uZW50cy9TaWRlYmFyL01vcmUuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Sidebar2 = __webpack_require__(5);\n\nvar _Sidebar3 = _interopRequireDefault(_Sidebar2);\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Elements = __webpack_require__(11);\n\nvar _Inputs = __webpack_require__(13);\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Cache = __webpack_require__(38);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _hoverintent = __webpack_require__(44);\n\nvar _hoverintent2 = _interopRequireDefault(_hoverintent);\n\nvar _Drake = __webpack_require__(22);\n\nvar _Drake2 = _interopRequireDefault(_Drake);\n\nvar _html2canvas = __webpack_require__(49);\n\nvar _html2canvas2 = _interopRequireDefault(_html2canvas);\n\nvar _blueprints = __webpack_require__(35);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blueprints = function (_Sidebar) {\n    _inherits(Blueprints, _Sidebar);\n\n    function Blueprints() {\n        _classCallCheck(this, Blueprints);\n\n        return _possibleConstructorReturn(this, (Blueprints.__proto__ || Object.getPrototypeOf(Blueprints)).apply(this, arguments));\n    }\n\n    _createClass(Blueprints, [{\n        key: 'init',\n        value: function init() {\n            this.categories = [];\n\n            this.state = {\n                category: {\n                    name: '',\n                    rank: '',\n                    public: true\n                },\n                blueprint: {\n                    name: '',\n                    description: '',\n                    category: null,\n                    rank: '',\n                    public: true,\n                    image: '',\n                    generatedImage: ''\n                }\n            };\n        }\n    }, {\n        key: 'click',\n        value: function click() {\n            var _this2 = this;\n\n            return (0, _blueprints.getBlueprints)().then(function (value) {\n                return _this2.buildPanel(value);\n            });\n        }\n    }, {\n        key: 'buildBlueprints',\n        value: function buildBlueprints(content, categories) {\n            var _this3 = this;\n\n            categories.forEach(function (category) {\n                if (_this3.state.blueprint.category === null) {\n                    _this3.state.blueprint.category = category.id;\n                }\n\n                _this3.categories.push({\n                    label: category.category,\n                    id: category.id,\n                    value: '' + category.id\n                });\n\n                if (category.blueprints.length === 0) {\n                    return true;\n                }\n\n                var categoryTab = (0, _Elements.dt)(category.category, [], function (e, el) {\n                    var activeTabs = el.parentElement.querySelectorAll('dt.active');\n\n                    var isActive = el.classList.contains('active');\n\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = activeTabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var tab = _step.value;\n\n                            tab.classList.remove('active');\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n\n                    if (!isActive) {\n                        el.classList.add('active');\n                        e.stopPropagation();\n                        _EE2.default.emit('fred-sidebar-dt-active', categoryTab, categoryContent);\n                    }\n                });\n\n                (0, _hoverintent2.default)(categoryTab, function (e) {\n                    var el = e.target;\n                    var activeTabs = el.parentElement.querySelectorAll('dt.active');\n\n                    var isActive = el.classList.contains('active');\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = activeTabs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var tab = _step2.value;\n\n                            if (tab === el) continue;\n                            tab.classList.remove('active');\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n\n                    if (!isActive) {\n                        el.classList.add('active');\n                        _EE2.default.emit('fred-sidebar-dt-active', categoryTab, categoryContent);\n                    }\n                }, function (e) {});\n                var categoryContent = (0, _Elements.dd)();\n                var categoryEl = (0, _Elements.div)(['fred--thumbs', 'source', 'blueprints-source']);\n\n                category.blueprints.forEach(function (blueprint) {\n                    categoryEl.appendChild(Blueprints.wrapper(blueprint.id, blueprint.name, blueprint.description, blueprint.image));\n                });\n\n                categoryContent.appendChild(categoryEl);\n\n                content.appendChild(categoryTab);\n                content.appendChild(categoryContent);\n            });\n        }\n    }, {\n        key: 'buildPanel',\n        value: function buildPanel(blueprints) {\n            var content = (0, _Elements.dl)();\n            this.categories = [];\n\n            this.buildBlueprints(content, blueprints);\n            this.buildCreateCategory(content);\n            this.buildCreateBlueprint(content);\n\n            return content;\n        }\n    }, {\n        key: 'buildCreateCategory',\n        value: function buildCreateCategory(content) {\n            var _this4 = this;\n\n            var formWrapper = (0, _Elements.dd)();\n\n            var pageForm = (0, _Elements.form)(['fred--pages_create']);\n\n            var fields = (0, _Elements.fieldSet)();\n            var title = (0, _Elements.legend)('fred.fe.blueprints.create_category');\n\n            var onChange = function onChange(name, value) {\n                _this4.state.category[name] = value;\n            };\n\n            fields.appendChild(title);\n\n            var name = (0, _Inputs.text)({\n                name: 'name',\n                label: 'fred.fe.blueprints.category_name'\n            }, this.state.category.name, onChange);\n\n            var rank = (0, _Inputs.text)({\n                name: 'rank',\n                label: 'fred.fe.blueprints.category_rank'\n            }, this.state.category.rank, onChange);\n\n            var publicToggle = (0, _Inputs.toggle)({\n                name: 'public',\n                label: 'fred.fe.blueprints.category_public'\n            }, this.state.category.public, onChange);\n\n            fields.appendChild(name);\n            fields.appendChild(rank);\n            fields.appendChild(publicToggle);\n\n            var createButton = (0, _Elements.button)('fred.fe.blueprints.create_category', 'fred.fe.blueprints.create_category', ['fred--btn-panel', 'fred--btn-apply'], function () {\n                _EE2.default.emit('fred-loading', _Config2.default.lng('fred.fe.blueprints.creating_blueprint_category'));\n\n                (0, _blueprints.createBlueprintCategory)(_this4.state.category.name, _this4.state.category.rank, +_this4.state.category.public).then(function (json) {\n                    _Cache2.default.kill('blueprints', { name: 'blueprints' });\n                    _this4.click().then(function (newContent) {\n                        content.replaceWith(newContent);\n                        _Drake2.default.reloadContainers();\n                        _EE2.default.emit('fred-loading-hide');\n                    });\n                }).catch(function (err) {\n                    if (err.response && err.response._fields && err.response._fields.name) {\n                        name.onError(err.response._fields.name);\n\n                        _EE2.default.emit('fred-loading-hide');\n                    }\n                });\n            });\n\n            fields.appendChild(createButton);\n\n            pageForm.appendChild(fields);\n\n            var createPageButton = (0, _Elements.dt)('fred.fe.blueprints.create_category', ['fred--accordion-plus'], function (e, el) {\n                var activeTabs = content.querySelectorAll('dt.active');\n\n                var isActive = el.classList.contains('active');\n\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                    for (var _iterator3 = activeTabs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                        var tab = _step3.value;\n\n                        tab.classList.remove('active');\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                            _iterator3.return();\n                        }\n                    } finally {\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n\n                if (!isActive) {\n                    el.classList.add('active');\n                    e.stopPropagation();\n                    _EE2.default.emit('fred-sidebar-dt-active', createPageButton, formWrapper);\n                }\n            });\n\n            formWrapper.appendChild(pageForm);\n\n            content.appendChild(createPageButton);\n            content.appendChild(formWrapper);\n        }\n    }, {\n        key: 'buildCreateBlueprint',\n        value: function buildCreateBlueprint(content) {\n            var _this5 = this;\n\n            var formWrapper = (0, _Elements.dd)();\n\n            var pageForm = (0, _Elements.form)(['fred--pages_create']);\n\n            var fields = (0, _Elements.fieldSet)();\n            var title = (0, _Elements.legend)('fred.fe.blueprints.create_blueprint');\n\n            var onChange = function onChange(name, value) {\n                _this5.state.blueprint[name] = value;\n            };\n\n            var onChangeChoices = function onChangeChoices(name, value) {\n                _this5.state.blueprint[name] = value.value;\n            };\n\n            fields.appendChild(title);\n\n            var name = (0, _Inputs.text)({\n                name: 'name',\n                label: 'fred.fe.blueprints.blueprint_name'\n            }, this.state.blueprint.name, onChange);\n\n            fields.appendChild(name);\n\n            fields.appendChild((0, _Inputs.area)({\n                name: 'description',\n                label: 'fred.fe.blueprints.blueprint_description'\n            }, this.state.blueprint.description, onChange));\n\n            var onImageChange = function onImageChange(name, value) {\n                if (value === '') {\n                    imageEl.setPreview(_this5.state.blueprint.generatedImage);\n                }\n\n                _this5.state.blueprint[name] = value;\n            };\n\n            var imageEl = (0, _Inputs.image)({\n                name: 'image',\n                label: 'fred.fe.blueprints.blueprint_image'\n            }, this.state.blueprint.image, onImageChange);\n\n            fields.appendChild(imageEl);\n\n            var category = (0, _Inputs.choices)({\n                name: 'category',\n                label: _Config2.default.lng('fred.fe.blueprints.blueprint_category'),\n                choices: {\n                    choices: this.categories,\n                    shouldSort: false\n                }\n            }, this.state.blueprint.category, onChangeChoices);\n\n            fields.appendChild(category);\n\n            fields.appendChild((0, _Inputs.text)({\n                name: 'rank',\n                label: 'fred.fe.blueprints.blueprint_rank'\n            }, this.state.blueprint.rank, onChange));\n\n            fields.appendChild((0, _Inputs.toggle)({\n                name: 'public',\n                label: 'fred.fe.blueprints.blueprint_public'\n            }, this.state.blueprint.public, onChange));\n\n            if (this.state.blueprint.image === '') {\n                (0, _html2canvas2.default)(document.body, {\n                    logging: false,\n                    ignoreElements: function ignoreElements(el) {\n                        if (el.classList.contains('fred')) return true;\n                        if (el.classList.contains('fred--toolbar')) return true;\n\n                        return false;\n                    }\n                }).then(function (canvas) {\n                    _this5.state.blueprint.generatedImage = canvas.toDataURL();\n                    imageEl.setPreview(_this5.state.blueprint.generatedImage);\n                });\n            }\n\n            var createButton = (0, _Elements.button)('fred.fe.blueprints.create_blueprint', 'fred.fe.blueprints.create_blueprint', ['fred--btn-panel', 'fred--btn-apply'], function () {\n                _EE2.default.emit('fred-loading', _Config2.default.lng('fred.fe.blueprints.creating_blueprint'));\n\n                (0, _blueprints.createBlueprint)(_this5.state.blueprint.name, _this5.state.blueprint.description, _this5.state.blueprint.category, _this5.state.blueprint.rank, _this5.state.blueprint.public, _Config2.default.fred.getContent(), _this5.state.blueprint.generatedImage, _this5.state.blueprint.image, true).then(function (json) {\n                    _Cache2.default.kill('blueprints', { name: 'blueprints' });\n                    _this5.click().then(function (newContent) {\n                        content.replaceWith(newContent);\n                        _Drake2.default.reloadContainers();\n                        _EE2.default.emit('fred-loading-hide');\n                    });\n                }).catch(function (err) {\n                    if (err.response && err.response._fields) {\n                        if (err.response._fields.name) {\n                            name.onError(err.response._fields.name);\n                        }\n\n                        if (err.response._fields.category) {\n                            category.onError(err.response._fields.category);\n                        }\n\n                        _EE2.default.emit('fred-loading-hide');\n                    }\n                });\n            });\n\n            fields.appendChild(createButton);\n\n            pageForm.appendChild(fields);\n\n            var createPageButton = (0, _Elements.dt)('fred.fe.blueprints.create_blueprint', ['fred--accordion-plus'], function (e, el) {\n                var activeTabs = content.querySelectorAll('dt.active');\n\n                var isActive = el.classList.contains('active');\n\n                var _iteratorNormalCompletion4 = true;\n                var _didIteratorError4 = false;\n                var _iteratorError4 = undefined;\n\n                try {\n                    for (var _iterator4 = activeTabs[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                        var tab = _step4.value;\n\n                        tab.classList.remove('active');\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                            _iterator4.return();\n                        }\n                    } finally {\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n\n                if (!isActive) {\n                    el.classList.add('active');\n                    e.stopPropagation();\n                    _EE2.default.emit('fred-sidebar-dt-active', createPageButton, formWrapper);\n                }\n            });\n\n            formWrapper.appendChild(pageForm);\n\n            content.appendChild(createPageButton);\n            content.appendChild(formWrapper);\n        }\n    }, {\n        key: 'afterExpand',\n        value: function afterExpand() {\n            _Drake2.default.reloadContainers();\n        }\n    }], [{\n        key: 'wrapper',\n        value: function wrapper(id, name, description, image) {\n            var element = (0, _Elements.figure)(['fred--thumb']);\n\n            var imageWrapper = (0, _Elements.div)();\n            var elementImage = (0, _Elements.img)(image, name);\n\n            imageWrapper.appendChild(elementImage);\n\n            var caption = (0, _Elements.figCaption)('<strong>' + name + '</strong><em>' + description + '</em>');\n\n            var chunk = (0, _Elements.div)(['chunk']);\n            chunk.dataset.fredBlueprintId = id;\n            chunk.dataset.fredBlueprintName = name;\n            chunk.setAttribute('hidden', 'hidden');\n\n            element.appendChild(imageWrapper);\n            element.appendChild(caption);\n            element.appendChild(chunk);\n\n            return element;\n        }\n    }]);\n\n    return Blueprints;\n}(_Sidebar3.default);\n\nBlueprints.title = 'fred.fe.blueprints';\nBlueprints.icon = 'fred--sidebar_blueprints';\nBlueprints.expandable = true;\nexports.default = Blueprints;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0NvbXBvbmVudHMvU2lkZWJhci9CbHVlcHJpbnRzL0JsdWVwcmludHMuanM/NGZhNCJdLCJuYW1lcyI6WyJCbHVlcHJpbnRzIiwiY2F0ZWdvcmllcyIsInN0YXRlIiwiY2F0ZWdvcnkiLCJuYW1lIiwicmFuayIsInB1YmxpYyIsImJsdWVwcmludCIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJnZW5lcmF0ZWRJbWFnZSIsInRoZW4iLCJidWlsZFBhbmVsIiwidmFsdWUiLCJjb250ZW50IiwiZm9yRWFjaCIsImlkIiwicHVzaCIsImxhYmVsIiwiYmx1ZXByaW50cyIsImxlbmd0aCIsImNhdGVnb3J5VGFiIiwiZSIsImVsIiwiYWN0aXZlVGFicyIsInBhcmVudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXNBY3RpdmUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInRhYiIsInJlbW92ZSIsImFkZCIsInN0b3BQcm9wYWdhdGlvbiIsImVtaXQiLCJjYXRlZ29yeUNvbnRlbnQiLCJ0YXJnZXQiLCJjYXRlZ29yeUVsIiwiYXBwZW5kQ2hpbGQiLCJ3cmFwcGVyIiwiYnVpbGRCbHVlcHJpbnRzIiwiYnVpbGRDcmVhdGVDYXRlZ29yeSIsImJ1aWxkQ3JlYXRlQmx1ZXByaW50IiwiZm9ybVdyYXBwZXIiLCJwYWdlRm9ybSIsImZpZWxkcyIsInRpdGxlIiwib25DaGFuZ2UiLCJwdWJsaWNUb2dnbGUiLCJjcmVhdGVCdXR0b24iLCJsbmciLCJraWxsIiwiY2xpY2siLCJyZXBsYWNlV2l0aCIsIm5ld0NvbnRlbnQiLCJyZWxvYWRDb250YWluZXJzIiwiY2F0Y2giLCJlcnIiLCJyZXNwb25zZSIsIl9maWVsZHMiLCJvbkVycm9yIiwiY3JlYXRlUGFnZUJ1dHRvbiIsIm9uQ2hhbmdlQ2hvaWNlcyIsIm9uSW1hZ2VDaGFuZ2UiLCJpbWFnZUVsIiwic2V0UHJldmlldyIsImNob2ljZXMiLCJzaG91bGRTb3J0IiwiZG9jdW1lbnQiLCJib2R5IiwibG9nZ2luZyIsImlnbm9yZUVsZW1lbnRzIiwiY2FudmFzIiwidG9EYXRhVVJMIiwiZnJlZCIsImdldENvbnRlbnQiLCJlbGVtZW50IiwiaW1hZ2VXcmFwcGVyIiwiZWxlbWVudEltYWdlIiwiY2FwdGlvbiIsImNodW5rIiwiZGF0YXNldCIsImZyZWRCbHVlcHJpbnRJZCIsImZyZWRCbHVlcHJpbnROYW1lIiwic2V0QXR0cmlidXRlIiwiaWNvbiIsImV4cGFuZGFibGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OztJQUVxQkEsVTs7Ozs7Ozs7Ozs7K0JBS1Y7QUFDSCxpQkFBS0MsVUFBTCxHQUFrQixFQUFsQjs7QUFFQSxpQkFBS0MsS0FBTCxHQUFhO0FBQ1RDLDBCQUFVO0FBQ05DLDBCQUFNLEVBREE7QUFFTkMsMEJBQU0sRUFGQTtBQUdOQyw0QkFBUTtBQUhGLGlCQUREO0FBTVRDLDJCQUFXO0FBQ1BILDBCQUFNLEVBREM7QUFFUEksaUNBQWEsRUFGTjtBQUdQTCw4QkFBVSxJQUhIO0FBSVBFLDBCQUFNLEVBSkM7QUFLUEMsNEJBQVEsSUFMRDtBQU1QRywyQkFBTyxFQU5BO0FBT1BDLG9DQUFnQjtBQVBUO0FBTkYsYUFBYjtBQWdCSDs7O2dDQUVPO0FBQUE7O0FBQ0osbUJBQU8saUNBQWdCQyxJQUFoQixDQUFxQixpQkFBUztBQUNqQyx1QkFBTyxPQUFLQyxVQUFMLENBQWdCQyxLQUFoQixDQUFQO0FBQ0gsYUFGTSxDQUFQO0FBR0g7Ozt3Q0FFZUMsTyxFQUFTYixVLEVBQVk7QUFBQTs7QUFDakNBLHVCQUFXYyxPQUFYLENBQW1CLG9CQUFZO0FBQzNCLG9CQUFJLE9BQUtiLEtBQUwsQ0FBV0ssU0FBWCxDQUFxQkosUUFBckIsS0FBa0MsSUFBdEMsRUFBNEM7QUFDeEMsMkJBQUtELEtBQUwsQ0FBV0ssU0FBWCxDQUFxQkosUUFBckIs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Qjs7QUFFQTlCLG9CQUFRd0IsV0FBUixDQUFvQnVCLGdCQUFwQjtBQUNBL0Msb0JBQVF3QixXQUFSLENBQW9CSyxXQUFwQjtBQUNIOzs7c0NBRWE7QUFDViw0QkFBTVksZ0JBQU47QUFDSDs7O2dDQTFQY3ZDLEUsRUFBSVosSSxFQUFNSSxXLEVBQWFDLEssRUFBTztBQUN6QyxnQkFBTW1FLFVBQVUsc0JBQU8sQ0FBQyxhQUFELENBQVAsQ0FBaEI7O0FBRUEsZ0JBQU1DLGVBQWUsb0JBQXJCO0FBQ0EsZ0JBQU1DLGVBQWUsbUJBQUlyRSxLQUFKLEVBQVdMLElBQVgsQ0FBckI7O0FBRUF5RSx5QkFBYXZDLFdBQWIsQ0FBeUJ3QyxZQUF6Qjs7QUFFQSxnQkFBTUMsVUFBVSx1Q0FBc0IzRSxJQUF0QixxQkFBMENJLFdBQTFDLFdBQWhCOztBQUVBLGdCQUFNd0UsUUFBUSxtQkFBSSxDQUFDLE9BQUQsQ0FBSixDQUFkO0FBQ0FBLGtCQUFNQyxPQUFOLENBQWNDLGVBQWQsR0FBZ0NsRSxFQUFoQztBQUNBZ0Usa0JBQU1DLE9BQU4sQ0FBY0UsaUJBQWQsR0FBa0MvRSxJQUFsQztBQUNBNEUsa0JBQU1JLFlBQU4sQ0FBbUIsUUFBbkIsRUFBNkIsUUFBN0I7O0FBRUFSLG9CQUFRdEMsV0FBUixDQUFvQnVDLFlBQXBCO0FBQ0FELG9CQUFRdEMsV0FBUixDQUFvQnlDLE9BQXBCO0FBQ0FILG9CQUFRdEMsV0FBUixDQUFvQjBDLEtBQXBCOztBQUVBLG1CQUFPSixPQUFQO0FBQ0g7Ozs7OztBQXZIZ0I1RSxVLENBQ1Y4QyxLLEdBQVEsb0I7QUFERTlDLFUsQ0FFVnFGLEksR0FBTywwQjtBQUZHckYsVSxDQUdWc0YsVSxHQUFhLEk7a0JBSEh0RixVIiwiZmlsZSI6IjExNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaWRlYmFyIGZyb20gJy4uLy4uL1NpZGViYXInO1xuaW1wb3J0IGVtaXR0ZXIgZnJvbSAnLi4vLi4vLi4vRUUnO1xuaW1wb3J0IHtkZCwgZGwsIGR0LCBmb3JtLCBmaWVsZFNldCwgbGVnZW5kLCBkaXYsIGJ1dHRvbiwgZmlnQ2FwdGlvbiwgZmlndXJlLCBpbWd9IGZyb20gJy4uLy4uLy4uL1VJL0VsZW1lbnRzJztcbmltcG9ydCB7Y2hvaWNlcywgdGV4dCwgdG9nZ2xlLCBpbWFnZSwgYXJlYX0gZnJvbSBcIi4uLy4uLy4uL1VJL0lucHV0c1wiO1xuaW1wb3J0IGZyZWRDb25maWcgZnJvbSBcIi4uLy4uLy4uL0NvbmZpZ1wiO1xuaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uLy4uL0NhY2hlJztcbmltcG9ydCBob3ZlcmludGVudCBmcm9tIFwiaG92ZXJpbnRlbnRcIjtcbmltcG9ydCBkcmFrZSBmcm9tIFwiLi4vLi4vLi4vRHJha2VcIjtcbmltcG9ydCBodG1sMmNhbnZhcyBmcm9tICdodG1sMmNhbnZhcyc7XG5pbXBvcnQgeyBnZXRCbHVlcHJpbnRzLCBjcmVhdGVCbHVlcHJpbnQsIGNyZWF0ZUJsdWVwcmludENhdGVnb3J5IH0gZnJvbSAnLi4vLi4vLi4vQWN0aW9ucy9ibHVlcHJpbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZXByaW50cyBleHRlbmRzIFNpZGViYXIge1xuICAgIHN0YXRpYyB0aXRsZSA9ICdmcmVkLmZlLmJsdWVwcmludHMnO1xuICAgIHN0YXRpYyBpY29uID0gJ2ZyZWQtLXNpZGViYXJfYmx1ZXByaW50cyc7XG4gICAgc3RhdGljIGV4cGFuZGFibGUgPSB0cnVlO1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gW107XG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICByYW5rOiAnJyxcbiAgICAgICAgICAgICAgICBwdWJsaWM6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBibHVlcHJpbnQ6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICAgICAgICAgICAgcmFuazogJycsXG4gICAgICAgICAgICAgICAgcHVibGljOiB0cnVlLFxuICAgICAgICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWRJbWFnZTogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjbGljaygpIHtcbiAgICAgICAgcmV0dXJuIGdldEJsdWVwcmludHMoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkUGFuZWwodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgYnVpbGRCbHVlcHJpbnRzKGNvbnRlbnQsIGNhdGVnb3JpZXMpIHtcbiAgICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmJsdWVwcmludC5jYXRlZ29yeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYmx1ZXByaW50LmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBpZDogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnICsgY2F0ZWdvcnkuaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnkuYmx1ZXByaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlUYWIgPSBkdChjYXRlZ29yeS5jYXRlZ29yeSwgW10sIChlLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVRhYnMgPSBlbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2R0LmFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdGFiIG9mIGFjdGl2ZVRhYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLWR0LWFjdGl2ZScsIGNhdGVnb3J5VGFiLCBjYXRlZ29yeUNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBob3ZlcmludGVudChjYXRlZ29yeVRhYixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVRhYnMgPSBlbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2R0LmFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0YWIgb2YgYWN0aXZlVGFicykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGFiID09PSBlbCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLWR0LWFjdGl2ZScsIGNhdGVnb3J5VGFiLCBjYXRlZ29yeUNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlKXtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeUNvbnRlbnQgPSBkZCgpO1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlFbCA9IGRpdihbJ2ZyZWQtLXRodW1icycsICdzb3VyY2UnLCAnYmx1ZXByaW50cy1zb3VyY2UnXSk7XG5cbiAgICAgICAgICAgIGNhdGVnb3J5LmJsdWVwcmludHMuZm9yRWFjaChibHVlcHJpbnQgPT4ge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5RWwuYXBwZW5kQ2hpbGQoQmx1ZXByaW50cy53cmFwcGVyKGJsdWVwcmludC5pZCwgYmx1ZXByaW50Lm5hbWUsIGJsdWVwcmludC5kZXNjcmlwdGlvbiwgYmx1ZXByaW50LmltYWdlKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2F0ZWdvcnlDb250ZW50LmFwcGVuZENoaWxkKGNhdGVnb3J5RWwpO1xuXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGNhdGVnb3J5VGFiKTtcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY2F0ZWdvcnlDb250ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHdyYXBwZXIoaWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBpbWFnZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZmlndXJlKFsnZnJlZC0tdGh1bWInXSk7XG5cbiAgICAgICAgY29uc3QgaW1hZ2VXcmFwcGVyID0gZGl2KCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJbWFnZSA9IGltZyhpbWFnZSwgbmFtZSk7XG5cbiAgICAgICAgaW1hZ2VXcmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnRJbWFnZSk7XG5cbiAgICAgICAgY29uc3QgY2FwdGlvbiA9IGZpZ0NhcHRpb24oYDxzdHJvbmc+JHtuYW1lfTwvc3Ryb25nPjxlbT4ke2Rlc2NyaXB0aW9ufTwvZW0+YCk7XG5cbiAgICAgICAgY29uc3QgY2h1bmsgPSBkaXYoWydjaHVuayddKTtcbiAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkQmx1ZXByaW50SWQgPSBpZDtcbiAgICAgICAgY2h1bmsuZGF0YXNldC5mcmVkQmx1ZXByaW50TmFtZSA9IG5hbWU7XG4gICAgICAgIGNodW5rLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xuXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1hZ2VXcmFwcGVyKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjYXB0aW9uKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaHVuayk7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgYnVpbGRQYW5lbChibHVlcHJpbnRzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkbCgpO1xuICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSBbXTtcblxuICAgICAgICB0aGlzLmJ1aWxkQmx1ZXByaW50cyhjb250ZW50LCBibHVlcHJpbnRzKTtcbiAgICAgICAgdGhpcy5idWlsZENyZWF0ZUNhdGVnb3J5KGNvbnRlbnQpO1xuICAgICAgICB0aGlzLmJ1aWxkQ3JlYXRlQmx1ZXByaW50KGNvbnRlbnQpO1xuXG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cblxuICAgIGJ1aWxkQ3JlYXRlQ2F0ZWdvcnkoY29udGVudCkge1xuICAgICAgICBjb25zdCBmb3JtV3JhcHBlciA9IGRkKCk7XG5cbiAgICAgICAgY29uc3QgcGFnZUZvcm0gPSBmb3JtKFsnZnJlZC0tcGFnZXNfY3JlYXRlJ10pO1xuXG4gICAgICAgIGNvbnN0IGZpZWxkcyA9IGZpZWxkU2V0KCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gbGVnZW5kKCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2NhdGVnb3J5Jyk7XG5cbiAgICAgICAgY29uc3Qgb25DaGFuZ2UgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnlbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0ZXh0KHtcbiAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgICAgIGxhYmVsOiAnZnJlZC5mZS5ibHVlcHJpbnRzLmNhdGVnb3J5X25hbWUnXG4gICAgICAgIH0sIHRoaXMuc3RhdGUuY2F0ZWdvcnkubmFtZSwgb25DaGFuZ2UpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmFuayA9IHRleHQoe1xuICAgICAgICAgICAgbmFtZTogJ3JhbmsnLFxuICAgICAgICAgICAgbGFiZWw6ICdmcmVkLmZlLmJsdWVwcmludHMuY2F0ZWdvcnlfcmFuaydcbiAgICAgICAgfSwgdGhpcy5zdGF0ZS5jYXRlZ29yeS5yYW5rLCBvbkNoYW5nZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwdWJsaWNUb2dnbGUgPSB0b2dnbGUoe1xuICAgICAgICAgICAgbmFtZTogJ3B1YmxpYycsXG4gICAgICAgICAgICBsYWJlbDogJ2ZyZWQuZmUuYmx1ZXByaW50cy5jYXRlZ29yeV9wdWJsaWMnXG4gICAgICAgIH0sIHRoaXMuc3RhdGUuY2F0ZWdvcnkucHVibGljLCBvbkNoYW5nZSk7XG5cbiAgICAgICAgZmllbGRzLmFwcGVuZENoaWxkKG5hbWUpO1xuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQocmFuayk7XG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChwdWJsaWNUb2dnbGUpO1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZUJ1dHRvbiA9IGJ1dHRvbignZnJlZC5mZS5ibHVlcHJpbnRzLmNyZWF0ZV9jYXRlZ29yeScsICdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2NhdGVnb3J5JywgWydmcmVkLS1idG4tcGFuZWwnLCAnZnJlZC0tYnRuLWFwcGx5J10sICgpID0+IHtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nJywgZnJlZENvbmZpZy5sbmcoJ2ZyZWQuZmUuYmx1ZXByaW50cy5jcmVhdGluZ19ibHVlcHJpbnRfY2F0ZWdvcnknKSk7XG5cbiAgICAgICAgICAgIGNyZWF0ZUJsdWVwcmludENhdGVnb3J5KHRoaXMuc3RhdGUuY2F0ZWdvcnkubmFtZSwgdGhpcy5zdGF0ZS5jYXRlZ29yeS5yYW5rLCArdGhpcy5zdGF0ZS5jYXRlZ29yeS5wdWJsaWMpXG4gICAgICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLmtpbGwoJ2JsdWVwcmludHMnLCB7bmFtZTogJ2JsdWVwcmludHMnfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpY2soKS50aGVuKG5ld0NvbnRlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5yZXBsYWNlV2l0aChuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWtlLnJlbG9hZENvbnRhaW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nLWhpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZSAmJiBlcnIucmVzcG9uc2UuX2ZpZWxkcyAmJiBlcnIucmVzcG9uc2UuX2ZpZWxkcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lLm9uRXJyb3IoZXJyLnJlc3BvbnNlLl9maWVsZHMubmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1sb2FkaW5nLWhpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24pO1xuXG4gICAgICAgIHBhZ2VGb3JtLmFwcGVuZENoaWxkKGZpZWxkcyk7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlUGFnZUJ1dHRvbiA9IGR0KCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2NhdGVnb3J5JywgWydmcmVkLS1hY2NvcmRpb24tcGx1cyddLCAoZSwgZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVRhYnMgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2R0LmFjdGl2ZScpO1xuXG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHRhYiBvZiBhY3RpdmVUYWJzKSB7XG4gICAgICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtc2lkZWJhci1kdC1hY3RpdmUnLCBjcmVhdGVQYWdlQnV0dG9uLCBmb3JtV3JhcHBlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvcm1XcmFwcGVyLmFwcGVuZENoaWxkKHBhZ2VGb3JtKTtcblxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZVBhZ2VCdXR0b24pO1xuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGZvcm1XcmFwcGVyKTtcbiAgICB9XG5cbiAgICBidWlsZENyZWF0ZUJsdWVwcmludChjb250ZW50KSB7XG4gICAgICAgIGNvbnN0IGZvcm1XcmFwcGVyID0gZGQoKTtcblxuICAgICAgICBjb25zdCBwYWdlRm9ybSA9IGZvcm0oWydmcmVkLS1wYWdlc19jcmVhdGUnXSk7XG5cbiAgICAgICAgY29uc3QgZmllbGRzID0gZmllbGRTZXQoKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBsZWdlbmQoJ2ZyZWQuZmUuYmx1ZXByaW50cy5jcmVhdGVfYmx1ZXByaW50Jyk7XG5cbiAgICAgICAgY29uc3Qgb25DaGFuZ2UgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmx1ZXByaW50W25hbWVdID0gdmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25DaGFuZ2VDaG9pY2VzID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsdWVwcmludFtuYW1lXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cblxuICAgICAgICBjb25zdCBuYW1lID0gdGV4dCh7XG4gICAgICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgICAgICBsYWJlbDogJ2ZyZWQuZmUuYmx1ZXByaW50cy5ibHVlcHJpbnRfbmFtZSdcbiAgICAgICAgfSwgdGhpcy5zdGF0ZS5ibHVlcHJpbnQubmFtZSwgb25DaGFuZ2UpO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQoYXJlYSh7XG4gICAgICAgICAgICBuYW1lOiAnZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgbGFiZWw6ICdmcmVkLmZlLmJsdWVwcmludHMuYmx1ZXByaW50X2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9LCB0aGlzLnN0YXRlLmJsdWVwcmludC5kZXNjcmlwdGlvbiwgb25DaGFuZ2UpKTtcblxuICAgICAgICBjb25zdCBvbkltYWdlQ2hhbmdlID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VFbC5zZXRQcmV2aWV3KHRoaXMuc3RhdGUuYmx1ZXByaW50LmdlbmVyYXRlZEltYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibHVlcHJpbnRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBpbWFnZUVsID0gaW1hZ2Uoe1xuICAgICAgICAgICAgbmFtZTogJ2ltYWdlJyxcbiAgICAgICAgICAgIGxhYmVsOiAnZnJlZC5mZS5ibHVlcHJpbnRzLmJsdWVwcmludF9pbWFnZSdcbiAgICAgICAgfSwgdGhpcy5zdGF0ZS5ibHVlcHJpbnQuaW1hZ2UsIG9uSW1hZ2VDaGFuZ2UpO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChpbWFnZUVsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2hvaWNlcyh7XG4gICAgICAgICAgICBuYW1lOiAnY2F0ZWdvcnknLFxuICAgICAgICAgICAgbGFiZWw6IGZyZWRDb25maWcubG5nKCdmcmVkLmZlLmJsdWVwcmludHMuYmx1ZXByaW50X2NhdGVnb3J5JyksXG4gICAgICAgICAgICBjaG9pY2VzOiB7XG4gICAgICAgICAgICAgICAgY2hvaWNlcyA6IHRoaXMuY2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICBzaG91bGRTb3J0OiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLnN0YXRlLmJsdWVwcmludC5jYXRlZ29yeSwgb25DaGFuZ2VDaG9pY2VzKTtcblxuICAgICAgICBmaWVsZHMuYXBwZW5kQ2hpbGQoY2F0ZWdvcnkpO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZCh0ZXh0KHtcbiAgICAgICAgICAgIG5hbWU6ICdyYW5rJyxcbiAgICAgICAgICAgIGxhYmVsOiAnZnJlZC5mZS5ibHVlcHJpbnRzLmJsdWVwcmludF9yYW5rJ1xuICAgICAgICB9LCB0aGlzLnN0YXRlLmJsdWVwcmludC5yYW5rLCBvbkNoYW5nZSkpO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZCh0b2dnbGUoe1xuICAgICAgICAgICAgbmFtZTogJ3B1YmxpYycsXG4gICAgICAgICAgICBsYWJlbDogJ2ZyZWQuZmUuYmx1ZXByaW50cy5ibHVlcHJpbnRfcHVibGljJ1xuICAgICAgICB9LCB0aGlzLnN0YXRlLmJsdWVwcmludC5wdWJsaWMsIG9uQ2hhbmdlKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYmx1ZXByaW50LmltYWdlID09PSAnJykge1xuICAgICAgICAgICAgaHRtbDJjYW52YXMoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlnbm9yZUVsZW1lbnRzOiBlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZyZWQnKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZyZWQtLXRvb2xiYXInKSkgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGNhbnZhcyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibHVlcHJpbnQuZ2VuZXJhdGVkSW1hZ2UgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgICAgICAgICAgICAgaW1hZ2VFbC5zZXRQcmV2aWV3KHRoaXMuc3RhdGUuYmx1ZXByaW50LmdlbmVyYXRlZEltYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgY29uc3QgY3JlYXRlQnV0dG9uID0gYnV0dG9uKCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2JsdWVwcmludCcsICdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2JsdWVwcmludCcsIFsnZnJlZC0tYnRuLXBhbmVsJywgJ2ZyZWQtLWJ0bi1hcHBseSddLCAoKSA9PiB7XG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtbG9hZGluZycsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRpbmdfYmx1ZXByaW50JykpO1xuXG4gICAgICAgICAgICBjcmVhdGVCbHVlcHJpbnQodGhpcy5zdGF0ZS5ibHVlcHJpbnQubmFtZSwgdGhpcy5zdGF0ZS5ibHVlcHJpbnQuZGVzY3JpcHRpb24sIHRoaXMuc3RhdGUuYmx1ZXByaW50LmNhdGVnb3J5LCB0aGlzLnN0YXRlLmJsdWVwcmludC5yYW5rLCB0aGlzLnN0YXRlLmJsdWVwcmludC5wdWJsaWMsIGZyZWRDb25maWcuZnJlZC5nZXRDb250ZW50KCksIHRoaXMuc3RhdGUuYmx1ZXByaW50LmdlbmVyYXRlZEltYWdlLCB0aGlzLnN0YXRlLmJsdWVwcmludC5pbWFnZSwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZS5raWxsKCdibHVlcHJpbnRzJywge25hbWU6ICdibHVlcHJpbnRzJ30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGljaygpLnRoZW4obmV3Q29udGVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5yZXBsYWNlV2l0aChuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFrZS5yZWxvYWRDb250YWluZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmctaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UgJiYgZXJyLnJlc3BvbnNlLl9maWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UuX2ZpZWxkcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZS5vbkVycm9yKGVyci5yZXNwb25zZS5fZmllbGRzLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLl9maWVsZHMuY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5vbkVycm9yKGVyci5yZXNwb25zZS5fZmllbGRzLmNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLWxvYWRpbmctaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpZWxkcy5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24pO1xuXG4gICAgICAgIHBhZ2VGb3JtLmFwcGVuZENoaWxkKGZpZWxkcyk7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlUGFnZUJ1dHRvbiA9IGR0KCdmcmVkLmZlLmJsdWVwcmludHMuY3JlYXRlX2JsdWVwcmludCcsIFsnZnJlZC0tYWNjb3JkaW9uLXBsdXMnXSwgKGUsIGVsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVUYWJzID0gY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdkdC5hY3RpdmUnKTtcblxuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB0YWIgb2YgYWN0aXZlVGFicykge1xuICAgICAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXNpZGViYXItZHQtYWN0aXZlJywgY3JlYXRlUGFnZUJ1dHRvbiwgZm9ybVdyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmb3JtV3JhcHBlci5hcHBlbmRDaGlsZChwYWdlRm9ybSk7XG5cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVQYWdlQnV0dG9uKTtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChmb3JtV3JhcHBlcik7XG4gICAgfVxuXG4gICAgYWZ0ZXJFeHBhbmQoKSB7XG4gICAgICAgIGRyYWtlLnJlbG9hZENvbnRhaW5lcnMoKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9Db21wb25lbnRzL1NpZGViYXIvQmx1ZXByaW50cy9CbHVlcHJpbnRzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isVisible = exports.hide = exports.show = exports.render = undefined;\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Elements = __webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar wrapper = void 0;\n\n/**\n * @param components\n * @param onComponentAdd\n * @param onClose\n */\nvar render = exports.render = function render(components, onComponentAdd, onClose, onSave, onPreview) {\n    var buildComponents = function buildComponents() {\n        var sidebar = (0, _Elements.dl)('fred--accordion');\n\n        components.forEach(function (component) {\n            var addedComponent = new component(sidebar);\n            onComponentAdd(addedComponent);\n        });\n\n        return sidebar;\n    };\n\n    var logo = (0, _Elements.img)((_Config2.default.config.assetsUrl || '') + 'images/modx-revo-icon-48.svg', 'MODX FRED', 'fred--logo');\n    logo.setAttribute('title', _Config2.default.lng('fred.fe.close_sidebar'));\n    logo.addEventListener('click', function (e) {\n        e.preventDefault();\n        onClose();\n    });\n\n    wrapper = (0, _Elements.div)(['fred--sidebar', 'fred--hidden'], [(0, _Elements.div)('fred--sidebar_title', [logo, (0, _Elements.h1)('Fred')])]);\n\n    wrapper.appendChild(buildComponents());\n\n    var buttongroup = (0, _Elements.div)(['fred--sidebar_button-group']);\n    buttongroup.appendChild((0, _Elements.button)('', 'fred.fe.toggle_preview', ['fred--btn-sidebar', 'fred--btn-sidebar_preview'], onPreview));\n    buttongroup.appendChild((0, _Elements.button)('', 'fred.fe.close_sidebar', ['fred--btn-sidebar', 'fred--btn-sidebar_close'], onClose));\n    buttongroup.appendChild((0, _Elements.button)('', 'fred.fe.save', ['fred--btn-sidebar', 'fred--btn-sidebar_save'], onSave));\n\n    wrapper.appendChild(buttongroup);\n\n    wrapper.setAttribute('aria-hidden', 'true');\n\n    return wrapper;\n};\n\nvar show = exports.show = function show() {\n    wrapper.classList.remove('fred--hidden');\n};\n\nvar hide = exports.hide = function hide() {\n    wrapper.classList.add('fred--hidden');\n};\n\nvar isVisible = exports.isVisible = function isVisible() {\n    return !wrapper.classList.contains('fred--hidden');\n};\n\nexports.default = {\n    render: render,\n    show: show,\n    hide: hide,\n    isVisible: isVisible\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL1NpZGViYXIvU2lkZWJhclZpZXcuanM/YTNkNiJdLCJuYW1lcyI6WyJ3cmFwcGVyIiwicmVuZGVyIiwiY29tcG9uZW50cyIsIm9uQ29tcG9uZW50QWRkIiwib25DbG9zZSIsIm9uU2F2ZSIsIm9uUHJldmlldyIsImJ1aWxkQ29tcG9uZW50cyIsInNpZGViYXIiLCJmb3JFYWNoIiwiYWRkZWRDb21wb25lbnQiLCJjb21wb25lbnQiLCJsb2dvIiwiY29uZmlnIiwiYXNzZXRzVXJsIiwic2V0QXR0cmlidXRlIiwibG5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFwcGVuZENoaWxkIiwiYnV0dG9uZ3JvdXAiLCJzaG93IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaGlkZSIsImFkZCIsImlzVmlzaWJsZSIsImNvbnRhaW5zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBLElBQUlBLGdCQUFKOztBQUVBOzs7OztBQUtPLElBQU1DLDBCQUFTLFNBQVRBLE1BQVMsQ0FBQ0MsVUFBRCxFQUFhQyxjQUFiLEVBQTZCQyxPQUE3QixFQUFzQ0MsTUFBdEMsRUFBOENDLFNBQTlDLEVBQTREO0FBQzlFLFFBQU1DLGtCQUFrQixTQUFsQkEsZUFBa0IsR0FBTTtBQUMxQixZQUFNQyxVQUFVLGtCQUFHLGlCQUFILENBQWhCOztBQUVBTixtQkFBV08sT0FBWCxDQUFtQixxQkFBYTtBQUM1QixnQkFBTUMsaUJBQWlCLElBQUlDLFNBQUosQ0FBY0gsT0FBZCxDQUF2QjtBQUNBTCwyQkFBZU8sY0FBZjtBQUNILFNBSEQ7O0FBS0EsZUFBT0YsT0FBUDtBQUNILEtBVEQ7O0FBV0EsUUFBTUksT0FBTyxvQkFBTyxpQkFBV0MsTUFBWCxDQUFrQkMsU0FBbEIsSUFBK0IsRUFBdEMsb0NBQXdFLFdBQXhFLEVBQXFGLFlBQXJGLENBQWI7QUFDQUYsU0FBS0csWUFBTCxDQUFrQixPQUFsQixFQUEyQixpQkFBV0MsR0FBWCxDQUFlLHVCQUFmLENBQTNCO0FBQ0FKLFNBQUtLLGdCQUFMLENBQXNCLE9BQXRCLEVBQStCLGFBQUs7QUFDaENDLFVBQUVDLGNBQUY7QUFDQWY7QUFDSCxLQUhEOztBQUtBSixjQUFVLG1CQUFJLENBQUMsZUFBRCxFQUFrQixjQUFsQixDQUFKLEVBQXVDLENBQzdDLG1CQUFJLHFCQUFKLEVBQTJCLENBQ3ZCWSxJQUR1QixFQUV2QixrQkFBRyxNQUFILENBRnVCLENBQTNCLENBRDZDLENBQXZDLENBQVY7O0FBT0FaLFlBQVFvQixXQUFSLENBQW9CYixpQkFBcEI7O0FBRUEsUUFBTWMsY0FBYyxtQkFBSSxDQUFDLDRCQUFELENBQUosQ0FBcEI7QUFDQUEsZ0JBQVlELFdBQVosQ0FBd0Isc0JBQU8sRUFBUCxFQUFXLHdCQUFYLEVBQXFDLENBQUMsbUJBQUQsRUFBc0IsMkJBQXRCLENBQXJDLEVBQXlGZCxTQUF6RixDQUF4QjtBQUNBZSxnQkFBWUQsV0FBWixDQUF3QixzQkFBTyxFQUFQLEVBQVcsdUJBQVgsRUFBb0MsQ0FBQyxtQkFBRCxFQUFzQix5QkFBdEIsQ0FBcEMsRUFBc0ZoQixPQUF0RixDQUF4QjtBQUNBaUIsZ0JBQVlELFdBQVosQ0FBd0Isc0JBQU8sRUFBUCxFQUFXLGNBQVgsRUFBMkIsQ0FBQyxtQkFBRCxFQUFzQix3QkFBdEIsQ0FBM0IsRUFBNEVmLE1BQTVFLENBQXhCOztBQUVBTCxZQUFRb0IsV0FBUixDQUFvQkMsV0FBcEI7O0FBRUFyQixZQUFRZSxZQUFSLENBQXFCLGFBQXJCLEVBQW9DLE1BQXBDOztBQUVBLFdBQU9mLE9BQVA7QUFDSCxDQXRDTTs7QUF3Q0EsSUFBTXNCLHNCQUFPLFNBQVBBLElBQU8sR0FBTTtBQUN0QnRCLFlBQVF1QixTQUFSLENBQWtCQyxNQUFsQixDQUF5QixjQUF6QjtBQUNILENBRk07O0FBSUEsSUFBTUMsc0JBQU8sU0FBUEEsSUFBTyxHQUFNO0FBQ3RCekIsWUFBUXVCLFNBQVIsQ0FBa0JHLEdBQWxCLENBQXNCLGNBQXRCO0FBQ0gsQ0FGTTs7QUFJQSxJQUFNQyxnQ0FBWSxTQUFaQSxTQUFZLEdBQU07QUFDM0IsV0FBTyxDQUFDM0IsUUFBUXVCLFNBQVIsQ0FBa0JLLFFBQWxCLENBQTJCLGNBQTNCLENBQVI7QUFDSCxDQUZNOztrQkFJUTtBQUNYM0Isa0JBRFc7QUFFWHFCLGNBRlc7QUFHWEcsY0FIVztBQUlYRTtBQUpXLEMiLCJmaWxlIjoiMTE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZyZWRDb25maWcgZnJvbSAnLi8uLi9Db25maWcnO1xuaW1wb3J0IHsgZGl2LCBpbWcsIGgxLCBkbCwgYnV0dG9uIH0gZnJvbSAnLi8uLi9VSS9FbGVtZW50cyc7XG5cbmxldCB3cmFwcGVyO1xuXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnRzXG4gKiBAcGFyYW0gb25Db21wb25lbnRBZGRcbiAqIEBwYXJhbSBvbkNsb3NlXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAoY29tcG9uZW50cywgb25Db21wb25lbnRBZGQsIG9uQ2xvc2UsIG9uU2F2ZSwgb25QcmV2aWV3KSA9PiB7XG4gICAgY29uc3QgYnVpbGRDb21wb25lbnRzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzaWRlYmFyID0gZGwoJ2ZyZWQtLWFjY29yZGlvbicpO1xuXG4gICAgICAgIGNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRkZWRDb21wb25lbnQgPSBuZXcgY29tcG9uZW50KHNpZGViYXIpO1xuICAgICAgICAgICAgb25Db21wb25lbnRBZGQoYWRkZWRDb21wb25lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzaWRlYmFyO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgbG9nbyA9IGltZyhgJHtmcmVkQ29uZmlnLmNvbmZpZy5hc3NldHNVcmwgfHwgJyd9aW1hZ2VzL21vZHgtcmV2by1pY29uLTQ4LnN2Z2AsICdNT0RYIEZSRUQnLCAnZnJlZC0tbG9nbycpO1xuICAgIGxvZ28uc2V0QXR0cmlidXRlKCd0aXRsZScsIGZyZWRDb25maWcubG5nKCdmcmVkLmZlLmNsb3NlX3NpZGViYXInKSk7XG4gICAgbG9nby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIG9uQ2xvc2UoKTtcbiAgICB9KTtcbiAgICBcbiAgICB3cmFwcGVyID0gZGl2KFsnZnJlZC0tc2lkZWJhcicsICdmcmVkLS1oaWRkZW4nXSwgW1xuICAgICAgICBkaXYoJ2ZyZWQtLXNpZGViYXJfdGl0bGUnLCBbXG4gICAgICAgICAgICBsb2dvLFxuICAgICAgICAgICAgaDEoJ0ZyZWQnKVxuICAgICAgICBdKVxuICAgIF0pO1xuICAgIFxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYnVpbGRDb21wb25lbnRzKCkpO1xuXG4gICAgY29uc3QgYnV0dG9uZ3JvdXAgPSBkaXYoWydmcmVkLS1zaWRlYmFyX2J1dHRvbi1ncm91cCddKVxuICAgIGJ1dHRvbmdyb3VwLmFwcGVuZENoaWxkKGJ1dHRvbignJywgJ2ZyZWQuZmUudG9nZ2xlX3ByZXZpZXcnLCBbJ2ZyZWQtLWJ0bi1zaWRlYmFyJywgJ2ZyZWQtLWJ0bi1zaWRlYmFyX3ByZXZpZXcnXSwgb25QcmV2aWV3KSk7XG4gICAgYnV0dG9uZ3JvdXAuYXBwZW5kQ2hpbGQoYnV0dG9uKCcnLCAnZnJlZC5mZS5jbG9zZV9zaWRlYmFyJywgWydmcmVkLS1idG4tc2lkZWJhcicsICdmcmVkLS1idG4tc2lkZWJhcl9jbG9zZSddLCBvbkNsb3NlKSk7XG4gICAgYnV0dG9uZ3JvdXAuYXBwZW5kQ2hpbGQoYnV0dG9uKCcnLCAnZnJlZC5mZS5zYXZlJywgWydmcmVkLS1idG4tc2lkZWJhcicsICdmcmVkLS1idG4tc2lkZWJhcl9zYXZlJ10sIG9uU2F2ZSkpO1xuXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChidXR0b25ncm91cCk7XG4gIFxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBzaG93ID0gKCkgPT4ge1xuICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0taGlkZGVuJyk7XG59O1xuXG5leHBvcnQgY29uc3QgaGlkZSA9ICgpID0+IHtcbiAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2ZyZWQtLWhpZGRlbicpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVmlzaWJsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gIXdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdmcmVkLS1oaWRkZW4nKVxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHJlbmRlcixcbiAgICBzaG93LFxuICAgIGhpZGUsXG4gICAgaXNWaXNpYmxlXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvU2lkZWJhci9TaWRlYmFyVmlldy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EE = __webpack_require__(1);\n\nvar _EE2 = _interopRequireDefault(_EE);\n\nvar _Elements = __webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Launcher = function () {\n    function Launcher() {\n        var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'bottom_left';\n\n        _classCallCheck(this, Launcher);\n\n        this.position = position;\n        this.previewMode = false;\n        this.hidden = false;\n\n        this.render();\n    }\n\n    _createClass(Launcher, [{\n        key: 'render',\n        value: function render() {\n            var _this = this;\n\n            var wrapper = (0, _Elements.div)(['fred--launcher', 'fred--launcher_' + this.position]);\n\n            var fred = (0, _Elements.button)('', 'fred.fe.open_sidebar', ['fred--launcher_btn', 'fred--launcher_btn_fred'], function () {\n                _EE2.default.emit('fred-sidebar-toggle');\n            });\n\n            var save = (0, _Elements.button)('', 'fred.fe.save', ['fred--launcher_btn', 'fred--launcher_btn_save'], function () {\n                _EE2.default.emit('fred-save');\n            });\n\n            var preview = (0, _Elements.button)('', 'fred.fe.toggle_preview', ['fred--launcher_btn', 'fred--launcher_btn_preview'], function () {\n                if (_this.previewMode === false) {\n                    _EE2.default.emit('fred-preview-on');\n                } else {\n                    _EE2.default.emit('fred-preview-off');\n                }\n            });\n\n            var element = (0, _Elements.button)('', 'fred.fe.elements', ['fred--launcher_btn', 'fred--launcher_btn_elements'], function () {\n                _EE2.default.emit('fred-sidebar-toggle');\n                var elements = document.querySelectorAll(\"dt.fred--sidebar_elements\")[0];\n                if (!elements.classList.contains('active')) {\n                    elements.click();\n                }\n            });\n\n            wrapper.appendChild(fred);\n            wrapper.appendChild(save);\n            wrapper.appendChild(preview);\n            wrapper.appendChild(element);\n\n            _EE2.default.on('fred-sidebar-hide', function (silent) {\n                if (silent !== true) {\n                    _this.hidden = false;\n                    wrapper.classList.remove('fred--hidden');\n                }\n            });\n\n            _EE2.default.on('fred-sidebar-show', function (silent) {\n                if (silent !== true) {\n                    _this.hidden = true;\n                    wrapper.classList.add('fred--hidden');\n                }\n            });\n\n            _EE2.default.on('fred-preview-on', function () {\n                _this.previewMode = true;\n                wrapper.style.zIndex = '9999999999';\n                fred.style.display = 'none';\n                save.style.display = 'none';\n                preview.classList.add('active');\n\n                if (_this.hidden) {\n                    wrapper.classList.remove('fred--hidden');\n                }\n            });\n\n            _EE2.default.on('fred-preview-off', function () {\n                _this.previewMode = false;\n                wrapper.style.zIndex = '';\n                fred.style.display = '';\n                save.style.display = '';\n                preview.classList.remove('active');\n\n                if (_this.hidden) {\n                    wrapper.classList.add('fred--hidden');\n                }\n            });\n\n            _EE2.default.emit('fred-wrapper-insert', wrapper);\n        }\n    }]);\n\n    return Launcher;\n}();\n\nexports.default = Launcher;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0xhdW5jaGVyLmpzPzUxZDkiXSwibmFtZXMiOlsiTGF1bmNoZXIiLCJwb3NpdGlvbiIsInByZXZpZXdNb2RlIiwiaGlkZGVuIiwicmVuZGVyIiwid3JhcHBlciIsImZyZWQiLCJlbWl0Iiwic2F2ZSIsInByZXZpZXciLCJlbGVtZW50IiwiZWxlbWVudHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImNsaWNrIiwiYXBwZW5kQ2hpbGQiLCJvbiIsInNpbGVudCIsInJlbW92ZSIsImFkZCIsInN0eWxlIiwiekluZGV4IiwiZGlzcGxheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7SUFFcUJBLFE7QUFDakIsd0JBQXNDO0FBQUEsWUFBMUJDLFFBQTBCLHVFQUFmLGFBQWU7O0FBQUE7O0FBQ2xDLGFBQUtBLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsYUFBS0MsV0FBTCxHQUFtQixLQUFuQjtBQUNBLGFBQUtDLE1BQUwsR0FBYyxLQUFkOztBQUVBLGFBQUtDLE1BQUw7QUFDSDs7OztpQ0FFUTtBQUFBOztBQUNMLGdCQUFNQyxVQUFVLG1CQUFJLENBQUMsZ0JBQUQsc0JBQXFDLEtBQUtKLFFBQTFDLENBQUosQ0FBaEI7O0FBRUEsZ0JBQU1LLE9BQU8sc0JBQU8sRUFBUCxFQUFXLHNCQUFYLEVBQW1DLENBQUMsb0JBQUQsRUFBdUIseUJBQXZCLENBQW5DLEVBQXNGLFlBQU07QUFDckcsNkJBQVFDLElBQVIsQ0FBYSxxQkFBYjtBQUNILGFBRlksQ0FBYjs7QUFJQSxnQkFBTUMsT0FBTyxzQkFBTyxFQUFQLEVBQVcsY0FBWCxFQUEyQixDQUFDLG9CQUFELEVBQXVCLHlCQUF2QixDQUEzQixFQUE4RSxZQUFNO0FBQzdGLDZCQUFRRCxJQUFSLENBQWEsV0FBYjtBQUNILGFBRlksQ0FBYjs7QUFJQSxnQkFBTUUsVUFBVSxzQkFBTyxFQUFQLEVBQVcsd0JBQVgsRUFBcUMsQ0FBQyxvQkFBRCxFQUF1Qiw0QkFBdkIsQ0FBckMsRUFBMkYsWUFBTTtBQUM3RyxvQkFBSSxNQUFLUCxXQUFMLEtBQXFCLEtBQXpCLEVBQWdDO0FBQzVCLGlDQUFRSyxJQUFSLENBQWEsaUJBQWI7QUFDSCxpQkFGRCxNQUVPO0FBQ0gsaUNBQVFBLElBQVIsQ0FBYSxrQkFBYjtBQUNIO0FBQ0osYUFOZSxDQUFoQjs7QUFRQSxnQkFBTUcsVUFBVSxzQkFBTyxFQUFQLEVBQVcsa0JBQVgsRUFBK0IsQ0FBQyxvQkFBRCxFQUF1Qiw2QkFBdkIsQ0FBL0IsRUFBc0YsWUFBTTtBQUN4Ryw2QkFBUUgsSUFBUixDQUFhLHFCQUFiO0FBQ0Esb0JBQUlJLFdBQVdDLFNBQVNDLGdCQUFULENBQTBCLDJCQUExQixFQUF1RCxDQUF2RCxDQUFmO0FBQ0Esb0JBQUcsQ0FBQ0YsU0FBU0csU0FBVCxDQUFtQkMsUUFBbkIsQ0FBNEIsUUFBNUIsQ0FBSixFQUEwQztBQUN0Q0osNkJBQVNLLEtBQVQ7QUFDSDtBQUNKLGFBTmUsQ0FBaEI7O0FBUUFYLG9CQUFRWSxXQUFSLENBQW9CWCxJQUFwQjtBQUNBRCxvQkFBUVksV0FBUixDQUFvQlQsSUFBcEI7QUFDQUgsb0JBQVFZLFdBQVIsQ0FBb0JSLE9BQXBCO0FBQ0FKLG9CQUFRWSxXQUFSLENBQW9CUCxPQUFwQjs7QUFFQSx5QkFBUVEsRUFBUixDQUFXLG1CQUFYLEVBQWdDLGtCQUFVO0FBQ3RDLG9CQUFJQyxXQUFXLElBQWYsRUFBcUI7QUFDakIsMEJBQUtoQixNQUFMLEdBQWMsS0FBZDtBQUNBRSw0QkFBUVMsU0FBUixDQUFrQk0sTUFBbEIsQ0FBeUIsY0FBekI7QUFDSDtBQUNKLGFBTEQ7O0FBT0EseUJBQVFGLEVBQVIsQ0FBVyxtQkFBWCxFQUFnQyxrQkFBVTtBQUN0QyxvQkFBSUMsV0FBVyxJQUFmLEVBQXFCO0FBQ2pCLDBCQUFLaEIsTUFBTCxHQUFjLElBQWQ7QUFDQUUsNEJBQVFTLFNBQVIsQ0FBa0JPLEdBQWxCLENBQXNCLGNBQXRCO0FBQ0g7QUFDSixhQUxEOztBQU9BLHlCQUFRSCxFQUFSLENBQVcsaUJBQVgsRUFBOEIsWUFBTTtBQUNoQyxzQkFBS2hCLFdBQUwsR0FBbUIsSUFBbkI7QUFDQUcsd0JBQVFpQixLQUFSLENBQWNDLE1BQWQsR0FBdUIsWUFBdkI7QUFDQWpCLHFCQUFLZ0IsS0FBTCxDQUFXRSxPQUFYLEdBQXFCLE1BQXJCO0FBQ0FoQixxQkFBS2MsS0FBTCxDQUFXRSxPQUFYLEdBQXFCLE1BQXJCO0FBQ0FmLHdCQUFRSyxTQUFSLENBQWtCTyxHQUFsQixDQUFzQixRQUF0Qjs7QUFFQSxvQkFBSSxNQUFLbEIsTUFBVCxFQUFpQjtBQUNiRSw0QkFBUVMsU0FBUixDQUFrQk0sTUFBbEIsQ0FBeUIsY0FBekI7QUFDSDtBQUNKLGFBVkQ7O0FBWUEseUJBQVFGLEVBQVIsQ0FBVyxrQkFBWCxFQUErQixZQUFNO0FBQ2pDLHNCQUFLaEIsV0FBTCxHQUFtQixLQUFuQjtBQUNBRyx3QkFBUWlCLEtBQVIsQ0FBY0MsTUFBZCxHQUF1QixFQUF2QjtBQUNBakIscUJBQUtnQixLQUFMLENBQVdFLE9BQVgsR0FBcUIsRUFBckI7QUFDQWhCLHFCQUFLYyxLQUFMLENBQVdFLE9BQVgsR0FBcUIsRUFBckI7QUFDQWYsd0JBQVFLLFNBQVIsQ0FBa0JNLE1BQWxCLENBQXlCLFFBQXpCOztBQUVBLG9CQUFJLE1BQUtqQixNQUFULEVBQWlCO0FBQ2JFLDRCQUFRUyxTQUFSLENBQWtCTyxHQUFsQixDQUFzQixjQUF0QjtBQUNIO0FBQ0osYUFWRDs7QUFZQSx5QkFBUWQsSUFBUixDQUFhLHFCQUFiLEVBQW9DRixPQUFwQztBQUNIOzs7Ozs7a0JBaEZnQkwsUSIsImZpbGUiOiIxMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW1pdHRlciBmcm9tICcuL0VFJztcbmltcG9ydCB7IGRpdiwgYnV0dG9uIH0gZnJvbSAnLi9VSS9FbGVtZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhdW5jaGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbiA9ICdib3R0b21fbGVmdCcpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLnByZXZpZXdNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgICBcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkaXYoWydmcmVkLS1sYXVuY2hlcicsIGBmcmVkLS1sYXVuY2hlcl8ke3RoaXMucG9zaXRpb259YF0pO1xuXG4gICAgICAgIGNvbnN0IGZyZWQgPSBidXR0b24oJycsICdmcmVkLmZlLm9wZW5fc2lkZWJhcicsIFsnZnJlZC0tbGF1bmNoZXJfYnRuJywgJ2ZyZWQtLWxhdW5jaGVyX2J0bl9mcmVkJ10sICgpID0+IHtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1zaWRlYmFyLXRvZ2dsZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzYXZlID0gYnV0dG9uKCcnLCAnZnJlZC5mZS5zYXZlJywgWydmcmVkLS1sYXVuY2hlcl9idG4nLCAnZnJlZC0tbGF1bmNoZXJfYnRuX3NhdmUnXSwgKCkgPT4ge1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXNhdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwcmV2aWV3ID0gYnV0dG9uKCcnLCAnZnJlZC5mZS50b2dnbGVfcHJldmlldycsIFsnZnJlZC0tbGF1bmNoZXJfYnRuJywgJ2ZyZWQtLWxhdW5jaGVyX2J0bl9wcmV2aWV3J10sICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpZXdNb2RlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1wcmV2aWV3LW9uJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZnJlZC1wcmV2aWV3LW9mZicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBlbGVtZW50ID0gYnV0dG9uKCcnLCAnZnJlZC5mZS5lbGVtZW50cycsIFsnZnJlZC0tbGF1bmNoZXJfYnRuJywgJ2ZyZWQtLWxhdW5jaGVyX2J0bl9lbGVtZW50cyddLCAoKSA9PiB7XG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2ZyZWQtc2lkZWJhci10b2dnbGUnKTtcbiAgICAgICAgICAgIGxldCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkdC5mcmVkLS1zaWRlYmFyX2VsZW1lbnRzXCIpWzBdO1xuICAgICAgICAgICAgaWYoIWVsZW1lbnRzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChmcmVkKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChzYXZlKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChwcmV2aWV3KTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgICAgICBlbWl0dGVyLm9uKCdmcmVkLXNpZGViYXItaGlkZScsIHNpbGVudCA9PiB7XG4gICAgICAgICAgICBpZiAoc2lsZW50ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZyZWQtLWhpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBlbWl0dGVyLm9uKCdmcmVkLXNpZGViYXItc2hvdycsIHNpbGVudCA9PiB7XG4gICAgICAgICAgICBpZiAoc2lsZW50ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZnJlZC0taGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZW1pdHRlci5vbignZnJlZC1wcmV2aWV3LW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3TW9kZSA9IHRydWU7XG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLnpJbmRleCA9ICc5OTk5OTk5OTk5JztcbiAgICAgICAgICAgIGZyZWQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHNhdmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHByZXZpZXcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnZnJlZC0taGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZW1pdHRlci5vbignZnJlZC1wcmV2aWV3LW9mZicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJldmlld01vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUuekluZGV4ID0gJyc7XG4gICAgICAgICAgICBmcmVkLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgIHNhdmUuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgcHJldmlldy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdmcmVkLS1oaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZW1pdHRlci5lbWl0KCdmcmVkLXdyYXBwZXItaW5zZXJ0Jywgd3JhcHBlcik7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL19idWlsZC9hc3NldHMvanMvTGF1bmNoZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 118 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _choices = __webpack_require__(15);\n\nvar _choices2 = _interopRequireDefault(_choices);\n\nvar _flatpickr = __webpack_require__(14);\n\nvar _flatpickr2 = _interopRequireDefault(_flatpickr);\n\nvar _ColorPicker = __webpack_require__(16);\n\nvar _ColorPicker2 = _interopRequireDefault(_ColorPicker);\n\nvar _nouislider = __webpack_require__(18);\n\nvar _nouislider2 = _interopRequireDefault(_nouislider);\n\nvar _isomorphicFetch = __webpack_require__(36);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar libs = {\n    Choices: _choices2.default,\n    flatpickr: _flatpickr2.default,\n    ColorPicker: _ColorPicker2.default,\n    noUiSlider: _nouislider2.default,\n    fetch: _isomorphicFetch2.default\n};\n\nexports.default = libs;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL2xpYnMuanM/OGIyYSJdLCJuYW1lcyI6WyJsaWJzIiwiQ2hvaWNlcyIsImZsYXRwaWNrciIsIkNvbG9yUGlja2VyIiwibm9VaVNsaWRlciIsImZldGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxPQUFPO0FBQ1RDLDhCQURTO0FBRVRDLGtDQUZTO0FBR1RDLHNDQUhTO0FBSVRDLG9DQUpTO0FBS1RDO0FBTFMsQ0FBYjs7a0JBUWVMLEkiLCJmaWxlIjoiMTE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENob2ljZXMgZnJvbSAnY2hvaWNlcy5qcyc7XG5pbXBvcnQgZmxhdHBpY2tyIGZyb20gXCJmbGF0cGlja3JcIjtcbmltcG9ydCBDb2xvclBpY2tlciBmcm9tICcuL0NvbG9yUGlja2VyL0NvbG9yUGlja2VyJztcbmltcG9ydCBub1VpU2xpZGVyIGZyb20gJ25vdWlzbGlkZXInO1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtZmV0Y2gnO1xuXG5jb25zdCBsaWJzID0ge1xuICAgIENob2ljZXMsXG4gICAgZmxhdHBpY2tyLFxuICAgIENvbG9yUGlja2VyLFxuICAgIG5vVWlTbGlkZXIsXG4gICAgZmV0Y2hcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxpYnM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9saWJzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 119 */
/***/ (function(module, exports) {

	eval("(function(a){var c={},d=a.prototype.stopCallback;a.prototype.stopCallback=function(e,b,a,f){return this.paused?!0:c[a]||c[f]?!1:d.call(this,e,b,a)};a.prototype.bindGlobal=function(a,b,d){this.bind(a,b,d);if(a instanceof Array)for(b=0;b<a.length;b++)c[a[b]]=!0;else c[a]=!0};a.init()})(Mousetrap);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L21vdXNldHJhcC9wbHVnaW5zL2dsb2JhbC1iaW5kL21vdXNldHJhcC1nbG9iYWwtYmluZC5taW4uanM/MGJiNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxhQUFhLFFBQVEsNEJBQTRCLDJDQUEyQyx3REFBd0QsdUNBQXVDLGlCQUFpQiw4QkFBOEIsV0FBVyxlQUFlLGNBQWMsU0FBUyIsImZpbGUiOiIxMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oYSl7dmFyIGM9e30sZD1hLnByb3RvdHlwZS5zdG9wQ2FsbGJhY2s7YS5wcm90b3R5cGUuc3RvcENhbGxiYWNrPWZ1bmN0aW9uKGUsYixhLGYpe3JldHVybiB0aGlzLnBhdXNlZD8hMDpjW2FdfHxjW2ZdPyExOmQuY2FsbCh0aGlzLGUsYixhKX07YS5wcm90b3R5cGUuYmluZEdsb2JhbD1mdW5jdGlvbihhLGIsZCl7dGhpcy5iaW5kKGEsYixkKTtpZihhIGluc3RhbmNlb2YgQXJyYXkpZm9yKGI9MDtiPGEubGVuZ3RoO2IrKyljW2FbYl1dPSEwO2Vsc2UgY1thXT0hMH07YS5pbml0KCl9KShNb3VzZXRyYXApO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21vdXNldHJhcC9wbHVnaW5zL2dsb2JhbC1iaW5kL21vdXNldHJhcC1nbG9iYWwtYmluZC5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDExOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fetchLexicons = exports.fetchContent = exports.saveContent = exports.getPreview = undefined;\n\nvar _Config = __webpack_require__(6);\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _isomorphicFetch = __webpack_require__(36);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _Utils = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getPreview = exports.getPreview = function getPreview() {\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.resource.previewUrl, {\n        credentials: 'same-origin'\n    }).then(function (response) {\n        return response.text();\n    });\n};\n\nvar saveContent = exports.saveContent = function saveContent(body) {\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=save-content\", {\n        method: \"post\",\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n    }).then(_Utils.errorHandler);\n};\n\nvar fetchContent = exports.fetchContent = function fetchContent() {\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=load-content&id=\" + _Config2.default.config.resource.id, {\n        credentials: 'same-origin'\n    }).then(function (response) {\n        return response.json();\n    });\n};\n\nvar fetchLexicons = exports.fetchLexicons = function fetchLexicons(topics) {\n    return (0, _isomorphicFetch2.default)(_Config2.default.config.assetsUrl + \"endpoints/ajax.php?action=load-lexicons\" + topics, {\n        method: \"get\",\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }).then(function (response) {\n        return response.json();\n    });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fYnVpbGQvYXNzZXRzL2pzL0FjdGlvbnMvZnJlZC5qcz9hMWYyIl0sIm5hbWVzIjpbImdldFByZXZpZXciLCJjb25maWciLCJyZXNvdXJjZSIsInByZXZpZXdVcmwiLCJjcmVkZW50aWFscyIsInRoZW4iLCJyZXNwb25zZSIsInRleHQiLCJzYXZlQ29udGVudCIsImFzc2V0c1VybCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoQ29udGVudCIsImlkIiwianNvbiIsImZldGNoTGV4aWNvbnMiLCJ0b3BpY3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFTyxJQUFNQSxrQ0FBYSxTQUFiQSxVQUFhLEdBQU07QUFDNUIsV0FBTywrQkFBTSxpQkFBV0MsTUFBWCxDQUFrQkMsUUFBbEIsQ0FBMkJDLFVBQWpDLEVBQTZDO0FBQ2hEQyxxQkFBYTtBQURtQyxLQUE3QyxFQUVKQyxJQUZJLENBRUMsb0JBQVk7QUFDaEIsZUFBT0MsU0FBU0MsSUFBVCxFQUFQO0FBQ0gsS0FKTSxDQUFQO0FBS0gsQ0FOTTs7QUFRQSxJQUFNQyxvQ0FBYyxTQUFkQSxXQUFjLE9BQVE7QUFDL0IsV0FBTywrQkFBUyxpQkFBV1AsTUFBWCxDQUFrQlEsU0FBM0IsNkNBQThFO0FBQ2pGQyxnQkFBUSxNQUR5RTtBQUVqRk4scUJBQWEsYUFGb0U7QUFHakZPLGlCQUFTO0FBQ0wsNEJBQWdCO0FBRFgsU0FId0U7QUFNakZDLGNBQU1DLEtBQUtDLFNBQUwsQ0FBZUYsSUFBZjtBQU4yRSxLQUE5RSxFQU9KUCxJQVBJLHFCQUFQO0FBUUgsQ0FUTTs7QUFXQSxJQUFNVSxzQ0FBZSxTQUFmQSxZQUFlLEdBQU07QUFDOUIsV0FBTywrQkFBUyxpQkFBV2QsTUFBWCxDQUFrQlEsU0FBM0Isa0RBQWlGLGlCQUFXUixNQUFYLENBQWtCQyxRQUFsQixDQUEyQmMsRUFBNUcsRUFBa0g7QUFDckhaLHFCQUFhO0FBRHdHLEtBQWxILEVBRUpDLElBRkksQ0FFQyxvQkFBWTtBQUNoQixlQUFPQyxTQUFTVyxJQUFULEVBQVA7QUFDSCxLQUpNLENBQVA7QUFLSCxDQU5NOztBQVFBLElBQU1DLHdDQUFnQixTQUFoQkEsYUFBZ0IsU0FBVTtBQUNuQyxXQUFPLCtCQUFTLGlCQUFXakIsTUFBWCxDQUFrQlEsU0FBM0IsK0NBQThFVSxNQUE5RSxFQUF3RjtBQUMzRlQsZ0JBQVEsS0FEbUY7QUFFM0ZOLHFCQUFhLGFBRjhFO0FBRzNGTyxpQkFBUztBQUNMLDRCQUFnQjtBQURYO0FBSGtGLEtBQXhGLEVBTUpOLElBTkksQ0FNQyxvQkFBWTtBQUNoQixlQUFPQyxTQUFTVyxJQUFULEVBQVA7QUFDSCxLQVJNLENBQVA7QUFTSCxDQVZNIiwiZmlsZSI6IjEyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcmVkQ29uZmlnIGZyb20gXCIuLi9Db25maWdcIjtcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy1mZXRjaFwiO1xuaW1wb3J0IHtlcnJvckhhbmRsZXJ9IGZyb20gXCIuLi9VdGlsc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJldmlldyA9ICgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goZnJlZENvbmZpZy5jb25maWcucmVzb3VyY2UucHJldmlld1VybCwge1xuICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgIH0pXG59O1xuXG5leHBvcnQgY29uc3Qgc2F2ZUNvbnRlbnQgPSBib2R5ID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7ZnJlZENvbmZpZy5jb25maWcuYXNzZXRzVXJsfWVuZHBvaW50cy9hamF4LnBocD9hY3Rpb249c2F2ZS1jb250ZW50YCwge1xuICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pLnRoZW4oZXJyb3JIYW5kbGVyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaENvbnRlbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGAke2ZyZWRDb25maWcuY29uZmlnLmFzc2V0c1VybH1lbmRwb2ludHMvYWpheC5waHA/YWN0aW9uPWxvYWQtY29udGVudCZpZD0ke2ZyZWRDb25maWcuY29uZmlnLnJlc291cmNlLmlkfWAsIHtcbiAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoTGV4aWNvbnMgPSB0b3BpY3MgPT4ge1xuICAgIHJldHVybiBmZXRjaChgJHtmcmVkQ29uZmlnLmNvbmZpZy5hc3NldHNVcmx9ZW5kcG9pbnRzL2FqYXgucGhwP2FjdGlvbj1sb2FkLWxleGljb25zJHt0b3BpY3N9YCwge1xuICAgICAgICBtZXRob2Q6IFwiZ2V0XCIsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH1cbiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KTtcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vX2J1aWxkL2Fzc2V0cy9qcy9BY3Rpb25zL2ZyZWQuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ })
/******/ ])
});
;